/* empty css            */var PZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function MT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var U0={exports:{}},Mc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kS;function M5(){if(kS)return Mc;kS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,r,i){var l=null;if(i!==void 0&&(l=""+i),r.key!==void 0&&(l=""+r.key),"key"in r){i={};for(var u in r)u!=="key"&&(i[u]=r[u])}else i=r;return r=i.ref,{$$typeof:t,type:s,key:l,ref:r!==void 0?r:null,props:i}}return Mc.Fragment=e,Mc.jsx=n,Mc.jsxs=n,Mc}var ES;function A5(){return ES||(ES=1,U0.exports=M5()),U0.exports}var o=A5();function AT(t,e){return function(){return t.apply(e,arguments)}}const{toString:_5}=Object.prototype,{getPrototypeOf:Ob}=Object,{iterator:Op,toStringTag:_T}=Symbol,Rp=(t=>e=>{const n=_5.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ls=t=>(t=t.toLowerCase(),e=>Rp(e)===t),Lp=t=>e=>typeof e===t,{isArray:Sl}=Array,ul=Lp("undefined");function Uu(t){return t!==null&&!ul(t)&&t.constructor!==null&&!ul(t.constructor)&&Mn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const DT=Ls("ArrayBuffer");function D5(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&DT(t.buffer),e}const O5=Lp("string"),Mn=Lp("function"),OT=Lp("number"),$u=t=>t!==null&&typeof t=="object",R5=t=>t===!0||t===!1,sh=t=>{if(Rp(t)!=="object")return!1;const e=Ob(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(_T in t)&&!(Op in t)},L5=t=>{if(!$u(t)||Uu(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},P5=Ls("Date"),B5=Ls("File"),z5=Ls("Blob"),I5=Ls("FileList"),V5=t=>$u(t)&&Mn(t.pipe),U5=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Mn(t.append)&&((e=Rp(t))==="formdata"||e==="object"&&Mn(t.toString)&&t.toString()==="[object FormData]"))},$5=Ls("URLSearchParams"),[F5,q5,H5,K5]=["ReadableStream","Request","Response","Headers"].map(Ls),G5=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),Sl(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{if(Uu(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),l=i.length;let u;for(s=0;s<l;s++)u=i[s],e.call(null,t[u],u,t)}}function RT(t,e){if(Uu(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const Ca=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,LT=t=>!ul(t)&&t!==Ca;function cy(){const{caseless:t,skipUndefined:e}=LT(this)&&this||{},n={},s=(r,i)=>{const l=t&&RT(n,i)||i;sh(n[l])&&sh(r)?n[l]=cy(n[l],r):sh(r)?n[l]=cy({},r):Sl(r)?n[l]=r.slice():(!e||!ul(r))&&(n[l]=r)};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Fu(arguments[r],s);return n}const Q5=(t,e,n,{allOwnKeys:s}={})=>(Fu(e,(r,i)=>{n&&Mn(r)?t[i]=AT(r,n):t[i]=r},{allOwnKeys:s}),t),Y5=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),J5=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},X5=(t,e,n,s)=>{let r,i,l;const u={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)l=r[i],(!s||s(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=n!==!1&&Ob(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},W5=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},Z5=t=>{if(!t)return null;if(Sl(t))return t;let e=t.length;if(!OT(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},eR=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ob(Uint8Array)),tR=(t,e)=>{const s=(t&&t[Op]).call(t);let r;for(;(r=s.next())&&!r.done;){const i=r.value;e.call(t,i[0],i[1])}},nR=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},sR=Ls("HTMLFormElement"),rR=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),TS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),iR=Ls("RegExp"),PT=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};Fu(n,(r,i)=>{let l;(l=e(r,i,t))!==!1&&(s[i]=l||r)}),Object.defineProperties(t,s)},aR=t=>{PT(t,(e,n)=>{if(Mn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(Mn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},oR=(t,e)=>{const n={},s=r=>{r.forEach(i=>{n[i]=!0})};return Sl(t)?s(t):s(String(t).split(e)),n},lR=()=>{},cR=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function uR(t){return!!(t&&Mn(t.append)&&t[_T]==="FormData"&&t[Op])}const dR=t=>{const e=new Array(10),n=(s,r)=>{if($u(s)){if(e.indexOf(s)>=0)return;if(Uu(s))return s;if(!("toJSON"in s)){e[r]=s;const i=Sl(s)?[]:{};return Fu(s,(l,u)=>{const d=n(l,r+1);!ul(d)&&(i[u]=d)}),e[r]=void 0,i}}return s};return n(t,0)},fR=Ls("AsyncFunction"),hR=t=>t&&($u(t)||Mn(t))&&Mn(t.then)&&Mn(t.catch),BT=((t,e)=>t?setImmediate:e?((n,s)=>(Ca.addEventListener("message",({source:r,data:i})=>{r===Ca&&i===n&&s.length&&s.shift()()},!1),r=>{s.push(r),Ca.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Mn(Ca.postMessage)),pR=typeof queueMicrotask<"u"?queueMicrotask.bind(Ca):typeof process<"u"&&process.nextTick||BT,mR=t=>t!=null&&Mn(t[Op]),W={isArray:Sl,isArrayBuffer:DT,isBuffer:Uu,isFormData:U5,isArrayBufferView:D5,isString:O5,isNumber:OT,isBoolean:R5,isObject:$u,isPlainObject:sh,isEmptyObject:L5,isReadableStream:F5,isRequest:q5,isResponse:H5,isHeaders:K5,isUndefined:ul,isDate:P5,isFile:B5,isBlob:z5,isRegExp:iR,isFunction:Mn,isStream:V5,isURLSearchParams:$5,isTypedArray:eR,isFileList:I5,forEach:Fu,merge:cy,extend:Q5,trim:G5,stripBOM:Y5,inherits:J5,toFlatObject:X5,kindOf:Rp,kindOfTest:Ls,endsWith:W5,toArray:Z5,forEachEntry:tR,matchAll:nR,isHTMLForm:sR,hasOwnProperty:TS,hasOwnProp:TS,reduceDescriptors:PT,freezeMethods:aR,toObjectSet:oR,toCamelCase:rR,noop:lR,toFiniteNumber:cR,findKey:RT,global:Ca,isContextDefined:LT,isSpecCompliantForm:uR,toJSONObject:dR,isAsyncFn:fR,isThenable:hR,setImmediate:BT,asap:pR,isIterable:mR};function De(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}W.inherits(De,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const zT=De.prototype,IT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{IT[t]={value:t}});Object.defineProperties(De,IT);Object.defineProperty(zT,"isAxiosError",{value:!0});De.from=(t,e,n,s,r,i)=>{const l=Object.create(zT);W.toFlatObject(t,l,function(p){return p!==Error.prototype},h=>h!=="isAxiosError");const u=t&&t.message?t.message:"Error",d=e==null&&t?t.code:e;return De.call(l,u,d,n,s,r),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",i&&Object.assign(l,i),l};const gR=null;function uy(t){return W.isPlainObject(t)||W.isArray(t)}function VT(t){return W.endsWith(t,"[]")?t.slice(0,-2):t}function MS(t,e,n){return t?t.concat(e).map(function(r,i){return r=VT(r),!n&&i?"["+r+"]":r}).join(n?".":""):e}function xR(t){return W.isArray(t)&&!t.some(uy)}const yR=W.toFlatObject(W,{},null,function(e){return/^is[A-Z]/.test(e)});function Pp(t,e,n){if(!W.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,w){return!W.isUndefined(w[j])});const s=n.metaTokens,r=n.visitor||p,i=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(e);if(!W.isFunction(r))throw new TypeError("visitor must be a function");function h(b){if(b===null)return"";if(W.isDate(b))return b.toISOString();if(W.isBoolean(b))return b.toString();if(!d&&W.isBlob(b))throw new De("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(b)||W.isTypedArray(b)?d&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function p(b,j,w){let C=b;if(b&&!w&&typeof b=="object"){if(W.endsWith(j,"{}"))j=s?j:j.slice(0,-2),b=JSON.stringify(b);else if(W.isArray(b)&&xR(b)||(W.isFileList(b)||W.endsWith(j,"[]"))&&(C=W.toArray(b)))return j=VT(j),C.forEach(function(E,S){!(W.isUndefined(E)||E===null)&&e.append(l===!0?MS([j],S,i):l===null?j:j+"[]",h(E))}),!1}return uy(b)?!0:(e.append(MS(w,j,i),h(b)),!1)}const m=[],x=Object.assign(yR,{defaultVisitor:p,convertValue:h,isVisitable:uy});function y(b,j){if(!W.isUndefined(b)){if(m.indexOf(b)!==-1)throw Error("Circular reference detected in "+j.join("."));m.push(b),W.forEach(b,function(C,M){(!(W.isUndefined(C)||C===null)&&r.call(e,C,W.isString(M)?M.trim():M,j,x))===!0&&y(C,j?j.concat(M):[M])}),m.pop()}}if(!W.isObject(t))throw new TypeError("data must be an object");return y(t),e}function AS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Rb(t,e){this._pairs=[],t&&Pp(t,this,e)}const UT=Rb.prototype;UT.append=function(e,n){this._pairs.push([e,n])};UT.toString=function(e){const n=e?function(s){return e.call(this,s,AS)}:AS;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function bR(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function $T(t,e,n){if(!e)return t;const s=n&&n.encode||bR;W.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(r?i=r(e,n):i=W.isURLSearchParams(e)?e.toString():new Rb(e,n).toString(s),i){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class _S{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){W.forEach(this.handlers,function(s){s!==null&&e(s)})}}const FT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vR=typeof URLSearchParams<"u"?URLSearchParams:Rb,wR=typeof FormData<"u"?FormData:null,NR=typeof Blob<"u"?Blob:null,jR={isBrowser:!0,classes:{URLSearchParams:vR,FormData:wR,Blob:NR},protocols:["http","https","file","blob","url","data"]},Lb=typeof window<"u"&&typeof document<"u",dy=typeof navigator=="object"&&navigator||void 0,SR=Lb&&(!dy||["ReactNative","NativeScript","NS"].indexOf(dy.product)<0),CR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kR=Lb&&window.location.href||"http://localhost",ER=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lb,hasStandardBrowserEnv:SR,hasStandardBrowserWebWorkerEnv:CR,navigator:dy,origin:kR},Symbol.toStringTag,{value:"Module"})),cn={...ER,...jR};function TR(t,e){return Pp(t,new cn.classes.URLSearchParams,{visitor:function(n,s,r,i){return cn.isNode&&W.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function MR(t){return W.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function AR(t){const e={},n=Object.keys(t);let s;const r=n.length;let i;for(s=0;s<r;s++)i=n[s],e[i]=t[i];return e}function qT(t){function e(n,s,r,i){let l=n[i++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=i>=n.length;return l=!l&&W.isArray(r)?r.length:l,d?(W.hasOwnProp(r,l)?r[l]=[r[l],s]:r[l]=s,!u):((!r[l]||!W.isObject(r[l]))&&(r[l]=[]),e(n,s,r[l],i)&&W.isArray(r[l])&&(r[l]=AR(r[l])),!u)}if(W.isFormData(t)&&W.isFunction(t.entries)){const n={};return W.forEachEntry(t,(s,r)=>{e(MR(s),r,n,0)}),n}return null}function _R(t,e,n){if(W.isString(t))try{return(e||JSON.parse)(t),W.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const qu={transitional:FT,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,i=W.isObject(e);if(i&&W.isHTMLForm(e)&&(e=new FormData(e)),W.isFormData(e))return r?JSON.stringify(qT(e)):e;if(W.isArrayBuffer(e)||W.isBuffer(e)||W.isStream(e)||W.isFile(e)||W.isBlob(e)||W.isReadableStream(e))return e;if(W.isArrayBufferView(e))return e.buffer;if(W.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return TR(e,this.formSerializer).toString();if((u=W.isFileList(e))||s.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Pp(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),_R(e)):e}],transformResponse:[function(e){const n=this.transitional||qu.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(W.isResponse(e)||W.isReadableStream(e))return e;if(e&&W.isString(e)&&(s&&!this.responseType||r)){const l=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?De.from(u,De.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cn.classes.FormData,Blob:cn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],t=>{qu.headers[t]={}});const DR=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),OR=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(l){r=l.indexOf(":"),n=l.substring(0,r).trim().toLowerCase(),s=l.substring(r+1).trim(),!(!n||e[n]&&DR[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},DS=Symbol("internals");function Ac(t){return t&&String(t).trim().toLowerCase()}function rh(t){return t===!1||t==null?t:W.isArray(t)?t.map(rh):String(t)}function RR(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const LR=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function $0(t,e,n,s,r){if(W.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!W.isString(e)){if(W.isString(s))return e.indexOf(s)!==-1;if(W.isRegExp(s))return s.test(e)}}function PR(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function BR(t,e){const n=W.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,i,l){return this[s].call(this,e,r,i,l)},configurable:!0})})}let An=class{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function i(u,d,h){const p=Ac(d);if(!p)throw new Error("header name must be a non-empty string");const m=W.findKey(r,p);(!m||r[m]===void 0||h===!0||h===void 0&&r[m]!==!1)&&(r[m||d]=rh(u))}const l=(u,d)=>W.forEach(u,(h,p)=>i(h,p,d));if(W.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(W.isString(e)&&(e=e.trim())&&!LR(e))l(OR(e),n);else if(W.isObject(e)&&W.isIterable(e)){let u={},d,h;for(const p of e){if(!W.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[h=p[0]]=(d=u[h])?W.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}l(u,n)}else e!=null&&i(n,e,s);return this}get(e,n){if(e=Ac(e),e){const s=W.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return RR(r);if(W.isFunction(n))return n.call(this,r,s);if(W.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ac(e),e){const s=W.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||$0(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function i(l){if(l=Ac(l),l){const u=W.findKey(s,l);u&&(!n||$0(s,s[u],u,n))&&(delete s[u],r=!0)}}return W.isArray(e)?e.forEach(i):i(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const i=n[s];(!e||$0(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const n=this,s={};return W.forEach(this,(r,i)=>{const l=W.findKey(s,i);if(l){n[l]=rh(r),delete n[i];return}const u=e?PR(i):String(i).trim();u!==i&&delete n[i],n[u]=rh(r),s[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return W.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&W.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[DS]=this[DS]={accessors:{}}).accessors,r=this.prototype;function i(l){const u=Ac(l);s[u]||(BR(r,l),s[u]=!0)}return W.isArray(e)?e.forEach(i):i(e),this}};An.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(An.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});W.freezeMethods(An);function F0(t,e){const n=this||qu,s=e||n,r=An.from(s.headers);let i=s.data;return W.forEach(t,function(u){i=u.call(n,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function HT(t){return!!(t&&t.__CANCEL__)}function Cl(t,e,n){De.call(this,t??"canceled",De.ERR_CANCELED,e,n),this.name="CanceledError"}W.inherits(Cl,De,{__CANCEL__:!0});function KT(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new De("Request failed with status code "+n.status,[De.ERR_BAD_REQUEST,De.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function zR(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function IR(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,i=0,l;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),p=s[i];l||(l=h),n[r]=d,s[r]=h;let m=i,x=0;for(;m!==r;)x+=n[m++],m=m%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),h-l<e)return;const y=p&&h-p;return y?Math.round(x*1e3/y):void 0}}function VR(t,e){let n=0,s=1e3/e,r,i;const l=(h,p=Date.now())=>{n=p,r=null,i&&(clearTimeout(i),i=null),t(...h)};return[(...h)=>{const p=Date.now(),m=p-n;m>=s?l(h,p):(r=h,i||(i=setTimeout(()=>{i=null,l(r)},s-m)))},()=>r&&l(r)]}const bh=(t,e,n=3)=>{let s=0;const r=IR(50,250);return VR(i=>{const l=i.loaded,u=i.lengthComputable?i.total:void 0,d=l-s,h=r(d),p=l<=u;s=l;const m={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&p?(u-l)/h:void 0,event:i,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(m)},n)},OS=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},RS=t=>(...e)=>W.asap(()=>t(...e)),UR=cn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,cn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(cn.origin),cn.navigator&&/(msie|trident)/i.test(cn.navigator.userAgent)):()=>!0,$R=cn.hasStandardBrowserEnv?{write(t,e,n,s,r,i,l){if(typeof document>"u")return;const u=[`${t}=${encodeURIComponent(e)}`];W.isNumber(n)&&u.push(`expires=${new Date(n).toUTCString()}`),W.isString(s)&&u.push(`path=${s}`),W.isString(r)&&u.push(`domain=${r}`),i===!0&&u.push("secure"),W.isString(l)&&u.push(`SameSite=${l}`),document.cookie=u.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function FR(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function qR(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function GT(t,e,n){let s=!FR(e);return t&&(s||n==!1)?qR(t,e):e}const LS=t=>t instanceof An?{...t}:t;function Ua(t,e){e=e||{};const n={};function s(h,p,m,x){return W.isPlainObject(h)&&W.isPlainObject(p)?W.merge.call({caseless:x},h,p):W.isPlainObject(p)?W.merge({},p):W.isArray(p)?p.slice():p}function r(h,p,m,x){if(W.isUndefined(p)){if(!W.isUndefined(h))return s(void 0,h,m,x)}else return s(h,p,m,x)}function i(h,p){if(!W.isUndefined(p))return s(void 0,p)}function l(h,p){if(W.isUndefined(p)){if(!W.isUndefined(h))return s(void 0,h)}else return s(void 0,p)}function u(h,p,m){if(m in e)return s(h,p);if(m in t)return s(void 0,h)}const d={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,p,m)=>r(LS(h),LS(p),m,!0)};return W.forEach(Object.keys({...t,...e}),function(p){const m=d[p]||r,x=m(t[p],e[p],p);W.isUndefined(x)&&m!==u||(n[p]=x)}),n}const QT=t=>{const e=Ua({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:l,auth:u}=e;if(e.headers=l=An.from(l),e.url=$T(GT(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),W.isFormData(n)){if(cn.hasStandardBrowserEnv||cn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(W.isFunction(n.getHeaders)){const d=n.getHeaders(),h=["content-type","content-length"];Object.entries(d).forEach(([p,m])=>{h.includes(p.toLowerCase())&&l.set(p,m)})}}if(cn.hasStandardBrowserEnv&&(s&&W.isFunction(s)&&(s=s(e)),s||s!==!1&&UR(e.url))){const d=r&&i&&$R.read(i);d&&l.set(r,d)}return e},HR=typeof XMLHttpRequest<"u",KR=HR&&function(t){return new Promise(function(n,s){const r=QT(t);let i=r.data;const l=An.from(r.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:h}=r,p,m,x,y,b;function j(){y&&y(),b&&b(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let w=new XMLHttpRequest;w.open(r.method.toUpperCase(),r.url,!0),w.timeout=r.timeout;function C(){if(!w)return;const E=An.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),k={data:!u||u==="text"||u==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:E,config:t,request:w};KT(function(O){n(O),j()},function(O){s(O),j()},k),w=null}"onloadend"in w?w.onloadend=C:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(C)},w.onabort=function(){w&&(s(new De("Request aborted",De.ECONNABORTED,t,w)),w=null)},w.onerror=function(S){const k=S&&S.message?S.message:"Network Error",R=new De(k,De.ERR_NETWORK,t,w);R.event=S||null,s(R),w=null},w.ontimeout=function(){let S=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const k=r.transitional||FT;r.timeoutErrorMessage&&(S=r.timeoutErrorMessage),s(new De(S,k.clarifyTimeoutError?De.ETIMEDOUT:De.ECONNABORTED,t,w)),w=null},i===void 0&&l.setContentType(null),"setRequestHeader"in w&&W.forEach(l.toJSON(),function(S,k){w.setRequestHeader(k,S)}),W.isUndefined(r.withCredentials)||(w.withCredentials=!!r.withCredentials),u&&u!=="json"&&(w.responseType=r.responseType),h&&([x,b]=bh(h,!0),w.addEventListener("progress",x)),d&&w.upload&&([m,y]=bh(d),w.upload.addEventListener("progress",m),w.upload.addEventListener("loadend",y)),(r.cancelToken||r.signal)&&(p=E=>{w&&(s(!E||E.type?new Cl(null,t,w):E),w.abort(),w=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const M=zR(r.url);if(M&&cn.protocols.indexOf(M)===-1){s(new De("Unsupported protocol "+M+":",De.ERR_BAD_REQUEST,t));return}w.send(i||null)})},GR=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,r;const i=function(h){if(!r){r=!0,u();const p=h instanceof Error?h:this.reason;s.abort(p instanceof De?p:new Cl(p instanceof Error?p.message:p))}};let l=e&&setTimeout(()=>{l=null,i(new De(`timeout ${e} of ms exceeded`,De.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),t=null)};t.forEach(h=>h.addEventListener("abort",i));const{signal:d}=s;return d.unsubscribe=()=>W.asap(u),d}},QR=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},YR=async function*(t,e){for await(const n of JR(t))yield*QR(n,e)},JR=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},PS=(t,e,n,s)=>{const r=YR(t,e);let i=0,l,u=d=>{l||(l=!0,s&&s(d))};return new ReadableStream({async pull(d){try{const{done:h,value:p}=await r.next();if(h){u(),d.close();return}let m=p.byteLength;if(n){let x=i+=m;n(x)}d.enqueue(new Uint8Array(p))}catch(h){throw u(h),h}},cancel(d){return u(d),r.return()}},{highWaterMark:2})},BS=64*1024,{isFunction:Tf}=W,XR=(({Request:t,Response:e})=>({Request:t,Response:e}))(W.global),{ReadableStream:zS,TextEncoder:IS}=W.global,VS=(t,...e)=>{try{return!!t(...e)}catch{return!1}},WR=t=>{t=W.merge.call({skipUndefined:!0},XR,t);const{fetch:e,Request:n,Response:s}=t,r=e?Tf(e):typeof fetch=="function",i=Tf(n),l=Tf(s);if(!r)return!1;const u=r&&Tf(zS),d=r&&(typeof IS=="function"?(b=>j=>b.encode(j))(new IS):async b=>new Uint8Array(await new n(b).arrayBuffer())),h=i&&u&&VS(()=>{let b=!1;const j=new n(cn.origin,{body:new zS,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!j}),p=l&&u&&VS(()=>W.isReadableStream(new s("").body)),m={stream:p&&(b=>b.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!m[b]&&(m[b]=(j,w)=>{let C=j&&j[b];if(C)return C.call(j);throw new De(`Response type '${b}' is not supported`,De.ERR_NOT_SUPPORT,w)})});const x=async b=>{if(b==null)return 0;if(W.isBlob(b))return b.size;if(W.isSpecCompliantForm(b))return(await new n(cn.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(W.isArrayBufferView(b)||W.isArrayBuffer(b))return b.byteLength;if(W.isURLSearchParams(b)&&(b=b+""),W.isString(b))return(await d(b)).byteLength},y=async(b,j)=>{const w=W.toFiniteNumber(b.getContentLength());return w??x(j)};return async b=>{let{url:j,method:w,data:C,signal:M,cancelToken:E,timeout:S,onDownloadProgress:k,onUploadProgress:R,responseType:O,headers:T,withCredentials:D="same-origin",fetchOptions:B}=QT(b),L=e||fetch;O=O?(O+"").toLowerCase():"text";let V=GR([M,E&&E.toAbortSignal()],S),F=null;const K=V&&V.unsubscribe&&(()=>{V.unsubscribe()});let re;try{if(R&&h&&w!=="get"&&w!=="head"&&(re=await y(T,C))!==0){let z=new n(j,{method:"POST",body:C,duplex:"half"}),J;if(W.isFormData(C)&&(J=z.headers.get("content-type"))&&T.setContentType(J),z.body){const[se,le]=OS(re,bh(RS(R)));C=PS(z.body,BS,se,le)}}W.isString(D)||(D=D?"include":"omit");const U=i&&"credentials"in n.prototype,H={...B,signal:V,method:w.toUpperCase(),headers:T.normalize().toJSON(),body:C,duplex:"half",credentials:U?D:void 0};F=i&&new n(j,H);let ee=await(i?L(F,B):L(j,H));const ae=p&&(O==="stream"||O==="response");if(p&&(k||ae&&K)){const z={};["status","statusText","headers"].forEach(fe=>{z[fe]=ee[fe]});const J=W.toFiniteNumber(ee.headers.get("content-length")),[se,le]=k&&OS(J,bh(RS(k),!0))||[];ee=new s(PS(ee.body,BS,se,()=>{le&&le(),K&&K()}),z)}O=O||"text";let de=await m[W.findKey(m,O)||"text"](ee,b);return!ae&&K&&K(),await new Promise((z,J)=>{KT(z,J,{data:de,headers:An.from(ee.headers),status:ee.status,statusText:ee.statusText,config:b,request:F})})}catch(U){throw K&&K(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new De("Network Error",De.ERR_NETWORK,b,F),{cause:U.cause||U}):De.from(U,U&&U.code,b,F)}}},ZR=new Map,YT=t=>{let e=t&&t.env||{};const{fetch:n,Request:s,Response:r}=e,i=[s,r,n];let l=i.length,u=l,d,h,p=ZR;for(;u--;)d=i[u],h=p.get(d),h===void 0&&p.set(d,h=u?new Map:WR(e)),p=h;return h};YT();const Pb={http:gR,xhr:KR,fetch:{get:YT}};W.forEach(Pb,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const US=t=>`- ${t}`,eL=t=>W.isFunction(t)||t===null||t===!1;function tL(t,e){t=W.isArray(t)?t:[t];const{length:n}=t;let s,r;const i={};for(let l=0;l<n;l++){s=t[l];let u;if(r=s,!eL(s)&&(r=Pb[(u=String(s)).toLowerCase()],r===void 0))throw new De(`Unknown adapter '${u}'`);if(r&&(W.isFunction(r)||(r=r.get(e))))break;i[u||"#"+l]=r}if(!r){const l=Object.entries(i).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=n?l.length>1?`since :
`+l.map(US).join(`
`):" "+US(l[0]):"as no adapter specified";throw new De("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r}const JT={getAdapter:tL,adapters:Pb};function q0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Cl(null,t)}function $S(t){return q0(t),t.headers=An.from(t.headers),t.data=F0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),JT.getAdapter(t.adapter||qu.adapter,t)(t).then(function(s){return q0(t),s.data=F0.call(t,t.transformResponse,s),s.headers=An.from(s.headers),s},function(s){return HT(s)||(q0(t),s&&s.response&&(s.response.data=F0.call(t,t.transformResponse,s.response),s.response.headers=An.from(s.response.headers))),Promise.reject(s)})}const XT="1.13.0",Bp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Bp[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const FS={};Bp.transitional=function(e,n,s){function r(i,l){return"[Axios v"+XT+"] Transitional option '"+i+"'"+l+(s?". "+s:"")}return(i,l,u)=>{if(e===!1)throw new De(r(l," has been removed"+(n?" in "+n:"")),De.ERR_DEPRECATED);return n&&!FS[l]&&(FS[l]=!0,console.warn(r(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,l,u):!0}};Bp.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function nL(t,e,n){if(typeof t!="object")throw new De("options must be an object",De.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const i=s[r],l=e[i];if(l){const u=t[i],d=u===void 0||l(u,i,t);if(d!==!0)throw new De("option "+i+" must be "+d,De.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new De("Unknown option "+i,De.ERR_BAD_OPTION)}}const ih={assertOptions:nL,validators:Bp},Fs=ih.validators;let Da=class{constructor(e){this.defaults=e||{},this.interceptors={request:new _S,response:new _S}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ua(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:i}=n;s!==void 0&&ih.assertOptions(s,{silentJSONParsing:Fs.transitional(Fs.boolean),forcedJSONParsing:Fs.transitional(Fs.boolean),clarifyTimeoutError:Fs.transitional(Fs.boolean)},!1),r!=null&&(W.isFunction(r)?n.paramsSerializer={serialize:r}:ih.assertOptions(r,{encode:Fs.function,serialize:Fs.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ih.assertOptions(n,{baseUrl:Fs.spelling("baseURL"),withXsrfToken:Fs.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=i&&W.merge(i.common,i[n.method]);i&&W.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),n.headers=An.concat(l,i);const u=[];let d=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(d=d&&j.synchronous,u.unshift(j.fulfilled,j.rejected))});const h=[];this.interceptors.response.forEach(function(j){h.push(j.fulfilled,j.rejected)});let p,m=0,x;if(!d){const b=[$S.bind(this),void 0];for(b.unshift(...u),b.push(...h),x=b.length,p=Promise.resolve(n);m<x;)p=p.then(b[m++],b[m++]);return p}x=u.length;let y=n;for(;m<x;){const b=u[m++],j=u[m++];try{y=b(y)}catch(w){j.call(this,w);break}}try{p=$S.call(this,y)}catch(b){return Promise.reject(b)}for(m=0,x=h.length;m<x;)p=p.then(h[m++],h[m++]);return p}getUri(e){e=Ua(this.defaults,e);const n=GT(e.baseURL,e.url,e.allowAbsoluteUrls);return $T(n,e.params,e.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(e){Da.prototype[e]=function(n,s){return this.request(Ua(s||{},{method:e,url:n,data:(s||{}).data}))}});W.forEach(["post","put","patch"],function(e){function n(s){return function(i,l,u){return this.request(Ua(u||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Da.prototype[e]=n(),Da.prototype[e+"Form"]=n(!0)});let sL=class WT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const l=new Promise(u=>{s.subscribe(u),i=u}).then(r);return l.cancel=function(){s.unsubscribe(i)},l},e(function(i,l,u){s.reason||(s.reason=new Cl(i,l,u),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new WT(function(r){e=r}),cancel:e}}};function rL(t){return function(n){return t.apply(null,n)}}function iL(t){return W.isObject(t)&&t.isAxiosError===!0}const fy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(fy).forEach(([t,e])=>{fy[e]=t});function ZT(t){const e=new Da(t),n=AT(Da.prototype.request,e);return W.extend(n,Da.prototype,e,{allOwnKeys:!0}),W.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return ZT(Ua(t,r))},n}const Ct=ZT(qu);Ct.Axios=Da;Ct.CanceledError=Cl;Ct.CancelToken=sL;Ct.isCancel=HT;Ct.VERSION=XT;Ct.toFormData=Pp;Ct.AxiosError=De;Ct.Cancel=Ct.CanceledError;Ct.all=function(e){return Promise.all(e)};Ct.spread=rL;Ct.isAxiosError=iL;Ct.mergeConfig=Ua;Ct.AxiosHeaders=An;Ct.formToJSON=t=>qT(W.isHTMLForm(t)?new FormData(t):t);Ct.getAdapter=JT.getAdapter;Ct.HttpStatusCode=fy;Ct.default=Ct;const{Axios:IZ,AxiosError:VZ,CanceledError:UZ,isCancel:$Z,CancelToken:FZ,VERSION:qZ,all:HZ,Cancel:KZ,isAxiosError:GZ,spread:QZ,toFormData:YZ,AxiosHeaders:JZ,HttpStatusCode:XZ,formToJSON:WZ,getAdapter:ZZ,mergeConfig:eee}=Ct;window.axios=Ct;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const Ee=t=>typeof t=="string",_c=()=>{let t,e;const n=new Promise((s,r)=>{t=s,e=r});return n.resolve=t,n.reject=e,n},qS=t=>t==null?"":""+t,aL=(t,e,n)=>{t.forEach(s=>{e[s]&&(n[s]=e[s])})},oL=/###/g,HS=t=>t&&t.indexOf("###")>-1?t.replace(oL,"."):t,KS=t=>!t||Ee(t),Qc=(t,e,n)=>{const s=Ee(e)?e.split("."):e;let r=0;for(;r<s.length-1;){if(KS(t))return{};const i=HS(s[r]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++r}return KS(t)?{}:{obj:t,k:HS(s[r])}},GS=(t,e,n)=>{const{obj:s,k:r}=Qc(t,e,Object);if(s!==void 0||e.length===1){s[r]=n;return}let i=e[e.length-1],l=e.slice(0,e.length-1),u=Qc(t,l,Object);for(;u.obj===void 0&&l.length;)i=`${l[l.length-1]}.${i}`,l=l.slice(0,l.length-1),u=Qc(t,l,Object),u?.obj&&typeof u.obj[`${u.k}.${i}`]<"u"&&(u.obj=void 0);u.obj[`${u.k}.${i}`]=n},lL=(t,e,n,s)=>{const{obj:r,k:i}=Qc(t,e,Object);r[i]=r[i]||[],r[i].push(n)},vh=(t,e)=>{const{obj:n,k:s}=Qc(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,s))return n[s]},cL=(t,e,n)=>{const s=vh(t,n);return s!==void 0?s:vh(e,n)},eM=(t,e,n)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in t?Ee(t[s])||t[s]instanceof String||Ee(e[s])||e[s]instanceof String?n&&(t[s]=e[s]):eM(t[s],e[s],n):t[s]=e[s]);return t},Vo=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var uL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const dL=t=>Ee(t)?t.replace(/[&<>"'\/]/g,e=>uL[e]):t;class fL{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const hL=[" ",",","?","!",";"],pL=new fL(20),mL=(t,e,n)=>{e=e||"",n=n||"";const s=hL.filter(l=>e.indexOf(l)<0&&n.indexOf(l)<0);if(s.length===0)return!0;const r=pL.getRegExp(`(${s.map(l=>l==="?"?"\\?":l).join("|")})`);let i=!r.test(t);if(!i){const l=t.indexOf(n);l>0&&!r.test(t.substring(0,l))&&(i=!0)}return i},hy=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const s=e.split(n);let r=t;for(let i=0;i<s.length;){if(!r||typeof r!="object")return;let l,u="";for(let d=i;d<s.length;++d)if(d!==i&&(u+=n),u+=s[d],l=r[u],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<s.length-1)continue;i+=d-i+1;break}r=l}return r},hu=t=>t?.replace("_","-"),gL={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class wh{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||gL,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,s,r){return r&&!this.debug?null:(Ee(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new wh(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new wh(this.logger,e)}}var Qs=new wh;let zp=class{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const r=this.observers[s].get(n)||0;this.observers[s].set(n,r+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([r,i])=>{for(let l=0;l<i;l++)r(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,i])=>{for(let l=0;l<i;l++)r.apply(r,[e,...n])})}};class QS extends zp{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,s,r={}){const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,l=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let u;e.indexOf(".")>-1?u=e.split("."):(u=[e,n],s&&(Array.isArray(s)?u.push(...s):Ee(s)&&i?u.push(...s.split(i)):u.push(s)));const d=vh(this.data,u);return!d&&!n&&!s&&e.indexOf(".")>-1&&(e=u[0],n=u[1],s=u.slice(2).join(".")),d||!l||!Ee(s)?d:hy(this.data?.[e]?.[n],s,i)}addResource(e,n,s,r,i={silent:!1}){const l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let u=[e,n];s&&(u=u.concat(l?s.split(l):s)),e.indexOf(".")>-1&&(u=e.split("."),r=n,n=u[1]),this.addNamespaces(n),GS(this.data,u,r),i.silent||this.emit("added",e,n,s,r)}addResources(e,n,s,r={silent:!1}){for(const i in s)(Ee(s[i])||Array.isArray(s[i]))&&this.addResource(e,n,i,s[i],{silent:!0});r.silent||this.emit("added",e,n,s)}addResourceBundle(e,n,s,r,i,l={silent:!1,skipCopy:!1}){let u=[e,n];e.indexOf(".")>-1&&(u=e.split("."),r=s,s=n,n=u[1]),this.addNamespaces(n);let d=vh(this.data,u)||{};l.skipCopy||(s=JSON.parse(JSON.stringify(s))),r?eM(d,s,i):d={...d,...s},GS(this.data,u,d),l.silent||this.emit("added",e,n,s)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(r=>n[r]&&Object.keys(n[r]).length>0)}toJSON(){return this.data}}var tM={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,s,r){return t.forEach(i=>{e=this.processors[i]?.process(e,n,s,r)??e}),e}};const nM=Symbol("i18next/PATH_KEY");function xL(){const t=[],e=Object.create(null);let n;return e.get=(s,r)=>(n?.revoke?.(),r===nM?t:(t.push(r),n=Proxy.revocable(s,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function py(t,e){const{[nM]:n}=t(xL());return n.join(e?.keySeparator??".")}const YS={},H0=t=>!Ee(t)&&typeof t!="boolean"&&typeof t!="number";class Nh extends zp{constructor(e,n={}){super(),aL(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Qs.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const s={...n};if(e==null)return!1;const r=this.resolve(e,s);if(r?.res===void 0)return!1;const i=H0(r.res);return!(s.returnObjects===!1&&i)}extractFromKey(e,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const r=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const l=s&&e.indexOf(s)>-1,u=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!mL(e,s,r);if(l&&!u){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:Ee(i)?[i]:i};const h=e.split(s);(s!==r||s===r&&this.options.ns.indexOf(h[0])>-1)&&(i=h.shift()),e=h.join(r)}return{key:e,namespaces:Ee(i)?[i]:i}}translate(e,n,s){let r=typeof n=="object"?{...n}:n;if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";typeof e=="function"&&(e=py(e,{...this.options,...r})),Array.isArray(e)||(e=[String(e)]);const i=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,l=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:u,namespaces:d}=this.extractFromKey(e[e.length-1],r),h=d[d.length-1];let p=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const m=r.lng||this.language,x=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m?.toLowerCase()==="cimode")return x?i?{res:`${h}${p}${u}`,usedKey:u,exactUsedKey:u,usedLng:m,usedNS:h,usedParams:this.getUsedParamsDetails(r)}:`${h}${p}${u}`:i?{res:u,usedKey:u,exactUsedKey:u,usedLng:m,usedNS:h,usedParams:this.getUsedParamsDetails(r)}:u;const y=this.resolve(e,r);let b=y?.res;const j=y?.usedKey||u,w=y?.exactUsedKey||u,C=["[object Number]","[object Function]","[object RegExp]"],M=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject,S=r.count!==void 0&&!Ee(r.count),k=Nh.hasDefaultValue(r),R=S?this.pluralResolver.getSuffix(m,r.count,r):"",O=r.ordinal&&S?this.pluralResolver.getSuffix(m,r.count,{ordinal:!1}):"",T=S&&!r.ordinal&&r.count===0,D=T&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${R}`]||r[`defaultValue${O}`]||r.defaultValue;let B=b;E&&!b&&k&&(B=D);const L=H0(B),V=Object.prototype.toString.apply(B);if(E&&B&&L&&C.indexOf(V)<0&&!(Ee(M)&&Array.isArray(B))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const F=this.options.returnedObjectHandler?this.options.returnedObjectHandler(j,B,{...r,ns:d}):`key '${u} (${this.language})' returned an object instead of string.`;return i?(y.res=F,y.usedParams=this.getUsedParamsDetails(r),y):F}if(l){const F=Array.isArray(B),K=F?[]:{},re=F?w:j;for(const U in B)if(Object.prototype.hasOwnProperty.call(B,U)){const H=`${re}${l}${U}`;k&&!b?K[U]=this.translate(H,{...r,defaultValue:H0(D)?D[U]:void 0,joinArrays:!1,ns:d}):K[U]=this.translate(H,{...r,joinArrays:!1,ns:d}),K[U]===H&&(K[U]=B[U])}b=K}}else if(E&&Ee(M)&&Array.isArray(b))b=b.join(M),b&&(b=this.extendTranslation(b,e,r,s));else{let F=!1,K=!1;!this.isValidLookup(b)&&k&&(F=!0,b=D),this.isValidLookup(b)||(K=!0,b=u);const U=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&K?void 0:b,H=k&&D!==b&&this.options.updateMissing;if(K||F||H){if(this.logger.log(H?"updateKey":"missingKey",m,h,u,H?D:b),l){const z=this.resolve(u,{...r,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ee=[];const ae=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ae&&ae[0])for(let z=0;z<ae.length;z++)ee.push(ae[z]);else this.options.saveMissingTo==="all"?ee=this.languageUtils.toResolveHierarchy(r.lng||this.language):ee.push(r.lng||this.language);const de=(z,J,se)=>{const le=k&&se!==b?se:U;this.options.missingKeyHandler?this.options.missingKeyHandler(z,h,J,le,H,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(z,h,J,le,H,r),this.emit("missingKey",z,h,J,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?ee.forEach(z=>{const J=this.pluralResolver.getSuffixes(z,r);T&&r[`defaultValue${this.options.pluralSeparator}zero`]&&J.indexOf(`${this.options.pluralSeparator}zero`)<0&&J.push(`${this.options.pluralSeparator}zero`),J.forEach(se=>{de([z],u+se,r[`defaultValue${se}`]||D)})}):de(ee,u,D))}b=this.extendTranslation(b,e,r,y,s),K&&b===u&&this.options.appendNamespaceToMissingKey&&(b=`${h}${p}${u}`),(K||F)&&this.options.parseMissingKeyHandler&&(b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${p}${u}`:u,F?b:void 0,r))}return i?(y.res=b,y.usedParams=this.getUsedParamsDetails(r),y):b}extendTranslation(e,n,s,r,i){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const d=Ee(e)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const m=e.match(this.interpolator.nestingRegexp);h=m&&m.length}let p=s.replace&&!Ee(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,s.lng||this.language||r.usedLng,s),d){const m=e.match(this.interpolator.nestingRegexp),x=m&&m.length;h<x&&(s.nest=!1)}!s.lng&&r&&r.res&&(s.lng=this.language||r.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...m)=>i?.[0]===m[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):this.translate(...m,n),s)),s.interpolation&&this.interpolator.reset()}const l=s.postProcess||this.options.postProcess,u=Ee(l)?[l]:l;return e!=null&&u?.length&&s.applyPostProcessor!==!1&&(e=tM.handle(u,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,n={}){let s,r,i,l,u;return Ee(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(s))return;const h=this.extractFromKey(d,n),p=h.key;r=p;let m=h.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const x=n.count!==void 0&&!Ee(n.count),y=x&&!n.ordinal&&n.count===0,b=n.context!==void 0&&(Ee(n.context)||typeof n.context=="number")&&n.context!=="",j=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);m.forEach(w=>{this.isValidLookup(s)||(u=w,!YS[`${j[0]}-${w}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(u)&&(YS[`${j[0]}-${w}`]=!0,this.logger.warn(`key "${r}" for languages "${j.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),j.forEach(C=>{if(this.isValidLookup(s))return;l=C;const M=[p];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(M,p,C,w,n);else{let S;x&&(S=this.pluralResolver.getSuffix(C,n.count,n));const k=`${this.options.pluralSeparator}zero`,R=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(n.ordinal&&S.indexOf(R)===0&&M.push(p+S.replace(R,this.options.pluralSeparator)),M.push(p+S),y&&M.push(p+k)),b){const O=`${p}${this.options.contextSeparator||"_"}${n.context}`;M.push(O),x&&(n.ordinal&&S.indexOf(R)===0&&M.push(O+S.replace(R,this.options.pluralSeparator)),M.push(O+S),y&&M.push(O+k))}}let E;for(;E=M.pop();)this.isValidLookup(s)||(i=E,s=this.getResource(C,w,E,n))}))})}),{res:s,usedKey:r,exactUsedKey:i,usedLng:l,usedNS:u}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,s,r={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,s,r):this.resourceStore.getResource(e,n,s,r)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!Ee(e.replace);let r=s?e.replace:e;if(s&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!s){r={...r};for(const i of n)delete r[i]}return r}static hasDefaultValue(e){const n="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&n===s.substring(0,n.length)&&e[s]!==void 0)return!0;return!1}}class JS{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Qs.create("languageUtils")}getScriptPartFromCode(e){if(e=hu(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=hu(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Ee(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(s=>{if(n)return;const r=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(r))&&(n=r)}),!n&&this.options.supportedLngs&&e.forEach(s=>{if(n)return;const r=this.getScriptPartFromCode(s);if(this.isSupportedCode(r))return n=r;const i=this.getLanguagePartFromCode(s);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(l=>{if(l===i)return l;if(!(l.indexOf("-")<0&&i.indexOf("-")<0)&&(l.indexOf("-")>0&&i.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===i||l.indexOf(i)===0&&i.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Ee(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let s=e[n];return s||(s=e[this.getScriptPartFromCode(n)]),s||(s=e[this.formatLanguageCode(n)]),s||(s=e[this.getLanguagePartFromCode(n)]),s||(s=e.default),s||[]}toResolveHierarchy(e,n){const s=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),r=[],i=l=>{l&&(this.isSupportedCode(l)?r.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Ee(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):Ee(e)&&i(this.formatLanguageCode(e)),s.forEach(l=>{r.indexOf(l)<0&&i(this.formatLanguageCode(l))}),r}}const XS={zero:0,one:1,two:2,few:3,many:4,other:5},WS={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class yL{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Qs.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const s=hu(e==="dev"?"en":e),r=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:s,type:r});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let l;try{l=new Intl.PluralRules(s,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),WS;if(!e.match(/-|_/))return WS;const d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,n)}return this.pluralRulesCache[i]=l,l}needsPlural(e,n={}){let s=this.getRule(e,n);return s||(s=this.getRule("dev",n)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,s={}){return this.getSuffixes(e,s).map(r=>`${n}${r}`)}getSuffixes(e,n={}){let s=this.getRule(e,n);return s||(s=this.getRule("dev",n)),s?s.resolvedOptions().pluralCategories.sort((r,i)=>XS[r]-XS[i]).map(r=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(e,n,s={}){const r=this.getRule(e,s);return r?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${r.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,s))}}const ZS=(t,e,n,s=".",r=!0)=>{let i=cL(t,e,n);return!i&&r&&Ee(n)&&(i=hy(t,n,s),i===void 0&&(i=hy(e,n,s))),i},K0=t=>t.replace(/\$/g,"$$$$");class bL{constructor(e={}){this.logger=Qs.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:r,prefix:i,prefixEscaped:l,suffix:u,suffixEscaped:d,formatSeparator:h,unescapeSuffix:p,unescapePrefix:m,nestingPrefix:x,nestingPrefixEscaped:y,nestingSuffix:b,nestingSuffixEscaped:j,nestingOptionsSeparator:w,maxReplaces:C,alwaysFormat:M}=e.interpolation;this.escape=n!==void 0?n:dL,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=i?Vo(i):l||"{{",this.suffix=u?Vo(u):d||"}}",this.formatSeparator=h||",",this.unescapePrefix=p?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=x?Vo(x):y||Vo("$t("),this.nestingSuffix=b?Vo(b):j||Vo(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=C||1e3,this.alwaysFormat=M!==void 0?M:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,s)=>n?.source===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,s,r){let i,l,u;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=y=>{if(y.indexOf(this.formatSeparator)<0){const C=ZS(n,d,y,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(C,void 0,s,{...r,...n,interpolationkey:y}):C}const b=y.split(this.formatSeparator),j=b.shift().trim(),w=b.join(this.formatSeparator).trim();return this.format(ZS(n,d,j,this.options.keySeparator,this.options.ignoreJSONStructure),w,s,{...r,...n,interpolationkey:j})};this.resetRegExp();const p=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,m=r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:y=>K0(y)},{regex:this.regexp,safeValue:y=>this.escapeValue?K0(this.escape(y)):K0(y)}].forEach(y=>{for(u=0;i=y.regex.exec(e);){const b=i[1].trim();if(l=h(b),l===void 0)if(typeof p=="function"){const w=p(e,i,r);l=Ee(w)?w:""}else if(r&&Object.prototype.hasOwnProperty.call(r,b))l="";else if(m){l=i[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${e}`),l="";else!Ee(l)&&!this.useRawValueToEscape&&(l=qS(l));const j=y.safeValue(l);if(e=e.replace(i[0],j),m?(y.regex.lastIndex+=l.length,y.regex.lastIndex-=i[0].length):y.regex.lastIndex=0,u++,u>=this.maxReplaces)break}}),e}nest(e,n,s={}){let r,i,l;const u=(d,h)=>{const p=this.nestingOptionsSeparator;if(d.indexOf(p)<0)return d;const m=d.split(new RegExp(`${p}[ ]*{`));let x=`{${m[1]}`;d=m[0],x=this.interpolate(x,l);const y=x.match(/'/g),b=x.match(/"/g);((y?.length??0)%2===0&&!b||b.length%2!==0)&&(x=x.replace(/'/g,'"'));try{l=JSON.parse(x),h&&(l={...h,...l})}catch(j){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,j),`${d}${p}${x}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;r=this.nestingRegexp.exec(e);){let d=[];l={...s},l=l.replace&&!Ee(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const h=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(h!==-1&&(d=r[1].slice(h).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),r[1]=r[1].slice(0,h)),i=n(u.call(this,r[1].trim(),l),l),i&&r[0]===e&&!Ee(i))return i;Ee(i)||(i=qS(i)),i||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),i=""),d.length&&(i=d.reduce((p,m)=>this.format(p,m,s.lng,{...s,interpolationkey:r[1].trim()}),i.trim())),e=e.replace(r[0],i),this.regexp.lastIndex=0}return e}}const vL=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const s=t.split("(");e=s[0].toLowerCase().trim();const r=s[1].substring(0,s[1].length-1);e==="currency"&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach(l=>{if(l){const[u,...d]=l.split(":"),h=d.join(":").trim().replace(/^'+|'+$/g,""),p=u.trim();n[p]||(n[p]=h),h==="false"&&(n[p]=!1),h==="true"&&(n[p]=!0),isNaN(h)||(n[p]=parseInt(h,10))}})}return{formatName:e,formatOptions:n}},e2=t=>{const e={};return(n,s,r)=>{let i=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(i={...i,[r.interpolationkey]:void 0});const l=s+JSON.stringify(i);let u=e[l];return u||(u=t(hu(s),r),e[l]=u),u(n)}},wL=t=>(e,n,s)=>t(hu(n),s)(e);class NL{constructor(e={}){this.logger=Qs.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const s=n.cacheInBuiltFormats?e2:wL;this.formats={number:s((r,i)=>{const l=new Intl.NumberFormat(r,{...i});return u=>l.format(u)}),currency:s((r,i)=>{const l=new Intl.NumberFormat(r,{...i,style:"currency"});return u=>l.format(u)}),datetime:s((r,i)=>{const l=new Intl.DateTimeFormat(r,{...i});return u=>l.format(u)}),relativetime:s((r,i)=>{const l=new Intl.RelativeTimeFormat(r,{...i});return u=>l.format(u,i.range||"day")}),list:s((r,i)=>{const l=new Intl.ListFormat(r,{...i});return u=>l.format(u)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=e2(n)}format(e,n,s,r={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(u=>u.indexOf(")")>-1)){const u=i.findIndex(d=>d.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,u)].join(this.formatSeparator)}return i.reduce((u,d)=>{const{formatName:h,formatOptions:p}=vL(d);if(this.formats[h]){let m=u;try{const x=r?.formatParams?.[r.interpolationkey]||{},y=x.locale||x.lng||r.locale||r.lng||s;m=this.formats[h](u,y,{...p,...r,...x})}catch(x){this.logger.warn(x)}return m}else this.logger.warn(`there was no format function for ${h}`);return u},e)}}const jL=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class SL extends zp{constructor(e,n,s,r={}){super(),this.backend=e,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=r,this.logger=Qs.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,r.backend,r)}queueLoad(e,n,s,r){const i={},l={},u={},d={};return e.forEach(h=>{let p=!0;n.forEach(m=>{const x=`${h}|${m}`;!s.reload&&this.store.hasResourceBundle(h,m)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?l[x]===void 0&&(l[x]=!0):(this.state[x]=1,p=!1,l[x]===void 0&&(l[x]=!0),i[x]===void 0&&(i[x]=!0),d[m]===void 0&&(d[m]=!0)))}),p||(u[h]=!0)}),(Object.keys(i).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(l),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(d)}}loaded(e,n,s){const r=e.split("|"),i=r[0],l=r[1];n&&this.emit("failedLoading",i,l,n),!n&&s&&this.store.addResourceBundle(i,l,s,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&s&&(this.state[e]=0);const u={};this.queue.forEach(d=>{lL(d.loaded,[i],l),jL(d,e),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(h=>{u[h]||(u[h]={});const p=d.loaded[h];p.length&&p.forEach(m=>{u[h][m]===void 0&&(u[h][m]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(d=>!d.done)}read(e,n,s,r=0,i=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:s,tried:r,wait:i,callback:l});return}this.readingCalls++;const u=(h,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(h&&p&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,s,r+1,i*2,l)},i);return}l(h,p)},d=this.backend[s].bind(this.backend);if(d.length===2){try{const h=d(e,n);h&&typeof h.then=="function"?h.then(p=>u(null,p)).catch(u):u(null,h)}catch(h){u(h)}return}return d(e,n,u)}prepareLoading(e,n,s={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();Ee(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ee(n)&&(n=[n]);const i=this.queueLoad(e,n,s,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach(l=>{this.loadOne(l)})}load(e,n,s){this.prepareLoading(e,n,{},s)}reload(e,n,s){this.prepareLoading(e,n,{reload:!0},s)}loadOne(e,n=""){const s=e.split("|"),r=s[0],i=s[1];this.read(r,i,"read",void 0,void 0,(l,u)=>{l&&this.logger.warn(`${n}loading namespace ${i} for language ${r} failed`,l),!l&&u&&this.logger.log(`${n}loaded namespace ${i} for language ${r}`,u),this.loaded(e,l,u)})}saveMissing(e,n,s,r,i,l={},u=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const d={...l,isUpdate:i},h=this.backend.create.bind(this.backend);if(h.length<6)try{let p;h.length===5?p=h(e,n,s,r,d):p=h(e,n,s,r),p&&typeof p.then=="function"?p.then(m=>u(null,m)).catch(u):u(null,p)}catch(p){u(p)}else h(e,n,s,r,u,d)}!e||!e[0]||this.store.addResource(e[0],n,s,r)}}}const t2=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Ee(t[1])&&(e.defaultValue=t[1]),Ee(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(s=>{e[s]=n[s]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),n2=t=>(Ee(t.ns)&&(t.ns=[t.ns]),Ee(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Ee(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),Mf=()=>{},CL=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class pu extends zp{constructor(e={},n){if(super(),this.options=n2(e),this.services={},this.logger=Qs,this.modules={external:[]},CL(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Ee(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=t2();this.options={...s,...this.options,...n2(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const r=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Qs.init(r(this.modules.logger),this.options):Qs.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=NL;const p=new JS(this.options);this.store=new QS(this.options.resources,this.options);const m=this.services;m.logger=Qs,m.resourceStore=this.store,m.languageUtils=p,m.pluralResolver=new yL(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(m.formatter=r(h),m.formatter.init&&m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new bL(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new SL(r(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",(y,...b)=>{this.emit(y,...b)}),this.modules.languageDetector&&(m.languageDetector=r(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=r(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new Nh(this.services,this.options),this.translator.on("*",(y,...b)=>{this.emit(y,...b)}),this.modules.external.forEach(y=>{y.init&&y.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Mf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...p)=>this.store[h](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...p)=>(this.store[h](...p),this)});const u=_c(),d=()=>{const h=(p,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(m),n(p,m)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),u}loadResources(e,n=Mf){let s=n;const r=Ee(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(r?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const i=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(h=>{h!=="cimode"&&i.indexOf(h)<0&&i.push(h)})};r?l(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload?.forEach?.(u=>l(u)),this.services.backendConnector.load(i,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(u)})}else s(null)}reloadResources(e,n,s){const r=_c();return typeof e=="function"&&(s=e,e=void 0),typeof n=="function"&&(s=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),s||(s=Mf),this.services.backendConnector.reload(e,n,i=>{r.resolve(),s(i)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&tM.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const s=_c();this.emit("languageChanging",e);const r=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},i=(u,d)=>{d?this.isLanguageChangingTo===e&&(r(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,s.resolve((...h)=>this.t(...h)),n&&n(u,(...h)=>this.t(...h))},l=u=>{!e&&!u&&this.services.languageDetector&&(u=[]);const d=Ee(u)?u:u&&u[0],h=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(Ee(u)?[u]:u);h&&(this.language||r(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,p=>{i(p,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),s}getFixedT(e,n,s){const r=(i,l,...u)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([i,l].concat(u)):d={...l},d.lng=d.lng||r.lng,d.lngs=d.lngs||r.lngs,d.ns=d.ns||r.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||s||r.keyPrefix);const h=this.options.keySeparator||".";let p;return d.keyPrefix&&Array.isArray(i)?p=i.map(m=>(typeof m=="function"&&(m=py(m,{...this.options,...l})),`${d.keyPrefix}${h}${m}`)):(typeof i=="function"&&(i=py(i,{...this.options,...l})),p=d.keyPrefix?`${d.keyPrefix}${h}${i}`:i),this.t(p,d)};return Ee(e)?r.lng=e:r.lngs=e,r.ns=n,r.keyPrefix=s,r}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const l=(u,d)=>{const h=this.services.backendConnector.state[`${u}|${d}`];return h===-1||h===0||h===2};if(n.precheck){const u=n.precheck(this,l);if(u!==void 0)return u}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(s,e)&&(!r||l(i,e)))}loadNamespaces(e,n){const s=_c();return this.options.ns?(Ee(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{s.resolve(),n&&n(r)}),s):(n&&n(),Promise.resolve())}loadLanguages(e,n){const s=_c();Ee(e)&&(e=[e]);const r=this.options.preload||[],i=e.filter(l=>r.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return i.length?(this.options.preload=r.concat(i),this.loadResources(l=>{s.resolve(),n&&n(l)}),s):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const r=new Intl.Locale(e);if(r&&r.getTextInfo){const i=r.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new JS(t2());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new pu(e,n)}cloneInstance(e={},n=Mf){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},i=new pu(r);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(u=>{i[u]=this[u]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},s){const u=Object.keys(this.store.data).reduce((d,h)=>(d[h]={...this.store.data[h]},d[h]=Object.keys(d[h]).reduce((p,m)=>(p[m]={...d[h][m]},p),d[h]),d),{});i.store=new QS(u,r),i.services.resourceStore=i.store}return i.translator=new Nh(i.services,r),i.translator.on("*",(u,...d)=>{i.emit(u,...d)}),i.init(r,n),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const hn=pu.createInstance();hn.createInstance=pu.createInstance;hn.createInstance;hn.dir;hn.init;hn.loadResources;hn.reloadResources;hn.use;hn.changeLanguage;hn.getFixedT;hn.t;hn.exists;hn.setDefaultNamespace;hn.hasLoadedNamespace;hn.loadNamespaces;hn.loadLanguages;var G0={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s2;function kL(){if(s2)return Ae;s2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),x=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=x&&z[x]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function C(z,J,se){this.props=z,this.context=J,this.refs=w,this.updater=se||b}C.prototype.isReactComponent={},C.prototype.setState=function(z,J){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,J,"setState")},C.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function M(){}M.prototype=C.prototype;function E(z,J,se){this.props=z,this.context=J,this.refs=w,this.updater=se||b}var S=E.prototype=new M;S.constructor=E,j(S,C.prototype),S.isPureReactComponent=!0;var k=Array.isArray;function R(){}var O={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function D(z,J,se){var le=se.ref;return{$$typeof:t,type:z,key:J,ref:le!==void 0?le:null,props:se}}function B(z,J){return D(z.type,J,z.props)}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function V(z){var J={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(se){return J[se]})}var F=/\/+/g;function K(z,J){return typeof z=="object"&&z!==null&&z.key!=null?V(""+z.key):J.toString(36)}function re(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(R,R):(z.status="pending",z.then(function(J){z.status==="pending"&&(z.status="fulfilled",z.value=J)},function(J){z.status==="pending"&&(z.status="rejected",z.reason=J)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function U(z,J,se,le,fe){var ve=typeof z;(ve==="undefined"||ve==="boolean")&&(z=null);var me=!1;if(z===null)me=!0;else switch(ve){case"bigint":case"string":case"number":me=!0;break;case"object":switch(z.$$typeof){case t:case e:me=!0;break;case p:return me=z._init,U(me(z._payload),J,se,le,fe)}}if(me)return fe=fe(z),me=le===""?"."+K(z,0):le,k(fe)?(se="",me!=null&&(se=me.replace(F,"$&/")+"/"),U(fe,J,se,"",function(at){return at})):fe!=null&&(L(fe)&&(fe=B(fe,se+(fe.key==null||z&&z.key===fe.key?"":(""+fe.key).replace(F,"$&/")+"/")+me)),J.push(fe)),1;me=0;var je=le===""?".":le+":";if(k(z))for(var Se=0;Se<z.length;Se++)le=z[Se],ve=je+K(le,Se),me+=U(le,J,se,ve,fe);else if(Se=y(z),typeof Se=="function")for(z=Se.call(z),Se=0;!(le=z.next()).done;)le=le.value,ve=je+K(le,Se++),me+=U(le,J,se,ve,fe);else if(ve==="object"){if(typeof z.then=="function")return U(re(z),J,se,le,fe);throw J=String(z),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return me}function H(z,J,se){if(z==null)return z;var le=[],fe=0;return U(z,le,"","",function(ve){return J.call(se,ve,fe++)}),le}function ee(z){if(z._status===-1){var J=z._result;J=J(),J.then(function(se){(z._status===0||z._status===-1)&&(z._status=1,z._result=se)},function(se){(z._status===0||z._status===-1)&&(z._status=2,z._result=se)}),z._status===-1&&(z._status=0,z._result=J)}if(z._status===1)return z._result.default;throw z._result}var ae=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},de={map:H,forEach:function(z,J,se){H(z,function(){J.apply(this,arguments)},se)},count:function(z){var J=0;return H(z,function(){J++}),J},toArray:function(z){return H(z,function(J){return J})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ae.Activity=m,Ae.Children=de,Ae.Component=C,Ae.Fragment=n,Ae.Profiler=r,Ae.PureComponent=E,Ae.StrictMode=s,Ae.Suspense=d,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(z){return O.H.useMemoCache(z)}},Ae.cache=function(z){return function(){return z.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(z,J,se){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var le=j({},z.props),fe=z.key;if(J!=null)for(ve in J.key!==void 0&&(fe=""+J.key),J)!T.call(J,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&J.ref===void 0||(le[ve]=J[ve]);var ve=arguments.length-2;if(ve===1)le.children=se;else if(1<ve){for(var me=Array(ve),je=0;je<ve;je++)me[je]=arguments[je+2];le.children=me}return D(z.type,fe,le)},Ae.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:i,_context:z},z},Ae.createElement=function(z,J,se){var le,fe={},ve=null;if(J!=null)for(le in J.key!==void 0&&(ve=""+J.key),J)T.call(J,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(fe[le]=J[le]);var me=arguments.length-2;if(me===1)fe.children=se;else if(1<me){for(var je=Array(me),Se=0;Se<me;Se++)je[Se]=arguments[Se+2];fe.children=je}if(z&&z.defaultProps)for(le in me=z.defaultProps,me)fe[le]===void 0&&(fe[le]=me[le]);return D(z,ve,fe)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(z){return{$$typeof:u,render:z}},Ae.isValidElement=L,Ae.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:ee}},Ae.memo=function(z,J){return{$$typeof:h,type:z,compare:J===void 0?null:J}},Ae.startTransition=function(z){var J=O.T,se={};O.T=se;try{var le=z(),fe=O.S;fe!==null&&fe(se,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(R,ae)}catch(ve){ae(ve)}finally{J!==null&&se.types!==null&&(J.types=se.types),O.T=J}},Ae.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ae.use=function(z){return O.H.use(z)},Ae.useActionState=function(z,J,se){return O.H.useActionState(z,J,se)},Ae.useCallback=function(z,J){return O.H.useCallback(z,J)},Ae.useContext=function(z){return O.H.useContext(z)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(z,J){return O.H.useDeferredValue(z,J)},Ae.useEffect=function(z,J){return O.H.useEffect(z,J)},Ae.useEffectEvent=function(z){return O.H.useEffectEvent(z)},Ae.useId=function(){return O.H.useId()},Ae.useImperativeHandle=function(z,J,se){return O.H.useImperativeHandle(z,J,se)},Ae.useInsertionEffect=function(z,J){return O.H.useInsertionEffect(z,J)},Ae.useLayoutEffect=function(z,J){return O.H.useLayoutEffect(z,J)},Ae.useMemo=function(z,J){return O.H.useMemo(z,J)},Ae.useOptimistic=function(z,J){return O.H.useOptimistic(z,J)},Ae.useReducer=function(z,J,se){return O.H.useReducer(z,J,se)},Ae.useRef=function(z){return O.H.useRef(z)},Ae.useState=function(z){return O.H.useState(z)},Ae.useSyncExternalStore=function(z,J,se){return O.H.useSyncExternalStore(z,J,se)},Ae.useTransition=function(){return O.H.useTransition()},Ae.version="19.2.0",Ae}var r2;function kl(){return r2||(r2=1,G0.exports=kL()),G0.exports}var _=kl();const Pe=MT(_),EL=(t,e,n,s)=>{const r=[n,{code:e,...s||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(r,"warn","react-i18next::",!0);$a(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...r):console?.warn&&console.warn(...r)},i2={},sM=(t,e,n,s)=>{$a(n)&&i2[n]||($a(n)&&(i2[n]=new Date),EL(t,e,n,s))},rM=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},my=(t,e,n)=>{t.loadNamespaces(e,rM(t,n))},a2=(t,e,n,s)=>{if($a(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return my(t,n,s);n.forEach(r=>{t.options.ns.indexOf(r)<0&&t.options.ns.push(r)}),t.loadLanguages(e,rM(t,s))},TL=(t,e,n={})=>!e.languages||!e.languages.length?(sM(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(s,r)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!r(s.isLanguageChangingTo,t))return!1}}),$a=t=>typeof t=="string",ML=t=>typeof t=="object"&&t!==null,AL=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,_L={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},DL=t=>_L[t],OL=t=>t.replace(AL,DL);let gy={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:OL};const RL=(t={})=>{gy={...gy,...t}},LL=()=>gy;let iM;const PL=t=>{iM=t},BL=()=>iM,zL={type:"3rdParty",init(t){RL(t.options.react),PL(t)}},IL=_.createContext();class VL{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Q0={exports:{}},Y0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o2;function UL(){if(o2)return Y0;o2=1;var t=kl();function e(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,r=t.useEffect,i=t.useLayoutEffect,l=t.useDebugValue;function u(m,x){var y=x(),b=s({inst:{value:y,getSnapshot:x}}),j=b[0].inst,w=b[1];return i(function(){j.value=y,j.getSnapshot=x,d(j)&&w({inst:j})},[m,y,x]),r(function(){return d(j)&&w({inst:j}),m(function(){d(j)&&w({inst:j})})},[m]),l(y),y}function d(m){var x=m.getSnapshot;m=m.value;try{var y=x();return!n(m,y)}catch{return!0}}function h(m,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return Y0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Y0}var l2;function aM(){return l2||(l2=1,Q0.exports=UL()),Q0.exports}var Bb=aM();const $L=(t,e)=>$a(e)?e:ML(e)&&$a(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,FL={t:$L,ready:!1},qL=()=>()=>{},et=(t,e={})=>{const{i18n:n}=e,{i18n:s,defaultNS:r}=_.useContext(IL)||{},i=n||s||BL();i&&!i.reportNamespaces&&(i.reportNamespaces=new VL),i||sM(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const l=_.useMemo(()=>({...LL(),...i?.options?.react,...e}),[i,e]),{useSuspense:u,keyPrefix:d}=l,h=_.useMemo(()=>{const S=t||r||i?.options?.defaultNS;return $a(S)?[S]:S||["translation"]},[t,r,i]);i?.reportNamespaces?.addUsedNamespaces?.(h);const p=_.useRef(0),m=_.useCallback(S=>{if(!i)return qL;const{bindI18n:k,bindI18nStore:R}=l,O=()=>{p.current+=1,S()};return k&&i.on(k,O),R&&i.store.on(R,O),()=>{k&&k.split(" ").forEach(T=>i.off(T,O)),R&&R.split(" ").forEach(T=>i.store.off(T,O))}},[i,l]),x=_.useRef(),y=_.useCallback(()=>{if(!i)return FL;const S=!!(i.isInitialized||i.initializedStoreOnce)&&h.every(B=>TL(B,i,l)),k=e.lng||i.language,R=p.current,O=x.current;if(O&&O.ready===S&&O.lng===k&&O.keyPrefix===d&&O.revision===R)return O;const D={t:i.getFixedT(k,l.nsMode==="fallback"?h:h[0],d),ready:S,lng:k,keyPrefix:d,revision:R};return x.current=D,D},[i,h,d,l,e.lng]),[b,j]=_.useState(0),{t:w,ready:C}=Bb.useSyncExternalStore(m,y,y);_.useEffect(()=>{if(i&&!C&&!u){const S=()=>j(k=>k+1);e.lng?a2(i,e.lng,h,S):my(i,h,S)}},[i,e.lng,h,C,u,b]);const M=i||{},E=_.useMemo(()=>{const S=[w,M,C];return S.t=w,S.i18n=M,S.ready=C,S},[w,M,C]);if(i&&u&&!C)throw new Promise(S=>{const k=()=>S();e.lng?a2(i,e.lng,h,k):my(i,h,k)});return E},{slice:HL,forEach:KL}=[];function GL(t){return KL.call(HL.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function QL(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const c2=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,YL=function(t,e){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},r=encodeURIComponent(e);let i=`${t}=${r}`;if(s.maxAge>0){const l=s.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(l)}`}if(s.domain){if(!c2.test(s.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${s.domain}`}if(s.path){if(!c2.test(s.path))throw new TypeError("option path is invalid");i+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(i+="; HttpOnly"),s.secure&&(i+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(i+="; Partitioned"),i},u2={create(t,e,n,s){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+n*60*1e3)),s&&(r.domain=s),document.cookie=YL(t,e,r)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let s=0;s<n.length;s++){let r=n[s];for(;r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(e)===0)return r.substring(e.length,r.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var JL={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return u2.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:s,cookieDomain:r,cookieOptions:i}=e;n&&typeof document<"u"&&u2.create(n,t,s,r,i)}},XL={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const i=s.substring(1).split("&");for(let l=0;l<i.length;l++){const u=i[l].indexOf("=");u>0&&i[l].substring(0,u)===e&&(n=i[l].substring(u+1))}}return n}},WL={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:n}=t,s;if(typeof window<"u"){const{hash:r}=window.location;if(r&&r.length>2){const i=r.substring(1);if(e){const l=i.split("&");for(let u=0;u<l.length;u++){const d=l[u].indexOf("=");d>0&&l[u].substring(0,d)===e&&(s=l[u].substring(d+1))}}if(s)return s;if(!s&&n>-1){const l=r.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?l[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return s}};let Uo=null;const d2=()=>{if(Uo!==null)return Uo;try{if(Uo=typeof window<"u"&&window.localStorage!==null,!Uo)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Uo=!1}return Uo};var ZL={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&d2())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&d2()&&window.localStorage.setItem(n,t)}};let $o=null;const f2=()=>{if($o!==null)return $o;try{if($o=typeof window<"u"&&window.sessionStorage!==null,!$o)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{$o=!1}return $o};var eP={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&f2())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&f2()&&window.sessionStorage.setItem(n,t)}},tP={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:s,language:r}=navigator;if(n)for(let i=0;i<n.length;i++)e.push(n[i]);s&&e.push(s),r&&e.push(r)}return e.length>0?e:void 0}},nP={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const s=e||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(n=s.getAttribute("lang")),n}},sP={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof e=="number"?e:0]?.replace("/",""):void 0}},rP={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,s=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(s)return s[n]}};let oM=!1;try{document.cookie,oM=!0}catch{}const lM=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];oM||lM.splice(1,1);const iP=()=>({order:lM,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class cM{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=GL(n,this.options||{},iP()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=r=>r.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(JL),this.addDetector(XL),this.addDetector(ZL),this.addDetector(eP),this.addDetector(tP),this.addDetector(nP),this.addDetector(sP),this.addDetector(rP),this.addDetector(WL)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(s=>{if(this.detectors[s]){let r=this.detectors[s].lookup(this.options);r&&typeof r=="string"&&(r=[r]),r&&(n=n.concat(r))}}),n=n.filter(s=>s!=null&&!QL(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(e,this.options)}))}}cM.type="languageDetector";function xy(t){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(t)}function uM(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":xy(XMLHttpRequest))==="object"}function aP(t){return!!t&&typeof t.then=="function"}function oP(t){return aP(t)?t:Promise.resolve(t)}const lP="modulepreload",cP=function(t){return"/build/"+t},h2={},uP=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){let d=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");r=d(n.map(h=>{if(h=cP(h),h in h2)return;h2[h]=!0;const p=h.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":lP,p||(x.as="script"),x.crossOrigin="",x.href=h,u&&x.setAttribute("nonce",u),document.head.appendChild(x),p)return new Promise((y,b)=>{x.addEventListener("load",y),x.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return r.then(l=>{for(const u of l||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})};function p2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function m2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(n),!0).forEach(function(s){dP(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p2(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function dP(t,e,n){return(e=fP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fP(t){var e=hP(t,"string");return Fa(e)=="symbol"?e:e+""}function hP(t,e){if(Fa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(Fa(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fa(t){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(t)}var Vi=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?Vi=global.fetch:typeof window<"u"&&window.fetch&&(Vi=window.fetch);var mu;uM()&&(typeof global<"u"&&global.XMLHttpRequest?mu=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(mu=window.XMLHttpRequest));var jh;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?jh=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(jh=window.ActiveXObject));typeof Vi!="function"&&(Vi=void 0);if(!Vi&&!mu&&!jh)try{uP(()=>import("./browser-ponyfill-C71IsXI5.js").then(t=>t.b),[]).then(function(t){Vi=t.default}).catch(function(){})}catch{}var yy=function(e,n){if(n&&Fa(n)==="object"){var s="";for(var r in n)s+="&"+encodeURIComponent(r)+"="+encodeURIComponent(n[r]);if(!s)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+s.slice(1)}return e},g2=function(e,n,s,r){var i=function(d){if(!d.ok)return s(d.statusText||"Error",{status:d.status});d.text().then(function(h){s(null,{status:d.status,data:h})}).catch(s)};if(r){var l=r(e,n);if(l instanceof Promise){l.then(i).catch(s);return}}typeof fetch=="function"?fetch(e,n).then(i).catch(s):Vi(e,n).then(i).catch(s)},x2=!1,pP=function(e,n,s,r){e.queryStringParams&&(n=yy(n,e.queryStringParams));var i=m2({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(i["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),s&&(i["Content-Type"]="application/json");var l=typeof e.requestOptions=="function"?e.requestOptions(s):e.requestOptions,u=m2({method:s?"POST":"GET",body:s?e.stringify(s):void 0,headers:i},x2?{}:l),d=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{g2(n,u,r,d)}catch(h){if(!l||Object.keys(l).length===0||!h.message||h.message.indexOf("not implemented")<0)return r(h);try{Object.keys(l).forEach(function(p){delete u[p]}),g2(n,u,r,d),x2=!0}catch(p){r(p)}}},mP=function(e,n,s,r){s&&Fa(s)==="object"&&(s=yy("",s).slice(1)),e.queryStringParams&&(n=yy(n,e.queryStringParams));try{var i=mu?new mu:new jh("MSXML2.XMLHTTP.3.0");i.open(s?"POST":"GET",n,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,s&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var l=e.customHeaders;if(l=typeof l=="function"?l():l,l)for(var u in l)i.setRequestHeader(u,l[u]);i.onreadystatechange=function(){i.readyState>3&&r(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(s)}catch(d){console&&console.log(d)}},gP=function(e,n,s,r){if(typeof s=="function"&&(r=s,s=void 0),r=r||function(){},Vi&&n.indexOf("file:")!==0)return pP(e,n,s,r);if(uM()||typeof ActiveXObject=="function")return mP(e,n,s,r);r(new Error("No fetch and no xhr implementation found!"))};function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function J0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(n),!0).forEach(function(s){dM(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function xP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yP(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,fM(s.key),s)}}function bP(t,e,n){return e&&yP(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dM(t,e,n){return(e=fM(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fM(t){var e=vP(t,"string");return dl(e)=="symbol"?e:e+""}function vP(t,e){if(dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(dl(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wP=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,s,r){return dM({},s,r||"")},parseLoadPayload:function(n,s){},request:gP,reloadInterval:typeof window<"u"?!1:3600*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},hM=(function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};xP(this,t),this.services=e,this.options=n,this.allOptions=s,this.type="backend",this.init(e,n,s)}return bP(t,[{key:"init",value:function(n){var s=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=n,this.options=J0(J0(J0({},wP()),this.options||{}),r),this.allOptions=i,this.services&&this.options.reloadInterval){var l=setInterval(function(){return s.reload()},this.options.reloadInterval);dl(l)==="object"&&typeof l.unref=="function"&&l.unref()}}},{key:"readMulti",value:function(n,s,r){this._readAny(n,n,s,s,r)}},{key:"read",value:function(n,s,r){this._readAny([n],n,[s],s,r)}},{key:"_readAny",value:function(n,s,r,i,l){var u=this,d=this.options.loadPath;typeof this.options.loadPath=="function"&&(d=this.options.loadPath(n,r)),d=oP(d),d.then(function(h){if(!h)return l(null,{});var p=u.services.interpolator.interpolate(h,{lng:n.join("+"),ns:r.join("+")});u.loadUrl(p,l,s,i)})}},{key:"loadUrl",value:function(n,s,r,i){var l=this,u=typeof r=="string"?[r]:r,d=typeof i=="string"?[i]:i,h=this.options.parseLoadPayload(u,d);this.options.request(this.options,n,h,function(p,m){if(m&&(m.status>=500&&m.status<600||!m.status))return s("failed loading "+n+"; status code: "+m.status,!0);if(m&&m.status>=400&&m.status<500)return s("failed loading "+n+"; status code: "+m.status,!1);if(!m&&p&&p.message){var x=p.message.toLowerCase(),y=["failed","fetch","network","load"].find(function(w){return x.indexOf(w)>-1});if(y)return s("failed loading "+n+": "+p.message,!0)}if(p)return s(p,!1);var b,j;try{typeof m.data=="string"?b=l.options.parse(m.data,r,i):b=m.data}catch{j="failed parsing "+n+" to json"}if(j)return s(j,!1);s(null,b)})}},{key:"create",value:function(n,s,r,i,l){var u=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var d=this.options.parsePayload(s,r,i),h=0,p=[],m=[];n.forEach(function(x){var y=u.options.addPath;typeof u.options.addPath=="function"&&(y=u.options.addPath(x,s));var b=u.services.interpolator.interpolate(y,{lng:x,ns:s});u.options.request(u.options,b,d,function(j,w){h+=1,p.push(j),m.push(w),h===n.length&&typeof l=="function"&&l(p,m)})})}}},{key:"reload",value:function(){var n=this,s=this.services,r=s.backendConnector,i=s.languageUtils,l=s.logger,u=r.language;if(!(u&&u.toLowerCase()==="cimode")){var d=[],h=function(m){var x=i.toResolveHierarchy(m);x.forEach(function(y){d.indexOf(y)<0&&d.push(y)})};h(u),this.allOptions.preload&&this.allOptions.preload.forEach(function(p){return h(p)}),d.forEach(function(p){n.allOptions.ns.forEach(function(m){r.read(p,m,"read",null,null,function(x,y){x&&l.warn("loading namespace ".concat(m," for language ").concat(p," failed"),x),!x&&y&&l.log("loaded namespace ".concat(m," for language ").concat(p),y),r.loaded("".concat(p,"|").concat(m),x,y)})})})}}}])})();hM.type="backend";hn.use(hM).use(cM).use(zL).init({fallbackLng:"en",debug:!1,supportedLngs:["en","ar"],ns:["common","admin"],defaultNS:"common",backend:{loadPath:"/locales/{{lng}}/{{ns}}.json?v="+Date.now()},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"},interpolation:{escapeValue:!1},react:{useSuspense:!0}});var X0={exports:{}},Dc={},W0={exports:{}},Z0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2;function NP(){return b2||(b2=1,(function(t){function e(U,H){var ee=U.length;U.push(H);e:for(;0<ee;){var ae=ee-1>>>1,de=U[ae];if(0<r(de,H))U[ae]=H,U[ee]=de,ee=ae;else break e}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var H=U[0],ee=U.pop();if(ee!==H){U[0]=ee;e:for(var ae=0,de=U.length,z=de>>>1;ae<z;){var J=2*(ae+1)-1,se=U[J],le=J+1,fe=U[le];if(0>r(se,ee))le<de&&0>r(fe,se)?(U[ae]=fe,U[le]=ee,ae=le):(U[ae]=se,U[J]=ee,ae=J);else if(le<de&&0>r(fe,ee))U[ae]=fe,U[le]=ee,ae=le;else break e}}return H}function r(U,H){var ee=U.sortIndex-H.sortIndex;return ee!==0?ee:U.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],p=1,m=null,x=3,y=!1,b=!1,j=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function S(U){for(var H=n(h);H!==null;){if(H.callback===null)s(h);else if(H.startTime<=U)s(h),H.sortIndex=H.expirationTime,e(d,H);else break;H=n(h)}}function k(U){if(j=!1,S(U),!b)if(n(d)!==null)b=!0,R||(R=!0,V());else{var H=n(h);H!==null&&re(k,H.startTime-U)}}var R=!1,O=-1,T=5,D=-1;function B(){return w?!0:!(t.unstable_now()-D<T)}function L(){if(w=!1,R){var U=t.unstable_now();D=U;var H=!0;try{e:{b=!1,j&&(j=!1,M(O),O=-1),y=!0;var ee=x;try{t:{for(S(U),m=n(d);m!==null&&!(m.expirationTime>U&&B());){var ae=m.callback;if(typeof ae=="function"){m.callback=null,x=m.priorityLevel;var de=ae(m.expirationTime<=U);if(U=t.unstable_now(),typeof de=="function"){m.callback=de,S(U),H=!0;break t}m===n(d)&&s(d),S(U)}else s(d);m=n(d)}if(m!==null)H=!0;else{var z=n(h);z!==null&&re(k,z.startTime-U),H=!1}}break e}finally{m=null,x=ee,y=!1}H=void 0}}finally{H?V():R=!1}}}var V;if(typeof E=="function")V=function(){E(L)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,K=F.port2;F.port1.onmessage=L,V=function(){K.postMessage(null)}}else V=function(){C(L,0)};function re(U,H){O=C(function(){U(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(U){switch(x){case 1:case 2:case 3:var H=3;break;default:H=x}var ee=x;x=H;try{return U()}finally{x=ee}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ee=x;x=U;try{return H()}finally{x=ee}},t.unstable_scheduleCallback=function(U,H,ee){var ae=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ae+ee:ae):ee=ae,U){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=ee+de,U={id:p++,callback:H,priorityLevel:U,startTime:ee,expirationTime:de,sortIndex:-1},ee>ae?(U.sortIndex=ee,e(h,U),n(d)===null&&U===n(h)&&(j?(M(O),O=-1):j=!0,re(k,ee-ae))):(U.sortIndex=de,e(d,U),b||y||(b=!0,R||(R=!0,V()))),U},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(U){var H=x;return function(){var ee=x;x=H;try{return U.apply(this,arguments)}finally{x=ee}}}})(Z0)),Z0}var v2;function jP(){return v2||(v2=1,W0.exports=NP()),W0.exports}var ex={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2;function SP(){if(w2)return on;w2=1;var t=kl();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function i(d,h,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:d,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,on.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return i(d,h,null,p)},on.flushSync=function(d){var h=l.T,p=s.p;try{if(l.T=null,s.p=2,d)return d()}finally{l.T=h,s.p=p,s.d.f()}},on.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(d,h))},on.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},on.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,m=u(p,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?s.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:y}):p==="script"&&s.d.X(d,{crossOrigin:m,integrity:x,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},on.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);s.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(d)},on.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,m=u(p,h.crossOrigin);s.d.L(d,p,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},on.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=u(h.as,h.crossOrigin);s.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(d)},on.requestFormReset=function(d){s.d.r(d)},on.unstable_batchedUpdates=function(d,h){return d(h)},on.useFormState=function(d,h,p){return l.H.useFormState(d,h,p)},on.useFormStatus=function(){return l.H.useHostTransitionStatus()},on.version="19.2.0",on}var N2;function pM(){if(N2)return ex.exports;N2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ex.exports=SP(),ex.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j2;function CP(){if(j2)return Dc;j2=1;var t=jP(),e=kl(),n=pM();function s(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function i(a){var c=a,f=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(f=c.return),a=c.return;while(a)}return c.tag===3?f:null}function l(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function u(a){if(a.tag===31){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function d(a){if(i(a)!==a)throw Error(s(188))}function h(a){var c=a.alternate;if(!c){if(c=i(a),c===null)throw Error(s(188));return c!==a?null:a}for(var f=a,g=c;;){var v=f.return;if(v===null)break;var N=v.alternate;if(N===null){if(g=v.return,g!==null){f=g;continue}break}if(v.child===N.child){for(N=v.child;N;){if(N===f)return d(v),a;if(N===g)return d(v),c;N=N.sibling}throw Error(s(188))}if(f.return!==g.return)f=v,g=N;else{for(var A=!1,P=v.child;P;){if(P===f){A=!0,f=v,g=N;break}if(P===g){A=!0,g=v,f=N;break}P=P.sibling}if(!A){for(P=N.child;P;){if(P===f){A=!0,f=N,g=v;break}if(P===g){A=!0,g=N,f=v;break}P=P.sibling}if(!A)throw Error(s(189))}}if(f.alternate!==g)throw Error(s(190))}if(f.tag!==3)throw Error(s(188));return f.stateNode.current===f?a:c}function p(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=p(a),c!==null)return c;a=a.sibling}return null}var m=Object.assign,x=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),E=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function V(a){return a===null||typeof a!="object"?null:(a=L&&a[L]||a["@@iterator"],typeof a=="function"?a:null)}var F=Symbol.for("react.client.reference");function K(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===F?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case j:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case k:return"Suspense";case R:return"SuspenseList";case D:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case E:return a.displayName||"Context";case M:return(a._context.displayName||"Context")+".Consumer";case S:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return c=a.displayName||null,c!==null?c:K(a.type)||"Memo";case T:c=a._payload,a=a._init;try{return K(a(c))}catch{}}return null}var re=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ae=[],de=-1;function z(a){return{current:a}}function J(a){0>de||(a.current=ae[de],ae[de]=null,de--)}function se(a,c){de++,ae[de]=a.current,a.current=c}var le=z(null),fe=z(null),ve=z(null),me=z(null);function je(a,c){switch(se(ve,c),se(fe,a),se(le,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?Yj(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=Yj(c),a=Jj(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}J(le),se(le,a)}function Se(){J(le),J(fe),J(ve)}function at(a){a.memoizedState!==null&&se(me,a);var c=le.current,f=Jj(c,a.type);c!==f&&(se(fe,a),se(le,f))}function vs(a){fe.current===a&&(J(le),J(fe)),me.current===a&&(J(me),Cc._currentValue=ee)}var Xn,cr;function Vt(a){if(Xn===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);Xn=c&&c[1]||"",cr=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xn+a+cr}var Wn=!1;function ur(a,c){if(!a||Wn)return"";Wn=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var X=Z}Reflect.construct(a,[],ie)}else{try{ie.call()}catch(Z){X=Z}a.call(ie.prototype)}}else{try{throw Error()}catch(Z){X=Z}(ie=a())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=g.DetermineComponentFrameRoot(),A=N[0],P=N[1];if(A&&P){var I=A.split(`
`),Q=P.split(`
`);for(v=g=0;g<I.length&&!I[g].includes("DetermineComponentFrameRoot");)g++;for(;v<Q.length&&!Q[v].includes("DetermineComponentFrameRoot");)v++;if(g===I.length||v===Q.length)for(g=I.length-1,v=Q.length-1;1<=g&&0<=v&&I[g]!==Q[v];)v--;for(;1<=g&&0<=v;g--,v--)if(I[g]!==Q[v]){if(g!==1||v!==1)do if(g--,v--,0>v||I[g]!==Q[v]){var te=`
`+I[g].replace(" at new "," at ");return a.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",a.displayName)),te}while(1<=g&&0<=v);break}}}finally{Wn=!1,Error.prepareStackTrace=f}return(f=a?a.displayName||a.name:"")?Vt(f):""}function Ll(a,c){switch(a.tag){case 26:case 27:case 5:return Vt(a.type);case 16:return Vt("Lazy");case 13:return a.child!==c&&c!==null?Vt("Suspense Fallback"):Vt("Suspense");case 19:return Vt("SuspenseList");case 0:case 15:return ur(a.type,!1);case 11:return ur(a.type.render,!1);case 1:return ur(a.type,!0);case 31:return Vt("Activity");default:return""}}function cd(a){try{var c="",f=null;do c+=Ll(a,f),f=a,a=a.return;while(a);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var eo=Object.prototype.hasOwnProperty,Pl=t.unstable_scheduleCallback,Tm=t.unstable_cancelCallback,oO=t.unstable_shouldYield,lO=t.unstable_requestPaint,Ln=t.unstable_now,cO=t.unstable_getCurrentPriorityLevel,E1=t.unstable_ImmediatePriority,T1=t.unstable_UserBlockingPriority,ud=t.unstable_NormalPriority,uO=t.unstable_LowPriority,M1=t.unstable_IdlePriority,dO=t.log,fO=t.unstable_setDisableYieldValue,Bl=null,Pn=null;function Xr(a){if(typeof dO=="function"&&fO(a),Pn&&typeof Pn.setStrictMode=="function")try{Pn.setStrictMode(Bl,a)}catch{}}var Bn=Math.clz32?Math.clz32:mO,hO=Math.log,pO=Math.LN2;function mO(a){return a>>>=0,a===0?32:31-(hO(a)/pO|0)|0}var dd=256,fd=262144,hd=4194304;function ea(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function pd(a,c,f){var g=a.pendingLanes;if(g===0)return 0;var v=0,N=a.suspendedLanes,A=a.pingedLanes;a=a.warmLanes;var P=g&134217727;return P!==0?(g=P&~N,g!==0?v=ea(g):(A&=P,A!==0?v=ea(A):f||(f=P&~a,f!==0&&(v=ea(f))))):(P=g&~N,P!==0?v=ea(P):A!==0?v=ea(A):f||(f=g&~a,f!==0&&(v=ea(f)))),v===0?0:c!==0&&c!==v&&(c&N)===0&&(N=v&-v,f=c&-c,N>=f||N===32&&(f&4194048)!==0)?c:v}function zl(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function gO(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A1(){var a=hd;return hd<<=1,(hd&62914560)===0&&(hd=4194304),a}function Mm(a){for(var c=[],f=0;31>f;f++)c.push(a);return c}function Il(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function xO(a,c,f,g,v,N){var A=a.pendingLanes;a.pendingLanes=f,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=f,a.entangledLanes&=f,a.errorRecoveryDisabledLanes&=f,a.shellSuspendCounter=0;var P=a.entanglements,I=a.expirationTimes,Q=a.hiddenUpdates;for(f=A&~f;0<f;){var te=31-Bn(f),ie=1<<te;P[te]=0,I[te]=-1;var X=Q[te];if(X!==null)for(Q[te]=null,te=0;te<X.length;te++){var Z=X[te];Z!==null&&(Z.lane&=-536870913)}f&=~ie}g!==0&&_1(a,g,0),N!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=N&~(A&~c))}function _1(a,c,f){a.pendingLanes|=c,a.suspendedLanes&=~c;var g=31-Bn(c);a.entangledLanes|=c,a.entanglements[g]=a.entanglements[g]|1073741824|f&261930}function D1(a,c){var f=a.entangledLanes|=c;for(a=a.entanglements;f;){var g=31-Bn(f),v=1<<g;v&c|a[g]&c&&(a[g]|=c),f&=~v}}function O1(a,c){var f=c&-c;return f=(f&42)!==0?1:Am(f),(f&(a.suspendedLanes|c))!==0?0:f}function Am(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function _m(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function R1(){var a=H.p;return a!==0?a:(a=window.event,a===void 0?32:bS(a.type))}function L1(a,c){var f=H.p;try{return H.p=a,c()}finally{H.p=f}}var Wr=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Wr,vn="__reactProps$"+Wr,to="__reactContainer$"+Wr,Dm="__reactEvents$"+Wr,yO="__reactListeners$"+Wr,bO="__reactHandles$"+Wr,P1="__reactResources$"+Wr,Vl="__reactMarker$"+Wr;function Om(a){delete a[Yt],delete a[vn],delete a[Dm],delete a[yO],delete a[bO]}function no(a){var c=a[Yt];if(c)return c;for(var f=a.parentNode;f;){if(c=f[to]||f[Yt]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(a=sS(a);a!==null;){if(f=a[Yt])return f;a=sS(a)}return c}a=f,f=a.parentNode}return null}function so(a){if(a=a[Yt]||a[to]){var c=a.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return a}return null}function Ul(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(s(33))}function ro(a){var c=a[P1];return c||(c=a[P1]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Ut(a){a[Vl]=!0}var B1=new Set,z1={};function ta(a,c){io(a,c),io(a+"Capture",c)}function io(a,c){for(z1[a]=c,a=0;a<c.length;a++)B1.add(c[a])}var vO=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),I1={},V1={};function wO(a){return eo.call(V1,a)?!0:eo.call(I1,a)?!1:vO.test(a)?V1[a]=!0:(I1[a]=!0,!1)}function md(a,c,f){if(wO(c))if(f===null)a.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+f)}}function gd(a,c,f){if(f===null)a.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+f)}}function dr(a,c,f,g){if(g===null)a.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(f);return}a.setAttributeNS(c,f,""+g)}}function Zn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function U1(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function NO(a,c,f){var g=Object.getOwnPropertyDescriptor(a.constructor.prototype,c);if(!a.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var v=g.get,N=g.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return v.call(this)},set:function(A){f=""+A,N.call(this,A)}}),Object.defineProperty(a,c,{enumerable:g.enumerable}),{getValue:function(){return f},setValue:function(A){f=""+A},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function Rm(a){if(!a._valueTracker){var c=U1(a)?"checked":"value";a._valueTracker=NO(a,c,""+a[c])}}function $1(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var f=c.getValue(),g="";return a&&(g=U1(a)?a.checked?"true":"false":a.value),a=g,a!==f?(c.setValue(a),!0):!1}function xd(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var jO=/[\n"\\]/g;function es(a){return a.replace(jO,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Lm(a,c,f,g,v,N,A,P){a.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.type=A:a.removeAttribute("type"),c!=null?A==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+Zn(c)):a.value!==""+Zn(c)&&(a.value=""+Zn(c)):A!=="submit"&&A!=="reset"||a.removeAttribute("value"),c!=null?Pm(a,A,Zn(c)):f!=null?Pm(a,A,Zn(f)):g!=null&&a.removeAttribute("value"),v==null&&N!=null&&(a.defaultChecked=!!N),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.name=""+Zn(P):a.removeAttribute("name")}function F1(a,c,f,g,v,N,A,P){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.type=N),c!=null||f!=null){if(!(N!=="submit"&&N!=="reset"||c!=null)){Rm(a);return}f=f!=null?""+Zn(f):"",c=c!=null?""+Zn(c):f,P||c===a.value||(a.value=c),a.defaultValue=c}g=g??v,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=P?a.checked:!!g,a.defaultChecked=!!g,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.name=A),Rm(a)}function Pm(a,c,f){c==="number"&&xd(a.ownerDocument)===a||a.defaultValue===""+f||(a.defaultValue=""+f)}function ao(a,c,f,g){if(a=a.options,c){c={};for(var v=0;v<f.length;v++)c["$"+f[v]]=!0;for(f=0;f<a.length;f++)v=c.hasOwnProperty("$"+a[f].value),a[f].selected!==v&&(a[f].selected=v),v&&g&&(a[f].defaultSelected=!0)}else{for(f=""+Zn(f),c=null,v=0;v<a.length;v++){if(a[v].value===f){a[v].selected=!0,g&&(a[v].defaultSelected=!0);return}c!==null||a[v].disabled||(c=a[v])}c!==null&&(c.selected=!0)}}function q1(a,c,f){if(c!=null&&(c=""+Zn(c),c!==a.value&&(a.value=c),f==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=f!=null?""+Zn(f):""}function H1(a,c,f,g){if(c==null){if(g!=null){if(f!=null)throw Error(s(92));if(re(g)){if(1<g.length)throw Error(s(93));g=g[0]}f=g}f==null&&(f=""),c=f}f=Zn(c),a.defaultValue=f,g=a.textContent,g===f&&g!==""&&g!==null&&(a.value=g),Rm(a)}function oo(a,c){if(c){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=c;return}}a.textContent=c}var SO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function K1(a,c,f){var g=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?g?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":g?a.setProperty(c,f):typeof f!="number"||f===0||SO.has(c)?c==="float"?a.cssFloat=f:a[c]=(""+f).trim():a[c]=f+"px"}function G1(a,c,f){if(c!=null&&typeof c!="object")throw Error(s(62));if(a=a.style,f!=null){for(var g in f)!f.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var v in c)g=c[v],c.hasOwnProperty(v)&&f[v]!==g&&K1(a,v,g)}else for(var N in c)c.hasOwnProperty(N)&&K1(a,N,c[N])}function Bm(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var CO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yd(a){return kO.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function fr(){}var zm=null;function Im(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var lo=null,co=null;function Q1(a){var c=so(a);if(c&&(a=c.stateNode)){var f=a[vn]||null;e:switch(a=c.stateNode,c.type){case"input":if(Lm(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+es(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var g=f[c];if(g!==a&&g.form===a.form){var v=g[vn]||null;if(!v)throw Error(s(90));Lm(g,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(c=0;c<f.length;c++)g=f[c],g.form===a.form&&$1(g)}break e;case"textarea":q1(a,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&ao(a,!!f.multiple,c,!1)}}}var Vm=!1;function Y1(a,c,f){if(Vm)return a(c,f);Vm=!0;try{var g=a(c);return g}finally{if(Vm=!1,(lo!==null||co!==null)&&(af(),lo&&(c=lo,a=co,co=lo=null,Q1(c),a)))for(c=0;c<a.length;c++)Q1(a[c])}}function $l(a,c){var f=a.stateNode;if(f===null)return null;var g=f[vn]||null;if(g===null)return null;f=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(s(231,c,typeof f));return f}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Um=!1;if(hr)try{var Fl={};Object.defineProperty(Fl,"passive",{get:function(){Um=!0}}),window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{Um=!1}var Zr=null,$m=null,bd=null;function J1(){if(bd)return bd;var a,c=$m,f=c.length,g,v="value"in Zr?Zr.value:Zr.textContent,N=v.length;for(a=0;a<f&&c[a]===v[a];a++);var A=f-a;for(g=1;g<=A&&c[f-g]===v[N-g];g++);return bd=v.slice(a,1<g?1-g:void 0)}function vd(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function wd(){return!0}function X1(){return!1}function wn(a){function c(f,g,v,N,A){this._reactName=f,this._targetInst=v,this.type=g,this.nativeEvent=N,this.target=A,this.currentTarget=null;for(var P in a)a.hasOwnProperty(P)&&(f=a[P],this[P]=f?f(N):N[P]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?wd:X1,this.isPropagationStopped=X1,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=wd)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=wd)},persist:function(){},isPersistent:wd}),c}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nd=wn(na),ql=m({},na,{view:0,detail:0}),EO=wn(ql),Fm,qm,Hl,jd=m({},ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Km,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Hl&&(Hl&&a.type==="mousemove"?(Fm=a.screenX-Hl.screenX,qm=a.screenY-Hl.screenY):qm=Fm=0,Hl=a),Fm)},movementY:function(a){return"movementY"in a?a.movementY:qm}}),W1=wn(jd),TO=m({},jd,{dataTransfer:0}),MO=wn(TO),AO=m({},ql,{relatedTarget:0}),Hm=wn(AO),_O=m({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),DO=wn(_O),OO=m({},na,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),RO=wn(OO),LO=m({},na,{data:0}),Z1=wn(LO),PO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IO(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=zO[a])?!!c[a]:!1}function Km(){return IO}var VO=m({},ql,{key:function(a){if(a.key){var c=PO[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=vd(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?BO[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Km,charCode:function(a){return a.type==="keypress"?vd(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?vd(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),UO=wn(VO),$O=m({},jd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ew=wn($O),FO=m({},ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Km}),qO=wn(FO),HO=m({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),KO=wn(HO),GO=m({},jd,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),QO=wn(GO),YO=m({},na,{newState:0,oldState:0}),JO=wn(YO),XO=[9,13,27,32],Gm=hr&&"CompositionEvent"in window,Kl=null;hr&&"documentMode"in document&&(Kl=document.documentMode);var WO=hr&&"TextEvent"in window&&!Kl,tw=hr&&(!Gm||Kl&&8<Kl&&11>=Kl),nw=" ",sw=!1;function rw(a,c){switch(a){case"keyup":return XO.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var uo=!1;function ZO(a,c){switch(a){case"compositionend":return iw(c);case"keypress":return c.which!==32?null:(sw=!0,nw);case"textInput":return a=c.data,a===nw&&sw?null:a;default:return null}}function e6(a,c){if(uo)return a==="compositionend"||!Gm&&rw(a,c)?(a=J1(),bd=$m=Zr=null,uo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return tw&&c.locale!=="ko"?null:c.data;default:return null}}var t6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aw(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!t6[a.type]:c==="textarea"}function ow(a,c,f,g){lo?co?co.push(g):co=[g]:lo=g,c=hf(c,"onChange"),0<c.length&&(f=new Nd("onChange","change",null,f,g),a.push({event:f,listeners:c}))}var Gl=null,Ql=null;function n6(a){Fj(a,0)}function Sd(a){var c=Ul(a);if($1(c))return a}function lw(a,c){if(a==="change")return c}var cw=!1;if(hr){var Qm;if(hr){var Ym="oninput"in document;if(!Ym){var uw=document.createElement("div");uw.setAttribute("oninput","return;"),Ym=typeof uw.oninput=="function"}Qm=Ym}else Qm=!1;cw=Qm&&(!document.documentMode||9<document.documentMode)}function dw(){Gl&&(Gl.detachEvent("onpropertychange",fw),Ql=Gl=null)}function fw(a){if(a.propertyName==="value"&&Sd(Ql)){var c=[];ow(c,Ql,a,Im(a)),Y1(n6,c)}}function s6(a,c,f){a==="focusin"?(dw(),Gl=c,Ql=f,Gl.attachEvent("onpropertychange",fw)):a==="focusout"&&dw()}function r6(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Sd(Ql)}function i6(a,c){if(a==="click")return Sd(c)}function a6(a,c){if(a==="input"||a==="change")return Sd(c)}function o6(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var zn=typeof Object.is=="function"?Object.is:o6;function Yl(a,c){if(zn(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var f=Object.keys(a),g=Object.keys(c);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var v=f[g];if(!eo.call(c,v)||!zn(a[v],c[v]))return!1}return!0}function hw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function pw(a,c){var f=hw(a);a=0;for(var g;f;){if(f.nodeType===3){if(g=a+f.textContent.length,a<=c&&g>=c)return{node:f,offset:c-a};a=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=hw(f)}}function mw(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?mw(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function gw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=xd(a.document);c instanceof a.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)a=c.contentWindow;else break;c=xd(a.document)}return c}function Jm(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var l6=hr&&"documentMode"in document&&11>=document.documentMode,fo=null,Xm=null,Jl=null,Wm=!1;function xw(a,c,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Wm||fo==null||fo!==xd(g)||(g=fo,"selectionStart"in g&&Jm(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Jl&&Yl(Jl,g)||(Jl=g,g=hf(Xm,"onSelect"),0<g.length&&(c=new Nd("onSelect","select",null,c,f),a.push({event:c,listeners:g}),c.target=fo)))}function sa(a,c){var f={};return f[a.toLowerCase()]=c.toLowerCase(),f["Webkit"+a]="webkit"+c,f["Moz"+a]="moz"+c,f}var ho={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},Zm={},yw={};hr&&(yw=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function ra(a){if(Zm[a])return Zm[a];if(!ho[a])return a;var c=ho[a],f;for(f in c)if(c.hasOwnProperty(f)&&f in yw)return Zm[a]=c[f];return a}var bw=ra("animationend"),vw=ra("animationiteration"),ww=ra("animationstart"),c6=ra("transitionrun"),u6=ra("transitionstart"),d6=ra("transitioncancel"),Nw=ra("transitionend"),jw=new Map,eg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");eg.push("scrollEnd");function ws(a,c){jw.set(a,c),ta(c,[a])}var Cd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ts=[],po=0,tg=0;function kd(){for(var a=po,c=tg=po=0;c<a;){var f=ts[c];ts[c++]=null;var g=ts[c];ts[c++]=null;var v=ts[c];ts[c++]=null;var N=ts[c];if(ts[c++]=null,g!==null&&v!==null){var A=g.pending;A===null?v.next=v:(v.next=A.next,A.next=v),g.pending=v}N!==0&&Sw(f,v,N)}}function Ed(a,c,f,g){ts[po++]=a,ts[po++]=c,ts[po++]=f,ts[po++]=g,tg|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function ng(a,c,f,g){return Ed(a,c,f,g),Td(a)}function ia(a,c){return Ed(a,null,null,c),Td(a)}function Sw(a,c,f){a.lanes|=f;var g=a.alternate;g!==null&&(g.lanes|=f);for(var v=!1,N=a.return;N!==null;)N.childLanes|=f,g=N.alternate,g!==null&&(g.childLanes|=f),N.tag===22&&(a=N.stateNode,a===null||a._visibility&1||(v=!0)),a=N,N=N.return;return a.tag===3?(N=a.stateNode,v&&c!==null&&(v=31-Bn(f),a=N.hiddenUpdates,g=a[v],g===null?a[v]=[c]:g.push(c),c.lane=f|536870912),N):null}function Td(a){if(50<yc)throw yc=0,d0=null,Error(s(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var mo={};function f6(a,c,f,g){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(a,c,f,g){return new f6(a,c,f,g)}function sg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function pr(a,c){var f=a.alternate;return f===null?(f=In(a.tag,c,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=c,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&65011712,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,c=a.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f.refCleanup=a.refCleanup,f}function Cw(a,c){a.flags&=65011714;var f=a.alternate;return f===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=f.childLanes,a.lanes=f.lanes,a.child=f.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=f.memoizedProps,a.memoizedState=f.memoizedState,a.updateQueue=f.updateQueue,a.type=f.type,c=f.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function Md(a,c,f,g,v,N){var A=0;if(g=a,typeof a=="function")sg(a)&&(A=1);else if(typeof a=="string")A=x5(a,f,le.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case D:return a=In(31,f,c,v),a.elementType=D,a.lanes=N,a;case j:return aa(f.children,v,N,c);case w:A=8,v|=24;break;case C:return a=In(12,f,c,v|2),a.elementType=C,a.lanes=N,a;case k:return a=In(13,f,c,v),a.elementType=k,a.lanes=N,a;case R:return a=In(19,f,c,v),a.elementType=R,a.lanes=N,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case E:A=10;break e;case M:A=9;break e;case S:A=11;break e;case O:A=14;break e;case T:A=16,g=null;break e}A=29,f=Error(s(130,a===null?"null":typeof a,"")),g=null}return c=In(A,f,c,v),c.elementType=a,c.type=g,c.lanes=N,c}function aa(a,c,f,g){return a=In(7,a,g,c),a.lanes=f,a}function rg(a,c,f){return a=In(6,a,null,c),a.lanes=f,a}function kw(a){var c=In(18,null,null,0);return c.stateNode=a,c}function ig(a,c,f){return c=In(4,a.children!==null?a.children:[],a.key,c),c.lanes=f,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var Ew=new WeakMap;function ns(a,c){if(typeof a=="object"&&a!==null){var f=Ew.get(a);return f!==void 0?f:(c={value:a,source:c,stack:cd(c)},Ew.set(a,c),c)}return{value:a,source:c,stack:cd(c)}}var go=[],xo=0,Ad=null,Xl=0,ss=[],rs=0,ei=null,Is=1,Vs="";function mr(a,c){go[xo++]=Xl,go[xo++]=Ad,Ad=a,Xl=c}function Tw(a,c,f){ss[rs++]=Is,ss[rs++]=Vs,ss[rs++]=ei,ei=a;var g=Is;a=Vs;var v=32-Bn(g)-1;g&=~(1<<v),f+=1;var N=32-Bn(c)+v;if(30<N){var A=v-v%5;N=(g&(1<<A)-1).toString(32),g>>=A,v-=A,Is=1<<32-Bn(c)+v|f<<v|g,Vs=N+a}else Is=1<<N|f<<v|g,Vs=a}function ag(a){a.return!==null&&(mr(a,1),Tw(a,1,0))}function og(a){for(;a===Ad;)Ad=go[--xo],go[xo]=null,Xl=go[--xo],go[xo]=null;for(;a===ei;)ei=ss[--rs],ss[rs]=null,Vs=ss[--rs],ss[rs]=null,Is=ss[--rs],ss[rs]=null}function Mw(a,c){ss[rs++]=Is,ss[rs++]=Vs,ss[rs++]=ei,Is=c.id,Vs=c.overflow,ei=a}var Jt=null,ot=null,Fe=!1,ti=null,is=!1,lg=Error(s(519));function ni(a){var c=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(ns(c,a)),lg}function Aw(a){var c=a.stateNode,f=a.type,g=a.memoizedProps;switch(c[Yt]=a,c[vn]=g,f){case"dialog":Ve("cancel",c),Ve("close",c);break;case"iframe":case"object":case"embed":Ve("load",c);break;case"video":case"audio":for(f=0;f<vc.length;f++)Ve(vc[f],c);break;case"source":Ve("error",c);break;case"img":case"image":case"link":Ve("error",c),Ve("load",c);break;case"details":Ve("toggle",c);break;case"input":Ve("invalid",c),F1(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Ve("invalid",c);break;case"textarea":Ve("invalid",c),H1(c,g.value,g.defaultValue,g.children)}f=g.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||g.suppressHydrationWarning===!0||Gj(c.textContent,f)?(g.popover!=null&&(Ve("beforetoggle",c),Ve("toggle",c)),g.onScroll!=null&&Ve("scroll",c),g.onScrollEnd!=null&&Ve("scrollend",c),g.onClick!=null&&(c.onclick=fr),c=!0):c=!1,c||ni(a,!0)}function _w(a){for(Jt=a.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:is=!1;return;case 27:case 3:is=!0;return;default:Jt=Jt.return}}function yo(a){if(a!==Jt)return!1;if(!Fe)return _w(a),Fe=!0,!1;var c=a.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=a.type,f=!(f!=="form"&&f!=="button")||k0(a.type,a.memoizedProps)),f=!f),f&&ot&&ni(a),_w(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(317));ot=nS(a)}else if(c===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(317));ot=nS(a)}else c===27?(c=ot,gi(a.type)?(a=_0,_0=null,ot=a):ot=c):ot=Jt?ls(a.stateNode.nextSibling):null;return!0}function oa(){ot=Jt=null,Fe=!1}function cg(){var a=ti;return a!==null&&(Cn===null?Cn=a:Cn.push.apply(Cn,a),ti=null),a}function Wl(a){ti===null?ti=[a]:ti.push(a)}var ug=z(null),la=null,gr=null;function si(a,c,f){se(ug,c._currentValue),c._currentValue=f}function xr(a){a._currentValue=ug.current,J(ug)}function dg(a,c,f){for(;a!==null;){var g=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),a===f)break;a=a.return}}function fg(a,c,f,g){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var N=v.dependencies;if(N!==null){var A=v.child;N=N.firstContext;e:for(;N!==null;){var P=N;N=v;for(var I=0;I<c.length;I++)if(P.context===c[I]){N.lanes|=f,P=N.alternate,P!==null&&(P.lanes|=f),dg(N.return,f,a),g||(A=null);break e}N=P.next}}else if(v.tag===18){if(A=v.return,A===null)throw Error(s(341));A.lanes|=f,N=A.alternate,N!==null&&(N.lanes|=f),dg(A,f,a),A=null}else A=v.child;if(A!==null)A.return=v;else for(A=v;A!==null;){if(A===a){A=null;break}if(v=A.sibling,v!==null){v.return=A.return,A=v;break}A=A.return}v=A}}function bo(a,c,f,g){a=null;for(var v=c,N=!1;v!==null;){if(!N){if((v.flags&524288)!==0)N=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var A=v.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var P=v.type;zn(v.pendingProps.value,A.value)||(a!==null?a.push(P):a=[P])}}else if(v===me.current){if(A=v.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Cc):a=[Cc])}v=v.return}a!==null&&fg(c,a,f,g),c.flags|=262144}function _d(a){for(a=a.firstContext;a!==null;){if(!zn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ca(a){la=a,gr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Xt(a){return Dw(la,a)}function Dd(a,c){return la===null&&ca(a),Dw(a,c)}function Dw(a,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},gr===null){if(a===null)throw Error(s(308));gr=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else gr=gr.next=c;return f}var h6=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(f,g){a.push(g)}};this.abort=function(){c.aborted=!0,a.forEach(function(f){return f()})}},p6=t.unstable_scheduleCallback,m6=t.unstable_NormalPriority,Tt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hg(){return{controller:new h6,data:new Map,refCount:0}}function Zl(a){a.refCount--,a.refCount===0&&p6(m6,function(){a.controller.abort()})}var ec=null,pg=0,vo=0,wo=null;function g6(a,c){if(ec===null){var f=ec=[];pg=0,vo=x0(),wo={status:"pending",value:void 0,then:function(g){f.push(g)}}}return pg++,c.then(Ow,Ow),c}function Ow(){if(--pg===0&&ec!==null){wo!==null&&(wo.status="fulfilled");var a=ec;ec=null,vo=0,wo=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function x6(a,c){var f=[],g={status:"pending",value:null,reason:null,then:function(v){f.push(v)}};return a.then(function(){g.status="fulfilled",g.value=c;for(var v=0;v<f.length;v++)(0,f[v])(c)},function(v){for(g.status="rejected",g.reason=v,v=0;v<f.length;v++)(0,f[v])(void 0)}),g}var Rw=U.S;U.S=function(a,c){xj=Ln(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&g6(a,c),Rw!==null&&Rw(a,c)};var ua=z(null);function mg(){var a=ua.current;return a!==null?a:rt.pooledCache}function Od(a,c){c===null?se(ua,ua.current):se(ua,c.pool)}function Lw(){var a=mg();return a===null?null:{parent:Tt._currentValue,pool:a}}var No=Error(s(460)),gg=Error(s(474)),Rd=Error(s(542)),Ld={then:function(){}};function Pw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Bw(a,c,f){switch(f=a[f],f===void 0?a.push(c):f!==c&&(c.then(fr,fr),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,Iw(a),a;default:if(typeof c.status=="string")c.then(fr,fr);else{if(a=rt,a!==null&&100<a.shellSuspendCounter)throw Error(s(482));a=c,a.status="pending",a.then(function(g){if(c.status==="pending"){var v=c;v.status="fulfilled",v.value=g}},function(g){if(c.status==="pending"){var v=c;v.status="rejected",v.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,Iw(a),a}throw fa=c,No}}function da(a){try{var c=a._init;return c(a._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(fa=f,No):f}}var fa=null;function zw(){if(fa===null)throw Error(s(459));var a=fa;return fa=null,a}function Iw(a){if(a===No||a===Rd)throw Error(s(483))}var jo=null,tc=0;function Pd(a){var c=tc;return tc+=1,jo===null&&(jo=[]),Bw(jo,a,c)}function nc(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function Bd(a,c){throw c.$$typeof===x?Error(s(525)):(a=Object.prototype.toString.call(c),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function Vw(a){function c(q,$){if(a){var G=q.deletions;G===null?(q.deletions=[$],q.flags|=16):G.push($)}}function f(q,$){if(!a)return null;for(;$!==null;)c(q,$),$=$.sibling;return null}function g(q){for(var $=new Map;q!==null;)q.key!==null?$.set(q.key,q):$.set(q.index,q),q=q.sibling;return $}function v(q,$){return q=pr(q,$),q.index=0,q.sibling=null,q}function N(q,$,G){return q.index=G,a?(G=q.alternate,G!==null?(G=G.index,G<$?(q.flags|=67108866,$):G):(q.flags|=67108866,$)):(q.flags|=1048576,$)}function A(q){return a&&q.alternate===null&&(q.flags|=67108866),q}function P(q,$,G,ne){return $===null||$.tag!==6?($=rg(G,q.mode,ne),$.return=q,$):($=v($,G),$.return=q,$)}function I(q,$,G,ne){var ye=G.type;return ye===j?te(q,$,G.props.children,ne,G.key):$!==null&&($.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===T&&da(ye)===$.type)?($=v($,G.props),nc($,G),$.return=q,$):($=Md(G.type,G.key,G.props,null,q.mode,ne),nc($,G),$.return=q,$)}function Q(q,$,G,ne){return $===null||$.tag!==4||$.stateNode.containerInfo!==G.containerInfo||$.stateNode.implementation!==G.implementation?($=ig(G,q.mode,ne),$.return=q,$):($=v($,G.children||[]),$.return=q,$)}function te(q,$,G,ne,ye){return $===null||$.tag!==7?($=aa(G,q.mode,ne,ye),$.return=q,$):($=v($,G),$.return=q,$)}function ie(q,$,G){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=rg(""+$,q.mode,G),$.return=q,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case y:return G=Md($.type,$.key,$.props,null,q.mode,G),nc(G,$),G.return=q,G;case b:return $=ig($,q.mode,G),$.return=q,$;case T:return $=da($),ie(q,$,G)}if(re($)||V($))return $=aa($,q.mode,G,null),$.return=q,$;if(typeof $.then=="function")return ie(q,Pd($),G);if($.$$typeof===E)return ie(q,Dd(q,$),G);Bd(q,$)}return null}function X(q,$,G,ne){var ye=$!==null?$.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ye!==null?null:P(q,$,""+G,ne);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case y:return G.key===ye?I(q,$,G,ne):null;case b:return G.key===ye?Q(q,$,G,ne):null;case T:return G=da(G),X(q,$,G,ne)}if(re(G)||V(G))return ye!==null?null:te(q,$,G,ne,null);if(typeof G.then=="function")return X(q,$,Pd(G),ne);if(G.$$typeof===E)return X(q,$,Dd(q,G),ne);Bd(q,G)}return null}function Z(q,$,G,ne,ye){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return q=q.get(G)||null,P($,q,""+ne,ye);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case y:return q=q.get(ne.key===null?G:ne.key)||null,I($,q,ne,ye);case b:return q=q.get(ne.key===null?G:ne.key)||null,Q($,q,ne,ye);case T:return ne=da(ne),Z(q,$,G,ne,ye)}if(re(ne)||V(ne))return q=q.get(G)||null,te($,q,ne,ye,null);if(typeof ne.then=="function")return Z(q,$,G,Pd(ne),ye);if(ne.$$typeof===E)return Z(q,$,G,Dd($,ne),ye);Bd($,ne)}return null}function ge(q,$,G,ne){for(var ye=null,He=null,xe=$,Oe=$=0,$e=null;xe!==null&&Oe<G.length;Oe++){xe.index>Oe?($e=xe,xe=null):$e=xe.sibling;var Ke=X(q,xe,G[Oe],ne);if(Ke===null){xe===null&&(xe=$e);break}a&&xe&&Ke.alternate===null&&c(q,xe),$=N(Ke,$,Oe),He===null?ye=Ke:He.sibling=Ke,He=Ke,xe=$e}if(Oe===G.length)return f(q,xe),Fe&&mr(q,Oe),ye;if(xe===null){for(;Oe<G.length;Oe++)xe=ie(q,G[Oe],ne),xe!==null&&($=N(xe,$,Oe),He===null?ye=xe:He.sibling=xe,He=xe);return Fe&&mr(q,Oe),ye}for(xe=g(xe);Oe<G.length;Oe++)$e=Z(xe,q,Oe,G[Oe],ne),$e!==null&&(a&&$e.alternate!==null&&xe.delete($e.key===null?Oe:$e.key),$=N($e,$,Oe),He===null?ye=$e:He.sibling=$e,He=$e);return a&&xe.forEach(function(wi){return c(q,wi)}),Fe&&mr(q,Oe),ye}function Ne(q,$,G,ne){if(G==null)throw Error(s(151));for(var ye=null,He=null,xe=$,Oe=$=0,$e=null,Ke=G.next();xe!==null&&!Ke.done;Oe++,Ke=G.next()){xe.index>Oe?($e=xe,xe=null):$e=xe.sibling;var wi=X(q,xe,Ke.value,ne);if(wi===null){xe===null&&(xe=$e);break}a&&xe&&wi.alternate===null&&c(q,xe),$=N(wi,$,Oe),He===null?ye=wi:He.sibling=wi,He=wi,xe=$e}if(Ke.done)return f(q,xe),Fe&&mr(q,Oe),ye;if(xe===null){for(;!Ke.done;Oe++,Ke=G.next())Ke=ie(q,Ke.value,ne),Ke!==null&&($=N(Ke,$,Oe),He===null?ye=Ke:He.sibling=Ke,He=Ke);return Fe&&mr(q,Oe),ye}for(xe=g(xe);!Ke.done;Oe++,Ke=G.next())Ke=Z(xe,q,Oe,Ke.value,ne),Ke!==null&&(a&&Ke.alternate!==null&&xe.delete(Ke.key===null?Oe:Ke.key),$=N(Ke,$,Oe),He===null?ye=Ke:He.sibling=Ke,He=Ke);return a&&xe.forEach(function(T5){return c(q,T5)}),Fe&&mr(q,Oe),ye}function st(q,$,G,ne){if(typeof G=="object"&&G!==null&&G.type===j&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case y:e:{for(var ye=G.key;$!==null;){if($.key===ye){if(ye=G.type,ye===j){if($.tag===7){f(q,$.sibling),ne=v($,G.props.children),ne.return=q,q=ne;break e}}else if($.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===T&&da(ye)===$.type){f(q,$.sibling),ne=v($,G.props),nc(ne,G),ne.return=q,q=ne;break e}f(q,$);break}else c(q,$);$=$.sibling}G.type===j?(ne=aa(G.props.children,q.mode,ne,G.key),ne.return=q,q=ne):(ne=Md(G.type,G.key,G.props,null,q.mode,ne),nc(ne,G),ne.return=q,q=ne)}return A(q);case b:e:{for(ye=G.key;$!==null;){if($.key===ye)if($.tag===4&&$.stateNode.containerInfo===G.containerInfo&&$.stateNode.implementation===G.implementation){f(q,$.sibling),ne=v($,G.children||[]),ne.return=q,q=ne;break e}else{f(q,$);break}else c(q,$);$=$.sibling}ne=ig(G,q.mode,ne),ne.return=q,q=ne}return A(q);case T:return G=da(G),st(q,$,G,ne)}if(re(G))return ge(q,$,G,ne);if(V(G)){if(ye=V(G),typeof ye!="function")throw Error(s(150));return G=ye.call(G),Ne(q,$,G,ne)}if(typeof G.then=="function")return st(q,$,Pd(G),ne);if(G.$$typeof===E)return st(q,$,Dd(q,G),ne);Bd(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,$!==null&&$.tag===6?(f(q,$.sibling),ne=v($,G),ne.return=q,q=ne):(f(q,$),ne=rg(G,q.mode,ne),ne.return=q,q=ne),A(q)):f(q,$)}return function(q,$,G,ne){try{tc=0;var ye=st(q,$,G,ne);return jo=null,ye}catch(xe){if(xe===No||xe===Rd)throw xe;var He=In(29,xe,null,q.mode);return He.lanes=ne,He.return=q,He}finally{}}}var ha=Vw(!0),Uw=Vw(!1),ri=!1;function xg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yg(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ii(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ai(a,c,f){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Qe&2)!==0){var v=g.pending;return v===null?c.next=c:(c.next=v.next,v.next=c),g.pending=c,c=Td(a),Sw(a,null,f),c}return Ed(a,g,c,f),Td(a)}function sc(a,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var g=c.lanes;g&=a.pendingLanes,f|=g,c.lanes=f,D1(a,f)}}function bg(a,c){var f=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var v=null,N=null;if(f=f.firstBaseUpdate,f!==null){do{var A={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};N===null?v=N=A:N=N.next=A,f=f.next}while(f!==null);N===null?v=N=c:N=N.next=c}else v=N=c;f={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:N,shared:g.shared,callbacks:g.callbacks},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=c}var vg=!1;function rc(){if(vg){var a=wo;if(a!==null)throw a}}function ic(a,c,f,g){vg=!1;var v=a.updateQueue;ri=!1;var N=v.firstBaseUpdate,A=v.lastBaseUpdate,P=v.shared.pending;if(P!==null){v.shared.pending=null;var I=P,Q=I.next;I.next=null,A===null?N=Q:A.next=Q,A=I;var te=a.alternate;te!==null&&(te=te.updateQueue,P=te.lastBaseUpdate,P!==A&&(P===null?te.firstBaseUpdate=Q:P.next=Q,te.lastBaseUpdate=I))}if(N!==null){var ie=v.baseState;A=0,te=Q=I=null,P=N;do{var X=P.lane&-536870913,Z=X!==P.lane;if(Z?(Ue&X)===X:(g&X)===X){X!==0&&X===vo&&(vg=!0),te!==null&&(te=te.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var ge=a,Ne=P;X=c;var st=f;switch(Ne.tag){case 1:if(ge=Ne.payload,typeof ge=="function"){ie=ge.call(st,ie,X);break e}ie=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ne.payload,X=typeof ge=="function"?ge.call(st,ie,X):ge,X==null)break e;ie=m({},ie,X);break e;case 2:ri=!0}}X=P.callback,X!==null&&(a.flags|=64,Z&&(a.flags|=8192),Z=v.callbacks,Z===null?v.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:P.tag,payload:P.payload,callback:P.callback,next:null},te===null?(Q=te=Z,I=ie):te=te.next=Z,A|=X;if(P=P.next,P===null){if(P=v.shared.pending,P===null)break;Z=P,P=Z.next,Z.next=null,v.lastBaseUpdate=Z,v.shared.pending=null}}while(!0);te===null&&(I=ie),v.baseState=I,v.firstBaseUpdate=Q,v.lastBaseUpdate=te,N===null&&(v.shared.lanes=0),di|=A,a.lanes=A,a.memoizedState=ie}}function $w(a,c){if(typeof a!="function")throw Error(s(191,a));a.call(c)}function Fw(a,c){var f=a.callbacks;if(f!==null)for(a.callbacks=null,a=0;a<f.length;a++)$w(f[a],c)}var So=z(null),zd=z(0);function qw(a,c){a=kr,se(zd,a),se(So,c),kr=a|c.baseLanes}function wg(){se(zd,kr),se(So,So.current)}function Ng(){kr=zd.current,J(So),J(zd)}var Vn=z(null),as=null;function oi(a){var c=a.alternate;se(Nt,Nt.current&1),se(Vn,a),as===null&&(c===null||So.current!==null||c.memoizedState!==null)&&(as=a)}function jg(a){se(Nt,Nt.current),se(Vn,a),as===null&&(as=a)}function Hw(a){a.tag===22?(se(Nt,Nt.current),se(Vn,a),as===null&&(as=a)):li()}function li(){se(Nt,Nt.current),se(Vn,Vn.current)}function Un(a){J(Vn),as===a&&(as=null),J(Nt)}var Nt=z(0);function Id(a){for(var c=a;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||M0(f)||A0(f)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var yr=0,_e=null,tt=null,Mt=null,Vd=!1,Co=!1,pa=!1,Ud=0,ac=0,ko=null,y6=0;function xt(){throw Error(s(321))}function Sg(a,c){if(c===null)return!1;for(var f=0;f<c.length&&f<a.length;f++)if(!zn(a[f],c[f]))return!1;return!0}function Cg(a,c,f,g,v,N){return yr=N,_e=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,U.H=a===null||a.memoizedState===null?TN:Vg,pa=!1,N=f(g,v),pa=!1,Co&&(N=Gw(c,f,g,v)),Kw(a),N}function Kw(a){U.H=cc;var c=tt!==null&&tt.next!==null;if(yr=0,Mt=tt=_e=null,Vd=!1,ac=0,ko=null,c)throw Error(s(300));a===null||At||(a=a.dependencies,a!==null&&_d(a)&&(At=!0))}function Gw(a,c,f,g){_e=a;var v=0;do{if(Co&&(ko=null),ac=0,Co=!1,25<=v)throw Error(s(301));if(v+=1,Mt=tt=null,a.updateQueue!=null){var N=a.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}U.H=MN,N=c(f,g)}while(Co);return N}function b6(){var a=U.H,c=a.useState()[0];return c=typeof c.then=="function"?oc(c):c,a=a.useState()[0],(tt!==null?tt.memoizedState:null)!==a&&(_e.flags|=1024),c}function kg(){var a=Ud!==0;return Ud=0,a}function Eg(a,c,f){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~f}function Tg(a){if(Vd){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Vd=!1}yr=0,Mt=tt=_e=null,Co=!1,ac=Ud=0,ko=null}function mn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?_e.memoizedState=Mt=a:Mt=Mt.next=a,Mt}function jt(){if(tt===null){var a=_e.alternate;a=a!==null?a.memoizedState:null}else a=tt.next;var c=Mt===null?_e.memoizedState:Mt.next;if(c!==null)Mt=c,tt=a;else{if(a===null)throw _e.alternate===null?Error(s(467)):Error(s(310));tt=a,a={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Mt===null?_e.memoizedState=Mt=a:Mt=Mt.next=a}return Mt}function $d(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oc(a){var c=ac;return ac+=1,ko===null&&(ko=[]),a=Bw(ko,a,c),c=_e,(Mt===null?c.memoizedState:Mt.next)===null&&(c=c.alternate,U.H=c===null||c.memoizedState===null?TN:Vg),a}function Fd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return oc(a);if(a.$$typeof===E)return Xt(a)}throw Error(s(438,String(a)))}function Mg(a){var c=null,f=_e.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var g=_e.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(v){return v.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=$d(),_e.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(a),g=0;g<a;g++)f[g]=B;return c.index++,f}function br(a,c){return typeof c=="function"?c(a):c}function qd(a){var c=jt();return Ag(c,tt,a)}function Ag(a,c,f){var g=a.queue;if(g===null)throw Error(s(311));g.lastRenderedReducer=f;var v=a.baseQueue,N=g.pending;if(N!==null){if(v!==null){var A=v.next;v.next=N.next,N.next=A}c.baseQueue=v=N,g.pending=null}if(N=a.baseState,v===null)a.memoizedState=N;else{c=v.next;var P=A=null,I=null,Q=c,te=!1;do{var ie=Q.lane&-536870913;if(ie!==Q.lane?(Ue&ie)===ie:(yr&ie)===ie){var X=Q.revertLane;if(X===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ie===vo&&(te=!0);else if((yr&X)===X){Q=Q.next,X===vo&&(te=!0);continue}else ie={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},I===null?(P=I=ie,A=N):I=I.next=ie,_e.lanes|=X,di|=X;ie=Q.action,pa&&f(N,ie),N=Q.hasEagerState?Q.eagerState:f(N,ie)}else X={lane:ie,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},I===null?(P=I=X,A=N):I=I.next=X,_e.lanes|=ie,di|=ie;Q=Q.next}while(Q!==null&&Q!==c);if(I===null?A=N:I.next=P,!zn(N,a.memoizedState)&&(At=!0,te&&(f=wo,f!==null)))throw f;a.memoizedState=N,a.baseState=A,a.baseQueue=I,g.lastRenderedState=N}return v===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function _g(a){var c=jt(),f=c.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=a;var g=f.dispatch,v=f.pending,N=c.memoizedState;if(v!==null){f.pending=null;var A=v=v.next;do N=a(N,A.action),A=A.next;while(A!==v);zn(N,c.memoizedState)||(At=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),f.lastRenderedState=N}return[N,g]}function Qw(a,c,f){var g=_e,v=jt(),N=Fe;if(N){if(f===void 0)throw Error(s(407));f=f()}else f=c();var A=!zn((tt||v).memoizedState,f);if(A&&(v.memoizedState=f,At=!0),v=v.queue,Rg(Xw.bind(null,g,v,a),[a]),v.getSnapshot!==c||A||Mt!==null&&Mt.memoizedState.tag&1){if(g.flags|=2048,Eo(9,{destroy:void 0},Jw.bind(null,g,v,f,c),null),rt===null)throw Error(s(349));N||(yr&127)!==0||Yw(g,c,f)}return f}function Yw(a,c,f){a.flags|=16384,a={getSnapshot:c,value:f},c=_e.updateQueue,c===null?(c=$d(),_e.updateQueue=c,c.stores=[a]):(f=c.stores,f===null?c.stores=[a]:f.push(a))}function Jw(a,c,f,g){c.value=f,c.getSnapshot=g,Ww(c)&&Zw(a)}function Xw(a,c,f){return f(function(){Ww(c)&&Zw(a)})}function Ww(a){var c=a.getSnapshot;a=a.value;try{var f=c();return!zn(a,f)}catch{return!0}}function Zw(a){var c=ia(a,2);c!==null&&kn(c,a,2)}function Dg(a){var c=mn();if(typeof a=="function"){var f=a;if(a=f(),pa){Xr(!0);try{f()}finally{Xr(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:a},c}function eN(a,c,f,g){return a.baseState=f,Ag(a,tt,typeof g=="function"?g:br)}function v6(a,c,f,g,v){if(Gd(a))throw Error(s(485));if(a=c.action,a!==null){var N={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){N.listeners.push(A)}};U.T!==null?f(!0):N.isTransition=!1,g(N),f=c.pending,f===null?(N.next=c.pending=N,tN(c,N)):(N.next=f.next,c.pending=f.next=N)}}function tN(a,c){var f=c.action,g=c.payload,v=a.state;if(c.isTransition){var N=U.T,A={};U.T=A;try{var P=f(v,g),I=U.S;I!==null&&I(A,P),nN(a,c,P)}catch(Q){Og(a,c,Q)}finally{N!==null&&A.types!==null&&(N.types=A.types),U.T=N}}else try{N=f(v,g),nN(a,c,N)}catch(Q){Og(a,c,Q)}}function nN(a,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(g){sN(a,c,g)},function(g){return Og(a,c,g)}):sN(a,c,f)}function sN(a,c,f){c.status="fulfilled",c.value=f,rN(c),a.state=f,c=a.pending,c!==null&&(f=c.next,f===c?a.pending=null:(f=f.next,c.next=f,tN(a,f)))}function Og(a,c,f){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=f,rN(c),c=c.next;while(c!==g)}a.action=null}function rN(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function iN(a,c){return c}function aN(a,c){if(Fe){var f=rt.formState;if(f!==null){e:{var g=_e;if(Fe){if(ot){t:{for(var v=ot,N=is;v.nodeType!==8;){if(!N){v=null;break t}if(v=ls(v.nextSibling),v===null){v=null;break t}}N=v.data,v=N==="F!"||N==="F"?v:null}if(v){ot=ls(v.nextSibling),g=v.data==="F!";break e}}ni(g)}g=!1}g&&(c=f[0])}}return f=mn(),f.memoizedState=f.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iN,lastRenderedState:c},f.queue=g,f=CN.bind(null,_e,g),g.dispatch=f,g=Dg(!1),N=Ig.bind(null,_e,!1,g.queue),g=mn(),v={state:c,dispatch:null,action:a,pending:null},g.queue=v,f=v6.bind(null,_e,v,N,f),v.dispatch=f,g.memoizedState=a,[c,f,!1]}function oN(a){var c=jt();return lN(c,tt,a)}function lN(a,c,f){if(c=Ag(a,c,iN)[0],a=qd(br)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=oc(c)}catch(A){throw A===No?Rd:A}else g=c;c=jt();var v=c.queue,N=v.dispatch;return f!==c.memoizedState&&(_e.flags|=2048,Eo(9,{destroy:void 0},w6.bind(null,v,f),null)),[g,N,a]}function w6(a,c){a.action=c}function cN(a){var c=jt(),f=tt;if(f!==null)return lN(c,f,a);jt(),c=c.memoizedState,f=jt();var g=f.queue.dispatch;return f.memoizedState=a,[c,g,!1]}function Eo(a,c,f,g){return a={tag:a,create:f,deps:g,inst:c,next:null},c=_e.updateQueue,c===null&&(c=$d(),_e.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=a.next=a:(g=f.next,f.next=a,a.next=g,c.lastEffect=a),a}function uN(){return jt().memoizedState}function Hd(a,c,f,g){var v=mn();_e.flags|=a,v.memoizedState=Eo(1|c,{destroy:void 0},f,g===void 0?null:g)}function Kd(a,c,f,g){var v=jt();g=g===void 0?null:g;var N=v.memoizedState.inst;tt!==null&&g!==null&&Sg(g,tt.memoizedState.deps)?v.memoizedState=Eo(c,N,f,g):(_e.flags|=a,v.memoizedState=Eo(1|c,N,f,g))}function dN(a,c){Hd(8390656,8,a,c)}function Rg(a,c){Kd(2048,8,a,c)}function N6(a){_e.flags|=4;var c=_e.updateQueue;if(c===null)c=$d(),_e.updateQueue=c,c.events=[a];else{var f=c.events;f===null?c.events=[a]:f.push(a)}}function fN(a){var c=jt().memoizedState;return N6({ref:c,nextImpl:a}),function(){if((Qe&2)!==0)throw Error(s(440));return c.impl.apply(void 0,arguments)}}function hN(a,c){return Kd(4,2,a,c)}function pN(a,c){return Kd(4,4,a,c)}function mN(a,c){if(typeof c=="function"){a=a();var f=c(a);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function gN(a,c,f){f=f!=null?f.concat([a]):null,Kd(4,4,mN.bind(null,c,a),f)}function Lg(){}function xN(a,c){var f=jt();c=c===void 0?null:c;var g=f.memoizedState;return c!==null&&Sg(c,g[1])?g[0]:(f.memoizedState=[a,c],a)}function yN(a,c){var f=jt();c=c===void 0?null:c;var g=f.memoizedState;if(c!==null&&Sg(c,g[1]))return g[0];if(g=a(),pa){Xr(!0);try{a()}finally{Xr(!1)}}return f.memoizedState=[g,c],g}function Pg(a,c,f){return f===void 0||(yr&1073741824)!==0&&(Ue&261930)===0?a.memoizedState=c:(a.memoizedState=f,a=bj(),_e.lanes|=a,di|=a,f)}function bN(a,c,f,g){return zn(f,c)?f:So.current!==null?(a=Pg(a,f,g),zn(a,c)||(At=!0),a):(yr&42)===0||(yr&1073741824)!==0&&(Ue&261930)===0?(At=!0,a.memoizedState=f):(a=bj(),_e.lanes|=a,di|=a,c)}function vN(a,c,f,g,v){var N=H.p;H.p=N!==0&&8>N?N:8;var A=U.T,P={};U.T=P,Ig(a,!1,c,f);try{var I=v(),Q=U.S;if(Q!==null&&Q(P,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var te=x6(I,g);lc(a,c,te,qn(a))}else lc(a,c,g,qn(a))}catch(ie){lc(a,c,{then:function(){},status:"rejected",reason:ie},qn())}finally{H.p=N,A!==null&&P.types!==null&&(A.types=P.types),U.T=A}}function j6(){}function Bg(a,c,f,g){if(a.tag!==5)throw Error(s(476));var v=wN(a).queue;vN(a,v,c,ee,f===null?j6:function(){return NN(a),f(g)})}function wN(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:ee},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:f},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function NN(a){var c=wN(a);c.next===null&&(c=a.alternate.memoizedState),lc(a,c.next.queue,{},qn())}function zg(){return Xt(Cc)}function jN(){return jt().memoizedState}function SN(){return jt().memoizedState}function S6(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var f=qn();a=ii(f);var g=ai(c,a,f);g!==null&&(kn(g,c,f),sc(g,c,f)),c={cache:hg()},a.payload=c;return}c=c.return}}function C6(a,c,f){var g=qn();f={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Gd(a)?kN(c,f):(f=ng(a,c,f,g),f!==null&&(kn(f,a,g),EN(f,c,g)))}function CN(a,c,f){var g=qn();lc(a,c,f,g)}function lc(a,c,f,g){var v={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Gd(a))kN(c,v);else{var N=a.alternate;if(a.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var A=c.lastRenderedState,P=N(A,f);if(v.hasEagerState=!0,v.eagerState=P,zn(P,A))return Ed(a,c,v,0),rt===null&&kd(),!1}catch{}finally{}if(f=ng(a,c,v,g),f!==null)return kn(f,a,g),EN(f,c,g),!0}return!1}function Ig(a,c,f,g){if(g={lane:2,revertLane:x0(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Gd(a)){if(c)throw Error(s(479))}else c=ng(a,f,g,2),c!==null&&kn(c,a,2)}function Gd(a){var c=a.alternate;return a===_e||c!==null&&c===_e}function kN(a,c){Co=Vd=!0;var f=a.pending;f===null?c.next=c:(c.next=f.next,f.next=c),a.pending=c}function EN(a,c,f){if((f&4194048)!==0){var g=c.lanes;g&=a.pendingLanes,f|=g,c.lanes=f,D1(a,f)}}var cc={readContext:Xt,use:Fd,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};cc.useEffectEvent=xt;var TN={readContext:Xt,use:Fd,useCallback:function(a,c){return mn().memoizedState=[a,c===void 0?null:c],a},useContext:Xt,useEffect:dN,useImperativeHandle:function(a,c,f){f=f!=null?f.concat([a]):null,Hd(4194308,4,mN.bind(null,c,a),f)},useLayoutEffect:function(a,c){return Hd(4194308,4,a,c)},useInsertionEffect:function(a,c){Hd(4,2,a,c)},useMemo:function(a,c){var f=mn();c=c===void 0?null:c;var g=a();if(pa){Xr(!0);try{a()}finally{Xr(!1)}}return f.memoizedState=[g,c],g},useReducer:function(a,c,f){var g=mn();if(f!==void 0){var v=f(c);if(pa){Xr(!0);try{f(c)}finally{Xr(!1)}}}else v=c;return g.memoizedState=g.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},g.queue=a,a=a.dispatch=C6.bind(null,_e,a),[g.memoizedState,a]},useRef:function(a){var c=mn();return a={current:a},c.memoizedState=a},useState:function(a){a=Dg(a);var c=a.queue,f=CN.bind(null,_e,c);return c.dispatch=f,[a.memoizedState,f]},useDebugValue:Lg,useDeferredValue:function(a,c){var f=mn();return Pg(f,a,c)},useTransition:function(){var a=Dg(!1);return a=vN.bind(null,_e,a.queue,!0,!1),mn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,f){var g=_e,v=mn();if(Fe){if(f===void 0)throw Error(s(407));f=f()}else{if(f=c(),rt===null)throw Error(s(349));(Ue&127)!==0||Yw(g,c,f)}v.memoizedState=f;var N={value:f,getSnapshot:c};return v.queue=N,dN(Xw.bind(null,g,N,a),[a]),g.flags|=2048,Eo(9,{destroy:void 0},Jw.bind(null,g,N,f,c),null),f},useId:function(){var a=mn(),c=rt.identifierPrefix;if(Fe){var f=Vs,g=Is;f=(g&~(1<<32-Bn(g)-1)).toString(32)+f,c="_"+c+"R_"+f,f=Ud++,0<f&&(c+="H"+f.toString(32)),c+="_"}else f=y6++,c="_"+c+"r_"+f.toString(32)+"_";return a.memoizedState=c},useHostTransitionStatus:zg,useFormState:aN,useActionState:aN,useOptimistic:function(a){var c=mn();c.memoizedState=c.baseState=a;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=Ig.bind(null,_e,!0,f),f.dispatch=c,[a,c]},useMemoCache:Mg,useCacheRefresh:function(){return mn().memoizedState=S6.bind(null,_e)},useEffectEvent:function(a){var c=mn(),f={impl:a};return c.memoizedState=f,function(){if((Qe&2)!==0)throw Error(s(440));return f.impl.apply(void 0,arguments)}}},Vg={readContext:Xt,use:Fd,useCallback:xN,useContext:Xt,useEffect:Rg,useImperativeHandle:gN,useInsertionEffect:hN,useLayoutEffect:pN,useMemo:yN,useReducer:qd,useRef:uN,useState:function(){return qd(br)},useDebugValue:Lg,useDeferredValue:function(a,c){var f=jt();return bN(f,tt.memoizedState,a,c)},useTransition:function(){var a=qd(br)[0],c=jt().memoizedState;return[typeof a=="boolean"?a:oc(a),c]},useSyncExternalStore:Qw,useId:jN,useHostTransitionStatus:zg,useFormState:oN,useActionState:oN,useOptimistic:function(a,c){var f=jt();return eN(f,tt,a,c)},useMemoCache:Mg,useCacheRefresh:SN};Vg.useEffectEvent=fN;var MN={readContext:Xt,use:Fd,useCallback:xN,useContext:Xt,useEffect:Rg,useImperativeHandle:gN,useInsertionEffect:hN,useLayoutEffect:pN,useMemo:yN,useReducer:_g,useRef:uN,useState:function(){return _g(br)},useDebugValue:Lg,useDeferredValue:function(a,c){var f=jt();return tt===null?Pg(f,a,c):bN(f,tt.memoizedState,a,c)},useTransition:function(){var a=_g(br)[0],c=jt().memoizedState;return[typeof a=="boolean"?a:oc(a),c]},useSyncExternalStore:Qw,useId:jN,useHostTransitionStatus:zg,useFormState:cN,useActionState:cN,useOptimistic:function(a,c){var f=jt();return tt!==null?eN(f,tt,a,c):(f.baseState=a,[a,f.queue.dispatch])},useMemoCache:Mg,useCacheRefresh:SN};MN.useEffectEvent=fN;function Ug(a,c,f,g){c=a.memoizedState,f=f(g,c),f=f==null?c:m({},c,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var $g={enqueueSetState:function(a,c,f){a=a._reactInternals;var g=qn(),v=ii(g);v.payload=c,f!=null&&(v.callback=f),c=ai(a,v,g),c!==null&&(kn(c,a,g),sc(c,a,g))},enqueueReplaceState:function(a,c,f){a=a._reactInternals;var g=qn(),v=ii(g);v.tag=1,v.payload=c,f!=null&&(v.callback=f),c=ai(a,v,g),c!==null&&(kn(c,a,g),sc(c,a,g))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var f=qn(),g=ii(f);g.tag=2,c!=null&&(g.callback=c),c=ai(a,g,f),c!==null&&(kn(c,a,f),sc(c,a,f))}};function AN(a,c,f,g,v,N,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,N,A):c.prototype&&c.prototype.isPureReactComponent?!Yl(f,g)||!Yl(v,N):!0}function _N(a,c,f,g){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,g),c.state!==a&&$g.enqueueReplaceState(c,c.state,null)}function ma(a,c){var f=c;if("ref"in c){f={};for(var g in c)g!=="ref"&&(f[g]=c[g])}if(a=a.defaultProps){f===c&&(f=m({},f));for(var v in a)f[v]===void 0&&(f[v]=a[v])}return f}function DN(a){Cd(a)}function ON(a){console.error(a)}function RN(a){Cd(a)}function Qd(a,c){try{var f=a.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function LN(a,c,f){try{var g=a.onCaughtError;g(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Fg(a,c,f){return f=ii(f),f.tag=3,f.payload={element:null},f.callback=function(){Qd(a,c)},f}function PN(a){return a=ii(a),a.tag=3,a}function BN(a,c,f,g){var v=f.type.getDerivedStateFromError;if(typeof v=="function"){var N=g.value;a.payload=function(){return v(N)},a.callback=function(){LN(c,f,g)}}var A=f.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(a.callback=function(){LN(c,f,g),typeof v!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var P=g.stack;this.componentDidCatch(g.value,{componentStack:P!==null?P:""})})}function k6(a,c,f,g,v){if(f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=f.alternate,c!==null&&bo(c,f,v,!0),f=Vn.current,f!==null){switch(f.tag){case 31:case 13:return as===null?of():f.alternate===null&&yt===0&&(yt=3),f.flags&=-257,f.flags|=65536,f.lanes=v,g===Ld?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([g]):c.add(g),p0(a,g,v)),!1;case 22:return f.flags|=65536,g===Ld?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([g]):f.add(g)),p0(a,g,v)),!1}throw Error(s(435,f.tag))}return p0(a,g,v),of(),!1}if(Fe)return c=Vn.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=v,g!==lg&&(a=Error(s(422),{cause:g}),Wl(ns(a,f)))):(g!==lg&&(c=Error(s(423),{cause:g}),Wl(ns(c,f))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,g=ns(g,f),v=Fg(a.stateNode,g,v),bg(a,v),yt!==4&&(yt=2)),!1;var N=Error(s(520),{cause:g});if(N=ns(N,f),xc===null?xc=[N]:xc.push(N),yt!==4&&(yt=2),c===null)return!0;g=ns(g,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,a=v&-v,f.lanes|=a,a=Fg(f.stateNode,g,a),bg(f,a),!1;case 1:if(c=f.type,N=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(fi===null||!fi.has(N))))return f.flags|=65536,v&=-v,f.lanes|=v,v=PN(v),BN(v,a,f,g),bg(f,v),!1}f=f.return}while(f!==null);return!1}var qg=Error(s(461)),At=!1;function Wt(a,c,f,g){c.child=a===null?Uw(c,null,f,g):ha(c,a.child,f,g)}function zN(a,c,f,g,v){f=f.render;var N=c.ref;if("ref"in g){var A={};for(var P in g)P!=="ref"&&(A[P]=g[P])}else A=g;return ca(c),g=Cg(a,c,f,A,N,v),P=kg(),a!==null&&!At?(Eg(a,c,v),vr(a,c,v)):(Fe&&P&&ag(c),c.flags|=1,Wt(a,c,g,v),c.child)}function IN(a,c,f,g,v){if(a===null){var N=f.type;return typeof N=="function"&&!sg(N)&&N.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=N,VN(a,c,N,g,v)):(a=Md(f.type,null,g,c,c.mode,v),a.ref=c.ref,a.return=c,c.child=a)}if(N=a.child,!Wg(a,v)){var A=N.memoizedProps;if(f=f.compare,f=f!==null?f:Yl,f(A,g)&&a.ref===c.ref)return vr(a,c,v)}return c.flags|=1,a=pr(N,g),a.ref=c.ref,a.return=c,c.child=a}function VN(a,c,f,g,v){if(a!==null){var N=a.memoizedProps;if(Yl(N,g)&&a.ref===c.ref)if(At=!1,c.pendingProps=g=N,Wg(a,v))(a.flags&131072)!==0&&(At=!0);else return c.lanes=a.lanes,vr(a,c,v)}return Hg(a,c,f,g,v)}function UN(a,c,f,g){var v=g.children,N=a!==null?a.memoizedState:null;if(a===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(N=N!==null?N.baseLanes|f:f,a!==null){for(g=c.child=a.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;g=v&~N}else g=0,c.child=null;return $N(a,c,N,f,g)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&Od(c,N!==null?N.cachePool:null),N!==null?qw(c,N):wg(),Hw(c);else return g=c.lanes=536870912,$N(a,c,N!==null?N.baseLanes|f:f,f,g)}else N!==null?(Od(c,N.cachePool),qw(c,N),li(),c.memoizedState=null):(a!==null&&Od(c,null),wg(),li());return Wt(a,c,v,f),c.child}function uc(a,c){return a!==null&&a.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function $N(a,c,f,g,v){var N=mg();return N=N===null?null:{parent:Tt._currentValue,pool:N},c.memoizedState={baseLanes:f,cachePool:N},a!==null&&Od(c,null),wg(),Hw(c),a!==null&&bo(a,c,g,!0),c.childLanes=v,null}function Yd(a,c){return c=Xd({mode:c.mode,children:c.children},a.mode),c.ref=a.ref,a.child=c,c.return=a,c}function FN(a,c,f){return ha(c,a.child,null,f),a=Yd(c,c.pendingProps),a.flags|=2,Un(c),c.memoizedState=null,a}function E6(a,c,f){var g=c.pendingProps,v=(c.flags&128)!==0;if(c.flags&=-129,a===null){if(Fe){if(g.mode==="hidden")return a=Yd(c,g),c.lanes=536870912,uc(null,a);if(jg(c),(a=ot)?(a=tS(a,is),a=a!==null&&a.data==="&"?a:null,a!==null&&(c.memoizedState={dehydrated:a,treeContext:ei!==null?{id:Is,overflow:Vs}:null,retryLane:536870912,hydrationErrors:null},f=kw(a),f.return=c,c.child=f,Jt=c,ot=null)):a=null,a===null)throw ni(c);return c.lanes=536870912,null}return Yd(c,g)}var N=a.memoizedState;if(N!==null){var A=N.dehydrated;if(jg(c),v)if(c.flags&256)c.flags&=-257,c=FN(a,c,f);else if(c.memoizedState!==null)c.child=a.child,c.flags|=128,c=null;else throw Error(s(558));else if(At||bo(a,c,f,!1),v=(f&a.childLanes)!==0,At||v){if(g=rt,g!==null&&(A=O1(g,f),A!==0&&A!==N.retryLane))throw N.retryLane=A,ia(a,A),kn(g,a,A),qg;of(),c=FN(a,c,f)}else a=N.treeContext,ot=ls(A.nextSibling),Jt=c,Fe=!0,ti=null,is=!1,a!==null&&Mw(c,a),c=Yd(c,g),c.flags|=4096;return c}return a=pr(a.child,{mode:g.mode,children:g.children}),a.ref=c.ref,c.child=a,a.return=c,a}function Jd(a,c){var f=c.ref;if(f===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(s(284));(a===null||a.ref!==f)&&(c.flags|=4194816)}}function Hg(a,c,f,g,v){return ca(c),f=Cg(a,c,f,g,void 0,v),g=kg(),a!==null&&!At?(Eg(a,c,v),vr(a,c,v)):(Fe&&g&&ag(c),c.flags|=1,Wt(a,c,f,v),c.child)}function qN(a,c,f,g,v,N){return ca(c),c.updateQueue=null,f=Gw(c,g,f,v),Kw(a),g=kg(),a!==null&&!At?(Eg(a,c,N),vr(a,c,N)):(Fe&&g&&ag(c),c.flags|=1,Wt(a,c,f,N),c.child)}function HN(a,c,f,g,v){if(ca(c),c.stateNode===null){var N=mo,A=f.contextType;typeof A=="object"&&A!==null&&(N=Xt(A)),N=new f(g,N),c.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=$g,c.stateNode=N,N._reactInternals=c,N=c.stateNode,N.props=g,N.state=c.memoizedState,N.refs={},xg(c),A=f.contextType,N.context=typeof A=="object"&&A!==null?Xt(A):mo,N.state=c.memoizedState,A=f.getDerivedStateFromProps,typeof A=="function"&&(Ug(c,f,A,g),N.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(A=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),A!==N.state&&$g.enqueueReplaceState(N,N.state,null),ic(c,g,N,v),rc(),N.state=c.memoizedState),typeof N.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(a===null){N=c.stateNode;var P=c.memoizedProps,I=ma(f,P);N.props=I;var Q=N.context,te=f.contextType;A=mo,typeof te=="object"&&te!==null&&(A=Xt(te));var ie=f.getDerivedStateFromProps;te=typeof ie=="function"||typeof N.getSnapshotBeforeUpdate=="function",P=c.pendingProps!==P,te||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(P||Q!==A)&&_N(c,N,g,A),ri=!1;var X=c.memoizedState;N.state=X,ic(c,g,N,v),rc(),Q=c.memoizedState,P||X!==Q||ri?(typeof ie=="function"&&(Ug(c,f,ie,g),Q=c.memoizedState),(I=ri||AN(c,f,I,g,X,Q,A))?(te||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(c.flags|=4194308)):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=Q),N.props=g,N.state=Q,N.context=A,g=I):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{N=c.stateNode,yg(a,c),A=c.memoizedProps,te=ma(f,A),N.props=te,ie=c.pendingProps,X=N.context,Q=f.contextType,I=mo,typeof Q=="object"&&Q!==null&&(I=Xt(Q)),P=f.getDerivedStateFromProps,(Q=typeof P=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(A!==ie||X!==I)&&_N(c,N,g,I),ri=!1,X=c.memoizedState,N.state=X,ic(c,g,N,v),rc();var Z=c.memoizedState;A!==ie||X!==Z||ri||a!==null&&a.dependencies!==null&&_d(a.dependencies)?(typeof P=="function"&&(Ug(c,f,P,g),Z=c.memoizedState),(te=ri||AN(c,f,te,g,X,Z,I)||a!==null&&a.dependencies!==null&&_d(a.dependencies))?(Q||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(g,Z,I),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(g,Z,I)),typeof N.componentDidUpdate=="function"&&(c.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof N.componentDidUpdate!="function"||A===a.memoizedProps&&X===a.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&X===a.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=Z),N.props=g,N.state=Z,N.context=I,g=te):(typeof N.componentDidUpdate!="function"||A===a.memoizedProps&&X===a.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&X===a.memoizedState||(c.flags|=1024),g=!1)}return N=g,Jd(a,c),g=(c.flags&128)!==0,N||g?(N=c.stateNode,f=g&&typeof f.getDerivedStateFromError!="function"?null:N.render(),c.flags|=1,a!==null&&g?(c.child=ha(c,a.child,null,v),c.child=ha(c,null,f,v)):Wt(a,c,f,v),c.memoizedState=N.state,a=c.child):a=vr(a,c,v),a}function KN(a,c,f,g){return oa(),c.flags|=256,Wt(a,c,f,g),c.child}var Kg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gg(a){return{baseLanes:a,cachePool:Lw()}}function Qg(a,c,f){return a=a!==null?a.childLanes&~f:0,c&&(a|=Fn),a}function GN(a,c,f){var g=c.pendingProps,v=!1,N=(c.flags&128)!==0,A;if((A=N)||(A=a!==null&&a.memoizedState===null?!1:(Nt.current&2)!==0),A&&(v=!0,c.flags&=-129),A=(c.flags&32)!==0,c.flags&=-33,a===null){if(Fe){if(v?oi(c):li(),(a=ot)?(a=tS(a,is),a=a!==null&&a.data!=="&"?a:null,a!==null&&(c.memoizedState={dehydrated:a,treeContext:ei!==null?{id:Is,overflow:Vs}:null,retryLane:536870912,hydrationErrors:null},f=kw(a),f.return=c,c.child=f,Jt=c,ot=null)):a=null,a===null)throw ni(c);return A0(a)?c.lanes=32:c.lanes=536870912,null}var P=g.children;return g=g.fallback,v?(li(),v=c.mode,P=Xd({mode:"hidden",children:P},v),g=aa(g,v,f,null),P.return=c,g.return=c,P.sibling=g,c.child=P,g=c.child,g.memoizedState=Gg(f),g.childLanes=Qg(a,A,f),c.memoizedState=Kg,uc(null,g)):(oi(c),Yg(c,P))}var I=a.memoizedState;if(I!==null&&(P=I.dehydrated,P!==null)){if(N)c.flags&256?(oi(c),c.flags&=-257,c=Jg(a,c,f)):c.memoizedState!==null?(li(),c.child=a.child,c.flags|=128,c=null):(li(),P=g.fallback,v=c.mode,g=Xd({mode:"visible",children:g.children},v),P=aa(P,v,f,null),P.flags|=2,g.return=c,P.return=c,g.sibling=P,c.child=g,ha(c,a.child,null,f),g=c.child,g.memoizedState=Gg(f),g.childLanes=Qg(a,A,f),c.memoizedState=Kg,c=uc(null,g));else if(oi(c),A0(P)){if(A=P.nextSibling&&P.nextSibling.dataset,A)var Q=A.dgst;A=Q,g=Error(s(419)),g.stack="",g.digest=A,Wl({value:g,source:null,stack:null}),c=Jg(a,c,f)}else if(At||bo(a,c,f,!1),A=(f&a.childLanes)!==0,At||A){if(A=rt,A!==null&&(g=O1(A,f),g!==0&&g!==I.retryLane))throw I.retryLane=g,ia(a,g),kn(A,a,g),qg;M0(P)||of(),c=Jg(a,c,f)}else M0(P)?(c.flags|=192,c.child=a.child,c=null):(a=I.treeContext,ot=ls(P.nextSibling),Jt=c,Fe=!0,ti=null,is=!1,a!==null&&Mw(c,a),c=Yg(c,g.children),c.flags|=4096);return c}return v?(li(),P=g.fallback,v=c.mode,I=a.child,Q=I.sibling,g=pr(I,{mode:"hidden",children:g.children}),g.subtreeFlags=I.subtreeFlags&65011712,Q!==null?P=pr(Q,P):(P=aa(P,v,f,null),P.flags|=2),P.return=c,g.return=c,g.sibling=P,c.child=g,uc(null,g),g=c.child,P=a.child.memoizedState,P===null?P=Gg(f):(v=P.cachePool,v!==null?(I=Tt._currentValue,v=v.parent!==I?{parent:I,pool:I}:v):v=Lw(),P={baseLanes:P.baseLanes|f,cachePool:v}),g.memoizedState=P,g.childLanes=Qg(a,A,f),c.memoizedState=Kg,uc(a.child,g)):(oi(c),f=a.child,a=f.sibling,f=pr(f,{mode:"visible",children:g.children}),f.return=c,f.sibling=null,a!==null&&(A=c.deletions,A===null?(c.deletions=[a],c.flags|=16):A.push(a)),c.child=f,c.memoizedState=null,f)}function Yg(a,c){return c=Xd({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function Xd(a,c){return a=In(22,a,null,c),a.lanes=0,a}function Jg(a,c,f){return ha(c,a.child,null,f),a=Yg(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function QN(a,c,f){a.lanes|=c;var g=a.alternate;g!==null&&(g.lanes|=c),dg(a.return,c,f)}function Xg(a,c,f,g,v,N){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:v,treeForkCount:N}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=g,A.tail=f,A.tailMode=v,A.treeForkCount=N)}function YN(a,c,f){var g=c.pendingProps,v=g.revealOrder,N=g.tail;g=g.children;var A=Nt.current,P=(A&2)!==0;if(P?(A=A&1|2,c.flags|=128):A&=1,se(Nt,A),Wt(a,c,g,f),g=Fe?Xl:0,!P&&a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&QN(a,f,c);else if(a.tag===19)QN(a,f,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(f=c.child,v=null;f!==null;)a=f.alternate,a!==null&&Id(a)===null&&(v=f),f=f.sibling;f=v,f===null?(v=c.child,c.child=null):(v=f.sibling,f.sibling=null),Xg(c,!1,v,f,N,g);break;case"backwards":case"unstable_legacy-backwards":for(f=null,v=c.child,c.child=null;v!==null;){if(a=v.alternate,a!==null&&Id(a)===null){c.child=v;break}a=v.sibling,v.sibling=f,f=v,v=a}Xg(c,!0,f,null,N,g);break;case"together":Xg(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function vr(a,c,f){if(a!==null&&(c.dependencies=a.dependencies),di|=c.lanes,(f&c.childLanes)===0)if(a!==null){if(bo(a,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(s(153));if(c.child!==null){for(a=c.child,f=pr(a,a.pendingProps),c.child=f,f.return=c;a.sibling!==null;)a=a.sibling,f=f.sibling=pr(a,a.pendingProps),f.return=c;f.sibling=null}return c.child}function Wg(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&_d(a)))}function T6(a,c,f){switch(c.tag){case 3:je(c,c.stateNode.containerInfo),si(c,Tt,a.memoizedState.cache),oa();break;case 27:case 5:at(c);break;case 4:je(c,c.stateNode.containerInfo);break;case 10:si(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,jg(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(oi(c),c.flags|=128,null):(f&c.child.childLanes)!==0?GN(a,c,f):(oi(c),a=vr(a,c,f),a!==null?a.sibling:null);oi(c);break;case 19:var v=(a.flags&128)!==0;if(g=(f&c.childLanes)!==0,g||(bo(a,c,f,!1),g=(f&c.childLanes)!==0),v){if(g)return YN(a,c,f);c.flags|=128}if(v=c.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),se(Nt,Nt.current),g)break;return null;case 22:return c.lanes=0,UN(a,c,f,c.pendingProps);case 24:si(c,Tt,a.memoizedState.cache)}return vr(a,c,f)}function JN(a,c,f){if(a!==null)if(a.memoizedProps!==c.pendingProps)At=!0;else{if(!Wg(a,f)&&(c.flags&128)===0)return At=!1,T6(a,c,f);At=(a.flags&131072)!==0}else At=!1,Fe&&(c.flags&1048576)!==0&&Tw(c,Xl,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(a=da(c.elementType),c.type=a,typeof a=="function")sg(a)?(g=ma(a,g),c.tag=1,c=HN(null,c,a,g,f)):(c.tag=0,c=Hg(null,c,a,g,f));else{if(a!=null){var v=a.$$typeof;if(v===S){c.tag=11,c=zN(null,c,a,g,f);break e}else if(v===O){c.tag=14,c=IN(null,c,a,g,f);break e}}throw c=K(a)||a,Error(s(306,c,""))}}return c;case 0:return Hg(a,c,c.type,c.pendingProps,f);case 1:return g=c.type,v=ma(g,c.pendingProps),HN(a,c,g,v,f);case 3:e:{if(je(c,c.stateNode.containerInfo),a===null)throw Error(s(387));g=c.pendingProps;var N=c.memoizedState;v=N.element,yg(a,c),ic(c,g,null,f);var A=c.memoizedState;if(g=A.cache,si(c,Tt,g),g!==N.cache&&fg(c,[Tt],f,!0),rc(),g=A.element,N.isDehydrated)if(N={element:g,isDehydrated:!1,cache:A.cache},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){c=KN(a,c,g,f);break e}else if(g!==v){v=ns(Error(s(424)),c),Wl(v),c=KN(a,c,g,f);break e}else{switch(a=c.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(ot=ls(a.firstChild),Jt=c,Fe=!0,ti=null,is=!0,f=Uw(c,null,g,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(oa(),g===v){c=vr(a,c,f);break e}Wt(a,c,g,f)}c=c.child}return c;case 26:return Jd(a,c),a===null?(f=oS(c.type,null,c.pendingProps,null))?c.memoizedState=f:Fe||(f=c.type,a=c.pendingProps,g=pf(ve.current).createElement(f),g[Yt]=c,g[vn]=a,Zt(g,f,a),Ut(g),c.stateNode=g):c.memoizedState=oS(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return at(c),a===null&&Fe&&(g=c.stateNode=rS(c.type,c.pendingProps,ve.current),Jt=c,is=!0,v=ot,gi(c.type)?(_0=v,ot=ls(g.firstChild)):ot=v),Wt(a,c,c.pendingProps.children,f),Jd(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&Fe&&((v=g=ot)&&(g=r5(g,c.type,c.pendingProps,is),g!==null?(c.stateNode=g,Jt=c,ot=ls(g.firstChild),is=!1,v=!0):v=!1),v||ni(c)),at(c),v=c.type,N=c.pendingProps,A=a!==null?a.memoizedProps:null,g=N.children,k0(v,N)?g=null:A!==null&&k0(v,A)&&(c.flags|=32),c.memoizedState!==null&&(v=Cg(a,c,b6,null,null,f),Cc._currentValue=v),Jd(a,c),Wt(a,c,g,f),c.child;case 6:return a===null&&Fe&&((a=f=ot)&&(f=i5(f,c.pendingProps,is),f!==null?(c.stateNode=f,Jt=c,ot=null,a=!0):a=!1),a||ni(c)),null;case 13:return GN(a,c,f);case 4:return je(c,c.stateNode.containerInfo),g=c.pendingProps,a===null?c.child=ha(c,null,g,f):Wt(a,c,g,f),c.child;case 11:return zN(a,c,c.type,c.pendingProps,f);case 7:return Wt(a,c,c.pendingProps,f),c.child;case 8:return Wt(a,c,c.pendingProps.children,f),c.child;case 12:return Wt(a,c,c.pendingProps.children,f),c.child;case 10:return g=c.pendingProps,si(c,c.type,g.value),Wt(a,c,g.children,f),c.child;case 9:return v=c.type._context,g=c.pendingProps.children,ca(c),v=Xt(v),g=g(v),c.flags|=1,Wt(a,c,g,f),c.child;case 14:return IN(a,c,c.type,c.pendingProps,f);case 15:return VN(a,c,c.type,c.pendingProps,f);case 19:return YN(a,c,f);case 31:return E6(a,c,f);case 22:return UN(a,c,f,c.pendingProps);case 24:return ca(c),g=Xt(Tt),a===null?(v=mg(),v===null&&(v=rt,N=hg(),v.pooledCache=N,N.refCount++,N!==null&&(v.pooledCacheLanes|=f),v=N),c.memoizedState={parent:g,cache:v},xg(c),si(c,Tt,v)):((a.lanes&f)!==0&&(yg(a,c),ic(c,null,null,f),rc()),v=a.memoizedState,N=c.memoizedState,v.parent!==g?(v={parent:g,cache:g},c.memoizedState=v,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=v),si(c,Tt,g)):(g=N.cache,si(c,Tt,g),g!==v.cache&&fg(c,[Tt],f,!0))),Wt(a,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(s(156,c.tag))}function wr(a){a.flags|=4}function Zg(a,c,f,g,v){if((c=(a.mode&32)!==0)&&(c=!1),c){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(jj())a.flags|=8192;else throw fa=Ld,gg}else a.flags&=-16777217}function XN(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!fS(c))if(jj())a.flags|=8192;else throw fa=Ld,gg}function Wd(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?A1():536870912,a.lanes|=c,_o|=c)}function dc(a,c){if(!Fe)switch(a.tailMode){case"hidden":c=a.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function lt(a){var c=a.alternate!==null&&a.alternate.child===a.child,f=0,g=0;if(c)for(var v=a.child;v!==null;)f|=v.lanes|v.childLanes,g|=v.subtreeFlags&65011712,g|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)f|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=g,a.childLanes=f,c}function M6(a,c,f){var g=c.pendingProps;switch(og(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(c),null;case 1:return lt(c),null;case 3:return f=c.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),xr(Tt),Se(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(a===null||a.child===null)&&(yo(c)?wr(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,cg())),lt(c),null;case 26:var v=c.type,N=c.memoizedState;return a===null?(wr(c),N!==null?(lt(c),XN(c,N)):(lt(c),Zg(c,v,null,g,f))):N?N!==a.memoizedState?(wr(c),lt(c),XN(c,N)):(lt(c),c.flags&=-16777217):(a=a.memoizedProps,a!==g&&wr(c),lt(c),Zg(c,v,a,g,f)),null;case 27:if(vs(c),f=ve.current,v=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==g&&wr(c);else{if(!g){if(c.stateNode===null)throw Error(s(166));return lt(c),null}a=le.current,yo(c)?Aw(c):(a=rS(v,g,f),c.stateNode=a,wr(c))}return lt(c),null;case 5:if(vs(c),v=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==g&&wr(c);else{if(!g){if(c.stateNode===null)throw Error(s(166));return lt(c),null}if(N=le.current,yo(c))Aw(c);else{var A=pf(ve.current);switch(N){case 1:N=A.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:N=A.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":N=A.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":N=A.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":N=A.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof g.is=="string"?A.createElement("select",{is:g.is}):A.createElement("select"),g.multiple?N.multiple=!0:g.size&&(N.size=g.size);break;default:N=typeof g.is=="string"?A.createElement(v,{is:g.is}):A.createElement(v)}}N[Yt]=c,N[vn]=g;e:for(A=c.child;A!==null;){if(A.tag===5||A.tag===6)N.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===c)break e;for(;A.sibling===null;){if(A.return===null||A.return===c)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}c.stateNode=N;e:switch(Zt(N,v,g),v){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&wr(c)}}return lt(c),Zg(c,c.type,a===null?null:a.memoizedProps,c.pendingProps,f),null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==g&&wr(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(s(166));if(a=ve.current,yo(c)){if(a=c.stateNode,f=c.memoizedProps,g=null,v=Jt,v!==null)switch(v.tag){case 27:case 5:g=v.memoizedProps}a[Yt]=c,a=!!(a.nodeValue===f||g!==null&&g.suppressHydrationWarning===!0||Gj(a.nodeValue,f)),a||ni(c,!0)}else a=pf(a).createTextNode(g),a[Yt]=c,c.stateNode=a}return lt(c),null;case 31:if(f=c.memoizedState,a===null||a.memoizedState!==null){if(g=yo(c),f!==null){if(a===null){if(!g)throw Error(s(318));if(a=c.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(557));a[Yt]=c}else oa(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;lt(c),a=!1}else f=cg(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=f),a=!0;if(!a)return c.flags&256?(Un(c),c):(Un(c),null);if((c.flags&128)!==0)throw Error(s(558))}return lt(c),null;case 13:if(g=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=yo(c),g!==null&&g.dehydrated!==null){if(a===null){if(!v)throw Error(s(318));if(v=c.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(s(317));v[Yt]=c}else oa(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;lt(c),v=!1}else v=cg(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return c.flags&256?(Un(c),c):(Un(c),null)}return Un(c),(c.flags&128)!==0?(c.lanes=f,c):(f=g!==null,a=a!==null&&a.memoizedState!==null,f&&(g=c.child,v=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(v=g.alternate.memoizedState.cachePool.pool),N=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(N=g.memoizedState.cachePool.pool),N!==v&&(g.flags|=2048)),f!==a&&f&&(c.child.flags|=8192),Wd(c,c.updateQueue),lt(c),null);case 4:return Se(),a===null&&w0(c.stateNode.containerInfo),lt(c),null;case 10:return xr(c.type),lt(c),null;case 19:if(J(Nt),g=c.memoizedState,g===null)return lt(c),null;if(v=(c.flags&128)!==0,N=g.rendering,N===null)if(v)dc(g,!1);else{if(yt!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(N=Id(a),N!==null){for(c.flags|=128,dc(g,!1),a=N.updateQueue,c.updateQueue=a,Wd(c,a),c.subtreeFlags=0,a=f,f=c.child;f!==null;)Cw(f,a),f=f.sibling;return se(Nt,Nt.current&1|2),Fe&&mr(c,g.treeForkCount),c.child}a=a.sibling}g.tail!==null&&Ln()>sf&&(c.flags|=128,v=!0,dc(g,!1),c.lanes=4194304)}else{if(!v)if(a=Id(N),a!==null){if(c.flags|=128,v=!0,a=a.updateQueue,c.updateQueue=a,Wd(c,a),dc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!N.alternate&&!Fe)return lt(c),null}else 2*Ln()-g.renderingStartTime>sf&&f!==536870912&&(c.flags|=128,v=!0,dc(g,!1),c.lanes=4194304);g.isBackwards?(N.sibling=c.child,c.child=N):(a=g.last,a!==null?a.sibling=N:c.child=N,g.last=N)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Ln(),a.sibling=null,f=Nt.current,se(Nt,v?f&1|2:f&1),Fe&&mr(c,g.treeForkCount),a):(lt(c),null);case 22:case 23:return Un(c),Ng(),g=c.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(f&536870912)!==0&&(c.flags&128)===0&&(lt(c),c.subtreeFlags&6&&(c.flags|=8192)):lt(c),f=c.updateQueue,f!==null&&Wd(c,f.retryQueue),f=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==f&&(c.flags|=2048),a!==null&&J(ua),null;case 24:return f=null,a!==null&&(f=a.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),xr(Tt),lt(c),null;case 25:return null;case 30:return null}throw Error(s(156,c.tag))}function A6(a,c){switch(og(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return xr(Tt),Se(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return vs(c),null;case 31:if(c.memoizedState!==null){if(Un(c),c.alternate===null)throw Error(s(340));oa()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 13:if(Un(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(s(340));oa()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return J(Nt),null;case 4:return Se(),null;case 10:return xr(c.type),null;case 22:case 23:return Un(c),Ng(),a!==null&&J(ua),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return xr(Tt),null;case 25:return null;default:return null}}function WN(a,c){switch(og(c),c.tag){case 3:xr(Tt),Se();break;case 26:case 27:case 5:vs(c);break;case 4:Se();break;case 31:c.memoizedState!==null&&Un(c);break;case 13:Un(c);break;case 19:J(Nt);break;case 10:xr(c.type);break;case 22:case 23:Un(c),Ng(),a!==null&&J(ua);break;case 24:xr(Tt)}}function fc(a,c){try{var f=c.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var v=g.next;f=v;do{if((f.tag&a)===a){g=void 0;var N=f.create,A=f.inst;g=N(),A.destroy=g}f=f.next}while(f!==v)}}catch(P){We(c,c.return,P)}}function ci(a,c,f){try{var g=c.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var N=v.next;g=N;do{if((g.tag&a)===a){var A=g.inst,P=A.destroy;if(P!==void 0){A.destroy=void 0,v=c;var I=f,Q=P;try{Q()}catch(te){We(v,I,te)}}}g=g.next}while(g!==N)}}catch(te){We(c,c.return,te)}}function ZN(a){var c=a.updateQueue;if(c!==null){var f=a.stateNode;try{Fw(c,f)}catch(g){We(a,a.return,g)}}}function ej(a,c,f){f.props=ma(a.type,a.memoizedProps),f.state=a.memoizedState;try{f.componentWillUnmount()}catch(g){We(a,c,g)}}function hc(a,c){try{var f=a.ref;if(f!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof f=="function"?a.refCleanup=f(g):f.current=g}}catch(v){We(a,c,v)}}function Us(a,c){var f=a.ref,g=a.refCleanup;if(f!==null)if(typeof g=="function")try{g()}catch(v){We(a,c,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(v){We(a,c,v)}else f.current=null}function tj(a){var c=a.type,f=a.memoizedProps,g=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&g.focus();break e;case"img":f.src?g.src=f.src:f.srcSet&&(g.srcset=f.srcSet)}}catch(v){We(a,a.return,v)}}function e0(a,c,f){try{var g=a.stateNode;W6(g,a.type,f,c),g[vn]=c}catch(v){We(a,a.return,v)}}function nj(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&gi(a.type)||a.tag===4}function t0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||nj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&gi(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function n0(a,c,f){var g=a.tag;if(g===5||g===6)a=a.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(a,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(a),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=fr));else if(g!==4&&(g===27&&gi(a.type)&&(f=a.stateNode,c=null),a=a.child,a!==null))for(n0(a,c,f),a=a.sibling;a!==null;)n0(a,c,f),a=a.sibling}function Zd(a,c,f){var g=a.tag;if(g===5||g===6)a=a.stateNode,c?f.insertBefore(a,c):f.appendChild(a);else if(g!==4&&(g===27&&gi(a.type)&&(f=a.stateNode),a=a.child,a!==null))for(Zd(a,c,f),a=a.sibling;a!==null;)Zd(a,c,f),a=a.sibling}function sj(a){var c=a.stateNode,f=a.memoizedProps;try{for(var g=a.type,v=c.attributes;v.length;)c.removeAttributeNode(v[0]);Zt(c,g,f),c[Yt]=a,c[vn]=f}catch(N){We(a,a.return,N)}}var Nr=!1,_t=!1,s0=!1,rj=typeof WeakSet=="function"?WeakSet:Set,$t=null;function _6(a,c){if(a=a.containerInfo,S0=wf,a=gw(a),Jm(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var v=g.anchorOffset,N=g.focusNode;g=g.focusOffset;try{f.nodeType,N.nodeType}catch{f=null;break e}var A=0,P=-1,I=-1,Q=0,te=0,ie=a,X=null;t:for(;;){for(var Z;ie!==f||v!==0&&ie.nodeType!==3||(P=A+v),ie!==N||g!==0&&ie.nodeType!==3||(I=A+g),ie.nodeType===3&&(A+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)X=ie,ie=Z;for(;;){if(ie===a)break t;if(X===f&&++Q===v&&(P=A),X===N&&++te===g&&(I=A),(Z=ie.nextSibling)!==null)break;ie=X,X=ie.parentNode}ie=Z}f=P===-1||I===-1?null:{start:P,end:I}}else f=null}f=f||{start:0,end:0}}else f=null;for(C0={focusedElem:a,selectionRange:f},wf=!1,$t=c;$t!==null;)if(c=$t,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,$t=a;else for(;$t!==null;){switch(c=$t,N=c.alternate,a=c.flags,c.tag){case 0:if((a&4)!==0&&(a=c.updateQueue,a=a!==null?a.events:null,a!==null))for(f=0;f<a.length;f++)v=a[f],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&N!==null){a=void 0,f=c,v=N.memoizedProps,N=N.memoizedState,g=f.stateNode;try{var ge=ma(f.type,v);a=g.getSnapshotBeforeUpdate(ge,N),g.__reactInternalSnapshotBeforeUpdate=a}catch(Ne){We(f,f.return,Ne)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,f=a.nodeType,f===9)T0(a);else if(f===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":T0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(s(163))}if(a=c.sibling,a!==null){a.return=c.return,$t=a;break}$t=c.return}}function ij(a,c,f){var g=f.flags;switch(f.tag){case 0:case 11:case 15:Sr(a,f),g&4&&fc(5,f);break;case 1:if(Sr(a,f),g&4)if(a=f.stateNode,c===null)try{a.componentDidMount()}catch(A){We(f,f.return,A)}else{var v=ma(f.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(v,c,a.__reactInternalSnapshotBeforeUpdate)}catch(A){We(f,f.return,A)}}g&64&&ZN(f),g&512&&hc(f,f.return);break;case 3:if(Sr(a,f),g&64&&(a=f.updateQueue,a!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{Fw(a,c)}catch(A){We(f,f.return,A)}}break;case 27:c===null&&g&4&&sj(f);case 26:case 5:Sr(a,f),c===null&&g&4&&tj(f),g&512&&hc(f,f.return);break;case 12:Sr(a,f);break;case 31:Sr(a,f),g&4&&lj(a,f);break;case 13:Sr(a,f),g&4&&cj(a,f),g&64&&(a=f.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(f=V6.bind(null,f),a5(a,f))));break;case 22:if(g=f.memoizedState!==null||Nr,!g){c=c!==null&&c.memoizedState!==null||_t,v=Nr;var N=_t;Nr=g,(_t=c)&&!N?Cr(a,f,(f.subtreeFlags&8772)!==0):Sr(a,f),Nr=v,_t=N}break;case 30:break;default:Sr(a,f)}}function aj(a){var c=a.alternate;c!==null&&(a.alternate=null,aj(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&Om(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var ut=null,Nn=!1;function jr(a,c,f){for(f=f.child;f!==null;)oj(a,c,f),f=f.sibling}function oj(a,c,f){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(Bl,f)}catch{}switch(f.tag){case 26:_t||Us(f,c),jr(a,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:_t||Us(f,c);var g=ut,v=Nn;gi(f.type)&&(ut=f.stateNode,Nn=!1),jr(a,c,f),Nc(f.stateNode),ut=g,Nn=v;break;case 5:_t||Us(f,c);case 6:if(g=ut,v=Nn,ut=null,jr(a,c,f),ut=g,Nn=v,ut!==null)if(Nn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(f.stateNode)}catch(N){We(f,c,N)}else try{ut.removeChild(f.stateNode)}catch(N){We(f,c,N)}break;case 18:ut!==null&&(Nn?(a=ut,Zj(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,f.stateNode),Io(a)):Zj(ut,f.stateNode));break;case 4:g=ut,v=Nn,ut=f.stateNode.containerInfo,Nn=!0,jr(a,c,f),ut=g,Nn=v;break;case 0:case 11:case 14:case 15:ci(2,f,c),_t||ci(4,f,c),jr(a,c,f);break;case 1:_t||(Us(f,c),g=f.stateNode,typeof g.componentWillUnmount=="function"&&ej(f,c,g)),jr(a,c,f);break;case 21:jr(a,c,f);break;case 22:_t=(g=_t)||f.memoizedState!==null,jr(a,c,f),_t=g;break;default:jr(a,c,f)}}function lj(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Io(a)}catch(f){We(c,c.return,f)}}}function cj(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Io(a)}catch(f){We(c,c.return,f)}}function D6(a){switch(a.tag){case 31:case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new rj),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new rj),c;default:throw Error(s(435,a.tag))}}function ef(a,c){var f=D6(a);c.forEach(function(g){if(!f.has(g)){f.add(g);var v=U6.bind(null,a,g);g.then(v,v)}})}function jn(a,c){var f=c.deletions;if(f!==null)for(var g=0;g<f.length;g++){var v=f[g],N=a,A=c,P=A;e:for(;P!==null;){switch(P.tag){case 27:if(gi(P.type)){ut=P.stateNode,Nn=!1;break e}break;case 5:ut=P.stateNode,Nn=!1;break e;case 3:case 4:ut=P.stateNode.containerInfo,Nn=!0;break e}P=P.return}if(ut===null)throw Error(s(160));oj(N,A,v),ut=null,Nn=!1,N=v.alternate,N!==null&&(N.return=null),v.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)uj(c,a),c=c.sibling}var Ns=null;function uj(a,c){var f=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:jn(c,a),Sn(a),g&4&&(ci(3,a,a.return),fc(3,a),ci(5,a,a.return));break;case 1:jn(c,a),Sn(a),g&512&&(_t||f===null||Us(f,f.return)),g&64&&Nr&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(f=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=f===null?g:f.concat(g))));break;case 26:var v=Ns;if(jn(c,a),Sn(a),g&512&&(_t||f===null||Us(f,f.return)),g&4){var N=f!==null?f.memoizedState:null;if(g=a.memoizedState,f===null)if(g===null)if(a.stateNode===null){e:{g=a.type,f=a.memoizedProps,v=v.ownerDocument||v;t:switch(g){case"title":N=v.getElementsByTagName("title")[0],(!N||N[Vl]||N[Yt]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=v.createElement(g),v.head.insertBefore(N,v.querySelector("head > title"))),Zt(N,g,f),N[Yt]=a,Ut(N),g=N;break e;case"link":var A=uS("link","href",v).get(g+(f.href||""));if(A){for(var P=0;P<A.length;P++)if(N=A[P],N.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&N.getAttribute("rel")===(f.rel==null?null:f.rel)&&N.getAttribute("title")===(f.title==null?null:f.title)&&N.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){A.splice(P,1);break t}}N=v.createElement(g),Zt(N,g,f),v.head.appendChild(N);break;case"meta":if(A=uS("meta","content",v).get(g+(f.content||""))){for(P=0;P<A.length;P++)if(N=A[P],N.getAttribute("content")===(f.content==null?null:""+f.content)&&N.getAttribute("name")===(f.name==null?null:f.name)&&N.getAttribute("property")===(f.property==null?null:f.property)&&N.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&N.getAttribute("charset")===(f.charSet==null?null:f.charSet)){A.splice(P,1);break t}}N=v.createElement(g),Zt(N,g,f),v.head.appendChild(N);break;default:throw Error(s(468,g))}N[Yt]=a,Ut(N),g=N}a.stateNode=g}else dS(v,a.type,a.stateNode);else a.stateNode=cS(v,g,a.memoizedProps);else N!==g?(N===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):N.count--,g===null?dS(v,a.type,a.stateNode):cS(v,g,a.memoizedProps)):g===null&&a.stateNode!==null&&e0(a,a.memoizedProps,f.memoizedProps)}break;case 27:jn(c,a),Sn(a),g&512&&(_t||f===null||Us(f,f.return)),f!==null&&g&4&&e0(a,a.memoizedProps,f.memoizedProps);break;case 5:if(jn(c,a),Sn(a),g&512&&(_t||f===null||Us(f,f.return)),a.flags&32){v=a.stateNode;try{oo(v,"")}catch(ge){We(a,a.return,ge)}}g&4&&a.stateNode!=null&&(v=a.memoizedProps,e0(a,v,f!==null?f.memoizedProps:v)),g&1024&&(s0=!0);break;case 6:if(jn(c,a),Sn(a),g&4){if(a.stateNode===null)throw Error(s(162));g=a.memoizedProps,f=a.stateNode;try{f.nodeValue=g}catch(ge){We(a,a.return,ge)}}break;case 3:if(xf=null,v=Ns,Ns=mf(c.containerInfo),jn(c,a),Ns=v,Sn(a),g&4&&f!==null&&f.memoizedState.isDehydrated)try{Io(c.containerInfo)}catch(ge){We(a,a.return,ge)}s0&&(s0=!1,dj(a));break;case 4:g=Ns,Ns=mf(a.stateNode.containerInfo),jn(c,a),Sn(a),Ns=g;break;case 12:jn(c,a),Sn(a);break;case 31:jn(c,a),Sn(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,ef(a,g)));break;case 13:jn(c,a),Sn(a),a.child.flags&8192&&a.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(nf=Ln()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,ef(a,g)));break;case 22:v=a.memoizedState!==null;var I=f!==null&&f.memoizedState!==null,Q=Nr,te=_t;if(Nr=Q||v,_t=te||I,jn(c,a),_t=te,Nr=Q,Sn(a),g&8192)e:for(c=a.stateNode,c._visibility=v?c._visibility&-2:c._visibility|1,v&&(f===null||I||Nr||_t||ga(a)),f=null,c=a;;){if(c.tag===5||c.tag===26){if(f===null){I=f=c;try{if(N=I.stateNode,v)A=N.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{P=I.stateNode;var ie=I.memoizedProps.style,X=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;P.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ge){We(I,I.return,ge)}}}else if(c.tag===6){if(f===null){I=c;try{I.stateNode.nodeValue=v?"":I.memoizedProps}catch(ge){We(I,I.return,ge)}}}else if(c.tag===18){if(f===null){I=c;try{var Z=I.stateNode;v?eS(Z,!0):eS(I.stateNode,!1)}catch(ge){We(I,I.return,ge)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=a.updateQueue,g!==null&&(f=g.retryQueue,f!==null&&(g.retryQueue=null,ef(a,f))));break;case 19:jn(c,a),Sn(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,ef(a,g)));break;case 30:break;case 21:break;default:jn(c,a),Sn(a)}}function Sn(a){var c=a.flags;if(c&2){try{for(var f,g=a.return;g!==null;){if(nj(g)){f=g;break}g=g.return}if(f==null)throw Error(s(160));switch(f.tag){case 27:var v=f.stateNode,N=t0(a);Zd(a,N,v);break;case 5:var A=f.stateNode;f.flags&32&&(oo(A,""),f.flags&=-33);var P=t0(a);Zd(a,P,A);break;case 3:case 4:var I=f.stateNode.containerInfo,Q=t0(a);n0(a,Q,I);break;default:throw Error(s(161))}}catch(te){We(a,a.return,te)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function dj(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;dj(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function Sr(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)ij(a,c.alternate,c),c=c.sibling}function ga(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:ci(4,c,c.return),ga(c);break;case 1:Us(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&ej(c,c.return,f),ga(c);break;case 27:Nc(c.stateNode);case 26:case 5:Us(c,c.return),ga(c);break;case 22:c.memoizedState===null&&ga(c);break;case 30:ga(c);break;default:ga(c)}a=a.sibling}}function Cr(a,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,v=a,N=c,A=N.flags;switch(N.tag){case 0:case 11:case 15:Cr(v,N,f),fc(4,N);break;case 1:if(Cr(v,N,f),g=N,v=g.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Q){We(g,g.return,Q)}if(g=N,v=g.updateQueue,v!==null){var P=g.stateNode;try{var I=v.shared.hiddenCallbacks;if(I!==null)for(v.shared.hiddenCallbacks=null,v=0;v<I.length;v++)$w(I[v],P)}catch(Q){We(g,g.return,Q)}}f&&A&64&&ZN(N),hc(N,N.return);break;case 27:sj(N);case 26:case 5:Cr(v,N,f),f&&g===null&&A&4&&tj(N),hc(N,N.return);break;case 12:Cr(v,N,f);break;case 31:Cr(v,N,f),f&&A&4&&lj(v,N);break;case 13:Cr(v,N,f),f&&A&4&&cj(v,N);break;case 22:N.memoizedState===null&&Cr(v,N,f),hc(N,N.return);break;case 30:break;default:Cr(v,N,f)}c=c.sibling}}function r0(a,c){var f=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==f&&(a!=null&&a.refCount++,f!=null&&Zl(f))}function i0(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&Zl(a))}function js(a,c,f,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)fj(a,c,f,g),c=c.sibling}function fj(a,c,f,g){var v=c.flags;switch(c.tag){case 0:case 11:case 15:js(a,c,f,g),v&2048&&fc(9,c);break;case 1:js(a,c,f,g);break;case 3:js(a,c,f,g),v&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&Zl(a)));break;case 12:if(v&2048){js(a,c,f,g),a=c.stateNode;try{var N=c.memoizedProps,A=N.id,P=N.onPostCommit;typeof P=="function"&&P(A,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(I){We(c,c.return,I)}}else js(a,c,f,g);break;case 31:js(a,c,f,g);break;case 13:js(a,c,f,g);break;case 23:break;case 22:N=c.stateNode,A=c.alternate,c.memoizedState!==null?N._visibility&2?js(a,c,f,g):pc(a,c):N._visibility&2?js(a,c,f,g):(N._visibility|=2,To(a,c,f,g,(c.subtreeFlags&10256)!==0||!1)),v&2048&&r0(A,c);break;case 24:js(a,c,f,g),v&2048&&i0(c.alternate,c);break;default:js(a,c,f,g)}}function To(a,c,f,g,v){for(v=v&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var N=a,A=c,P=f,I=g,Q=A.flags;switch(A.tag){case 0:case 11:case 15:To(N,A,P,I,v),fc(8,A);break;case 23:break;case 22:var te=A.stateNode;A.memoizedState!==null?te._visibility&2?To(N,A,P,I,v):pc(N,A):(te._visibility|=2,To(N,A,P,I,v)),v&&Q&2048&&r0(A.alternate,A);break;case 24:To(N,A,P,I,v),v&&Q&2048&&i0(A.alternate,A);break;default:To(N,A,P,I,v)}c=c.sibling}}function pc(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=a,g=c,v=g.flags;switch(g.tag){case 22:pc(f,g),v&2048&&r0(g.alternate,g);break;case 24:pc(f,g),v&2048&&i0(g.alternate,g);break;default:pc(f,g)}c=c.sibling}}var mc=8192;function Mo(a,c,f){if(a.subtreeFlags&mc)for(a=a.child;a!==null;)hj(a,c,f),a=a.sibling}function hj(a,c,f){switch(a.tag){case 26:Mo(a,c,f),a.flags&mc&&a.memoizedState!==null&&y5(f,Ns,a.memoizedState,a.memoizedProps);break;case 5:Mo(a,c,f);break;case 3:case 4:var g=Ns;Ns=mf(a.stateNode.containerInfo),Mo(a,c,f),Ns=g;break;case 22:a.memoizedState===null&&(g=a.alternate,g!==null&&g.memoizedState!==null?(g=mc,mc=16777216,Mo(a,c,f),mc=g):Mo(a,c,f));break;default:Mo(a,c,f)}}function pj(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function gc(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];$t=g,gj(g,a)}pj(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)mj(a),a=a.sibling}function mj(a){switch(a.tag){case 0:case 11:case 15:gc(a),a.flags&2048&&ci(9,a,a.return);break;case 3:gc(a);break;case 12:gc(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,tf(a)):gc(a);break;default:gc(a)}}function tf(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];$t=g,gj(g,a)}pj(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:ci(8,c,c.return),tf(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,tf(c));break;default:tf(c)}a=a.sibling}}function gj(a,c){for(;$t!==null;){var f=$t;switch(f.tag){case 0:case 11:case 15:ci(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var g=f.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Zl(f.memoizedState.cache)}if(g=f.child,g!==null)g.return=f,$t=g;else e:for(f=a;$t!==null;){g=$t;var v=g.sibling,N=g.return;if(aj(g),g===f){$t=null;break e}if(v!==null){v.return=N,$t=v;break e}$t=N}}}var O6={getCacheForType:function(a){var c=Xt(Tt),f=c.data.get(a);return f===void 0&&(f=a(),c.data.set(a,f)),f},cacheSignal:function(){return Xt(Tt).controller.signal}},R6=typeof WeakMap=="function"?WeakMap:Map,Qe=0,rt=null,Ie=null,Ue=0,Xe=0,$n=null,ui=!1,Ao=!1,a0=!1,kr=0,yt=0,di=0,xa=0,o0=0,Fn=0,_o=0,xc=null,Cn=null,l0=!1,nf=0,xj=0,sf=1/0,rf=null,fi=null,Bt=0,hi=null,Do=null,Er=0,c0=0,u0=null,yj=null,yc=0,d0=null;function qn(){return(Qe&2)!==0&&Ue!==0?Ue&-Ue:U.T!==null?x0():R1()}function bj(){if(Fn===0)if((Ue&536870912)===0||Fe){var a=fd;fd<<=1,(fd&3932160)===0&&(fd=262144),Fn=a}else Fn=536870912;return a=Vn.current,a!==null&&(a.flags|=32),Fn}function kn(a,c,f){(a===rt&&(Xe===2||Xe===9)||a.cancelPendingCommit!==null)&&(Oo(a,0),pi(a,Ue,Fn,!1)),Il(a,f),((Qe&2)===0||a!==rt)&&(a===rt&&((Qe&2)===0&&(xa|=f),yt===4&&pi(a,Ue,Fn,!1)),$s(a))}function vj(a,c,f){if((Qe&6)!==0)throw Error(s(327));var g=!f&&(c&127)===0&&(c&a.expiredLanes)===0||zl(a,c),v=g?B6(a,c):h0(a,c,!0),N=g;do{if(v===0){Ao&&!g&&pi(a,c,0,!1);break}else{if(f=a.current.alternate,N&&!L6(f)){v=h0(a,c,!1),N=!1;continue}if(v===2){if(N=c,a.errorRecoveryDisabledLanes&N)var A=0;else A=a.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){c=A;e:{var P=a;v=xc;var I=P.current.memoizedState.isDehydrated;if(I&&(Oo(P,A).flags|=256),A=h0(P,A,!1),A!==2){if(a0&&!I){P.errorRecoveryDisabledLanes|=N,xa|=N,v=4;break e}N=Cn,Cn=v,N!==null&&(Cn===null?Cn=N:Cn.push.apply(Cn,N))}v=A}if(N=!1,v!==2)continue}}if(v===1){Oo(a,0),pi(a,c,0,!0);break}e:{switch(g=a,N=v,N){case 0:case 1:throw Error(s(345));case 4:if((c&4194048)!==c)break;case 6:pi(g,c,Fn,!ui);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((c&62914560)===c&&(v=nf+300-Ln(),10<v)){if(pi(g,c,Fn,!ui),pd(g,0,!0)!==0)break e;Er=c,g.timeoutHandle=Xj(wj.bind(null,g,f,Cn,rf,l0,c,Fn,xa,_o,ui,N,"Throttled",-0,0),v);break e}wj(g,f,Cn,rf,l0,c,Fn,xa,_o,ui,N,null,-0,0)}}break}while(!0);$s(a)}function wj(a,c,f,g,v,N,A,P,I,Q,te,ie,X,Z){if(a.timeoutHandle=-1,ie=c.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fr},hj(c,N,ie);var ge=(N&62914560)===N?nf-Ln():(N&4194048)===N?xj-Ln():0;if(ge=b5(ie,ge),ge!==null){Er=N,a.cancelPendingCommit=ge(Mj.bind(null,a,c,N,f,g,v,A,P,I,te,ie,null,X,Z)),pi(a,N,A,!Q);return}}Mj(a,c,N,f,g,v,A,P,I)}function L6(a){for(var c=a;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var g=0;g<f.length;g++){var v=f[g],N=v.getSnapshot;v=v.value;try{if(!zn(N(),v))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function pi(a,c,f,g){c&=~o0,c&=~xa,a.suspendedLanes|=c,a.pingedLanes&=~c,g&&(a.warmLanes|=c),g=a.expirationTimes;for(var v=c;0<v;){var N=31-Bn(v),A=1<<N;g[N]=-1,v&=~A}f!==0&&_1(a,f,c)}function af(){return(Qe&6)===0?(bc(0),!1):!0}function f0(){if(Ie!==null){if(Xe===0)var a=Ie.return;else a=Ie,gr=la=null,Tg(a),jo=null,tc=0,a=Ie;for(;a!==null;)WN(a.alternate,a),a=a.return;Ie=null}}function Oo(a,c){var f=a.timeoutHandle;f!==-1&&(a.timeoutHandle=-1,t5(f)),f=a.cancelPendingCommit,f!==null&&(a.cancelPendingCommit=null,f()),Er=0,f0(),rt=a,Ie=f=pr(a.current,null),Ue=c,Xe=0,$n=null,ui=!1,Ao=zl(a,c),a0=!1,_o=Fn=o0=xa=di=yt=0,Cn=xc=null,l0=!1,(c&8)!==0&&(c|=c&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=c;0<g;){var v=31-Bn(g),N=1<<v;c|=a[v],g&=~N}return kr=c,kd(),f}function Nj(a,c){_e=null,U.H=cc,c===No||c===Rd?(c=zw(),Xe=3):c===gg?(c=zw(),Xe=4):Xe=c===qg?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,$n=c,Ie===null&&(yt=1,Qd(a,ns(c,a.current)))}function jj(){var a=Vn.current;return a===null?!0:(Ue&4194048)===Ue?as===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?a===as:!1}function Sj(){var a=U.H;return U.H=cc,a===null?cc:a}function Cj(){var a=U.A;return U.A=O6,a}function of(){yt=4,ui||(Ue&4194048)!==Ue&&Vn.current!==null||(Ao=!0),(di&134217727)===0&&(xa&134217727)===0||rt===null||pi(rt,Ue,Fn,!1)}function h0(a,c,f){var g=Qe;Qe|=2;var v=Sj(),N=Cj();(rt!==a||Ue!==c)&&(rf=null,Oo(a,c)),c=!1;var A=yt;e:do try{if(Xe!==0&&Ie!==null){var P=Ie,I=$n;switch(Xe){case 8:f0(),A=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(c=!0);var Q=Xe;if(Xe=0,$n=null,Ro(a,P,I,Q),f&&Ao){A=0;break e}break;default:Q=Xe,Xe=0,$n=null,Ro(a,P,I,Q)}}P6(),A=yt;break}catch(te){Nj(a,te)}while(!0);return c&&a.shellSuspendCounter++,gr=la=null,Qe=g,U.H=v,U.A=N,Ie===null&&(rt=null,Ue=0,kd()),A}function P6(){for(;Ie!==null;)kj(Ie)}function B6(a,c){var f=Qe;Qe|=2;var g=Sj(),v=Cj();rt!==a||Ue!==c?(rf=null,sf=Ln()+500,Oo(a,c)):Ao=zl(a,c);e:do try{if(Xe!==0&&Ie!==null){c=Ie;var N=$n;t:switch(Xe){case 1:Xe=0,$n=null,Ro(a,c,N,1);break;case 2:case 9:if(Pw(N)){Xe=0,$n=null,Ej(c);break}c=function(){Xe!==2&&Xe!==9||rt!==a||(Xe=7),$s(a)},N.then(c,c);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Pw(N)?(Xe=0,$n=null,Ej(c)):(Xe=0,$n=null,Ro(a,c,N,7));break;case 5:var A=null;switch(Ie.tag){case 26:A=Ie.memoizedState;case 5:case 27:var P=Ie;if(A?fS(A):P.stateNode.complete){Xe=0,$n=null;var I=P.sibling;if(I!==null)Ie=I;else{var Q=P.return;Q!==null?(Ie=Q,lf(Q)):Ie=null}break t}}Xe=0,$n=null,Ro(a,c,N,5);break;case 6:Xe=0,$n=null,Ro(a,c,N,6);break;case 8:f0(),yt=6;break e;default:throw Error(s(462))}}z6();break}catch(te){Nj(a,te)}while(!0);return gr=la=null,U.H=g,U.A=v,Qe=f,Ie!==null?0:(rt=null,Ue=0,kd(),yt)}function z6(){for(;Ie!==null&&!oO();)kj(Ie)}function kj(a){var c=JN(a.alternate,a,kr);a.memoizedProps=a.pendingProps,c===null?lf(a):Ie=c}function Ej(a){var c=a,f=c.alternate;switch(c.tag){case 15:case 0:c=qN(f,c,c.pendingProps,c.type,void 0,Ue);break;case 11:c=qN(f,c,c.pendingProps,c.type.render,c.ref,Ue);break;case 5:Tg(c);default:WN(f,c),c=Ie=Cw(c,kr),c=JN(f,c,kr)}a.memoizedProps=a.pendingProps,c===null?lf(a):Ie=c}function Ro(a,c,f,g){gr=la=null,Tg(c),jo=null,tc=0;var v=c.return;try{if(k6(a,v,c,f,Ue)){yt=1,Qd(a,ns(f,a.current)),Ie=null;return}}catch(N){if(v!==null)throw Ie=v,N;yt=1,Qd(a,ns(f,a.current)),Ie=null;return}c.flags&32768?(Fe||g===1?a=!0:Ao||(Ue&536870912)!==0?a=!1:(ui=a=!0,(g===2||g===9||g===3||g===6)&&(g=Vn.current,g!==null&&g.tag===13&&(g.flags|=16384))),Tj(c,a)):lf(c)}function lf(a){var c=a;do{if((c.flags&32768)!==0){Tj(c,ui);return}a=c.return;var f=M6(c.alternate,c,kr);if(f!==null){Ie=f;return}if(c=c.sibling,c!==null){Ie=c;return}Ie=c=a}while(c!==null);yt===0&&(yt=5)}function Tj(a,c){do{var f=A6(a.alternate,a);if(f!==null){f.flags&=32767,Ie=f;return}if(f=a.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(a=a.sibling,a!==null)){Ie=a;return}Ie=a=f}while(a!==null);yt=6,Ie=null}function Mj(a,c,f,g,v,N,A,P,I){a.cancelPendingCommit=null;do cf();while(Bt!==0);if((Qe&6)!==0)throw Error(s(327));if(c!==null){if(c===a.current)throw Error(s(177));if(N=c.lanes|c.childLanes,N|=tg,xO(a,f,N,A,P,I),a===rt&&(Ie=rt=null,Ue=0),Do=c,hi=a,Er=f,c0=N,u0=v,yj=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,$6(ud,function(){return Rj(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=U.T,U.T=null,v=H.p,H.p=2,A=Qe,Qe|=4;try{_6(a,c,f)}finally{Qe=A,H.p=v,U.T=g}}Bt=1,Aj(),_j(),Dj()}}function Aj(){if(Bt===1){Bt=0;var a=hi,c=Do,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=U.T,U.T=null;var g=H.p;H.p=2;var v=Qe;Qe|=4;try{uj(c,a);var N=C0,A=gw(a.containerInfo),P=N.focusedElem,I=N.selectionRange;if(A!==P&&P&&P.ownerDocument&&mw(P.ownerDocument.documentElement,P)){if(I!==null&&Jm(P)){var Q=I.start,te=I.end;if(te===void 0&&(te=Q),"selectionStart"in P)P.selectionStart=Q,P.selectionEnd=Math.min(te,P.value.length);else{var ie=P.ownerDocument||document,X=ie&&ie.defaultView||window;if(X.getSelection){var Z=X.getSelection(),ge=P.textContent.length,Ne=Math.min(I.start,ge),st=I.end===void 0?Ne:Math.min(I.end,ge);!Z.extend&&Ne>st&&(A=st,st=Ne,Ne=A);var q=pw(P,Ne),$=pw(P,st);if(q&&$&&(Z.rangeCount!==1||Z.anchorNode!==q.node||Z.anchorOffset!==q.offset||Z.focusNode!==$.node||Z.focusOffset!==$.offset)){var G=ie.createRange();G.setStart(q.node,q.offset),Z.removeAllRanges(),Ne>st?(Z.addRange(G),Z.extend($.node,$.offset)):(G.setEnd($.node,$.offset),Z.addRange(G))}}}}for(ie=[],Z=P;Z=Z.parentNode;)Z.nodeType===1&&ie.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ie.length;P++){var ne=ie[P];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}wf=!!S0,C0=S0=null}finally{Qe=v,H.p=g,U.T=f}}a.current=c,Bt=2}}function _j(){if(Bt===2){Bt=0;var a=hi,c=Do,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=U.T,U.T=null;var g=H.p;H.p=2;var v=Qe;Qe|=4;try{ij(a,c.alternate,c)}finally{Qe=v,H.p=g,U.T=f}}Bt=3}}function Dj(){if(Bt===4||Bt===3){Bt=0,lO();var a=hi,c=Do,f=Er,g=yj;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Bt=5:(Bt=0,Do=hi=null,Oj(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(fi=null),_m(f),c=c.stateNode,Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(Bl,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=U.T,v=H.p,H.p=2,U.T=null;try{for(var N=a.onRecoverableError,A=0;A<g.length;A++){var P=g[A];N(P.value,{componentStack:P.stack})}}finally{U.T=c,H.p=v}}(Er&3)!==0&&cf(),$s(a),v=a.pendingLanes,(f&261930)!==0&&(v&42)!==0?a===d0?yc++:(yc=0,d0=a):yc=0,bc(0)}}function Oj(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,Zl(c)))}function cf(){return Aj(),_j(),Dj(),Rj()}function Rj(){if(Bt!==5)return!1;var a=hi,c=c0;c0=0;var f=_m(Er),g=U.T,v=H.p;try{H.p=32>f?32:f,U.T=null,f=u0,u0=null;var N=hi,A=Er;if(Bt=0,Do=hi=null,Er=0,(Qe&6)!==0)throw Error(s(331));var P=Qe;if(Qe|=4,mj(N.current),fj(N,N.current,A,f),Qe=P,bc(0,!1),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(Bl,N)}catch{}return!0}finally{H.p=v,U.T=g,Oj(a,c)}}function Lj(a,c,f){c=ns(f,c),c=Fg(a.stateNode,c,2),a=ai(a,c,2),a!==null&&(Il(a,2),$s(a))}function We(a,c,f){if(a.tag===3)Lj(a,a,f);else for(;c!==null;){if(c.tag===3){Lj(c,a,f);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(fi===null||!fi.has(g))){a=ns(f,a),f=PN(2),g=ai(c,f,2),g!==null&&(BN(f,g,c,a),Il(g,2),$s(g));break}}c=c.return}}function p0(a,c,f){var g=a.pingCache;if(g===null){g=a.pingCache=new R6;var v=new Set;g.set(c,v)}else v=g.get(c),v===void 0&&(v=new Set,g.set(c,v));v.has(f)||(a0=!0,v.add(f),a=I6.bind(null,a,c,f),c.then(a,a))}function I6(a,c,f){var g=a.pingCache;g!==null&&g.delete(c),a.pingedLanes|=a.suspendedLanes&f,a.warmLanes&=~f,rt===a&&(Ue&f)===f&&(yt===4||yt===3&&(Ue&62914560)===Ue&&300>Ln()-nf?(Qe&2)===0&&Oo(a,0):o0|=f,_o===Ue&&(_o=0)),$s(a)}function Pj(a,c){c===0&&(c=A1()),a=ia(a,c),a!==null&&(Il(a,c),$s(a))}function V6(a){var c=a.memoizedState,f=0;c!==null&&(f=c.retryLane),Pj(a,f)}function U6(a,c){var f=0;switch(a.tag){case 31:case 13:var g=a.stateNode,v=a.memoizedState;v!==null&&(f=v.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(s(314))}g!==null&&g.delete(c),Pj(a,f)}function $6(a,c){return Pl(a,c)}var uf=null,Lo=null,m0=!1,df=!1,g0=!1,mi=0;function $s(a){a!==Lo&&a.next===null&&(Lo===null?uf=Lo=a:Lo=Lo.next=a),df=!0,m0||(m0=!0,q6())}function bc(a,c){if(!g0&&df){g0=!0;do for(var f=!1,g=uf;g!==null;){if(a!==0){var v=g.pendingLanes;if(v===0)var N=0;else{var A=g.suspendedLanes,P=g.pingedLanes;N=(1<<31-Bn(42|a)+1)-1,N&=v&~(A&~P),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(f=!0,Vj(g,N))}else N=Ue,N=pd(g,g===rt?N:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(N&3)===0||zl(g,N)||(f=!0,Vj(g,N));g=g.next}while(f);g0=!1}}function F6(){Bj()}function Bj(){df=m0=!1;var a=0;mi!==0&&e5()&&(a=mi);for(var c=Ln(),f=null,g=uf;g!==null;){var v=g.next,N=zj(g,c);N===0?(g.next=null,f===null?uf=v:f.next=v,v===null&&(Lo=f)):(f=g,(a!==0||(N&3)!==0)&&(df=!0)),g=v}Bt!==0&&Bt!==5||bc(a),mi!==0&&(mi=0)}function zj(a,c){for(var f=a.suspendedLanes,g=a.pingedLanes,v=a.expirationTimes,N=a.pendingLanes&-62914561;0<N;){var A=31-Bn(N),P=1<<A,I=v[A];I===-1?((P&f)===0||(P&g)!==0)&&(v[A]=gO(P,c)):I<=c&&(a.expiredLanes|=P),N&=~P}if(c=rt,f=Ue,f=pd(a,a===c?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,f===0||a===c&&(Xe===2||Xe===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&Tm(g),a.callbackNode=null,a.callbackPriority=0;if((f&3)===0||zl(a,f)){if(c=f&-f,c===a.callbackPriority)return c;switch(g!==null&&Tm(g),_m(f)){case 2:case 8:f=T1;break;case 32:f=ud;break;case 268435456:f=M1;break;default:f=ud}return g=Ij.bind(null,a),f=Pl(f,g),a.callbackPriority=c,a.callbackNode=f,c}return g!==null&&g!==null&&Tm(g),a.callbackPriority=2,a.callbackNode=null,2}function Ij(a,c){if(Bt!==0&&Bt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var f=a.callbackNode;if(cf()&&a.callbackNode!==f)return null;var g=Ue;return g=pd(a,a===rt?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(vj(a,g,c),zj(a,Ln()),a.callbackNode!=null&&a.callbackNode===f?Ij.bind(null,a):null)}function Vj(a,c){if(cf())return null;vj(a,c,!0)}function q6(){n5(function(){(Qe&6)!==0?Pl(E1,F6):Bj()})}function x0(){if(mi===0){var a=vo;a===0&&(a=dd,dd<<=1,(dd&261888)===0&&(dd=256)),mi=a}return mi}function Uj(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:yd(""+a)}function $j(a,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,a.id&&f.setAttribute("form",a.id),c.parentNode.insertBefore(f,c),a=new FormData(a),f.parentNode.removeChild(f),a}function H6(a,c,f,g,v){if(c==="submit"&&f&&f.stateNode===v){var N=Uj((v[vn]||null).action),A=g.submitter;A&&(c=(c=A[vn]||null)?Uj(c.formAction):A.getAttribute("formAction"),c!==null&&(N=c,A=null));var P=new Nd("action","action",null,g,v);a.push({event:P,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(mi!==0){var I=A?$j(v,A):new FormData(v);Bg(f,{pending:!0,data:I,method:v.method,action:N},null,I)}}else typeof N=="function"&&(P.preventDefault(),I=A?$j(v,A):new FormData(v),Bg(f,{pending:!0,data:I,method:v.method,action:N},N,I))},currentTarget:v}]})}}for(var y0=0;y0<eg.length;y0++){var b0=eg[y0],K6=b0.toLowerCase(),G6=b0[0].toUpperCase()+b0.slice(1);ws(K6,"on"+G6)}ws(bw,"onAnimationEnd"),ws(vw,"onAnimationIteration"),ws(ww,"onAnimationStart"),ws("dblclick","onDoubleClick"),ws("focusin","onFocus"),ws("focusout","onBlur"),ws(c6,"onTransitionRun"),ws(u6,"onTransitionStart"),ws(d6,"onTransitionCancel"),ws(Nw,"onTransitionEnd"),io("onMouseEnter",["mouseout","mouseover"]),io("onMouseLeave",["mouseout","mouseover"]),io("onPointerEnter",["pointerout","pointerover"]),io("onPointerLeave",["pointerout","pointerover"]),ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vc));function Fj(a,c){c=(c&4)!==0;for(var f=0;f<a.length;f++){var g=a[f],v=g.event;g=g.listeners;e:{var N=void 0;if(c)for(var A=g.length-1;0<=A;A--){var P=g[A],I=P.instance,Q=P.currentTarget;if(P=P.listener,I!==N&&v.isPropagationStopped())break e;N=P,v.currentTarget=Q;try{N(v)}catch(te){Cd(te)}v.currentTarget=null,N=I}else for(A=0;A<g.length;A++){if(P=g[A],I=P.instance,Q=P.currentTarget,P=P.listener,I!==N&&v.isPropagationStopped())break e;N=P,v.currentTarget=Q;try{N(v)}catch(te){Cd(te)}v.currentTarget=null,N=I}}}}function Ve(a,c){var f=c[Dm];f===void 0&&(f=c[Dm]=new Set);var g=a+"__bubble";f.has(g)||(qj(c,a,2,!1),f.add(g))}function v0(a,c,f){var g=0;c&&(g|=4),qj(f,a,g,c)}var ff="_reactListening"+Math.random().toString(36).slice(2);function w0(a){if(!a[ff]){a[ff]=!0,B1.forEach(function(f){f!=="selectionchange"&&(Q6.has(f)||v0(f,!1,a),v0(f,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[ff]||(c[ff]=!0,v0("selectionchange",!1,c))}}function qj(a,c,f,g){switch(bS(c)){case 2:var v=N5;break;case 8:v=j5;break;default:v=P0}f=v.bind(null,c,f,a),v=void 0,!Um||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(v=!0),g?v!==void 0?a.addEventListener(c,f,{capture:!0,passive:v}):a.addEventListener(c,f,!0):v!==void 0?a.addEventListener(c,f,{passive:v}):a.addEventListener(c,f,!1)}function N0(a,c,f,g,v){var N=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var A=g.tag;if(A===3||A===4){var P=g.stateNode.containerInfo;if(P===v)break;if(A===4)for(A=g.return;A!==null;){var I=A.tag;if((I===3||I===4)&&A.stateNode.containerInfo===v)return;A=A.return}for(;P!==null;){if(A=no(P),A===null)return;if(I=A.tag,I===5||I===6||I===26||I===27){g=N=A;continue e}P=P.parentNode}}g=g.return}Y1(function(){var Q=N,te=Im(f),ie=[];e:{var X=jw.get(a);if(X!==void 0){var Z=Nd,ge=a;switch(a){case"keypress":if(vd(f)===0)break e;case"keydown":case"keyup":Z=UO;break;case"focusin":ge="focus",Z=Hm;break;case"focusout":ge="blur",Z=Hm;break;case"beforeblur":case"afterblur":Z=Hm;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=W1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=MO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=qO;break;case bw:case vw:case ww:Z=DO;break;case Nw:Z=KO;break;case"scroll":case"scrollend":Z=EO;break;case"wheel":Z=QO;break;case"copy":case"cut":case"paste":Z=RO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=ew;break;case"toggle":case"beforetoggle":Z=JO}var Ne=(c&4)!==0,st=!Ne&&(a==="scroll"||a==="scrollend"),q=Ne?X!==null?X+"Capture":null:X;Ne=[];for(var $=Q,G;$!==null;){var ne=$;if(G=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||G===null||q===null||(ne=$l($,q),ne!=null&&Ne.push(wc($,ne,G))),st)break;$=$.return}0<Ne.length&&(X=new Z(X,ge,null,f,te),ie.push({event:X,listeners:Ne}))}}if((c&7)===0){e:{if(X=a==="mouseover"||a==="pointerover",Z=a==="mouseout"||a==="pointerout",X&&f!==zm&&(ge=f.relatedTarget||f.fromElement)&&(no(ge)||ge[to]))break e;if((Z||X)&&(X=te.window===te?te:(X=te.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(ge=f.relatedTarget||f.toElement,Z=Q,ge=ge?no(ge):null,ge!==null&&(st=i(ge),Ne=ge.tag,ge!==st||Ne!==5&&Ne!==27&&Ne!==6)&&(ge=null)):(Z=null,ge=Q),Z!==ge)){if(Ne=W1,ne="onMouseLeave",q="onMouseEnter",$="mouse",(a==="pointerout"||a==="pointerover")&&(Ne=ew,ne="onPointerLeave",q="onPointerEnter",$="pointer"),st=Z==null?X:Ul(Z),G=ge==null?X:Ul(ge),X=new Ne(ne,$+"leave",Z,f,te),X.target=st,X.relatedTarget=G,ne=null,no(te)===Q&&(Ne=new Ne(q,$+"enter",ge,f,te),Ne.target=G,Ne.relatedTarget=st,ne=Ne),st=ne,Z&&ge)t:{for(Ne=Y6,q=Z,$=ge,G=0,ne=q;ne;ne=Ne(ne))G++;ne=0;for(var ye=$;ye;ye=Ne(ye))ne++;for(;0<G-ne;)q=Ne(q),G--;for(;0<ne-G;)$=Ne($),ne--;for(;G--;){if(q===$||$!==null&&q===$.alternate){Ne=q;break t}q=Ne(q),$=Ne($)}Ne=null}else Ne=null;Z!==null&&Hj(ie,X,Z,Ne,!1),ge!==null&&st!==null&&Hj(ie,st,ge,Ne,!0)}}e:{if(X=Q?Ul(Q):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var He=lw;else if(aw(X))if(cw)He=a6;else{He=r6;var xe=s6}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&Bm(Q.elementType)&&(He=lw):He=i6;if(He&&(He=He(a,Q))){ow(ie,He,f,te);break e}xe&&xe(a,X,Q),a==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&Pm(X,"number",X.value)}switch(xe=Q?Ul(Q):window,a){case"focusin":(aw(xe)||xe.contentEditable==="true")&&(fo=xe,Xm=Q,Jl=null);break;case"focusout":Jl=Xm=fo=null;break;case"mousedown":Wm=!0;break;case"contextmenu":case"mouseup":case"dragend":Wm=!1,xw(ie,f,te);break;case"selectionchange":if(l6)break;case"keydown":case"keyup":xw(ie,f,te)}var Oe;if(Gm)e:{switch(a){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else uo?rw(a,f)&&($e="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&($e="onCompositionStart");$e&&(tw&&f.locale!=="ko"&&(uo||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&uo&&(Oe=J1()):(Zr=te,$m="value"in Zr?Zr.value:Zr.textContent,uo=!0)),xe=hf(Q,$e),0<xe.length&&($e=new Z1($e,a,null,f,te),ie.push({event:$e,listeners:xe}),Oe?$e.data=Oe:(Oe=iw(f),Oe!==null&&($e.data=Oe)))),(Oe=WO?ZO(a,f):e6(a,f))&&($e=hf(Q,"onBeforeInput"),0<$e.length&&(xe=new Z1("onBeforeInput","beforeinput",null,f,te),ie.push({event:xe,listeners:$e}),xe.data=Oe)),H6(ie,a,Q,f,te)}Fj(ie,c)})}function wc(a,c,f){return{instance:a,listener:c,currentTarget:f}}function hf(a,c){for(var f=c+"Capture",g=[];a!==null;){var v=a,N=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||N===null||(v=$l(a,f),v!=null&&g.unshift(wc(a,v,N)),v=$l(a,c),v!=null&&g.push(wc(a,v,N))),a.tag===3)return g;a=a.return}return[]}function Y6(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Hj(a,c,f,g,v){for(var N=c._reactName,A=[];f!==null&&f!==g;){var P=f,I=P.alternate,Q=P.stateNode;if(P=P.tag,I!==null&&I===g)break;P!==5&&P!==26&&P!==27||Q===null||(I=Q,v?(Q=$l(f,N),Q!=null&&A.unshift(wc(f,Q,I))):v||(Q=$l(f,N),Q!=null&&A.push(wc(f,Q,I)))),f=f.return}A.length!==0&&a.push({event:c,listeners:A})}var J6=/\r\n?/g,X6=/\u0000|\uFFFD/g;function Kj(a){return(typeof a=="string"?a:""+a).replace(J6,`
`).replace(X6,"")}function Gj(a,c){return c=Kj(c),Kj(a)===c}function nt(a,c,f,g,v,N){switch(f){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||oo(a,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&oo(a,""+g);break;case"className":gd(a,"class",g);break;case"tabIndex":gd(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":gd(a,f,g);break;case"style":G1(a,g,N);break;case"data":if(c!=="object"){gd(a,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||f!=="href")){a.removeAttribute(f);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(f);break}g=yd(""+g),a.setAttribute(f,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(f==="formAction"?(c!=="input"&&nt(a,c,"name",v.name,v,null),nt(a,c,"formEncType",v.formEncType,v,null),nt(a,c,"formMethod",v.formMethod,v,null),nt(a,c,"formTarget",v.formTarget,v,null)):(nt(a,c,"encType",v.encType,v,null),nt(a,c,"method",v.method,v,null),nt(a,c,"target",v.target,v,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(f);break}g=yd(""+g),a.setAttribute(f,g);break;case"onClick":g!=null&&(a.onclick=fr);break;case"onScroll":g!=null&&Ve("scroll",a);break;case"onScrollEnd":g!=null&&Ve("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(s(61));if(f=g.__html,f!=null){if(v.children!=null)throw Error(s(60));a.innerHTML=f}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}f=yd(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(f,""+g):a.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(f,""):a.removeAttribute(f);break;case"capture":case"download":g===!0?a.setAttribute(f,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(f,g):a.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(f,g):a.removeAttribute(f);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(f):a.setAttribute(f,g);break;case"popover":Ve("beforetoggle",a),Ve("toggle",a),md(a,"popover",g);break;case"xlinkActuate":dr(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":dr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":dr(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":dr(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":dr(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":dr(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":dr(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":dr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":dr(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":md(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=CO.get(f)||f,md(a,f,g))}}function j0(a,c,f,g,v,N){switch(f){case"style":G1(a,g,N);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(s(61));if(f=g.__html,f!=null){if(v.children!=null)throw Error(s(60));a.innerHTML=f}}break;case"children":typeof g=="string"?oo(a,g):(typeof g=="number"||typeof g=="bigint")&&oo(a,""+g);break;case"onScroll":g!=null&&Ve("scroll",a);break;case"onScrollEnd":g!=null&&Ve("scrollend",a);break;case"onClick":g!=null&&(a.onclick=fr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!z1.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(v=f.endsWith("Capture"),c=f.slice(2,v?f.length-7:void 0),N=a[vn]||null,N=N!=null?N[f]:null,typeof N=="function"&&a.removeEventListener(c,N,v),typeof g=="function")){typeof N!="function"&&N!==null&&(f in a?a[f]=null:a.hasAttribute(f)&&a.removeAttribute(f)),a.addEventListener(c,g,v);break e}f in a?a[f]=g:g===!0?a.setAttribute(f,""):md(a,f,g)}}}function Zt(a,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",a),Ve("load",a);var g=!1,v=!1,N;for(N in f)if(f.hasOwnProperty(N)){var A=f[N];if(A!=null)switch(N){case"src":g=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,c));default:nt(a,c,N,A,f,null)}}v&&nt(a,c,"srcSet",f.srcSet,f,null),g&&nt(a,c,"src",f.src,f,null);return;case"input":Ve("invalid",a);var P=N=A=v=null,I=null,Q=null;for(g in f)if(f.hasOwnProperty(g)){var te=f[g];if(te!=null)switch(g){case"name":v=te;break;case"type":A=te;break;case"checked":I=te;break;case"defaultChecked":Q=te;break;case"value":N=te;break;case"defaultValue":P=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,c));break;default:nt(a,c,g,te,f,null)}}F1(a,N,P,I,Q,A,v,!1);return;case"select":Ve("invalid",a),g=A=N=null;for(v in f)if(f.hasOwnProperty(v)&&(P=f[v],P!=null))switch(v){case"value":N=P;break;case"defaultValue":A=P;break;case"multiple":g=P;default:nt(a,c,v,P,f,null)}c=N,f=A,a.multiple=!!g,c!=null?ao(a,!!g,c,!1):f!=null&&ao(a,!!g,f,!0);return;case"textarea":Ve("invalid",a),N=v=g=null;for(A in f)if(f.hasOwnProperty(A)&&(P=f[A],P!=null))switch(A){case"value":g=P;break;case"defaultValue":v=P;break;case"children":N=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(91));break;default:nt(a,c,A,P,f,null)}H1(a,g,v,N);return;case"option":for(I in f)if(f.hasOwnProperty(I)&&(g=f[I],g!=null))switch(I){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:nt(a,c,I,g,f,null)}return;case"dialog":Ve("beforetoggle",a),Ve("toggle",a),Ve("cancel",a),Ve("close",a);break;case"iframe":case"object":Ve("load",a);break;case"video":case"audio":for(g=0;g<vc.length;g++)Ve(vc[g],a);break;case"image":Ve("error",a),Ve("load",a);break;case"details":Ve("toggle",a);break;case"embed":case"source":case"link":Ve("error",a),Ve("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in f)if(f.hasOwnProperty(Q)&&(g=f[Q],g!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,c));default:nt(a,c,Q,g,f,null)}return;default:if(Bm(c)){for(te in f)f.hasOwnProperty(te)&&(g=f[te],g!==void 0&&j0(a,c,te,g,f,void 0));return}}for(P in f)f.hasOwnProperty(P)&&(g=f[P],g!=null&&nt(a,c,P,g,f,null))}function W6(a,c,f,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,N=null,A=null,P=null,I=null,Q=null,te=null;for(Z in f){var ie=f[Z];if(f.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":I=ie;default:g.hasOwnProperty(Z)||nt(a,c,Z,null,g,ie)}}for(var X in g){var Z=g[X];if(ie=f[X],g.hasOwnProperty(X)&&(Z!=null||ie!=null))switch(X){case"type":N=Z;break;case"name":v=Z;break;case"checked":Q=Z;break;case"defaultChecked":te=Z;break;case"value":A=Z;break;case"defaultValue":P=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,c));break;default:Z!==ie&&nt(a,c,X,Z,g,ie)}}Lm(a,A,P,I,Q,te,N,v);return;case"select":Z=A=P=X=null;for(N in f)if(I=f[N],f.hasOwnProperty(N)&&I!=null)switch(N){case"value":break;case"multiple":Z=I;default:g.hasOwnProperty(N)||nt(a,c,N,null,g,I)}for(v in g)if(N=g[v],I=f[v],g.hasOwnProperty(v)&&(N!=null||I!=null))switch(v){case"value":X=N;break;case"defaultValue":P=N;break;case"multiple":A=N;default:N!==I&&nt(a,c,v,N,g,I)}c=P,f=A,g=Z,X!=null?ao(a,!!f,X,!1):!!g!=!!f&&(c!=null?ao(a,!!f,c,!0):ao(a,!!f,f?[]:"",!1));return;case"textarea":Z=X=null;for(P in f)if(v=f[P],f.hasOwnProperty(P)&&v!=null&&!g.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:nt(a,c,P,null,g,v)}for(A in g)if(v=g[A],N=f[A],g.hasOwnProperty(A)&&(v!=null||N!=null))switch(A){case"value":X=v;break;case"defaultValue":Z=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:v!==N&&nt(a,c,A,v,g,N)}q1(a,X,Z);return;case"option":for(var ge in f)if(X=f[ge],f.hasOwnProperty(ge)&&X!=null&&!g.hasOwnProperty(ge))switch(ge){case"selected":a.selected=!1;break;default:nt(a,c,ge,null,g,X)}for(I in g)if(X=g[I],Z=f[I],g.hasOwnProperty(I)&&X!==Z&&(X!=null||Z!=null))switch(I){case"selected":a.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:nt(a,c,I,X,g,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in f)X=f[Ne],f.hasOwnProperty(Ne)&&X!=null&&!g.hasOwnProperty(Ne)&&nt(a,c,Ne,null,g,X);for(Q in g)if(X=g[Q],Z=f[Q],g.hasOwnProperty(Q)&&X!==Z&&(X!=null||Z!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,c));break;default:nt(a,c,Q,X,g,Z)}return;default:if(Bm(c)){for(var st in f)X=f[st],f.hasOwnProperty(st)&&X!==void 0&&!g.hasOwnProperty(st)&&j0(a,c,st,void 0,g,X);for(te in g)X=g[te],Z=f[te],!g.hasOwnProperty(te)||X===Z||X===void 0&&Z===void 0||j0(a,c,te,X,g,Z);return}}for(var q in f)X=f[q],f.hasOwnProperty(q)&&X!=null&&!g.hasOwnProperty(q)&&nt(a,c,q,null,g,X);for(ie in g)X=g[ie],Z=f[ie],!g.hasOwnProperty(ie)||X===Z||X==null&&Z==null||nt(a,c,ie,X,g,Z)}function Qj(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Z6(){if(typeof performance.getEntriesByType=="function"){for(var a=0,c=0,f=performance.getEntriesByType("resource"),g=0;g<f.length;g++){var v=f[g],N=v.transferSize,A=v.initiatorType,P=v.duration;if(N&&P&&Qj(A)){for(A=0,P=v.responseEnd,g+=1;g<f.length;g++){var I=f[g],Q=I.startTime;if(Q>P)break;var te=I.transferSize,ie=I.initiatorType;te&&Qj(ie)&&(I=I.responseEnd,A+=te*(I<P?1:(P-Q)/(I-Q)))}if(--g,c+=8*(N+A)/(v.duration/1e3),a++,10<a)break}}if(0<a)return c/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var S0=null,C0=null;function pf(a){return a.nodeType===9?a:a.ownerDocument}function Yj(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jj(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function k0(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var E0=null;function e5(){var a=window.event;return a&&a.type==="popstate"?a===E0?!1:(E0=a,!0):(E0=null,!1)}var Xj=typeof setTimeout=="function"?setTimeout:void 0,t5=typeof clearTimeout=="function"?clearTimeout:void 0,Wj=typeof Promise=="function"?Promise:void 0,n5=typeof queueMicrotask=="function"?queueMicrotask:typeof Wj<"u"?function(a){return Wj.resolve(null).then(a).catch(s5)}:Xj;function s5(a){setTimeout(function(){throw a})}function gi(a){return a==="head"}function Zj(a,c){var f=c,g=0;do{var v=f.nextSibling;if(a.removeChild(f),v&&v.nodeType===8)if(f=v.data,f==="/$"||f==="/&"){if(g===0){a.removeChild(v),Io(c);return}g--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")g++;else if(f==="html")Nc(a.ownerDocument.documentElement);else if(f==="head"){f=a.ownerDocument.head,Nc(f);for(var N=f.firstChild;N;){var A=N.nextSibling,P=N.nodeName;N[Vl]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&N.rel.toLowerCase()==="stylesheet"||f.removeChild(N),N=A}}else f==="body"&&Nc(a.ownerDocument.body);f=v}while(f);Io(c)}function eS(a,c){var f=a;a=0;do{var g=f.nextSibling;if(f.nodeType===1?c?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(c?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),g&&g.nodeType===8)if(f=g.data,f==="/$"){if(a===0)break;a--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||a++;f=g}while(f)}function T0(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":T0(f),Om(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}a.removeChild(f)}}function r5(a,c,f,g){for(;a.nodeType===1;){var v=f;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[Vl])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(N=a.getAttribute("rel"),N==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(N!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(N=a.getAttribute("src"),(N!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&N&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var N=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===N)return a}else return a;if(a=ls(a.nextSibling),a===null)break}return null}function i5(a,c,f){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!f||(a=ls(a.nextSibling),a===null))return null;return a}function tS(a,c){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=ls(a.nextSibling),a===null))return null;return a}function M0(a){return a.data==="$?"||a.data==="$~"}function A0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function a5(a,c){var f=a.ownerDocument;if(a.data==="$~")a._reactRetry=c;else if(a.data!=="$?"||f.readyState!=="loading")c();else{var g=function(){c(),f.removeEventListener("DOMContentLoaded",g)};f.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function ls(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return a}var _0=null;function nS(a){a=a.nextSibling;for(var c=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"||f==="/&"){if(c===0)return ls(a.nextSibling);c--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||c++}a=a.nextSibling}return null}function sS(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(c===0)return a;c--}else f!=="/$"&&f!=="/&"||c++}a=a.previousSibling}return null}function rS(a,c,f){switch(c=pf(f),a){case"html":if(a=c.documentElement,!a)throw Error(s(452));return a;case"head":if(a=c.head,!a)throw Error(s(453));return a;case"body":if(a=c.body,!a)throw Error(s(454));return a;default:throw Error(s(451))}}function Nc(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);Om(a)}var cs=new Map,iS=new Set;function mf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Tr=H.d;H.d={f:o5,r:l5,D:c5,C:u5,L:d5,m:f5,X:p5,S:h5,M:m5};function o5(){var a=Tr.f(),c=af();return a||c}function l5(a){var c=so(a);c!==null&&c.tag===5&&c.type==="form"?NN(c):Tr.r(a)}var Po=typeof document>"u"?null:document;function aS(a,c,f){var g=Po;if(g&&typeof c=="string"&&c){var v=es(c);v='link[rel="'+a+'"][href="'+v+'"]',typeof f=="string"&&(v+='[crossorigin="'+f+'"]'),iS.has(v)||(iS.add(v),a={rel:a,crossOrigin:f,href:c},g.querySelector(v)===null&&(c=g.createElement("link"),Zt(c,"link",a),Ut(c),g.head.appendChild(c)))}}function c5(a){Tr.D(a),aS("dns-prefetch",a,null)}function u5(a,c){Tr.C(a,c),aS("preconnect",a,c)}function d5(a,c,f){Tr.L(a,c,f);var g=Po;if(g&&a&&c){var v='link[rel="preload"][as="'+es(c)+'"]';c==="image"&&f&&f.imageSrcSet?(v+='[imagesrcset="'+es(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(v+='[imagesizes="'+es(f.imageSizes)+'"]')):v+='[href="'+es(a)+'"]';var N=v;switch(c){case"style":N=Bo(a);break;case"script":N=zo(a)}cs.has(N)||(a=m({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:a,as:c},f),cs.set(N,a),g.querySelector(v)!==null||c==="style"&&g.querySelector(jc(N))||c==="script"&&g.querySelector(Sc(N))||(c=g.createElement("link"),Zt(c,"link",a),Ut(c),g.head.appendChild(c)))}}function f5(a,c){Tr.m(a,c);var f=Po;if(f&&a){var g=c&&typeof c.as=="string"?c.as:"script",v='link[rel="modulepreload"][as="'+es(g)+'"][href="'+es(a)+'"]',N=v;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=zo(a)}if(!cs.has(N)&&(a=m({rel:"modulepreload",href:a},c),cs.set(N,a),f.querySelector(v)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Sc(N)))return}g=f.createElement("link"),Zt(g,"link",a),Ut(g),f.head.appendChild(g)}}}function h5(a,c,f){Tr.S(a,c,f);var g=Po;if(g&&a){var v=ro(g).hoistableStyles,N=Bo(a);c=c||"default";var A=v.get(N);if(!A){var P={loading:0,preload:null};if(A=g.querySelector(jc(N)))P.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":c},f),(f=cs.get(N))&&D0(a,f);var I=A=g.createElement("link");Ut(I),Zt(I,"link",a),I._p=new Promise(function(Q,te){I.onload=Q,I.onerror=te}),I.addEventListener("load",function(){P.loading|=1}),I.addEventListener("error",function(){P.loading|=2}),P.loading|=4,gf(A,c,g)}A={type:"stylesheet",instance:A,count:1,state:P},v.set(N,A)}}}function p5(a,c){Tr.X(a,c);var f=Po;if(f&&a){var g=ro(f).hoistableScripts,v=zo(a),N=g.get(v);N||(N=f.querySelector(Sc(v)),N||(a=m({src:a,async:!0},c),(c=cs.get(v))&&O0(a,c),N=f.createElement("script"),Ut(N),Zt(N,"link",a),f.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(v,N))}}function m5(a,c){Tr.M(a,c);var f=Po;if(f&&a){var g=ro(f).hoistableScripts,v=zo(a),N=g.get(v);N||(N=f.querySelector(Sc(v)),N||(a=m({src:a,async:!0,type:"module"},c),(c=cs.get(v))&&O0(a,c),N=f.createElement("script"),Ut(N),Zt(N,"link",a),f.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(v,N))}}function oS(a,c,f,g){var v=(v=ve.current)?mf(v):null;if(!v)throw Error(s(446));switch(a){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=Bo(f.href),f=ro(v).hoistableStyles,g=f.get(c),g||(g={type:"style",instance:null,count:0,state:null},f.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){a=Bo(f.href);var N=ro(v).hoistableStyles,A=N.get(a);if(A||(v=v.ownerDocument||v,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(a,A),(N=v.querySelector(jc(a)))&&!N._p&&(A.instance=N,A.state.loading=5),cs.has(a)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},cs.set(a,f),N||g5(v,a,f,A.state))),c&&g===null)throw Error(s(528,""));return A}if(c&&g!==null)throw Error(s(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=zo(f),f=ro(v).hoistableScripts,g=f.get(c),g||(g={type:"script",instance:null,count:0,state:null},f.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,a))}}function Bo(a){return'href="'+es(a)+'"'}function jc(a){return'link[rel="stylesheet"]['+a+"]"}function lS(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function g5(a,c,f,g){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=a.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),Zt(c,"link",f),Ut(c),a.head.appendChild(c))}function zo(a){return'[src="'+es(a)+'"]'}function Sc(a){return"script[async]"+a}function cS(a,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var g=a.querySelector('style[data-href~="'+es(f.href)+'"]');if(g)return c.instance=g,Ut(g),g;var v=m({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),Ut(g),Zt(g,"style",v),gf(g,f.precedence,a),c.instance=g;case"stylesheet":v=Bo(f.href);var N=a.querySelector(jc(v));if(N)return c.state.loading|=4,c.instance=N,Ut(N),N;g=lS(f),(v=cs.get(v))&&D0(g,v),N=(a.ownerDocument||a).createElement("link"),Ut(N);var A=N;return A._p=new Promise(function(P,I){A.onload=P,A.onerror=I}),Zt(N,"link",g),c.state.loading|=4,gf(N,f.precedence,a),c.instance=N;case"script":return N=zo(f.src),(v=a.querySelector(Sc(N)))?(c.instance=v,Ut(v),v):(g=f,(v=cs.get(N))&&(g=m({},f),O0(g,v)),a=a.ownerDocument||a,v=a.createElement("script"),Ut(v),Zt(v,"link",g),a.head.appendChild(v),c.instance=v);case"void":return null;default:throw Error(s(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,gf(g,f.precedence,a));return c.instance}function gf(a,c,f){for(var g=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=g.length?g[g.length-1]:null,N=v,A=0;A<g.length;A++){var P=g[A];if(P.dataset.precedence===c)N=P;else if(N!==v)break}N?N.parentNode.insertBefore(a,N.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(a,c.firstChild))}function D0(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function O0(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var xf=null;function uS(a,c,f){if(xf===null){var g=new Map,v=xf=new Map;v.set(f,g)}else v=xf,g=v.get(f),g||(g=new Map,v.set(f,g));if(g.has(a))return g;for(g.set(a,null),f=f.getElementsByTagName(a),v=0;v<f.length;v++){var N=f[v];if(!(N[Vl]||N[Yt]||a==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var A=N.getAttribute(c)||"";A=a+A;var P=g.get(A);P?P.push(N):g.set(A,[N])}}return g}function dS(a,c,f){a=a.ownerDocument||a,a.head.insertBefore(f,c==="title"?a.querySelector("head > title"):null)}function x5(a,c,f){if(f===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return a=c.disabled,typeof c.precedence=="string"&&a==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function fS(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function y5(a,c,f,g){if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var v=Bo(g.href),N=c.querySelector(jc(v));if(N){c=N._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(a.count++,a=yf.bind(a),c.then(a,a)),f.state.loading|=4,f.instance=N,Ut(N);return}N=c.ownerDocument||c,g=lS(g),(v=cs.get(v))&&D0(g,v),N=N.createElement("link"),Ut(N);var A=N;A._p=new Promise(function(P,I){A.onload=P,A.onerror=I}),Zt(N,"link",g),f.instance=N}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(a.count++,f=yf.bind(a),c.addEventListener("load",f),c.addEventListener("error",f))}}var R0=0;function b5(a,c){return a.stylesheets&&a.count===0&&vf(a,a.stylesheets),0<a.count||0<a.imgCount?function(f){var g=setTimeout(function(){if(a.stylesheets&&vf(a,a.stylesheets),a.unsuspend){var N=a.unsuspend;a.unsuspend=null,N()}},6e4+c);0<a.imgBytes&&R0===0&&(R0=62500*Z6());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&vf(a,a.stylesheets),a.unsuspend)){var N=a.unsuspend;a.unsuspend=null,N()}},(a.imgBytes>R0?50:800)+c);return a.unsuspend=f,function(){a.unsuspend=null,clearTimeout(g),clearTimeout(v)}}:null}function yf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var bf=null;function vf(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,bf=new Map,c.forEach(v5,a),bf=null,yf.call(a))}function v5(a,c){if(!(c.state.loading&4)){var f=bf.get(a);if(f)var g=f.get(null);else{f=new Map,bf.set(a,f);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<v.length;N++){var A=v[N];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(f.set(A.dataset.precedence,A),g=A)}g&&f.set(null,g)}v=c.instance,A=v.getAttribute("data-precedence"),N=f.get(A)||g,N===g&&f.set(null,v),f.set(A,v),this.count++,g=yf.bind(this),v.addEventListener("load",g),v.addEventListener("error",g),N?N.parentNode.insertBefore(v,N.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),c.state.loading|=4}}var Cc={$$typeof:E,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function w5(a,c,f,g,v,N,A,P,I){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mm(0),this.hiddenUpdates=Mm(null),this.identifierPrefix=g,this.onUncaughtError=v,this.onCaughtError=N,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function hS(a,c,f,g,v,N,A,P,I,Q,te,ie){return a=new w5(a,c,f,A,I,Q,te,ie,P),c=1,N===!0&&(c|=24),N=In(3,null,null,c),a.current=N,N.stateNode=a,c=hg(),c.refCount++,a.pooledCache=c,c.refCount++,N.memoizedState={element:g,isDehydrated:f,cache:c},xg(N),a}function pS(a){return a?(a=mo,a):mo}function mS(a,c,f,g,v,N){v=pS(v),g.context===null?g.context=v:g.pendingContext=v,g=ii(c),g.payload={element:f},N=N===void 0?null:N,N!==null&&(g.callback=N),f=ai(a,g,c),f!==null&&(kn(f,a,c),sc(f,a,c))}function gS(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<c?f:c}}function L0(a,c){gS(a,c),(a=a.alternate)&&gS(a,c)}function xS(a){if(a.tag===13||a.tag===31){var c=ia(a,67108864);c!==null&&kn(c,a,67108864),L0(a,67108864)}}function yS(a){if(a.tag===13||a.tag===31){var c=qn();c=Am(c);var f=ia(a,c);f!==null&&kn(f,a,c),L0(a,c)}}var wf=!0;function N5(a,c,f,g){var v=U.T;U.T=null;var N=H.p;try{H.p=2,P0(a,c,f,g)}finally{H.p=N,U.T=v}}function j5(a,c,f,g){var v=U.T;U.T=null;var N=H.p;try{H.p=8,P0(a,c,f,g)}finally{H.p=N,U.T=v}}function P0(a,c,f,g){if(wf){var v=B0(g);if(v===null)N0(a,c,g,Nf,f),vS(a,g);else if(C5(v,a,c,f,g))g.stopPropagation();else if(vS(a,g),c&4&&-1<S5.indexOf(a)){for(;v!==null;){var N=so(v);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var A=ea(N.pendingLanes);if(A!==0){var P=N;for(P.pendingLanes|=2,P.entangledLanes|=2;A;){var I=1<<31-Bn(A);P.entanglements[1]|=I,A&=~I}$s(N),(Qe&6)===0&&(sf=Ln()+500,bc(0))}}break;case 31:case 13:P=ia(N,2),P!==null&&kn(P,N,2),af(),L0(N,2)}if(N=B0(g),N===null&&N0(a,c,g,Nf,f),N===v)break;v=N}v!==null&&g.stopPropagation()}else N0(a,c,g,null,f)}}function B0(a){return a=Im(a),z0(a)}var Nf=null;function z0(a){if(Nf=null,a=no(a),a!==null){var c=i(a);if(c===null)a=null;else{var f=c.tag;if(f===13){if(a=l(c),a!==null)return a;a=null}else if(f===31){if(a=u(c),a!==null)return a;a=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return Nf=a,null}function bS(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cO()){case E1:return 2;case T1:return 8;case ud:case uO:return 32;case M1:return 268435456;default:return 32}default:return 32}}var I0=!1,xi=null,yi=null,bi=null,kc=new Map,Ec=new Map,vi=[],S5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vS(a,c){switch(a){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":kc.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(c.pointerId)}}function Tc(a,c,f,g,v,N){return a===null||a.nativeEvent!==N?(a={blockedOn:c,domEventName:f,eventSystemFlags:g,nativeEvent:N,targetContainers:[v]},c!==null&&(c=so(c),c!==null&&xS(c)),a):(a.eventSystemFlags|=g,c=a.targetContainers,v!==null&&c.indexOf(v)===-1&&c.push(v),a)}function C5(a,c,f,g,v){switch(c){case"focusin":return xi=Tc(xi,a,c,f,g,v),!0;case"dragenter":return yi=Tc(yi,a,c,f,g,v),!0;case"mouseover":return bi=Tc(bi,a,c,f,g,v),!0;case"pointerover":var N=v.pointerId;return kc.set(N,Tc(kc.get(N)||null,a,c,f,g,v)),!0;case"gotpointercapture":return N=v.pointerId,Ec.set(N,Tc(Ec.get(N)||null,a,c,f,g,v)),!0}return!1}function wS(a){var c=no(a.target);if(c!==null){var f=i(c);if(f!==null){if(c=f.tag,c===13){if(c=l(f),c!==null){a.blockedOn=c,L1(a.priority,function(){yS(f)});return}}else if(c===31){if(c=u(f),c!==null){a.blockedOn=c,L1(a.priority,function(){yS(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function jf(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var f=B0(a.nativeEvent);if(f===null){f=a.nativeEvent;var g=new f.constructor(f.type,f);zm=g,f.target.dispatchEvent(g),zm=null}else return c=so(f),c!==null&&xS(c),a.blockedOn=f,!1;c.shift()}return!0}function NS(a,c,f){jf(a)&&f.delete(c)}function k5(){I0=!1,xi!==null&&jf(xi)&&(xi=null),yi!==null&&jf(yi)&&(yi=null),bi!==null&&jf(bi)&&(bi=null),kc.forEach(NS),Ec.forEach(NS)}function Sf(a,c){a.blockedOn===c&&(a.blockedOn=null,I0||(I0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,k5)))}var Cf=null;function jS(a){Cf!==a&&(Cf=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Cf===a&&(Cf=null);for(var c=0;c<a.length;c+=3){var f=a[c],g=a[c+1],v=a[c+2];if(typeof g!="function"){if(z0(g||f)===null)continue;break}var N=so(f);N!==null&&(a.splice(c,3),c-=3,Bg(N,{pending:!0,data:v,method:f.method,action:g},g,v))}}))}function Io(a){function c(I){return Sf(I,a)}xi!==null&&Sf(xi,a),yi!==null&&Sf(yi,a),bi!==null&&Sf(bi,a),kc.forEach(c),Ec.forEach(c);for(var f=0;f<vi.length;f++){var g=vi[f];g.blockedOn===a&&(g.blockedOn=null)}for(;0<vi.length&&(f=vi[0],f.blockedOn===null);)wS(f),f.blockedOn===null&&vi.shift();if(f=(a.ownerDocument||a).$$reactFormReplay,f!=null)for(g=0;g<f.length;g+=3){var v=f[g],N=f[g+1],A=v[vn]||null;if(typeof N=="function")A||jS(f);else if(A){var P=null;if(N&&N.hasAttribute("formAction")){if(v=N,A=N[vn]||null)P=A.formAction;else if(z0(v)!==null)continue}else P=A.action;typeof P=="function"?f[g+1]=P:(f.splice(g,3),g-=3),jS(f)}}}function SS(){function a(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(A){return v=A})},focusReset:"manual",scroll:"manual"})}function c(){v!==null&&(v(),v=null),g||setTimeout(f,20)}function f(){if(!g&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(f,100),function(){g=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),v!==null&&(v(),v=null)}}}function V0(a){this._internalRoot=a}kf.prototype.render=V0.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(s(409));var f=c.current,g=qn();mS(f,g,a,c,null,null)},kf.prototype.unmount=V0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;mS(a.current,2,null,a,null,null),af(),c[to]=null}};function kf(a){this._internalRoot=a}kf.prototype.unstable_scheduleHydration=function(a){if(a){var c=R1();a={blockedOn:null,target:a,priority:c};for(var f=0;f<vi.length&&c!==0&&c<vi[f].priority;f++);vi.splice(f,0,a),f===0&&wS(a)}};var CS=e.version;if(CS!=="19.2.0")throw Error(s(527,CS,"19.2.0"));H.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return a=h(c),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var E5={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{Bl=Ef.inject(E5),Pn=Ef}catch{}}return Dc.createRoot=function(a,c){if(!r(a))throw Error(s(299));var f=!1,g="",v=DN,N=ON,A=RN;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),c=hS(a,1,!1,null,null,f,g,null,v,N,A,SS),a[to]=c.current,w0(a),new V0(c)},Dc.hydrateRoot=function(a,c,f){if(!r(a))throw Error(s(299));var g=!1,v="",N=DN,A=ON,P=RN,I=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onUncaughtError!==void 0&&(N=f.onUncaughtError),f.onCaughtError!==void 0&&(A=f.onCaughtError),f.onRecoverableError!==void 0&&(P=f.onRecoverableError),f.formState!==void 0&&(I=f.formState)),c=hS(a,1,!0,c,f??null,g,v,I,N,A,P,SS),c.context=pS(null),f=c.current,g=qn(),g=Am(g),v=ii(g),v.callback=null,ai(f,v,g),f=g,c.current.lanes=f,Il(c,f),$s(c),a[to]=c.current,w0(a),new kf(c)},Dc.version="19.2.0",Dc}var S2;function kP(){if(S2)return X0.exports;S2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),X0.exports=CP(),X0.exports}var EP=kP(),tx={exports:{}},nx={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C2;function TP(){if(C2)return nx;C2=1;var t=kl();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,s=t.useSyncExternalStore,r=t.useRef,i=t.useEffect,l=t.useMemo,u=t.useDebugValue;return nx.useSyncExternalStoreWithSelector=function(d,h,p,m,x){var y=r(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=l(function(){function w(k){if(!C){if(C=!0,M=k,k=m(k),x!==void 0&&b.hasValue){var R=b.value;if(x(R,k))return E=R}return E=k}if(R=E,n(M,k))return R;var O=m(k);return x!==void 0&&x(R,O)?(M=k,R):(M=k,E=O)}var C=!1,M,E,S=p===void 0?null:p;return[function(){return w(h())},S===null?void 0:function(){return w(S())}]},[h,p,m,x]);var j=s(d,y[0],y[1]);return i(function(){b.hasValue=!0,b.value=j},[j]),u(j),j},nx}var k2;function MP(){return k2||(k2=1,tx.exports=TP()),tx.exports}var AP=MP();function mM(t){t()}function _P(){let t=null,e=null;return{clear(){t=null,e=null},notify(){mM(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let s=t;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0;const r=e={callback:n,next:null,prev:e};return r.prev?r.prev.next=r:t=r,function(){!s||t===null||(s=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var E2={notify(){},get:()=>[]};function DP(t,e){let n,s=E2,r=0,i=!1;function l(j){p();const w=s.subscribe(j);let C=!1;return()=>{C||(C=!0,w(),m())}}function u(){s.notify()}function d(){b.onStateChange&&b.onStateChange()}function h(){return i}function p(){r++,n||(n=t.subscribe(d),s=_P())}function m(){r--,n&&r===0&&(n(),n=void 0,s.clear(),s=E2)}function x(){i||(i=!0,p())}function y(){i&&(i=!1,m())}const b={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:h,trySubscribe:x,tryUnsubscribe:y,getListeners:()=>s};return b}var OP=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RP=OP(),LP=()=>typeof navigator<"u"&&navigator.product==="ReactNative",PP=LP(),BP=()=>RP||PP?_.useLayoutEffect:_.useEffect,zP=BP();function T2(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Yc(t,e){if(T2(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!T2(t[n[r]],e[n[r]]))return!1;return!0}var IP=Symbol.for("react-redux-context"),VP=typeof globalThis<"u"?globalThis:{};function UP(){if(!_.createContext)return{};const t=VP[IP]??=new Map;let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var Ui=UP();function $P(t){const{children:e,context:n,serverState:s,store:r}=t,i=_.useMemo(()=>{const d=DP(r);return{store:r,subscription:d,getServerState:s?()=>s:void 0}},[r,s]),l=_.useMemo(()=>r.getState(),[r]);zP(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==r.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,l]);const u=n||Ui;return _.createElement(u.Provider,{value:i},e)}var FP=$P;function zb(t=Ui){return function(){return _.useContext(t)}}var gM=zb();function xM(t=Ui){const e=t===Ui?gM:zb(t),n=()=>{const{store:s}=e();return s};return Object.assign(n,{withTypes:()=>n}),n}var yM=xM();function qP(t=Ui){const e=t===Ui?yM:xM(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var HP=qP(),KP=(t,e)=>t===e;function GP(t=Ui){const e=t===Ui?gM:zb(t),n=(s,r={})=>{const{equalityFn:i=KP}=typeof r=="function"?{equalityFn:r}:r,l=e(),{store:u,subscription:d,getServerState:h}=l;_.useRef(!0);const p=_.useCallback({[s.name](x){return s(x)}}[s.name],[s]),m=AP.useSyncExternalStoreWithSelector(d.addNestedSub,u.getState,h||u.getState,p,i);return _.useDebugValue(m),m};return Object.assign(n,{withTypes:()=>n}),n}var QP=GP(),YP=mM;function en(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var JP=typeof Symbol=="function"&&Symbol.observable||"@@observable",M2=JP,sx=()=>Math.random().toString(36).substring(7).split("").join("."),XP={INIT:`@@redux/INIT${sx()}`,REPLACE:`@@redux/REPLACE${sx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${sx()}`},Sh=XP;function $i(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function bM(t,e,n){if(typeof t!="function")throw new Error(en(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(en(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(en(1));return n(bM)(t,e)}let s=t,r=e,i=new Map,l=i,u=0,d=!1;function h(){l===i&&(l=new Map,i.forEach((w,C)=>{l.set(C,w)}))}function p(){if(d)throw new Error(en(3));return r}function m(w){if(typeof w!="function")throw new Error(en(4));if(d)throw new Error(en(5));let C=!0;h();const M=u++;return l.set(M,w),function(){if(C){if(d)throw new Error(en(6));C=!1,h(),l.delete(M),i=null}}}function x(w){if(!$i(w))throw new Error(en(7));if(typeof w.type>"u")throw new Error(en(8));if(typeof w.type!="string")throw new Error(en(17));if(d)throw new Error(en(9));try{d=!0,r=s(r,w)}finally{d=!1}return(i=l).forEach(M=>{M()}),w}function y(w){if(typeof w!="function")throw new Error(en(10));s=w,x({type:Sh.REPLACE})}function b(){const w=m;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(en(11));function M(){const S=C;S.next&&S.next(p())}return M(),{unsubscribe:w(M)}},[M2](){return this}}}return x({type:Sh.INIT}),{dispatch:x,subscribe:m,getState:p,replaceReducer:y,[M2]:b}}function WP(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Sh.INIT})>"u")throw new Error(en(12));if(typeof n(void 0,{type:Sh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(en(13))})}function vM(t){const e=Object.keys(t),n={};for(let i=0;i<e.length;i++){const l=e[i];typeof t[l]=="function"&&(n[l]=t[l])}const s=Object.keys(n);let r;try{WP(n)}catch(i){r=i}return function(l={},u){if(r)throw r;let d=!1;const h={};for(let p=0;p<s.length;p++){const m=s[p],x=n[m],y=l[m],b=x(y,u);if(typeof b>"u")throw u&&u.type,new Error(en(14));h[m]=b,d=d||b!==y}return d=d||s.length!==Object.keys(l).length,d?h:l}}function Ch(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...s)=>e(n(...s)))}function ZP(...t){return e=>(n,s)=>{const r=e(n,s);let i=()=>{throw new Error(en(15))};const l={getState:r.getState,dispatch:(d,...h)=>i(d,...h)},u=t.map(d=>d(l));return i=Ch(...u)(r.dispatch),{...r,dispatch:i}}}function wM(t){return $i(t)&&"type"in t&&typeof t.type=="string"}var Ib=Symbol.for("immer-nothing"),Jc=Symbol.for("immer-draftable"),Dn=Symbol.for("immer-state");function an(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var fl=Object.getPrototypeOf;function er(t){return!!t&&!!t[Dn]}function Os(t){return t?NM(t)||Array.isArray(t)||!!t[Jc]||!!t.constructor?.[Jc]||El(t)||Hu(t):!1}var eB=Object.prototype.constructor.toString(),A2=new WeakMap;function NM(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let s=A2.get(n);return s===void 0&&(s=Function.toString.call(n),A2.set(n,s)),s===eB}function tB(t){return er(t)||an(15,t),t[Dn].base_}function gu(t,e,n=!0){qa(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(r=>{e(r,t[r],t)}):t.forEach((s,r)=>e(r,s,t))}function qa(t){const e=t[Dn];return e?e.type_:Array.isArray(t)?1:El(t)?2:Hu(t)?3:0}function xu(t,e){return qa(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function rx(t,e){return qa(t)===2?t.get(e):t[e]}function jM(t,e,n){const s=qa(t);s===2?t.set(e,n):s===3?t.add(n):t[e]=n}function nB(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function El(t){return t instanceof Map}function Hu(t){return t instanceof Set}function Na(t){return t.copy_||t.base_}function by(t,e){if(El(t))return new Map(t);if(Hu(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=NM(t);if(e===!0||e==="class_only"&&!n){const s=Object.getOwnPropertyDescriptors(t);delete s[Dn];let r=Reflect.ownKeys(s);for(let i=0;i<r.length;i++){const l=r[i],u=s[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(s[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(fl(t),s)}else{const s=fl(t);if(s!==null&&n)return{...t};const r=Object.create(s);return Object.assign(r,t)}}function Vb(t,e=!1){return Ip(t)||er(t)||!Os(t)||(qa(t)>1&&Object.defineProperties(t,{set:Af,add:Af,clear:Af,delete:Af}),Object.freeze(t),e&&Object.values(t).forEach(n=>Vb(n,!0))),t}function sB(){an(2)}var Af={value:sB};function Ip(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var vy={};function Ha(t){const e=vy[t];return e||an(0,t),e}function rB(t,e){vy[t]||(vy[t]=e)}var yu;function SM(){return yu}function iB(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _2(t,e){e&&(Ha("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function wy(t){Ny(t),t.drafts_.forEach(aB),t.drafts_=null}function Ny(t){t===yu&&(yu=t.parent_)}function D2(t){return yu=iB(yu,t)}function aB(t){const e=t[Dn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function O2(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Dn].modified_&&(wy(e),an(4)),Os(t)&&(t=kh(e,t),e.parent_||Eh(e,t)),e.patches_&&Ha("Patches").generateReplacementPatches_(n[Dn].base_,t,e.patches_,e.inversePatches_)):t=kh(e,n,[]),wy(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Ib?t:void 0}function kh(t,e,n){if(Ip(e))return e;const s=t.immer_.shouldUseStrictIteration(),r=e[Dn];if(!r)return gu(e,(i,l)=>R2(t,r,e,i,l,n),s),e;if(r.scope_!==t)return e;if(!r.modified_)return Eh(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let l=i,u=!1;r.type_===3&&(l=new Set(i),i.clear(),u=!0),gu(l,(d,h)=>R2(t,r,i,d,h,n,u),s),Eh(t,i,!1),n&&t.patches_&&Ha("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function R2(t,e,n,s,r,i,l){if(r==null||typeof r!="object"&&!l)return;const u=Ip(r);if(!(u&&!l)){if(er(r)){const d=i&&e&&e.type_!==3&&!xu(e.assigned_,s)?i.concat(s):void 0,h=kh(t,r,d);if(jM(n,s,h),er(h))t.canAutoFreeze_=!1;else return}else l&&n.add(r);if(Os(r)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[s]===r&&u)return;kh(t,r),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&(El(n)?n.has(s):Object.prototype.propertyIsEnumerable.call(n,s))&&Eh(t,r)}}}function Eh(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Vb(e,n)}function oB(t,e){const n=Array.isArray(t),s={type_:n?1:0,scope_:e?e.scope_:SM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=s,i=Ub;n&&(r=[s],i=bu);const{revoke:l,proxy:u}=Proxy.revocable(r,i);return s.draft_=u,s.revoke_=l,u}var Ub={get(t,e){if(e===Dn)return t;const n=Na(t);if(!xu(n,e))return lB(t,n,e);const s=n[e];return t.finalized_||!Os(s)?s:s===ix(t.base_,e)?(ax(t),t.copy_[e]=Sy(s,t)):s},has(t,e){return e in Na(t)},ownKeys(t){return Reflect.ownKeys(Na(t))},set(t,e,n){const s=CM(Na(t),e);if(s?.set)return s.set.call(t.draft_,n),!0;if(!t.modified_){const r=ix(Na(t),e),i=r?.[Dn];if(i&&i.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(nB(n,r)&&(n!==void 0||xu(t.base_,e)))return!0;ax(t),jy(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return ix(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,ax(t),jy(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Na(t),s=Reflect.getOwnPropertyDescriptor(n,e);return s&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:s.enumerable,value:n[e]}},defineProperty(){an(11)},getPrototypeOf(t){return fl(t.base_)},setPrototypeOf(){an(12)}},bu={};gu(Ub,(t,e)=>{bu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});bu.deleteProperty=function(t,e){return bu.set.call(this,t,e,void 0)};bu.set=function(t,e,n){return Ub.set.call(this,t[0],e,n,t[0])};function ix(t,e){const n=t[Dn];return(n?Na(n):t)[e]}function lB(t,e,n){const s=CM(e,n);return s?"value"in s?s.value:s.get?.call(t.draft_):void 0}function CM(t,e){if(!(e in t))return;let n=fl(t);for(;n;){const s=Object.getOwnPropertyDescriptor(n,e);if(s)return s;n=fl(n)}}function jy(t){t.modified_||(t.modified_=!0,t.parent_&&jy(t.parent_))}function ax(t){t.copy_||(t.copy_=by(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var cB=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,s)=>{if(typeof e=="function"&&typeof n!="function"){const i=n;n=e;const l=this;return function(d=i,...h){return l.produce(d,p=>n.call(this,p,...h))}}typeof n!="function"&&an(6),s!==void 0&&typeof s!="function"&&an(7);let r;if(Os(e)){const i=D2(this),l=Sy(e,void 0);let u=!0;try{r=n(l),u=!1}finally{u?wy(i):Ny(i)}return _2(i,s),O2(r,i)}else if(!e||typeof e!="object"){if(r=n(e),r===void 0&&(r=e),r===Ib&&(r=void 0),this.autoFreeze_&&Vb(r,!0),s){const i=[],l=[];Ha("Patches").generateReplacementPatches_(e,r,i,l),s(i,l)}return r}else an(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,d=>e(d,...u));let s,r;return[this.produce(e,n,(l,u)=>{s=l,r=u}),s,r]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Os(t)||an(8),er(t)&&(t=uB(t));const e=D2(this),n=Sy(t,void 0);return n[Dn].isManual_=!0,Ny(e),n}finishDraft(t,e){const n=t&&t[Dn];(!n||!n.isManual_)&&an(9);const{scope_:s}=n;return _2(s,e),O2(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const r=e[n];if(r.path.length===0&&r.op==="replace"){t=r.value;break}}n>-1&&(e=e.slice(n+1));const s=Ha("Patches").applyPatches_;return er(t)?s(t,e):this.produce(t,r=>s(r,e))}};function Sy(t,e){const n=El(t)?Ha("MapSet").proxyMap_(t,e):Hu(t)?Ha("MapSet").proxySet_(t,e):oB(t,e);return(e?e.scope_:SM()).drafts_.push(n),n}function uB(t){return er(t)||an(10,t),kM(t)}function kM(t){if(!Os(t)||Ip(t))return t;const e=t[Dn];let n,s=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=by(t,e.scope_.immer_.useStrictShallowCopy_),s=e.scope_.immer_.shouldUseStrictIteration()}else n=by(t,!0);return gu(n,(r,i)=>{jM(n,r,kM(i))},s),e&&(e.finalized_=!1),n}function dB(){const e="replace",s="remove";function r(x,y,b,j){switch(x.type_){case 0:case 2:return l(x,y,b,j);case 1:return i(x,y,b,j);case 3:return u(x,y,b,j)}}function i(x,y,b,j){let{base_:w,assigned_:C}=x,M=x.copy_;M.length<w.length&&([w,M]=[M,w],[b,j]=[j,b]);for(let E=0;E<w.length;E++)if(C[E]&&M[E]!==w[E]){const S=y.concat([E]);b.push({op:e,path:S,value:m(M[E])}),j.push({op:e,path:S,value:m(w[E])})}for(let E=w.length;E<M.length;E++){const S=y.concat([E]);b.push({op:"add",path:S,value:m(M[E])})}for(let E=M.length-1;w.length<=E;--E){const S=y.concat([E]);j.push({op:s,path:S})}}function l(x,y,b,j){const{base_:w,copy_:C}=x;gu(x.assigned_,(M,E)=>{const S=rx(w,M),k=rx(C,M),R=E?xu(w,M)?e:"add":s;if(S===k&&R===e)return;const O=y.concat(M);b.push(R===s?{op:R,path:O}:{op:R,path:O,value:k}),j.push(R==="add"?{op:s,path:O}:R===s?{op:"add",path:O,value:m(S)}:{op:e,path:O,value:m(S)})})}function u(x,y,b,j){let{base_:w,copy_:C}=x,M=0;w.forEach(E=>{if(!C.has(E)){const S=y.concat([M]);b.push({op:s,path:S,value:E}),j.unshift({op:"add",path:S,value:E})}M++}),M=0,C.forEach(E=>{if(!w.has(E)){const S=y.concat([M]);b.push({op:"add",path:S,value:E}),j.unshift({op:s,path:S,value:E})}M++})}function d(x,y,b,j){b.push({op:e,path:[],value:y===Ib?void 0:y}),j.push({op:e,path:[],value:x})}function h(x,y){return y.forEach(b=>{const{path:j,op:w}=b;let C=x;for(let k=0;k<j.length-1;k++){const R=qa(C);let O=j[k];typeof O!="string"&&typeof O!="number"&&(O=""+O),(R===0||R===1)&&(O==="__proto__"||O==="constructor")&&an(19),typeof C=="function"&&O==="prototype"&&an(19),C=rx(C,O),typeof C!="object"&&an(18,j.join("/"))}const M=qa(C),E=p(b.value),S=j[j.length-1];switch(w){case e:switch(M){case 2:return C.set(S,E);case 3:an(16);default:return C[S]=E}case"add":switch(M){case 1:return S==="-"?C.push(E):C.splice(S,0,E);case 2:return C.set(S,E);case 3:return C.add(E);default:return C[S]=E}case s:switch(M){case 1:return C.splice(S,1);case 2:return C.delete(S);case 3:return C.delete(b.value);default:return delete C[S]}default:an(17,w)}}),x}function p(x){if(!Os(x))return x;if(Array.isArray(x))return x.map(p);if(El(x))return new Map(Array.from(x.entries()).map(([b,j])=>[b,p(j)]));if(Hu(x))return new Set(Array.from(x).map(p));const y=Object.create(fl(x));for(const b in x)y[b]=p(x[b]);return xu(x,Jc)&&(y[Jc]=x[Jc]),y}function m(x){return er(x)?p(x):x}rB("Patches",{applyPatches_:h,generatePatches_:r,generateReplacementPatches_:d})}var vu=new cB,Ku=vu.produce,EM=vu.produceWithPatches.bind(vu),L2=vu.applyPatches.bind(vu);function fB(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function hB(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function pB(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(s=>typeof s=="function"?`function ${s.name||"unnamed"}()`:typeof s).join(", ");throw new TypeError(`${e}[${n}]`)}}var P2=t=>Array.isArray(t)?t:[t];function mB(t){const e=Array.isArray(t[0])?t[0]:t;return pB(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function gB(t,e){const n=[],{length:s}=t;for(let r=0;r<s;r++)n.push(t[r].apply(null,e));return n}var xB=class{constructor(t){this.value=t}deref(){return this.value}},yB=typeof WeakRef<"u"?WeakRef:xB,bB=0,B2=1;function _f(){return{s:bB,v:void 0,o:null,p:null}}function Th(t,e={}){let n=_f();const{resultEqualityCheck:s}=e;let r,i=0;function l(){let u=n;const{length:d}=arguments;for(let m=0,x=d;m<x;m++){const y=arguments[m];if(typeof y=="function"||typeof y=="object"&&y!==null){let b=u.o;b===null&&(u.o=b=new WeakMap);const j=b.get(y);j===void 0?(u=_f(),b.set(y,u)):u=j}else{let b=u.p;b===null&&(u.p=b=new Map);const j=b.get(y);j===void 0?(u=_f(),b.set(y,u)):u=j}}const h=u;let p;if(u.s===B2)p=u.v;else if(p=t.apply(null,arguments),i++,s){const m=r?.deref?.()??r;m!=null&&s(m,p)&&(p=m,i!==0&&i--),r=typeof p=="object"&&p!==null||typeof p=="function"?new yB(p):p}return h.s=B2,h.v=p,p}return l.clearCache=()=>{n=_f(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function vB(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,s=(...r)=>{let i=0,l=0,u,d={},h=r.pop();typeof h=="object"&&(d=h,h=r.pop()),fB(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...d},{memoize:m,memoizeOptions:x=[],argsMemoize:y=Th,argsMemoizeOptions:b=[]}=p,j=P2(x),w=P2(b),C=mB(r),M=m(function(){return i++,h.apply(null,arguments)},...j),E=y(function(){l++;const k=gB(C,arguments);return u=M.apply(null,k),u},...w);return Object.assign(E,{resultFunc:h,memoizedResultFunc:M,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:y})};return Object.assign(s,{withTypes:()=>s}),s}var $b=vB(Th),wB=Object.assign((t,e=$b)=>{hB(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),s=n.map(i=>t[i]);return e(s,(...i)=>i.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>wB});function TM(t){return({dispatch:n,getState:s})=>r=>i=>typeof i=="function"?i(n,s,t):r(i)}var NB=TM(),jB=TM,SB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ch:Ch.apply(null,arguments)},CB=t=>t&&typeof t.match=="function";function Ms(t,e){function n(...s){if(e){let r=e(...s);if(!r)throw new Error(As(0));return{type:t,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:t,payload:s[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=s=>wM(s)&&s.type===t,n}var MM=class $c extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,$c.prototype)}static get[Symbol.species](){return $c}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new $c(...e[0].concat(this)):new $c(...e.concat(this))}};function z2(t){return Os(t)?Ku(t,()=>{}):t}function Df(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function kB(t){return typeof t=="boolean"}var EB=()=>function(e){const{thunk:n=!0,immutableCheck:s=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=e??{};let l=new MM;return n&&(kB(n)?l.push(NB):l.push(jB(n.extraArgument))),l},Vp="RTK_autoBatch",Oc=()=>t=>({payload:t,meta:{[Vp]:!0}}),I2=t=>e=>{setTimeout(e,t)},TB=(t={type:"raf"})=>e=>(...n)=>{const s=e(...n);let r=!0,i=!1,l=!1;const u=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:I2(10):t.type==="callback"?t.queueNotification:I2(t.timeout),h=()=>{l=!1,i&&(i=!1,u.forEach(p=>p()))};return Object.assign({},s,{subscribe(p){const m=()=>r&&p(),x=s.subscribe(m);return u.add(p),()=>{x(),u.delete(p)}},dispatch(p){try{return r=!p?.meta?.[Vp],i=!r,i&&(l||(l=!0,d(h))),s.dispatch(p)}finally{r=!0}}})},MB=t=>function(n){const{autoBatch:s=!0}=n??{};let r=new MM(t);return s&&r.push(TB(typeof s=="object"?s:void 0)),r};function AB(t){const e=EB(),{reducer:n=void 0,middleware:s,devTools:r=!0,preloadedState:i=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if($i(n))u=vM(n);else throw new Error(As(1));let d;typeof s=="function"?d=s(e):d=e();let h=Ch;r&&(h=SB({trace:!1,...typeof r=="object"&&r}));const p=ZP(...d),m=MB(p);let x=typeof l=="function"?l(m):m();const y=h(...x);return bM(u,i,y)}function AM(t){const e={},n=[];let s;const r={addCase(i,l){const u=typeof i=="string"?i:i.type;if(!u)throw new Error(As(28));if(u in e)throw new Error(As(29));return e[u]=l,r},addAsyncThunk(i,l){return l.pending&&(e[i.pending.type]=l.pending),l.rejected&&(e[i.rejected.type]=l.rejected),l.fulfilled&&(e[i.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:i.settled,reducer:l.settled}),r},addMatcher(i,l){return n.push({matcher:i,reducer:l}),r},addDefaultCase(i){return s=i,r}};return t(r),[e,n,s]}function _B(t){return typeof t=="function"}function DB(t,e){let[n,s,r]=AM(e),i;if(_B(t))i=()=>z2(t());else{const u=z2(t);i=()=>u}function l(u=i(),d){let h=[n[d.type],...s.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[r]),h.reduce((p,m)=>{if(m)if(er(p)){const y=m(p,d);return y===void 0?p:y}else{if(Os(p))return Ku(p,x=>m(x,d));{const x=m(p,d);if(x===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return p},u)}return l.getInitialState=i,l}var _M=(t,e)=>CB(t)?t.match(e):t(e);function Fr(...t){return e=>t.some(n=>_M(n,e))}function Xc(...t){return e=>t.every(n=>_M(n,e))}function Up(t,e){if(!t||!t.meta)return!1;const n=typeof t.meta.requestId=="string",s=e.indexOf(t.meta.requestStatus)>-1;return n&&s}function Gu(t){return typeof t[0]=="function"&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function Fb(...t){return t.length===0?e=>Up(e,["pending"]):Gu(t)?Fr(...t.map(e=>e.pending)):Fb()(t[0])}function hl(...t){return t.length===0?e=>Up(e,["rejected"]):Gu(t)?Fr(...t.map(e=>e.rejected)):hl()(t[0])}function $p(...t){const e=n=>n&&n.meta&&n.meta.rejectedWithValue;return t.length===0?Xc(hl(...t),e):Gu(t)?Xc(hl(...t),e):$p()(t[0])}function Fi(...t){return t.length===0?e=>Up(e,["fulfilled"]):Gu(t)?Fr(...t.map(e=>e.fulfilled)):Fi()(t[0])}function Cy(...t){return t.length===0?e=>Up(e,["pending","fulfilled","rejected"]):Gu(t)?Fr(...t.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):Cy()(t[0])}var OB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",qb=(t=21)=>{let e="",n=t;for(;n--;)e+=OB[Math.random()*64|0];return e},RB=["name","message","stack","code"],ox=class{constructor(t,e){this.payload=t,this.meta=e}_type},V2=class{constructor(t,e){this.payload=t,this.meta=e}_type},LB=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of RB)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},U2="External signal was aborted",$2=(()=>{function t(e,n,s){const r=Ms(e+"/fulfilled",(d,h,p,m)=>({payload:d,meta:{...m||{},arg:p,requestId:h,requestStatus:"fulfilled"}})),i=Ms(e+"/pending",(d,h,p)=>({payload:void 0,meta:{...p||{},arg:h,requestId:d,requestStatus:"pending"}})),l=Ms(e+"/rejected",(d,h,p,m,x)=>({payload:m,error:(s&&s.serializeError||LB)(d||"Rejected"),meta:{...x||{},arg:p,requestId:h,rejectedWithValue:!!m,requestStatus:"rejected",aborted:d?.name==="AbortError",condition:d?.name==="ConditionError"}}));function u(d,{signal:h}={}){return(p,m,x)=>{const y=s?.idGenerator?s.idGenerator(d):qb(),b=new AbortController;let j,w;function C(E){w=E,b.abort()}h&&(h.aborted?C(U2):h.addEventListener("abort",()=>C(U2),{once:!0}));const M=(async function(){let E;try{let k=s?.condition?.(d,{getState:m,extra:x});if(BB(k)&&(k=await k),k===!1||b.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const R=new Promise((O,T)=>{j=()=>{T({name:"AbortError",message:w||"Aborted"})},b.signal.addEventListener("abort",j)});p(i(y,d,s?.getPendingMeta?.({requestId:y,arg:d},{getState:m,extra:x}))),E=await Promise.race([R,Promise.resolve(n(d,{dispatch:p,getState:m,extra:x,requestId:y,signal:b.signal,abort:C,rejectWithValue:(O,T)=>new ox(O,T),fulfillWithValue:(O,T)=>new V2(O,T)})).then(O=>{if(O instanceof ox)throw O;return O instanceof V2?r(O.payload,y,d,O.meta):r(O,y,d)})])}catch(k){E=k instanceof ox?l(null,y,d,k.payload,k.meta):l(k,y,d)}finally{j&&b.signal.removeEventListener("abort",j)}return s&&!s.dispatchConditionRejection&&l.match(E)&&E.meta.condition||p(E),E})();return Object.assign(M,{abort:C,requestId:y,arg:d,unwrap(){return M.then(PB)}})}}return Object.assign(u,{pending:i,rejected:l,fulfilled:r,settled:Fr(l,r),typePrefix:e})}return t.withTypes=()=>t,t})();function PB(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function BB(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var zB=Symbol.for("rtk-slice-createasyncthunk");function IB(t,e){return`${t}/${e}`}function VB({creators:t}={}){const e=t?.asyncThunk?.[zB];return function(s){const{name:r,reducerPath:i=r}=s;if(!r)throw new Error(As(11));const l=(typeof s.reducers=="function"?s.reducers($B()):s.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(E,S){const k=typeof E=="string"?E:E.type;if(!k)throw new Error(As(12));if(k in d.sliceCaseReducersByType)throw new Error(As(13));return d.sliceCaseReducersByType[k]=S,h},addMatcher(E,S){return d.sliceMatchers.push({matcher:E,reducer:S}),h},exposeAction(E,S){return d.actionCreators[E]=S,h},exposeCaseReducer(E,S){return d.sliceCaseReducersByName[E]=S,h}};u.forEach(E=>{const S=l[E],k={reducerName:E,type:IB(r,E),createNotation:typeof s.reducers=="function"};qB(S)?KB(k,S,h,e):FB(k,S,h)});function p(){const[E={},S=[],k=void 0]=typeof s.extraReducers=="function"?AM(s.extraReducers):[s.extraReducers],R={...E,...d.sliceCaseReducersByType};return DB(s.initialState,O=>{for(let T in R)O.addCase(T,R[T]);for(let T of d.sliceMatchers)O.addMatcher(T.matcher,T.reducer);for(let T of S)O.addMatcher(T.matcher,T.reducer);k&&O.addDefaultCase(k)})}const m=E=>E,x=new Map,y=new WeakMap;let b;function j(E,S){return b||(b=p()),b(E,S)}function w(){return b||(b=p()),b.getInitialState()}function C(E,S=!1){function k(O){let T=O[E];return typeof T>"u"&&S&&(T=Df(y,k,w)),T}function R(O=m){const T=Df(x,S,()=>new WeakMap);return Df(T,O,()=>{const D={};for(const[B,L]of Object.entries(s.selectors??{}))D[B]=UB(L,O,()=>Df(y,O,w),S);return D})}return{reducerPath:E,getSelectors:R,get selectors(){return R(k)},selectSlice:k}}const M={name:r,reducer:j,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:w,...C(i),injectInto(E,{reducerPath:S,...k}={}){const R=S??i;return E.inject({reducerPath:R,reducer:j},k),{...M,...C(R,!0)}}};return M}}function UB(t,e,n,s){function r(i,...l){let u=e(i);return typeof u>"u"&&s&&(u=n()),t(u,...l)}return r.unwrapped=t,r}var Fo=VB();function $B(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function FB({type:t,reducerName:e,createNotation:n},s,r){let i,l;if("reducer"in s){if(n&&!HB(s))throw new Error(As(17));i=s.reducer,l=s.prepare}else i=s;r.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,l?Ms(t,l):Ms(t))}function qB(t){return t._reducerDefinitionType==="asyncThunk"}function HB(t){return t._reducerDefinitionType==="reducerWithPrepare"}function KB({type:t,reducerName:e},n,s,r){if(!r)throw new Error(As(18));const{payloadCreator:i,fulfilled:l,pending:u,rejected:d,settled:h,options:p}=n,m=r(t,i,p);s.exposeAction(e,m),l&&s.addCase(m.fulfilled,l),u&&s.addCase(m.pending,u),d&&s.addCase(m.rejected,d),h&&s.addMatcher(m.settled,h),s.exposeCaseReducer(e,{fulfilled:l||Of,pending:u||Of,rejected:d||Of,settled:h||Of})}function Of(){}function As(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var GB=class extends Error{issues;constructor(t){super(t[0].message),this.name="SchemaError",this.issues=t}},DM=(t=>(t.uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected",t))(DM||{});function F2(t){return{status:t,isUninitialized:t==="uninitialized",isLoading:t==="pending",isSuccess:t==="fulfilled",isError:t==="rejected"}}var q2=$i;function Hb(t,e){if(t===e||!(q2(t)&&q2(e)||Array.isArray(t)&&Array.isArray(e)))return e;const n=Object.keys(e),s=Object.keys(t);let r=n.length===s.length;const i=Array.isArray(e)?[]:{};for(const l of n)i[l]=Hb(t[l],e[l]),r&&(r=t[l]===i[l]);return r?t:i}var H2=t=>[].concat(...t);function QB(t){return new RegExp("(^|:)//").test(t)}function YB(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function Kb(t){return t!=null}function K2(t){return[...t?.values()??[]].filter(Kb)}function JB(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var XB=t=>t.replace(/\/$/,""),WB=t=>t.replace(/^\//,"");function ZB(t,e){if(!t)return e;if(!e)return t;if(QB(e))return e;const n=t.endsWith("/")||!e.startsWith("?")?"/":"";return t=XB(t),e=WB(e),`${t}${n}${e}`}function Mh(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}var ky=()=>new Map,G2=(...t)=>fetch(...t),ez=t=>t.status>=200&&t.status<=299,tz=t=>/ion\/(vnd\.api\+)?json/.test(t.get("content-type")||"");function Q2(t){if(!$i(t))return t;const e={...t};for(const[n,s]of Object.entries(e))s===void 0&&delete e[n];return e}var nz=t=>typeof t=="object"&&($i(t)||Array.isArray(t)||typeof t.toJSON=="function");function sz({baseUrl:t,prepareHeaders:e=m=>m,fetchFn:n=G2,paramsSerializer:s,isJsonContentType:r=tz,jsonContentType:i="application/json",jsonReplacer:l,timeout:u,responseHandler:d,validateStatus:h,...p}={}){return typeof fetch>"u"&&n===G2&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(x,y,b)=>{const{getState:j,extra:w,endpoint:C,forced:M,type:E}=y;let S,{url:k,headers:R=new Headers(p.headers),params:O=void 0,responseHandler:T=d??"json",validateStatus:D=h??ez,timeout:B=u,...L}=typeof x=="string"?{url:x}:x,V,F=y.signal;B&&(V=new AbortController,y.signal.addEventListener("abort",V.abort),F=V.signal);let K={...p,signal:F,...L};R=new Headers(Q2(R)),K.headers=await e(R,{getState:j,arg:x,extra:w,endpoint:C,forced:M,type:E,extraOptions:b})||R;const re=nz(K.body);if(K.body!=null&&!re&&typeof K.body!="string"&&K.headers.delete("content-type"),!K.headers.has("content-type")&&re&&K.headers.set("content-type",i),re&&r(K.headers)&&(K.body=JSON.stringify(K.body,l)),K.headers.has("accept")||(T==="json"?K.headers.set("accept","application/json"):T==="text"&&K.headers.set("accept","text/plain, text/html, */*")),O){const le=~k.indexOf("?")?"&":"?",fe=s?s(O):new URLSearchParams(Q2(O));k+=le+fe}k=ZB(t,k);const U=new Request(k,K);S={request:new Request(k,K)};let ee,ae=!1,de=V&&setTimeout(()=>{ae=!0,V.abort()},B);try{ee=await n(U)}catch(le){return{error:{status:ae?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(le)},meta:S}}finally{de&&clearTimeout(de),V?.signal.removeEventListener("abort",V.abort)}const z=ee.clone();S.response=z;let J,se="";try{let le;if(await Promise.all([m(ee,T).then(fe=>J=fe,fe=>le=fe),z.text().then(fe=>se=fe,()=>{})]),le)throw le}catch(le){return{error:{status:"PARSING_ERROR",originalStatus:ee.status,data:se,error:String(le)},meta:S}}return D(ee,J)?{data:J,meta:S}:{error:{status:ee.status,data:J},meta:S}};async function m(x,y){if(typeof y=="function")return y(x);if(y==="content-type"&&(y=r(x.headers)?"json":"text"),y==="json"){const b=await x.text();return b.length?JSON.parse(b):null}return x.text()}}var Y2=class{constructor(t,e=void 0){this.value=t,this.meta=e}},Fp=Ms("__rtkq/focused"),Gb=Ms("__rtkq/unfocused"),qp=Ms("__rtkq/online"),Qb=Ms("__rtkq/offline"),lx=!1;function rz(t,e){function n(){const s=()=>t(Fp()),r=()=>t(Gb()),i=()=>t(qp()),l=()=>t(Qb()),u=()=>{window.document.visibilityState==="visible"?s():r()};return lx||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",u,!1),window.addEventListener("focus",s,!1),window.addEventListener("online",i,!1),window.addEventListener("offline",l,!1),lx=!0),()=>{window.removeEventListener("focus",s),window.removeEventListener("visibilitychange",u),window.removeEventListener("online",i),window.removeEventListener("offline",l),lx=!1}}return n()}function Hp(t){return t.type==="query"}function iz(t){return t.type==="mutation"}function Kp(t){return t.type==="infinitequery"}function Ah(t){return Hp(t)||Kp(t)}function Yb(t,e,n,s,r,i){return az(t)?t(e,n,s,r).filter(Kb).map(Ey).map(i):Array.isArray(t)?t.map(Ey).map(i):[]}function az(t){return typeof t=="function"}function Ey(t){return typeof t=="string"?{type:t}:t}function oz(t,e){return t.catch(e)}var wu=Symbol("forceQueryFn"),Ty=t=>typeof t[wu]=="function";function lz({serializeQueryArgs:t,queryThunk:e,infiniteQueryThunk:n,mutationThunk:s,api:r,context:i,getInternalState:l}){const u=S=>l(S)?.runningQueries,d=S=>l(S)?.runningMutations,{unsubscribeQueryResult:h,removeMutationResult:p,updateSubscriptionOptions:m}=r.internalActions;return{buildInitiateQuery:C,buildInitiateInfiniteQuery:M,buildInitiateMutation:E,getRunningQueryThunk:x,getRunningMutationThunk:y,getRunningQueriesThunk:b,getRunningMutationsThunk:j};function x(S,k){return R=>{const O=i.endpointDefinitions[S],T=t({queryArgs:k,endpointDefinition:O,endpointName:S});return u(R)?.get(T)}}function y(S,k){return R=>d(R)?.get(k)}function b(){return S=>K2(u(S))}function j(){return S=>K2(d(S))}function w(S,k){const R=(O,{subscribe:T=!0,forceRefetch:D,subscriptionOptions:B,[wu]:L,...V}={})=>(F,K)=>{const re=t({queryArgs:O,endpointDefinition:k,endpointName:S});let U;const H={...V,type:"query",subscribe:T,forceRefetch:D,subscriptionOptions:B,endpointName:S,originalArgs:O,queryCacheKey:re,[wu]:L};if(Hp(k))U=e(H);else{const{direction:me,initialPageParam:je}=V;U=n({...H,direction:me,initialPageParam:je})}const ee=r.endpoints[S].select(O),ae=F(U),de=ee(K()),{requestId:z,abort:J}=ae,se=de.requestId!==z,le=u(F)?.get(re),fe=()=>ee(K()),ve=Object.assign(L?ae.then(fe):se&&!le?Promise.resolve(de):Promise.all([le,ae]).then(fe),{arg:O,requestId:z,subscriptionOptions:B,queryCacheKey:re,abort:J,async unwrap(){const me=await ve;if(me.isError)throw me.error;return me.data},refetch:()=>F(R(O,{subscribe:!1,forceRefetch:!0})),unsubscribe(){T&&F(h({queryCacheKey:re,requestId:z}))},updateSubscriptionOptions(me){ve.subscriptionOptions=me,F(m({endpointName:S,requestId:z,queryCacheKey:re,options:me}))}});if(!le&&!se&&!L){const me=u(F);me.set(re,ve),ve.then(()=>{me.delete(re)})}return ve};return R}function C(S,k){return w(S,k)}function M(S,k){return w(S,k)}function E(S){return(k,{track:R=!0,fixedCacheKey:O}={})=>(T,D)=>{const B=s({type:"mutation",endpointName:S,originalArgs:k,track:R,fixedCacheKey:O}),L=T(B),{requestId:V,abort:F,unwrap:K}=L,re=oz(L.unwrap().then(ae=>({data:ae})),ae=>({error:ae})),U=()=>{T(p({requestId:V,fixedCacheKey:O}))},H=Object.assign(re,{arg:L.arg,requestId:V,abort:F,unwrap:K,reset:U}),ee=d(T);return ee.set(V,H),H.then(()=>{ee.delete(V)}),O&&(ee.set(O,H),H.then(()=>{ee.get(O)===H&&ee.delete(O)})),H}}}var OM=class extends GB{constructor(t,e,n,s){super(t),this.value=e,this.schemaName=n,this._bqMeta=s}},ya=(t,e)=>Array.isArray(t)?t.includes(e):!!t;async function ba(t,e,n,s){const r=await t["~standard"].validate(e);if(r.issues)throw new OM(r.issues,e,n,s);return r.value}function J2(t){return t}var Rc=(t={})=>({...t,[Vp]:!0});function cz({reducerPath:t,baseQuery:e,context:{endpointDefinitions:n},serializeQueryArgs:s,api:r,assertTagType:i,selectors:l,onSchemaFailure:u,catchSchemaFailure:d,skipSchemaValidation:h}){const p=(L,V,F,K)=>(re,U)=>{const H=n[L],ee=s({queryArgs:V,endpointDefinition:H,endpointName:L});if(re(r.internalActions.queryResultPatched({queryCacheKey:ee,patches:F})),!K)return;const ae=r.endpoints[L].select(V)(U()),de=Yb(H.providesTags,ae.data,void 0,V,{},i);re(r.internalActions.updateProvidedBy([{queryCacheKey:ee,providedTags:de}]))};function m(L,V,F=0){const K=[V,...L];return F&&K.length>F?K.slice(0,-1):K}function x(L,V,F=0){const K=[...L,V];return F&&K.length>F?K.slice(1):K}const y=(L,V,F,K=!0)=>(re,U)=>{const ee=r.endpoints[L].select(V)(U()),ae={patches:[],inversePatches:[],undo:()=>re(r.util.patchQueryData(L,V,ae.inversePatches,K))};if(ee.status==="uninitialized")return ae;let de;if("data"in ee)if(Os(ee.data)){const[z,J,se]=EM(ee.data,F);ae.patches.push(...J),ae.inversePatches.push(...se),de=z}else de=F(ee.data),ae.patches.push({op:"replace",path:[],value:de}),ae.inversePatches.push({op:"replace",path:[],value:ee.data});return ae.patches.length===0||re(r.util.patchQueryData(L,V,ae.patches,K)),ae},b=(L,V,F)=>K=>K(r.endpoints[L].initiate(V,{subscribe:!1,forceRefetch:!0,[wu]:()=>({data:F})})),j=(L,V)=>L.query&&L[V]?L[V]:J2,w=async(L,{signal:V,abort:F,rejectWithValue:K,fulfillWithValue:re,dispatch:U,getState:H,extra:ee})=>{const ae=n[L.endpointName],{metaSchema:de,skipSchemaValidation:z=h}=ae;try{let J=J2;const se={signal:V,abort:F,dispatch:U,getState:H,extra:ee,endpoint:L.endpointName,type:L.type,forced:L.type==="query"?C(L,H()):void 0,queryCacheKey:L.type==="query"?L.queryCacheKey:void 0},le=L.type==="query"?L[wu]:void 0;let fe;const ve=async(je,Se,at,vs)=>{if(Se==null&&je.pages.length)return Promise.resolve({data:je});const Xn={queryArg:L.originalArgs,pageParam:Se},cr=await me(Xn),Vt=vs?m:x;return{data:{pages:Vt(je.pages,cr.data,at),pageParams:Vt(je.pageParams,Se,at)},meta:cr.meta}};async function me(je){let Se;const{extraOptions:at,argSchema:vs,rawResponseSchema:Xn,responseSchema:cr}=ae;if(vs&&!ya(z,"arg")&&(je=await ba(vs,je,"argSchema",{})),le?Se=le():ae.query?(J=j(ae,"transformResponse"),Se=await e(ae.query(je),se,at)):Se=await ae.queryFn(je,se,at,ur=>e(ur,se,at)),typeof process<"u",Se.error)throw new Y2(Se.error,Se.meta);let{data:Vt}=Se;Xn&&!ya(z,"rawResponse")&&(Vt=await ba(Xn,Se.data,"rawResponseSchema",Se.meta));let Wn=await J(Vt,Se.meta,je);return cr&&!ya(z,"response")&&(Wn=await ba(cr,Wn,"responseSchema",Se.meta)),{...Se,data:Wn}}if(L.type==="query"&&"infiniteQueryOptions"in ae){const{infiniteQueryOptions:je}=ae,{maxPages:Se=1/0}=je;let at;const vs={pages:[],pageParams:[]},Xn=l.selectQueryEntry(H(),L.queryCacheKey)?.data,Vt=C(L,H())&&!L.direction||!Xn?vs:Xn;if("direction"in L&&L.direction&&Vt.pages.length){const Wn=L.direction==="backward",Ll=(Wn?RM:My)(je,Vt,L.originalArgs);at=await ve(Vt,Ll,Se,Wn)}else{const{initialPageParam:Wn=je.initialPageParam}=L,ur=Xn?.pageParams??[],Ll=ur[0]??Wn,cd=ur.length;at=await ve(Vt,Ll,Se),le&&(at={data:at.data.pages[0]});for(let eo=1;eo<cd;eo++){const Pl=My(je,at.data,L.originalArgs);at=await ve(at.data,Pl,Se)}}fe=at}else fe=await me(L.originalArgs);return de&&!ya(z,"meta")&&fe.meta&&(fe.meta=await ba(de,fe.meta,"metaSchema",fe.meta)),re(fe.data,Rc({fulfilledTimeStamp:Date.now(),baseQueryMeta:fe.meta}))}catch(J){let se=J;if(se instanceof Y2){let le=j(ae,"transformErrorResponse");const{rawErrorResponseSchema:fe,errorResponseSchema:ve}=ae;let{value:me,meta:je}=se;try{fe&&!ya(z,"rawErrorResponse")&&(me=await ba(fe,me,"rawErrorResponseSchema",je)),de&&!ya(z,"meta")&&(je=await ba(de,je,"metaSchema",je));let Se=await le(me,je,L.originalArgs);return ve&&!ya(z,"errorResponse")&&(Se=await ba(ve,Se,"errorResponseSchema",je)),K(Se,Rc({baseQueryMeta:je}))}catch(Se){se=Se}}try{if(se instanceof OM){const le={endpoint:L.endpointName,arg:L.originalArgs,type:L.type,queryCacheKey:L.type==="query"?L.queryCacheKey:void 0};ae.onSchemaFailure?.(se,le),u?.(se,le);const{catchSchemaFailure:fe=d}=ae;if(fe)return K(fe(se,le),Rc({baseQueryMeta:se._bqMeta}))}}catch(le){se=le}throw console.error(se),se}};function C(L,V){const F=l.selectQueryEntry(V,L.queryCacheKey),K=l.selectConfig(V).refetchOnMountOrArgChange,re=F?.fulfilledTimeStamp,U=L.forceRefetch??(L.subscribe&&K);return U?U===!0||(Number(new Date)-Number(re))/1e3>=U:!1}const M=()=>$2(`${t}/executeQuery`,w,{getPendingMeta({arg:V}){const F=n[V.endpointName];return Rc({startedTimeStamp:Date.now(),...Kp(F)?{direction:V.direction}:{}})},condition(V,{getState:F}){const K=F(),re=l.selectQueryEntry(K,V.queryCacheKey),U=re?.fulfilledTimeStamp,H=V.originalArgs,ee=re?.originalArgs,ae=n[V.endpointName],de=V.direction;return Ty(V)?!0:re?.status==="pending"?!1:C(V,K)||Hp(ae)&&ae?.forceRefetch?.({currentArg:H,previousArg:ee,endpointState:re,state:K})?!0:!(U&&!de)},dispatchConditionRejection:!0}),E=M(),S=M(),k=$2(`${t}/executeMutation`,w,{getPendingMeta(){return Rc({startedTimeStamp:Date.now()})}}),R=L=>"force"in L,O=L=>"ifOlderThan"in L,T=(L,V,F={})=>(K,re)=>{const U=R(F)&&F.force,H=O(F)&&F.ifOlderThan,ee=(de=!0)=>{const z={forceRefetch:de,subscribe:!1};return r.endpoints[L].initiate(V,z)},ae=r.endpoints[L].select(V)(re());if(U)K(ee());else if(H){const de=ae?.fulfilledTimeStamp;if(!de){K(ee());return}(Number(new Date)-Number(new Date(de)))/1e3>=H&&K(ee())}else K(ee(!1))};function D(L){return V=>V?.meta?.arg?.endpointName===L}function B(L,V){return{matchPending:Xc(Fb(L),D(V)),matchFulfilled:Xc(Fi(L),D(V)),matchRejected:Xc(hl(L),D(V))}}return{queryThunk:E,mutationThunk:k,infiniteQueryThunk:S,prefetch:T,updateQueryData:y,upsertQueryData:b,patchQueryData:p,buildMatchThunkActions:B}}function My(t,{pages:e,pageParams:n},s){const r=e.length-1;return t.getNextPageParam(e[r],e,n[r],n,s)}function RM(t,{pages:e,pageParams:n},s){return t.getPreviousPageParam?.(e[0],e,n[0],n,s)}function LM(t,e,n,s){return Yb(n[t.meta.arg.endpointName][e],Fi(t)?t.payload:void 0,$p(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,s)}function Rf(t,e,n){const s=t[e];s&&n(s)}function Nu(t){return("arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)??t.requestId}function X2(t,e,n){const s=t[Nu(e)];s&&n(s)}var Lf={};function uz({reducerPath:t,queryThunk:e,mutationThunk:n,serializeQueryArgs:s,context:{endpointDefinitions:r,apiUid:i,extractRehydrationInfo:l,hasRehydrationInfo:u},assertTagType:d,config:h}){const p=Ms(`${t}/resetApiState`);function m(D,B,L,V){D[B.queryCacheKey]??={status:"uninitialized",endpointName:B.endpointName},Rf(D,B.queryCacheKey,F=>{F.status="pending",F.requestId=L&&F.requestId?F.requestId:V.requestId,B.originalArgs!==void 0&&(F.originalArgs=B.originalArgs),F.startedTimeStamp=V.startedTimeStamp;const K=r[V.arg.endpointName];Kp(K)&&"direction"in B&&(F.direction=B.direction)})}function x(D,B,L,V){Rf(D,B.arg.queryCacheKey,F=>{if(F.requestId!==B.requestId&&!V)return;const{merge:K}=r[B.arg.endpointName];if(F.status="fulfilled",K)if(F.data!==void 0){const{fulfilledTimeStamp:re,arg:U,baseQueryMeta:H,requestId:ee}=B;let ae=Ku(F.data,de=>K(de,L,{arg:U.originalArgs,baseQueryMeta:H,fulfilledTimeStamp:re,requestId:ee}));F.data=ae}else F.data=L;else F.data=r[B.arg.endpointName].structuralSharing??!0?Hb(er(F.data)?tB(F.data):F.data,L):L;delete F.error,F.fulfilledTimeStamp=B.fulfilledTimeStamp})}const y=Fo({name:`${t}/queries`,initialState:Lf,reducers:{removeQueryResult:{reducer(D,{payload:{queryCacheKey:B}}){delete D[B]},prepare:Oc()},cacheEntriesUpserted:{reducer(D,B){for(const L of B.payload){const{queryDescription:V,value:F}=L;m(D,V,!0,{arg:V,requestId:B.meta.requestId,startedTimeStamp:B.meta.timestamp}),x(D,{arg:V,requestId:B.meta.requestId,fulfilledTimeStamp:B.meta.timestamp,baseQueryMeta:{}},F,!0)}},prepare:D=>({payload:D.map(V=>{const{endpointName:F,arg:K,value:re}=V,U=r[F];return{queryDescription:{type:"query",endpointName:F,originalArgs:V.arg,queryCacheKey:s({queryArgs:K,endpointDefinition:U,endpointName:F})},value:re}}),meta:{[Vp]:!0,requestId:qb(),timestamp:Date.now()}})},queryResultPatched:{reducer(D,{payload:{queryCacheKey:B,patches:L}}){Rf(D,B,V=>{V.data=L2(V.data,L.concat())})},prepare:Oc()}},extraReducers(D){D.addCase(e.pending,(B,{meta:L,meta:{arg:V}})=>{const F=Ty(V);m(B,V,F,L)}).addCase(e.fulfilled,(B,{meta:L,payload:V})=>{const F=Ty(L.arg);x(B,L,V,F)}).addCase(e.rejected,(B,{meta:{condition:L,arg:V,requestId:F},error:K,payload:re})=>{Rf(B,V.queryCacheKey,U=>{if(!L){if(U.requestId!==F)return;U.status="rejected",U.error=re??K}})}).addMatcher(u,(B,L)=>{const{queries:V}=l(L);for(const[F,K]of Object.entries(V))(K?.status==="fulfilled"||K?.status==="rejected")&&(B[F]=K)})}}),b=Fo({name:`${t}/mutations`,initialState:Lf,reducers:{removeMutationResult:{reducer(D,{payload:B}){const L=Nu(B);L in D&&delete D[L]},prepare:Oc()}},extraReducers(D){D.addCase(n.pending,(B,{meta:L,meta:{requestId:V,arg:F,startedTimeStamp:K}})=>{F.track&&(B[Nu(L)]={requestId:V,status:"pending",endpointName:F.endpointName,startedTimeStamp:K})}).addCase(n.fulfilled,(B,{payload:L,meta:V})=>{V.arg.track&&X2(B,V,F=>{F.requestId===V.requestId&&(F.status="fulfilled",F.data=L,F.fulfilledTimeStamp=V.fulfilledTimeStamp)})}).addCase(n.rejected,(B,{payload:L,error:V,meta:F})=>{F.arg.track&&X2(B,F,K=>{K.requestId===F.requestId&&(K.status="rejected",K.error=L??V)})}).addMatcher(u,(B,L)=>{const{mutations:V}=l(L);for(const[F,K]of Object.entries(V))(K?.status==="fulfilled"||K?.status==="rejected")&&F!==K?.requestId&&(B[F]=K)})}}),j={tags:{},keys:{}},w=Fo({name:`${t}/invalidation`,initialState:j,reducers:{updateProvidedBy:{reducer(D,B){for(const{queryCacheKey:L,providedTags:V}of B.payload){C(D,L);for(const{type:F,id:K}of V){const re=(D.tags[F]??={})[K||"__internal_without_id"]??=[];re.includes(L)||re.push(L)}D.keys[L]=V}},prepare:Oc()}},extraReducers(D){D.addCase(y.actions.removeQueryResult,(B,{payload:{queryCacheKey:L}})=>{C(B,L)}).addMatcher(u,(B,L)=>{const{provided:V}=l(L);for(const[F,K]of Object.entries(V.tags??{}))for(const[re,U]of Object.entries(K)){const H=(B.tags[F]??={})[re||"__internal_without_id"]??=[];for(const ee of U)H.includes(ee)||H.push(ee),B.keys[ee]=V.keys[ee]}}).addMatcher(Fr(Fi(e),$p(e)),(B,L)=>{M(B,[L])}).addMatcher(y.actions.cacheEntriesUpserted.match,(B,L)=>{const V=L.payload.map(({queryDescription:F,value:K})=>({type:"UNKNOWN",payload:K,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:F}}));M(B,V)})}});function C(D,B){const L=D.keys[B]??[];for(const V of L){const F=V.type,K=V.id??"__internal_without_id",re=D.tags[F]?.[K];re&&(D.tags[F][K]=re.filter(U=>U!==B))}delete D.keys[B]}function M(D,B){const L=B.map(V=>{const F=LM(V,"providesTags",r,d),{queryCacheKey:K}=V.meta.arg;return{queryCacheKey:K,providedTags:F}});w.caseReducers.updateProvidedBy(D,w.actions.updateProvidedBy(L))}const E=Fo({name:`${t}/subscriptions`,initialState:Lf,reducers:{updateSubscriptionOptions(D,B){},unsubscribeQueryResult(D,B){},internal_getRTKQSubscriptions(){}}}),S=Fo({name:`${t}/internalSubscriptions`,initialState:Lf,reducers:{subscriptionsUpdated:{reducer(D,B){return L2(D,B.payload)},prepare:Oc()}}}),k=Fo({name:`${t}/config`,initialState:{online:JB(),focused:YB(),middlewareRegistered:!1,...h},reducers:{middlewareRegistered(D,{payload:B}){D.middlewareRegistered=D.middlewareRegistered==="conflict"||i!==B?"conflict":!0}},extraReducers:D=>{D.addCase(qp,B=>{B.online=!0}).addCase(Qb,B=>{B.online=!1}).addCase(Fp,B=>{B.focused=!0}).addCase(Gb,B=>{B.focused=!1}).addMatcher(u,B=>({...B}))}}),R=vM({queries:y.reducer,mutations:b.reducer,provided:w.reducer,subscriptions:S.reducer,config:k.reducer}),O=(D,B)=>R(p.match(B)?void 0:D,B),T={...k.actions,...y.actions,...E.actions,...S.actions,...b.actions,...w.actions,resetApiState:p};return{reducer:O,actions:T}}var ks=Symbol.for("RTKQ/skipToken"),PM={status:"uninitialized"},W2=Ku(PM,()=>{}),Z2=Ku(PM,()=>{});function dz({serializeQueryArgs:t,reducerPath:e,createSelector:n}){const s=E=>W2,r=E=>Z2;return{buildQuerySelector:x,buildInfiniteQuerySelector:y,buildMutationSelector:b,selectInvalidatedBy:j,selectCachedArgsForQuery:w,selectApiState:l,selectQueries:u,selectMutations:h,selectQueryEntry:d,selectConfig:p};function i(E){return{...E,...F2(E.status)}}function l(E){return E[e]}function u(E){return l(E)?.queries}function d(E,S){return u(E)?.[S]}function h(E){return l(E)?.mutations}function p(E){return l(E)?.config}function m(E,S,k){return R=>{if(R===ks)return n(s,k);const O=t({queryArgs:R,endpointDefinition:S,endpointName:E});return n(D=>d(D,O)??W2,k)}}function x(E,S){return m(E,S,i)}function y(E,S){const{infiniteQueryOptions:k}=S;function R(O){const T={...O,...F2(O.status)},{isLoading:D,isError:B,direction:L}=T,V=L==="forward",F=L==="backward";return{...T,hasNextPage:C(k,T.data,T.originalArgs),hasPreviousPage:M(k,T.data,T.originalArgs),isFetchingNextPage:D&&V,isFetchingPreviousPage:D&&F,isFetchNextPageError:B&&V,isFetchPreviousPageError:B&&F}}return m(E,S,R)}function b(){return E=>{let S;return typeof E=="object"?S=Nu(E)??ks:S=E,n(S===ks?r:O=>l(O)?.mutations?.[S]??Z2,i)}}function j(E,S){const k=E[e],R=new Set;for(const O of S.filter(Kb).map(Ey)){const T=k.provided.tags[O.type];if(!T)continue;let D=(O.id!==void 0?T[O.id]:H2(Object.values(T)))??[];for(const B of D)R.add(B)}return H2(Array.from(R.values()).map(O=>{const T=k.queries[O];return T?[{queryCacheKey:O,endpointName:T.endpointName,originalArgs:T.originalArgs}]:[]}))}function w(E,S){return Object.values(u(E)).filter(k=>k?.endpointName===S&&k.status!=="uninitialized").map(k=>k.originalArgs)}function C(E,S,k){return S?My(E,S,k)!=null:!1}function M(E,S,k){return!S||!E.getPreviousPageParam?!1:RM(E,S,k)!=null}}var eC=WeakMap?new WeakMap:void 0,tC=({endpointName:t,queryArgs:e})=>{let n="";const s=eC?.get(e);if(typeof s=="string")n=s;else{const r=JSON.stringify(e,(i,l)=>(l=typeof l=="bigint"?{$bigint:l.toString()}:l,l=$i(l)?Object.keys(l).sort().reduce((u,d)=>(u[d]=l[d],u),{}):l,l));$i(e)&&eC?.set(e,r),n=r}return`${t}(${n})`};function BM(...t){return function(n){const s=Th(h=>n.extractRehydrationInfo?.(h,{reducerPath:n.reducerPath??"api"})),r={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...n,extractRehydrationInfo:s,serializeQueryArgs(h){let p=tC;if("serializeQueryArgs"in h.endpointDefinition){const m=h.endpointDefinition.serializeQueryArgs;p=x=>{const y=m(x);return typeof y=="string"?y:tC({...x,queryArgs:y})}}else n.serializeQueryArgs&&(p=n.serializeQueryArgs);return p(h)},tagTypes:[...n.tagTypes||[]]},i={endpointDefinitions:{},batch(h){h()},apiUid:qb(),extractRehydrationInfo:s,hasRehydrationInfo:Th(h=>s(h)!=null)},l={injectEndpoints:d,enhanceEndpoints({addTagTypes:h,endpoints:p}){if(h)for(const m of h)r.tagTypes.includes(m)||r.tagTypes.push(m);if(p)for(const[m,x]of Object.entries(p))typeof x=="function"?x(i.endpointDefinitions[m]):Object.assign(i.endpointDefinitions[m]||{},x);return l}},u=t.map(h=>h.init(l,r,i));function d(h){const p=h.endpoints({query:m=>({...m,type:"query"}),mutation:m=>({...m,type:"mutation"}),infiniteQuery:m=>({...m,type:"infinitequery"})});for(const[m,x]of Object.entries(p)){if(h.overrideExisting!==!0&&m in i.endpointDefinitions){if(h.overrideExisting==="throw")throw new Error(As(39));continue}i.endpointDefinitions[m]=x;for(const y of u)y.injectEndpoint(m,x)}return l}return l.injectEndpoints({endpoints:n.endpoints})}}function Mr(t,...e){return Object.assign(t,...e)}var fz=({api:t,queryThunk:e,internalState:n,mwApi:s})=>{const r=`${t.reducerPath}/subscriptions`;let i=null,l=null;const{updateSubscriptionOptions:u,unsubscribeQueryResult:d}=t.internalActions,h=(j,w)=>{if(u.match(w)){const{queryCacheKey:M,requestId:E,options:S}=w.payload,k=j.get(M);return k?.has(E)&&k.set(E,S),!0}if(d.match(w)){const{queryCacheKey:M,requestId:E}=w.payload,S=j.get(M);return S&&S.delete(E),!0}if(t.internalActions.removeQueryResult.match(w))return j.delete(w.payload.queryCacheKey),!0;if(e.pending.match(w)){const{meta:{arg:M,requestId:E}}=w,S=Mh(j,M.queryCacheKey,ky);return M.subscribe&&S.set(E,M.subscriptionOptions??S.get(E)??{}),!0}let C=!1;if(e.rejected.match(w)){const{meta:{condition:M,arg:E,requestId:S}}=w;if(M&&E.subscribe){const k=Mh(j,E.queryCacheKey,ky);k.set(S,E.subscriptionOptions??k.get(S)??{}),C=!0}}return C},p=()=>n.currentSubscriptions,y={getSubscriptions:p,getSubscriptionCount:j=>p().get(j)?.size??0,isRequestSubscribed:(j,w)=>!!p()?.get(j)?.get(w)};function b(j){return JSON.parse(JSON.stringify(Object.fromEntries([...j].map(([w,C])=>[w,Object.fromEntries(C)]))))}return(j,w)=>{if(i||(i=b(n.currentSubscriptions)),t.util.resetApiState.match(j))return i={},n.currentSubscriptions.clear(),l=null,[!0,!1];if(t.internalActions.internal_getRTKQSubscriptions.match(j))return[!1,y];const C=h(n.currentSubscriptions,j);let M=!0;if(C){l||(l=setTimeout(()=>{const k=b(n.currentSubscriptions),[,R]=EM(i,()=>k);w.next(t.internalActions.subscriptionsUpdated(R)),i=k,l=null},500));const E=typeof j.type=="string"&&!!j.type.startsWith(r),S=e.rejected.match(j)&&j.meta.condition&&!!j.meta.arg.subscribe;M=!E&&!S}return[M,!1]}},hz=2147483647/1e3-1,pz=({reducerPath:t,api:e,queryThunk:n,context:s,internalState:r,selectors:{selectQueryEntry:i,selectConfig:l},getRunningQueryThunk:u,mwApi:d})=>{const{removeQueryResult:h,unsubscribeQueryResult:p,cacheEntriesUpserted:m}=e.internalActions,x=Fr(p.match,n.fulfilled,n.rejected,m.match);function y(E){const S=r.currentSubscriptions.get(E);return S?S.size>0:!1}const b={};function j(E){for(const S of E.values())S?.abort?.()}const w=(E,S)=>{const k=S.getState(),R=l(k);if(x(E)){let O;if(m.match(E))O=E.payload.map(T=>T.queryDescription.queryCacheKey);else{const{queryCacheKey:T}=p.match(E)?E.payload:E.meta.arg;O=[T]}C(O,S,R)}if(e.util.resetApiState.match(E)){for(const[O,T]of Object.entries(b))T&&clearTimeout(T),delete b[O];j(r.runningQueries),j(r.runningMutations)}if(s.hasRehydrationInfo(E)){const{queries:O}=s.extractRehydrationInfo(E);C(Object.keys(O),S,R)}};function C(E,S,k){const R=S.getState();for(const O of E){const T=i(R,O);T?.endpointName&&M(O,T.endpointName,S,k)}}function M(E,S,k,R){const T=s.endpointDefinitions[S]?.keepUnusedDataFor??R.keepUnusedDataFor;if(T===1/0)return;const D=Math.max(0,Math.min(T,hz));if(!y(E)){const B=b[E];B&&clearTimeout(B),b[E]=setTimeout(()=>{if(!y(E)){const L=i(k.getState(),E);L?.endpointName&&k.dispatch(u(L.endpointName,L.originalArgs))?.abort(),k.dispatch(h({queryCacheKey:E}))}delete b[E]},D*1e3)}}return w},nC=new Error("Promise never resolved before cacheEntryRemoved."),mz=({api:t,reducerPath:e,context:n,queryThunk:s,mutationThunk:r,internalState:i,selectors:{selectQueryEntry:l,selectApiState:u}})=>{const d=Cy(s),h=Cy(r),p=Fi(s,r),m={};function x(C,M,E){const S=m[C];S?.valueResolved&&(S.valueResolved({data:M,meta:E}),delete S.valueResolved)}function y(C){const M=m[C];M&&(delete m[C],M.cacheEntryRemoved())}const b=(C,M,E)=>{const S=j(C);function k(R,O,T,D){const B=l(E,O),L=l(M.getState(),O);!B&&L&&w(R,D,O,M,T)}if(s.pending.match(C))k(C.meta.arg.endpointName,S,C.meta.requestId,C.meta.arg.originalArgs);else if(t.internalActions.cacheEntriesUpserted.match(C))for(const{queryDescription:R,value:O}of C.payload){const{endpointName:T,originalArgs:D,queryCacheKey:B}=R;k(T,B,C.meta.requestId,D),x(B,O,{})}else if(r.pending.match(C))M.getState()[e].mutations[S]&&w(C.meta.arg.endpointName,C.meta.arg.originalArgs,S,M,C.meta.requestId);else if(p(C))x(S,C.payload,C.meta.baseQueryMeta);else if(t.internalActions.removeQueryResult.match(C)||t.internalActions.removeMutationResult.match(C))y(S);else if(t.util.resetApiState.match(C))for(const R of Object.keys(m))y(R)};function j(C){return d(C)?C.meta.arg.queryCacheKey:h(C)?C.meta.arg.fixedCacheKey??C.meta.requestId:t.internalActions.removeQueryResult.match(C)?C.payload.queryCacheKey:t.internalActions.removeMutationResult.match(C)?Nu(C.payload):""}function w(C,M,E,S,k){const R=n.endpointDefinitions[C],O=R?.onCacheEntryAdded;if(!O)return;const T={},D=new Promise(re=>{T.cacheEntryRemoved=re}),B=Promise.race([new Promise(re=>{T.valueResolved=re}),D.then(()=>{throw nC})]);B.catch(()=>{}),m[E]=T;const L=t.endpoints[C].select(Ah(R)?M:E),V=S.dispatch((re,U,H)=>H),F={...S,getCacheEntry:()=>L(S.getState()),requestId:k,extra:V,updateCachedData:Ah(R)?re=>S.dispatch(t.util.updateQueryData(C,M,re)):void 0,cacheDataLoaded:B,cacheEntryRemoved:D},K=O(M,F);Promise.resolve(K).catch(re=>{if(re!==nC)throw re})}return b},gz=({api:t,context:{apiUid:e},reducerPath:n})=>(s,r)=>{t.util.resetApiState.match(s)&&r.dispatch(t.internalActions.middlewareRegistered(e))},xz=({reducerPath:t,context:e,context:{endpointDefinitions:n},mutationThunk:s,queryThunk:r,api:i,assertTagType:l,refetchQuery:u,internalState:d})=>{const{removeQueryResult:h}=i.internalActions,p=Fr(Fi(s),$p(s)),m=Fr(Fi(s,r),hl(s,r));let x=[];const y=(w,C)=>{p(w)?j(LM(w,"invalidatesTags",n,l),C):m(w)?j([],C):i.util.invalidateTags.match(w)&&j(Yb(w.payload,void 0,void 0,void 0,void 0,l),C)};function b(w){const{queries:C,mutations:M}=w;for(const E of[C,M])for(const S in E)if(E[S]?.status==="pending")return!0;return!1}function j(w,C){const M=C.getState(),E=M[t];if(x.push(...w),E.config.invalidationBehavior==="delayed"&&b(E))return;const S=x;if(x=[],S.length===0)return;const k=i.util.selectInvalidatedBy(M,S);e.batch(()=>{const R=Array.from(k.values());for(const{queryCacheKey:O}of R){const T=E.queries[O],D=Mh(d.currentSubscriptions,O,ky);T&&(D.size===0?C.dispatch(h({queryCacheKey:O})):T.status!=="uninitialized"&&C.dispatch(u(T)))}})}return y},yz=({reducerPath:t,queryThunk:e,api:n,refetchQuery:s,internalState:r})=>{const{currentPolls:i,currentSubscriptions:l}=r,u=new Set;let d=null;const h=(w,C)=>{(n.internalActions.updateSubscriptionOptions.match(w)||n.internalActions.unsubscribeQueryResult.match(w))&&p(w.payload.queryCacheKey,C),(e.pending.match(w)||e.rejected.match(w)&&w.meta.condition)&&p(w.meta.arg.queryCacheKey,C),(e.fulfilled.match(w)||e.rejected.match(w)&&!w.meta.condition)&&m(w.meta.arg,C),n.util.resetApiState.match(w)&&(b(),d&&(clearTimeout(d),d=null),u.clear())};function p(w,C){u.add(w),d||(d=setTimeout(()=>{for(const M of u)x({queryCacheKey:M},C);u.clear(),d=null},0))}function m({queryCacheKey:w},C){const M=C.getState()[t],E=M.queries[w],S=l.get(w);if(!E||E.status==="uninitialized")return;const{lowestPollingInterval:k,skipPollingIfUnfocused:R}=j(S);if(!Number.isFinite(k))return;const O=i.get(w);O?.timeout&&(clearTimeout(O.timeout),O.timeout=void 0);const T=Date.now()+k;i.set(w,{nextPollTimestamp:T,pollingInterval:k,timeout:setTimeout(()=>{(M.config.focused||!R)&&C.dispatch(s(E)),m({queryCacheKey:w},C)},k)})}function x({queryCacheKey:w},C){const E=C.getState()[t].queries[w],S=l.get(w);if(!E||E.status==="uninitialized")return;const{lowestPollingInterval:k}=j(S);if(!Number.isFinite(k)){y(w);return}const R=i.get(w),O=Date.now()+k;(!R||O<R.nextPollTimestamp)&&m({queryCacheKey:w},C)}function y(w){const C=i.get(w);C?.timeout&&clearTimeout(C.timeout),i.delete(w)}function b(){for(const w of i.keys())y(w)}function j(w=new Map){let C=!1,M=Number.POSITIVE_INFINITY;for(const E of w.values())E.pollingInterval&&(M=Math.min(E.pollingInterval,M),C=E.skipPollingIfUnfocused||C);return{lowestPollingInterval:M,skipPollingIfUnfocused:C}}return h},bz=({api:t,context:e,queryThunk:n,mutationThunk:s})=>{const r=Fb(n,s),i=hl(n,s),l=Fi(n,s),u={};return(h,p)=>{if(r(h)){const{requestId:m,arg:{endpointName:x,originalArgs:y}}=h.meta,b=e.endpointDefinitions[x],j=b?.onQueryStarted;if(j){const w={},C=new Promise((k,R)=>{w.resolve=k,w.reject=R});C.catch(()=>{}),u[m]=w;const M=t.endpoints[x].select(Ah(b)?y:m),E=p.dispatch((k,R,O)=>O),S={...p,getCacheEntry:()=>M(p.getState()),requestId:m,extra:E,updateCachedData:Ah(b)?k=>p.dispatch(t.util.updateQueryData(x,y,k)):void 0,queryFulfilled:C};j(y,S)}}else if(l(h)){const{requestId:m,baseQueryMeta:x}=h.meta;u[m]?.resolve({data:h.payload,meta:x}),delete u[m]}else if(i(h)){const{requestId:m,rejectedWithValue:x,baseQueryMeta:y}=h.meta;u[m]?.reject({error:h.payload??h.error,isUnhandledError:!x,meta:y}),delete u[m]}}},vz=({reducerPath:t,context:e,api:n,refetchQuery:s,internalState:r})=>{const{removeQueryResult:i}=n.internalActions,l=(d,h)=>{Fp.match(d)&&u(h,"refetchOnFocus"),qp.match(d)&&u(h,"refetchOnReconnect")};function u(d,h){const p=d.getState()[t],m=p.queries,x=r.currentSubscriptions;e.batch(()=>{for(const y of x.keys()){const b=m[y],j=x.get(y);if(!j||!b)continue;const w=[...j.values()];(w.some(M=>M[h]===!0)||w.every(M=>M[h]===void 0)&&p.config[h])&&(j.size===0?d.dispatch(i({queryCacheKey:y})):b.status!=="uninitialized"&&d.dispatch(s(b)))}})}return l};function wz(t){const{reducerPath:e,queryThunk:n,api:s,context:r,getInternalState:i}=t,{apiUid:l}=r,u={invalidateTags:Ms(`${e}/invalidateTags`)},d=x=>x.type.startsWith(`${e}/`),h=[gz,pz,xz,yz,mz,bz];return{middleware:x=>{let y=!1;const b=i(x.dispatch),j={...t,internalState:b,refetchQuery:m,isThisApiSliceAction:d,mwApi:x},w=h.map(E=>E(j)),C=fz(j),M=vz(j);return E=>S=>{if(!wM(S))return E(S);y||(y=!0,x.dispatch(s.internalActions.middlewareRegistered(l)));const k={...x,next:E},R=x.getState(),[O,T]=C(S,k,R);let D;if(O?D=E(S):D=T,x.getState()[e]&&(M(S,k,R),d(S)||r.hasRehydrationInfo(S)))for(const B of w)B(S,k,R);return D}},actions:u};function m(x){return t.api.endpoints[x.endpointName].initiate(x.originalArgs,{subscribe:!1,forceRefetch:!0})}}var sC=Symbol(),zM=({createSelector:t=$b}={})=>({name:sC,init(e,{baseQuery:n,tagTypes:s,reducerPath:r,serializeQueryArgs:i,keepUnusedDataFor:l,refetchOnMountOrArgChange:u,refetchOnFocus:d,refetchOnReconnect:h,invalidationBehavior:p,onSchemaFailure:m,catchSchemaFailure:x,skipSchemaValidation:y},b){dB();const j=me=>me;Object.assign(e,{reducerPath:r,endpoints:{},internalActions:{onOnline:qp,onOffline:Qb,onFocus:Fp,onFocusLost:Gb},util:{}});const w=dz({serializeQueryArgs:i,reducerPath:r,createSelector:t}),{selectInvalidatedBy:C,selectCachedArgsForQuery:M,buildQuerySelector:E,buildInfiniteQuerySelector:S,buildMutationSelector:k}=w;Mr(e.util,{selectInvalidatedBy:C,selectCachedArgsForQuery:M});const{queryThunk:R,infiniteQueryThunk:O,mutationThunk:T,patchQueryData:D,updateQueryData:B,upsertQueryData:L,prefetch:V,buildMatchThunkActions:F}=cz({baseQuery:n,reducerPath:r,context:b,api:e,serializeQueryArgs:i,assertTagType:j,selectors:w,onSchemaFailure:m,catchSchemaFailure:x,skipSchemaValidation:y}),{reducer:K,actions:re}=uz({context:b,queryThunk:R,mutationThunk:T,serializeQueryArgs:i,reducerPath:r,assertTagType:j,config:{refetchOnFocus:d,refetchOnReconnect:h,refetchOnMountOrArgChange:u,keepUnusedDataFor:l,reducerPath:r,invalidationBehavior:p}});Mr(e.util,{patchQueryData:D,updateQueryData:B,upsertQueryData:L,prefetch:V,resetApiState:re.resetApiState,upsertQueryEntries:re.cacheEntriesUpserted}),Mr(e.internalActions,re);const U=new WeakMap,H=me=>Mh(U,me,()=>({currentSubscriptions:new Map,currentPolls:new Map,runningQueries:new Map,runningMutations:new Map})),{buildInitiateQuery:ee,buildInitiateInfiniteQuery:ae,buildInitiateMutation:de,getRunningMutationThunk:z,getRunningMutationsThunk:J,getRunningQueriesThunk:se,getRunningQueryThunk:le}=lz({queryThunk:R,mutationThunk:T,infiniteQueryThunk:O,api:e,serializeQueryArgs:i,context:b,getInternalState:H});Mr(e.util,{getRunningMutationThunk:z,getRunningMutationsThunk:J,getRunningQueryThunk:le,getRunningQueriesThunk:se});const{middleware:fe,actions:ve}=wz({reducerPath:r,context:b,queryThunk:R,mutationThunk:T,infiniteQueryThunk:O,api:e,assertTagType:j,selectors:w,getRunningQueryThunk:le,getInternalState:H});return Mr(e.util,ve),Mr(e,{reducer:K,middleware:fe}),{name:sC,injectEndpoint(me,je){const Se=e,at=Se.endpoints[me]??={};Hp(je)&&Mr(at,{name:me,select:E(me,je),initiate:ee(me,je)},F(R,me)),iz(je)&&Mr(at,{name:me,select:k(),initiate:de(me)},F(T,me)),Kp(je)&&Mr(at,{name:me,select:S(me,je),initiate:ae(me,je)},F(R,me))}}}});zM();function Pf(t){return t.replace(t[0],t[0].toUpperCase())}function Nz(t){return t.type==="query"}function jz(t){return t.type==="mutation"}function IM(t){return t.type==="infinitequery"}function Lc(t,...e){return Object.assign(t,...e)}var cx=Symbol();function ux(t){const e=_.useRef(t),n=_.useMemo(()=>Hb(e.current,t),[t]);return _.useEffect(()=>{e.current!==n&&(e.current=n)},[n]),n}function Bf(t){const e=_.useRef(t);return _.useEffect(()=>{Yc(e.current,t)||(e.current=t)},[t]),Yc(e.current,t)?e.current:t}var Sz=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cz=Sz(),kz=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ez=kz(),Tz=()=>Cz||Ez?_.useLayoutEffect:_.useEffect,Mz=Tz(),rC=t=>t.isUninitialized?{...t,isUninitialized:!1,isFetching:!0,isLoading:t.data===void 0,status:DM.pending}:t;function dx(t,...e){const n={};return e.forEach(s=>{n[s]=t[s]}),n}var fx=["data","status","isLoading","isSuccess","isError","error"];function Az({api:t,moduleOptions:{batch:e,hooks:{useDispatch:n,useSelector:s,useStore:r},unstable__sideEffectsInRender:i,createSelector:l},serializeQueryArgs:u,context:d}){const h=i?S=>S():_.useEffect;return{buildQueryHooks:C,buildInfiniteQueryHooks:M,buildMutationHook:E,usePrefetch:x};function p(S,k,R){if(k?.endpointName&&S.isUninitialized){const{endpointName:V}=k,F=d.endpointDefinitions[V];R!==ks&&u({queryArgs:k.originalArgs,endpointDefinition:F,endpointName:V})===u({queryArgs:R,endpointDefinition:F,endpointName:V})&&(k=void 0)}let O=S.isSuccess?S.data:k?.data;O===void 0&&(O=S.data);const T=O!==void 0,D=S.isLoading,B=(!k||k.isLoading||k.isUninitialized)&&!T&&D,L=S.isSuccess||T&&(D&&!k?.isError||S.isUninitialized);return{...S,data:O,currentData:S.data,isFetching:D,isLoading:B,isSuccess:L}}function m(S,k,R){if(k?.endpointName&&S.isUninitialized){const{endpointName:V}=k,F=d.endpointDefinitions[V];R!==ks&&u({queryArgs:k.originalArgs,endpointDefinition:F,endpointName:V})===u({queryArgs:R,endpointDefinition:F,endpointName:V})&&(k=void 0)}let O=S.isSuccess?S.data:k?.data;O===void 0&&(O=S.data);const T=O!==void 0,D=S.isLoading,B=(!k||k.isLoading||k.isUninitialized)&&!T&&D,L=S.isSuccess||D&&T;return{...S,data:O,currentData:S.data,isFetching:D,isLoading:B,isSuccess:L}}function x(S,k){const R=n(),O=Bf(k);return _.useCallback((T,D)=>R(t.util.prefetch(S,T,{...O,...D})),[S,R,O])}function y(S,k,{refetchOnReconnect:R,refetchOnFocus:O,refetchOnMountOrArgChange:T,skip:D=!1,pollingInterval:B=0,skipPollingIfUnfocused:L=!1,...V}={}){const{initiate:F}=t.endpoints[S],K=n(),re=_.useRef(void 0);if(!re.current){const fe=K(t.internalActions.internal_getRTKQSubscriptions());re.current=fe}const U=ux(D?ks:k),H=Bf({refetchOnReconnect:R,refetchOnFocus:O,pollingInterval:B,skipPollingIfUnfocused:L}),ee=V.initialPageParam,ae=Bf(ee),de=_.useRef(void 0);let{queryCacheKey:z,requestId:J}=de.current||{},se=!1;z&&J&&(se=re.current.isRequestSubscribed(z,J));const le=!se&&de.current!==void 0;return h(()=>{le&&(de.current=void 0)},[le]),h(()=>{const fe=de.current;if(U===ks){fe?.unsubscribe(),de.current=void 0;return}const ve=de.current?.subscriptionOptions;if(!fe||fe.arg!==U){fe?.unsubscribe();const me=K(F(U,{subscriptionOptions:H,forceRefetch:T,...IM(d.endpointDefinitions[S])?{initialPageParam:ae}:{}}));de.current=me}else H!==ve&&fe.updateSubscriptionOptions(H)},[K,F,T,U,H,le,ae,S]),[de,K,F,H]}function b(S,k){return(O,{skip:T=!1,selectFromResult:D}={})=>{const{select:B}=t.endpoints[S],L=ux(T?ks:O),V=_.useRef(void 0),F=_.useMemo(()=>l([B(L),(ee,ae)=>ae,ee=>L],k,{memoizeOptions:{resultEqualityCheck:Yc}}),[B,L]),K=_.useMemo(()=>D?l([F],D,{devModeChecks:{identityFunctionCheck:"never"}}):F,[F,D]),re=s(ee=>K(ee,V.current),Yc),U=r(),H=F(U.getState(),V.current);return Mz(()=>{V.current=H},[H]),re}}function j(S){_.useEffect(()=>()=>{S.current?.unsubscribe?.(),S.current=void 0},[S])}function w(S){if(!S.current)throw new Error(As(38));return S.current.refetch()}function C(S){const k=(T,D={})=>{const[B]=y(S,T,D);return j(B),_.useMemo(()=>({refetch:()=>w(B)}),[B])},R=({refetchOnReconnect:T,refetchOnFocus:D,pollingInterval:B=0,skipPollingIfUnfocused:L=!1}={})=>{const{initiate:V}=t.endpoints[S],F=n(),[K,re]=_.useState(cx),U=_.useRef(void 0),H=Bf({refetchOnReconnect:T,refetchOnFocus:D,pollingInterval:B,skipPollingIfUnfocused:L});h(()=>{const z=U.current?.subscriptionOptions;H!==z&&U.current?.updateSubscriptionOptions(H)},[H]);const ee=_.useRef(H);h(()=>{ee.current=H},[H]);const ae=_.useCallback(function(z,J=!1){let se;return e(()=>{U.current?.unsubscribe(),U.current=se=F(V(z,{subscriptionOptions:ee.current,forceRefetch:!J})),re(z)}),se},[F,V]),de=_.useCallback(()=>{U.current?.queryCacheKey&&F(t.internalActions.removeQueryResult({queryCacheKey:U.current?.queryCacheKey}))},[F]);return _.useEffect(()=>()=>{U?.current?.unsubscribe()},[]),_.useEffect(()=>{K!==cx&&!U.current&&ae(K,!0)},[K,ae]),_.useMemo(()=>[ae,K,{reset:de}],[ae,K,de])},O=b(S,p);return{useQueryState:O,useQuerySubscription:k,useLazyQuerySubscription:R,useLazyQuery(T){const[D,B,{reset:L}]=R(T),V=O(B,{...T,skip:B===cx}),F=_.useMemo(()=>({lastArg:B}),[B]);return _.useMemo(()=>[D,{...V,reset:L},F],[D,V,L,F])},useQuery(T,D){const B=k(T,D),L=O(T,{selectFromResult:T===ks||D?.skip?void 0:rC,...D}),V=dx(L,...fx);return _.useDebugValue(V),_.useMemo(()=>({...L,...B}),[L,B])}}}function M(S){const k=(O,T={})=>{const[D,B,L,V]=y(S,O,T),F=_.useRef(V);h(()=>{F.current=V},[V]);const K=_.useCallback(function(H,ee){let ae;return e(()=>{D.current?.unsubscribe(),D.current=ae=B(L(H,{subscriptionOptions:F.current,direction:ee}))}),ae},[D,B,L]);j(D);const re=ux(T.skip?ks:O),U=_.useCallback(()=>w(D),[D]);return _.useMemo(()=>({trigger:K,refetch:U,fetchNextPage:()=>K(re,"forward"),fetchPreviousPage:()=>K(re,"backward")}),[U,K,re])},R=b(S,m);return{useInfiniteQueryState:R,useInfiniteQuerySubscription:k,useInfiniteQuery(O,T){const{refetch:D,fetchNextPage:B,fetchPreviousPage:L}=k(O,T),V=R(O,{selectFromResult:O===ks||T?.skip?void 0:rC,...T}),F=dx(V,...fx,"hasNextPage","hasPreviousPage");return _.useDebugValue(F),_.useMemo(()=>({...V,fetchNextPage:B,fetchPreviousPage:L,refetch:D}),[V,B,L,D])}}}function E(S){return({selectFromResult:k,fixedCacheKey:R}={})=>{const{select:O,initiate:T}=t.endpoints[S],D=n(),[B,L]=_.useState();_.useEffect(()=>()=>{B?.arg.fixedCacheKey||B?.reset()},[B]);const V=_.useCallback(function(z){const J=D(T(z,{fixedCacheKey:R}));return L(J),J},[D,T,R]),{requestId:F}=B||{},K=_.useMemo(()=>O({fixedCacheKey:R,requestId:B?.requestId}),[R,B,O]),re=_.useMemo(()=>k?l([K],k):K,[k,K]),U=s(re,Yc),H=R==null?B?.arg.originalArgs:void 0,ee=_.useCallback(()=>{e(()=>{B&&L(void 0),R&&D(t.internalActions.removeMutationResult({requestId:F,fixedCacheKey:R}))})},[D,R,B,F]),ae=dx(U,...fx,"endpointName");_.useDebugValue(ae);const de=_.useMemo(()=>({...U,originalArgs:H,reset:ee}),[U,H,ee]);return _.useMemo(()=>[V,de],[V,de])}}}var _z=Symbol(),Dz=({batch:t=YP,hooks:e={useDispatch:HP,useSelector:QP,useStore:yM},createSelector:n=$b,unstable__sideEffectsInRender:s=!1,...r}={})=>({name:_z,init(i,{serializeQueryArgs:l},u){const d=i,{buildQueryHooks:h,buildInfiniteQueryHooks:p,buildMutationHook:m,usePrefetch:x}=Az({api:i,moduleOptions:{batch:t,hooks:e,unstable__sideEffectsInRender:s,createSelector:n},serializeQueryArgs:l,context:u});return Lc(d,{usePrefetch:x}),Lc(u,{batch:t}),{injectEndpoint(y,b){if(Nz(b)){const{useQuery:j,useLazyQuery:w,useLazyQuerySubscription:C,useQueryState:M,useQuerySubscription:E}=h(y);Lc(d.endpoints[y],{useQuery:j,useLazyQuery:w,useLazyQuerySubscription:C,useQueryState:M,useQuerySubscription:E}),i[`use${Pf(y)}Query`]=j,i[`useLazy${Pf(y)}Query`]=w}if(jz(b)){const j=m(y);Lc(d.endpoints[y],{useMutation:j}),i[`use${Pf(y)}Mutation`]=j}else if(IM(b)){const{useInfiniteQuery:j,useInfiniteQuerySubscription:w,useInfiniteQueryState:C}=p(y);Lc(d.endpoints[y],{useInfiniteQuery:j,useInfiniteQuerySubscription:w,useInfiniteQueryState:C}),i[`use${Pf(y)}InfiniteQuery`]=j}}}}}),Oz=BM(zM(),Dz());const ah=Oz({reducerPath:"api",baseQuery:sz({baseUrl:"/api",prepareHeaders:t=>{const e=localStorage.getItem("auth_token");e&&t.set("authorization",`Bearer ${e}`);const n=localStorage.getItem("i18nextLng")||"en";return t.set("Accept-Language",n),t}}),tagTypes:["Course","Trip","Product","BlogPost","SocialInitiative","Event","TeamMember","Category","Setting","Banner","FooterLink","Booking"],endpoints:t=>({getCourses:t.query({query:e=>({url:"/courses",params:e}),providesTags:["Course"]}),getCourse:t.query({query:e=>`/courses/${e}`,providesTags:["Course"]}),createCourse:t.mutation({query:e=>({url:"/courses",method:"POST",body:e}),invalidatesTags:["Course"]}),updateCourse:t.mutation({query:({id:e,data:n})=>({url:`/courses/${e}`,method:"POST",body:n}),invalidatesTags:["Course"]}),deleteCourse:t.mutation({query:e=>({url:`/courses/${e}`,method:"DELETE"}),invalidatesTags:["Course"]}),getTrips:t.query({query:e=>({url:"/trips",params:e}),providesTags:["Trip"]}),getTrip:t.query({query:e=>`/trips/${e}`,providesTags:["Trip"]}),createTrip:t.mutation({query:e=>({url:"/trips",method:"POST",body:e}),invalidatesTags:["Trip"]}),updateTrip:t.mutation({query:({id:e,data:n})=>({url:`/trips/${e}`,method:"POST",body:n}),invalidatesTags:["Trip"]}),deleteTrip:t.mutation({query:e=>({url:`/trips/${e}`,method:"DELETE"}),invalidatesTags:["Trip"]}),getProducts:t.query({query:e=>({url:"/products",params:e}),providesTags:["Product"]}),getProduct:t.query({query:e=>`/products/${e}`,providesTags:["Product"]}),createProduct:t.mutation({query:e=>({url:"/products",method:"POST",body:e}),invalidatesTags:["Product"]}),updateProduct:t.mutation({query:({id:e,data:n})=>({url:`/products/${e}`,method:"POST",body:n}),invalidatesTags:["Product"]}),deleteProduct:t.mutation({query:e=>({url:`/products/${e}`,method:"DELETE"}),invalidatesTags:["Product"]}),getBlogPosts:t.query({query:e=>({url:"/blog-posts",params:e}),providesTags:["BlogPost"]}),getBlogPost:t.query({query:e=>`/blog-posts/${e}`,providesTags:["BlogPost"]}),createBlogPost:t.mutation({query:e=>({url:"/blog-posts",method:"POST",body:e}),invalidatesTags:["BlogPost"]}),updateBlogPost:t.mutation({query:({id:e,data:n})=>({url:`/blog-posts/${e}`,method:"POST",body:n}),invalidatesTags:["BlogPost"]}),deleteBlogPost:t.mutation({query:e=>({url:`/blog-posts/${e}`,method:"DELETE"}),invalidatesTags:["BlogPost"]}),getSocialInitiatives:t.query({query:e=>({url:"/social-initiatives",params:e}),providesTags:["SocialInitiative"]}),getSocialInitiative:t.query({query:e=>`/social-initiatives/${e}`,providesTags:["SocialInitiative"]}),createSocialInitiative:t.mutation({query:e=>({url:"/social-initiatives",method:"POST",body:e}),invalidatesTags:["SocialInitiative"]}),updateSocialInitiative:t.mutation({query:({id:e,data:n})=>({url:`/social-initiatives/${e}`,method:"POST",body:n}),invalidatesTags:["SocialInitiative"]}),deleteSocialInitiative:t.mutation({query:e=>({url:`/social-initiatives/${e}`,method:"DELETE"}),invalidatesTags:["SocialInitiative"]}),getEvents:t.query({query:e=>({url:"/events",params:e}),providesTags:["Event"]}),getEvent:t.query({query:e=>`/events/${e}`,providesTags:["Event"]}),createEvent:t.mutation({query:e=>({url:"/events",method:"POST",body:e}),invalidatesTags:["Event"]}),updateEvent:t.mutation({query:({id:e,data:n})=>({url:`/events/${e}`,method:"PUT",body:n}),invalidatesTags:["Event"]}),deleteEvent:t.mutation({query:e=>({url:`/events/${e}`,method:"DELETE"}),invalidatesTags:["Event"]}),getTeamMembers:t.query({query:e=>({url:"/team-members",params:e}),providesTags:["TeamMember"]}),getTeamMember:t.query({query:e=>`/team-members/${e}`,providesTags:["TeamMember"]}),getFeaturedInstructor:t.query({query:()=>"/team-members-featured",providesTags:["TeamMember","Setting"]}),createTeamMember:t.mutation({query:e=>({url:"/team-members",method:"POST",body:e}),invalidatesTags:["TeamMember"]}),updateTeamMember:t.mutation({query:({id:e,data:n})=>({url:`/team-members/${e}`,method:"POST",body:n}),invalidatesTags:["TeamMember"]}),deleteTeamMember:t.mutation({query:e=>({url:`/team-members/${e}`,method:"DELETE"}),invalidatesTags:["TeamMember"]}),getCategories:t.query({query:e=>({url:"/categories",params:e}),providesTags:["Category"]}),getCategory:t.query({query:e=>`/categories/${e}`,providesTags:["Category"]}),createCategory:t.mutation({query:e=>({url:"/categories",method:"POST",body:e}),invalidatesTags:["Category"]}),updateCategory:t.mutation({query:({id:e,data:n})=>({url:`/categories/${e}`,method:"PUT",body:n}),invalidatesTags:["Category"]}),deleteCategory:t.mutation({query:e=>({url:`/categories/${e}`,method:"DELETE"}),invalidatesTags:["Category"]}),getSettings:t.query({query:e=>({url:"/settings",params:e}),providesTags:["Setting"]}),getSetting:t.query({query:e=>`/settings/${e}`,providesTags:["Setting"]}),createSetting:t.mutation({query:e=>({url:"/settings",method:"POST",body:e}),invalidatesTags:["Setting"]}),updateSetting:t.mutation({query:({id:e,data:n})=>({url:`/settings/${e}`,method:"PUT",body:n}),invalidatesTags:["Setting"]}),deleteSetting:t.mutation({query:e=>({url:`/settings/${e}`,method:"DELETE"}),invalidatesTags:["Setting"]}),getBanners:t.query({query:e=>({url:"/banners",params:e}),providesTags:["Banner"]}),getBanner:t.query({query:e=>`/banners/${e}`,providesTags:["Banner"]}),createBanner:t.mutation({query:e=>({url:"/banners",method:"POST",body:e}),invalidatesTags:["Banner"]}),updateBanner:t.mutation({query:({id:e,data:n})=>({url:`/banners/${e}`,method:"POST",body:n}),invalidatesTags:["Banner"]}),deleteBanner:t.mutation({query:e=>({url:`/banners/${e}`,method:"DELETE"}),invalidatesTags:["Banner"]}),getFooterLinks:t.query({query:e=>({url:"/footer-links",params:e}),providesTags:["FooterLink"]}),getFooterLink:t.query({query:e=>`/footer-links/${e}`,providesTags:["FooterLink"]}),getFooterLinkBySlug:t.query({query:e=>`/footer-links/${e}`,providesTags:["FooterLink"]}),createFooterLink:t.mutation({query:e=>({url:"/footer-links",method:"POST",body:e}),invalidatesTags:["FooterLink"]}),updateFooterLink:t.mutation({query:({id:e,data:n})=>({url:`/footer-links/${e}`,method:"PUT",body:n}),invalidatesTags:["FooterLink"]}),deleteFooterLink:t.mutation({query:e=>({url:`/footer-links/${e}`,method:"DELETE"}),invalidatesTags:["FooterLink"]}),getBookings:t.query({query:e=>({url:"/bookings",params:e}),providesTags:["Booking"]}),getBooking:t.query({query:e=>`/bookings/${e}`,providesTags:["Booking"]}),createBooking:t.mutation({query:e=>({url:"/bookings",method:"POST",body:e}),invalidatesTags:["Booking"]}),updateBooking:t.mutation({query:({id:e,data:n})=>({url:`/bookings/${e}`,method:"PUT",body:n}),invalidatesTags:["Booking"]}),deleteBooking:t.mutation({query:e=>({url:`/bookings/${e}`,method:"DELETE"}),invalidatesTags:["Booking"]})})}),{useGetCoursesQuery:Gp,useGetCourseQuery:Rz,useCreateCourseMutation:VM,useUpdateCourseMutation:UM,useDeleteCourseMutation:Lz,useGetTripsQuery:Qp,useGetTripQuery:Pz,useCreateTripMutation:$M,useUpdateTripMutation:FM,useDeleteTripMutation:Bz,useGetProductsQuery:Yp,useGetProductQuery:zz,useCreateProductMutation:qM,useUpdateProductMutation:HM,useDeleteProductMutation:Iz,useGetBlogPostsQuery:Jp,useGetBlogPostQuery:KM,useCreateBlogPostMutation:GM,useUpdateBlogPostMutation:QM,useDeleteBlogPostMutation:Vz,useGetSocialInitiativesQuery:YM,useGetSocialInitiativeQuery:JM,useCreateSocialInitiativeMutation:XM,useUpdateSocialInitiativeMutation:WM,useDeleteSocialInitiativeMutation:Uz,useGetEventsQuery:Xp,useGetEventQuery:ZM,useCreateEventMutation:eA,useUpdateEventMutation:tA,useDeleteEventMutation:$z,useGetTeamMembersQuery:Jb,useGetTeamMemberQuery:Fz,useGetFeaturedInstructorQuery:qz,useCreateTeamMemberMutation:nA,useUpdateTeamMemberMutation:sA,useDeleteTeamMemberMutation:Hz,useGetCategoriesQuery:Ps,useGetSettingsQuery:Kz,useCreateSettingMutation:Gz,useUpdateSettingMutation:Qz,useGetBannersQuery:rA,useGetBannerQuery:Yz,useCreateBannerMutation:iA,useUpdateBannerMutation:aA,useDeleteBannerMutation:Jz,useGetFooterLinksQuery:oA,useGetFooterLinkQuery:Xz,useGetFooterLinkBySlugQuery:Wz,useCreateFooterLinkMutation:lA,useUpdateFooterLinkMutation:cA,useDeleteFooterLinkMutation:Zz,useGetBookingsQuery:eI,useCreateBookingMutation:tI,useUpdateBookingMutation:nI,useDeleteBookingMutation:sI}=ah,uA=AB({reducer:{[ah.reducerPath]:ah.reducer},middleware:t=>t().concat(ah.middleware)});rz(uA.dispatch);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iC="popstate";function rI(t={}){function e(s,r){let{pathname:i,search:l,hash:u}=s.location;return Ay("",{pathname:i,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:ju(r)}return aI(e,n,null,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iI(){return Math.random().toString(36).substring(2,10)}function aC(t,e){return{usr:t.state,key:t.key,idx:e}}function Ay(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Tl(e):e,state:n,key:e&&e.key||s||iI()}}function ju({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Tl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function aI(t,e,n,s={}){let{window:r=document.defaultView,v5Compat:i=!1}=s,l=r.history,u="POP",d=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function m(){u="POP";let w=p(),C=w==null?null:w-h;h=w,d&&d({action:u,location:j.location,delta:C})}function x(w,C){u="PUSH";let M=Ay(j.location,w,C);h=p()+1;let E=aC(M,h),S=j.createHref(M);try{l.pushState(E,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;r.location.assign(S)}i&&d&&d({action:u,location:j.location,delta:1})}function y(w,C){u="REPLACE";let M=Ay(j.location,w,C);h=p();let E=aC(M,h),S=j.createHref(M);l.replaceState(E,"",S),i&&d&&d({action:u,location:j.location,delta:0})}function b(w){return oI(w)}let j={get action(){return u},get location(){return t(r,l)},listen(w){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(iC,m),d=w,()=>{r.removeEventListener(iC,m),d=null}},createHref(w){return e(r,w)},createURL:b,encodeLocation(w){let C=b(w);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:y,go(w){return l.go(w)}};return j}function oI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:ju(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function dA(t,e,n="/"){return lI(t,e,n,!1)}function lI(t,e,n,s){let r=typeof e=="string"?Tl(e):e,i=qr(r.pathname||"/",n);if(i==null)return null;let l=fA(t);cI(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=vI(i);u=yI(l[d],h,s)}return u}function fA(t,e=[],n=[],s="",r=!1){let i=(l,u,d=r,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(s)&&d)return;mt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length)}let m=zr([s,p.relativePath]),x=n.concat(p);l.children&&l.children.length>0&&(mt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),fA(l.children,e,x,m,d)),!(l.path==null&&!l.index)&&e.push({path:m,score:gI(m,l.index),routesMeta:x})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))i(l,u);else for(let d of hA(l.path))i(l,u,!0,d)}),e}function hA(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let l=hA(s.join("/")),u=[];return u.push(...l.map(d=>d===""?i:[i,d].join("/"))),r&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function cI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xI(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var uI=/^:[\w-]+$/,dI=3,fI=2,hI=1,pI=10,mI=-2,oC=t=>t==="*";function gI(t,e){let n=t.split("/"),s=n.length;return n.some(oC)&&(s+=mI),e&&(s+=fI),n.filter(r=>!oC(r)).reduce((r,i)=>r+(uI.test(i)?dI:i===""?hI:pI),s)}function xI(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function yI(t,e,n=!1){let{routesMeta:s}=t,r={},i="/",l=[];for(let u=0;u<s.length;++u){let d=s[u],h=u===s.length-1,p=i==="/"?e:e.slice(i.length)||"/",m=_h({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),x=d.route;if(!m&&h&&n&&!s[s.length-1].route.index&&(m=_h({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(r,m.params),l.push({params:r,pathname:zr([i,m.pathname]),pathnameBase:SI(zr([i,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(i=zr([i,m.pathnameBase]))}return l}function _h(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=bI(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],l=i.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:s.reduce((h,{paramName:p,isOptional:m},x)=>{if(p==="*"){let b=u[x]||"";l=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const y=u[x];return m&&!y?h[p]=void 0:h[p]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:t}}function bI(t,e=!1,n=!0){tr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(s.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function vI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function qr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function wI(t,e="/"){let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?Tl(t):t;return{pathname:n?n.startsWith("/")?n:NI(n,e):e,search:CI(s),hash:kI(r)}}function NI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function hx(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pA(t){let e=jI(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function mA(t,e,n,s=!1){let r;typeof t=="string"?r=Tl(t):(r={...t},mt(!r.pathname||!r.pathname.includes("?"),hx("?","pathname","search",r)),mt(!r.pathname||!r.pathname.includes("#"),hx("#","pathname","hash",r)),mt(!r.search||!r.search.includes("#"),hx("#","search","hash",r)));let i=t===""||r.pathname==="",l=i?"/":r.pathname,u;if(l==null)u=n;else{let m=e.length-1;if(!s&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),m-=1;r.pathname=x.join("/")}u=m>=0?e[m]:"/"}let d=wI(r,u),h=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var zr=t=>t.join("/").replace(/\/\/+/g,"/"),SI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function EI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var gA=["POST","PUT","PATCH","DELETE"];new Set(gA);var TI=["GET",...gA];new Set(TI);var Ml=_.createContext(null);Ml.displayName="DataRouter";var Wp=_.createContext(null);Wp.displayName="DataRouterState";_.createContext(!1);var xA=_.createContext({isTransitioning:!1});xA.displayName="ViewTransition";var MI=_.createContext(new Map);MI.displayName="Fetchers";var AI=_.createContext(null);AI.displayName="Await";var ir=_.createContext(null);ir.displayName="Navigation";var Qu=_.createContext(null);Qu.displayName="Location";var Bs=_.createContext({outlet:null,matches:[],isDataRoute:!1});Bs.displayName="Route";var Xb=_.createContext(null);Xb.displayName="RouteError";function _I(t,{relative:e}={}){mt(Yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=_.useContext(ir),{hash:r,pathname:i,search:l}=Ju(t,{relative:e}),u=i;return n!=="/"&&(u=i==="/"?n:zr([n,i])),s.createHref({pathname:u,search:l,hash:r})}function Yu(){return _.useContext(Qu)!=null}function zs(){return mt(Yu(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Qu).location}var yA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bA(t){_.useContext(ir).static||_.useLayoutEffect(t)}function kt(){let{isDataRoute:t}=_.useContext(Bs);return t?KI():DI()}function DI(){mt(Yu(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(Ml),{basename:e,navigator:n}=_.useContext(ir),{matches:s}=_.useContext(Bs),{pathname:r}=zs(),i=JSON.stringify(pA(s)),l=_.useRef(!1);return bA(()=>{l.current=!0}),_.useCallback((d,h={})=>{if(tr(l.current,yA),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=mA(d,JSON.parse(i),r,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:zr([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,i,r,t])}var OI=_.createContext(null);function RI(t){let e=_.useContext(Bs).outlet;return _.useMemo(()=>e&&_.createElement(OI.Provider,{value:t},e),[e,t])}function Yn(){let{matches:t}=_.useContext(Bs),e=t[t.length-1];return e?e.params:{}}function Ju(t,{relative:e}={}){let{matches:n}=_.useContext(Bs),{pathname:s}=zs(),r=JSON.stringify(pA(n));return _.useMemo(()=>mA(t,JSON.parse(r),s,e==="path"),[t,r,s,e])}function LI(t,e){return vA(t,e)}function vA(t,e,n,s,r){mt(Yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=_.useContext(ir),{matches:l}=_.useContext(Bs),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let M=m&&m.path||"";wA(h,!m||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let x=zs(),y;if(e){let M=typeof e=="string"?Tl(e):e;mt(p==="/"||M.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${M.pathname}" was given in the \`location\` prop.`),y=M}else y=x;let b=y.pathname||"/",j=b;if(p!=="/"){let M=p.replace(/^\//,"").split("/");j="/"+b.replace(/^\//,"").split("/").slice(M.length).join("/")}let w=dA(t,{pathname:j});tr(m||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),tr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=VI(w&&w.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:zr([p,i.encodeLocation?i.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?p:zr([p,i.encodeLocation?i.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),l,n,s,r);return e&&C?_.createElement(Qu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},C):C}function PI(){let t=HI(),e=EI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:i},"ErrorBoundary")," or"," ",_.createElement("code",{style:i},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:r},n):null,l)}var BI=_.createElement(PI,null),zI=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?_.createElement(Bs.Provider,{value:this.props.routeContext},_.createElement(Xb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function II({routeContext:t,match:e,children:n}){let s=_.useContext(Ml);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(Bs.Provider,{value:t},n)}function VI(t,e=[],n=null,s=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,l=n?.errors;if(l!=null){let h=i.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);mt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let u=!1,d=-1;if(n)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:m,errors:x}=n,y=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||y){u=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((h,p,m)=>{let x,y=!1,b=null,j=null;n&&(x=l&&p.route.id?l[p.route.id]:void 0,b=p.route.errorElement||BI,u&&(d<0&&m===0?(wA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,j=null):d===m&&(y=!0,j=p.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,m+1)),C=()=>{let M;return x?M=b:y?M=j:p.route.Component?M=_.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=h,_.createElement(II,{match:p,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:M})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?_.createElement(zI,{location:n.location,revalidation:n.revalidation,component:b,error:x,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:s}):C()},null)}function Wb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UI(t){let e=_.useContext(Ml);return mt(e,Wb(t)),e}function $I(t){let e=_.useContext(Wp);return mt(e,Wb(t)),e}function FI(t){let e=_.useContext(Bs);return mt(e,Wb(t)),e}function Zb(t){let e=FI(t),n=e.matches[e.matches.length-1];return mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function qI(){return Zb("useRouteId")}function HI(){let t=_.useContext(Xb),e=$I("useRouteError"),n=Zb("useRouteError");return t!==void 0?t:e.errors?.[n]}function KI(){let{router:t}=UI("useNavigate"),e=Zb("useNavigate"),n=_.useRef(!1);return bA(()=>{n.current=!0}),_.useCallback(async(r,i={})=>{tr(n.current,yA),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...i}))},[t,e])}var lC={};function wA(t,e,n){!e&&!lC[t]&&(lC[t]=!0,tr(!1,n))}_.memo(GI);function GI({routes:t,future:e,state:n,unstable_onError:s}){return vA(t,void 0,n,s,e)}function QI(t){return RI(t.context)}function Me(t){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YI({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:r,static:i=!1}){mt(!Yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:r,static:i,future:{}}),[l,r,i]);typeof n=="string"&&(n=Tl(n));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:x="default"}=n,y=_.useMemo(()=>{let b=qr(d,l);return b==null?null:{location:{pathname:b,search:h,hash:p,state:m,key:x},navigationType:s}},[l,d,h,p,m,x,s]);return tr(y!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:_.createElement(ir.Provider,{value:u},_.createElement(Qu.Provider,{children:e,value:y}))}function cC({children:t,location:e}){return LI(_y(t),e)}function _y(t,e=[]){let n=[];return _.Children.forEach(t,(s,r)=>{if(!_.isValidElement(s))return;let i=[...e,r];if(s.type===_.Fragment){n.push.apply(n,_y(s.props.children,i));return}mt(s.type===Me,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let l={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=_y(s.props.children,i)),n.push(l)}),n}var oh="get",lh="application/x-www-form-urlencoded";function Zp(t){return t!=null&&typeof t.tagName=="string"}function JI(t){return Zp(t)&&t.tagName.toLowerCase()==="button"}function XI(t){return Zp(t)&&t.tagName.toLowerCase()==="form"}function WI(t){return Zp(t)&&t.tagName.toLowerCase()==="input"}function ZI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function e8(t,e){return t.button===0&&(!e||e==="_self")&&!ZI(t)}var zf=null;function t8(){if(zf===null)try{new FormData(document.createElement("form"),0),zf=!1}catch{zf=!0}return zf}var n8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function px(t){return t!=null&&!n8.has(t)?(tr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lh}"`),null):t}function s8(t,e){let n,s,r,i,l;if(XI(t)){let u=t.getAttribute("action");s=u?qr(u,e):null,n=t.getAttribute("method")||oh,r=px(t.getAttribute("enctype"))||lh,i=new FormData(t)}else if(JI(t)||WI(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(s=d?qr(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||oh,r=px(t.getAttribute("formenctype"))||px(u.getAttribute("enctype"))||lh,i=new FormData(u,t),!t8()){let{name:h,type:p,value:m}=t;if(p==="image"){let x=h?`${h}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else h&&i.append(h,m)}}else{if(Zp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=oh,s=null,r=lh,l=t}return i&&r==="text/plain"&&(l=i,i=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ev(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function r8(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&qr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function i8(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function a8(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function o8(t,e,n){let s=await Promise.all(t.map(async r=>{let i=e.routes[r.route.id];if(i){let l=await i8(i,n);return l.links?l.links():[]}return[]}));return d8(s.flat(1).filter(a8).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function uC(t,e,n,s,r,i){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,u=(d,h)=>n[h].pathname!==d.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==d.params["*"];return i==="assets"?e.filter((d,h)=>l(d,h)||u(d,h)):i==="data"?e.filter((d,h)=>{let p=s.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function l8(t,e,{includeHydrateFallback:n}={}){return c8(t.map(s=>{let r=e.routes[s.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function c8(t){return[...new Set(t)]}function u8(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function d8(t,e){let n=new Set;return new Set(e),t.reduce((s,r)=>{let i=JSON.stringify(u8(r));return n.has(i)||(n.add(i),s.push({key:i,link:r})),s},[])}function NA(){let t=_.useContext(Ml);return ev(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function f8(){let t=_.useContext(Wp);return ev(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var tv=_.createContext(void 0);tv.displayName="FrameworkContext";function jA(){let t=_.useContext(tv);return ev(t,"You must render this element inside a <HydratedRouter> element"),t}function h8(t,e){let n=_.useContext(tv),[s,r]=_.useState(!1),[i,l]=_.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:m}=e,x=_.useRef(null);_.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let j=C=>{C.forEach(M=>{l(M.isIntersecting)})},w=new IntersectionObserver(j,{threshold:.5});return x.current&&w.observe(x.current),()=>{w.disconnect()}}},[t]),_.useEffect(()=>{if(s){let j=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(j)}}},[s]);let y=()=>{r(!0)},b=()=>{r(!1),l(!1)};return n?t!=="intent"?[i,x,{}]:[i,x,{onFocus:Pc(u,y),onBlur:Pc(d,b),onMouseEnter:Pc(h,y),onMouseLeave:Pc(p,b),onTouchStart:Pc(m,y)}]:[!1,x,{}]}function Pc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function p8({page:t,...e}){let{router:n}=NA(),s=_.useMemo(()=>dA(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?_.createElement(g8,{page:t,matches:s,...e}):null}function m8(t){let{manifest:e,routeModules:n}=jA(),[s,r]=_.useState([]);return _.useEffect(()=>{let i=!1;return o8(t,e,n).then(l=>{i||r(l)}),()=>{i=!0}},[t,e,n]),s}function g8({page:t,matches:e,...n}){let s=zs(),{manifest:r,routeModules:i}=jA(),{basename:l}=NA(),{loaderData:u,matches:d}=f8(),h=_.useMemo(()=>uC(t,e,d,r,s,"data"),[t,e,d,r,s]),p=_.useMemo(()=>uC(t,e,d,r,s,"assets"),[t,e,d,r,s]),m=_.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let b=new Set,j=!1;if(e.forEach(C=>{let M=r.routes[C.route.id];!M||!M.hasLoader||(!h.some(E=>E.route.id===C.route.id)&&C.route.id in u&&i[C.route.id]?.shouldRevalidate||M.hasClientLoader?j=!0:b.add(C.route.id))}),b.size===0)return[];let w=r8(t,l,"data");return j&&b.size>0&&w.searchParams.set("_routes",e.filter(C=>b.has(C.route.id)).map(C=>C.route.id).join(",")),[w.pathname+w.search]},[l,u,s,r,h,e,t,i]),x=_.useMemo(()=>l8(p,r),[p,r]),y=m8(p);return _.createElement(_.Fragment,null,m.map(b=>_.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),x.map(b=>_.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),y.map(({key:b,link:j})=>_.createElement("link",{key:b,nonce:n.nonce,...j})))}function x8(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var SA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{SA&&(window.__reactRouterVersion="7.9.4")}catch{}function y8({basename:t,children:e,window:n}){let s=_.useRef();s.current==null&&(s.current=rI({window:n,v5Compat:!0}));let r=s.current,[i,l]=_.useState({action:r.action,location:r.location}),u=_.useCallback(d=>{_.startTransition(()=>l(d))},[l]);return _.useLayoutEffect(()=>r.listen(u),[r,u]),_.createElement(YI,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:r})}var CA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Be=_.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:r,reloadDocument:i,replace:l,state:u,target:d,to:h,preventScrollReset:p,viewTransition:m,...x},y){let{basename:b}=_.useContext(ir),j=typeof h=="string"&&CA.test(h),w,C=!1;if(typeof h=="string"&&j&&(w=h,SA))try{let D=new URL(window.location.href),B=h.startsWith("//")?new URL(D.protocol+h):new URL(h),L=qr(B.pathname,b);B.origin===D.origin&&L!=null?h=L+B.search+B.hash:C=!0}catch{tr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=_I(h,{relative:r}),[E,S,k]=h8(s,x),R=N8(h,{replace:l,state:u,target:d,preventScrollReset:p,relative:r,viewTransition:m});function O(D){e&&e(D),D.defaultPrevented||R(D)}let T=_.createElement("a",{...x,...k,href:w||M,onClick:C||i?e:O,ref:x8(y,S),target:d,"data-discover":!j&&n==="render"?"true":void 0});return E&&!j?_.createElement(_.Fragment,null,T,_.createElement(p8,{page:M})):T});Be.displayName="Link";var b8=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:r=!1,style:i,to:l,viewTransition:u,children:d,...h},p){let m=Ju(l,{relative:h.relative}),x=zs(),y=_.useContext(Wp),{navigator:b,basename:j}=_.useContext(ir),w=y!=null&&E8(m)&&u===!0,C=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,M=x.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(M=M.toLowerCase(),E=E?E.toLowerCase():null,C=C.toLowerCase()),E&&j&&(E=qr(E,j)||E);const S=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let k=M===C||!r&&M.startsWith(C)&&M.charAt(S)==="/",R=E!=null&&(E===C||!r&&E.startsWith(C)&&E.charAt(C.length)==="/"),O={isActive:k,isPending:R,isTransitioning:w},T=k?e:void 0,D;typeof s=="function"?D=s(O):D=[s,k?"active":null,R?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let B=typeof i=="function"?i(O):i;return _.createElement(Be,{...h,"aria-current":T,className:D,ref:p,style:B,to:l,viewTransition:u},typeof d=="function"?d(O):d)});b8.displayName="NavLink";var v8=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:r,state:i,method:l=oh,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:m,...x},y)=>{let b=C8(),j=k8(u,{relative:h}),w=l.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&CA.test(u),M=E=>{if(d&&d(E),E.defaultPrevented)return;E.preventDefault();let S=E.nativeEvent.submitter,k=S?.getAttribute("formmethod")||l;b(S||E.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:r,state:i,relative:h,preventScrollReset:p,viewTransition:m})};return _.createElement("form",{ref:y,method:w,action:j,onSubmit:s?d:M,...x,"data-discover":!C&&t==="render"?"true":void 0})});v8.displayName="Form";function w8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kA(t){let e=_.useContext(Ml);return mt(e,w8(t)),e}function N8(t,{target:e,replace:n,state:s,preventScrollReset:r,relative:i,viewTransition:l}={}){let u=kt(),d=zs(),h=Ju(t,{relative:i});return _.useCallback(p=>{if(e8(p,e)){p.preventDefault();let m=n!==void 0?n:ju(d)===ju(h);u(t,{replace:m,state:s,preventScrollReset:r,relative:i,viewTransition:l})}},[d,u,h,n,s,e,t,r,i,l])}var j8=0,S8=()=>`__${String(++j8)}__`;function C8(){let{router:t}=kA("useSubmit"),{basename:e}=_.useContext(ir),n=qI();return _.useCallback(async(s,r={})=>{let{action:i,method:l,encType:u,formData:d,body:h}=s8(s,e);if(r.navigate===!1){let p=r.fetcherKey||S8();await t.fetch(p,n,r.action||i,{preventScrollReset:r.preventScrollReset,formData:d,body:h,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await t.navigate(r.action||i,{preventScrollReset:r.preventScrollReset,formData:d,body:h,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function k8(t,{relative:e}={}){let{basename:n}=_.useContext(ir),s=_.useContext(Bs);mt(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),i={...Ju(t||".",{relative:e})},l=zs();if(t==null){i.search=l.search;let u=new URLSearchParams(i.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();i.search=p?`?${p}`:""}}return(!t||t===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:zr([n,i.pathname])),ju(i)}function E8(t,{relative:e}={}){let n=_.useContext(xA);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=kA("useViewTransitionState"),r=Ju(t,{relative:e});if(!n.isTransitioning)return!1;let i=qr(n.currentLocation.pathname,s)||n.currentLocation.pathname,l=qr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return _h(r.pathname,l)!=null||_h(r.pathname,i)!=null}var T8=pM();const M8=MT(T8);let A8={data:""},_8=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||A8},D8=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,O8=/\/\*[^]*?\*\/|  +/g,dC=/\n+/g,Ai=(t,e)=>{let n="",s="",r="";for(let i in t){let l=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+l+";":s+=i[1]=="f"?Ai(l,i):i+"{"+Ai(l,i[1]=="k"?"":e)+"}":typeof l=="object"?s+=Ai(l,e?e.replace(/([^,])+/g,u=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,u):u?u+" "+d:d)):i):l!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Ai.p?Ai.p(i,l):i+":"+l+";")}return n+(e&&r?e+"{"+r+"}":r)+s},Ar={},EA=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+EA(t[n]);return e}return t},R8=(t,e,n,s,r)=>{let i=EA(t),l=Ar[i]||(Ar[i]=(d=>{let h=0,p=11;for(;h<d.length;)p=101*p+d.charCodeAt(h++)>>>0;return"go"+p})(i));if(!Ar[l]){let d=i!==t?t:(h=>{let p,m,x=[{}];for(;p=D8.exec(h.replace(O8,""));)p[4]?x.shift():p[3]?(m=p[3].replace(dC," ").trim(),x.unshift(x[0][m]=x[0][m]||{})):x[0][p[1]]=p[2].replace(dC," ").trim();return x[0]})(t);Ar[l]=Ai(r?{["@keyframes "+l]:d}:d,n?"":"."+l)}let u=n&&Ar.g?Ar.g:null;return n&&(Ar.g=Ar[l]),((d,h,p,m)=>{m?h.data=h.data.replace(m,d):h.data.indexOf(d)===-1&&(h.data=p?d+h.data:h.data+d)})(Ar[l],e,s,u),l},L8=(t,e,n)=>t.reduce((s,r,i)=>{let l=e[i];if(l&&l.call){let u=l(n),d=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=d?"."+d:u&&typeof u=="object"?u.props?"":Ai(u,""):u===!1?"":u}return s+r+(l??"")},"");function em(t){let e=this||{},n=t.call?t(e.p):t;return R8(n.unshift?n.raw?L8(n,[].slice.call(arguments,1),e.p):n.reduce((s,r)=>Object.assign(s,r&&r.call?r(e.p):r),{}):n,_8(e.target),e.g,e.o,e.k)}let TA,Dy,Oy;em.bind({g:1});let Hr=em.bind({k:1});function P8(t,e,n,s){Ai.p=e,TA=t,Dy=n,Oy=s}function Yi(t,e){let n=this||{};return function(){let s=arguments;function r(i,l){let u=Object.assign({},i),d=u.className||r.className;n.p=Object.assign({theme:Dy&&Dy()},u),n.o=/ *go\d+/.test(d),u.className=em.apply(n,s)+(d?" "+d:"");let h=t;return t[0]&&(h=u.as||t,delete u.as),Oy&&h[0]&&Oy(u),TA(h,u)}return r}}var B8=t=>typeof t=="function",Dh=(t,e)=>B8(t)?t(e):t,z8=(()=>{let t=0;return()=>(++t).toString()})(),MA=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),I8=20,nv="default",AA=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:s}=e;return AA(t,{type:t.toasts.find(l=>l.id===s.id)?1:0,toast:s});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(l=>l.id===r||r===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+i}))}}},ch=[],_A={toasts:[],pausedAt:void 0,settings:{toastLimit:I8}},Ys={},DA=(t,e=nv)=>{Ys[e]=AA(Ys[e]||_A,t),ch.forEach(([n,s])=>{n===e&&s(Ys[e])})},OA=t=>Object.keys(Ys).forEach(e=>DA(t,e)),V8=t=>Object.keys(Ys).find(e=>Ys[e].toasts.some(n=>n.id===t)),tm=(t=nv)=>e=>{DA(e,t)},U8={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},$8=(t={},e=nv)=>{let[n,s]=_.useState(Ys[e]||_A),r=_.useRef(Ys[e]);_.useEffect(()=>(r.current!==Ys[e]&&s(Ys[e]),ch.push([e,s]),()=>{let l=ch.findIndex(([u])=>u===e);l>-1&&ch.splice(l,1)}),[e]);let i=n.toasts.map(l=>{var u,d,h;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((u=t[l.type])==null?void 0:u.removeDelay)||t?.removeDelay,duration:l.duration||((d=t[l.type])==null?void 0:d.duration)||t?.duration||U8[l.type],style:{...t.style,...(h=t[l.type])==null?void 0:h.style,...l.style}}});return{...n,toasts:i}},F8=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||z8()}),Xu=t=>(e,n)=>{let s=F8(e,t,n);return tm(s.toasterId||V8(s.id))({type:2,toast:s}),s.id},zt=(t,e)=>Xu("blank")(t,e);zt.error=Xu("error");zt.success=Xu("success");zt.loading=Xu("loading");zt.custom=Xu("custom");zt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?tm(e)(n):OA(n)};zt.dismissAll=t=>zt.dismiss(void 0,t);zt.remove=(t,e)=>{let n={type:4,toastId:t};e?tm(e)(n):OA(n)};zt.removeAll=t=>zt.remove(void 0,t);zt.promise=(t,e,n)=>{let s=zt.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(r=>{let i=e.success?Dh(e.success,r):void 0;return i?zt.success(i,{id:s,...n,...n?.success}):zt.dismiss(s),r}).catch(r=>{let i=e.error?Dh(e.error,r):void 0;i?zt.error(i,{id:s,...n,...n?.error}):zt.dismiss(s)}),t};var q8=1e3,H8=(t,e="default")=>{let{toasts:n,pausedAt:s}=$8(t,e),r=_.useRef(new Map).current,i=_.useCallback((m,x=q8)=>{if(r.has(m))return;let y=setTimeout(()=>{r.delete(m),l({type:4,toastId:m})},x);r.set(m,y)},[]);_.useEffect(()=>{if(s)return;let m=Date.now(),x=n.map(y=>{if(y.duration===1/0)return;let b=(y.duration||0)+y.pauseDuration-(m-y.createdAt);if(b<0){y.visible&&zt.dismiss(y.id);return}return setTimeout(()=>zt.dismiss(y.id,e),b)});return()=>{x.forEach(y=>y&&clearTimeout(y))}},[n,s,e]);let l=_.useCallback(tm(e),[e]),u=_.useCallback(()=>{l({type:5,time:Date.now()})},[l]),d=_.useCallback((m,x)=>{l({type:1,toast:{id:m,height:x}})},[l]),h=_.useCallback(()=>{s&&l({type:6,time:Date.now()})},[s,l]),p=_.useCallback((m,x)=>{let{reverseOrder:y=!1,gutter:b=8,defaultPosition:j}=x||{},w=n.filter(E=>(E.position||j)===(m.position||j)&&E.height),C=w.findIndex(E=>E.id===m.id),M=w.filter((E,S)=>S<C&&E.visible).length;return w.filter(E=>E.visible).slice(...y?[M+1]:[0,M]).reduce((E,S)=>E+(S.height||0)+b,0)},[n]);return _.useEffect(()=>{n.forEach(m=>{if(m.dismissed)i(m.id,m.removeDelay);else{let x=r.get(m.id);x&&(clearTimeout(x),r.delete(m.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:d,startPause:u,endPause:h,calculateOffset:p}}},K8=Hr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,G8=Hr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Q8=Hr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Y8=Yi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${K8} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${G8} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Q8} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,J8=Hr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,X8=Yi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${J8} 1s linear infinite;
`,W8=Hr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Z8=Hr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,eV=Yi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${W8} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Z8} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,tV=Yi("div")`
  position: absolute;
`,nV=Yi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,sV=Hr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rV=Yi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${sV} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,iV=({toast:t})=>{let{icon:e,type:n,iconTheme:s}=t;return e!==void 0?typeof e=="string"?_.createElement(rV,null,e):e:n==="blank"?null:_.createElement(nV,null,_.createElement(X8,{...s}),n!=="loading"&&_.createElement(tV,null,n==="error"?_.createElement(Y8,{...s}):_.createElement(eV,{...s})))},aV=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,oV=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,lV="0%{opacity:0;} 100%{opacity:1;}",cV="0%{opacity:1;} 100%{opacity:0;}",uV=Yi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,dV=Yi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,fV=(t,e)=>{let n=t.includes("top")?1:-1,[s,r]=MA()?[lV,cV]:[aV(n),oV(n)];return{animation:e?`${Hr(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Hr(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},hV=_.memo(({toast:t,position:e,style:n,children:s})=>{let r=t.height?fV(t.position||e||"top-center",t.visible):{opacity:0},i=_.createElement(iV,{toast:t}),l=_.createElement(dV,{...t.ariaProps},Dh(t.message,t));return _.createElement(uV,{className:t.className,style:{...r,...n,...t.style}},typeof s=="function"?s({icon:i,message:l}):_.createElement(_.Fragment,null,i,l))});P8(_.createElement);var pV=({id:t,className:e,style:n,onHeightUpdate:s,children:r})=>{let i=_.useCallback(l=>{if(l){let u=()=>{let d=l.getBoundingClientRect().height;s(t,d)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return _.createElement("div",{ref:i,className:e,style:n},r)},mV=(t,e)=>{let n=t.includes("top"),s=n?{top:0}:{bottom:0},r=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:MA()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...r}},gV=em`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,If=16,xV=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:s,children:r,toasterId:i,containerStyle:l,containerClassName:u})=>{let{toasts:d,handlers:h}=H8(n,i);return _.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:If,left:If,right:If,bottom:If,pointerEvents:"none",...l},className:u,onMouseEnter:h.startPause,onMouseLeave:h.endPause},d.map(p=>{let m=p.position||e,x=h.calculateOffset(p,{reverseOrder:t,gutter:s,defaultPosition:e}),y=mV(m,x);return _.createElement(pV,{id:p.id,key:p.id,onHeightUpdate:h.updateHeight,className:p.visible?gV:"",style:y},p.type==="custom"?Dh(p.message,p):r?r(p):_.createElement(hV,{toast:p,position:m}))}))},oe=zt;const sv=_.createContext({});function rv(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const iv=typeof window<"u",RA=iv?_.useLayoutEffect:_.useEffect,nm=_.createContext(null);function av(t,e){t.indexOf(e)===-1&&t.push(e)}function ov(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Kr=(t,e,n)=>n>e?e:n<t?t:n;let lv=()=>{};const Gr={},LA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function PA(t){return typeof t=="object"&&t!==null}const BA=t=>/^0[^.\s]+$/u.test(t);function cv(t){let e;return()=>(e===void 0&&(e=t()),e)}const xs=t=>t,yV=(t,e)=>n=>e(t(n)),Wu=(...t)=>t.reduce(yV),Su=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class uv{constructor(){this.subscriptions=[]}add(e){return av(this.subscriptions,e),()=>ov(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const l=this.subscriptions[i];l&&l(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xs=t=>t*1e3,gs=t=>t/1e3;function zA(t,e){return e?t*(1e3/e):0}const IA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,bV=1e-7,vV=12;function wV(t,e,n,s,r){let i,l,u=0;do l=e+(n-e)/2,i=IA(l,s,r)-t,i>0?n=l:e=l;while(Math.abs(i)>bV&&++u<vV);return l}function Zu(t,e,n,s){if(t===e&&n===s)return xs;const r=i=>wV(i,0,1,t,n);return i=>i===0||i===1?i:IA(r(i),e,s)}const VA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,UA=t=>e=>1-t(1-e),$A=Zu(.33,1.53,.69,.99),dv=UA($A),FA=VA(dv),qA=t=>(t*=2)<1?.5*dv(t):.5*(2-Math.pow(2,-10*(t-1))),fv=t=>1-Math.sin(Math.acos(t)),HA=UA(fv),KA=VA(fv),NV=Zu(.42,0,1,1),jV=Zu(0,0,.58,1),GA=Zu(.42,0,.58,1),SV=t=>Array.isArray(t)&&typeof t[0]!="number",QA=t=>Array.isArray(t)&&typeof t[0]=="number",CV={linear:xs,easeIn:NV,easeInOut:GA,easeOut:jV,circIn:fv,circInOut:KA,circOut:HA,backIn:dv,backInOut:FA,backOut:$A,anticipate:qA},kV=t=>typeof t=="string",fC=t=>{if(QA(t)){lv(t.length===4);const[e,n,s,r]=t;return Zu(e,n,s,r)}else if(kV(t))return CV[t];return t},Vf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function EV(t,e){let n=new Set,s=new Set,r=!1,i=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(p){l.has(p)&&(h.schedule(p),t()),p(u)}const h={schedule:(p,m=!1,x=!1)=>{const b=x&&r?n:s;return m&&l.add(p),b.has(p)||b.add(p),p},cancel:p=>{s.delete(p),l.delete(p)},process:p=>{if(u=p,r){i=!0;return}r=!0,[n,s]=[s,n],n.forEach(d),n.clear(),r=!1,i&&(i=!1,h.process(p))}};return h}const TV=40;function YA(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,l=Vf.reduce((E,S)=>(E[S]=EV(i),E),{}),{setup:u,read:d,resolveKeyframes:h,preUpdate:p,update:m,preRender:x,render:y,postRender:b}=l,j=()=>{const E=Gr.useManualTiming?r.timestamp:performance.now();n=!1,Gr.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(E-r.timestamp,TV),1)),r.timestamp=E,r.isProcessing=!0,u.process(r),d.process(r),h.process(r),p.process(r),m.process(r),x.process(r),y.process(r),b.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(j))},w=()=>{n=!0,s=!0,r.isProcessing||t(j)};return{schedule:Vf.reduce((E,S)=>{const k=l[S];return E[S]=(R,O=!1,T=!1)=>(n||w(),k.schedule(R,O,T)),E},{}),cancel:E=>{for(let S=0;S<Vf.length;S++)l[Vf[S]].cancel(E)},state:r,steps:l}}const{schedule:ft,cancel:qi,state:nn,steps:mx}=YA(typeof requestAnimationFrame<"u"?requestAnimationFrame:xs,!0);let uh;function MV(){uh=void 0}const Tn={now:()=>(uh===void 0&&Tn.set(nn.isProcessing||Gr.useManualTiming?nn.timestamp:performance.now()),uh),set:t=>{uh=t,queueMicrotask(MV)}},JA=t=>e=>typeof e=="string"&&e.startsWith(t),hv=JA("--"),AV=JA("var(--"),pv=t=>AV(t)?_V.test(t.split("/*")[0].trim()):!1,_V=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Al={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Cu={...Al,transform:t=>Kr(0,1,t)},Uf={...Al,default:1},Wc=t=>Math.round(t*1e5)/1e5,mv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function DV(t){return t==null}const OV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gv=(t,e)=>n=>!!(typeof n=="string"&&OV.test(n)&&n.startsWith(t)||e&&!DV(n)&&Object.prototype.hasOwnProperty.call(n,e)),XA=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,i,l,u]=s.match(mv);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},RV=t=>Kr(0,255,t),gx={...Al,transform:t=>Math.round(RV(t))},ka={test:gv("rgb","red"),parse:XA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+gx.transform(t)+", "+gx.transform(e)+", "+gx.transform(n)+", "+Wc(Cu.transform(s))+")"};function LV(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Ry={test:gv("#"),parse:LV,transform:ka.transform},ed=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ji=ed("deg"),Ws=ed("%"),Ce=ed("px"),PV=ed("vh"),BV=ed("vw"),hC={...Ws,parse:t=>Ws.parse(t)/100,transform:t=>Ws.transform(t*100)},el={test:gv("hsl","hue"),parse:XA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Ws.transform(Wc(e))+", "+Ws.transform(Wc(n))+", "+Wc(Cu.transform(s))+")"},Dt={test:t=>ka.test(t)||Ry.test(t)||el.test(t),parse:t=>ka.test(t)?ka.parse(t):el.test(t)?el.parse(t):Ry.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ka.transform(t):el.transform(t),getAnimatableNone:t=>{const e=Dt.parse(t);return e.alpha=0,Dt.transform(e)}},zV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function IV(t){return isNaN(t)&&typeof t=="string"&&(t.match(mv)?.length||0)+(t.match(zV)?.length||0)>0}const WA="number",ZA="color",VV="var",UV="var(",pC="${}",$V=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ku(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const u=e.replace($V,d=>(Dt.test(d)?(s.color.push(i),r.push(ZA),n.push(Dt.parse(d))):d.startsWith(UV)?(s.var.push(i),r.push(VV),n.push(d)):(s.number.push(i),r.push(WA),n.push(parseFloat(d))),++i,pC)).split(pC);return{values:n,split:u,indexes:s,types:r}}function e_(t){return ku(t).values}function t_(t){const{split:e,types:n}=ku(t),s=e.length;return r=>{let i="";for(let l=0;l<s;l++)if(i+=e[l],r[l]!==void 0){const u=n[l];u===WA?i+=Wc(r[l]):u===ZA?i+=Dt.transform(r[l]):i+=r[l]}return i}}const FV=t=>typeof t=="number"?0:Dt.test(t)?Dt.getAnimatableNone(t):t;function qV(t){const e=e_(t);return t_(t)(e.map(FV))}const Hi={test:IV,parse:e_,createTransformer:t_,getAnimatableNone:qV};function xx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function HV({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,l=0;if(!e)r=i=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,d=2*n-u;r=xx(d,u,t+1/3),i=xx(d,u,t),l=xx(d,u,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:s}}function Oh(t,e){return n=>n>0?e:t}const pt=(t,e,n)=>t+(e-t)*n,yx=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},KV=[Ry,ka,el],GV=t=>KV.find(e=>e.test(t));function mC(t){const e=GV(t);if(!e)return!1;let n=e.parse(t);return e===el&&(n=HV(n)),n}const gC=(t,e)=>{const n=mC(t),s=mC(e);if(!n||!s)return Oh(t,e);const r={...n};return i=>(r.red=yx(n.red,s.red,i),r.green=yx(n.green,s.green,i),r.blue=yx(n.blue,s.blue,i),r.alpha=pt(n.alpha,s.alpha,i),ka.transform(r))},Ly=new Set(["none","hidden"]);function QV(t,e){return Ly.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function YV(t,e){return n=>pt(t,e,n)}function xv(t){return typeof t=="number"?YV:typeof t=="string"?pv(t)?Oh:Dt.test(t)?gC:WV:Array.isArray(t)?n_:typeof t=="object"?Dt.test(t)?gC:JV:Oh}function n_(t,e){const n=[...t],s=n.length,r=t.map((i,l)=>xv(i)(i,e[l]));return i=>{for(let l=0;l<s;l++)n[l]=r[l](i);return n}}function JV(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=xv(t[r])(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function XV(t,e){const n=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const i=e.types[r],l=t.indexes[i][s[i]],u=t.values[l]??0;n[r]=u,s[i]++}return n}const WV=(t,e)=>{const n=Hi.createTransformer(e),s=ku(t),r=ku(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?Ly.has(t)&&!r.values.length||Ly.has(e)&&!s.values.length?QV(t,e):Wu(n_(XV(s,r),r.values),n):Oh(t,e)};function s_(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?pt(t,e,n):xv(t)(t,e)}const ZV=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ft.update(e,n),stop:()=>qi(e),now:()=>nn.isProcessing?nn.timestamp:Tn.now()}},r_=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let i=0;i<r;i++)s+=Math.round(t(i/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Rh=2e4;function yv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Rh;)e+=n,s=t.next(e);return e>=Rh?1/0:e}function e7(t,e=100,n){const s=n({...t,keyframes:[0,e]}),r=Math.min(yv(s),Rh);return{type:"keyframes",ease:i=>s.next(r*i).value/e,duration:gs(r)}}const t7=5;function i_(t,e,n){const s=Math.max(e-t7,0);return zA(n-t(s),e-s)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bx=.001;function n7({duration:t=vt.duration,bounce:e=vt.bounce,velocity:n=vt.velocity,mass:s=vt.mass}){let r,i,l=1-e;l=Kr(vt.minDamping,vt.maxDamping,l),t=Kr(vt.minDuration,vt.maxDuration,gs(t)),l<1?(r=h=>{const p=h*l,m=p*t,x=p-n,y=Py(h,l),b=Math.exp(-m);return bx-x/y*b},i=h=>{const m=h*l*t,x=m*n+n,y=Math.pow(l,2)*Math.pow(h,2)*t,b=Math.exp(-m),j=Py(Math.pow(h,2),l);return(-r(h)+bx>0?-1:1)*((x-y)*b)/j}):(r=h=>{const p=Math.exp(-h*t),m=(h-n)*t+1;return-bx+p*m},i=h=>{const p=Math.exp(-h*t),m=(n-h)*(t*t);return p*m});const u=5/t,d=r7(r,i,u);if(t=Xs(t),isNaN(d))return{stiffness:vt.stiffness,damping:vt.damping,duration:t};{const h=Math.pow(d,2)*s;return{stiffness:h,damping:l*2*Math.sqrt(s*h),duration:t}}}const s7=12;function r7(t,e,n){let s=n;for(let r=1;r<s7;r++)s=s-t(s)/e(s);return s}function Py(t,e){return t*Math.sqrt(1-e*e)}const i7=["duration","bounce"],a7=["stiffness","damping","mass"];function xC(t,e){return e.some(n=>t[n]!==void 0)}function o7(t){let e={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...t};if(!xC(t,a7)&&xC(t,i7))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*Kr(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:vt.mass,stiffness:r,damping:i}}else{const n=n7(t);e={...e,...n,mass:vt.mass},e.isResolvedFromDuration=!0}return e}function Lh(t=vt.visualDuration,e=vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:i},{stiffness:d,damping:h,mass:p,duration:m,velocity:x,isResolvedFromDuration:y}=o7({...n,velocity:-gs(n.velocity||0)}),b=x||0,j=h/(2*Math.sqrt(d*p)),w=l-i,C=gs(Math.sqrt(d/p)),M=Math.abs(w)<5;s||(s=M?vt.restSpeed.granular:vt.restSpeed.default),r||(r=M?vt.restDelta.granular:vt.restDelta.default);let E;if(j<1){const k=Py(C,j);E=R=>{const O=Math.exp(-j*C*R);return l-O*((b+j*C*w)/k*Math.sin(k*R)+w*Math.cos(k*R))}}else if(j===1)E=k=>l-Math.exp(-C*k)*(w+(b+C*w)*k);else{const k=C*Math.sqrt(j*j-1);E=R=>{const O=Math.exp(-j*C*R),T=Math.min(k*R,300);return l-O*((b+j*C*w)*Math.sinh(T)+k*w*Math.cosh(T))/k}}const S={calculatedDuration:y&&m||null,next:k=>{const R=E(k);if(y)u.done=k>=m;else{let O=k===0?b:0;j<1&&(O=k===0?Xs(b):i_(E,k,R));const T=Math.abs(O)<=s,D=Math.abs(l-R)<=r;u.done=T&&D}return u.value=u.done?l:R,u},toString:()=>{const k=Math.min(yv(S),Rh),R=r_(O=>S.next(k*O).value,k,30);return k+"ms "+R},toTransition:()=>{}};return S}Lh.applyToOptions=t=>{const e=e7(t,100,Lh);return t.ease=e.ease,t.duration=Xs(e.duration),t.type="keyframes",t};function By({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:l,min:u,max:d,restDelta:h=.5,restSpeed:p}){const m=t[0],x={done:!1,value:m},y=T=>u!==void 0&&T<u||d!==void 0&&T>d,b=T=>u===void 0?d:d===void 0||Math.abs(u-T)<Math.abs(d-T)?u:d;let j=n*e;const w=m+j,C=l===void 0?w:l(w);C!==w&&(j=C-m);const M=T=>-j*Math.exp(-T/s),E=T=>C+M(T),S=T=>{const D=M(T),B=E(T);x.done=Math.abs(D)<=h,x.value=x.done?C:B};let k,R;const O=T=>{y(x.value)&&(k=T,R=Lh({keyframes:[x.value,b(x.value)],velocity:i_(E,T,x.value),damping:r,stiffness:i,restDelta:h,restSpeed:p}))};return O(0),{calculatedDuration:null,next:T=>{let D=!1;return!R&&k===void 0&&(D=!0,S(T),O(T)),k!==void 0&&T>=k?R.next(T-k):(!D&&S(T),x)}}}function l7(t,e,n){const s=[],r=n||Gr.mix||s_,i=t.length-1;for(let l=0;l<i;l++){let u=r(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||xs:e;u=Wu(d,u)}s.push(u)}return s}function c7(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(lv(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=l7(e,s,r),d=u.length,h=p=>{if(l&&p<t[0])return e[0];let m=0;if(d>1)for(;m<t.length-2&&!(p<t[m+1]);m++);const x=Su(t[m],t[m+1],p);return u[m](x)};return n?p=>h(Kr(t[0],t[i-1],p)):h}function u7(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=Su(0,e,s);t.push(pt(n,1,r))}}function d7(t){const e=[0];return u7(e,t.length-1),e}function f7(t,e){return t.map(n=>n*e)}function h7(t,e){return t.map(()=>e||GA).splice(0,t.length-1)}function Zc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=SV(s)?s.map(fC):fC(s),i={done:!1,value:e[0]},l=f7(n&&n.length===e.length?n:d7(e),t),u=c7(l,e,{ease:Array.isArray(r)?r:h7(e,r)});return{calculatedDuration:t,next:d=>(i.value=u(d),i.done=d>=t,i)}}const p7=t=>t!==null;function bv(t,{repeat:e,repeatType:n="loop"},s,r=1){const i=t.filter(p7),u=r<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!u||s===void 0?i[u]:s}const m7={decay:By,inertia:By,tween:Zc,keyframes:Zc,spring:Lh};function a_(t){typeof t.type=="string"&&(t.type=m7[t.type])}class vv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const g7=t=>t/100;class wv extends vv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;a_(e);const{type:n=Zc,repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:l=0}=e;let{keyframes:u}=e;const d=n||Zc;d!==Zc&&typeof u[0]!="number"&&(this.mixKeyframes=Wu(g7,s_(u[0],u[1])),u=[0,100]);const h=d({...e,keyframes:u});i==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=yv(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:r,mixKeyframes:i,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:p,repeat:m,repeatType:x,repeatDelay:y,type:b,onUpdate:j,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-h*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?C<0:C>r;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let E=this.currentTime,S=s;if(m){const T=Math.min(this.currentTime,r)/u;let D=Math.floor(T),B=T%1;!B&&T>=1&&(B=1),B===1&&D--,D=Math.min(D,m+1),!!(D%2)&&(x==="reverse"?(B=1-B,y&&(B-=y/u)):x==="mirror"&&(S=l)),E=Kr(0,1,B)*u}const k=M?{done:!1,value:p[0]}:S.next(E);i&&(k.value=i(k.value));let{done:R}=k;!M&&d!==null&&(R=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return O&&b!==By&&(k.value=bv(p,this.options,w,this.speed)),j&&j(k.value),O&&this.finish(),k}then(e,n){return this.finished.then(e,n)}get duration(){return gs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gs(e)}get time(){return gs(this.currentTime)}set time(e){e=Xs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Tn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=gs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=ZV,startTime:n}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function x7(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ea=t=>t*180/Math.PI,zy=t=>{const e=Ea(Math.atan2(t[1],t[0]));return Iy(e)},y7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:zy,rotateZ:zy,skewX:t=>Ea(Math.atan(t[1])),skewY:t=>Ea(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Iy=t=>(t=t%360,t<0&&(t+=360),t),yC=zy,bC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),vC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),b7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bC,scaleY:vC,scale:t=>(bC(t)+vC(t))/2,rotateX:t=>Iy(Ea(Math.atan2(t[6],t[5]))),rotateY:t=>Iy(Ea(Math.atan2(-t[2],t[0]))),rotateZ:yC,rotate:yC,skewX:t=>Ea(Math.atan(t[4])),skewY:t=>Ea(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Vy(t){return t.includes("scale")?1:0}function Uy(t,e){if(!t||t==="none")return Vy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=b7,r=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=y7,r=u}if(!r)return Vy(e);const i=s[e],l=r[1].split(",").map(w7);return typeof i=="function"?i(l):l[i]}const v7=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Uy(n,e)};function w7(t){return parseFloat(t.trim())}const _l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dl=new Set(_l),wC=t=>t===Al||t===Ce,N7=new Set(["x","y","z"]),j7=_l.filter(t=>!N7.has(t));function S7(t){const e=[];return j7.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Oa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Uy(e,"x"),y:(t,{transform:e})=>Uy(e,"y")};Oa.translateX=Oa.x;Oa.translateY=Oa.y;const Ra=new Set;let $y=!1,Fy=!1,qy=!1;function o_(){if(Fy){const t=Array.from(Ra).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=S7(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,l])=>{s.getValue(i)?.set(l)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Fy=!1,$y=!1,Ra.forEach(t=>t.complete(qy)),Ra.clear()}function l_(){Ra.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Fy=!0)})}function C7(){qy=!0,l_(),o_(),qy=!1}class Nv{constructor(e,n,s,r,i,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Ra.add(this),$y||($y=!0,ft.read(l_),ft.resolveKeyframes(o_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;if(e[0]===null){const i=r?.get(),l=e[e.length-1];if(i!==void 0)e[0]=i;else if(s&&n){const u=s.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),r&&i===void 0&&r.set(e[0])}x7(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ra.delete(this)}cancel(){this.state==="scheduled"&&(Ra.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const k7=t=>t.startsWith("--");function E7(t,e,n){k7(e)?t.style.setProperty(e,n):t.style[e]=n}const T7=cv(()=>window.ScrollTimeline!==void 0),M7={};function A7(t,e){const n=cv(t);return()=>M7[e]??n()}const c_=A7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Fc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,NC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fc([0,.65,.55,1]),circOut:Fc([.55,0,1,.45]),backIn:Fc([.31,.01,.66,-.59]),backOut:Fc([.33,1.53,.69,.99])};function u_(t,e){if(t)return typeof t=="function"?c_()?r_(t,e):"ease-out":QA(t)?Fc(t):Array.isArray(t)?t.map(n=>u_(n,e)||NC.easeOut):NC[t]}function _7(t,e,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:l="loop",ease:u="easeOut",times:d}={},h=void 0){const p={[e]:n};d&&(p.offset=d);const m=u_(u,r);Array.isArray(m)&&(p.easing=m);const x={delay:s,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"};return h&&(x.pseudoElement=h),t.animate(p,x)}function d_(t){return typeof t=="function"&&"applyToOptions"in t}function D7({type:t,...e}){return d_(t)&&c_()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class O7 extends vv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:r,pseudoElement:i,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!i,this.allowFlatten=l,this.options=e,lv(typeof e.type!="string");const h=D7(e);this.animation=_7(n,s,r,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const p=bv(r,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):E7(n,s,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return gs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gs(e)}get time(){return gs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Xs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&T7()?(this.animation.timeline=e,xs):n(this)}}const f_={anticipate:qA,backInOut:FA,circInOut:KA};function R7(t){return t in f_}function L7(t){typeof t.ease=="string"&&R7(t.ease)&&(t.ease=f_[t.ease])}const jC=10;class P7 extends O7{constructor(e){L7(e),a_(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:r,element:i,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new wv({...l,autoplay:!1}),d=Xs(this.finishedTime??this.time);n.setWithVelocity(u.sample(d-jC).value,u.sample(d).value,jC),u.stop()}}const SC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Hi.test(t)||t==="0")&&!t.startsWith("url("));function B7(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function z7(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],l=SC(r,e),u=SC(i,e);return!l||!u?!1:B7(t)||(n==="spring"||d_(n))&&s}function Hy(t){t.duration=0,t.type="keyframes"}const I7=new Set(["opacity","clipPath","filter","transform"]),V7=cv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function U7(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:r,damping:i,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return V7()&&n&&I7.has(n)&&(n!=="transform"||!h)&&!d&&!s&&r!=="mirror"&&i!==0&&l!=="inertia"}const $7=40;class F7 extends vv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:l="loop",keyframes:u,name:d,motionValue:h,element:p,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Tn.now();const x={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:l,name:d,motionValue:h,element:p,...m},y=p?.KeyframeResolver||Nv;this.keyframeResolver=new y(u,(b,j,w)=>this.onKeyframesResolved(b,j,x,!w),d,h,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,r){this.keyframeResolver=void 0;const{name:i,type:l,velocity:u,delay:d,isHandoff:h,onUpdate:p}=s;this.resolvedAt=Tn.now(),z7(e,i,l,u)||((Gr.instantAnimations||!d)&&p?.(bv(e,s,n)),e[0]=e[e.length-1],Hy(s),s.repeat=0);const x={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>$7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},y=!h&&U7(x)?new P7({...x,element:x.motionValue.owner.current}):new wv(x);y.finished.then(()=>this.notifyFinished()).catch(xs),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),C7()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const q7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function H7(t){const e=q7.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function h_(t,e,n=1){const[s,r]=H7(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const l=i.trim();return LA(l)?parseFloat(l):l}return pv(r)?h_(r,e,n+1):r}function jv(t,e){return t?.[e]??t?.default??t}const p_=new Set(["width","height","top","left","right","bottom",..._l]),K7={test:t=>t==="auto",parse:t=>t},m_=t=>e=>e.test(t),g_=[Al,Ce,Ws,ji,BV,PV,K7],CC=t=>g_.find(m_(t));function G7(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||BA(t):!0}const Q7=new Set(["brightness","contrast","saturate","opacity"]);function Y7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(mv)||[];if(!s)return t;const r=n.replace(s,"");let i=Q7.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const J7=/\b([a-z-]*)\(.*?\)/gu,Ky={...Hi,getAnimatableNone:t=>{const e=t.match(J7);return e?e.map(Y7).join(" "):t}},kC={...Al,transform:Math.round},X7={rotate:ji,rotateX:ji,rotateY:ji,rotateZ:ji,scale:Uf,scaleX:Uf,scaleY:Uf,scaleZ:Uf,skew:ji,skewX:ji,skewY:ji,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:Cu,originX:hC,originY:hC,originZ:Ce},Sv={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce,...X7,zIndex:kC,fillOpacity:Cu,strokeOpacity:Cu,numOctaves:kC},W7={...Sv,color:Dt,backgroundColor:Dt,outlineColor:Dt,fill:Dt,stroke:Dt,borderColor:Dt,borderTopColor:Dt,borderRightColor:Dt,borderBottomColor:Dt,borderLeftColor:Dt,filter:Ky,WebkitFilter:Ky},x_=t=>W7[t];function y_(t,e){let n=x_(t);return n!==Ky&&(n=Hi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Z7=new Set(["auto","none","0"]);function eU(t,e,n){let s=0,r;for(;s<t.length&&!r;){const i=t[s];typeof i=="string"&&!Z7.has(i)&&ku(i).values.length&&(r=t[s]),s++}if(r&&n)for(const i of e)t[i]=y_(n,r)}class tU extends Nv{constructor(e,n,s,r,i){super(e,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),pv(h))){const p=h_(h,n.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!p_.has(s)||e.length!==2)return;const[r,i]=e,l=CC(r),u=CC(i);if(l!==u)if(wC(l)&&wC(u))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else Oa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||G7(e[r]))&&s.push(r);s.length&&eU(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=s.length-1,l=s[i];s[i]=Oa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function b_(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const r=document.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const v_=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function w_(t){return PA(t)&&"offsetHeight"in t}const EC=30,nU=t=>!isNaN(parseFloat(t));class sU{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const r=Tn.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new uv);const s=this.events[e].add(n);return e==="change"?()=>{s(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>EC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,EC);return zA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pl(t,e){return new sU(t,e)}const{schedule:Cv}=YA(queueMicrotask,!1),Cs={x:!1,y:!1};function N_(){return Cs.x||Cs.y}function rU(t){return t==="x"||t==="y"?Cs[t]?null:(Cs[t]=!0,()=>{Cs[t]=!1}):Cs.x||Cs.y?null:(Cs.x=Cs.y=!0,()=>{Cs.x=Cs.y=!1})}function j_(t,e){const n=b_(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function TC(t){return!(t.pointerType==="touch"||N_())}function iU(t,e,n={}){const[s,r,i]=j_(t,n),l=u=>{if(!TC(u))return;const{target:d}=u,h=e(d,u);if(typeof h!="function"||!d)return;const p=m=>{TC(m)&&(h(m),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,r)};return s.forEach(u=>{u.addEventListener("pointerenter",l,r)}),i}const S_=(t,e)=>e?t===e?!0:S_(t,e.parentElement):!1,kv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,aU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oU(t){return aU.has(t.tagName)||t.tabIndex!==-1}const dh=new WeakSet;function MC(t){return e=>{e.key==="Enter"&&t(e)}}function vx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const lU=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=MC(()=>{if(dh.has(n))return;vx(n,"down");const r=MC(()=>{vx(n,"up")}),i=()=>vx(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function AC(t){return kv(t)&&!N_()}function cU(t,e,n={}){const[s,r,i]=j_(t,n),l=u=>{const d=u.currentTarget;if(!AC(u))return;dh.add(d);const h=e(d,u),p=(y,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",x),dh.has(d)&&dh.delete(d),AC(y)&&typeof h=="function"&&h(y,{success:b})},m=y=>{p(y,d===window||d===document||n.useGlobalTarget||S_(d,y.target))},x=y=>{p(y,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",x,r)};return s.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,r),w_(u)&&(u.addEventListener("focus",h=>lU(h,r)),!oU(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),i}function C_(t){return PA(t)&&"ownerSVGElement"in t}function uU(t){return C_(t)&&t.tagName==="svg"}const un=t=>!!(t&&t.getVelocity),dU=[...g_,Dt,Hi],fU=t=>dU.find(m_(t)),Ev=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function _C(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function hU(...t){return e=>{let n=!1;const s=t.map(r=>{const i=_C(r,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():_C(t[r],null)}}}}function pU(...t){return _.useCallback(hU(...t),t)}class mU extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,r=w_(s)&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function gU({children:t,isPresent:e,anchorX:n,root:s}){const r=_.useId(),i=_.useRef(null),l=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=_.useContext(Ev),d=pU(i,t?.ref);return _.useInsertionEffect(()=>{const{width:h,height:p,top:m,left:x,right:y}=l.current;if(e||!i.current||!h||!p)return;const b=n==="left"?`left: ${x}`:`right: ${y}`;i.current.dataset.motionPopId=r;const j=document.createElement("style");u&&(j.nonce=u);const w=s??document.head;return w.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${p}px !important;
            ${b}px !important;
            top: ${m}px !important;
          }
        `),()=>{w.contains(j)&&w.removeChild(j)}},[e]),o.jsx(mU,{isPresent:e,childRef:i,sizeRef:l,children:_.cloneElement(t,{ref:d})})}const xU=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:l,anchorX:u,root:d})=>{const h=rv(yU),p=_.useId();let m=!0,x=_.useMemo(()=>(m=!1,{id:p,initial:e,isPresent:n,custom:r,onExitComplete:y=>{h.set(y,!0);for(const b of h.values())if(!b)return;s&&s()},register:y=>(h.set(y,!1),()=>h.delete(y))}),[n,h,s]);return i&&m&&(x={...x}),_.useMemo(()=>{h.forEach((y,b)=>h.set(b,!1))},[n]),_.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),l==="popLayout"&&(t=o.jsx(gU,{isPresent:n,anchorX:u,root:d,children:t})),o.jsx(nm.Provider,{value:x,children:t})};function yU(){return new Map}function k_(t=!0){const e=_.useContext(nm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,i=_.useId();_.useEffect(()=>{if(t)return r(i)},[t]);const l=_.useCallback(()=>t&&s&&s(i),[i,s,t]);return!n&&s?[!1,l]:[!0]}const $f=t=>t.key||"";function DC(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const Rt=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:i="sync",propagate:l=!1,anchorX:u="left",root:d})=>{const[h,p]=k_(l),m=_.useMemo(()=>DC(t),[t]),x=l&&!h?[]:m.map($f),y=_.useRef(!0),b=_.useRef(m),j=rv(()=>new Map),[w,C]=_.useState(m),[M,E]=_.useState(m);RA(()=>{y.current=!1,b.current=m;for(let R=0;R<M.length;R++){const O=$f(M[R]);x.includes(O)?j.delete(O):j.get(O)!==!0&&j.set(O,!1)}},[M,x.length,x.join("-")]);const S=[];if(m!==w){let R=[...m];for(let O=0;O<M.length;O++){const T=M[O],D=$f(T);x.includes(D)||(R.splice(O,0,T),S.push(T))}return i==="wait"&&S.length&&(R=S),E(DC(R)),C(m),null}const{forceRender:k}=_.useContext(sv);return o.jsx(o.Fragment,{children:M.map(R=>{const O=$f(R),T=l&&!h?!1:m===M||x.includes(O),D=()=>{if(j.has(O))j.set(O,!0);else return;let B=!0;j.forEach(L=>{L||(B=!1)}),B&&(k?.(),E(b.current),l&&p?.(),s&&s())};return o.jsx(xU,{isPresent:T,initial:!y.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:i,root:d,onExitComplete:T?void 0:D,anchorX:u,children:R},O)})})},E_=_.createContext({strict:!1}),OC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ml={};for(const t in OC)ml[t]={isEnabled:e=>OC[t].some(n=>!!e[n])};function bU(t){for(const e in t)ml[e]={...ml[e],...t[e]}}const vU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ph(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||vU.has(t)}let T_=t=>!Ph(t);function wU(t){typeof t=="function"&&(T_=e=>e.startsWith("on")?!Ph(e):t(e))}try{wU(require("@emotion/is-prop-valid").default)}catch{}function NU(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(T_(r)||n===!0&&Ph(r)||!e&&!Ph(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}const sm=_.createContext({});function rm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Eu(t){return typeof t=="string"||Array.isArray(t)}const Tv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Mv=["initial",...Tv];function im(t){return rm(t.animate)||Mv.some(e=>Eu(t[e]))}function M_(t){return!!(im(t)||t.variants)}function jU(t,e){if(im(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Eu(n)?n:void 0,animate:Eu(s)?s:void 0}}return t.inherit!==!1?e:{}}function SU(t){const{initial:e,animate:n}=jU(t,_.useContext(sm));return _.useMemo(()=>({initial:e,animate:n}),[RC(e),RC(n)])}function RC(t){return Array.isArray(t)?t.join(" "):t}const Tu={};function CU(t){for(const e in t)Tu[e]=t[e],hv(e)&&(Tu[e].isCSSVariable=!0)}function A_(t,{layout:e,layoutId:n}){return Dl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Tu[t]||t==="opacity")}const kU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},EU=_l.length;function TU(t,e,n){let s="",r=!0;for(let i=0;i<EU;i++){const l=_l[i],u=t[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||n){const h=v_(u,Sv[l]);if(!d){r=!1;const p=kU[l]||l;s+=`${p}(${h}) `}n&&(e[l]=h)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function Av(t,e,n){const{style:s,vars:r,transformOrigin:i}=t;let l=!1,u=!1;for(const d in e){const h=e[d];if(Dl.has(d)){l=!0;continue}else if(hv(d)){r[d]=h;continue}else{const p=v_(h,Sv[d]);d.startsWith("origin")?(u=!0,i[d]=p):s[d]=p}}if(e.transform||(l||n?s.transform=TU(e,t.transform,n):s.transform&&(s.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:p=0}=i;s.transformOrigin=`${d} ${h} ${p}`}}const _v=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function __(t,e,n){for(const s in e)!un(e[s])&&!A_(s,n)&&(t[s]=e[s])}function MU({transformTemplate:t},e){return _.useMemo(()=>{const n=_v();return Av(n,e,t),Object.assign({},n.vars,n.style)},[e])}function AU(t,e){const n=t.style||{},s={};return __(s,n,t),Object.assign(s,MU(t,e)),s}function _U(t,e){const n={},s=AU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const DU={offset:"stroke-dashoffset",array:"stroke-dasharray"},OU={offset:"strokeDashoffset",array:"strokeDasharray"};function RU(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?DU:OU;t[i.offset]=Ce.transform(-s);const l=Ce.transform(e),u=Ce.transform(n);t[i.array]=`${l} ${u}`}function D_(t,{attrX:e,attrY:n,attrScale:s,pathLength:r,pathSpacing:i=1,pathOffset:l=0,...u},d,h,p){if(Av(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:x}=t;m.transform&&(x.transform=m.transform,delete m.transform),(x.transform||m.transformOrigin)&&(x.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),x.transform&&(x.transformBox=p?.transformBox??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),r!==void 0&&RU(m,r,i,l,!1)}const O_=()=>({..._v(),attrs:{}}),R_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function LU(t,e,n,s){const r=_.useMemo(()=>{const i=O_();return D_(i,e,R_(s),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};__(i,t.style,t),r.style={...i,...r.style}}return r}const PU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dv(t){return typeof t!="string"||t.includes("-")?!1:!!(PU.indexOf(t)>-1||/[A-Z]/u.test(t))}function BU(t,e,n,{latestValues:s},r,i=!1){const u=(Dv(t)?LU:_U)(e,s,r,t),d=NU(e,typeof t=="string",i),h=t!==_.Fragment?{...d,...u,ref:n}:{},{children:p}=e,m=_.useMemo(()=>un(p)?p.get():p,[p]);return _.createElement(t,{...h,children:m})}function LC(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Ov(t,e,n,s){if(typeof e=="function"){const[r,i]=LC(s);e=e(n!==void 0?n:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=LC(s);e=e(n!==void 0?n:t.custom,r,i)}return e}function fh(t){return un(t)?t.get():t}function zU({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,r){return{latestValues:IU(n,s,r,t),renderState:e()}}function IU(t,e,n,s){const r={},i=s(t,{});for(const x in i)r[x]=fh(i[x]);let{initial:l,animate:u}=t;const d=im(t),h=M_(t);e&&h&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const m=p?u:l;if(m&&typeof m!="boolean"&&!rm(m)){const x=Array.isArray(m)?m:[m];for(let y=0;y<x.length;y++){const b=Ov(t,x[y]);if(b){const{transitionEnd:j,transition:w,...C}=b;for(const M in C){let E=C[M];if(Array.isArray(E)){const S=p?E.length-1:0;E=E[S]}E!==null&&(r[M]=E)}for(const M in j)r[M]=j[M]}}}return r}const L_=t=>(e,n)=>{const s=_.useContext(sm),r=_.useContext(nm),i=()=>zU(t,e,s,r);return n?i():rv(i)};function Rv(t,e,n){const{style:s}=t,r={};for(const i in s)(un(s[i])||e.style&&un(e.style[i])||A_(i,t)||n?.getValue(i)?.liveStyle!==void 0)&&(r[i]=s[i]);return r}const VU=L_({scrapeMotionValuesFromProps:Rv,createRenderState:_v});function P_(t,e,n){const s=Rv(t,e,n);for(const r in t)if(un(t[r])||un(e[r])){const i=_l.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=t[r]}return s}const UU=L_({scrapeMotionValuesFromProps:P_,createRenderState:O_}),$U=Symbol.for("motionComponentSymbol");function tl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function FU(t,e,n){return _.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):tl(n)&&(n.current=s))},[e])}const Lv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),qU="framerAppearId",B_="data-"+Lv(qU),z_=_.createContext({});function HU(t,e,n,s,r){const{visualElement:i}=_.useContext(sm),l=_.useContext(E_),u=_.useContext(nm),d=_.useContext(Ev).reducedMotion,h=_.useRef(null);s=s||l.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:i,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,m=_.useContext(z_);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&KU(h.current,n,r,m);const x=_.useRef(!1);_.useInsertionEffect(()=>{p&&x.current&&p.update(n,u)});const y=n[B_],b=_.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return RA(()=>{p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),b.current&&p.animationState&&p.animationState.animateChanges())}),_.useEffect(()=>{p&&(!b.current&&p.animationState&&p.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),b.current=!1),p.enteringChildren=void 0)}),p}function KU(t,e,n,s){const{layoutId:r,layout:i,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:I_(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!l||u&&tl(u),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:p,layoutScroll:d,layoutRoot:h})}function I_(t){if(t)return t.options.allowProjection!==!1?t.projection:I_(t.parent)}function wx(t,{forwardMotionProps:e=!1}={},n,s){n&&bU(n);const r=Dv(t)?UU:VU;function i(u,d){let h;const p={..._.useContext(Ev),...u,layoutId:GU(u)},{isStatic:m}=p,x=SU(u),y=r(u,m);if(!m&&iv){QU();const b=YU(p);h=b.MeasureLayout,x.visualElement=HU(t,y,p,s,b.ProjectionNode)}return o.jsxs(sm.Provider,{value:x,children:[h&&x.visualElement?o.jsx(h,{visualElement:x.visualElement,...p}):null,BU(t,u,FU(y,x.visualElement,d),y,m,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=_.forwardRef(i);return l[$U]=t,l}function GU({layoutId:t}){const e=_.useContext(sv).id;return e&&t!==void 0?e+"-"+t:t}function QU(t,e){_.useContext(E_).strict}function YU(t){const{drag:e,layout:n}=ml;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function JU(t,e){if(typeof Proxy>"u")return wx;const n=new Map,s=(i,l)=>wx(i,l,t,e),r=(i,l)=>s(i,l);return new Proxy(r,{get:(i,l)=>l==="create"?s:(n.has(l)||n.set(l,wx(l,void 0,t,e)),n.get(l))})}function V_({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function XU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function WU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Nx(t){return t===void 0||t===1}function Gy({scale:t,scaleX:e,scaleY:n}){return!Nx(t)||!Nx(e)||!Nx(n)}function ja(t){return Gy(t)||U_(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function U_(t){return PC(t.x)||PC(t.y)}function PC(t){return t&&t!=="0%"}function Bh(t,e,n){const s=t-n,r=e*s;return n+r}function BC(t,e,n,s,r){return r!==void 0&&(t=Bh(t,r,s)),Bh(t,n,s)+e}function Qy(t,e=0,n=1,s,r){t.min=BC(t.min,e,n,s,r),t.max=BC(t.max,e,n,s,r)}function $_(t,{x:e,y:n}){Qy(t.x,e.translate,e.scale,e.originPoint),Qy(t.y,n.translate,n.scale,n.originPoint)}const zC=.999999999999,IC=1.0000000000001;function ZU(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,l;for(let u=0;u<r;u++){i=n[u],l=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&sl(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,$_(t,l)),s&&ja(i.latestValues)&&sl(t,i.latestValues))}e.x<IC&&e.x>zC&&(e.x=1),e.y<IC&&e.y>zC&&(e.y=1)}function nl(t,e){t.min=t.min+e,t.max=t.max+e}function VC(t,e,n,s,r=.5){const i=pt(t.min,t.max,r);Qy(t,e,n,i,s)}function sl(t,e){VC(t.x,e.x,e.scaleX,e.scale,e.originX),VC(t.y,e.y,e.scaleY,e.scale,e.originY)}function F_(t,e){return V_(WU(t.getBoundingClientRect(),e))}function e9(t,e,n){const s=F_(t,n),{scroll:r}=e;return r&&(nl(s.x,r.offset.x),nl(s.y,r.offset.y)),s}const UC=()=>({translate:0,scale:1,origin:0,originPoint:0}),rl=()=>({x:UC(),y:UC()}),$C=()=>({min:0,max:0}),St=()=>({x:$C(),y:$C()}),Yy={current:null},q_={current:!1};function t9(){if(q_.current=!0,!!iv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yy.current=t.matches;t.addEventListener("change",e),e()}else Yy.current=!1}const n9=new WeakMap;function s9(t,e,n){for(const s in e){const r=e[s],i=n[s];if(un(r))t.addValue(s,r);else if(un(i))t.addValue(s,pl(r,{owner:t}));else if(i!==r)if(t.hasValue(s)){const l=t.getValue(s);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=t.getStaticValue(s);t.addValue(s,pl(l!==void 0?l:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const FC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class r9{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Nv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Tn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ft.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=u,this.blockInitialAnimation=!!i,this.isControllingVariants=im(n),this.isVariantNode=M_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in m){const y=m[x];d[x]!==void 0&&un(y)&&y.set(d[x])}}mount(e){this.current=e,n9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),q_.current||t9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qi(this.notifyUpdate),qi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Dl.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ft.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ml){const n=ml[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):St()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<FC.length;s++){const r=FC[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,l=e[i];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=s9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=pl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(LA(s)||BA(s))?s=parseFloat(s):!fU(s)&&Hi.test(n)&&(s=y_(e,n)),this.setBaseTarget(e,un(s)?s.get():s)),un(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const i=Ov(this.props,n,this.presenceContext?.custom);i&&(s=i[e])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!un(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new uv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Cv.render(this.render)}}class H_ extends r9{constructor(){super(...arguments),this.KeyframeResolver=tU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;un(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function K_(t,{style:e,vars:n},s,r){const i=t.style;let l;for(l in e)i[l]=e[l];r?.applyProjectionStyles(i,s);for(l in n)i.setProperty(l,n[l])}function i9(t){return window.getComputedStyle(t)}class a9 extends H_{constructor(){super(...arguments),this.type="html",this.renderInstance=K_}readValueFromInstance(e,n){if(Dl.has(n))return this.projection?.isProjecting?Vy(n):v7(e,n);{const s=i9(e),r=(hv(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return F_(e,n)}build(e,n,s){Av(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Rv(e,n,s)}}const G_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function o9(t,e,n,s){K_(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(G_.has(r)?r:Lv(r),e.attrs[r])}class l9 extends H_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=St}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Dl.has(n)){const s=x_(n);return s&&s.default||0}return n=G_.has(n)?n:Lv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return P_(e,n,s)}build(e,n,s){D_(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,r){o9(e,n,s,r)}mount(e){this.isSVGTag=R_(e.tagName),super.mount(e)}}const c9=(t,e)=>Dv(t)?new l9(e):new a9(e,{allowProjection:t!==_.Fragment});function ol(t,e,n){const s=t.getProps();return Ov(s,e,n!==void 0?n:s.custom,t)}const Jy=t=>Array.isArray(t);function u9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,pl(n))}function d9(t){return Jy(t)?t[t.length-1]||0:t}function f9(t,e){const n=ol(t,e);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const l in i){const u=d9(i[l]);u9(t,l,u)}}function h9(t){return!!(un(t)&&t.add)}function Xy(t,e){const n=t.getValue("willChange");if(h9(n))return n.add(e);if(!n&&Gr.WillChange){const s=new Gr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Q_(t){return t.props[B_]}const p9=t=>t!==null;function m9(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(p9),i=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[i]}const g9={type:"spring",stiffness:500,damping:25,restSpeed:10},x9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),y9={type:"keyframes",duration:.8},b9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},v9=(t,{keyframes:e})=>e.length>2?y9:Dl.has(t)?t.startsWith("scale")?x9(e[1]):g9:b9;function w9({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:l,repeatDelay:u,from:d,elapsed:h,...p}){return!!Object.keys(p).length}const Pv=(t,e,n,s={},r,i)=>l=>{const u=jv(s,t)||{},d=u.delay||s.delay||0;let{elapsed:h=0}=s;h=h-Xs(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:i?void 0:r};w9(u)||Object.assign(p,v9(t,p)),p.duration&&(p.duration=Xs(p.duration)),p.repeatDelay&&(p.repeatDelay=Xs(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Hy(p),p.delay===0&&(m=!0)),(Gr.instantAnimations||Gr.skipAnimations)&&(m=!0,Hy(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,m&&!i&&e.get()!==void 0){const x=m9(p.keyframes,u);if(x!==void 0){ft.update(()=>{p.onUpdate(x),p.onComplete()});return}}return u.isSync?new wv(p):new F7(p)};function N9({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function Y_(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:l,...u}=e;s&&(i=s);const d=[],h=r&&t.animationState&&t.animationState.getState()[r];for(const p in u){const m=t.getValue(p,t.latestValues[p]??null),x=u[p];if(x===void 0||h&&N9(h,p))continue;const y={delay:n,...jv(i||{},p)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(x)&&x===b&&!y.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const C=Q_(t);if(C){const M=window.MotionHandoffAnimation(C,p,ft);M!==null&&(y.startTime=M,j=!0)}}Xy(t,p),m.start(Pv(p,m,x,t.shouldReduceMotion&&p_.has(p)?{type:!1}:y,t,j));const w=m.animation;w&&d.push(w)}return l&&Promise.all(d).then(()=>{ft.update(()=>{l&&f9(t,l)})}),d}function J_(t,e,n,s=0,r=1){const i=Array.from(t).sort((h,p)=>h.sortNodePosition(p)).indexOf(e),l=t.size,u=(l-1)*s;return typeof n=="function"?n(i,l):r===1?i*s:u-i*s}function Wy(t,e,n={}){const s=ol(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(Y_(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:m}=r;return j9(t,e,d,h,p,m,n)}:()=>Promise.resolve(),{when:u}=r;if(u){const[d,h]=u==="beforeChildren"?[i,l]:[l,i];return d().then(()=>h())}else return Promise.all([i(),l(n.delay)])}function j9(t,e,n=0,s=0,r=0,i=1,l){const u=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),u.push(Wy(d,e,{...l,delay:n+(typeof s=="function"?0:s)+J_(t.variantChildren,d,s,r,i)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(u)}function S9(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>Wy(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=Wy(t,e,n);else{const r=typeof e=="function"?ol(t,e,n.custom):e;s=Promise.all(Y_(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function X_(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const C9=Mv.length;function W_(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?W_(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<C9;n++){const s=Mv[n],r=t.props[s];(Eu(r)||r===!1)&&(e[s]=r)}return e}const k9=[...Tv].reverse(),E9=Tv.length;function T9(t){return e=>Promise.all(e.map(({animation:n,options:s})=>S9(t,n,s)))}function M9(t){let e=T9(t),n=qC(),s=!0;const r=d=>(h,p)=>{const m=ol(t,p,d==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:x,transitionEnd:y,...b}=m;h={...h,...b,...y}}return h};function i(d){e=d(t)}function l(d){const{props:h}=t,p=W_(t.parent)||{},m=[],x=new Set;let y={},b=1/0;for(let w=0;w<E9;w++){const C=k9[w],M=n[C],E=h[C]!==void 0?h[C]:p[C],S=Eu(E),k=C===d?M.isActive:null;k===!1&&(b=w);let R=E===p[C]&&E!==h[C]&&S;if(R&&s&&t.manuallyAnimateOnMount&&(R=!1),M.protectedKeys={...y},!M.isActive&&k===null||!E&&!M.prevProp||rm(E)||typeof E=="boolean")continue;const O=A9(M.prevProp,E);let T=O||C===d&&M.isActive&&!R&&S||w>b&&S,D=!1;const B=Array.isArray(E)?E:[E];let L=B.reduce(r(C),{});k===!1&&(L={});const{prevResolvedValues:V={}}=M,F={...V,...L},K=H=>{T=!0,x.has(H)&&(D=!0,x.delete(H)),M.needsAnimating[H]=!0;const ee=t.getValue(H);ee&&(ee.liveStyle=!1)};for(const H in F){const ee=L[H],ae=V[H];if(y.hasOwnProperty(H))continue;let de=!1;Jy(ee)&&Jy(ae)?de=!X_(ee,ae):de=ee!==ae,de?ee!=null?K(H):x.add(H):ee!==void 0&&x.has(H)?K(H):M.protectedKeys[H]=!0}M.prevProp=E,M.prevResolvedValues=L,M.isActive&&(y={...y,...L}),s&&t.blockInitialAnimation&&(T=!1);const re=R&&O;T&&(!re||D)&&m.push(...B.map(H=>{const ee={type:C};if(typeof H=="string"&&s&&!re&&t.manuallyAnimateOnMount&&t.parent){const{parent:ae}=t,de=ol(ae,H);if(ae.enteringChildren&&de){const{delayChildren:z}=de.transition||{};ee.delay=J_(ae.enteringChildren,t,z)}}return{animation:H,options:ee}}))}if(x.size){const w={};if(typeof h.initial!="boolean"){const C=ol(t,Array.isArray(h.initial)?h.initial[0]:h.initial);C&&C.transition&&(w.transition=C.transition)}x.forEach(C=>{const M=t.getBaseTarget(C),E=t.getValue(C);E&&(E.liveStyle=!0),w[C]=M??null}),m.push({animation:w})}let j=!!m.length;return s&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(j=!1),s=!1,j?e(m):Promise.resolve()}function u(d,h){if(n[d].isActive===h)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(d,h)),n[d].isActive=h;const p=l(d);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:i,getState:()=>n,reset:()=>{n=qC()}}}function A9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!X_(e,t):!1}function va(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qC(){return{animate:va(!0),whileInView:va(),whileHover:va(),whileTap:va(),whileDrag:va(),whileFocus:va(),exit:va()}}class Ji{constructor(e){this.isMounted=!1,this.node=e}update(){}}class _9 extends Ji{constructor(e){super(e),e.animationState||(e.animationState=M9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let D9=0;class O9 extends Ji{constructor(){super(...arguments),this.id=D9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const R9={animation:{Feature:_9},exit:{Feature:O9}};function Mu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function td(t){return{point:{x:t.pageX,y:t.pageY}}}const L9=t=>e=>kv(e)&&t(e,td(e));function eu(t,e,n,s){return Mu(t,e,L9(n),s)}const Z_=1e-4,P9=1-Z_,B9=1+Z_,e3=.01,z9=0-e3,I9=0+e3;function gn(t){return t.max-t.min}function V9(t,e,n){return Math.abs(t-e)<=n}function HC(t,e,n,s=.5){t.origin=s,t.originPoint=pt(e.min,e.max,t.origin),t.scale=gn(n)/gn(e),t.translate=pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=P9&&t.scale<=B9||isNaN(t.scale))&&(t.scale=1),(t.translate>=z9&&t.translate<=I9||isNaN(t.translate))&&(t.translate=0)}function tu(t,e,n,s){HC(t.x,e.x,n.x,s?s.originX:void 0),HC(t.y,e.y,n.y,s?s.originY:void 0)}function KC(t,e,n){t.min=n.min+e.min,t.max=t.min+gn(e)}function U9(t,e,n){KC(t.x,e.x,n.x),KC(t.y,e.y,n.y)}function GC(t,e,n){t.min=e.min-n.min,t.max=t.min+gn(e)}function nu(t,e,n){GC(t.x,e.x,n.x),GC(t.y,e.y,n.y)}function fs(t){return[t("x"),t("y")]}const t3=({current:t})=>t?t.ownerDocument.defaultView:null,QC=(t,e)=>Math.abs(t-e);function $9(t,e){const n=QC(t.x,e.x),s=QC(t.y,e.y);return Math.sqrt(n**2+s**2)}class n3{constructor(e,n,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Sx(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,b=$9(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!b)return;const{point:j}=x,{timestamp:w}=nn;this.history.push({...j,timestamp:w});const{onStart:C,onMove:M}=this.handlers;y||(C&&C(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,x)},this.handlePointerMove=(x,y)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=jx(y,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(x,y)=>{this.end();const{onEnd:b,onSessionEnd:j,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Sx(x.type==="pointercancel"?this.lastMoveEventInfo:jx(y,this.transformPagePoint),this.history);this.startEvent&&b&&b(x,C),j&&j(x,C)},!kv(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=l,this.contextWindow=r||window;const u=td(e),d=jx(u,this.transformPagePoint),{point:h}=d,{timestamp:p}=nn;this.history=[{...h,timestamp:p}];const{onSessionStart:m}=n;m&&m(e,Sx(d,this.history)),this.removeListeners=Wu(eu(this.contextWindow,"pointermove",this.handlePointerMove),eu(this.contextWindow,"pointerup",this.handlePointerUp),eu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),qi(this.updatePoint)}}function jx(t,e){return e?{point:e(t.point)}:t}function YC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Sx({point:t},e){return{point:t,delta:YC(t,s3(e)),offset:YC(t,F9(e)),velocity:q9(e,.1)}}function F9(t){return t[0]}function s3(t){return t[t.length-1]}function q9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=s3(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>Xs(e)));)n--;if(!s)return{x:0,y:0};const i=gs(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const l={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function H9(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?pt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?pt(n,t,s.max):Math.min(t,n)),t}function JC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function K9(t,{top:e,left:n,bottom:s,right:r}){return{x:JC(t.x,n,r),y:JC(t.y,e,s)}}function XC(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function G9(t,e){return{x:XC(t.x,e.x),y:XC(t.y,e.y)}}function Q9(t,e){let n=.5;const s=gn(t),r=gn(e);return r>s?n=Su(e.min,e.max-s,t.min):s>r&&(n=Su(t.min,t.max-r,e.min)),Kr(0,1,n)}function Y9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Zy=.35;function J9(t=Zy){return t===!1?t=0:t===!0&&(t=Zy),{x:WC(t,"left","right"),y:WC(t,"top","bottom")}}function WC(t,e,n){return{min:ZC(t,e),max:ZC(t,n)}}function ZC(t,e){return typeof t=="number"?t:t[e]||0}const X9=new WeakMap;class W9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=St(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(td(m).point)},l=(m,x)=>{const{drag:y,dragPropagation:b,onDragStart:j}=this.getProps();if(y&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rU(y),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fs(C=>{let M=this.getAxisMotionValue(C).get()||0;if(Ws.test(M)){const{projection:E}=this.visualElement;if(E&&E.layout){const S=E.layout.layoutBox[C];S&&(M=gn(S)*(parseFloat(M)/100))}}this.originPoint[C]=M}),j&&ft.postRender(()=>j(m,x)),Xy(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},u=(m,x)=>{this.latestPointerEvent=m,this.latestPanInfo=x;const{dragPropagation:y,dragDirectionLock:b,onDirectionLock:j,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:C}=x;if(b&&this.currentDirection===null){this.currentDirection=Z9(C),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",x.point,C),this.updateAxis("y",x.point,C),this.visualElement.render(),w&&w(m,x)},d=(m,x)=>{this.latestPointerEvent=m,this.latestPanInfo=x,this.stop(m,x),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>fs(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new n3(e,{onSessionStart:i,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:s,contextWindow:t3(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,r=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!s)return;const{velocity:l}=r;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&ft.postRender(()=>u(s,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!Ff(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let l=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(l=H9(l,this.constraints[e],this.elastic[e])),i.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&tl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=K9(s.layoutBox,e):this.constraints=!1,this.elastic=J9(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&fs(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Y9(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!tl(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=e9(s,r.root,this.visualElement.getTransformPagePoint());let l=G9(r.layout.layoutBox,i);if(n){const u=n(XU(l));this.hasMutatedConstraints=!!u,u&&(l=V_(u))}return l}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},h=fs(p=>{if(!Ff(p,n,this.currentDirection))return;let m=d&&d[p]||{};l&&(m={min:0,max:0});const x=r?200:1e6,y=r?40:1e7,b={type:"inertia",velocity:s?e[p]:0,bounceStiffness:x,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(p,b)});return Promise.all(h).then(u)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Xy(this.visualElement,e),s.start(Pv(e,s,0,n,this.visualElement,!1))}stopAnimation(){fs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fs(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){fs(n=>{const{drag:s}=this.getProps();if(!Ff(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:l,max:u}=r.layout.layoutBox[n];i.set(e[n]-pt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!tl(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};fs(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();r[l]=Q9({min:d,max:d},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),fs(l=>{if(!Ff(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];u.set(pt(d,h,r[l]))})}addListeners(){if(!this.visualElement.current)return;X9.set(this.visualElement,this);const e=this.visualElement.current,n=eu(e,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();tl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ft.read(s);const l=Mu(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(fs(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=d[p].translate,m.set(m.get()+d[p].translate))}),this.visualElement.render())}));return()=>{l(),n(),i(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:l=Zy,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:l,dragMomentum:u}}}function Ff(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Z9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class e$ extends Ji{constructor(e){super(e),this.removeGroupControls=xs,this.removeListeners=xs,this.controls=new W9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xs}unmount(){this.removeGroupControls(),this.removeListeners()}}const ek=t=>(e,n)=>{t&&ft.postRender(()=>t(e,n))};class t$ extends Ji{constructor(){super(...arguments),this.removePointerDownListener=xs}onPointerDown(e){this.session=new n3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:t3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:ek(e),onStart:ek(n),onMove:s,onEnd:(i,l)=>{delete this.session,r&&ft.postRender(()=>r(i,l))}}}mount(){this.removePointerDownListener=eu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tk(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=tk(t,e.target.x),s=tk(t,e.target.y);return`${n}% ${s}%`}},n$={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=Hi.parse(t);if(r.length>5)return s;const i=Hi.createTransformer(t),l=typeof r[0]!="number"?1:0,u=n.x.scale*e.x,d=n.y.scale*e.y;r[0+l]/=u,r[1+l]/=d;const h=pt(u,d,.5);return typeof r[2+l]=="number"&&(r[2+l]/=h),typeof r[3+l]=="number"&&(r[3+l]/=h),i(r)}};let Cx=!1;class s$ extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;CU(r$),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),Cx&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),hh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,{projection:l}=s;return l&&(l.isPresent=i,Cx=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==i?l.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?l.promote():l.relegate()||ft.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Cv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;Cx=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function r3(t){const[e,n]=k_(),s=_.useContext(sv);return o.jsx(s$,{...t,layoutGroup:s,switchLayoutGroup:_.useContext(z_),isPresent:e,safeToRemove:n})}const r$={borderRadius:{...Bc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bc,borderTopRightRadius:Bc,borderBottomLeftRadius:Bc,borderBottomRightRadius:Bc,boxShadow:n$};function i$(t,e,n){const s=un(t)?t:pl(t);return s.start(Pv("",s,e,n)),s.animation}const a$=(t,e)=>t.depth-e.depth;class o${constructor(){this.children=[],this.isDirty=!1}add(e){av(this.children,e),this.isDirty=!0}remove(e){ov(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(a$),this.isDirty=!1,this.children.forEach(e)}}function l$(t,e){const n=Tn.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(qi(s),t(i-e))};return ft.setup(s,!0),()=>qi(s)}const i3=["TopLeft","TopRight","BottomLeft","BottomRight"],c$=i3.length,nk=t=>typeof t=="string"?parseFloat(t):t,sk=t=>typeof t=="number"||Ce.test(t);function u$(t,e,n,s,r,i){r?(t.opacity=pt(0,n.opacity??1,d$(s)),t.opacityExit=pt(e.opacity??1,0,f$(s))):i&&(t.opacity=pt(e.opacity??1,n.opacity??1,s));for(let l=0;l<c$;l++){const u=`border${i3[l]}Radius`;let d=rk(e,u),h=rk(n,u);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||sk(d)===sk(h)?(t[u]=Math.max(pt(nk(d),nk(h),s),0),(Ws.test(h)||Ws.test(d))&&(t[u]+="%")):t[u]=h}(e.rotate||n.rotate)&&(t.rotate=pt(e.rotate||0,n.rotate||0,s))}function rk(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const d$=a3(0,.5,HA),f$=a3(.5,.95,xs);function a3(t,e,n){return s=>s<t?0:s>e?1:n(Su(t,e,s))}function ik(t,e){t.min=e.min,t.max=e.max}function us(t,e){ik(t.x,e.x),ik(t.y,e.y)}function ak(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ok(t,e,n,s,r){return t-=e,t=Bh(t,1/n,s),r!==void 0&&(t=Bh(t,1/r,s)),t}function h$(t,e=0,n=1,s=.5,r,i=t,l=t){if(Ws.test(e)&&(e=parseFloat(e),e=pt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=pt(i.min,i.max,s);t===i&&(u-=e),t.min=ok(t.min,e,n,u,r),t.max=ok(t.max,e,n,u,r)}function lk(t,e,[n,s,r],i,l){h$(t,e[n],e[s],e[r],e.scale,i,l)}const p$=["x","scaleX","originX"],m$=["y","scaleY","originY"];function ck(t,e,n,s){lk(t.x,e,p$,n?n.x:void 0,s?s.x:void 0),lk(t.y,e,m$,n?n.y:void 0,s?s.y:void 0)}function uk(t){return t.translate===0&&t.scale===1}function o3(t){return uk(t.x)&&uk(t.y)}function dk(t,e){return t.min===e.min&&t.max===e.max}function g$(t,e){return dk(t.x,e.x)&&dk(t.y,e.y)}function fk(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function l3(t,e){return fk(t.x,e.x)&&fk(t.y,e.y)}function hk(t){return gn(t.x)/gn(t.y)}function pk(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class x${constructor(){this.members=[]}add(e){av(this.members,e),e.scheduleRender()}remove(e){if(ov(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function y$(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y,l=n?.z||0;if((r||i||l)&&(s=`translate3d(${r}px, ${i}px, ${l}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:m,rotateY:x,skewX:y,skewY:b}=n;h&&(s=`perspective(${h}px) ${s}`),p&&(s+=`rotate(${p}deg) `),m&&(s+=`rotateX(${m}deg) `),x&&(s+=`rotateY(${x}deg) `),y&&(s+=`skewX(${y}deg) `),b&&(s+=`skewY(${b}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(s+=`scale(${u}, ${d})`),s||"none"}const kx=["","X","Y","Z"],b$=1e3;let v$=0;function Ex(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function c3(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Q_(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(r||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&c3(s)}function u3({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(l={},u=e?.()){this.id=v$++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(j$),this.nodes.forEach(E$),this.nodes.forEach(T$),this.nodes.forEach(S$)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new o$)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new uv),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=C_(l)&&!uU(l),this.instance=l;const{layoutId:u,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),t){let p,m=0;const x=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{m=window.innerWidth}),t(l,()=>{const y=window.innerWidth;y!==m&&(m=y,this.root.updateBlockedByResize=!0,p&&p(),p=l$(x,250),hh.hasAnimatedSinceResize&&(hh.hasAnimatedSinceResize=!1,this.nodes.forEach(xk)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:x,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||h.getDefaultTransition()||O$,{onLayoutAnimationStart:j,onLayoutAnimationComplete:w}=h.getProps(),C=!this.targetLayout||!l3(this.targetLayout,y),M=!m&&x;if(this.options.layoutRoot||this.resumeFrom||M||m&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...jv(b,"layout"),onPlay:j,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(p,M)}else m||xk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(M$),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&c3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mk);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(gk);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(k$),this.nodes.forEach(w$),this.nodes.forEach(N$)):this.nodes.forEach(gk),this.clearAllSnapshots();const u=Tn.now();nn.delta=Kr(0,1e3/60,u-nn.timestamp),nn.timestamp=u,nn.isProcessing=!0,mx.update.process(nn),mx.preRender.process(nn),mx.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(C$),this.sharedNodes.forEach(A$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gn(this.snapshot.measuredBox.x)&&!gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=St(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!o3(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;l&&this.instance&&(u||ja(this.latestValues)||p)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),R$(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return St();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(L$))){const{scroll:h}=this.root;h&&(nl(u.x,h.offset.x),nl(u.y,h.offset.y))}return u}removeElementScroll(l){const u=St();if(us(u,l),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:p,options:m}=h;h!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&us(u,l),nl(u.x,p.offset.x),nl(u.y,p.offset.y))}return u}applyTransform(l,u=!1){const d=St();us(d,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&sl(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ja(p.latestValues)&&sl(d,p.latestValues)}return ja(this.latestValues)&&sl(d,this.latestValues),d}removeTransform(l){const u=St();us(u,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!ja(h.latestValues))continue;Gy(h.latestValues)&&h.updateSnapshot();const p=St(),m=h.measurePageBox();us(p,m),ck(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return ja(this.latestValues)&&ck(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=nn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),nu(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=St(),this.targetWithTransforms=St()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),U9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):us(this.target,this.layout.layoutBox),$_(this.target,this.targetDelta)):us(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),nu(this.relativeTargetOrigin,this.target,x.target),us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gy(this.parent.latestValues)||U_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(d=!1),d)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;us(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,x=this.treeScale.y;ZU(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=St());const{target:y}=l;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ak(this.prevProjectionDelta.x,this.projectionDelta.x),ak(this.prevProjectionDelta.y,this.projectionDelta.y)),tu(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==x||!pk(this.projectionDelta.x,this.prevProjectionDelta.x)||!pk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rl(),this.projectionDelta=rl(),this.projectionDeltaWithTransform=rl()}setAnimationOrigin(l,u=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},m=rl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=St(),y=d?d.source:void 0,b=this.layout?this.layout.source:void 0,j=y!==b,w=this.getStack(),C=!w||w.members.length<=1,M=!!(j&&!C&&this.options.crossfade===!0&&!this.path.some(D$));this.animationProgress=0;let E;this.mixTargetDelta=S=>{const k=S/1e3;yk(m.x,l.x,k),yk(m.y,l.y,k),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nu(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_$(this.relativeTarget,this.relativeTargetOrigin,x,k),E&&g$(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=St()),us(E,this.relativeTarget)),j&&(this.animationValues=p,u$(p,h,this.latestValues,k,M,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(qi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{hh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=pl(0)),this.currentAnimation=i$(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(b$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:h,latestValues:p}=l;if(!(!u||!d||!h)){if(this!==l&&this.layout&&h&&d3(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||St();const m=gn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+m;const x=gn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+x}us(u,d),sl(u,p),tu(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new x$),this.sharedNodes.get(l).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const h={};d.z&&Ex("z",l,h,this.animationValues);for(let p=0;p<kx.length;p++)Ex(`rotate${kx[p]}`,l,h,this.animationValues),Ex(`skew${kx[p]}`,l,h,this.animationValues);l.render();for(const p in h)l.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=fh(u?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=fh(u?.pointerEvents)||""),this.hasProjected&&!ja(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let m=y$(this.projectionDeltaWithTransform,this.treeScale,p);d&&(m=d(p,m)),l.transform=m;const{x,y}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${y.origin*100}% 0`,h.animationValues?l.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in Tu){if(p[b]===void 0)continue;const{correct:j,applyTo:w,isCSSVariable:C}=Tu[b],M=m==="none"?p[b]:j(p[b],h);if(w){const E=w.length;for(let S=0;S<E;S++)l[w[S]]=M}else C?this.options.visualElement.renderState.vars[b]=M:l[b]=M}this.options.layoutId&&(l.pointerEvents=h===this?fh(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(mk),this.root.sharedNodes.clear()}}}function w$(t){t.updateLayout()}function N$(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:r}=t.options,i=e.source!==t.layout.source;r==="size"?fs(p=>{const m=i?e.measuredBox[p]:e.layoutBox[p],x=gn(m);m.min=n[p].min,m.max=m.min+x}):d3(r,e.layoutBox,n)&&fs(p=>{const m=i?e.measuredBox[p]:e.layoutBox[p],x=gn(n[p]);m.max=m.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+x)});const l=rl();tu(l,n,e.layoutBox);const u=rl();i?tu(u,t.applyTransform(s,!0),e.measuredBox):tu(u,n,e.layoutBox);const d=!o3(l);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:x}=p;if(m&&x){const y=St();nu(y,e.layoutBox,m.layoutBox);const b=St();nu(b,n,x.layoutBox),l3(y,b)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=y,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function j$(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function S$(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function C$(t){t.clearSnapshot()}function mk(t){t.clearMeasurements()}function gk(t){t.isLayoutDirty=!1}function k$(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function xk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function E$(t){t.resolveTargetDelta()}function T$(t){t.calcProjection()}function M$(t){t.resetSkewAndRotation()}function A$(t){t.removeLeadSnapshot()}function yk(t,e,n){t.translate=pt(e.translate,0,n),t.scale=pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function bk(t,e,n,s){t.min=pt(e.min,n.min,s),t.max=pt(e.max,n.max,s)}function _$(t,e,n,s){bk(t.x,e.x,n.x,s),bk(t.y,e.y,n.y,s)}function D$(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const O$={duration:.45,ease:[.4,0,.1,1]},vk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),wk=vk("applewebkit/")&&!vk("chrome/")?Math.round:xs;function Nk(t){t.min=wk(t.min),t.max=wk(t.max)}function R$(t){Nk(t.x),Nk(t.y)}function d3(t,e,n){return t==="position"||t==="preserve-aspect"&&!V9(hk(e),hk(n),.2)}function L$(t){return t!==t.root&&t.scroll?.wasRoot}const P$=u3({attachResizeListener:(t,e)=>Mu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tx={current:void 0},f3=u3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Tx.current){const t=new P$({});t.mount(window),t.setOptions({layoutScroll:!0}),Tx.current=t}return Tx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),B$={pan:{Feature:t$},drag:{Feature:e$,ProjectionNode:f3,MeasureLayout:r3}};function jk(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&ft.postRender(()=>i(e,td(e)))}class z$ extends Ji{mount(){const{current:e}=this.node;e&&(this.unmount=iU(e,(n,s)=>(jk(this.node,s,"Start"),r=>jk(this.node,r,"End"))))}unmount(){}}class I$ extends Ji{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wu(Mu(this.node.current,"focus",()=>this.onFocus()),Mu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Sk(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&ft.postRender(()=>i(e,td(e)))}class V$ extends Ji{mount(){const{current:e}=this.node;e&&(this.unmount=cU(e,(n,s)=>(Sk(this.node,s,"Start"),(r,{success:i})=>Sk(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const eb=new WeakMap,Mx=new WeakMap,U$=t=>{const e=eb.get(t.target);e&&e(t)},$$=t=>{t.forEach(U$)};function F$({root:t,...e}){const n=t||document;Mx.has(n)||Mx.set(n,{});const s=Mx.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver($$,{root:t,...e})),s[r]}function q$(t,e,n){const s=F$(e);return eb.set(t,n),s.observe(t),()=>{eb.delete(t),s.unobserve(t)}}const H$={some:0,all:1};class K$ extends Ji{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,l={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:H$[r]},u=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),x=h?p:m;x&&x(d)};return q$(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(G$(e,n))&&this.startObserver()}unmount(){}}function G$({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Q$={inView:{Feature:K$},tap:{Feature:V$},focus:{Feature:I$},hover:{Feature:z$}},Y$={layout:{ProjectionNode:f3,MeasureLayout:r3}},J$={...R9,...Q$,...B$,...Y$},Y=JU(J$,c9),X$={some:0,all:1};function W$(t,e,{root:n,margin:s,amount:r="some"}={}){const i=b_(t),l=new WeakMap,u=h=>{h.forEach(p=>{const m=l.get(p.target);if(p.isIntersecting!==!!m)if(p.isIntersecting){const x=e(p.target,p);typeof x=="function"?l.set(p.target,x):d.unobserve(p.target)}else typeof m=="function"&&(m(p),l.delete(p.target))})},d=new IntersectionObserver(u,{root:n,rootMargin:s,threshold:typeof r=="number"?r:X$[r]});return i.forEach(h=>d.observe(h)),()=>d.disconnect()}function h3(t,{root:e,margin:n,amount:s,once:r=!1,initial:i=!1}={}){const[l,u]=_.useState(i);return _.useEffect(()=>{if(!t.current||r&&l)return;const d=()=>(u(!0),r?void 0:()=>u(!1)),h={root:e&&e.current||void 0,margin:n,amount:s};return W$(t.current,d,h)},[e,t,n,r,s]),l}/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eF=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Ck=t=>{const e=eF(t);return e.charAt(0).toUpperCase()+e.slice(1)},p3=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),tF=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:l,...u},d)=>_.createElement("svg",{ref:d,...nF,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:p3("lucide",r),...!i&&!tF(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,p])=>_.createElement(h,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(t,e)=>{const n=_.forwardRef(({className:s,...r},i)=>_.createElement(sF,{ref:i,iconNode:e,className:p3(`lucide-${Z$(Ck(t))}`,`lucide-${t}`,s),...r}));return n.displayName=Ck(t),n};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]],qf=he("anchor",rF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ar=he("arrow-left",iF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ft=he("arrow-right",aF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ir=he("award",oF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],cF=he("bell",lF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],m3=he("bold",uF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Js=he("book-open",dF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],Ax=he("calendar-check",fF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],kk=he("calendar-days",hF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ht=he("calendar",pF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],g3=he("check",mF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],tb=he("chevron-down",gF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zh=he("chevron-left",xF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gl=he("chevron-right",yF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Yo=he("circle-check-big",bF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],wF=he("circle-check",vF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],x3=he("clipboard-list",NF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Rs=he("clock",jF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]],CF=he("cog",SF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Zs=he("compass",kF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],Ek=he("crop",EF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],y3=he("eye",TF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],am=he("facebook",MF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],_x=he("file-text",AF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],om=he("funnel",_F);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],OF=he("gift",DF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],LF=he("globe",RF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Vr=he("graduation-cap",PF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],lm=he("grid-3x3",BF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],b3=he("heading-2",zF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],nr=he("heart",IF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],v3=he("house",VF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],w3=he("image",UF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],N3=he("info",$F);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],cm=he("instagram",FF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],j3=he("italic",qF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],KF=he("layout-dashboard",HF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],QF=he("link",GF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],JF=he("linkedin",YF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],S3=he("list-ordered",XF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Ol=he("list",WF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ze=he("loader-circle",ZF);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],um=he("mail",eq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],_s=he("map-pin",tq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],sq=he("megaphone",nq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],iq=he("menu",rq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],dm=he("message-circle",aq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],il=he("package",oq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],fm=he("phone",lq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qr=he("plus",cq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],C3=he("redo",uq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],fq=he("rotate-ccw",dq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],or=he("save",hq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],mq=he("search",pq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],xq=he("send",gq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bq=he("settings",yq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Bv=he("share-2",vq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Nq=he("shield",wq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Pr=he("shopping-bag",jq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Cq=he("square-pen",Sq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ki=he("star",kq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ih=he("tag",Eq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Mq=he("target",Tq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_q=he("trash-2",Aq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],zv=he("trending-up",Dq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Rq=he("twitter",Oq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],k3=he("undo",Lq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Bq=he("upload",Pq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],nd=he("user",zq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Qn=he("users",Iq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],Vh=he("waves",Vq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dn=he("x",Uq);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Fq=he("zap",$q);function E3(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=E3(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function sd(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=E3(t))&&(s&&(s+=" "),s+=e);return s}const Ge=({variant:t="primary",size:e="md",children:n,className:s,...r})=>{const i="font-semibold rounded-lg transition-all duration-200 inline-flex items-center justify-center gap-2",l={primary:"bg-gradient-to-r from-primary-600 to-primary-500 text-white hover:from-primary-700 hover:to-primary-600 shadow-lg shadow-primary-500/30",secondary:"bg-gradient-to-r from-accent-600 to-accent-500 text-white hover:from-accent-700 hover:to-accent-600 shadow-lg shadow-accent-500/30",outline:"border-2 border-primary-600 text-primary-600 hover:bg-primary-50",ghost:"text-gray-700 hover:bg-gray-100"},u={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"};return o.jsx(Y.button,{whileHover:{scale:1.02,transition:{duration:.2,ease:"easeOut"}},whileTap:{scale:.95},initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{opacity:{duration:.3},y:{duration:.3,ease:[.6,-.05,.01,.99]}},className:sd(i,l[t],u[e],s),...r,children:o.jsx(Y.span,{className:"inline-flex items-center gap-2",whileHover:{x:2},transition:{duration:.2},children:n})})},Je=({children:t,className:e,hover:n=!0})=>o.jsxs(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,ease:[.6,-.05,.01,.99]},whileHover:n?{y:-8,scale:1.02,transition:{duration:.3,ease:"easeOut"}}:void 0,className:sd("bg-white rounded-2xl shadow-xl p-6 border border-gray-100 overflow-hidden relative",n&&"hover:shadow-2xl transition-shadow duration-300",e),children:[n&&o.jsx(Y.div,{className:"absolute inset-0 bg-gradient-to-br from-primary-500/5 to-accent-500/5 opacity-0",whileHover:{opacity:1},transition:{duration:.3}}),o.jsx("div",{className:"relative z-10",children:t})]}),qq=({children:t,className:e,size:n="lg"})=>{const s={sm:"max-w-4xl",md:"max-w-6xl",lg:"max-w-7xl",full:"max-w-full"};return o.jsx("div",{className:sd("mx-auto px-4 sm:px-6 lg:px-8",s[n],e),children:t})},Ye=({children:t,className:e,containerSize:n="lg",background:s="none",id:r})=>{const i={white:"bg-white",gray:"bg-gray-50",gradient:"bg-gradient-to-br from-primary-50 via-white to-accent-50",none:""};return o.jsx("section",{id:r,className:sd("py-16 sm:py-20 lg:py-24",i[s],e),children:o.jsx(qq,{size:n,children:t})})},qo=({className:t,variant:e="rectangular",width:n,height:s,animate:r=!0})=>{const i={text:"rounded h-4",circular:"rounded-full",rectangular:"rounded-lg"},l=r?{backgroundPosition:["200% 0","-200% 0"]}:{};return o.jsx(Y.div,{className:sd("bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 bg-[length:200%_100%]",i[e],t),style:{width:n||"100%",height:s||(e==="text"?"1rem":"100%")},animate:l,transition:{duration:1.5,repeat:1/0,ease:"linear"}})},Hq=()=>o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 border border-gray-100",children:[o.jsx(qo,{variant:"rectangular",height:"200px",className:"mb-4"}),o.jsx(qo,{variant:"text",width:"60%",height:"24px",className:"mb-2"}),o.jsx(qo,{variant:"text",width:"100%",className:"mb-1"}),o.jsx(qo,{variant:"text",width:"80%",className:"mb-4"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(qo,{variant:"rectangular",width:"100px",height:"40px"}),o.jsx(qo,{variant:"rectangular",width:"100px",height:"40px"})]})]}),La=({count:t=6})=>o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:Array.from({length:t}).map((e,n)=>o.jsx(Hq,{},n))}),zc=({children:t,className:e="",itemCount:n})=>{const s=_.useRef(null),[r,i]=_.useState(0),l=()=>{if(s.current){const{scrollLeft:u}=s.current,d=s.current.firstElementChild?.clientWidth||0,p=Math.round(u/(d+24));i(Math.min(p,n-1))}};return _.useEffect(()=>{const u=s.current;if(u)return u.addEventListener("scroll",l),l(),window.addEventListener("resize",l),()=>{u.removeEventListener("scroll",l),window.removeEventListener("resize",l)}},[n]),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"sm:hidden flex items-center justify-center gap-2 mb-3 text-sm text-gray-500",children:o.jsxs(Y.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"flex items-center gap-1",children:[o.jsx("span",{children:"Swipe to see more"}),o.jsx(gl,{className:"w-4 h-4"})]})}),o.jsx("div",{ref:s,className:`flex overflow-x-auto pb-4 gap-6 snap-x snap-mandatory scrollbar-hide sm:grid sm:gap-8 sm:overflow-visible sm:pb-0 ${e}`,children:t}),n>1&&o.jsx("div",{className:"sm:hidden flex justify-center gap-2 mt-4",children:Array.from({length:n}).map((u,d)=>o.jsx("button",{onClick:()=>{if(s.current){const h=s.current.firstElementChild?.clientWidth||0;s.current.scrollTo({left:d*(h+24),behavior:"smooth"})}},className:`transition-all duration-300 rounded-full ${r===d?"w-6 h-2 bg-primary-600":"w-2 h-2 bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to item ${d+1}`},d))})]})},Kn=({amount:t,className:e="",showSymbol:n=!0})=>{const s=typeof t=="number"?t.toLocaleString():t;return o.jsxs("span",{className:e,children:[n&&o.jsx("span",{className:"icon-saudi_riyal",style:{marginInlineEnd:"0.25em"},"aria-label":"SAR",children:""}),s]})},Dx=[{code:"en",name:"English",nativeName:"English",flag:""},{code:"ar",name:"Arabic",nativeName:"",flag:""}],nb=()=>{const{i18n:t}=et(),[e,n]=Pe.useState(!1),s=Dx.find(i=>i.code===t.language)||Dx[0],r=i=>{t.changeLanguage(i),n(!1)};return _.useEffect(()=>{const i=t.language==="ar";document.documentElement.dir=i?"rtl":"ltr",document.documentElement.lang=t.language},[t.language]),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>n(!e),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Change language",children:[o.jsx(LF,{className:"w-5 h-5"}),o.jsxs("span",{className:"hidden sm:inline text-sm font-medium",children:[s.flag," ",s.nativeName]})]}),e&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),o.jsx("div",{className:"absolute top-full mt-2 right-0 z-50 min-w-[200px] bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:Dx.map(i=>o.jsxs("button",{onClick:()=>r(i.code),className:`w-full px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center gap-3 ${t.language===i.code?"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400":"text-gray-700 dark:text-gray-300"}`,children:[o.jsx("span",{className:"text-2xl",children:i.flag}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:i.nativeName}),o.jsx("div",{className:"text-xs opacity-70",children:i.name})]}),t.language===i.code&&o.jsx("svg",{className:"w-5 h-5 ml-auto",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},i.code))})]})]})},Kq=()=>{const{t}=et(),[e,n]=_.useState(!1),[s,r]=_.useState(!1),[i,l]=_.useState(null),u=zs(),d=kt(),h=()=>{if(u.pathname==="/"){const m=document.getElementById("calendar");m&&m.scrollIntoView({behavior:"smooth"})}else sessionStorage.setItem("scrollToCalendar","true"),d("/")};_.useEffect(()=>{u.pathname==="/"&&sessionStorage.getItem("scrollToCalendar")==="true"&&(sessionStorage.removeItem("scrollToCalendar"),setTimeout(()=>{const m=document.getElementById("calendar");m&&m.scrollIntoView({behavior:"smooth"})},500))},[u.pathname]);const p=[{name:t("nav.home"),href:"/"},{name:t("nav.about"),href:"/about"},{name:t("nav.shop"),href:"/shop",dropdown:[{name:t("shop.allProducts"),href:"/shop/products"},{name:t("courses.allCourses"),href:"/shop/courses"},{name:t("trips.allTrips"),href:"/shop/trips"}]},{name:t("nav.blog"),href:"/blog"},{name:t("nav.initiatives"),href:"/initiatives"},{name:t("nav.contact"),href:"/contact"}];return _.useEffect(()=>{const m=()=>{r(window.scrollY>20)};return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]),_.useEffect(()=>{n(!1),l(null)},[u]),o.jsxs(Y.nav,{initial:{y:-100},animate:{y:0},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${s?"bg-white/95 backdrop-blur-lg shadow-lg":"bg-white/90 backdrop-blur-sm"}`,children:[o.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-12",children:o.jsxs("div",{className:"flex items-center justify-between h-20",children:[o.jsx("div",{className:"shrink-0",children:o.jsxs(Be,{to:"/",className:"flex items-center gap-3 group",children:[o.jsx(Y.div,{whileHover:{scale:1.05,rotate:5},transition:{duration:.3},className:"bg-gradient-to-br from-primary-600 to-accent-600 p-2.5 rounded-xl shadow-lg",children:o.jsx(Vh,{className:"w-7 h-7 text-white"})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent",children:"Coral & Shells"}),o.jsx("span",{className:"text-xs text-gray-600",children:"Diving Center"})]})]})}),o.jsx("div",{className:"hidden lg:flex items-center gap-1 flex-1 justify-center",children:p.map(m=>o.jsx("div",{className:"relative",onMouseEnter:()=>m.dropdown&&l(m.name),onMouseLeave:()=>l(null),children:m.dropdown?o.jsxs(o.Fragment,{children:[o.jsxs("button",{className:"flex items-center gap-1 px-4 py-2 text-sm font-medium text-gray-700 hover:text-primary-600 transition-colors rounded-lg hover:bg-primary-50",children:[m.name,o.jsx(tb,{className:"w-4 h-4"})]}),o.jsx(Rt,{children:i===m.name&&o.jsx(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute top-full left-0 mt-2 w-48 bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden",children:m.dropdown.map(x=>o.jsx(Be,{to:x.href,className:"block px-4 py-3 text-sm text-gray-700 hover:bg-primary-50 hover:text-primary-600 transition-colors",children:x.name},x.name))})})]}):o.jsxs(Be,{to:m.href,className:"relative px-4 py-2 text-sm font-medium text-gray-700 hover:text-primary-600 transition-colors rounded-lg hover:bg-primary-50",children:[m.name,u.pathname===m.href&&o.jsx(Y.div,{layoutId:"navbar-indicator",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-primary-600 to-accent-600",transition:{type:"spring",bounce:.2,duration:.6}})]})},m.name))}),o.jsxs("div",{className:"hidden lg:flex items-center gap-3 flex-shrink-0",children:[o.jsx("button",{onClick:h,className:"p-2 rounded-lg text-gray-700 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"View Calendar",children:o.jsx(kk,{className:"w-5 h-5"})}),o.jsx(nb,{}),o.jsx(Ge,{size:"sm",children:"Book Now"})]}),o.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[o.jsx("button",{onClick:h,className:"p-2 rounded-lg text-gray-700 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"View Calendar",children:o.jsx(kk,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>n(!e),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e?o.jsx(dn,{className:"w-6 h-6"}):o.jsx(iq,{className:"w-6 h-6"})})]})]})}),o.jsx(Rt,{children:e&&o.jsx(Y.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"lg:hidden bg-white border-t border-gray-200",children:o.jsxs("div",{className:"px-4 py-4 space-y-2",children:[p.map(m=>o.jsx("div",{children:m.dropdown?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>l(i===m.name?null:m.name),className:"w-full flex items-center justify-between px-4 py-3 rounded-lg text-gray-700 hover:bg-primary-50 transition-colors",children:[m.name,o.jsx(tb,{className:`w-4 h-4 transition-transform ${i===m.name?"rotate-180":""}`})]}),i===m.name&&o.jsx("div",{className:"ml-4 mt-2 space-y-1",children:m.dropdown.map(x=>o.jsx(Be,{to:x.href,className:"block px-4 py-2 text-sm text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",children:x.name},x.name))})]}):o.jsx(Be,{to:m.href,className:`block px-4 py-3 rounded-lg transition-colors ${u.pathname===m.href?"bg-primary-50 text-primary-600 font-medium":"text-gray-700 hover:bg-primary-50"}`,children:m.name})},m.name)),o.jsxs("div",{className:"pt-2 space-y-2",children:[o.jsx("div",{className:"px-4",children:o.jsx(nb,{})}),o.jsx(Ge,{className:"w-full",size:"sm",children:"Book Now"})]})]})})})]})},Gq=[{Icon:cm,href:"#",label:"Instagram"},{Icon:am,href:"#",label:"Facebook"},{Icon:dm,href:"#",label:"WhatsApp"}],Qq=()=>{const{t}=et(),{data:e=[]}=oA({active:!0}),n={company:[{name:t("footer.aboutUs"),href:"/about"},{name:t("footer.ourTeam"),href:"/about#team"},{name:t("footer.contact"),href:"/contact"},{name:t("nav.blog"),href:"/blog"}],services:[{name:t("footer.divingCourses"),href:"/shop/courses"},{name:t("footer.divingTrips"),href:"/shop/trips"},{name:t("footer.equipment"),href:"/shop/products"}]},s=(r,i)=>r.href.startsWith("http")||r.openInNewTab?o.jsx("li",{children:o.jsx("a",{href:r.href,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-primary-400 transition-colors text-sm inline-block hover:translate-x-1 duration-200",children:r.name})},i):o.jsx("li",{children:o.jsx(Be,{to:r.href,className:"text-gray-400 hover:text-primary-400 transition-colors text-sm inline-block hover:translate-x-1 duration-200",children:r.name})},i);return o.jsxs("footer",{className:"bg-gradient-to-b from-gray-900 to-black text-gray-300",children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-12 mb-12",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs(Be,{to:"/",className:"flex items-center gap-3 mb-6 group",children:[o.jsx(Y.div,{whileHover:{rotate:360},transition:{duration:.5},className:"bg-gradient-to-br from-primary-600 to-accent-600 p-2.5 rounded-xl shadow-lg",children:o.jsx(Vh,{className:"w-7 h-7 text-white"})}),o.jsxs("div",{children:[o.jsx("span",{className:"text-2xl font-bold text-white block",children:"Coral & Shells"}),o.jsx("span",{className:"text-sm text-gray-400",children:"Diving Center"})]})]}),o.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:t("footer.tagline")}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[o.jsx(fm,{className:"w-4 h-4 text-primary-400"}),o.jsx("span",{children:"+966 50 123 4567"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[o.jsx(um,{className:"w-4 h-4 text-primary-400"}),o.jsx("span",{children:"info@coralsandshells.sa"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[o.jsx(_s,{className:"w-4 h-4 text-primary-400"}),o.jsx("span",{children:t("footer.location")})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold mb-4 text-lg",children:t("footer.company")}),o.jsx("ul",{className:"space-y-3",children:n.company.map(r=>s(r,r.name))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold mb-4 text-lg",children:t("footer.services")}),o.jsx("ul",{className:"space-y-3",children:n.services.map(r=>s(r,r.name))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold mb-4 text-lg",children:t("footer.support")}),o.jsx("ul",{className:"space-y-3",children:e.length>0?e.map(r=>s({name:r.title,href:r.url,openInNewTab:r.open_in_new_tab},r.id)):o.jsxs(o.Fragment,{children:[s({name:t("footer.faqs"),href:"#"},"faqs"),s({name:t("footer.privacyPolicy"),href:"#"},"privacy"),s({name:t("footer.termsConditions"),href:"#"},"terms")]})})]})]}),o.jsx("div",{className:"pt-8 border-t border-gray-800",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-6",children:[o.jsx("div",{className:"flex gap-4",children:Gq.map(({Icon:r,href:i,label:l})=>o.jsx(Y.a,{href:i,whileHover:{y:-3},className:"bg-gray-800 hover:bg-gradient-to-br hover:from-primary-600 hover:to-accent-600 p-3 rounded-lg transition-all","aria-label":l,children:o.jsx(r,{className:"w-5 h-5"})},l))}),o.jsxs("p",{className:"text-sm text-gray-400 text-center sm:text-right",children:[" ",new Date().getFullYear()," ",t("footer.copyright")]})]})})]}),o.jsx("div",{className:"h-2 bg-gradient-to-r from-primary-600 via-accent-600 to-secondary-600"})]})},Yq=()=>{const t="+966123456789",e="Hello! I would like to inquire about your diving services.",n=()=>{const s=`https://wa.me/${t}?text=${encodeURIComponent(e)}`;window.open(s,"_blank")};return o.jsxs(Y.button,{onClick:n,className:"fixed bottom-6 right-6 z-50 bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.95},initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:1},children:[o.jsx(dm,{className:"w-6 h-6"}),o.jsx(Y.span,{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0}})]})},Jq=()=>{const{data:t=[],isLoading:e,refetch:n}=rA({active:!0,position:"hero"}),[s,r]=_.useState(0),[i,l]=_.useState(0),[u,d]=_.useState(!1);_.useEffect(()=>{n()},[n]);const h=t;_.useEffect(()=>{if(u)return;const b=setInterval(()=>{l(1),r(j=>(j+1)%h.length)},8e3);return()=>clearInterval(b)},[h.length,u]);const p=b=>{l(b>s?1:-1),r(b)},m=()=>{l(1),r(b=>(b+1)%h.length)},x=()=>{l(-1),r(b=>(b-1+h.length)%h.length)},y={enter:{opacity:0},center:{zIndex:1,opacity:1},exit:{zIndex:0,opacity:0}};return e?o.jsx("div",{className:"relative h-screen w-full flex items-center justify-center bg-gray-900",children:o.jsx(ze,{className:"w-12 h-12 animate-spin text-white"})}):h.length===0?null:o.jsxs("div",{className:"relative h-screen w-full overflow-hidden",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[o.jsx(Rt,{initial:!1,mode:"wait",children:o.jsxs(Y.div,{variants:y,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3,ease:"easeInOut"},className:"absolute inset-0",style:{willChange:"opacity"},children:[o.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${h[s].image_url||h[s].image})`},children:o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/30 to-black/60"})}),o.jsx("div",{className:"relative h-full flex items-center justify-center text-center px-4",children:o.jsxs("div",{className:"max-w-5xl",children:[o.jsx("h1",{className:"text-6xl sm:text-7xl lg:text-8xl font-bold text-white mb-6 tracking-wider",style:{textShadow:"0 4px 20px rgba(0,0,0,0.5)"},children:h[s].title}),h[s].description&&o.jsx("p",{className:"text-xl sm:text-2xl text-white/90 mb-8",children:h[s].description}),h[s].button_text&&h[s].button_link&&o.jsx(Be,{to:h[s].button_link||"#",className:"inline-block px-8 py-4 bg-gradient-to-r from-primary-600 to-accent-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all",children:h[s].button_text})]})})]},s)}),o.jsx("button",{onClick:x,className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 bg-white/20 hover:bg-white/30 text-white p-3 rounded-full transition-colors","aria-label":"Previous slide",children:o.jsx(zh,{className:"w-6 h-6"})}),o.jsx("button",{onClick:m,className:"absolute right-4 top-1/2 -translate-y-1/2 z-10 bg-white/20 hover:bg-white/30 text-white p-3 rounded-full transition-colors","aria-label":"Next slide",children:o.jsx(gl,{className:"w-6 h-6"})}),o.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-10 flex gap-3",children:h.map((b,j)=>o.jsx("button",{onClick:()=>p(j),className:`transition-all ${j===s?"w-12 bg-white":"w-3 bg-white/50 hover:bg-white/75"} h-3 rounded-full`,"aria-label":`Go to slide ${j+1}`},j))}),o.jsx("div",{className:"absolute bottom-24 left-1/2 -translate-x-1/2 z-10",children:o.jsx("div",{className:"w-6 h-10 border-2 border-white/50 rounded-full flex justify-center pt-2",children:o.jsx("div",{className:"w-1.5 h-3 bg-white/70 rounded-full animate-bounce"})})})]})},Xq=()=>{const[t,e]=_.useState(new Date),[n,s]=_.useState(null),[r,i]=_.useState(null),l=kt(),{data:u=[],isLoading:d,error:h}=Xp({active:!0}),p=()=>{e(new Date(t.getFullYear(),t.getMonth()-1,1))},m=()=>{e(new Date(t.getFullYear(),t.getMonth()+1,1))},x=new Date,y=u.filter(L=>new Date(L.start_date)>=x).sort((L,V)=>new Date(L.start_date).getTime()-new Date(V.start_date).getTime()).slice(0,5),b=u.reduce((L,V)=>{const F=new Date(V.start_date).toDateString();return L[F]||(L[F]=[]),L[F].push(V),L},{}),w=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],C=t.getFullYear(),M=new Date(C,t.getMonth()+1,0).getDate(),E=new Date(C,t.getMonth(),1).getDay(),S=[];for(let L=0;L<E;L++)S.push(null);for(let L=1;L<=M;L++)S.push(L);const k=L=>{if(!L)return!1;const V=new Date(C,t.getMonth(),L);return b[V.toDateString()]?.length>0},R=L=>{if(!L)return[];const V=new Date(C,t.getMonth(),L);return b[V.toDateString()]||[]},O=L=>{if(!L)return;const V=new Date(C,t.getMonth(),L),F=R(L);window.innerWidth<1024&&F.length>0?F.length===1?l(`/events/${F[0].id}`):i({date:V,events:F}):s(V)},T=n?b[n.toDateString()]||[]:[],D=L=>!L||!n?!1:new Date(C,t.getMonth(),L).toDateString()===n.toDateString(),B=L=>{if(!L)return!1;const V=new Date(C,t.getMonth(),L),F=new Date;return V.toDateString()===F.toDateString()};return o.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[o.jsxs(Y.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"bg-white rounded-2xl shadow-lg p-4 lg:p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[o.jsxs("h3",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:[w," ",C]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:p,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Previous month",children:o.jsx(zh,{className:"w-5 h-5"})}),o.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Next month",children:o.jsx(gl,{className:"w-5 h-5"})})]})]}),o.jsx("div",{className:"grid grid-cols-7 gap-1 lg:gap-2 mb-2",children:["S","M","T","W","T","F","S"].map((L,V)=>o.jsxs("div",{className:"text-center text-xs lg:text-sm font-semibold text-gray-600 py-1 lg:py-2",children:[o.jsx("span",{className:"lg:hidden",children:L}),o.jsx("span",{className:"hidden lg:inline",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][V]})]},V))}),o.jsx("div",{className:"grid grid-cols-7 gap-1 lg:gap-2",children:S.map((L,V)=>{const F=R(L);return o.jsxs(Y.div,{onClick:()=>O(L),whileHover:L?{scale:1.02}:{},whileTap:L?{scale:.98}:{},className:`
                  min-h-[60px] lg:aspect-square flex flex-col items-center justify-start p-1 lg:p-2 rounded-lg text-xs lg:text-sm font-medium
                  transition-all duration-200 relative
                  ${L?"cursor-pointer":"pointer-events-none"}
                  ${D(L)?"bg-gradient-to-br from-primary-600 to-accent-600 text-white shadow-lg ring-2 ring-primary-300 ring-offset-1":k(L)?"bg-primary-50 text-primary-700 hover:bg-primary-100":"text-gray-700 hover:bg-gray-50"}
                  ${B(L)&&!D(L)?"ring-2 ring-primary-400":""}
                `,children:[o.jsx("span",{className:`${D(L)?"text-white":""}`,children:L}),F.length>0&&o.jsxs("div",{className:"mt-1 w-full space-y-0.5 lg:hidden",children:[F.slice(0,2).map((K,re)=>o.jsx("div",{className:`text-[8px] leading-tight truncate px-0.5 rounded ${D(L)?"bg-white/30 text-white":"bg-primary-200 text-primary-800"}`,children:K.title.length>8?K.title.slice(0,8)+"..":K.title},re)),F.length>2&&o.jsxs("div",{className:`text-[8px] ${D(L)?"text-white/80":"text-primary-600"}`,children:["+",F.length-2," more"]})]}),k(L)&&!D(L)&&o.jsx("div",{className:"hidden lg:block absolute bottom-1 w-1.5 h-1.5 bg-primary-600 rounded-full"})]},V)})}),o.jsxs("div",{className:"hidden lg:flex mt-6 items-center gap-4 text-sm flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-primary-100 rounded"}),o.jsx("span",{className:"text-gray-600",children:"Has Events"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-gradient-to-br from-primary-600 to-accent-600 rounded"}),o.jsx("span",{className:"text-gray-600",children:"Selected"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 border-2 border-primary-400 rounded"}),o.jsx("span",{className:"text-gray-600",children:"Today"})]})]}),o.jsx("div",{className:"lg:hidden mt-4 text-center",children:o.jsxs(Be,{to:"/events",className:"inline-flex items-center gap-2 text-primary-600 hover:text-primary-700 font-medium text-sm transition-colors",children:["View All Events ",o.jsx(Ft,{className:"w-4 h-4"})]})}),n&&o.jsx("div",{className:"hidden lg:block mt-4",children:o.jsx("button",{onClick:()=>s(null),className:"text-sm text-primary-600 hover:text-primary-700 font-medium transition-colors",children:" Clear selection"})})]}),o.jsx(Rt,{children:r&&o.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 lg:hidden flex items-end justify-center bg-black/50",onClick:()=>i(null),children:o.jsxs(Y.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25},className:"bg-white w-full max-h-[70vh] rounded-t-2xl overflow-hidden",onClick:L=>L.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsx("h3",{className:"font-bold text-lg",children:r.date.toLocaleDateString("en-US",{month:"long",day:"numeric"})}),o.jsx("button",{onClick:()=>i(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(dn,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-4 space-y-3 overflow-y-auto max-h-[60vh]",children:r.events.map(L=>o.jsxs(Be,{to:`/events/${L.id}`,className:"block bg-primary-50 rounded-xl p-4 hover:bg-primary-100 transition-colors",onClick:()=>i(null),children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:L.title}),o.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:L.description}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[o.jsx("span",{children:new Date(L.start_date).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}),o.jsx("span",{className:"px-2 py-0.5 bg-primary-200 text-primary-700 rounded-full capitalize",children:L.type})]})]},L.id))})]})})}),o.jsxs(Y.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"hidden lg:block space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n?`Events on ${n.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}`:"Upcoming Events"}),n&&o.jsxs("span",{className:"px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm font-semibold",children:[T.length," ",T.length===1?"Event":"Events"]})]}),d?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx(ze,{className:"w-12 h-12 animate-spin text-primary-600"})}):h?o.jsx("div",{className:"text-center py-12 bg-white rounded-xl shadow-lg p-6",children:o.jsx("p",{className:"text-red-600",children:"Failed to load events. Please try again later."})}):n?T.length===0?o.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-lg p-6",children:[o.jsx(Ht,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"No events on this date."}),o.jsx("button",{onClick:()=>s(null),className:"text-primary-600 hover:text-primary-700 font-medium transition-colors",children:"View upcoming events"})]}):o.jsxs("div",{className:"space-y-4",children:[T.map(L=>o.jsx(Be,{to:`/events/${L.id}`,className:"block",children:o.jsx(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{x:5},className:"bg-gradient-to-r from-white to-primary-50 rounded-xl shadow-lg p-6 border-l-4 border-primary-600 cursor-pointer hover:shadow-xl transition-shadow",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"bg-primary-600 p-3 rounded-lg",children:o.jsx(Ht,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-bold text-lg mb-1 hover:text-primary-600 transition-colors",children:L.title}),o.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:L.description}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 flex-wrap",children:[o.jsx("span",{children:new Date(L.start_date).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}),o.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded-full text-xs font-semibold capitalize",children:L.type}),L.location&&o.jsx("span",{className:"text-gray-600",children:L.location})]}),o.jsxs("div",{className:"mt-3 flex items-center gap-1 text-primary-600 text-sm font-medium",children:["View Details ",o.jsx(Ft,{className:"w-4 h-4"})]})]})]})})},L.id)),o.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 flex items-center justify-between",children:[o.jsxs("button",{onClick:()=>s(null),className:"text-primary-600 hover:text-primary-700 font-medium transition-colors flex items-center gap-2",children:[o.jsx(Ht,{className:"w-4 h-4"}),"View upcoming events"]}),o.jsxs(Be,{to:"/events",className:"text-primary-600 hover:text-primary-700 font-medium transition-colors flex items-center gap-2",children:["All Events ",o.jsx(Ft,{className:"w-4 h-4"})]})]})]}):y.length===0?o.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-lg p-6",children:[o.jsx(Ht,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),o.jsx("p",{className:"text-gray-600",children:"No upcoming events at the moment."})]}):o.jsxs("div",{className:"space-y-4",children:[y.map(L=>o.jsx(Be,{to:`/events/${L.id}`,className:"block",children:o.jsx(Y.div,{whileHover:{x:5},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-primary-600 cursor-pointer hover:shadow-xl transition-shadow",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"bg-primary-100 p-3 rounded-lg",children:o.jsx(Ht,{className:"w-6 h-6 text-primary-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-bold text-lg mb-1 hover:text-primary-600 transition-colors",children:L.title}),o.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:L.description}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 flex-wrap",children:[o.jsx("span",{children:new Date(L.start_date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}),o.jsx("span",{children:new Date(L.start_date).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}),o.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded-full text-xs font-semibold capitalize",children:L.type}),L.location&&o.jsx("span",{className:"text-gray-600",children:L.location})]}),o.jsxs("div",{className:"mt-3 flex items-center gap-1 text-primary-600 text-sm font-medium",children:["View Details ",o.jsx(Ft,{className:"w-4 h-4"})]})]})]})})},L.id)),o.jsx("div",{className:"mt-4 text-center",children:o.jsxs(Be,{to:"/events",className:"inline-flex items-center gap-2 text-primary-600 hover:text-primary-700 font-medium transition-colors",children:["View All Events ",o.jsx(Ft,{className:"w-4 h-4"})]})})]})]})]})},Iv=({isOpen:t,onClose:e,item:n,type:s})=>{const{t:r}=et(),[i,{isLoading:l}]=tI(),[u,d]=_.useState(!1),[h,p]=_.useState({name:"",email:"",phone:""}),[m,x]=_.useState({}),y=()=>{const E={};return h.name.trim()||(E.name=r("booking.errors.nameRequired")),h.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h.email)||(E.email=r("booking.errors.emailInvalid")):E.email=r("booking.errors.emailRequired"),h.phone.trim()||(E.phone=r("booking.errors.phoneRequired")),x(E),Object.keys(E).length===0},b=async E=>{if(E.preventDefault(),!!y())try{await i({name:h.name,email:h.email,phone:h.phone,bookable_type:s,bookable_id:n.id}).unwrap(),d(!0)}catch(S){console.error("Booking failed:",S)}},j=()=>{p({name:"",email:"",phone:""}),x({}),d(!1),e()},w=s==="course",C=n,M=n;return o.jsx(Rt,{children:t&&o.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:j,children:o.jsxs(Y.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",onClick:E=>E.stopPropagation(),children:[o.jsxs("div",{className:"relative h-48 overflow-hidden",children:[n.image_url?o.jsx("img",{src:n.image_url,alt:n.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary-500 to-accent-500"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),o.jsx("button",{onClick:j,className:"absolute top-4 right-4 p-2 bg-white/20 backdrop-blur-sm rounded-full hover:bg-white/30 transition-colors",children:o.jsx(dn,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"absolute bottom-4 left-4 right-4 text-white",children:[o.jsx("div",{className:"flex items-center gap-2 mb-2",children:o.jsx("span",{className:"px-3 py-1 bg-white/20 backdrop-blur-sm rounded-full text-sm font-medium",children:w?C.level:M.difficulty})}),o.jsx("h2",{className:"text-2xl font-bold",children:n.name})]})]}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-12rem)]",children:u?o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-8",children:[o.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(Yo,{className:"w-10 h-10 text-green-600"})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:r("booking.successTitle")}),o.jsx("p",{className:"text-gray-600 mb-6",children:r("booking.successMessage")}),o.jsx(Ge,{onClick:j,variant:"primary",children:r("common.close")})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6 p-4 bg-gray-50 rounded-xl",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(Rs,{className:"w-5 h-5 mx-auto mb-1 text-primary-600"}),o.jsx("p",{className:"text-xs text-gray-500",children:r("booking.duration")}),o.jsx("p",{className:"font-semibold text-gray-900",children:n.duration})]}),w?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-center",children:[o.jsx(Ir,{className:"w-5 h-5 mx-auto mb-1 text-primary-600"}),o.jsx("p",{className:"text-xs text-gray-500",children:r("booking.level")}),o.jsx("p",{className:"font-semibold text-gray-900",children:C.level})]}),o.jsxs("div",{className:"text-center",children:[o.jsx(Qn,{className:"w-5 h-5 mx-auto mb-1 text-primary-600"}),o.jsx("p",{className:"text-xs text-gray-500",children:r("booking.maxStudents")}),o.jsx("p",{className:"font-semibold text-gray-900",children:C.max_students||"-"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-center",children:[o.jsx(_s,{className:"w-5 h-5 mx-auto mb-1 text-primary-600"}),o.jsx("p",{className:"text-xs text-gray-500",children:r("booking.location")}),o.jsx("p",{className:"font-semibold text-gray-900 truncate",children:M.location})]}),o.jsxs("div",{className:"text-center",children:[o.jsx(Qn,{className:"w-5 h-5 mx-auto mb-1 text-primary-600"}),o.jsx("p",{className:"text-xs text-gray-500",children:r("booking.maxParticipants")}),o.jsx("p",{className:"font-semibold text-gray-900",children:M.max_participants||"-"})]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx(Kn,{amount:n.price,className:"text-2xl font-bold text-primary-600"}),o.jsx("p",{className:"text-xs text-gray-500",children:r("booking.price")})]})]}),o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:r("booking.fillDetails")}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r("booking.name")," *"]}),o.jsxs("div",{className:"relative",children:[o.jsx(nd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",value:h.name,onChange:E=>p({...h,name:E.target.value}),className:`w-full pl-10 pr-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all ${m.name?"border-red-500":"border-gray-300"}`,placeholder:r("booking.namePlaceholder")})]}),m.name&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.name})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r("booking.email")," *"]}),o.jsxs("div",{className:"relative",children:[o.jsx(um,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"email",value:h.email,onChange:E=>p({...h,email:E.target.value}),className:`w-full pl-10 pr-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all ${m.email?"border-red-500":"border-gray-300"}`,placeholder:r("booking.emailPlaceholder")})]}),m.email&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.email})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r("booking.phone")," *"]}),o.jsxs("div",{className:"relative",children:[o.jsx(fm,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"tel",value:h.phone,onChange:E=>p({...h,phone:E.target.value}),className:`w-full pl-10 pr-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all ${m.phone?"border-red-500":"border-gray-300"}`,placeholder:r("booking.phonePlaceholder")})]}),m.phone&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.phone})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(Ge,{type:"button",variant:"outline",className:"flex-1",onClick:j,children:r("common.cancel")}),o.jsx(Ge,{type:"submit",variant:"primary",className:"flex-1",disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(ze,{className:"w-4 h-4 animate-spin"}),r("booking.submitting")]}):r("booking.submit")})]})]})]})})]})})})},Wq=()=>{const{t}=et(),{data:e,isLoading:n,error:s}=qz();if(n)return o.jsx(Ye,{background:"white",children:o.jsx("div",{className:"animate-pulse",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[o.jsx("div",{className:"relative aspect-[4/5] max-w-md mx-auto lg:mx-0 bg-gray-200 rounded-2xl"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),o.jsx("div",{className:"h-12 bg-gray-200 rounded w-2/3"}),o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4"}),o.jsx("div",{className:"h-24 bg-gray-200 rounded"})]})]})})});if(s||!e)return null;const r={instagram:cm,facebook:am,linkedin:JF,twitter:Rq},i=e.image?e.image.startsWith("http")?e.image:`/storage/${e.image}`:"/placeholder.svg";return o.jsx(Ye,{background:"white",className:"overflow-hidden",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-16 items-center",children:[o.jsx(Y.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"relative",children:o.jsxs("div",{className:"relative aspect-[4/5] max-w-md mx-auto lg:mx-0",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-100 to-accent-100 rounded-2xl transform rotate-3 scale-105"}),o.jsxs("div",{className:"relative h-full overflow-hidden rounded-2xl shadow-2xl",children:[o.jsx("img",{src:i,alt:e.name,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1/3 bg-gradient-to-t from-black/60 to-transparent"}),e.experience&&o.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-white",children:[o.jsx(Rs,{className:"w-5 h-5"}),o.jsx("span",{className:"text-sm font-medium",children:e.experience})]})})]}),e.certifications&&e.certifications.length>0&&o.jsxs(Y.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.3,duration:.4},className:"absolute -right-4 -bottom-4 lg:-right-8 lg:-bottom-8 bg-white rounded-xl shadow-xl p-4 max-w-[200px]",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Ir,{className:"w-5 h-5 text-primary-600"}),o.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Certifications"})]}),o.jsxs("p",{className:"text-xs text-gray-600 line-clamp-2",children:[e.certifications.slice(0,2).join(", "),e.certifications.length>2&&` +${e.certifications.length-2} more`]})]})]})}),o.jsxs(Y.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"text-center lg:text-left",children:[o.jsx("span",{className:"inline-block px-4 py-1.5 bg-primary-100 text-primary-700 rounded-full text-sm font-semibold mb-4",children:t("home.meetInstructor","Meet Our Instructor")}),o.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 mb-2",children:e.name}),o.jsx("p",{className:"text-xl text-primary-600 font-semibold mb-6",children:e.role}),e.bio&&o.jsx("p",{className:"text-gray-600 text-lg leading-relaxed mb-6 max-w-xl mx-auto lg:mx-0",children:e.bio}),e.certifications&&e.certifications.length>0&&o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"flex flex-wrap gap-2 justify-center lg:justify-start",children:e.certifications.map((l,u)=>o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm",children:[o.jsx(Ir,{className:"w-3.5 h-3.5 text-primary-600"}),l]},u))})}),e.social_links&&Object.keys(e.social_links).length>0&&o.jsx("div",{className:"flex gap-3 justify-center lg:justify-start mb-8",children:Object.entries(e.social_links).map(([l,u])=>{if(!u)return null;const d=r[l];return d?o.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 bg-gray-100 hover:bg-primary-100 text-gray-600 hover:text-primary-600 rounded-full transition-colors",children:o.jsx(d,{className:"w-5 h-5"})},l):null})}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:[o.jsx(Be,{to:"/about",children:o.jsxs(Ge,{size:"lg",children:[t("home.viewTeam","View Our Team"),o.jsx(Ft,{className:"w-5 h-5"})]})}),o.jsx(Be,{to:"/contact",children:o.jsx(Ge,{variant:"outline",size:"lg",children:t("home.contactUs","Contact Us")})})]})]})]})})},rd=({variant:t="primary",opacity:e=.1,className:n=""})=>{const s={primary:"#FF6B35",secondary:"#004E89",accent:"#F7B801",light:"#E8F1F5"};return o.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none ${n}`,children:[o.jsxs("svg",{className:"absolute bottom-0 left-0 w-full",viewBox:"0 0 1440 320",preserveAspectRatio:"none",style:{height:"100%"},children:[o.jsx(Y.path,{fill:s[t],fillOpacity:e,d:"M0,96L48,112C96,128,192,160,288,186.7C384,213,480,235,576,213.3C672,192,768,128,864,128C960,128,1056,192,1152,208C1248,224,1344,192,1392,176L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:e},transition:{pathLength:{duration:2,ease:"easeInOut"},opacity:{duration:1}}}),o.jsx(Y.path,{fill:s[t],fillOpacity:e*.5,d:"M0,224L48,213.3C96,203,192,181,288,181.3C384,181,480,203,576,224C672,245,768,267,864,250.7C960,235,1056,181,1152,165.3C1248,149,1344,171,1392,181.3L1440,192L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:e*.5},transition:{pathLength:{duration:2.5,ease:"easeInOut",delay:.2},opacity:{duration:1,delay:.2}}})]}),o.jsx("svg",{className:"absolute top-0 left-0 w-full rotate-180",viewBox:"0 0 1440 320",preserveAspectRatio:"none",style:{height:"50%"},children:o.jsx(Y.path,{fill:s[t],fillOpacity:e*.3,d:"M0,96L48,112C96,128,192,160,288,186.7C384,213,480,235,576,213.3C672,192,768,128,864,128C960,128,1056,192,1152,208C1248,224,1344,192,1392,176L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z",animate:{d:["M0,96L48,112C96,128,192,160,288,186.7C384,213,480,235,576,213.3C672,192,768,128,864,128C960,128,1056,192,1152,208C1248,224,1344,192,1392,176L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z","M0,160L48,144C96,128,192,96,288,90.7C384,85,480,107,576,128C672,149,768,171,864,165.3C960,160,1056,128,1152,122.7C1248,117,1344,139,1392,149.3L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z","M0,96L48,112C96,128,192,160,288,186.7C384,213,480,235,576,213.3C672,192,768,128,864,128C960,128,1056,192,1152,208C1248,224,1344,192,1392,176L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}})})]})},Ox=({color:t="from-primary-400 to-accent-400",size:e=400,blur:n=60,position:s={x:"50%",y:"50%"},animate:r=!0})=>{const i={animate:{scale:[1,1.2,1.1,1],rotate:[0,90,180,270,360],borderRadius:["60% 40% 30% 70%","30% 60% 70% 40%","50% 50% 50% 50%","60% 40% 30% 70%"]}};return o.jsx(Y.div,{className:`absolute bg-gradient-to-br ${t}`,style:{width:e,height:e,left:s.x,top:s.y,filter:`blur(${n}px)`,transform:"translate(-50%, -50%)",borderRadius:"60% 40% 30% 70%"},variants:i,animate:r?"animate":void 0,transition:{duration:20,repeat:1/0,ease:"easeInOut"}})},Zq=({className:t=""})=>o.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none ${t}`,children:[o.jsx(Ox,{color:"from-primary-400/20 to-accent-400/20",size:600,blur:80,position:{x:"20%",y:"30%"}}),o.jsx(Ox,{color:"from-secondary-400/15 to-primary-400/15",size:500,blur:70,position:{x:"80%",y:"60%"}}),o.jsx(Ox,{color:"from-accent-400/10 to-secondary-400/10",size:400,blur:60,position:{x:"60%",y:"80%"}})]}),Au=({children:t,staggerDelay:e=.1,className:n=""})=>{const s=_.useRef(null),r=h3(s,{once:!0,margin:"-50px"});return o.jsx(Y.div,{ref:s,initial:"hidden",animate:r?"visible":"hidden",variants:{visible:{transition:{staggerChildren:e}}},className:n,children:Pe.Children.map(t,i=>o.jsx(Y.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.6,-.05,.01,.99]}}},children:i}))})},eH=({end:t,duration:e=2,suffix:n="",prefix:s="",className:r=""})=>{const[i,l]=_.useState(0),u=_.useRef(null),d=h3(u,{once:!0,margin:"-100px"}),h=_.useRef(!1);return _.useEffect(()=>{if(d&&!h.current){h.current=!0;let p=null;const m=0,x=y=>{p===null&&(p=y);const b=y-p,j=Math.min(b/(e*1e3),1),w=1-Math.pow(1-j,4),C=Math.floor(w*(t-m)+m);l(C),j<1?requestAnimationFrame(x):l(t)};requestAnimationFrame(x)}},[d,t,e]),o.jsxs("div",{ref:u,className:r,children:[s,i.toLocaleString(),n]})},Tk=[{id:1,title:"Diving Essentials",description:"Premium quality diving equipment and gear for all your underwater adventures.",icon:"Package",image:null,link:"/shop/products"},{id:2,title:"Diving Trips",description:"Explore breathtaking dive sites with our expertly organized diving expeditions.",icon:"Compass",image:null,link:"/shop/trips"},{id:3,title:"Diving Courses",description:"Professional training programs from beginner to advanced certification levels.",icon:"GraduationCap",image:null,link:"/shop/courses"}],tH=[{value:"+1000",label:"Certifications",icon:"Award"},{value:"+600",label:"Happy Clients",icon:"Users"},{value:"95%",label:"Satisfaction Rate",icon:"TrendingUp"},{value:"+200",label:"Diving Trips",icon:"MapPin"}],nH=()=>{const{t}=et(),[e,n]=_.useState(null),[s,r]=_.useState(null),[i,l]=_.useState(!1),[u,d]=_.useState("course"),h=(T,D)=>{T.preventDefault(),T.stopPropagation(),n(D),r(null),d("course"),l(!0)},p=(T,D)=>{T.preventDefault(),T.stopPropagation(),r(D),n(null),d("trip"),l(!0)},m=()=>{l(!1),n(null),r(null)},{data:x=[],isLoading:y,error:b}=Gp({active:!0,featured:!0}),{data:j=[],isLoading:w,error:C}=Qp({active:!0,featured:!0}),{data:M=[],isLoading:E,error:S}=Yp({active:!0,featured:!0}),{data:k=[],isLoading:R,error:O}=Jp({published:!0,featured:!0});return o.jsxs("div",{className:"overflow-hidden",children:[o.jsx(Jq,{}),o.jsx(Wq,{}),o.jsxs(Ye,{background:"gradient",className:"text-center relative overflow-hidden",children:[o.jsx(Zq,{}),o.jsx(rd,{variant:"primary",opacity:.05}),o.jsxs(Y.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"relative z-10",children:[o.jsx("h1",{className:"text-5xl sm:text-6xl lg:text-7xl font-bold mb-6",children:o.jsx("span",{className:"bg-gradient-to-r from-primary-600 via-accent-600 to-secondary-600 bg-clip-text text-transparent",children:t("home.heroTitle")})}),o.jsx("p",{className:"text-xl sm:text-2xl text-gray-700 mb-8 max-w-3xl mx-auto",children:t("home.heroSubtitle")}),o.jsx("p",{className:"text-base text-gray-600 max-w-2xl mx-auto mb-8",children:t("home.heroDescription")}),o.jsxs("div",{className:"flex gap-6 justify-center mb-8",children:[o.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-700 hover:text-primary-600 transition-colors",children:o.jsx(cm,{className:"w-6 h-6"})}),o.jsx("a",{href:"https://wa.me/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-700 hover:text-primary-600 transition-colors",children:o.jsx(dm,{className:"w-6 h-6"})}),o.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-700 hover:text-primary-600 transition-colors",children:o.jsx(am,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"flex gap-4 justify-center",children:[o.jsxs(Ge,{size:"lg",children:[t("home.bookCourse"),o.jsx(Ft,{className:"w-5 h-5"})]}),o.jsx(Ge,{variant:"outline",size:"lg",children:t("home.exploreTrips")})]})]})]}),o.jsxs(Ye,{background:"white",children:[o.jsxs(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-4",children:t("home.servicesTitle")}),o.jsx("p",{className:"text-xl text-gray-600",children:t("home.servicesSubtitle")})]}),o.jsx(zc,{itemCount:Tk.length,className:"md:grid-cols-3",children:Tk.map((T,D)=>{const L={Package:il,Compass:Zs,GraduationCap:Vr}[T.icon];return o.jsx(Be,{to:T.link,className:"shrink-0 w-[80vw] snap-center sm:w-auto",children:o.jsxs(Je,{className:"group cursor-pointer h-full",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-xl mb-6",children:[o.jsx("img",{src:T.image||"/placeholder.svg",alt:T.title,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-500"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary-900/80 to-transparent"}),o.jsx("div",{className:"absolute bottom-4 left-4",children:o.jsx("div",{className:"bg-white p-3 rounded-xl shadow-lg",children:o.jsx(L,{className:"w-6 h-6 text-primary-600"})})})]}),o.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-3 group-hover:text-primary-600 transition-colors",children:T.title}),o.jsx("p",{className:"text-gray-600 mb-4 text-sm sm:text-base",children:T.description}),o.jsxs("div",{className:"flex items-center text-primary-600 font-semibold group-hover:gap-3 gap-2 transition-all",children:[t("home.learnMore"),o.jsx(Ft,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})},T.id)})})]}),o.jsx(Ye,{background:"gray",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[o.jsxs(Y.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[o.jsx("h2",{className:"text-4xl font-bold mb-6",children:t("home.aboutTitle")}),o.jsx("p",{className:"text-lg text-gray-700 mb-6 leading-relaxed",children:t("home.aboutDescription")}),o.jsx(Be,{to:"/about",children:o.jsxs(Ge,{children:[t("home.learnMore"),o.jsx(Ft,{className:"w-5 h-5"})]})})]}),o.jsxs(Y.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"relative",children:[o.jsx("div",{className:"w-full h-96 bg-gray-200 rounded-2xl shadow-2xl flex items-center justify-center",children:o.jsx("p",{className:"text-gray-400 text-lg",children:"About Image Placeholder"})}),o.jsxs("div",{className:"absolute -bottom-6 -right-6 bg-white p-6 rounded-xl shadow-xl",children:[o.jsx("p",{className:"text-4xl font-bold text-primary-600",children:"10+"}),o.jsx("p",{className:"text-gray-600",children:t("home.yearsExperience")})]})]})]})}),o.jsxs(Ye,{background:"white",id:"calendar",children:[o.jsxs(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[o.jsx("h2",{className:"text-4xl font-bold mb-4",children:t("home.calendarTitle")}),o.jsx("p",{className:"text-xl text-gray-600",children:t("home.calendarSubtitle")})]}),o.jsx(Xq,{})]}),o.jsxs(Ye,{background:"gradient",children:[o.jsxs(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-4",children:t("home.tripsTitle")}),o.jsx("p",{className:"text-xl text-gray-600",children:t("home.tripsSubtitle")})]}),w?o.jsx(La,{count:3}):C?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-red-600",children:t("home.loadingError")})}):o.jsxs(o.Fragment,{children:[o.jsx(zc,{itemCount:Math.min(j.length,3),className:"sm:grid-cols-2 lg:grid-cols-3",children:j.slice(0,3).map(T=>o.jsxs(Je,{className:"group cursor-pointer overflow-hidden shrink-0 w-[80vw] snap-center sm:w-auto",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-xl mb-4",children:[o.jsx("img",{src:T.image||"/placeholder.svg",alt:T.name,className:"w-full h-48 sm:h-56 object-cover group-hover:scale-110 transition-transform duration-500"}),o.jsx("div",{className:"absolute top-4 right-4 bg-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-full shadow-lg",children:o.jsx(Kn,{amount:T.price,className:"font-bold text-primary-600 text-sm sm:text-base"})})]}),o.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-2",children:T.name}),o.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:T.description}),o.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm text-gray-500 mb-4",children:[o.jsx("span",{children:T.duration}),o.jsx("span",{className:"px-2 sm:px-3 py-1 bg-primary-100 text-primary-700 rounded-full",children:T.difficulty})]}),o.jsx(Ge,{variant:"outline",className:"w-full",onClick:D=>p(D,T),children:t("trips.bookNow")})]},T.id))}),o.jsx("div",{className:"text-center mt-12",children:o.jsx(Be,{to:"/shop/trips",children:o.jsxs(Ge,{size:"lg",children:[t("home.viewAllTrips"),o.jsx(Ft,{className:"w-5 h-5"})]})})})]})]}),o.jsxs(Ye,{background:"white",children:[o.jsxs(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-4",children:t("home.coursesTitle")}),o.jsx("p",{className:"text-xl text-gray-600",children:t("home.coursesSubtitle")})]}),y?o.jsx(La,{count:3}):b?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-red-600",children:t("home.loadingError")})}):o.jsxs(o.Fragment,{children:[o.jsx(zc,{itemCount:Math.min(x.length,3),className:"sm:grid-cols-2 lg:grid-cols-3",children:x.slice(0,3).map(T=>o.jsxs(Je,{className:"h-full shrink-0 w-[80vw] snap-center sm:w-auto group cursor-pointer",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-xl mb-4",children:[o.jsx("img",{src:T.image||"/placeholder.svg",alt:T.name,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),o.jsx("div",{className:"absolute top-4 right-4 bg-accent-600 text-white px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold",children:T.level})]}),o.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-2",children:T.name}),o.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:T.description}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:T.duration}),o.jsx(Kn,{amount:T.price,className:"text-base sm:text-lg font-bold text-primary-600"})]}),o.jsx(Ge,{variant:"primary",className:"w-full",onClick:D=>h(D,T),children:t("home.enrollNow")})]},T.id))}),o.jsx("div",{className:"text-center mt-12",children:o.jsx(Be,{to:"/shop/courses",children:o.jsx(Ge,{size:"lg",variant:"outline",children:t("home.viewAllCourses")})})})]})]}),o.jsxs(Ye,{background:"gray",children:[o.jsxs(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-4",children:t("home.productsTitle")}),o.jsx("p",{className:"text-xl text-gray-600",children:t("home.productsSubtitle")})]}),E?o.jsx(La,{count:4}):S?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-red-600",children:t("home.loadingError")})}):o.jsxs(o.Fragment,{children:[o.jsx(zc,{itemCount:Math.min(M.length,4),className:"sm:grid-cols-2 lg:grid-cols-4",children:M.slice(0,4).map(T=>o.jsx("div",{className:"shrink-0 w-[65vw] snap-center sm:w-auto",children:o.jsxs(Je,{className:"group cursor-pointer h-full",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-xl mb-4",children:[o.jsx("img",{src:T.image||"/placeholder.svg",alt:T.name,className:"w-full h-36 sm:h-40 object-cover group-hover:scale-110 transition-transform duration-300"}),!T.in_stock&&o.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:o.jsx("span",{className:"bg-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm font-semibold",children:t("home.outOfStock")})})]}),o.jsx("h3",{className:"text-base sm:text-lg font-bold mb-2 line-clamp-2",children:T.name}),o.jsx("p",{className:"text-gray-600 text-xs sm:text-sm mb-3 line-clamp-2",children:T.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Kn,{amount:T.price,className:"text-lg sm:text-xl font-bold text-primary-600"}),o.jsx(Ge,{size:"sm",variant:"ghost",children:o.jsx(Pr,{className:"w-4 h-4"})})]})]})},T.id))}),o.jsx("div",{className:"text-center mt-12",children:o.jsx(Be,{to:"/shop/products",children:o.jsxs(Ge,{size:"lg",children:[o.jsx(Pr,{className:"w-5 h-5"}),t("home.shopAllProducts")]})})})]})]}),o.jsxs(Ye,{background:"white",className:"hidden sm:block",children:[o.jsxs(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-4",children:t("home.blogTitle")}),o.jsx("p",{className:"text-xl text-gray-600",children:t("home.blogSubtitle")})]}),R?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx(ze,{className:"w-12 h-12 animate-spin text-primary-600"})}):O?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-red-600",children:t("home.loadingError")})}):o.jsxs(o.Fragment,{children:[o.jsx(zc,{itemCount:Math.min(k.length,3),className:"sm:grid-cols-2 lg:grid-cols-3",children:k.slice(0,3).map(T=>o.jsx("div",{className:"shrink-0 w-[80vw] snap-center sm:w-auto",children:o.jsx(Be,{to:"/blog",children:o.jsxs(Je,{className:"group cursor-pointer h-full overflow-hidden",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-xl mb-4",children:[o.jsx("img",{src:T.image||"/placeholder.svg",alt:T.title,className:"w-full h-48 sm:h-56 object-cover group-hover:scale-110 transition-transform duration-500"}),T.category&&o.jsx("div",{className:"absolute top-4 left-4",children:o.jsx("span",{className:"bg-white px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold text-primary-600",children:T.category.name})})]}),o.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mb-2",children:[T.published_at?new Date(T.published_at).toLocaleDateString():new Date(T.created_at).toLocaleDateString(),T.author&&`  ${T.author.name}`]}),o.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-3 group-hover:text-primary-600 transition-colors line-clamp-2",children:T.title}),o.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:T.excerpt}),o.jsxs("div",{className:"flex items-center text-primary-600 font-semibold group-hover:gap-3 gap-2 transition-all",children:[t("home.readMore"),o.jsx(Ft,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})})},T.id))}),o.jsx("div",{className:"text-center mt-12",children:o.jsx(Be,{to:"/blog",children:o.jsxs(Ge,{size:"lg",variant:"outline",children:[t("home.viewAllPosts"),o.jsx(Ft,{className:"w-5 h-5"})]})})})]})]}),o.jsx(Ye,{background:"white",children:o.jsxs(Je,{className:"bg-gradient-to-r from-primary-600 via-accent-600 to-secondary-600 text-white text-center relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 opacity-10",children:o.jsx(Y.div,{animate:{x:[0,100,0]},transition:{duration:20,repeat:1/0},className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='100' height='20' viewBox='0 0 100 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 10 Q 25 0, 50 10 T 100 10' fill='none' stroke='white' stroke-width='2'/%3E%3C/svg%3E")`,backgroundRepeat:"repeat-x"}})}),o.jsxs(Y.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"relative z-10",children:[o.jsx(OF,{className:"w-16 h-16 mx-auto mb-6"}),o.jsx("h2",{className:"text-4xl font-bold mb-4",children:t("home.ctaTitle")}),o.jsx("p",{className:"text-xl mb-8 text-white/90 max-w-2xl mx-auto",children:t("home.ctaDescription")}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsx(Be,{to:"/shop/courses",children:o.jsxs(Ge,{variant:"secondary",size:"lg",className:"bg-white text-primary-600 hover:bg-gray-100",children:[t("home.bookCourse"),o.jsx(Ft,{className:"w-5 h-5"})]})}),o.jsx(Be,{to:"/shop/trips",children:o.jsxs(Ge,{variant:"outline",size:"lg",className:"border-white text-white hover:bg-white/10",children:[t("home.exploreTrips"),o.jsx(Ft,{className:"w-5 h-5"})]})})]})]})]})}),(e||s)&&o.jsx(Iv,{isOpen:i,onClose:m,item:u==="course"?e:s,type:u})]})},sH=()=>{const{t}=et(),{data:e=[],isLoading:n,error:s}=Jb({active:!0}),r=[{icon:Nq,title:t("about.valueSafetyFirst"),description:t("about.valueSafetyDescription")},{icon:nr,title:t("about.valuePassionateTeam"),description:t("about.valuePassionateDescription")},{icon:Mq,title:t("about.valueGoalOriented"),description:t("about.valueGoalDescription")},{icon:Fq,title:t("about.valueInnovativeTraining"),description:t("about.valueInnovativeDescription")}];return o.jsxs("div",{className:"pt-20",children:[o.jsx(Ye,{background:"gradient",className:"text-center relative overflow-hidden !py-12 sm:!py-16 lg:!py-20",children:o.jsxs(Y.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto relative z-10",children:[o.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-7xl font-bold mb-6",children:[o.jsx("span",{className:"block mb-2 sm:mb-4",children:t("about.heroTitle")}),o.jsx("span",{className:"block text-primary-600",style:{background:"linear-gradient(to right, var(--color-primary-600), var(--color-accent-600))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",paddingTop:"0.3em",paddingBottom:"0.1em",lineHeight:"1.3"},children:t("about.heroName")})]}),o.jsx("p",{className:"text-2xl text-gray-700 mb-4",children:t("about.heroSubtitle")})]})}),o.jsx(Ye,{background:"white",className:"!py-10 sm:!py-12 lg:!py-16",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center mb-16",children:[o.jsxs(Y.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[o.jsx("h2",{className:"text-4xl font-bold mb-6",children:t("about.ourStory")}),o.jsx("p",{className:"text-lg text-gray-700 mb-4 leading-relaxed",children:t("about.storyParagraph1")}),o.jsx("p",{className:"text-lg text-gray-700 mb-4 leading-relaxed",children:t("about.storyParagraph2")}),o.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:t("about.storyParagraph3")})]}),o.jsx(Y.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},children:o.jsx("div",{className:"w-full h-96 bg-gray-200 rounded-2xl shadow-2xl flex items-center justify-center",children:o.jsx("p",{className:"text-gray-400 text-lg",children:"Team Image Placeholder"})})})]})}),o.jsx(Ye,{background:"gray",className:"!py-10 sm:!py-12 lg:!py-16",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 rounded-3xl overflow-hidden bg-gradient-to-r from-primary-900 to-accent-900"}),o.jsx("div",{className:"relative z-10 py-16 px-8",children:o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:tH.map((i,l)=>{const d={Award:Ir,Users:Qn,TrendingUp:zv,MapPin:_s}[i.icon],h=y=>{const b=y.match(/^([+]?)(\d+)([%+]?)$/);return b?{prefix:b[1]||"",number:parseInt(b[2]),suffix:b[3]==="+"?"":b[3]||""}:{prefix:"",number:0,suffix:""}},{prefix:p,number:m,suffix:x}=h(i.value);return o.jsxs(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:l*.1},className:"text-center text-white",children:[o.jsx(d,{className:"w-10 h-10 mx-auto mb-4"}),o.jsx(eH,{end:m,prefix:p,suffix:x,duration:2.5,className:"text-5xl font-bold mb-2"}),o.jsx("div",{className:"text-lg opacity-90",children:i.label})]},i.label)})})})]})}),o.jsx(Ye,{background:"white",className:"!py-10 sm:!py-12 lg:!py-16",children:o.jsxs(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[o.jsx("h2",{className:"text-4xl font-bold mb-6",children:t("about.promiseTitle")}),o.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:t("about.promiseDescription")})]})}),o.jsxs(Ye,{background:"gradient",className:"!py-10 sm:!py-12 lg:!py-16",children:[o.jsxs(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold mb-4",children:t("about.whyChooseTitle")}),o.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:t("about.whyChooseDescription")})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:r.map((i,l)=>o.jsx(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:l*.1},children:o.jsxs(Je,{className:"text-center h-full",children:[o.jsx("div",{className:"bg-gradient-to-br from-primary-500 to-accent-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:o.jsx(i.icon,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-xl font-bold mb-3",children:i.title}),o.jsx("p",{className:"text-gray-600",children:i.description})]})},i.title))}),o.jsx(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mt-12 text-center",children:o.jsx(Je,{className:"max-w-3xl mx-auto",children:o.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:t("about.whyChooseClosing")})})})]}),o.jsxs(Ye,{background:"white",className:"!py-10 sm:!py-12 lg:!py-16",children:[o.jsxs(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold mb-4",children:t("about.teamTitle")}),o.jsx("p",{className:"text-xl text-gray-600",children:t("about.teamSubtitle")})]}),n?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx(ze,{className:"w-12 h-12 animate-spin text-primary-600"})}):s?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-red-600",children:t("about.teamLoadingError")})}):o.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((i,l)=>o.jsx(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:l*.1},children:o.jsxs(Je,{className:"text-center group hover:shadow-2xl transition-shadow",children:[o.jsxs("div",{className:"relative mb-6",children:[o.jsx("div",{className:"w-32 h-32 mx-auto rounded-full overflow-hidden ring-4 ring-primary-100 group-hover:ring-primary-300 transition-all",children:i.image_url?o.jsx("img",{src:i.image_url,alt:i.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:o.jsx(Qn,{className:"w-12 h-12 text-gray-300"})})}),i.experience&&o.jsx("div",{className:"absolute -bottom-3 left-1/2 -translate-x-1/2 bg-primary-600 text-white px-4 py-1 rounded-full text-sm font-semibold whitespace-nowrap",children:i.experience})]}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:i.name}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:i.role}),i.certifications&&i.certifications.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:i.certifications.map((u,d)=>o.jsx("span",{className:"px-3 py-1 bg-accent-100 text-accent-700 rounded-full text-xs font-medium",children:u},d))})]})},i.id))})]})]})},rH=()=>{const{t}=et(),[e,n]=_.useState(null),[s,r]=_.useState("grid"),[i,l]=_.useState("default"),{data:u=[],isLoading:d,error:h}=Yp({active:!0}),{data:p=[],isLoading:m}=Ps({active:!0,type:"product"}),y=[...e?u.filter(b=>b.category_id===e):u].sort((b,j)=>{switch(i){case"price-low":return parseFloat(b.price)-parseFloat(j.price);case"price-high":return parseFloat(j.price)-parseFloat(b.price);case"name":return b.name.localeCompare(j.name);default:return 0}});return o.jsxs("div",{className:"pt-20",children:[o.jsxs("div",{className:"bg-gradient-to-br from-primary-50 via-white to-accent-50 relative overflow-hidden",children:[o.jsx(rd,{variant:"primary",opacity:.03}),o.jsx("div",{className:"container mx-auto px-6 py-12 relative z-10",children:o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(Pr,{className:"w-8 h-8 text-primary-600"}),o.jsx("h1",{className:"text-4xl lg:text-5xl font-bold",children:o.jsx("span",{className:"bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent",children:t("products.heroTitle")})})]}),o.jsx("p",{className:"text-gray-600 max-w-2xl",children:t("products.heroDescription")})]}),o.jsxs("div",{className:"hidden lg:flex gap-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-3xl font-bold text-primary-600",children:[u.length,"+"]}),o.jsx("div",{className:"text-sm text-gray-600",children:t("products.totalProducts")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-accent-600",children:p.length}),o.jsx("div",{className:"text-sm text-gray-600",children:t("products.categories")})]})]})]})})]}),o.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-20 z-40 shadow-sm",children:o.jsx("div",{className:"container mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 overflow-x-auto scrollbar-hide",children:[o.jsx(om,{className:"w-5 h-5 text-gray-600 flex-shrink-0"}),o.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(null),className:`px-5 py-2 rounded-full whitespace-nowrap transition-all font-medium ${e===null?"bg-gradient-to-r from-primary-600 to-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t("products.all")}),!m&&p.map(b=>o.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(b.id),className:`px-5 py-2 rounded-full whitespace-nowrap transition-all font-medium ${e===b.id?"bg-gradient-to-r from-primary-600 to-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:b.name},b.id))]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("select",{value:i,onChange:b=>l(b.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"default",children:t("products.sortDefault")}),o.jsx("option",{value:"price-low",children:t("products.sortPriceLow")}),o.jsx("option",{value:"price-high",children:t("products.sortPriceHigh")}),o.jsx("option",{value:"name",children:t("products.sortName")})]}),o.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 p-1 rounded-lg",children:[o.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r("grid"),className:`p-2 rounded transition-all ${s==="grid"?"bg-white text-primary-600 shadow":"text-gray-600 hover:text-gray-900"}`,title:t("common.gridView"),children:o.jsx(lm,{className:"w-5 h-5"})}),o.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r("list"),className:`p-2 rounded transition-all ${s==="list"?"bg-white text-primary-600 shadow":"text-gray-600 hover:text-gray-900"}`,title:t("common.listView"),children:o.jsx(Ol,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"hidden md:block text-sm text-gray-600",children:[y.length," ",t("products.results")]})]})]})})}),o.jsx("div",{className:"bg-gray-50 min-h-screen",children:o.jsx("div",{className:"container mx-auto px-6 py-8",children:d?o.jsx(La,{count:8}):h?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-red-600",children:t("products.loadingError")})}):y.length===0?o.jsxs("div",{className:"text-center py-20",children:[o.jsx(Pr,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),o.jsx("p",{className:"text-xl text-gray-600",children:t("products.noProducts")})]}):o.jsx(Rt,{mode:"wait",children:o.jsx(Au,{staggerDelay:.05,className:s==="grid"?"grid sm:grid-cols-2 lg:grid-cols-4 gap-6":"space-y-4",children:y.map(b=>s==="grid"?o.jsxs(Je,{className:"group cursor-pointer h-full overflow-hidden relative",children:[o.jsxs(Y.div,{initial:{opacity:0},whileHover:{opacity:1},className:"absolute top-3 right-3 flex flex-col gap-2 z-10",children:[o.jsx(Y.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-white rounded-full shadow-lg hover:bg-primary-50 transition-colors",title:t("products.addToWishlist"),children:o.jsx(nr,{className:"w-4 h-4 text-gray-700"})}),o.jsx(Y.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-white rounded-full shadow-lg hover:bg-primary-50 transition-colors",title:t("products.quickView"),children:o.jsx(y3,{className:"w-4 h-4 text-gray-700"})})]}),o.jsxs("div",{className:"relative overflow-hidden rounded-xl mb-4",children:[b.image_url?o.jsx("img",{src:b.image_url,alt:b.name,className:"w-full h-56 object-cover group-hover:scale-110 transition-transform duration-500"}):o.jsx("div",{className:"w-full h-56 bg-gray-100 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Pr,{className:"w-16 h-16 mx-auto text-gray-300 mb-2"}),o.jsx("p",{className:"text-sm text-gray-400",children:t("products.noImage")})]})}),!b.in_stock&&o.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:o.jsx("span",{className:"bg-white px-4 py-2 rounded-full text-sm font-semibold",children:t("products.outOfStock")})}),b.category&&o.jsx("div",{className:"absolute bottom-3 left-3",children:o.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-gray-900 px-3 py-1 rounded-full text-xs font-semibold",children:b.category.name})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-lg font-bold line-clamp-2 group-hover:text-primary-600 transition-colors",children:b.name}),o.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:b.description}),o.jsxs("div",{className:"flex items-center justify-between pt-2",children:[o.jsx(Kn,{amount:b.price,className:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent"}),o.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[o.jsx(Ki,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{children:"4.8"})]})]}),o.jsxs(Ge,{variant:"primary",className:"w-full",size:"sm",disabled:!b.in_stock,children:[o.jsx(Pr,{className:"w-4 h-4"}),b.in_stock?t("products.addToCart"):t("products.outOfStock")]})]})]},b.id):o.jsx(Je,{className:"group cursor-pointer overflow-hidden hover:shadow-xl transition-shadow",children:o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("div",{className:"relative w-48 h-48 flex-shrink-0 overflow-hidden rounded-xl",children:[b.image_url?o.jsx("img",{src:b.image_url,alt:b.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):o.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx(Pr,{className:"w-12 h-12 mx-auto text-gray-300"})})}),b.category&&o.jsx("div",{className:"absolute bottom-3 left-3",children:o.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-gray-900 px-3 py-1 rounded-full text-xs font-semibold",children:b.category.name})})]}),o.jsxs("div",{className:"flex-1 flex flex-col justify-between py-2",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h3",{className:"text-2xl font-bold group-hover:text-primary-600 transition-colors",children:b.name}),o.jsx("div",{className:"flex gap-2",children:o.jsx(Y.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 hover:bg-primary-50 rounded-full transition-colors",children:o.jsx(nr,{className:"w-5 h-5 text-gray-700"})})})]}),o.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:b.description}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ki,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsxs("span",{children:["4.8 (120 ",t("products.reviews"),")"]})]}),b.in_stock?o.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[o.jsx(zv,{className:"w-4 h-4"}),t("products.inStock")]}):o.jsx("span",{className:"text-red-600",children:t("products.outOfStock")})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Kn,{amount:b.price,className:"text-3xl font-bold bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent"}),o.jsxs(Ge,{variant:"primary",disabled:!b.in_stock,children:[o.jsx(Pr,{className:"w-4 h-4"}),b.in_stock?t("products.addToCart"):t("products.outOfStock")]})]})]})]})},b.id))},s)})})})]})},iH=()=>{const{t}=et(),[e,n]=_.useState(null),[s,r]=_.useState("grid"),[i,l]=_.useState("default"),[u,d]=_.useState(null),[h,p]=_.useState(!1),m=(M,E)=>{M.stopPropagation(),d(E),p(!0)},{data:x=[],isLoading:y,error:b}=Gp({active:!0}),j=[{key:"Beginner",label:t("pages.courses.beginner")},{key:"Intermediate",label:t("pages.courses.intermediate")},{key:"Advanced",label:t("pages.courses.advanced")},{key:"Professional",label:t("pages.courses.professional")}],C=[...e?x.filter(M=>M.level===e):x].sort((M,E)=>{switch(i){case"price-low":return parseFloat(M.price)-parseFloat(E.price);case"price-high":return parseFloat(E.price)-parseFloat(M.price);case"duration":return M.duration.localeCompare(E.duration);default:return 0}});return o.jsxs("div",{className:"pt-20",children:[o.jsxs("div",{className:"bg-gradient-to-br from-accent-50 via-white to-primary-50 relative overflow-hidden",children:[o.jsx(rd,{variant:"accent",opacity:.03}),o.jsx("div",{className:"container mx-auto px-6 py-12 relative z-10",children:o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(Vr,{className:"w-8 h-8 text-accent-600"}),o.jsx("h1",{className:"text-4xl lg:text-5xl font-bold",children:o.jsx("span",{className:"bg-gradient-to-r from-accent-600 to-primary-600 bg-clip-text text-transparent",children:t("pages.courses.heroTitle")})})]}),o.jsx("p",{className:"text-gray-600 max-w-2xl",children:t("pages.courses.heroDescription")})]}),o.jsxs("div",{className:"hidden lg:flex gap-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-3xl font-bold text-accent-600",children:[x.length,"+"]}),o.jsx("div",{className:"text-sm text-gray-600",children:t("pages.courses.totalCourses")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-primary-600",children:"500+"}),o.jsx("div",{className:"text-sm text-gray-600",children:t("pages.courses.students")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-secondary-600",children:"98%"}),o.jsx("div",{className:"text-sm text-gray-600",children:t("pages.courses.satisfaction")})]})]})]})})]}),o.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-20 z-40 shadow-sm",children:o.jsx("div",{className:"container mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 overflow-x-auto scrollbar-hide",children:[o.jsx(om,{className:"w-5 h-5 text-gray-600 flex-shrink-0"}),o.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(null),className:`px-5 py-2 rounded-full whitespace-nowrap transition-all font-medium ${e===null?"bg-gradient-to-r from-accent-600 to-accent-500 text-white shadow-lg shadow-accent-500/30":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t("pages.courses.allLevels")}),j.map(M=>o.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(M.key),className:`px-5 py-2 rounded-full whitespace-nowrap transition-all font-medium ${e===M.key?"bg-gradient-to-r from-accent-600 to-accent-500 text-white shadow-lg shadow-accent-500/30":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:M.label},M.key))]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("select",{value:i,onChange:M=>l(M.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent",children:[o.jsx("option",{value:"default",children:t("pages.courses.sortDefault")}),o.jsx("option",{value:"price-low",children:t("pages.courses.priceLowToHigh")}),o.jsx("option",{value:"price-high",children:t("pages.courses.priceHighToLow")}),o.jsx("option",{value:"duration",children:t("pages.courses.duration")})]}),o.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 p-1 rounded-lg",children:[o.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r("grid"),className:`p-2 rounded transition-all ${s==="grid"?"bg-white text-accent-600 shadow":"text-gray-600 hover:text-gray-900"}`,children:o.jsx(lm,{className:"w-5 h-5"})}),o.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r("list"),className:`p-2 rounded transition-all ${s==="list"?"bg-white text-accent-600 shadow":"text-gray-600 hover:text-gray-900"}`,children:o.jsx(Ol,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"hidden md:block text-sm text-gray-600",children:t("pages.courses.coursesCount",{count:C.length})})]})]})})}),o.jsx("div",{className:"bg-gray-50 min-h-screen",children:o.jsx("div",{className:"container mx-auto px-6 py-8",children:y?o.jsx(La,{count:6}):b?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-red-600",children:t("pages.courses.loadingError")})}):C.length===0?o.jsxs("div",{className:"text-center py-20",children:[o.jsx(Vr,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),o.jsx("p",{className:"text-xl text-gray-600",children:t("pages.courses.noCourses")})]}):o.jsx(Rt,{mode:"wait",children:o.jsx(Au,{staggerDelay:.05,className:s==="grid"?"grid md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:C.map(M=>s==="grid"?o.jsxs(Je,{className:"h-full group cursor-pointer overflow-hidden relative",children:[o.jsx(Y.div,{initial:{opacity:0},whileHover:{opacity:1},className:"absolute top-3 right-3 flex flex-col gap-2 z-10",children:o.jsx(Y.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-white rounded-full shadow-lg hover:bg-accent-50 transition-colors",title:t("pages.courses.addToFavorites"),children:o.jsx(nr,{className:"w-4 h-4 text-gray-700"})})}),o.jsxs("div",{className:"relative overflow-hidden rounded-xl mb-4",children:[M.image_url?o.jsx("img",{src:M.image_url,alt:M.name,className:"w-full h-56 object-cover group-hover:scale-110 transition-transform duration-500"}):o.jsx("div",{className:"w-full h-56 bg-gray-100 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Js,{className:"w-16 h-16 mx-auto text-gray-300 mb-2"}),o.jsx("p",{className:"text-sm text-gray-400",children:t("pages.courses.noImage")})]})}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),o.jsxs("div",{className:"absolute bottom-3 left-3 right-3 flex items-end justify-between",children:[o.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-gray-900 px-3 py-1 rounded-full text-xs font-semibold",children:M.level}),o.jsxs("div",{className:"flex items-center gap-1 text-white text-sm",children:[o.jsx(Ki,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"font-semibold",children:"4.9"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-xl font-bold line-clamp-2 group-hover:text-accent-600 transition-colors",children:M.name}),o.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 leading-relaxed",children:M.description}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Rs,{className:"w-4 h-4 text-accent-600"}),o.jsx("span",{children:M.duration})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Js,{className:"w-4 h-4 text-accent-600"}),o.jsx("span",{children:t("pages.courses.modules",{count:12})})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Qn,{className:"w-4 h-4 text-accent-600"}),o.jsx("span",{children:t("pages.courses.studentsEnrolled",{count:50})})]})]}),o.jsxs("div",{className:"pt-3 border-t border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:t("pages.courses.startingFrom")}),o.jsx(Kn,{amount:M.price,className:"text-2xl font-bold bg-gradient-to-r from-accent-600 to-primary-600 bg-clip-text text-transparent"})]}),o.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[o.jsx(Ir,{className:"w-4 h-4 text-accent-600"}),o.jsx("span",{className:"text-gray-600",children:t("pages.courses.certificate")})]})]}),o.jsx(Ge,{variant:"primary",className:"w-full",size:"sm",onClick:E=>m(E,M),children:t("pages.courses.enrollNow")})]})]})]},M.id):o.jsx(Je,{className:"group cursor-pointer overflow-hidden hover:shadow-xl transition-shadow",children:o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("div",{className:"relative w-64 h-48 flex-shrink-0 overflow-hidden rounded-xl",children:[M.image_url?o.jsx("img",{src:M.image_url,alt:M.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):o.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx(Js,{className:"w-12 h-12 mx-auto text-gray-300"})})}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),o.jsx("div",{className:"absolute bottom-3 left-3",children:o.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-gray-900 px-3 py-1 rounded-full text-xs font-semibold",children:M.level})})]}),o.jsxs("div",{className:"flex-1 flex flex-col justify-between py-2",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h3",{className:"text-2xl font-bold group-hover:text-accent-600 transition-colors",children:M.name}),o.jsx(Y.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 hover:bg-accent-50 rounded-full transition-colors",children:o.jsx(nr,{className:"w-5 h-5 text-gray-700"})})]}),o.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:M.description}),o.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Rs,{className:"w-5 h-5 text-accent-600"}),o.jsx("span",{children:M.duration})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Js,{className:"w-5 h-5 text-accent-600"}),o.jsx("span",{children:t("pages.courses.modules",{count:12})})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Qn,{className:"w-5 h-5 text-accent-600"}),o.jsx("span",{children:t("pages.courses.studentsEnrolled",{count:50})})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Ki,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),o.jsxs("span",{children:[t("pages.courses.rating",{rating:"4.9"})," ",t("pages.courses.reviews",{count:120})]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{className:"px-3 py-1 bg-accent-100 text-accent-700 rounded-full text-xs font-semibold flex items-center gap-1",children:[o.jsx(Ir,{className:"w-3 h-3"}),t("pages.courses.certificateIncluded")]}),o.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold flex items-center gap-1",children:[o.jsx(wF,{className:"w-3 h-3"}),t("pages.courses.lifetimeAccess")]})]})]}),o.jsxs("div",{className:"flex items-center justify-between mt-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:t("pages.courses.startingFrom")}),o.jsx(Kn,{amount:M.price,className:"text-3xl font-bold bg-gradient-to-r from-accent-600 to-primary-600 bg-clip-text text-transparent"})]}),o.jsx(Ge,{variant:"primary",size:"lg",onClick:E=>m(E,M),children:t("pages.courses.enrollNow")})]})]})]})},M.id))},s)})})}),o.jsx(Ye,{background:"gradient",children:o.jsx(Je,{className:"bg-gradient-to-r from-primary-600 to-accent-600 text-white text-center",children:o.jsxs(Y.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},children:[o.jsx("h2",{className:"text-4xl font-bold mb-4",children:t("pages.courses.ctaTitle")}),o.jsx("p",{className:"text-xl mb-8 text-white/90 max-w-2xl mx-auto",children:t("pages.courses.ctaDescription")}),o.jsx(Ge,{variant:"secondary",size:"lg",className:"bg-white text-primary-600",children:t("pages.courses.contactUs")})]})})}),u&&o.jsx(Iv,{isOpen:h,onClose:()=>p(!1),item:u,type:"course"})]})},aH=()=>{const{t}=et(),[e,n]=_.useState(null),[s,r]=_.useState("grid"),[i,l]=_.useState("default"),[u,d]=_.useState(null),[h,p]=_.useState(!1),m=(M,E)=>{M.stopPropagation(),d(E),p(!0)},{data:x=[],isLoading:y,error:b}=Qp({active:!0}),j=[{key:"Beginner",label:t("pages.trips.beginner")},{key:"Intermediate",label:t("pages.trips.intermediate")},{key:"Advanced",label:t("pages.trips.advanced")}],C=[...e?x.filter(M=>M.difficulty===e):x].sort((M,E)=>{switch(i){case"price-low":return parseFloat(M.price)-parseFloat(E.price);case"price-high":return parseFloat(E.price)-parseFloat(M.price);case"duration":return M.duration.localeCompare(E.duration);default:return 0}});return o.jsxs("div",{className:"pt-20",children:[o.jsxs("div",{className:"bg-gradient-to-br from-secondary-50 via-white to-primary-50 relative overflow-hidden",children:[o.jsx(rd,{variant:"secondary",opacity:.03}),o.jsx("div",{className:"container mx-auto px-6 py-12 relative z-10",children:o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(Zs,{className:"w-8 h-8 text-secondary-600"}),o.jsx("h1",{className:"text-4xl lg:text-5xl font-bold",children:o.jsx("span",{className:"bg-gradient-to-r from-secondary-600 to-primary-600 bg-clip-text text-transparent",children:t("pages.trips.heroTitle")})})]}),o.jsx("p",{className:"text-gray-600 max-w-2xl",children:t("pages.trips.heroDescription")})]}),o.jsxs("div",{className:"hidden lg:flex gap-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-3xl font-bold text-secondary-600",children:[x.length,"+"]}),o.jsx("div",{className:"text-sm text-gray-600",children:t("pages.trips.diveTrips")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-primary-600",children:"15"}),o.jsx("div",{className:"text-sm text-gray-600",children:t("pages.trips.destinations")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-accent-600",children:"1000+"}),o.jsx("div",{className:"text-sm text-gray-600",children:t("pages.trips.happyDivers")})]})]})]})})]}),o.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-20 z-40 shadow-sm",children:o.jsx("div",{className:"container mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 overflow-x-auto scrollbar-hide",children:[o.jsx(om,{className:"w-5 h-5 text-gray-600 flex-shrink-0"}),o.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(null),className:`px-5 py-2 rounded-full whitespace-nowrap transition-all font-medium ${e===null?"bg-gradient-to-r from-secondary-600 to-secondary-500 text-white shadow-lg shadow-secondary-500/30":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t("pages.trips.allLevels")}),j.map(M=>o.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(M.key),className:`px-5 py-2 rounded-full whitespace-nowrap transition-all font-medium ${e===M.key?"bg-gradient-to-r from-secondary-600 to-secondary-500 text-white shadow-lg shadow-secondary-500/30":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:M.label},M.key))]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("select",{value:i,onChange:M=>l(M.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-secondary-500 focus:border-transparent",children:[o.jsx("option",{value:"default",children:t("pages.trips.sortDefault")}),o.jsx("option",{value:"price-low",children:t("pages.trips.priceLowToHigh")}),o.jsx("option",{value:"price-high",children:t("pages.trips.priceHighToLow")}),o.jsx("option",{value:"duration",children:t("pages.trips.duration")})]}),o.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 p-1 rounded-lg",children:[o.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r("grid"),className:`p-2 rounded transition-all ${s==="grid"?"bg-white text-secondary-600 shadow":"text-gray-600 hover:text-gray-900"}`,children:o.jsx(lm,{className:"w-5 h-5"})}),o.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r("list"),className:`p-2 rounded transition-all ${s==="list"?"bg-white text-secondary-600 shadow":"text-gray-600 hover:text-gray-900"}`,children:o.jsx(Ol,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"hidden md:block text-sm text-gray-600",children:t("pages.trips.tripsCount",{count:C.length})})]})]})})}),o.jsx("div",{className:"bg-gray-50 min-h-screen",children:o.jsx("div",{className:"container mx-auto px-6 py-8",children:y?o.jsx(La,{count:6}):b?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-red-600",children:t("pages.trips.loadingError")})}):C.length===0?o.jsxs("div",{className:"text-center py-20",children:[o.jsx(Zs,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),o.jsx("p",{className:"text-xl text-gray-600",children:t("pages.trips.noTrips")})]}):o.jsx(Rt,{mode:"wait",children:o.jsx(Au,{staggerDelay:.05,className:s==="grid"?"grid md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:C.map(M=>s==="grid"?o.jsxs(Je,{className:"h-full group cursor-pointer overflow-hidden relative",children:[o.jsx(Y.div,{initial:{opacity:0},whileHover:{opacity:1},className:"absolute top-3 right-3 flex flex-col gap-2 z-10",children:o.jsx(Y.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-white rounded-full shadow-lg hover:bg-secondary-50 transition-colors",title:t("pages.trips.addToFavorites"),children:o.jsx(nr,{className:"w-4 h-4 text-gray-700"})})}),o.jsxs("div",{className:"relative overflow-hidden rounded-xl mb-4",children:[M.image_url?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:M.image_url,alt:M.name,className:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-500"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"})]}):o.jsxs("div",{className:"w-full h-64 bg-gray-100 flex flex-col items-center justify-center",children:[o.jsx(qf,{className:"w-16 h-16 text-gray-300 mb-2"}),o.jsx("p",{className:"text-sm text-gray-400",children:t("pages.trips.noImage")})]}),o.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold backdrop-blur-sm ${M.difficulty==="Beginner"?"bg-green-500/90 text-white":M.difficulty==="Intermediate"?"bg-yellow-500/90 text-white":"bg-red-500/90 text-white"}`,children:M.difficulty}),M.certification_required&&o.jsxs("span",{className:"bg-white/90 backdrop-blur-sm text-gray-900 px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1",children:[o.jsx(Ir,{className:"w-3 h-3"}),t("pages.trips.certRequired")]})]}),o.jsxs("div",{className:"absolute bottom-3 left-3 right-3 flex items-end justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-white text-sm",children:[o.jsx(_s,{className:"w-4 h-4"}),o.jsx("span",{className:"font-semibold",children:M.location||t("pages.trips.locationTBD")})]}),o.jsxs("div",{className:"flex items-center gap-1 text-white text-sm",children:[o.jsx(Ki,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"font-semibold",children:"4.8"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-xl font-bold line-clamp-2 group-hover:text-secondary-600 transition-colors",children:M.name}),o.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 leading-relaxed",children:M.description}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Rs,{className:"w-4 h-4 text-secondary-600"}),o.jsx("span",{children:M.duration})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Qn,{className:"w-4 h-4 text-secondary-600"}),o.jsx("span",{children:t("pages.trips.maxParticipants",{count:12})})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(qf,{className:"w-4 h-4 text-secondary-600"}),o.jsx("span",{children:t("pages.trips.dives",{count:4})})]})]}),o.jsxs("div",{className:"pt-3 border-t border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:t("pages.trips.startingFrom")}),o.jsx(Kn,{amount:M.price,className:"text-2xl font-bold bg-gradient-to-r from-secondary-600 to-primary-600 bg-clip-text text-transparent"})]}),o.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[o.jsx(Ht,{className:"w-4 h-4 text-secondary-600"}),o.jsx("span",{className:"text-gray-600",children:t("pages.trips.bookNow")})]})]}),o.jsx(Ge,{variant:"primary",className:"w-full",size:"sm",onClick:E=>m(E,M),children:t("pages.trips.bookThisTrip")})]})]})]},M.id):o.jsx(Je,{className:"group cursor-pointer overflow-hidden hover:shadow-xl transition-shadow",children:o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("div",{className:"relative w-72 h-56 flex-shrink-0 overflow-hidden rounded-xl",children:[M.image_url?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:M.image_url,alt:M.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),o.jsxs("div",{className:"absolute bottom-3 left-3 flex items-center gap-2 text-white text-sm",children:[o.jsx(_s,{className:"w-4 h-4"}),o.jsx("span",{className:"font-semibold",children:M.location||t("pages.trips.locationTBD")})]})]}):o.jsxs("div",{className:"w-full h-full bg-gray-100 flex flex-col items-center justify-center",children:[o.jsx(qf,{className:"w-12 h-12 text-gray-300 mb-2"}),o.jsx("p",{className:"text-xs text-gray-400",children:t("pages.trips.noImage")})]}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold backdrop-blur-sm ${M.difficulty==="Beginner"?"bg-green-500/90 text-white":M.difficulty==="Intermediate"?"bg-yellow-500/90 text-white":"bg-red-500/90 text-white"}`,children:M.difficulty})})]}),o.jsxs("div",{className:"flex-1 flex flex-col justify-between py-2",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h3",{className:"text-2xl font-bold group-hover:text-secondary-600 transition-colors",children:M.name}),o.jsx(Y.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 hover:bg-secondary-50 rounded-full transition-colors",children:o.jsx(nr,{className:"w-5 h-5 text-gray-700"})})]}),o.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:M.description}),o.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Rs,{className:"w-5 h-5 text-secondary-600"}),o.jsx("span",{children:M.duration})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Qn,{className:"w-5 h-5 text-secondary-600"}),o.jsx("span",{children:t("pages.trips.smallGroups",{count:12})})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(qf,{className:"w-5 h-5 text-secondary-600"}),o.jsx("span",{children:t("pages.trips.diveSites",{count:4})})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Ki,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),o.jsxs("span",{children:[t("pages.trips.rating",{rating:"4.8"})," ",t("pages.trips.reviews",{count:95})]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[M.certification_required&&o.jsxs("span",{className:"px-3 py-1 bg-secondary-100 text-secondary-700 rounded-full text-xs font-semibold flex items-center gap-1",children:[o.jsx(Ir,{className:"w-3 h-3"}),t("pages.trips.certificationRequired")]}),o.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold flex items-center gap-1",children:[o.jsx(zv,{className:"w-3 h-3"}),t("pages.trips.spotsAvailable")]})]})]}),o.jsxs("div",{className:"flex items-center justify-between mt-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:t("pages.trips.startingFrom")}),o.jsx(Kn,{amount:M.price,className:"text-3xl font-bold bg-gradient-to-r from-secondary-600 to-primary-600 bg-clip-text text-transparent"})]}),o.jsx(Ge,{variant:"primary",size:"lg",onClick:E=>m(E,M),children:t("pages.trips.bookThisTrip")})]})]})]})},M.id))},s)})})}),o.jsx(Ye,{background:"gradient",children:o.jsxs(Au,{className:"grid md:grid-cols-3 gap-8",children:[o.jsxs(Je,{className:"text-center",children:[o.jsx("div",{className:"bg-primary-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Ir,{className:"w-8 h-8 text-primary-600"})}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:t("pages.trips.expertGuidesTitle")}),o.jsx("p",{className:"text-gray-600",children:t("pages.trips.expertGuidesDescription")})]}),o.jsxs(Je,{className:"text-center",children:[o.jsx("div",{className:"bg-accent-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(_s,{className:"w-8 h-8 text-accent-600"})}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:t("pages.trips.amazingLocationsTitle")}),o.jsx("p",{className:"text-gray-600",children:t("pages.trips.amazingLocationsDescription")})]}),o.jsxs(Je,{className:"text-center",children:[o.jsx("div",{className:"bg-secondary-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Zs,{className:"w-8 h-8 text-secondary-600"})}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:t("pages.trips.allInclusiveTitle")}),o.jsx("p",{className:"text-gray-600",children:t("pages.trips.allInclusiveDescription")})]})]})}),u&&o.jsx(Iv,{isOpen:h,onClose:()=>p(!1),item:u,type:"trip"})]})},oH=()=>{const{t}=et(),{data:e=[],isLoading:n,error:s}=Jp({published:!0});return o.jsxs("div",{className:"pt-20",children:[o.jsxs("div",{className:"relative h-96 overflow-hidden",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=1920&h=600&fit=crop",alt:"Blog",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary-900/80 to-accent-900/80"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs(Y.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center text-white",children:[o.jsx(Js,{className:"w-16 h-16 mx-auto mb-6"}),o.jsx("h1",{className:"text-6xl font-bold mb-4",children:t("pages.blog.heroTitle")}),o.jsx("p",{className:"text-2xl text-white/90",children:t("pages.blog.heroSubtitle")})]})})]}),o.jsx(Ye,{background:"white",children:n?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx(ze,{className:"w-12 h-12 animate-spin text-primary-600"})}):s?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-red-600",children:t("pages.blog.loadingError")})}):e.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-600",children:t("pages.blog.noPosts")})}):o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((r,i)=>o.jsx(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.1},children:o.jsx(Be,{to:`/blog/${r.id}`,children:o.jsxs(Je,{className:"group cursor-pointer h-full overflow-hidden hover:shadow-2xl transition-shadow",children:[o.jsx("div",{className:"relative overflow-hidden rounded-xl mb-4",children:r.image_url?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:r.image_url,alt:r.title,className:"w-full h-56 object-cover group-hover:scale-110 transition-transform duration-500"}),r.category&&o.jsx("div",{className:"absolute top-4 left-4",children:o.jsx("span",{className:"bg-primary-600 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-lg",children:r.category.name})})]}):o.jsxs("div",{className:"w-full h-56 bg-gray-100 flex flex-col items-center justify-center",children:[o.jsx(Js,{className:"w-16 h-16 text-gray-300 mb-2"}),o.jsx("p",{className:"text-sm text-gray-400",children:t("blog.noImage")}),r.category&&o.jsx("div",{className:"absolute top-4 left-4",children:o.jsx("span",{className:"bg-primary-600 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-lg",children:r.category.name})})]})}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ht,{className:"w-4 h-4"}),o.jsx("span",{children:r.published_at?new Date(r.published_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):new Date(r.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),r.author&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(nd,{className:"w-4 h-4"}),o.jsx("span",{children:r.author.name})]})]}),o.jsx("h3",{className:"text-2xl font-bold mb-3 group-hover:text-primary-600 transition-colors",children:r.title}),o.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:r.excerpt}),o.jsxs("div",{className:"flex items-center text-primary-600 font-semibold group-hover:gap-3 gap-2 transition-all",children:[t("pages.blog.readMore"),o.jsx(Ft,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})})},r.id))})}),o.jsx(Ye,{background:"gradient",children:o.jsx(Je,{className:"bg-gradient-to-r from-primary-600 to-accent-600 text-white text-center",children:o.jsxs(Y.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},children:[o.jsx("h2",{className:"text-4xl font-bold mb-4",children:t("pages.blog.newsletterTitle")}),o.jsx("p",{className:"text-xl mb-8 text-white/90 max-w-2xl mx-auto",children:t("pages.blog.newsletterDescription")}),o.jsxs("div",{className:"max-w-md mx-auto flex gap-3",children:[o.jsx("input",{type:"email",placeholder:t("pages.blog.emailPlaceholder"),className:"flex-1 px-6 py-3 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-white"}),o.jsx(Ge,{variant:"secondary",className:"bg-white text-primary-600",children:t("pages.blog.subscribe")})]})]})})})]})},lH=()=>{const{t}=et(),{id:e}=Yn(),{data:n,isLoading:s,error:r}=KM(Number(e));return s?o.jsx("div",{className:"pt-20 min-h-screen flex items-center justify-center",children:o.jsx(ze,{className:"w-12 h-12 animate-spin text-primary-600"})}):r||!n?o.jsx("div",{className:"pt-20 min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Post Not Found"}),o.jsx("p",{className:"text-gray-600",children:"The post you're looking for doesn't exist or has been removed."})]})}):o.jsxs("div",{className:"pt-20",children:[o.jsxs("div",{className:"relative h-[500px] overflow-hidden",children:[o.jsx("img",{src:n.image||"https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=1920&h=800&fit=crop",alt:n.title,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 via-black/30 to-black/70"})]}),o.jsx(Ye,{background:"white",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.category&&o.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:o.jsxs("span",{className:"inline-flex items-center gap-2 bg-primary-100 text-primary-700 px-4 py-2 rounded-full text-sm font-semibold",children:[o.jsx(Ih,{className:"w-4 h-4"}),n.category.name]})}),o.jsx(Y.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-5xl font-bold text-gray-900 mb-6 leading-tight",children:n.title}),o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex items-center gap-6 text-gray-600 mb-8 pb-8 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ht,{className:"w-5 h-5"}),o.jsx("span",{children:n.published_at?new Date(n.published_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):new Date(n.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),n.author&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nd,{className:"w-5 h-5"}),o.jsxs("span",{children:["By ",n.author.name]})]}),o.jsxs("button",{className:"ml-auto flex items-center gap-2 text-primary-600 hover:text-primary-700 transition-colors",children:[o.jsx(Bv,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"Share"})]})]}),n.excerpt&&o.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-xl text-gray-700 mb-8 p-6 bg-gray-50 rounded-xl border-l-4 border-primary-600",children:n.excerpt}),o.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"prose prose-lg max-w-none mb-12",dangerouslySetInnerHTML:{__html:n.content}})]})})]})},cH=()=>{const{t}=et(),[e,n]=_.useState({name:"",email:"",phone:"",message:""}),[s,r]=_.useState(!1),i=u=>{u.preventDefault(),r(!0),setTimeout(()=>{r(!1),n({name:"",email:"",phone:"",message:""})},3e3)},l=u=>{n({...e,[u.target.name]:u.target.value})};return o.jsxs("div",{className:"pt-20",children:[o.jsx(Ye,{background:"gradient",className:"text-center",children:o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[o.jsx("h1",{className:"text-5xl lg:text-6xl font-bold mb-6",children:o.jsx("span",{className:"bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent",children:t("contactPage.heroTitle")})}),o.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:t("contactPage.heroDescription")})]})}),o.jsxs(Ye,{background:"white",children:[o.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:[o.jsx(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:o.jsxs(Je,{className:"text-center group cursor-pointer hover:shadow-xl transition-shadow",children:[o.jsx("div",{className:"bg-gradient-to-br from-primary-500 to-accent-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:o.jsx(fm,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:t("contactPage.callUs")}),o.jsx("p",{className:"text-gray-600",children:"+966 50 123 4567"}),o.jsx("p",{className:"text-gray-600",children:"+966 55 987 6543"})]})}),o.jsx(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},children:o.jsxs(Je,{className:"text-center group cursor-pointer hover:shadow-xl transition-shadow",children:[o.jsx("div",{className:"bg-gradient-to-br from-primary-500 to-accent-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:o.jsx(um,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:t("contactPage.emailUs")}),o.jsx("p",{className:"text-gray-600",children:"info@coralsandshells.sa"}),o.jsx("p",{className:"text-gray-600",children:"support@coralsandshells.sa"})]})}),o.jsx(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},children:o.jsxs(Je,{className:"text-center group cursor-pointer hover:shadow-xl transition-shadow",children:[o.jsx("div",{className:"bg-gradient-to-br from-primary-500 to-accent-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:o.jsx(_s,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:t("contactPage.visitUs")}),o.jsx("p",{className:"text-gray-600",children:t("footer.location")}),o.jsx("p",{className:"text-gray-600",children:t("contactPage.easternProvince")})]})})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[o.jsxs(Y.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[o.jsx("h2",{className:"text-3xl font-bold mb-6",children:t("contactPage.formTitle")}),s?o.jsxs(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-green-50 border border-green-200 rounded-xl p-8 flex items-center gap-4",children:[o.jsx(Yo,{className:"w-12 h-12 text-green-600 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-green-900 mb-1 text-xl",children:t("contactPage.messageSentTitle")}),o.jsx("p",{className:"text-green-700",children:t("contactPage.messageSentDescription")})]})]}):o.jsxs("form",{onSubmit:i,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:[t("contactPage.fullName")," *"]}),o.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:l,required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:t("contactPage.namePlaceholder")})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:[t("contactPage.emailAddress")," *"]}),o.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:l,required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:t("contactPage.emailPlaceholder")})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700 mb-2",children:t("contactPage.phoneNumber")}),o.jsx("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:l,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:t("contactPage.phonePlaceholder")})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"message",className:"block text-sm font-semibold text-gray-700 mb-2",children:[t("contactPage.message")," *"]}),o.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:l,required:!0,rows:6,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all resize-none",placeholder:t("contactPage.messagePlaceholder")})]}),o.jsxs(Ge,{type:"submit",size:"lg",className:"w-full",children:[o.jsx(xq,{className:"w-5 h-5"}),t("contactPage.sendMessage")]})]})]}),o.jsx(Y.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},children:o.jsxs(Je,{className:"h-full",children:[o.jsx("h3",{className:"text-2xl font-bold mb-6",children:t("contactPage.additionalInfo")}),o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsx(Rs,{className:"w-6 h-6 text-primary-600 flex-shrink-0 mt-1"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-lg mb-2",children:t("contactPage.openingHours")}),o.jsxs("div",{className:"space-y-1 text-gray-600",children:[o.jsx("p",{children:t("contactPage.sundayThursday")}),o.jsx("p",{children:t("contactPage.fridaySaturday")})]})]})]})}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h4",{className:"font-semibold text-lg mb-4",children:t("contactPage.connectWithUs")}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("a",{href:"#",className:"bg-gradient-to-br from-primary-500 to-accent-500 text-white p-3 rounded-full hover:scale-110 transition-transform",children:o.jsx(cm,{className:"w-6 h-6"})}),o.jsx("a",{href:"#",className:"bg-gradient-to-br from-primary-500 to-accent-500 text-white p-3 rounded-full hover:scale-110 transition-transform",children:o.jsx(am,{className:"w-6 h-6"})}),o.jsx("a",{href:"#",className:"bg-gradient-to-br from-primary-500 to-accent-500 text-white p-3 rounded-full hover:scale-110 transition-transform",children:o.jsx(dm,{className:"w-6 h-6"})})]})]}),o.jsxs("div",{className:"p-6 bg-gradient-to-br from-primary-50 to-accent-50 rounded-xl",children:[o.jsx("h4",{className:"font-bold text-lg mb-3",children:t("contactPage.whyContactTitle")}),o.jsxs("ul",{className:"space-y-2 text-gray-700",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(Yo,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),o.jsx("span",{children:t("contactPage.whyContact1")})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(Yo,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),o.jsx("span",{children:t("contactPage.whyContact2")})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(Yo,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),o.jsx("span",{children:t("contactPage.whyContact3")})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(Yo,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),o.jsx("span",{children:t("contactPage.whyContact4")})]})]})]})]})})]})]}),o.jsx(Ye,{background:"gray",children:o.jsx(Je,{className:"overflow-hidden p-0",children:o.jsxs("div",{className:"h-96 bg-gray-200 relative",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1524661135-423995f22d0b?w=1400&h=600&fit=crop",alt:"Location",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-8",children:o.jsxs("div",{className:"text-white",children:[o.jsx("h3",{className:"text-3xl font-bold mb-2",children:t("contactPage.visitCenterTitle")}),o.jsx("p",{className:"text-xl text-white/90",children:t("contactPage.visitCenterLocation")})]})})]})})})]})},uH=()=>{const{t,i18n:e}=et(),[n,s]=_.useState(null),[r,i]=_.useState("grid"),[l,u]=_.useState("default"),{data:d=[],isLoading:h,error:p}=Xp({active:!0}),m=[{key:"workshop",label:t("events.workshop")},{key:"course",label:t("events.course")},{key:"trip",label:t("events.trip")},{key:"other",label:t("events.other")}],x=R=>{const O=m.find(T=>T.key===R);return O?O.label:R.charAt(0).toUpperCase()+R.slice(1)},y=e.language==="ar"?"ar-SA":"en-US",b=new Date,j=d.filter(R=>new Date(R.start_date)>=b),C=[...n?j.filter(R=>R.type===n):j].sort((R,O)=>{switch(l){case"date-asc":return new Date(R.start_date).getTime()-new Date(O.start_date).getTime();case"date-desc":return new Date(O.start_date).getTime()-new Date(R.start_date).getTime();case"price":return(R.price||0)-(O.price||0);default:return new Date(R.start_date).getTime()-new Date(O.start_date).getTime()}}),M=R=>new Date(R).toLocaleDateString(y,{weekday:"short",month:"short",day:"numeric",year:"numeric"}),E=R=>new Date(R).toLocaleTimeString(y,{hour:"numeric",minute:"2-digit"}),S=R=>new Date(R).toLocaleDateString(y,{month:"short"}),k=R=>{switch(R){case"workshop":return"bg-purple-100 text-purple-700";case"course":return"bg-accent-100 text-accent-700";case"trip":return"bg-primary-100 text-primary-700";default:return"bg-gray-100 text-gray-700"}};return o.jsxs("div",{className:"pt-20",children:[o.jsxs("div",{className:"bg-gradient-to-br from-primary-50 via-white to-accent-50 relative overflow-hidden",children:[o.jsx(rd,{variant:"primary",opacity:.03}),o.jsx("div",{className:"container mx-auto px-6 py-12 relative z-10",children:o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(Ht,{className:"w-8 h-8 text-primary-600"}),o.jsx("h1",{className:"text-4xl lg:text-5xl font-bold",children:o.jsx("span",{className:"bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent",children:t("events.heroTitle")})})]}),o.jsx("p",{className:"text-gray-600 max-w-2xl",children:t("events.heroSubtitle")})]}),o.jsxs("div",{className:"hidden lg:flex items-center gap-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-primary-600",children:j.length}),o.jsx("div",{className:"text-sm text-gray-600",children:t("events.upcoming")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-accent-600",children:j.filter(R=>R.type==="workshop").length}),o.jsx("div",{className:"text-sm text-gray-600",children:t("events.workshops")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-secondary-600",children:j.filter(R=>R.type==="trip").length}),o.jsx("div",{className:"text-sm text-gray-600",children:t("events.trips")})]})]})]})})]}),o.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-20 z-40 shadow-sm",children:o.jsx("div",{className:"container mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 overflow-x-auto scrollbar-hide",children:[o.jsx(om,{className:"w-5 h-5 text-gray-600 flex-shrink-0"}),o.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(null),className:`px-5 py-2 rounded-full whitespace-nowrap transition-all font-medium ${n===null?"bg-gradient-to-r from-primary-600 to-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t("events.allEvents")}),m.map(R=>o.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(R.key),className:`px-5 py-2 rounded-full whitespace-nowrap transition-all font-medium ${n===R.key?"bg-gradient-to-r from-primary-600 to-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:R.label},R.key))]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("select",{value:l,onChange:R=>u(R.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"default",children:t("events.sortSoonestFirst")}),o.jsx("option",{value:"date-asc",children:t("events.dateEarliest")}),o.jsx("option",{value:"date-desc",children:t("events.dateLatest")}),o.jsx("option",{value:"price",children:t("events.priceLowToHigh")})]}),o.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 p-1 rounded-lg",children:[o.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i("grid"),className:`p-2 rounded transition-all ${r==="grid"?"bg-white text-primary-600 shadow":"text-gray-600 hover:text-gray-900"}`,children:o.jsx(lm,{className:"w-5 h-5"})}),o.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i("list"),className:`p-2 rounded transition-all ${r==="list"?"bg-white text-primary-600 shadow":"text-gray-600 hover:text-gray-900"}`,children:o.jsx(Ol,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"hidden md:block text-sm text-gray-600",children:t("events.eventsCount",{count:C.length})})]})]})})}),o.jsx("div",{className:"bg-gray-50 min-h-screen",children:o.jsx("div",{className:"container mx-auto px-6 py-8",children:h?o.jsx(La,{count:6}):p?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-red-600",children:t("events.loadingError")})}):C.length===0?o.jsxs("div",{className:"text-center py-20",children:[o.jsx(Ht,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),o.jsx("p",{className:"text-xl text-gray-600",children:t("events.noEvents")}),o.jsx("p",{className:"text-gray-500 mt-2",children:t("events.checkBackSoon")})]}):o.jsx(Rt,{mode:"wait",children:o.jsx(Au,{staggerDelay:.05,className:r==="grid"?"grid md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:C.map(R=>r==="grid"?o.jsx(Be,{to:`/events/${R.id}`,children:o.jsxs(Je,{className:"h-full group cursor-pointer overflow-hidden relative hover:shadow-xl transition-shadow",children:[o.jsxs("div",{className:"absolute top-4 left-4 z-10 bg-white rounded-lg shadow-lg p-3 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-primary-600",children:new Date(R.start_date).getDate()}),o.jsx("div",{className:"text-xs text-gray-600 uppercase",children:S(R.start_date)})]}),o.jsx("div",{className:"absolute top-4 right-4 z-10",children:o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${k(R.type)}`,children:x(R.type)})}),o.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-primary-100 to-accent-100 rounded-xl mb-4 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx(Ht,{className:"w-16 h-16 text-primary-300"})}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-xl font-bold line-clamp-2 group-hover:text-primary-600 transition-colors",children:R.title}),o.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 leading-relaxed",children:R.description}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rs,{className:"w-4 h-4 text-primary-600"}),o.jsx("span",{children:E(R.start_date)})]}),R.location&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_s,{className:"w-4 h-4 text-primary-600"}),o.jsx("span",{className:"line-clamp-1",children:R.location})]}),R.max_participants&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qn,{className:"w-4 h-4 text-primary-600"}),o.jsx("span",{children:t("events.maxParticipants",{count:R.max_participants})})]})]}),o.jsxs("div",{className:"pt-3 border-t border-gray-100 flex items-center justify-between",children:[R.price?o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:t("events.price")}),o.jsx(Kn,{amount:R.price,className:"text-xl font-bold text-primary-600"})]}):o.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-semibold",children:t("events.free")}),o.jsxs("span",{className:"flex items-center gap-1 text-primary-600 font-medium group-hover:gap-2 transition-all",children:[t("events.viewDetails"),o.jsx(Ft,{className:"w-4 h-4"})]})]})]})]})},R.id):o.jsx(Be,{to:`/events/${R.id}`,children:o.jsx(Je,{className:"group cursor-pointer overflow-hidden hover:shadow-xl transition-shadow",children:o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("div",{className:"w-24 h-24 flex-shrink-0 bg-gradient-to-br from-primary-600 to-accent-600 rounded-xl flex flex-col items-center justify-center text-white",children:[o.jsx("div",{className:"text-3xl font-bold",children:new Date(R.start_date).getDate()}),o.jsx("div",{className:"text-sm uppercase",children:S(R.start_date)})]}),o.jsxs("div",{className:"flex-1 flex flex-col justify-between py-1",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h3",{className:"text-2xl font-bold group-hover:text-primary-600 transition-colors",children:R.title}),o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold flex-shrink-0 ${k(R.type)}`,children:x(R.type)})]}),o.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:R.description}),o.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rs,{className:"w-4 h-4 text-primary-600"}),o.jsxs("span",{children:[M(R.start_date)," ",t("events.at")," ",E(R.start_date)]})]}),R.location&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_s,{className:"w-4 h-4 text-primary-600"}),o.jsx("span",{children:R.location})]}),R.max_participants&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qn,{className:"w-4 h-4 text-primary-600"}),o.jsx("span",{children:t("events.max",{count:R.max_participants})})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between mt-4",children:[R.price?o.jsx(Kn,{amount:R.price,className:"text-2xl font-bold text-primary-600"}):o.jsx("span",{className:"px-4 py-1 bg-green-100 text-green-700 rounded-full font-semibold",children:t("events.freeEvent")}),o.jsxs(Ge,{variant:"primary",size:"sm",children:[t("events.viewDetails"),o.jsx(Ft,{className:"w-4 h-4 ml-2"})]})]})]})]})})},R.id))},r)})})}),o.jsx(Ye,{background:"gradient",children:o.jsx(Je,{className:"bg-gradient-to-r from-primary-600 to-accent-600 text-white text-center",children:o.jsxs(Y.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},children:[o.jsx("h2",{className:"text-4xl font-bold mb-4",children:t("events.dontMissOut")}),o.jsx("p",{className:"text-xl mb-8 text-white/90 max-w-2xl mx-auto",children:t("events.ctaDescription")}),o.jsx(Be,{to:"/contact",children:o.jsx(Ge,{variant:"secondary",size:"lg",className:"bg-white text-primary-600",children:t("events.contactUs")})})]})})})]})},dH=()=>{const{t}=et(),{id:e}=Yn(),{data:n,isLoading:s,error:r}=ZM(Number(e)),i=p=>new Date(p).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),l=p=>new Date(p).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),u=p=>{switch(p){case"workshop":return"bg-purple-100 text-purple-700 border-purple-200";case"course":return"bg-accent-100 text-accent-700 border-accent-200";case"trip":return"bg-primary-100 text-primary-700 border-primary-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},d=p=>p.charAt(0).toUpperCase()+p.slice(1),h=n?new Date(n.start_date)>=new Date:!1;return s?o.jsx("div",{className:"pt-20 min-h-screen flex items-center justify-center",children:o.jsx(ze,{className:"w-12 h-12 animate-spin text-primary-600"})}):r||!n?o.jsx("div",{className:"pt-20 min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ht,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Event Not Found"}),o.jsx("p",{className:"text-gray-600",children:"The event you're looking for doesn't exist or has been removed."})]})}):o.jsxs("div",{className:"pt-20",children:[o.jsxs("div",{className:"relative h-[400px] overflow-hidden bg-gradient-to-br from-primary-600 via-primary-700 to-accent-600",children:[o.jsx("div",{className:"absolute inset-0 opacity-10",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-white px-6",children:[o.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-4",children:o.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold border ${u(n.type)}`,children:[o.jsx(Ih,{className:"w-4 h-4"}),d(n.type)]})}),o.jsx(Y.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6 max-w-4xl",children:n.title}),o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-wrap items-center justify-center gap-6 text-white/90",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ht,{className:"w-5 h-5"}),o.jsx("span",{children:i(n.start_date)})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rs,{className:"w-5 h-5"}),o.jsx("span",{children:l(n.start_date)})]}),n.location&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_s,{className:"w-5 h-5"}),o.jsx("span",{children:n.location})]})]})]})}),o.jsx("div",{className:"absolute bottom-6 right-6",children:h?o.jsxs("span",{className:"px-4 py-2 bg-green-500 text-white rounded-full font-semibold flex items-center gap-2",children:[o.jsx(Ax,{className:"w-4 h-4"}),"Upcoming"]}):o.jsx("span",{className:"px-4 py-2 bg-gray-500 text-white rounded-full font-semibold",children:"Past Event"})})]}),o.jsx(Ye,{background:"white",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(N3,{className:"w-6 h-6 text-primary-600"}),"About This Event"]}),o.jsx("div",{className:"prose prose-lg max-w-none text-gray-600",children:o.jsx("p",{className:"leading-relaxed",children:n.description})})]}),o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gray-50 rounded-2xl p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Event Schedule"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-xl flex items-center justify-center flex-shrink-0",children:o.jsx(Ht,{className:"w-6 h-6 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-900",children:"Start Date"}),o.jsxs("p",{className:"text-gray-600",children:[i(n.start_date)," at ",l(n.start_date)]})]})]}),n.end_date&&o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-accent-100 rounded-xl flex items-center justify-center flex-shrink-0",children:o.jsx(Ax,{className:"w-6 h-6 text-accent-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-900",children:"End Date"}),o.jsxs("p",{className:"text-gray-600",children:[i(n.end_date)," at ",l(n.end_date)]})]})]}),n.location&&o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center flex-shrink-0",children:o.jsx(_s,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-900",children:"Location"}),o.jsx("p",{className:"text-gray-600",children:n.location})]})]})]})]})]}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-lg sticky top-28",children:[o.jsx("div",{className:"text-center mb-6 pb-6 border-b border-gray-200",children:n.price?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Event Price"}),o.jsx(Kn,{amount:n.price,className:"text-4xl font-bold bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent"})]}):o.jsx("span",{className:"inline-block px-6 py-3 bg-green-100 text-green-700 rounded-full text-xl font-bold",children:"Free Event"})}),o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(Ih,{className:"w-5 h-5 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Type"}),o.jsx("p",{className:"font-semibold text-gray-900 capitalize",children:n.type})]})]}),n.max_participants&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-accent-100 rounded-lg flex items-center justify-center",children:o.jsx(Qn,{className:"w-5 h-5 text-accent-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Capacity"}),o.jsxs("p",{className:"font-semibold text-gray-900",children:[n.max_participants," participants"]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx(Ax,{className:"w-5 h-5 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),o.jsx("p",{className:`font-semibold ${h?"text-green-600":"text-gray-500"}`,children:h?"Open for Registration":"Event Ended"})]})]})]}),h&&o.jsxs("div",{className:"space-y-3",children:[o.jsx(Be,{to:"/contact",className:"block",children:o.jsx(Ge,{variant:"primary",className:"w-full",size:"lg",children:"Register Now"})}),o.jsxs("button",{onClick:()=>{navigator.share?navigator.share({title:n.title,text:n.description,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!"))},className:"w-full flex items-center justify-center gap-2 px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors font-medium",children:[o.jsx(Bv,{className:"w-5 h-5"}),"Share Event"]})]}),!h&&o.jsx("div",{className:"text-center py-4 bg-gray-100 rounded-lg",children:o.jsx("p",{className:"text-gray-600",children:"This event has ended"})})]})})]})})})]})},fH=()=>{const{t}=et(),{data:e=[],isLoading:n,error:s}=YM({published:!0});return o.jsxs("div",{className:"pt-20",children:[o.jsxs("div",{className:"relative h-96 overflow-hidden",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1559027615-cd4628902d4a?w=1920&h=600&fit=crop",alt:"Social Initiatives",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary-900/80 to-accent-900/80"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs(Y.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center text-white",children:[o.jsx(nr,{className:"w-16 h-16 mx-auto mb-6"}),o.jsx("h1",{className:"text-6xl font-bold mb-4",children:t("initiatives.heroTitle")}),o.jsx("p",{className:"text-2xl text-white/90",children:t("initiatives.heroSubtitle")})]})})]}),o.jsx(Ye,{background:"white",children:n?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx(ze,{className:"w-12 h-12 animate-spin text-primary-600"})}):s?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-red-600",children:t("initiatives.loadingError")})}):e.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-600",children:t("initiatives.noInitiatives")})}):o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((r,i)=>o.jsx(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.1},children:o.jsx(Be,{to:`/initiatives/${r.id}`,children:o.jsxs(Je,{className:"group cursor-pointer h-full overflow-hidden hover:shadow-2xl transition-shadow",children:[o.jsx("div",{className:"relative overflow-hidden rounded-xl mb-4",children:r.image_url?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:r.image_url,alt:r.title,className:"w-full h-56 object-cover group-hover:scale-110 transition-transform duration-500"}),r.category&&o.jsx("div",{className:"absolute top-4 left-4",children:o.jsx("span",{className:"bg-primary-600 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-lg",children:r.category.name})})]}):o.jsxs("div",{className:"w-full h-56 bg-gray-100 flex flex-col items-center justify-center",children:[o.jsx(nr,{className:"w-16 h-16 text-gray-300 mb-2"}),o.jsx("p",{className:"text-sm text-gray-400",children:t("initiatives.noImage")}),r.category&&o.jsx("div",{className:"absolute top-4 left-4",children:o.jsx("span",{className:"bg-primary-600 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-lg",children:r.category.name})})]})}),o.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ht,{className:"w-4 h-4"}),o.jsx("span",{children:r.published_at?new Date(r.published_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):new Date(r.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})}),o.jsx("h3",{className:"text-2xl font-bold mb-3 group-hover:text-primary-600 transition-colors",children:r.title}),o.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:r.excerpt}),o.jsxs("div",{className:"flex items-center text-primary-600 font-semibold group-hover:gap-3 gap-2 transition-all",children:[t("initiatives.learnMore"),o.jsx(Ft,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})})},r.id))})}),o.jsx(Ye,{background:"gradient",children:o.jsx(Je,{className:"bg-gradient-to-r from-primary-600 to-accent-600 text-white text-center",children:o.jsxs(Y.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},children:[o.jsx("h2",{className:"text-4xl font-bold mb-4",children:t("initiatives.ctaTitle")}),o.jsx("p",{className:"text-xl mb-8 text-white/90 max-w-2xl mx-auto",children:t("initiatives.ctaDescription")}),o.jsx(Be,{to:"/contact",children:o.jsx(Ge,{variant:"secondary",className:"bg-white text-primary-600",children:t("initiatives.getInTouch")})})]})})})]})},hH=()=>{const{t}=et(),{id:e}=Yn(),{data:n,isLoading:s,error:r}=JM(Number(e));return s?o.jsx("div",{className:"pt-20 min-h-screen flex items-center justify-center",children:o.jsx(ze,{className:"w-12 h-12 animate-spin text-primary-600"})}):r||!n?o.jsx("div",{className:"pt-20 min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Initiative Not Found"}),o.jsx("p",{className:"text-gray-600",children:"The initiative you're looking for doesn't exist or has been removed."})]})}):o.jsxs("div",{className:"pt-20",children:[o.jsxs("div",{className:"relative h-[500px] overflow-hidden",children:[o.jsx("img",{src:n.image_url||"https://images.unsplash.com/photo-1559027615-cd4628902d4a?w=1920&h=800&fit=crop",alt:n.title,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 via-black/30 to-black/70"})]}),o.jsx(Ye,{background:"white",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.category&&o.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:o.jsxs("span",{className:"inline-flex items-center gap-2 bg-primary-100 text-primary-700 px-4 py-2 rounded-full text-sm font-semibold",children:[o.jsx(Ih,{className:"w-4 h-4"}),n.category.name]})}),o.jsx(Y.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-5xl font-bold text-gray-900 mb-6 leading-tight",children:n.title}),o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex items-center gap-6 text-gray-600 mb-8 pb-8 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ht,{className:"w-5 h-5"}),o.jsx("span",{children:n.published_at?new Date(n.published_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):new Date(n.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),o.jsxs("button",{className:"ml-auto flex items-center gap-2 text-primary-600 hover:text-primary-700 transition-colors",children:[o.jsx(Bv,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"Share"})]})]}),n.excerpt&&o.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-xl text-gray-700 mb-8 p-6 bg-gray-50 rounded-xl border-l-4 border-primary-600",children:n.excerpt}),o.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"prose prose-lg max-w-none mb-12",dangerouslySetInnerHTML:{__html:n.content}})]})})]})},pH=()=>{const{t}=et(),{slug:e}=Yn(),{data:n,isLoading:s,error:r}=Wz(e||"");return s?o.jsx("div",{className:"pt-20 min-h-screen flex items-center justify-center",children:o.jsx(ze,{className:"w-12 h-12 animate-spin text-primary-600"})}):r||!n?o.jsx("div",{className:"pt-20 min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(_x,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:t("common.pageNotFound","Page Not Found")}),o.jsx("p",{className:"text-gray-600",children:t("common.pageNotFoundMessage","The page you are looking for does not exist or has been removed.")})]})}):o.jsxs("div",{className:"pt-20",children:[o.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 py-20 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 opacity-10",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative",children:[o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full text-white/80 text-sm mb-6",children:[o.jsx(_x,{className:"w-4 h-4"}),t("common.legalPage","Legal Information")]}),o.jsx(Y.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl md:text-5xl font-bold text-white mb-4",children:n.title}),o.jsxs(Y.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-lg text-gray-300",children:[t("common.lastUpdated","Last updated"),": ",new Date(n.updated_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]})]})]}),o.jsx(Ye,{background:"white",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:n.content?o.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"prose prose-lg max-w-none mb-12",dangerouslySetInnerHTML:{__html:n.content}}):o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center py-12",children:[o.jsx(_x,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:t("common.noContent","Content coming soon...")})]})})})]})},mH=({isCollapsed:t,setIsCollapsed:e})=>{const{t:n,i18n:s}=et("admin"),r=zs(),i=s.language==="ar",[l,u]=_.useState(["shop","content"]),d=b=>{u(j=>j.includes(b)?j.filter(w=>w!==b):[...j,b])},h=[{icon:KF,label:n("sidebar.dashboard"),path:"/admin"}],p=[{title:"shop",icon:Pr,items:[{icon:x3,label:"Bookings",path:"/admin/bookings"},{icon:il,label:n("sidebar.products"),path:"/admin/products"},{icon:Vr,label:n("sidebar.courses"),path:"/admin/courses"},{icon:Zs,label:n("sidebar.trips"),path:"/admin/trips"}]},{title:"content",icon:sq,items:[{icon:Js,label:n("sidebar.blog"),path:"/admin/blog"},{icon:Ht,label:n("sidebar.events"),path:"/admin/events"},{icon:nr,label:"Initiatives",path:"/admin/initiatives"},{icon:w3,label:n("sidebar.banners"),path:"/admin/banners"},{icon:Qn,label:n("sidebar.team"),path:"/admin/team"}]},{title:"settings",icon:CF,items:[{icon:QF,label:"Footer Links",path:"/admin/footer-links"},{icon:bq,label:n("sidebar.settings"),path:"/admin/settings"}]}],m={shop:"Shop",content:"Content",settings:"Settings"},x=b=>b.items.some(j=>r.pathname===j.path),y=(b,j=!1)=>{const w=b.icon,C=r.pathname===b.path;return o.jsx(Be,{to:b.path,children:o.jsxs(Y.div,{whileHover:{x:i?-4:4},className:`flex items-center gap-3 px-4 py-2.5 rounded-lg transition-all ${j&&!t?"ml-4":""} ${C?"bg-gradient-to-r from-primary-600 to-accent-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-700/50"}`,children:[o.jsx(w,{className:`w-5 h-5 shrink-0 ${C?"":"text-gray-400"}`}),!t&&o.jsx(Y.span,{initial:{opacity:0},animate:{opacity:1},className:"font-medium text-sm ",children:b.label})]})},b.path)};return o.jsxs(Y.div,{animate:{width:t?80:280},className:`bg-gradient-to-b from-gray-900 via-gray-900 to-gray-800 text-white h-screen fixed top-0 overflow-hidden shadow-2xl z-50 flex flex-col ${i?"right-0":"left-0"}`,style:{left:i?"auto":0,right:i?0:"auto"},children:[o.jsxs("div",{className:"p-5 border-b border-gray-700/50 flex items-center justify-between",children:[!t&&o.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-gradient-to-br from-primary-600 to-accent-600 p-2.5 rounded-xl shadow-lg",children:o.jsx(Vh,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-lg",children:"Coral & Shells"}),o.jsx("div",{className:"text-xs text-gray-400",children:"Admin Panel"})]})]}),t&&o.jsx("div",{className:"bg-gradient-to-br from-primary-600 to-accent-600 p-2.5 rounded-xl shadow-lg mx-auto",children:o.jsx(Vh,{className:"w-6 h-6"})})]}),o.jsx("button",{onClick:()=>e(!t),className:`absolute top-20 bg-gray-800 text-white p-1.5 rounded-full shadow-lg hover:bg-gray-700 transition-colors border border-gray-600 z-10 ${i?"-left-3":"-right-3"}`,style:{left:i?"-12px":"auto",right:i?"auto":"-12px"},children:t?i?o.jsx(zh,{className:"w-4 h-4"}):o.jsx(gl,{className:"w-4 h-4"}):i?o.jsx(gl,{className:"w-4 h-4"}):o.jsx(zh,{className:"w-4 h-4"})}),o.jsxs("nav",{className:"flex-1 overflow-y-auto py-4 px-3 space-y-1 scrollbar-hide",children:[h.map(b=>y(b)),p.map(b=>{const j=b.icon,w=l.includes(b.title),C=x(b);return o.jsxs("div",{className:"pt-3",children:[t?o.jsx("div",{className:"flex justify-center py-2",children:o.jsx("div",{className:`w-8 h-0.5 rounded-full ${C?"bg-primary-500":"bg-gray-700"}`})}):o.jsxs("button",{onClick:()=>d(b.title),className:`w-full flex items-center justify-between px-4 py-2 rounded-lg transition-all ${C?"text-primary-400":"text-gray-400 hover:text-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(j,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:m[b.title]})]}),o.jsx(Y.div,{animate:{rotate:w?180:0},transition:{duration:.2},children:o.jsx(tb,{className:"w-4 h-4"})})]}),o.jsx(Rt,{initial:!1,children:(w||t)&&o.jsx(Y.div,{initial:t?!1:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:o.jsx("div",{className:`space-y-1 ${t?"":"mt-1"}`,children:b.items.map(M=>y(M,!t))})})})]},b.title)})]}),o.jsx("div",{className:"p-3 border-t border-gray-700/50",children:o.jsx(Be,{to:"/",children:o.jsxs(Y.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`flex items-center gap-3 px-4 py-3 rounded-lg bg-gray-800/50 hover:bg-gray-700/50 transition-all ${t?"justify-center":""}`,children:[o.jsx(v3,{className:"w-5 h-5 text-gray-400"}),!t&&o.jsx("span",{className:"text-sm text-gray-300",children:"Back to Site"})]})})}),!t&&o.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},className:"p-3 border-t border-gray-700/50",children:o.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Coral & Shells CMS v1.0.0"})})]})},gH=()=>{const[t,e]=_.useState(!1),{i18n:n}=et(),s=n.language==="ar";return _.useEffect(()=>{document.documentElement.dir=s?"rtl":"ltr",document.documentElement.lang=n.language},[s,n.language]),o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(mH,{isCollapsed:t,setIsCollapsed:e}),o.jsxs("div",{className:"transition-all duration-300",style:{marginLeft:s?0:t?80:280,marginRight:s?t?80:280:0},children:[o.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-40",children:o.jsxs("div",{className:"flex items-center justify-between px-8 py-4",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs(Be,{to:"/",className:"flex items-center gap-2 text-sm text-gray-600 hover:text-primary-600 transition-colors",children:[o.jsx(ar,{className:"w-4 h-4"}),"Back to Website"]})}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(mq,{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent w-64"})]}),o.jsxs("button",{className:"relative p-2 hover:bg-gray-100 rounded-lg transition-colors",children:[o.jsx(cF,{className:"w-5 h-5 text-gray-600"}),o.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),o.jsx("div",{className:"border-l border-gray-200 pl-4",children:o.jsx(nb,{})}),o.jsxs("button",{className:"flex items-center gap-3 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-600 to-accent-600 rounded-full flex items-center justify-center",children:o.jsx(nd,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"text-left hidden sm:block",children:[o.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Admin"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Administrator"})]})]})]})]})}),o.jsx("main",{className:"p-8",children:o.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:o.jsx(QI,{})})})]})]})},xH=({title:t,value:e,icon:n,trend:s,color:r})=>o.jsx(Y.div,{whileHover:{y:-4},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:t}),o.jsx("h3",{className:"text-3xl font-bold text-gray-900",children:e}),s&&o.jsxs("p",{className:`text-sm mt-2 ${s.isPositive?"text-green-600":"text-red-600"}`,children:[s.isPositive?"":""," ",s.value]})]}),o.jsx("div",{className:`${r} p-3 rounded-lg`,children:o.jsx(n,{className:"w-6 h-6 text-white"})})]})}),yH=()=>{const{t}=et("admin"),{data:e=[],isLoading:n}=Yp({}),{data:s=[],isLoading:r}=Gp({}),{data:i=[],isLoading:l}=Qp({}),{data:u=[],isLoading:d}=Jp({}),{data:h=[],isLoading:p}=Xp({}),{data:m=[],isLoading:x}=Jb({}),y=n||r||l||d||p||x,b=[{title:"Total Products",value:e.length.toString(),icon:il,trend:{value:`${e.filter(j=>j.in_stock).length} in stock`,isPositive:!0},color:"bg-gradient-to-br from-blue-500 to-blue-600"},{title:"Active Courses",value:s.filter(j=>j.is_active).length.toString(),icon:Vr,trend:{value:`${s.filter(j=>j.is_featured).length} featured`,isPositive:!0},color:"bg-gradient-to-br from-green-500 to-green-600"},{title:"Active Trips",value:i.filter(j=>j.is_active).length.toString(),icon:Zs,trend:{value:`${i.filter(j=>j.is_featured).length} featured`,isPositive:!0},color:"bg-gradient-to-br from-purple-500 to-purple-600"},{title:"Blog Posts",value:u.length.toString(),icon:Js,trend:{value:`${u.filter(j=>j.is_published).length} published`,isPositive:!0},color:"bg-gradient-to-br from-orange-500 to-orange-600"},{title:"Upcoming Events",value:h.filter(j=>j.is_active).length.toString(),icon:Ht,trend:{value:`${h.filter(j=>j.type==="workshop").length} workshops`,isPositive:!0},color:"bg-gradient-to-br from-cyan-500 to-cyan-600"},{title:"Team Members",value:m.length.toString(),icon:Qn,trend:{value:`${m.filter(j=>j.is_active).length} active`,isPositive:!0},color:"bg-gradient-to-br from-pink-500 to-pink-600"},{title:"Total Inventory",value:e.reduce((j,w)=>j+w.stock_quantity,0).toString(),icon:il,trend:{value:"Total units",isPositive:!0},color:"bg-gradient-to-br from-emerald-500 to-emerald-600"},{title:"Categories",value:new Set([...e.filter(j=>j.category_id).map(j=>j.category_id),...s.filter(j=>j.category_id).map(j=>j.category_id),...i.filter(j=>j.category_id).map(j=>j.category_id)]).size.toString(),icon:Js,trend:{value:"Active categories",isPositive:!0},color:"bg-gradient-to-br from-indigo-500 to-indigo-600"}];return y?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(ze,{className:"w-8 h-8 animate-spin text-primary-600"})}):o.jsxs("div",{children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t("dashboard.title")}),o.jsx("p",{className:"text-gray-600",children:t("dashboard.welcome")})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:b.map((j,w)=>o.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.05},children:o.jsx(xH,{...j})},j.title))}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[o.jsxs(Y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Recent Items"}),o.jsxs("div",{className:"space-y-4",children:[e.slice(0,2).map((j,w)=>o.jsxs("div",{className:"flex items-start gap-4 pb-4 border-b border-gray-100",children:[o.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-blue-100 text-blue-600",children:o.jsx(il,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.name}),o.jsxs("p",{className:"text-sm text-gray-600",children:["SAR ",j.price]}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:j.in_stock?`${j.stock_quantity} in stock`:"Out of stock"})]})]},`product-${w}`)),s.slice(0,2).map((j,w)=>o.jsxs("div",{className:"flex items-start gap-4 pb-4 border-b border-gray-100",children:[o.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-green-100 text-green-600",children:o.jsx(Vr,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.name}),o.jsxs("p",{className:"text-sm text-gray-600",children:[j.level," - ",j.duration]}),o.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["SAR ",j.price]})]})]},`course-${w}`)),i.slice(0,1).map((j,w)=>o.jsxs("div",{className:"flex items-start gap-4 pb-4 border-b border-gray-100 last:border-0",children:[o.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-purple-100 text-purple-600",children:o.jsx(Zs,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.name}),o.jsxs("p",{className:"text-sm text-gray-600",children:[j.location," - ",j.duration]}),o.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["SAR ",j.price]})]})]},`trip-${w}`))]})]}),o.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("button",{className:"p-4 border-2 border-gray-200 rounded-xl hover:border-primary-500 hover:bg-primary-50 transition-all text-left group",children:[o.jsx(il,{className:"w-6 h-6 text-primary-600 mb-2"}),o.jsx("div",{className:"font-semibold text-gray-900 group-hover:text-primary-600",children:"Add Product"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Create new item"})]}),o.jsxs("button",{className:"p-4 border-2 border-gray-200 rounded-xl hover:border-green-500 hover:bg-green-50 transition-all text-left group",children:[o.jsx(Vr,{className:"w-6 h-6 text-green-600 mb-2"}),o.jsx("div",{className:"font-semibold text-gray-900 group-hover:text-green-600",children:"Add Course"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Create new course"})]}),o.jsxs("button",{className:"p-4 border-2 border-gray-200 rounded-xl hover:border-purple-500 hover:bg-purple-50 transition-all text-left group",children:[o.jsx(Zs,{className:"w-6 h-6 text-purple-600 mb-2"}),o.jsx("div",{className:"font-semibold text-gray-900 group-hover:text-purple-600",children:"Add Trip"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Create new trip"})]}),o.jsxs("button",{className:"p-4 border-2 border-gray-200 rounded-xl hover:border-orange-500 hover:bg-orange-50 transition-all text-left group",children:[o.jsx(Js,{className:"w-6 h-6 text-orange-600 mb-2"}),o.jsx("div",{className:"font-semibold text-gray-900 group-hover:text-orange-600",children:"Add Blog Post"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Write new post"})]})]})]})]})]})},lr=({columns:t,data:e,onEdit:n,onDelete:s,onView:r,customActions:i})=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[t.map((l,u)=>o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:l.header},u)),o.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map((l,u)=>o.jsxs(Y.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:u*.05},className:"hover:bg-gray-50 transition-colors",children:[t.map((d,h)=>o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:d.render?d.render(l[d.accessor],l):l[d.accessor]},h)),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i&&i(l),r&&o.jsx("button",{onClick:()=>r(l),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"View",children:o.jsx(y3,{className:"w-4 h-4"})}),n&&o.jsx("button",{onClick:()=>n(l),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:o.jsx(Cq,{className:"w-4 h-4"})}),s&&o.jsx("button",{onClick:()=>s(l),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:o.jsx(_q,{className:"w-4 h-4"})})]})})]},u))})]})}),e.length===0&&o.jsx("div",{className:"text-center py-12 text-gray-500",children:"No data available"})]}),ke=({label:t,name:e,value:n,translationValue:s,onChangeEnglish:r,onChangeArabic:i,type:l="text",required:u=!1,placeholder:d,placeholderAr:h,rows:p=4,disabled:m=!1,className:x=""})=>{const[y,b]=_.useState("en"),j=y==="en"?n:s,w=y==="en"?d:h||d,C=E=>{y==="en"?r(E.target.value):i(E.target.value)},M=`
    w-full px-4 py-3 rounded-lg border border-gray-300 shadow-sm
    focus:border-primary-500 focus:ring-2 focus:ring-primary-500 focus:ring-opacity-20
    text-base placeholder:text-gray-400 disabled:bg-gray-100
    ${y==="ar"?"text-right":"text-left"}
    ${x}
  `;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[t,u&&o.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),o.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-0.5",children:[o.jsx("button",{type:"button",onClick:()=>b("en"),className:`px-3 py-1 text-xs font-medium rounded-md transition-all duration-200 ${y==="en"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"EN"}),o.jsx("button",{type:"button",onClick:()=>b("ar"),className:`px-3 py-1 text-xs font-medium rounded-md transition-all duration-200 ${y==="ar"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"AR"})]})]}),o.jsxs("div",{className:"relative",children:[l==="textarea"?o.jsx("textarea",{id:`${e}-${y}`,name:`${e}-${y}`,value:j,onChange:C,rows:p,required:u&&y==="en",placeholder:w,disabled:m,className:M,dir:y==="ar"?"rtl":"ltr"}):o.jsx("input",{type:"text",id:`${e}-${y}`,name:`${e}-${y}`,value:j,onChange:C,required:u&&y==="en",placeholder:w,disabled:m,className:M,dir:y==="ar"?"rtl":"ltr"}),o.jsx("div",{className:`absolute top-2 ${y==="ar"?"left-2":"right-2"} pointer-events-none`,children:o.jsx("span",{className:`text-[10px] font-medium px-1.5 py-0.5 rounded ${y==="en"?"bg-blue-50 text-blue-600":"bg-emerald-50 text-emerald-600"}`,children:y==="en"?"English":""})})]}),o.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:`w-2 h-2 rounded-full ${n?"bg-green-500":"bg-gray-300"}`}),o.jsx("span",{className:"text-gray-500",children:"EN"})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:`w-2 h-2 rounded-full ${s?"bg-green-500":"bg-gray-300"}`}),o.jsx("span",{className:"text-gray-500",children:"AR"})]})]})]})};var bH=Object.defineProperty,vH=(t,e,n)=>e in t?bH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dt=(t,e,n)=>vH(t,typeof e!="symbol"?e+"":e,n);const Uh={x:0,y:0,width:0,height:0,unit:"px"},Ho=(t,e,n)=>Math.min(Math.max(t,e),n),wH=(...t)=>t.filter(e=>e&&typeof e=="string").join(" "),Mk=(t,e)=>t===e||t.width===e.width&&t.height===e.height&&t.x===e.x&&t.y===e.y&&t.unit===e.unit;function NH(t,e,n,s){const r=qs(t,n,s);return t.width&&(r.height=r.width/e),t.height&&(r.width=r.height*e),r.y+r.height>s&&(r.height=s-r.y,r.width=r.height*e),r.x+r.width>n&&(r.width=n-r.x,r.height=r.width/e),t.unit==="%"?ki(r,n,s):r}function jH(t,e,n){const s=qs(t,e,n);return s.x=(e-s.width)/2,s.y=(n-s.height)/2,t.unit==="%"?ki(s,e,n):s}function ki(t,e,n){return t.unit==="%"?{...Uh,...t,unit:"%"}:{unit:"%",x:t.x?t.x/e*100:0,y:t.y?t.y/n*100:0,width:t.width?t.width/e*100:0,height:t.height?t.height/n*100:0}}function qs(t,e,n){return t.unit?t.unit==="px"?{...Uh,...t,unit:"px"}:{unit:"px",x:t.x?t.x*e/100:0,y:t.y?t.y*n/100:0,width:t.width?t.width*e/100:0,height:t.height?t.height*n/100:0}:{...Uh,...t,unit:"px"}}function Ak(t,e,n,s,r,i=0,l=0,u=s,d=r){const h={...t};let p=Math.min(i,s),m=Math.min(l,r),x=Math.min(u,s),y=Math.min(d,r);e&&(e>1?(p=l?l*e:p,m=p/e,x=u*e):(m=i?i/e:m,p=m*e,y=d/e)),h.y<0&&(h.height=Math.max(h.height+h.y,m),h.y=0),h.x<0&&(h.width=Math.max(h.width+h.x,p),h.x=0);const b=s-(h.x+h.width);b<0&&(h.x=Math.min(h.x,s-p),h.width+=b);const j=r-(h.y+h.height);if(j<0&&(h.y=Math.min(h.y,r-m),h.height+=j),h.width<p&&((n==="sw"||n=="nw")&&(h.x-=p-h.width),h.width=p),h.height<m&&((n==="nw"||n=="ne")&&(h.y-=m-h.height),h.height=m),h.width>x&&((n==="sw"||n=="nw")&&(h.x-=x-h.width),h.width=x),h.height>y&&((n==="nw"||n=="ne")&&(h.y-=y-h.height),h.height=y),e){const w=h.width/h.height;if(w<e){const C=Math.max(h.width/e,m);(n==="nw"||n=="ne")&&(h.y-=C-h.height),h.height=C}else if(w>e){const C=Math.max(h.height*e,p);(n==="sw"||n=="nw")&&(h.x-=C-h.width),h.width=C}}return h}function SH(t,e,n,s){const r={...t};return e==="ArrowLeft"?s==="nw"?(r.x-=n,r.y-=n,r.width+=n,r.height+=n):s==="w"?(r.x-=n,r.width+=n):s==="sw"?(r.x-=n,r.width+=n,r.height+=n):s==="ne"?(r.y+=n,r.width-=n,r.height-=n):s==="e"?r.width-=n:s==="se"&&(r.width-=n,r.height-=n):e==="ArrowRight"&&(s==="nw"?(r.x+=n,r.y+=n,r.width-=n,r.height-=n):s==="w"?(r.x+=n,r.width-=n):s==="sw"?(r.x+=n,r.width-=n,r.height-=n):s==="ne"?(r.y-=n,r.width+=n,r.height+=n):s==="e"?r.width+=n:s==="se"&&(r.width+=n,r.height+=n)),e==="ArrowUp"?s==="nw"?(r.x-=n,r.y-=n,r.width+=n,r.height+=n):s==="n"?(r.y-=n,r.height+=n):s==="ne"?(r.y-=n,r.width+=n,r.height+=n):s==="sw"?(r.x+=n,r.width-=n,r.height-=n):s==="s"?r.height-=n:s==="se"&&(r.width-=n,r.height-=n):e==="ArrowDown"&&(s==="nw"?(r.x+=n,r.y+=n,r.width-=n,r.height-=n):s==="n"?(r.y+=n,r.height-=n):s==="ne"?(r.y+=n,r.width-=n,r.height-=n):s==="sw"?(r.x-=n,r.width+=n,r.height+=n):s==="s"?r.height+=n:s==="se"&&(r.width+=n,r.height+=n)),r}const Ko={capture:!0,passive:!1};let CH=0;const Si=class Ss extends _.PureComponent{constructor(){super(...arguments),dt(this,"docMoveBound",!1),dt(this,"mouseDownOnCrop",!1),dt(this,"dragStarted",!1),dt(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),dt(this,"componentRef",_.createRef()),dt(this,"mediaRef",_.createRef()),dt(this,"resizeObserver"),dt(this,"initChangeCalled",!1),dt(this,"instanceId",`rc-${CH++}`),dt(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),dt(this,"onCropPointerDown",e=>{const{crop:n,disabled:s}=this.props,r=this.getBox();if(!n)return;const i=qs(n,r.width,r.height);if(s)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const l=e.target.dataset.ord,u=!!l;let d=e.clientX,h=e.clientY,p=i.x,m=i.y;if(l){const x=e.clientX-r.x,y=e.clientY-r.y;let b=0,j=0;l==="ne"||l=="e"?(b=x-(i.x+i.width),j=y-i.y,p=i.x,m=i.y+i.height):l==="se"||l==="s"?(b=x-(i.x+i.width),j=y-(i.y+i.height),p=i.x,m=i.y):l==="sw"||l=="w"?(b=x-i.x,j=y-(i.y+i.height),p=i.x+i.width,m=i.y):(l==="nw"||l=="n")&&(b=x-i.x,j=y-i.y,p=i.x+i.width,m=i.y+i.height),d=p+r.x+b,h=m+r.y+j}this.evData={startClientX:d,startClientY:h,startCropX:p,startCropY:m,clientX:e.clientX,clientY:e.clientY,isResize:u,ord:l},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),dt(this,"onComponentPointerDown",e=>{const{crop:n,disabled:s,locked:r,keepSelection:i,onChange:l}=this.props,u=this.getBox();if(s||r||i&&n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const d=e.clientX-u.x,h=e.clientY-u.y,p={unit:"px",x:d,y:h,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:d,startCropY:h,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,l(qs(p,u.width,u.height),ki(p,u.width,u.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),dt(this,"onDocPointerMove",e=>{const{crop:n,disabled:s,onChange:r,onDragStart:i}=this.props,l=this.getBox();if(s||!n||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,i&&i(e));const{evData:u}=this;u.clientX=e.clientX,u.clientY=e.clientY;let d;u.isResize?d=this.resizeCrop():d=this.dragCrop(),Mk(n,d)||r(qs(d,l.width,l.height),ki(d,l.width,l.height))}),dt(this,"onComponentKeyDown",e=>{const{crop:n,disabled:s,onChange:r,onComplete:i}=this.props;if(s)return;const l=e.key;let u=!1;if(!n)return;const d=this.getBox(),h=this.makePixelCrop(d),p=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?Ss.nudgeStepLarge:e.shiftKey?Ss.nudgeStepMedium:Ss.nudgeStep;if(l==="ArrowLeft"?(h.x-=p,u=!0):l==="ArrowRight"?(h.x+=p,u=!0):l==="ArrowUp"?(h.y-=p,u=!0):l==="ArrowDown"&&(h.y+=p,u=!0),u){e.cancelable&&e.preventDefault(),h.x=Ho(h.x,0,d.width-h.width),h.y=Ho(h.y,0,d.height-h.height);const m=qs(h,d.width,d.height),x=ki(h,d.width,d.height);r(m,x),i&&i(m,x)}}),dt(this,"onHandlerKeyDown",(e,n)=>{const{aspect:s=0,crop:r,disabled:i,minWidth:l=0,minHeight:u=0,maxWidth:d,maxHeight:h,onChange:p,onComplete:m}=this.props,x=this.getBox();if(i||!r)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;const y=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?Ss.nudgeStepLarge:e.shiftKey?Ss.nudgeStepMedium:Ss.nudgeStep,b=qs(r,x.width,x.height),j=SH(b,e.key,y,n),w=Ak(j,s,n,x.width,x.height,l,u,d,h);if(!Mk(r,w)){const C=ki(w,x.width,x.height);p(w,C),m&&m(w,C)}}),dt(this,"onDocPointerDone",e=>{const{crop:n,disabled:s,onComplete:r,onDragEnd:i}=this.props,l=this.getBox();this.unbindDocMove(),!(s||!n)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,i&&i(e),r&&r(qs(n,l.width,l.height),ki(n,l.width,l.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),dt(this,"onDragFocus",()=>{var e;(e=this.componentRef.current)==null||e.scrollTo(0,0)})}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:n,y:s,width:r,height:i}=e.getBoundingClientRect();return{x:n,y:s,width:r,height:i}}componentDidUpdate(e){const{crop:n,onComplete:s}=this.props;if(s&&!e.crop&&n){const{width:r,height:i}=this.getBox();r&&i&&s(qs(n,r,i),ki(n,r,i))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,Ko),this.document.addEventListener("pointerup",this.onDocPointerDone,Ko),this.document.addEventListener("pointercancel",this.onDocPointerDone,Ko),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,Ko),this.document.removeEventListener("pointerup",this.onDocPointerDone,Ko),this.document.removeEventListener("pointercancel",this.onDocPointerDone,Ko),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,n=this.getBox(),s=this.makePixelCrop(n),r=e.clientX-e.startClientX,i=e.clientY-e.startClientY;return s.x=Ho(e.startCropX+r,0,n.width-s.width),s.y=Ho(e.startCropY+i,0,n.height-s.height),s}getPointRegion(e,n,s,r){const{evData:i}=this,l=i.clientX-e.x,u=i.clientY-e.y;let d;r&&n?d=n==="nw"||n==="n"||n==="ne":d=u<i.startCropY;let h;return s&&n?h=n==="nw"||n==="w"||n==="sw":h=l<i.startCropX,h?d?"nw":"sw":d?"ne":"se"}resolveMinDimensions(e,n,s=0,r=0){const i=Math.min(s,e.width),l=Math.min(r,e.height);return!n||!i&&!l?[i,l]:n>1?i?[i,i/n]:[l*n,l]:l?[l*n,l]:[i,i/n]}resizeCrop(){const{evData:e}=this,{aspect:n=0,maxWidth:s,maxHeight:r}=this.props,i=this.getBox(),[l,u]=this.resolveMinDimensions(i,n,this.props.minWidth,this.props.minHeight);let d=this.makePixelCrop(i);const h=this.getPointRegion(i,e.ord,l,u),p=e.ord||h;let m=e.clientX-e.startClientX,x=e.clientY-e.startClientY;(l&&p==="nw"||p==="w"||p==="sw")&&(m=Math.min(m,-l)),(u&&p==="nw"||p==="n"||p==="ne")&&(x=Math.min(x,-u));const y={unit:"px",x:0,y:0,width:0,height:0};h==="ne"?(y.x=e.startCropX,y.width=m,n?(y.height=y.width/n,y.y=e.startCropY-y.height):(y.height=Math.abs(x),y.y=e.startCropY-y.height)):h==="se"?(y.x=e.startCropX,y.y=e.startCropY,y.width=m,n?y.height=y.width/n:y.height=x):h==="sw"?(y.x=e.startCropX+m,y.y=e.startCropY,y.width=Math.abs(m),n?y.height=y.width/n:y.height=x):h==="nw"&&(y.x=e.startCropX+m,y.width=Math.abs(m),n?(y.height=y.width/n,y.y=e.startCropY-y.height):(y.height=Math.abs(x),y.y=e.startCropY+x));const b=Ak(y,n,h,i.width,i.height,l,u,s,r);return n||Ss.xyOrds.indexOf(p)>-1?d=b:Ss.xOrds.indexOf(p)>-1?(d.x=b.x,d.width=b.width):Ss.yOrds.indexOf(p)>-1&&(d.y=b.y,d.height=b.height),d.x=Ho(d.x,0,i.width-d.width),d.y=Ho(d.y,0,i.height-d.height),d}renderCropSelection(){const{ariaLabels:e=Ss.defaultProps.ariaLabels,disabled:n,locked:s,renderSelectionAddon:r,ruleOfThirds:i,crop:l}=this.props,u=this.getCropStyle();if(l)return Pe.createElement("div",{style:u,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!s&&Pe.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},Pe.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),Pe.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),Pe.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),Pe.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),Pe.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"nw"),role:"button"}),Pe.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"n"),role:"button"}),Pe.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"ne"),role:"button"}),Pe.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"e"),role:"button"}),Pe.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"se"),role:"button"}),Pe.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"s"),role:"button"}),Pe.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"sw"),role:"button"}),Pe.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"w"),role:"button"})),r&&Pe.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:d=>d.stopPropagation()},r(this.state)),i&&Pe.createElement(Pe.Fragment,null,Pe.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),Pe.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){const n={...Uh,...this.props.crop||{}};return qs(n,e.width,e.height)}render(){const{aspect:e,children:n,circularCrop:s,className:r,crop:i,disabled:l,locked:u,style:d,ruleOfThirds:h}=this.props,{cropIsActive:p,newCropIsBeingDrawn:m}=this.state,x=i?this.renderCropSelection():null,y=wH("ReactCrop",r,p&&"ReactCrop--active",l&&"ReactCrop--disabled",u&&"ReactCrop--locked",m&&"ReactCrop--new-crop",i&&e&&"ReactCrop--fixed-aspect",i&&s&&"ReactCrop--circular-crop",i&&h&&"ReactCrop--rule-of-thirds",!this.dragStarted&&i&&!i.width&&!i.height&&"ReactCrop--invisible-crop",s&&"ReactCrop--no-animate");return Pe.createElement("div",{ref:this.componentRef,className:y,style:d},Pe.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},n),i?Pe.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},Pe.createElement("defs",null,Pe.createElement("mask",{id:`hole-${this.instanceId}`},Pe.createElement("rect",{width:"100%",height:"100%",fill:"white"}),s?Pe.createElement("ellipse",{cx:`${i.x+i.width/2}${i.unit}`,cy:`${i.y+i.height/2}${i.unit}`,rx:`${i.width/2}${i.unit}`,ry:`${i.height/2}${i.unit}`,fill:"black"}):Pe.createElement("rect",{x:`${i.x}${i.unit}`,y:`${i.y}${i.unit}`,width:`${i.width}${i.unit}`,height:`${i.height}${i.unit}`,fill:"black"}))),Pe.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,x)}};dt(Si,"xOrds",["e","w"]),dt(Si,"yOrds",["n","s"]),dt(Si,"xyOrds",["nw","ne","se","sw"]),dt(Si,"nudgeStep",1),dt(Si,"nudgeStepMedium",10),dt(Si,"nudgeStepLarge",100),dt(Si,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let kH=Si;function _k(t,e,n){return jH(NH({unit:"%",width:90},n,t,e),t,e)}const On=({onImageCropped:t,currentPreview:e,guideline:n,disabled:s=!1,required:r=!1,aspectRatio:i,className:l=""})=>{const[u,d]=_.useState(""),[h,p]=_.useState(),[m,x]=_.useState(),[y,b]=_.useState(!1),[j,w]=_.useState(e||""),C=_.useRef(null),M=_.useRef(null);_.useEffect(()=>{e&&e!==j&&w(e)},[e]);const E=i||n.width/n.height,S=L=>{if(L.target.files&&L.target.files.length>0){const V=new FileReader;V.addEventListener("load",()=>{d(V.result?.toString()||""),b(!0)}),V.readAsDataURL(L.target.files[0])}},k=_.useCallback(L=>{const{width:V,height:F}=L.currentTarget;p(_k(V,F,E))},[E]),R=_.useCallback(async()=>{if(!m||!C.current)return null;const L=C.current,V=document.createElement("canvas"),F=L.naturalWidth/L.width,K=L.naturalHeight/L.height;V.width=n.width,V.height=n.height;const re=V.getContext("2d");if(!re)return null;re.imageSmoothingEnabled=!0,re.imageSmoothingQuality="high";const U=m.x*F,H=m.y*K,ee=m.width*F,ae=m.height*K;return re.drawImage(L,U,H,ee,ae,0,0,n.width,n.height),new Promise(de=>{V.toBlob(z=>{if(!z){de(null);return}const J=new File([z],`cropped-image-${Date.now()}.jpg`,{type:"image/jpeg"}),se=URL.createObjectURL(z);de({file:J,previewUrl:se})},"image/jpeg",.95)})},[m,n.width,n.height]),O=async()=>{const L=await R();L&&(w(L.previewUrl),t(L.file,L.previewUrl),b(!1),d(""),p(void 0),x(void 0))},T=()=>{b(!1),d(""),p(void 0),x(void 0),M.current&&(M.current.value="")},D=()=>{w(""),M.current&&(M.current.value="")},B=()=>{if(C.current){const{width:L,height:V}=C.current;p(_k(L,V,E))}};return o.jsxs("div",{className:l,children:[o.jsx("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(N3,{className:"w-4 h-4 text-blue-600 mt-0.5 shrink-0"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-blue-800",children:n.label}),o.jsxs("p",{className:"text-blue-600",children:["Recommended size: ",o.jsxs("span",{className:"font-semibold",children:[n.width," x ",n.height,"px"]})]}),n.description&&o.jsx("p",{className:"text-blue-500 text-xs mt-1",children:n.description})]})]})}),j?o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:j,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-200"}),o.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center gap-3",children:[o.jsxs("label",{className:"p-2 bg-white rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[o.jsx(Ek,{className:"w-5 h-5 text-gray-700"}),o.jsx("input",{ref:M,type:"file",accept:"image/jpeg,image/png,image/jpg,image/gif,image/webp",onChange:S,disabled:s,className:"hidden"})]}),o.jsx("button",{type:"button",onClick:D,disabled:s,className:"p-2 bg-white rounded-lg hover:bg-red-50 transition-colors",children:o.jsx(dn,{className:"w-5 h-5 text-red-600"})})]}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:[n.width," x ",n.height,"px"]})]}):o.jsxs("label",{className:`relative flex flex-col items-center justify-center w-full h-48 border-2 border-dashed rounded-lg cursor-pointer transition-colors ${s?"border-gray-200 bg-gray-50 cursor-not-allowed":"border-gray-300 hover:border-primary-400 hover:bg-primary-50"}`,children:[o.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[o.jsx(Bq,{className:`w-10 h-10 mb-3 ${s?"text-gray-300":"text-gray-400"}`}),o.jsxs("p",{className:`mb-2 text-sm ${s?"text-gray-400":"text-gray-500"}`,children:[o.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),o.jsx("p",{className:"text-xs text-gray-400",children:"PNG, JPG, GIF or WebP (max. 2MB)"})]}),o.jsx("input",{ref:M,type:"file",accept:"image/jpeg,image/png,image/jpg,image/gif,image/webp",onChange:S,disabled:s,required:r&&!j,className:"hidden"})]}),o.jsx(Rt,{children:y&&o.jsxs(o.Fragment,{children:[o.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 z-[60]",onClick:T}),o.jsx(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-[60] flex items-center justify-center p-4",onClick:L=>L.stopPropagation(),children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ek,{className:"w-5 h-5 text-primary-600"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Crop Image"}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Adjust to fit ",n.width," x ",n.height,"px"]})]})]}),o.jsx("button",{onClick:T,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(dn,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-4 bg-gray-100 max-h-[60vh] overflow-auto flex items-center justify-center",children:u&&o.jsx(kH,{crop:h,onChange:(L,V)=>p(V),onComplete:L=>x(L),aspect:E,className:"max-w-full",children:o.jsx("img",{ref:C,alt:"Crop",src:u,onLoad:k,className:"max-h-[50vh] max-w-full"})})}),o.jsx("div",{className:"p-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(w3,{className:"w-4 h-4"}),o.jsxs("span",{children:["Output: ",n.width," x ",n.height,"px"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{type:"button",onClick:B,className:"flex items-center gap-2 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[o.jsx(fq,{className:"w-4 h-4"}),"Reset"]}),o.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsxs("button",{type:"button",onClick:O,className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all",children:[o.jsx(g3,{className:"w-4 h-4"}),"Apply Crop"]})]})]})})]})})]})})]})},Rn={banner:{width:1920,height:600,label:"Banner Image",description:"Wide format for hero sections and page headers"},teamMember:{width:400,height:400,label:"Team Member Photo",description:"Square format for profile pictures"},course:{width:800,height:600,label:"Course Image",description:"Landscape format for course cards"},trip:{width:800,height:600,label:"Trip Image",description:"Landscape format for trip cards"},product:{width:600,height:600,label:"Product Image",description:"Square format for product listings"},blog:{width:1200,height:630,label:"Blog Featured Image",description:"Optimal for social sharing (1.91:1 ratio)"},initiative:{width:800,height:600,label:"Initiative Image",description:"Landscape format for initiative cards"}},EH=({isOpen:t,onClose:e,product:n,mode:s})=>{const[r,{isLoading:i}]=qM(),[l,{isLoading:u}]=HM(),{data:d=[]}=Ps({active:!0,type:"product"}),[h,p]=_.useState({name:"",description:"",details:"",image:"",price:0,category_id:null,in_stock:!0,is_active:!0,is_featured:!1,stock_quantity:0,sku:"",name_translations:{ar:""},description_translations:{ar:""},details_translations:{ar:""}}),[m,x]=_.useState(null),[y,b]=_.useState("");_.useEffect(()=>{n&&s!=="create"?(p({name:n.name,description:n.description,details:n.details||"",image:n.image||"",price:Number(n.price),category_id:n.category_id||null,in_stock:n.in_stock,is_active:n.is_active,is_featured:n.is_featured,stock_quantity:n.stock_quantity,sku:n.sku||"",name_translations:n.name_translations||{ar:""},description_translations:n.description_translations||{ar:""},details_translations:n.details_translations||{ar:""}}),n.image_url&&b(n.image_url),x(null)):s==="create"&&(p({name:"",description:"",details:"",image:"",price:0,category_id:null,in_stock:!0,is_active:!0,is_featured:!1,stock_quantity:0,sku:"",name_translations:{ar:""},description_translations:{ar:""},details_translations:{ar:""}}),x(null),b(""))},[n,s]);const j=async S=>{if(S.preventDefault(),s==="view"){e();return}try{const k=new FormData;k.append("name",h.name),k.append("description",h.description),k.append("details",h.details),k.append("price",h.price.toString()),k.append("in_stock",h.in_stock?"1":"0"),k.append("is_active",h.is_active?"1":"0"),k.append("is_featured",h.is_featured?"1":"0"),k.append("stock_quantity",h.stock_quantity.toString()),h.category_id&&k.append("category_id",h.category_id.toString()),h.sku&&k.append("sku",h.sku),m&&k.append("image",m),k.append("name_translations",JSON.stringify(h.name_translations)),k.append("description_translations",JSON.stringify(h.description_translations)),k.append("details_translations",JSON.stringify(h.details_translations)),s==="create"?(await r(k).unwrap(),oe.success("Product created successfully")):(k.append("_method","PUT"),await l({id:n.id,data:k}).unwrap(),oe.success("Product updated successfully")),e()}catch(k){console.error(`${s} error:`,k),k?.data?.errors?Object.values(k.data.errors).flat().forEach(O=>oe.error(O)):k?.data?.message?oe.error(k.data.message):oe.error(`Failed to ${s} product`)}},w=S=>{const{name:k,value:R,type:O}=S.target;p(O==="checkbox"?T=>({...T,[k]:S.target.checked}):O==="number"?T=>({...T,[k]:Number(R)}):k==="category_id"?T=>({...T,[k]:R===""?null:Number(R)}):T=>({...T,[k]:R}))},C=(S,k)=>{x(S),b(k)},M=s==="view",E=i||u;return o.jsx(Rt,{children:t&&o.jsxs(o.Fragment,{children:[o.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:e}),o.jsx(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:S=>S.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s==="create"?"Add New Product":s==="edit"?"Edit Product":"Product Details"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(dn,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:j,className:"p-6 space-y-5",children:[o.jsx(ke,{label:"Product Name",name:"name",value:h.name,translationValue:h.name_translations.ar,onChangeEnglish:S=>p(k=>({...k,name:S})),onChangeArabic:S=>p(k=>({...k,name_translations:{...k.name_translations,ar:S}})),required:!0,placeholder:"Enter product name",placeholderAr:"  ",disabled:M}),o.jsx(ke,{label:"Description",name:"description",value:h.description,translationValue:h.description_translations.ar,onChangeEnglish:S=>p(k=>({...k,description:S})),onChangeArabic:S=>p(k=>({...k,description_translations:{...k.description_translations,ar:S}})),type:"textarea",required:!0,rows:3,placeholder:"Enter product description",placeholderAr:"  ",disabled:M}),o.jsx(ke,{label:"Details",name:"details",value:h.details,translationValue:h.details_translations.ar,onChangeEnglish:S=>p(k=>({...k,details:S})),onChangeArabic:S=>p(k=>({...k,details_translations:{...k.details_translations,ar:S}})),type:"textarea",rows:3,placeholder:"Enter additional details",placeholderAr:"  ",disabled:M}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (SAR) *"}),o.jsx("input",{type:"number",name:"price",value:h.price,onChange:w,disabled:M,required:!0,step:"0.01",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity *"}),o.jsx("input",{type:"number",name:"stock_quantity",value:h.stock_quantity,onChange:w,disabled:M,required:!0,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SKU"}),o.jsx("input",{type:"text",name:"sku",value:h.sku,onChange:w,disabled:M,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsxs("select",{name:"category_id",value:h.category_id||"",onChange:w,disabled:M,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100",children:[o.jsx("option",{value:"",children:"No Category"}),d.map(S=>o.jsx("option",{value:S.id,children:S.name},S.id))]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Image"}),M?o.jsx("div",{className:"mt-3",children:o.jsx("img",{src:y||"/placeholder.svg",alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-200"})}):o.jsx(On,{onImageCropped:C,currentPreview:y,guideline:Rn.product,disabled:M,aspectRatio:1})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"in_stock",checked:h.in_stock,onChange:w,disabled:M,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"In Stock"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"is_active",checked:h.is_active,onChange:w,disabled:M,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"is_featured",checked:h.is_featured,onChange:w,disabled:M,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Featured"})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:M?"Close":"Cancel"}),!M&&o.jsxs("button",{type:"submit",disabled:E,className:"px-6 py-2 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 flex items-center gap-2",children:[E&&o.jsx(ze,{className:"w-4 h-4 animate-spin"}),s==="create"?"Create Product":"Update Product"]})]})]})]})})]})})},TH=()=>{const{t}=et("admin"),e=kt(),{data:n=[],isLoading:s,error:r}=Yp({}),[i]=Iz(),[l,u]=_.useState(!1),[d,h]=_.useState(null),p=[{header:"Product",accessor:"name",render:(w,C)=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:C.image_url||"/placeholder.svg",alt:w,className:"w-12 h-12 object-cover rounded-lg"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:w}),C.category&&o.jsx("div",{className:"text-xs text-gray-500",children:C.category.name})]})]})},{header:"Description",accessor:"description",render:w=>o.jsx("div",{className:"max-w-xs truncate",children:w})},{header:"Price",accessor:"price",render:w=>o.jsxs("span",{className:"font-semibold text-primary-600",children:["SAR ",w]})},{header:"Stock",accessor:"stock_quantity",render:w=>o.jsx("span",{className:"text-gray-700",children:w})},{header:"Status",accessor:"in_stock",render:w=>o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${w?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:w?"In Stock":"Out of Stock"})}],m=w=>{e(`/admin/products/${w.id}/edit`)},x=async w=>{if(confirm(t("products.confirmDelete")))try{await i(w.id).unwrap(),oe.success(t("messages.deleteSuccess"))}catch(C){oe.error(t("messages.deleteError")),console.error("Delete error:",C)}},y=w=>{h(w),u(!0)},b=()=>{e("/admin/products/new")},j=()=>{u(!1),h(null)};return s?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r?o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:t("messages.loadError")}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t("products.title")}),o.jsx("p",{className:"text-gray-600",children:t("products.subtitle")})]}),o.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all",children:[o.jsx(Qr,{className:"w-5 h-5"}),t("products.addProduct")]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Products"}),o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:n.length})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"In Stock"}),o.jsx("div",{className:"text-3xl font-bold text-green-600",children:n.filter(w=>w.in_stock).length})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Out of Stock"}),o.jsx("div",{className:"text-3xl font-bold text-red-600",children:n.filter(w=>!w.in_stock).length})]})]}),o.jsx(lr,{columns:p,data:n,onEdit:m,onDelete:x,onView:y}),o.jsx(EH,{isOpen:l,onClose:j,product:d,mode:"view"})]})},MH=({isOpen:t,onClose:e,course:n,mode:s})=>{const[r,{isLoading:i}]=VM(),[l,{isLoading:u}]=UM(),{data:d=[]}=Ps({active:!0,type:"course"}),[h,p]=_.useState({name:"",description:"",details:"",image:"",price:0,duration:"",level:"Beginner",category_id:null,is_active:!0,is_featured:!1,max_students:null,requirements:[],name_translations:{ar:""},description_translations:{ar:""},details_translations:{ar:""}}),[m,x]=_.useState(null),[y,b]=_.useState("");_.useEffect(()=>{n&&s!=="create"?(p({name:n.name,description:n.description,details:n.details||"",image:n.image||"",price:Number(n.price),duration:n.duration,level:n.level,category_id:n.category_id||null,is_active:n.is_active,is_featured:n.is_featured,max_students:n.max_students||null,requirements:n.requirements||[],name_translations:n.name_translations||{ar:""},description_translations:n.description_translations||{ar:""},details_translations:n.details_translations||{ar:""}}),n.image_url&&b(n.image_url),x(null)):s==="create"&&(p({name:"",description:"",details:"",image:"",price:0,duration:"",level:"Beginner",category_id:null,is_active:!0,is_featured:!1,max_students:null,requirements:[],name_translations:{ar:""},description_translations:{ar:""},details_translations:{ar:""}}),x(null),b(""))},[n,s]);const j=async S=>{if(S.preventDefault(),s==="view"){e();return}try{const k=new FormData;k.append("name",h.name),k.append("description",h.description),k.append("details",h.details),k.append("price",h.price.toString()),k.append("duration",h.duration),k.append("level",h.level),k.append("is_active",h.is_active?"1":"0"),k.append("is_featured",h.is_featured?"1":"0"),h.category_id&&k.append("category_id",h.category_id.toString()),h.max_students&&k.append("max_students",h.max_students.toString()),m&&k.append("image",m),k.append("requirements",JSON.stringify(h.requirements)),k.append("name_translations",JSON.stringify(h.name_translations)),k.append("description_translations",JSON.stringify(h.description_translations)),k.append("details_translations",JSON.stringify(h.details_translations)),s==="create"?(await r(k).unwrap(),oe.success("Course created successfully")):(k.append("_method","PUT"),await l({id:n.id,data:k}).unwrap(),oe.success("Course updated successfully")),e()}catch(k){console.error(`${s} error:`,k),k?.data?.errors?Object.values(k.data.errors).flat().forEach(O=>oe.error(O)):k?.data?.message?oe.error(k.data.message):oe.error(`Failed to ${s} course`)}},w=S=>{const{name:k,value:R,type:O}=S.target;p(O==="checkbox"?T=>({...T,[k]:S.target.checked}):O==="number"?T=>({...T,[k]:R===""?null:Number(R)}):k==="category_id"?T=>({...T,[k]:R===""?null:Number(R)}):T=>({...T,[k]:R}))},C=(S,k)=>{x(S),b(k)},M=s==="view",E=i||u;return o.jsx(Rt,{children:t&&o.jsxs(o.Fragment,{children:[o.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:e}),o.jsx(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:S=>S.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s==="create"?"Add New Course":s==="edit"?"Edit Course":"Course Details"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(dn,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:j,className:"p-6 space-y-5",children:[o.jsx(ke,{label:"Course Name",name:"name",value:h.name,translationValue:h.name_translations.ar,onChangeEnglish:S=>p(k=>({...k,name:S})),onChangeArabic:S=>p(k=>({...k,name_translations:{...k.name_translations,ar:S}})),required:!0,placeholder:"Enter course name",placeholderAr:"  ",disabled:M}),o.jsx(ke,{label:"Description",name:"description",value:h.description,translationValue:h.description_translations.ar,onChangeEnglish:S=>p(k=>({...k,description:S})),onChangeArabic:S=>p(k=>({...k,description_translations:{...k.description_translations,ar:S}})),type:"textarea",required:!0,rows:3,placeholder:"Enter course description",placeholderAr:"  ",disabled:M}),o.jsx(ke,{label:"Details",name:"details",value:h.details,translationValue:h.details_translations.ar,onChangeEnglish:S=>p(k=>({...k,details:S})),onChangeArabic:S=>p(k=>({...k,details_translations:{...k.details_translations,ar:S}})),type:"textarea",rows:3,placeholder:"Enter additional details",placeholderAr:"  ",disabled:M}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (SAR) *"}),o.jsx("input",{type:"number",name:"price",value:h.price,onChange:w,disabled:M,required:!0,step:"0.01",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration *"}),o.jsx("input",{type:"text",name:"duration",value:h.duration,onChange:w,disabled:M,required:!0,placeholder:"e.g. 4 weeks",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Level *"}),o.jsxs("select",{name:"level",value:h.level,onChange:w,disabled:M,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100",children:[o.jsx("option",{value:"Beginner",children:"Beginner"}),o.jsx("option",{value:"Intermediate",children:"Intermediate"}),o.jsx("option",{value:"Advanced",children:"Advanced"}),o.jsx("option",{value:"All Levels",children:"All Levels"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Students"}),o.jsx("input",{type:"number",name:"max_students",value:h.max_students||"",onChange:w,disabled:M,min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsxs("select",{name:"category_id",value:h.category_id||"",onChange:w,disabled:M,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100",children:[o.jsx("option",{value:"",children:"No Category"}),d.map(S=>o.jsx("option",{value:S.id,children:S.name},S.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Image"}),M?o.jsx("div",{className:"mt-3",children:o.jsx("img",{src:y||"/placeholder.svg",alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-200"})}):o.jsx(On,{onImageCropped:C,currentPreview:y,guideline:Rn.course,disabled:M})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"is_active",checked:h.is_active,onChange:w,disabled:M,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"is_featured",checked:h.is_featured,onChange:w,disabled:M,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Featured"})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:M?"Close":"Cancel"}),!M&&o.jsxs("button",{type:"submit",disabled:E,className:"px-6 py-2 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 flex items-center gap-2",children:[E&&o.jsx(ze,{className:"w-4 h-4 animate-spin"}),s==="create"?"Create Course":"Update Course"]})]})]})]})})]})})},AH=()=>{const{t}=et("admin"),e=kt(),{data:n=[],isLoading:s,error:r}=Gp({}),[i]=Lz(),[l,u]=_.useState(!1),[d,h]=_.useState(null),p=[{header:t("courses.courseName"),accessor:"name",render:(w,C)=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:C.image_url||"/placeholder.svg",alt:w,className:"w-12 h-12 object-cover rounded-lg"}),o.jsx("div",{className:"font-medium",children:w})]})},{header:t("courses.duration"),accessor:"duration"},{header:t("courses.level"),accessor:"level",render:w=>o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${w==="Beginner"?"bg-green-100 text-green-700":w==="Intermediate"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:w})},{header:t("courses.price"),accessor:"price",render:w=>o.jsxs("span",{className:"font-semibold text-primary-600",children:["SAR ",w]})}],m=w=>{e(`/admin/courses/${w.id}/edit`)},x=async w=>{if(confirm(t("courses.confirmDelete")))try{await i(w.id).unwrap(),oe.success(t("messages.deleteSuccess"))}catch(C){oe.error(t("messages.deleteError")),console.error("Delete error:",C)}},y=w=>{h(w),u(!0)},b=()=>{e("/admin/courses/new")},j=()=>{u(!1),h(null)};return s?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r?o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:t("messages.loadError")}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t("courses.title")}),o.jsx("p",{className:"text-gray-600",children:t("courses.subtitle")})]}),o.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all",children:[o.jsx(Qr,{className:"w-5 h-5"}),t("courses.addCourse")]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Courses"}),o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:n.length})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Beginner"}),o.jsx("div",{className:"text-3xl font-bold text-green-600",children:n.filter(w=>w.level==="Beginner").length})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Advanced"}),o.jsx("div",{className:"text-3xl font-bold text-red-600",children:n.filter(w=>w.level==="Advanced").length})]})]}),o.jsx(lr,{columns:p,data:n,onEdit:m,onDelete:x,onView:y}),o.jsx(MH,{isOpen:l,onClose:j,course:d,mode:"view"})]})},_H=({isOpen:t,onClose:e,trip:n,mode:s})=>{const[r,{isLoading:i}]=$M(),[l,{isLoading:u}]=FM(),{data:d=[]}=Ps({active:!0,type:"trip"}),[h,p]=_.useState({name:"",description:"",details:"",image:"",price:0,location:"",duration:"",difficulty:"Beginner",category_id:null,is_active:!0,is_featured:!1,certification_required:!1,max_participants:null,included_items:[],name_translations:{ar:""},description_translations:{ar:""},details_translations:{ar:""},location_translations:{ar:""},duration_translations:{ar:""}}),[m,x]=_.useState(null),[y,b]=_.useState("");_.useEffect(()=>{n&&s!=="create"?(p({name:n.name,description:n.description,details:n.details||"",image:n.image||"",price:Number(n.price),location:n.location,duration:n.duration,difficulty:n.difficulty,category_id:n.category_id||null,is_active:n.is_active,is_featured:n.is_featured,certification_required:n.certification_required,max_participants:n.max_participants||null,included_items:n.included_items||[],name_translations:n.name_translations||{ar:""},description_translations:n.description_translations||{ar:""},details_translations:n.details_translations||{ar:""},location_translations:n.location_translations||{ar:""},duration_translations:n.duration_translations||{ar:""}}),n.image_url&&b(n.image_url),x(null)):s==="create"&&(p({name:"",description:"",details:"",image:"",price:0,location:"",duration:"",difficulty:"Beginner",category_id:null,is_active:!0,is_featured:!1,certification_required:!1,max_participants:null,included_items:[],name_translations:{ar:""},description_translations:{ar:""},details_translations:{ar:""},location_translations:{ar:""},duration_translations:{ar:""}}),x(null),b(""))},[n,s]);const j=async S=>{if(S.preventDefault(),s==="view"){e();return}try{const k=new FormData;k.append("name",h.name),k.append("description",h.description),k.append("details",h.details),k.append("price",h.price.toString()),k.append("location",h.location),k.append("duration",h.duration),k.append("difficulty",h.difficulty),k.append("is_active",h.is_active?"1":"0"),k.append("is_featured",h.is_featured?"1":"0"),k.append("certification_required",h.certification_required?"1":"0"),h.category_id&&k.append("category_id",h.category_id.toString()),h.max_participants&&k.append("max_participants",h.max_participants.toString()),h.included_items.length>0&&k.append("included_items",JSON.stringify(h.included_items)),m&&k.append("image",m),k.append("name_translations",JSON.stringify(h.name_translations)),k.append("description_translations",JSON.stringify(h.description_translations)),k.append("details_translations",JSON.stringify(h.details_translations)),k.append("location_translations",JSON.stringify(h.location_translations)),k.append("duration_translations",JSON.stringify(h.duration_translations)),s==="create"?(await r(k).unwrap(),oe.success("Trip created successfully")):(k.append("_method","PUT"),await l({id:n.id,data:k}).unwrap(),oe.success("Trip updated successfully")),e()}catch(k){console.error(`${s} error:`,k),k?.data?.errors?Object.values(k.data.errors).flat().forEach(O=>oe.error(O)):k?.data?.message?oe.error(k.data.message):oe.error(`Failed to ${s} trip`)}},w=S=>{const{name:k,value:R,type:O}=S.target;p(O==="checkbox"?T=>({...T,[k]:S.target.checked}):O==="number"?T=>({...T,[k]:R===""?null:Number(R)}):k==="category_id"?T=>({...T,[k]:R===""?null:Number(R)}):T=>({...T,[k]:R}))},C=(S,k)=>{x(S),b(k)},M=s==="view",E=i||u;return o.jsx(Rt,{children:t&&o.jsxs(o.Fragment,{children:[o.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:e}),o.jsx(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:S=>S.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s==="create"?"Add New Trip":s==="edit"?"Edit Trip":"Trip Details"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(dn,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:j,className:"p-6 space-y-5",children:[o.jsx(ke,{label:"Trip Name",name:"name",value:h.name,translationValue:h.name_translations.ar,onChangeEnglish:S=>p(k=>({...k,name:S})),onChangeArabic:S=>p(k=>({...k,name_translations:{...k.name_translations,ar:S}})),required:!0,placeholder:"Enter trip name",placeholderAr:"  ",disabled:M}),o.jsx(ke,{label:"Description",name:"description",value:h.description,translationValue:h.description_translations.ar,onChangeEnglish:S=>p(k=>({...k,description:S})),onChangeArabic:S=>p(k=>({...k,description_translations:{...k.description_translations,ar:S}})),type:"textarea",required:!0,rows:3,placeholder:"Enter trip description",placeholderAr:"  ",disabled:M}),o.jsx(ke,{label:"Details",name:"details",value:h.details,translationValue:h.details_translations.ar,onChangeEnglish:S=>p(k=>({...k,details:S})),onChangeArabic:S=>p(k=>({...k,details_translations:{...k.details_translations,ar:S}})),type:"textarea",rows:3,placeholder:"Enter additional details",placeholderAr:"  ",disabled:M}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(ke,{label:"Location",name:"location",value:h.location,translationValue:h.location_translations.ar,onChangeEnglish:S=>p(k=>({...k,location:S})),onChangeArabic:S=>p(k=>({...k,location_translations:{...k.location_translations,ar:S}})),required:!0,placeholder:"e.g. Red Sea",placeholderAr:":  ",disabled:M}),o.jsx(ke,{label:"Duration",name:"duration",value:h.duration,translationValue:h.duration_translations.ar,onChangeEnglish:S=>p(k=>({...k,duration:S})),onChangeArabic:S=>p(k=>({...k,duration_translations:{...k.duration_translations,ar:S}})),required:!0,placeholder:"e.g. 3 days",placeholderAr:":  ",disabled:M})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (SAR) *"}),o.jsx("input",{type:"number",name:"price",value:h.price,onChange:w,disabled:M,required:!0,step:"0.01",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Participants"}),o.jsx("input",{type:"number",name:"max_participants",value:h.max_participants||"",onChange:w,disabled:M,min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level *"}),o.jsxs("select",{name:"difficulty",value:h.difficulty,onChange:w,disabled:M,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100",children:[o.jsx("option",{value:"Beginner",children:"Beginner"}),o.jsx("option",{value:"Intermediate",children:"Intermediate"}),o.jsx("option",{value:"Advanced",children:"Advanced"}),o.jsx("option",{value:"All Levels",children:"All Levels"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsxs("select",{name:"category_id",value:h.category_id||"",onChange:w,disabled:M,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100",children:[o.jsx("option",{value:"",children:"No Category"}),d.map(S=>o.jsx("option",{value:S.id,children:S.name},S.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Image"}),M?o.jsx("div",{className:"mt-3",children:o.jsx("img",{src:y||"/placeholder.svg",alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-200"})}):o.jsx(On,{onImageCropped:C,currentPreview:y,guideline:Rn.trip,disabled:M})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"is_active",checked:h.is_active,onChange:w,disabled:M,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"is_featured",checked:h.is_featured,onChange:w,disabled:M,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Featured"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"certification_required",checked:h.certification_required,onChange:w,disabled:M,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Cert Required"})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:M?"Close":"Cancel"}),!M&&o.jsxs("button",{type:"submit",disabled:E,className:"px-6 py-2 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 flex items-center gap-2",children:[E&&o.jsx(ze,{className:"w-4 h-4 animate-spin"}),s==="create"?"Create Trip":"Update Trip"]})]})]})]})})]})})},DH=()=>{const{t}=et("admin"),e=kt(),{data:n=[],isLoading:s,error:r}=Qp({}),[i]=Bz(),[l,u]=_.useState(!1),[d,h]=_.useState(null),p=[{header:t("trips.tripName"),accessor:"name",render:(w,C)=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:C.image_url||"/placeholder.svg",alt:w,className:"w-12 h-12 object-cover rounded-lg"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:w}),o.jsx("div",{className:"text-xs text-gray-500",children:C.location})]})]})},{header:t("trips.duration"),accessor:"duration"},{header:t("trips.difficulty"),accessor:"difficulty",render:w=>o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${w==="Beginner"?"bg-green-100 text-green-700":w==="Intermediate"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:w})},{header:t("trips.price"),accessor:"price",render:w=>o.jsxs("span",{className:"font-semibold text-primary-600",children:["SAR ",w]})}],m=w=>{e(`/admin/trips/${w.id}/edit`)},x=async w=>{if(confirm(t("trips.confirmDelete")))try{await i(w.id).unwrap(),oe.success(t("messages.deleteSuccess"))}catch(C){oe.error(t("messages.deleteError")),console.error("Delete error:",C)}},y=w=>{h(w),u(!0)},b=()=>{e("/admin/trips/new")},j=()=>{u(!1),h(null)};return s?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r?o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:t("messages.loadError")}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t("trips.title")}),o.jsx("p",{className:"text-gray-600",children:t("trips.subtitle")})]}),o.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all",children:[o.jsx(Qr,{className:"w-5 h-5"}),t("trips.addTrip")]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Trips"}),o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:n.length})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Beginner"}),o.jsx("div",{className:"text-3xl font-bold text-green-600",children:n.filter(w=>w.difficulty==="Beginner").length})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Advanced"}),o.jsx("div",{className:"text-3xl font-bold text-red-600",children:n.filter(w=>w.difficulty==="Advanced").length})]})]}),o.jsx(lr,{columns:p,data:n,onEdit:m,onDelete:x,onView:y}),o.jsx(_H,{isOpen:l,onClose:j,trip:d,mode:"view"})]})},OH=({isOpen:t,onClose:e,blogPost:n,mode:s})=>{const[r,{isLoading:i}]=GM(),[l,{isLoading:u}]=QM(),{data:d=[]}=Ps({active:!0,type:"blog"}),[h,p]=_.useState({title:"",excerpt:"",content:"",image:"",category_id:null,is_published:!1,is_featured:!1,published_at:"",title_translations:{ar:""},excerpt_translations:{ar:""},content_translations:{ar:""}}),[m,x]=_.useState(null),[y,b]=_.useState("");_.useEffect(()=>{n&&s!=="create"?(p({title:n.title,excerpt:n.excerpt,content:n.content,image:n.image||"",category_id:n.category_id||null,is_published:n.is_published,is_featured:n.is_featured,published_at:n.published_at?n.published_at.split("T")[0]:"",title_translations:n.title_translations||{ar:""},excerpt_translations:n.excerpt_translations||{ar:""},content_translations:n.content_translations||{ar:""}}),n.image_url&&b(n.image_url),x(null)):s==="create"&&(p({title:"",excerpt:"",content:"",image:"",category_id:null,is_published:!1,is_featured:!1,published_at:"",title_translations:{ar:""},excerpt_translations:{ar:""},content_translations:{ar:""}}),x(null),b(""))},[n,s]);const j=async S=>{if(S.preventDefault(),s==="view"){e();return}try{const k=new FormData;k.append("title",h.title),k.append("excerpt",h.excerpt),k.append("content",h.content),k.append("is_published",h.is_published?"1":"0"),k.append("is_featured",h.is_featured?"1":"0"),k.append("author_id","1"),h.category_id&&k.append("category_id",h.category_id.toString()),h.published_at&&k.append("published_at",h.published_at),m&&k.append("image",m),k.append("title_translations",JSON.stringify(h.title_translations)),k.append("excerpt_translations",JSON.stringify(h.excerpt_translations)),k.append("content_translations",JSON.stringify(h.content_translations)),s==="create"?(await r(k).unwrap(),oe.success("Blog post created successfully")):(k.append("_method","PUT"),await l({id:n.id,data:k}).unwrap(),oe.success("Blog post updated successfully")),e()}catch(k){console.error(`${s} error:`,k),k?.data?.errors?Object.values(k.data.errors).flat().forEach(O=>oe.error(O)):k?.data?.message?oe.error(k.data.message):oe.error(`Failed to ${s} blog post`)}},w=S=>{const{name:k,value:R,type:O}=S.target;p(O==="checkbox"?T=>({...T,[k]:S.target.checked}):k==="category_id"?T=>({...T,[k]:R===""?null:Number(R)}):T=>({...T,[k]:R}))},C=(S,k)=>{x(S),b(k)},M=s==="view",E=i||u;return o.jsx(Rt,{children:t&&o.jsxs(o.Fragment,{children:[o.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:e}),o.jsx(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",onClick:S=>S.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s==="create"?"Add New Blog Post":s==="edit"?"Edit Blog Post":"Blog Post Details"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(dn,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:j,className:"p-6 space-y-5",children:[o.jsx(ke,{label:"Title",name:"title",value:h.title,translationValue:h.title_translations.ar,onChangeEnglish:S=>p(k=>({...k,title:S})),onChangeArabic:S=>p(k=>({...k,title_translations:{...k.title_translations,ar:S}})),required:!0,placeholder:"Enter blog post title",placeholderAr:"  ",disabled:M}),o.jsx(ke,{label:"Excerpt",name:"excerpt",value:h.excerpt,translationValue:h.excerpt_translations.ar,onChangeEnglish:S=>p(k=>({...k,excerpt:S})),onChangeArabic:S=>p(k=>({...k,excerpt_translations:{...k.excerpt_translations,ar:S}})),type:"textarea",required:!0,rows:2,placeholder:"Enter a brief excerpt",placeholderAr:"  ",disabled:M}),o.jsx(ke,{label:"Content",name:"content",value:h.content,translationValue:h.content_translations.ar,onChangeEnglish:S=>p(k=>({...k,content:S})),onChangeArabic:S=>p(k=>({...k,content_translations:{...k.content_translations,ar:S}})),type:"textarea",required:!0,rows:8,placeholder:"Enter full blog post content",placeholderAr:"   ",disabled:M}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsxs("select",{name:"category_id",value:h.category_id||"",onChange:w,disabled:M,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100",children:[o.jsx("option",{value:"",children:"No Category"}),d.map(S=>o.jsx("option",{value:S.id,children:S.name},S.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Published Date"}),o.jsx("input",{type:"date",name:"published_at",value:h.published_at,onChange:w,disabled:M,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured Image"}),M?o.jsx("div",{className:"mt-3",children:o.jsx("img",{src:y||"/placeholder.svg",alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-200"})}):o.jsx(On,{onImageCropped:C,currentPreview:y,guideline:Rn.blog,disabled:M})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"is_published",checked:h.is_published,onChange:w,disabled:M,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Published"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"is_featured",checked:h.is_featured,onChange:w,disabled:M,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Featured"})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:M?"Close":"Cancel"}),!M&&o.jsxs("button",{type:"submit",disabled:E,className:"px-6 py-2 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 flex items-center gap-2",children:[E&&o.jsx(ze,{className:"w-4 h-4 animate-spin"}),s==="create"?"Create Post":"Update Post"]})]})]})]})})]})})},RH=()=>{const{t}=et("admin"),e=kt(),{data:n=[],isLoading:s,error:r}=Jp({}),[i]=Vz(),[l,u]=_.useState(!1),[d,h]=_.useState(null),p=[{header:t("blog.postTitle"),accessor:"title",render:(w,C)=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:C.image_url||"/placeholder.svg",alt:w,className:"w-12 h-12 object-cover rounded-lg"}),o.jsxs("div",{className:"max-w-xs",children:[o.jsx("div",{className:"font-medium truncate",children:w}),C.category&&o.jsx("div",{className:"text-xs text-gray-500",children:C.category.name})]})]})},{header:t("blog.author"),accessor:"author",render:w=>w?.name||"Unknown"},{header:t("blog.publishDate"),accessor:"published_at",render:w=>w?new Date(w).toLocaleDateString():"Not published"},{header:"Status",accessor:"is_published",render:w=>o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${w?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:t(w?"blog.published":"blog.draft")})}],m=w=>{e(`/admin/blog/${w.id}/edit`)},x=async w=>{if(confirm(t("blog.confirmDelete")))try{await i(w.id).unwrap(),oe.success(t("messages.deleteSuccess"))}catch(C){oe.error(t("messages.deleteError")),console.error("Delete error:",C)}},y=w=>{h(w),u(!0)},b=()=>{e("/admin/blog/new")},j=()=>{u(!1),h(null)};return s?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r?o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:t("messages.loadError")}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t("blog.title")}),o.jsx("p",{className:"text-gray-600",children:t("blog.subtitle")})]}),o.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all",children:[o.jsx(Qr,{className:"w-5 h-5"}),t("blog.addPost")]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Posts"}),o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:n.length})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Published"}),o.jsx("div",{className:"text-3xl font-bold text-green-600",children:n.filter(w=>w.is_published).length})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Drafts"}),o.jsx("div",{className:"text-3xl font-bold text-gray-600",children:n.filter(w=>!w.is_published).length})]})]}),o.jsx(lr,{columns:p,data:n,onEdit:m,onDelete:x,onView:y}),o.jsx(OH,{isOpen:l,onClose:j,blogPost:d,mode:"view"})]})},LH=({isOpen:t,onClose:e,event:n,mode:s})=>{const[r,{isLoading:i}]=eA(),[l,{isLoading:u}]=tA(),[d,h]=_.useState({title:"",description:"",type:"workshop",start_date:"",end_date:"",location:"",is_active:!0,max_participants:null,price:null,title_translations:{ar:""},description_translations:{ar:""},location_translations:{ar:""}});_.useEffect(()=>{n&&s!=="create"?h({title:n.title,description:n.description,type:n.type,start_date:n.start_date?n.start_date.split("T")[0]+"T"+n.start_date.split("T")[1].substring(0,5):"",end_date:n.end_date?n.end_date.split("T")[0]+"T"+n.end_date.split("T")[1].substring(0,5):"",location:n.location||"",is_active:n.is_active,max_participants:n.max_participants||null,price:n.price||null,title_translations:n.title_translations||{ar:""},description_translations:n.description_translations||{ar:""},location_translations:n.location_translations||{ar:""}}):s==="create"&&h({title:"",description:"",type:"workshop",start_date:"",end_date:"",location:"",is_active:!0,max_participants:null,price:null,title_translations:{ar:""},description_translations:{ar:""},location_translations:{ar:""}})},[n,s]);const p=async b=>{if(b.preventDefault(),s==="view"){e();return}try{s==="create"?(await r(d).unwrap(),oe.success("Event created successfully")):(await l({id:n.id,data:d}).unwrap(),oe.success("Event updated successfully")),e()}catch(j){oe.error(`Failed to ${s} event`),console.error(`${s} error:`,j)}},m=b=>{const{name:j,value:w,type:C}=b.target;h(C==="checkbox"?M=>({...M,[j]:b.target.checked}):C==="number"?M=>({...M,[j]:w===""?null:Number(w)}):M=>({...M,[j]:w}))},x=s==="view",y=i||u;return o.jsx(Rt,{children:t&&o.jsxs(o.Fragment,{children:[o.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:e}),o.jsx(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:b=>b.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s==="create"?"Add New Event":s==="edit"?"Edit Event":"Event Details"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(dn,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:p,className:"p-6 space-y-5",children:[o.jsx(ke,{label:"Event Title",name:"title",value:d.title,translationValue:d.title_translations.ar,onChangeEnglish:b=>h(j=>({...j,title:b})),onChangeArabic:b=>h(j=>({...j,title_translations:{...j.title_translations,ar:b}})),required:!0,placeholder:"Enter event title",placeholderAr:"  ",disabled:x}),o.jsx(ke,{label:"Description",name:"description",value:d.description,translationValue:d.description_translations.ar,onChangeEnglish:b=>h(j=>({...j,description:b})),onChangeArabic:b=>h(j=>({...j,description_translations:{...j.description_translations,ar:b}})),type:"textarea",required:!0,rows:3,placeholder:"Enter event description",placeholderAr:"  ",disabled:x}),o.jsx(ke,{label:"Location",name:"location",value:d.location,translationValue:d.location_translations.ar,onChangeEnglish:b=>h(j=>({...j,location:b})),onChangeArabic:b=>h(j=>({...j,location_translations:{...j.location_translations,ar:b}})),placeholder:"Enter event location",placeholderAr:"  ",disabled:x}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type *"}),o.jsxs("select",{name:"type",value:d.type,onChange:m,disabled:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100",children:[o.jsx("option",{value:"workshop",children:"Workshop"}),o.jsx("option",{value:"course",children:"Course"}),o.jsx("option",{value:"trip",children:"Trip"}),o.jsx("option",{value:"other",children:"Other"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date & Time *"}),o.jsx("input",{type:"datetime-local",name:"start_date",value:d.start_date,onChange:m,disabled:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date & Time"}),o.jsx("input",{type:"datetime-local",name:"end_date",value:d.end_date,onChange:m,disabled:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (SAR)"}),o.jsx("input",{type:"number",name:"price",value:d.price||"",onChange:m,disabled:x,step:"0.01",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Participants"}),o.jsx("input",{type:"number",name:"max_participants",value:d.max_participants||"",onChange:m,disabled:x,min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"is_active",checked:d.is_active,onChange:m,disabled:x,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]})}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:x?"Close":"Cancel"}),!x&&o.jsxs("button",{type:"submit",disabled:y,className:"px-6 py-2 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 flex items-center gap-2",children:[y&&o.jsx(ze,{className:"w-4 h-4 animate-spin"}),s==="create"?"Create Event":"Update Event"]})]})]})]})})]})})},PH=()=>{const{t}=et("admin"),e=kt(),{data:n=[],isLoading:s,error:r}=Xp({}),[i]=$z(),[l,u]=_.useState(!1),[d,h]=_.useState(null),p=[{header:t("events.eventName"),accessor:"title"},{header:t("events.description"),accessor:"description",render:w=>o.jsx("div",{className:"max-w-xs truncate",children:w})},{header:t("events.startDate"),accessor:"start_date",render:w=>new Date(w).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})},{header:"Type",accessor:"type",render:w=>o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${w==="workshop"?"bg-blue-100 text-blue-700":w==="course"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:w.charAt(0).toUpperCase()+w.slice(1)})}],m=w=>{e(`/admin/events/${w.id}/edit`)},x=async w=>{if(confirm(t("events.confirmDelete")))try{await i(w.id).unwrap(),oe.success(t("messages.deleteSuccess"))}catch(C){oe.error(t("messages.deleteError")),console.error("Delete error:",C)}},y=w=>{h(w),u(!0)},b=()=>{e("/admin/events/new")},j=()=>{u(!1),h(null)};return s?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r?o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:t("messages.loadError")}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t("events.title")}),o.jsx("p",{className:"text-gray-600",children:t("events.subtitle")})]}),o.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all",children:[o.jsx(Qr,{className:"w-5 h-5"}),t("events.addEvent")]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Events"}),o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:n.length})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Workshops"}),o.jsx("div",{className:"text-3xl font-bold text-blue-600",children:n.filter(w=>w.type==="workshop").length})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Courses"}),o.jsx("div",{className:"text-3xl font-bold text-green-600",children:n.filter(w=>w.type==="course").length})]})]}),o.jsx(lr,{columns:p,data:n,onEdit:m,onDelete:x,onView:y}),o.jsx(LH,{isOpen:l,onClose:j,event:d,mode:"view"})]})},BH=({isOpen:t,onClose:e,teamMember:n,mode:s})=>{const[r,{isLoading:i}]=nA(),[l,{isLoading:u}]=sA(),[d,h]=_.useState({name:"",role:"",bio:"",image:"",email:"",phone:"",experience:"",certifications:[],social_links:{facebook:"",instagram:"",twitter:"",linkedin:""},is_active:!0,display_order:0}),[p,m]=_.useState(null),[x,y]=_.useState("");_.useEffect(()=>{n&&s!=="create"?(h({name:n.name,role:n.role,bio:n.bio||"",image:n.image||"",email:n.email||"",phone:n.phone||"",experience:n.experience||"",certifications:n.certifications||[],social_links:n.social_links||{facebook:"",instagram:"",twitter:"",linkedin:""},is_active:n.is_active,display_order:n.display_order}),n.image_url&&y(n.image_url),m(null)):s==="create"&&(h({name:"",role:"",bio:"",image:"",email:"",phone:"",experience:"",certifications:[],social_links:{facebook:"",instagram:"",twitter:"",linkedin:""},is_active:!0,display_order:0}),m(null),y(""))},[n,s]);const b=async E=>{if(E.preventDefault(),s==="view"){e();return}try{const S=new FormData;S.append("name",d.name),S.append("role",d.role),S.append("bio",d.bio),S.append("is_active",d.is_active?"1":"0"),S.append("display_order",d.display_order.toString()),d.email&&S.append("email",d.email),d.phone&&S.append("phone",d.phone),d.experience&&S.append("experience",d.experience),d.certifications.length>0&&S.append("certifications",JSON.stringify(d.certifications)),S.append("social_links",JSON.stringify(d.social_links)),p&&S.append("image",p),s==="create"?(await r(S).unwrap(),oe.success("Team member created successfully")):(S.append("_method","PUT"),await l({id:n.id,data:S}).unwrap(),oe.success("Team member updated successfully")),e()}catch(S){console.error(`${s} error:`,S),S?.data?.errors?Object.values(S.data.errors).flat().forEach(R=>oe.error(R)):S?.data?.message?oe.error(S.data.message):oe.error(`Failed to ${s} team member`)}},j=E=>{const{name:S,value:k,type:R}=E.target;if(R==="checkbox")h(O=>({...O,[S]:E.target.checked}));else if(R==="number")h(O=>({...O,[S]:Number(k)}));else if(S.startsWith("social_")){const O=S.replace("social_","");h(T=>({...T,social_links:{...T.social_links,[O]:k}}))}else h(O=>({...O,[S]:k}))},w=(E,S)=>{m(E),y(S)},C=s==="view",M=i||u;return o.jsx(Rt,{children:t&&o.jsxs(o.Fragment,{children:[o.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:e}),o.jsx(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",onClick:E=>E.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s==="create"?"Add Team Member":s==="edit"?"Edit Team Member":"Team Member Details"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(dn,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:b,className:"p-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),o.jsx("input",{type:"text",name:"name",value:d.name,onChange:j,disabled:C,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),o.jsx("input",{type:"text",name:"role",value:d.role,onChange:j,disabled:C,required:!0,placeholder:"e.g. Lead Instructor",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),o.jsx("textarea",{name:"bio",value:d.bio,onChange:j,disabled:C,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",name:"email",value:d.email,onChange:j,disabled:C,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),o.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:j,disabled:C,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience"}),o.jsx("input",{type:"text",name:"experience",value:d.experience,onChange:j,disabled:C,placeholder:"e.g. 10+ years",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),o.jsx("input",{type:"number",name:"display_order",value:d.display_order,onChange:j,disabled:C,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Image"}),C?o.jsx("div",{className:"mt-3",children:o.jsx("img",{src:x||"/placeholder.svg",alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-200"})}):o.jsx(On,{onImageCropped:w,currentPreview:x,guideline:Rn.teamMember,disabled:C,aspectRatio:1})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Social Media Links"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("input",{type:"url",name:"social_facebook",value:d.social_links.facebook,onChange:j,disabled:C,placeholder:"Facebook URL",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"}),o.jsx("input",{type:"url",name:"social_instagram",value:d.social_links.instagram,onChange:j,disabled:C,placeholder:"Instagram URL",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"}),o.jsx("input",{type:"url",name:"social_twitter",value:d.social_links.twitter,onChange:j,disabled:C,placeholder:"Twitter URL",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"}),o.jsx("input",{type:"url",name:"social_linkedin",value:d.social_links.linkedin,onChange:j,disabled:C,placeholder:"LinkedIn URL",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"is_active",checked:d.is_active,onChange:j,disabled:C,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]})}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:C?"Close":"Cancel"}),!C&&o.jsxs("button",{type:"submit",disabled:M,className:"px-6 py-2 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 flex items-center gap-2",children:[M&&o.jsx(ze,{className:"w-4 h-4 animate-spin"}),s==="create"?"Create Member":"Update Member"]})]})]})]})})]})})},zH=()=>{const{t}=et("admin"),e=kt(),{data:n=[],isLoading:s,error:r}=Jb({}),{data:i=[]}=Kz({}),[l]=Hz(),[u]=Gz(),[d]=Qz(),[h,p]=_.useState(!1),[m,x]=_.useState(null),[y,b]=_.useState(null),[j,w]=_.useState(null);_.useEffect(()=>{const T=i.find(D=>D.key==="featured_instructor_id");T&&(b(T.value?parseInt(T.value):null),w(T.id))},[i]);const C=async T=>{try{if(j)await d({id:j,data:{value:String(T.id)}}).unwrap();else{const D=await u({key:"featured_instructor_id",value:String(T.id),type:"number",group:"homepage"}).unwrap();w(D.id)}b(T.id),oe.success(`${T.name} is now the featured instructor`)}catch(D){oe.error("Failed to set featured instructor"),console.error("Update error:",D)}},M=[{header:t("team.name"),accessor:"name",render:(T,D)=>o.jsxs("div",{className:"flex items-center gap-3",children:[y===D.id&&o.jsx(Ki,{className:"w-5 h-5 text-yellow-500 fill-yellow-500 shrink-0"}),o.jsx("img",{src:D.image_url||"/placeholder.svg",alt:T,className:"w-12 h-12 rounded-full object-cover"}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium flex items-center gap-2",children:[T,y===D.id&&o.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded-full text-xs font-semibold",children:"Featured"})]}),D.experience&&o.jsx("div",{className:"text-xs text-gray-500",children:D.experience})]})]})},{header:t("team.position"),accessor:"role"},{header:t("team.certifications"),accessor:"certifications",render:T=>o.jsx("div",{className:"flex flex-wrap gap-1",children:T?.map((D,B)=>o.jsx("span",{className:"px-2 py-1 bg-accent-100 text-accent-700 rounded text-xs",children:D},B))})}],E=T=>{e(`/admin/team/${T.id}/edit`)},S=async T=>{if(confirm(t("team.confirmDelete")))try{await l(T.id).unwrap(),oe.success(t("messages.deleteSuccess"))}catch(D){oe.error(t("messages.deleteError")),console.error("Delete error:",D)}},k=T=>{x(T),p(!0)},R=()=>{e("/admin/team/new")},O=()=>{p(!1),x(null)};return s?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r?o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:t("messages.loadError")}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t("team.title")}),o.jsx("p",{className:"text-gray-600",children:t("team.subtitle")})]}),o.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all",children:[o.jsx(Qr,{className:"w-5 h-5"}),t("team.addMember")]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Members"}),o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:n.length})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Active"}),o.jsx("div",{className:"text-3xl font-bold text-green-600",children:n.filter(T=>T.is_active).length})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Inactive"}),o.jsx("div",{className:"text-3xl font-bold text-gray-600",children:n.filter(T=>!T.is_active).length})]})]}),o.jsx(lr,{columns:M,data:n,onEdit:E,onDelete:S,onView:k,customActions:T=>o.jsx("button",{onClick:()=>C(T),className:`p-2 rounded-lg transition-colors ${y===T.id?"bg-yellow-100 text-yellow-600":"hover:bg-gray-100 text-gray-400 hover:text-yellow-600"}`,title:y===T.id?"Currently Featured":"Set as Featured",children:o.jsx(Ki,{className:`w-5 h-5 ${y===T.id?"fill-yellow-500":""}`})})}),o.jsx(BH,{isOpen:h,onClose:O,teamMember:m,mode:"view"})]})},IH=({isOpen:t,onClose:e,banner:n,mode:s})=>{const[r,{isLoading:i}]=iA(),[l,{isLoading:u}]=aA(),[d,h]=_.useState({title:"",description:"",image:"",button_text:"",button_link:"",position:"hero",display_order:0,is_active:!0,title_translations:{ar:""},description_translations:{ar:""},button_text_translations:{ar:""}}),[p,m]=_.useState(null),[x,y]=_.useState("");_.useEffect(()=>{n&&s!=="create"?(h({title:n.title,description:n.description||"",image:n.image,button_text:n.button_text||"",button_link:n.button_link||"",position:n.position,display_order:n.display_order,is_active:n.is_active,title_translations:n.title_translations||{ar:""},description_translations:n.description_translations||{ar:""},button_text_translations:n.button_text_translations||{ar:""}}),n.image_url&&y(n.image_url),m(null)):s==="create"&&(h({title:"",description:"",image:"",button_text:"",button_link:"",position:"hero",display_order:0,is_active:!0,title_translations:{ar:""},description_translations:{ar:""},button_text_translations:{ar:""}}),m(null),y(""))},[n,s]);const b=async E=>{if(E.preventDefault(),s==="view"){e();return}try{const S=new FormData;S.append("title",d.title),S.append("description",d.description),S.append("position",d.position),S.append("display_order",d.display_order.toString()),S.append("is_active",d.is_active?"1":"0"),d.button_text&&S.append("button_text",d.button_text),d.button_link&&S.append("button_link",d.button_link),p&&S.append("image",p),S.append("title_translations",JSON.stringify(d.title_translations)),S.append("description_translations",JSON.stringify(d.description_translations)),S.append("button_text_translations",JSON.stringify(d.button_text_translations)),s==="create"?(await r(S).unwrap(),oe.success("Banner created successfully")):(S.append("_method","PUT"),await l({id:n.id,data:S}).unwrap(),oe.success("Banner updated successfully")),e()}catch(S){console.error(`${s} error:`,S),S?.data?.errors?Object.values(S.data.errors).flat().forEach(R=>oe.error(R)):S?.data?.message?oe.error(S.data.message):oe.error(`Failed to ${s} banner`)}},j=E=>{const{name:S,value:k,type:R}=E.target;h(R==="checkbox"?O=>({...O,[S]:E.target.checked}):R==="number"?O=>({...O,[S]:Number(k)}):O=>({...O,[S]:k}))},w=(E,S)=>{m(E),y(S)},C=s==="view",M=i||u;return o.jsx(Rt,{children:t&&o.jsxs(o.Fragment,{children:[o.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:e}),o.jsx(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:E=>E.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s==="create"?"Add New Banner":s==="edit"?"Edit Banner":"Banner Details"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(dn,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:b,className:"p-6 space-y-5",children:[o.jsx(ke,{label:"Banner Title",name:"title",value:d.title,translationValue:d.title_translations.ar,onChangeEnglish:E=>h(S=>({...S,title:E})),onChangeArabic:E=>h(S=>({...S,title_translations:{...S.title_translations,ar:E}})),required:!0,placeholder:"Enter banner title",placeholderAr:"  ",disabled:C}),o.jsx(ke,{label:"Description",name:"description",value:d.description,translationValue:d.description_translations.ar,onChangeEnglish:E=>h(S=>({...S,description:E})),onChangeArabic:E=>h(S=>({...S,description_translations:{...S.description_translations,ar:E}})),type:"textarea",rows:3,placeholder:"Enter banner description",placeholderAr:"  ",disabled:C}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Banner Image ",s==="create"&&"*"]}),C?o.jsx("div",{className:"mt-3",children:o.jsx("img",{src:x||"/placeholder.svg",alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-200"})}):o.jsx(On,{onImageCropped:w,currentPreview:x,guideline:Rn.banner,disabled:C,required:s==="create"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(ke,{label:"Button Text",name:"button_text",value:d.button_text,translationValue:d.button_text_translations.ar,onChangeEnglish:E=>h(S=>({...S,button_text:E})),onChangeArabic:E=>h(S=>({...S,button_text_translations:{...S.button_text_translations,ar:E}})),placeholder:"e.g. Learn More",placeholderAr:":  ",disabled:C}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Link"}),o.jsx("input",{type:"text",name:"button_link",value:d.button_link,onChange:j,disabled:C,placeholder:"/courses",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position *"}),o.jsxs("select",{name:"position",value:d.position,onChange:j,disabled:C,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100",children:[o.jsx("option",{value:"hero",children:"Hero Banner (Main)"}),o.jsx("option",{value:"secondary",children:"Secondary Banner"}),o.jsx("option",{value:"promo",children:"Promotional Banner"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),o.jsx("input",{type:"number",name:"display_order",value:d.display_order,onChange:j,disabled:C,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"is_active",checked:d.is_active,onChange:j,disabled:C,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]})}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:C?"Close":"Cancel"}),!C&&o.jsxs("button",{type:"submit",disabled:M,className:"px-6 py-2 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 flex items-center gap-2",children:[M&&o.jsx(ze,{className:"w-4 h-4 animate-spin"}),s==="create"?"Create Banner":"Update Banner"]})]})]})]})})]})})},VH=()=>{const{t}=et("admin"),e=kt(),{data:n=[],isLoading:s,error:r}=rA({}),[i]=Jz(),[l,u]=_.useState(!1),[d,h]=_.useState(null),p=[{header:t("banners.bannerTitle"),accessor:"title",render:(w,C)=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:C.image_url||"/placeholder.svg",alt:w,className:"w-16 h-10 object-cover rounded-lg"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:w}),o.jsx("div",{className:"text-xs text-gray-500",children:C.position})]})]})},{header:t("banners.position"),accessor:"position",render:w=>o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${w==="hero"?"bg-blue-100 text-blue-700":w==="secondary"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:w.charAt(0).toUpperCase()+w.slice(1)})},{header:t("banners.displayOrder"),accessor:"display_order"},{header:"Status",accessor:"is_active",render:w=>o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${w?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:w?"Active":"Inactive"})},{header:"Schedule",accessor:"start_date",render:(w,C)=>!C.start_date&&!C.end_date?o.jsx("span",{className:"text-gray-500 text-sm",children:"Always visible"}):o.jsxs("div",{className:"text-sm",children:[C.start_date&&o.jsxs("div",{children:["From: ",new Date(C.start_date).toLocaleDateString()]}),C.end_date&&o.jsxs("div",{children:["To: ",new Date(C.end_date).toLocaleDateString()]})]})}],m=w=>{e(`/admin/banners/${w.id}/edit`)},x=async w=>{if(confirm(t("banners.confirmDelete")))try{await i(w.id).unwrap(),oe.success(t("messages.deleteSuccess"))}catch(C){oe.error(t("messages.deleteError")),console.error("Delete error:",C)}},y=w=>{h(w),u(!0)},b=()=>{e("/admin/banners/new")},j=()=>{u(!1),h(null)};return s?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r?o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:t("messages.loadError")}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t("banners.title")}),o.jsx("p",{className:"text-gray-600",children:t("banners.subtitle")})]}),o.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all",children:[o.jsx(Qr,{className:"w-5 h-5"}),t("banners.addBanner")]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Banners"}),o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:n.length})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Active"}),o.jsx("div",{className:"text-3xl font-bold text-green-600",children:n.filter(w=>w.is_active).length})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Hero Banners"}),o.jsx("div",{className:"text-3xl font-bold text-blue-600",children:n.filter(w=>w.position==="hero").length})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Scheduled"}),o.jsx("div",{className:"text-3xl font-bold text-purple-600",children:n.filter(w=>w.start_date||w.end_date).length})]})]}),o.jsx(lr,{columns:p,data:n,onEdit:m,onDelete:x,onView:y}),o.jsx(IH,{isOpen:l,onClose:j,banner:d,mode:"view"})]})},UH=({isOpen:t,onClose:e,initiative:n,mode:s})=>{const[r,{isLoading:i}]=XM(),[l,{isLoading:u}]=WM(),{data:d=[]}=Ps({active:!0}),[h,p]=_.useState({title:"",excerpt:"",content:"",image:"",category_id:null,is_published:!1,is_featured:!1,published_at:"",title_translations:{ar:""},excerpt_translations:{ar:""},content_translations:{ar:""}}),[m,x]=_.useState(null),[y,b]=_.useState("");_.useEffect(()=>{n&&s!=="create"?(p({title:n.title,excerpt:n.excerpt,content:n.content,image:n.image||"",category_id:n.category_id||null,is_published:n.is_published,is_featured:n.is_featured,published_at:n.published_at?n.published_at.split("T")[0]:"",title_translations:n.title_translations||{ar:""},excerpt_translations:n.excerpt_translations||{ar:""},content_translations:n.content_translations||{ar:""}}),n.image_url&&b(n.image_url),x(null)):s==="create"&&(p({title:"",excerpt:"",content:"",image:"",category_id:null,is_published:!1,is_featured:!1,published_at:"",title_translations:{ar:""},excerpt_translations:{ar:""},content_translations:{ar:""}}),x(null),b(""))},[n,s]);const j=async S=>{if(S.preventDefault(),s==="view"){e();return}try{const k=new FormData;k.append("title",h.title),k.append("excerpt",h.excerpt),k.append("content",h.content),k.append("is_published",h.is_published?"1":"0"),k.append("is_featured",h.is_featured?"1":"0"),h.category_id&&k.append("category_id",h.category_id.toString()),h.published_at&&k.append("published_at",h.published_at),m&&k.append("image",m),k.append("title_translations",JSON.stringify(h.title_translations)),k.append("excerpt_translations",JSON.stringify(h.excerpt_translations)),k.append("content_translations",JSON.stringify(h.content_translations)),s==="create"?(await r(k).unwrap(),oe.success("Initiative created successfully")):(k.append("_method","PUT"),await l({id:n.id,data:k}).unwrap(),oe.success("Initiative updated successfully")),e()}catch(k){console.error(`${s} error:`,k),k?.data?.errors?Object.values(k.data.errors).flat().forEach(O=>oe.error(O)):k?.data?.message?oe.error(k.data.message):oe.error(`Failed to ${s} initiative`)}},w=S=>{const{name:k,value:R,type:O}=S.target;p(O==="checkbox"?T=>({...T,[k]:S.target.checked}):k==="category_id"?T=>({...T,[k]:R===""?null:Number(R)}):T=>({...T,[k]:R}))},C=(S,k)=>{x(S),b(k)},M=s==="view",E=i||u;return o.jsx(Rt,{children:t&&o.jsxs(o.Fragment,{children:[o.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:e}),o.jsx(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",onClick:S=>S.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s==="create"?"Add New Initiative":s==="edit"?"Edit Initiative":"Initiative Details"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(dn,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:j,className:"p-6 space-y-5",children:[o.jsx(ke,{label:"Title",name:"title",value:h.title,translationValue:h.title_translations.ar,onChangeEnglish:S=>p(k=>({...k,title:S})),onChangeArabic:S=>p(k=>({...k,title_translations:{...k.title_translations,ar:S}})),required:!0,placeholder:"Enter initiative title",placeholderAr:"  ",disabled:M}),o.jsx(ke,{label:"Excerpt",name:"excerpt",value:h.excerpt,translationValue:h.excerpt_translations.ar,onChangeEnglish:S=>p(k=>({...k,excerpt:S})),onChangeArabic:S=>p(k=>({...k,excerpt_translations:{...k.excerpt_translations,ar:S}})),type:"textarea",required:!0,rows:2,placeholder:"Enter a brief excerpt",placeholderAr:"  ",disabled:M}),o.jsx(ke,{label:"Content",name:"content",value:h.content,translationValue:h.content_translations.ar,onChangeEnglish:S=>p(k=>({...k,content:S})),onChangeArabic:S=>p(k=>({...k,content_translations:{...k.content_translations,ar:S}})),type:"textarea",required:!0,rows:8,placeholder:"Enter full initiative content",placeholderAr:"   ",disabled:M}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsxs("select",{name:"category_id",value:h.category_id||"",onChange:w,disabled:M,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100",children:[o.jsx("option",{value:"",children:"No Category"}),d.map(S=>o.jsx("option",{value:S.id,children:S.name},S.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Published Date"}),o.jsx("input",{type:"date",name:"published_at",value:h.published_at,onChange:w,disabled:M,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured Image"}),M?o.jsx("div",{className:"mt-3",children:o.jsx("img",{src:y||"/placeholder.svg",alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-200"})}):o.jsx(On,{onImageCropped:C,currentPreview:y,guideline:Rn.initiative,disabled:M})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"is_published",checked:h.is_published,onChange:w,disabled:M,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Published"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"is_featured",checked:h.is_featured,onChange:w,disabled:M,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Featured"})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:M?"Close":"Cancel"}),!M&&o.jsxs("button",{type:"submit",disabled:E,className:"px-6 py-2 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 flex items-center gap-2",children:[E&&o.jsx(ze,{className:"w-4 h-4 animate-spin"}),s==="create"?"Create Initiative":"Update Initiative"]})]})]})]})})]})})},$H=()=>{const t=kt(),{data:e=[],isLoading:n,error:s}=YM({}),[r]=Uz(),[i,l]=_.useState(!1),[u,d]=_.useState(null),h=[{header:"Title",accessor:"title",render:(j,w)=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:w.image_url||"/placeholder.svg",alt:j,className:"w-12 h-12 object-cover rounded-lg"}),o.jsxs("div",{className:"max-w-xs",children:[o.jsx("div",{className:"font-medium truncate",children:j}),w.category&&o.jsx("div",{className:"text-xs text-gray-500",children:w.category.name})]})]})},{header:"Publish Date",accessor:"published_at",render:j=>j?new Date(j).toLocaleDateString():"Not published"},{header:"Status",accessor:"is_published",render:j=>o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${j?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:j?"Published":"Draft"})}],p=j=>{t(`/admin/initiatives/${j.id}/edit`)},m=async j=>{if(confirm("Are you sure you want to delete this initiative?"))try{await r(j.id).unwrap(),oe.success("Initiative deleted successfully")}catch(w){oe.error("Failed to delete initiative"),console.error("Delete error:",w)}},x=j=>{d(j),l(!0)},y=()=>{t("/admin/initiatives/new")},b=()=>{l(!1),d(null)};return n?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s?o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:"Failed to load initiatives"}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Social Initiatives"}),o.jsx("p",{className:"text-gray-600",children:"Manage your B2B social initiatives"})]}),o.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all",children:[o.jsx(Qr,{className:"w-5 h-5"}),"Add Initiative"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Initiatives"}),o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:e.length})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Published"}),o.jsx("div",{className:"text-3xl font-bold text-green-600",children:e.filter(j=>j.is_published).length})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Drafts"}),o.jsx("div",{className:"text-3xl font-bold text-gray-600",children:e.filter(j=>!j.is_published).length})]})]}),o.jsx(lr,{columns:h,data:e,onEdit:p,onDelete:m,onView:x}),o.jsx(UH,{isOpen:i,onClose:b,initiative:u,mode:"view"})]})};function tn(t){this.content=t}tn.prototype={constructor:tn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var s=n&&n!=t?this.remove(n):this,r=s.find(t),i=s.content.slice();return r==-1?i.push(n||t,e):(i[r+1]=e,n&&(i[r]=n)),new tn(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new tn(n)},addToStart:function(t,e){return new tn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new tn(n)},addBefore:function(t,e,n){var s=this.remove(e),r=s.content.slice(),i=s.find(t);return r.splice(i==-1?r.length:i,0,e,n),new tn(r)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=tn.from(t),t.size?new tn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=tn.from(t),t.size?new tn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=tn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};tn.from=function(t){if(t instanceof tn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new tn(e)};function T3(t,e,n){for(let s=0;;s++){if(s==t.childCount||s==e.childCount)return t.childCount==e.childCount?null:n;let r=t.child(s),i=e.child(s);if(r==i){n+=r.nodeSize;continue}if(!r.sameMarkup(i))return n;if(r.isText&&r.text!=i.text){for(let l=0;r.text[l]==i.text[l];l++)n++;return n}if(r.content.size||i.content.size){let l=T3(r.content,i.content,n+1);if(l!=null)return l}n+=r.nodeSize}}function M3(t,e,n,s){for(let r=t.childCount,i=e.childCount;;){if(r==0||i==0)return r==i?null:{a:n,b:s};let l=t.child(--r),u=e.child(--i),d=l.nodeSize;if(l==u){n-=d,s-=d;continue}if(!l.sameMarkup(u))return{a:n,b:s};if(l.isText&&l.text!=u.text){let h=0,p=Math.min(l.text.length,u.text.length);for(;h<p&&l.text[l.text.length-h-1]==u.text[u.text.length-h-1];)h++,n--,s--;return{a:n,b:s}}if(l.content.size||u.content.size){let h=M3(l.content,u.content,n-1,s-1);if(h)return h}n-=d,s-=d}}class ce{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let s=0;s<e.length;s++)this.size+=e[s].nodeSize}nodesBetween(e,n,s,r=0,i){for(let l=0,u=0;u<n;l++){let d=this.content[l],h=u+d.nodeSize;if(h>e&&s(d,r+u,i||null,l)!==!1&&d.content.size){let p=u+1;d.nodesBetween(Math.max(0,e-p),Math.min(d.content.size,n-p),s,r+p)}u=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,s,r){let i="",l=!0;return this.nodesBetween(e,n,(u,d)=>{let h=u.isText?u.text.slice(Math.max(e,d)-d,n-d):u.isLeaf?r?typeof r=="function"?r(u):r:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&h||u.isTextblock)&&s&&(l?l=!1:i+=s),i+=h},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,s=e.firstChild,r=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(s)&&(r[r.length-1]=n.withText(n.text+s.text),i=1);i<e.content.length;i++)r.push(e.content[i]);return new ce(r,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let s=[],r=0;if(n>e)for(let i=0,l=0;l<n;i++){let u=this.content[i],d=l+u.nodeSize;d>e&&((l<e||d>n)&&(u.isText?u=u.cut(Math.max(0,e-l),Math.min(u.text.length,n-l)):u=u.cut(Math.max(0,e-l-1),Math.min(u.content.size,n-l-1))),s.push(u),r+=u.nodeSize),l=d}return new ce(s,r)}cutByIndex(e,n){return e==n?ce.empty:e==0&&n==this.content.length?this:new ce(this.content.slice(e,n))}replaceChild(e,n){let s=this.content[e];if(s==n)return this;let r=this.content.slice(),i=this.size+n.nodeSize-s.nodeSize;return r[e]=n,new ce(r,i)}addToStart(e){return new ce([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ce(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,s=0;n<this.content.length;n++){let r=this.content[n];e(r,s,n),s+=r.nodeSize}}findDiffStart(e,n=0){return T3(this,e,n)}findDiffEnd(e,n=this.size,s=e.size){return M3(this,e,n,s)}findIndex(e){if(e==0)return Hf(0,e);if(e==this.size)return Hf(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,s=0;;n++){let r=this.child(n),i=s+r.nodeSize;if(i>=e)return i==e?Hf(n+1,i):Hf(n,s);s=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ce.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ce(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ce.empty;let n,s=0;for(let r=0;r<e.length;r++){let i=e[r];s+=i.nodeSize,r&&i.isText&&e[r-1].sameMarkup(i)?(n||(n=e.slice(0,r)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new ce(n||e,s)}static from(e){if(!e)return ce.empty;if(e instanceof ce)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ce([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ce.empty=new ce([],0);const Rx={index:0,offset:0};function Hf(t,e){return Rx.index=t,Rx.offset=e,Rx}function $h(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let s=0;s<t.length;s++)if(!$h(t[s],e[s]))return!1}else{for(let s in t)if(!(s in e)||!$h(t[s],e[s]))return!1;for(let s in e)if(!(s in t))return!1}return!0}let it=class sb{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,s=!1;for(let r=0;r<e.length;r++){let i=e[r];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,r));else{if(i.type.excludes(this.type))return e;!s&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,r)),n.push(this),s=!0),n&&n.push(i)}}return n||(n=e.slice()),s||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&$h(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let s=e.marks[n.type];if(!s)throw new RangeError(`There is no mark type ${n.type} in this schema`);let r=s.create(n.attrs);return s.checkAttrs(r.attrs),r}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let s=0;s<e.length;s++)if(!e[s].eq(n[s]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return sb.none;if(e instanceof sb)return[e];let n=e.slice();return n.sort((s,r)=>s.type.rank-r.type.rank),n}};it.none=[];class Fh extends Error{}class pe{constructor(e,n,s){this.content=e,this.openStart=n,this.openEnd=s}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let s=_3(this.content,e+this.openStart,n);return s&&new pe(s,this.openStart,this.openEnd)}removeBetween(e,n){return new pe(A3(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return pe.empty;let s=n.openStart||0,r=n.openEnd||0;if(typeof s!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new pe(ce.fromJSON(e,n.content),s,r)}static maxOpen(e,n=!0){let s=0,r=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)s++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)r++;return new pe(e,s,r)}}pe.empty=new pe(ce.empty,0,0);function A3(t,e,n){let{index:s,offset:r}=t.findIndex(e),i=t.maybeChild(s),{index:l,offset:u}=t.findIndex(n);if(r==e||i.isText){if(u!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(s!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(s,i.copy(A3(i.content,e-r-1,n-r-1)))}function _3(t,e,n,s){let{index:r,offset:i}=t.findIndex(e),l=t.maybeChild(r);if(i==e||l.isText)return s&&!s.canReplace(r,r,n)?null:t.cut(0,e).append(n).append(t.cut(e));let u=_3(l.content,e-i-1,n,l);return u&&t.replaceChild(r,l.copy(u))}function FH(t,e,n){if(n.openStart>t.depth)throw new Fh("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Fh("Inconsistent open depths");return D3(t,e,n,0)}function D3(t,e,n,s){let r=t.index(s),i=t.node(s);if(r==e.index(s)&&s<t.depth-n.openStart){let l=D3(t,e,n,s+1);return i.copy(i.content.replaceChild(r,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==s&&e.depth==s){let l=t.parent,u=l.content;return Ba(l,u.cut(0,t.parentOffset).append(n.content).append(u.cut(e.parentOffset)))}else{let{start:l,end:u}=qH(n,t);return Ba(i,R3(t,l,u,e,s))}else return Ba(i,qh(t,e,s))}function O3(t,e){if(!e.type.compatibleContent(t.type))throw new Fh("Cannot join "+e.type.name+" onto "+t.type.name)}function rb(t,e,n){let s=t.node(n);return O3(s,e.node(n)),s}function Pa(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function su(t,e,n,s){let r=(e||t).node(n),i=0,l=e?e.index(n):r.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(Pa(t.nodeAfter,s),i++));for(let u=i;u<l;u++)Pa(r.child(u),s);e&&e.depth==n&&e.textOffset&&Pa(e.nodeBefore,s)}function Ba(t,e){return t.type.checkContent(e),t.copy(e)}function R3(t,e,n,s,r){let i=t.depth>r&&rb(t,e,r+1),l=s.depth>r&&rb(n,s,r+1),u=[];return su(null,t,r,u),i&&l&&e.index(r)==n.index(r)?(O3(i,l),Pa(Ba(i,R3(t,e,n,s,r+1)),u)):(i&&Pa(Ba(i,qh(t,e,r+1)),u),su(e,n,r,u),l&&Pa(Ba(l,qh(n,s,r+1)),u)),su(s,null,r,u),new ce(u)}function qh(t,e,n){let s=[];if(su(null,t,n,s),t.depth>n){let r=rb(t,e,n+1);Pa(Ba(r,qh(t,e,n+1)),s)}return su(e,null,n,s),new ce(s)}function qH(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)r=e.node(i).copy(ce.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}class _u{constructor(e,n,s){this.pos=e,this.path=n,this.parentOffset=s,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let s=this.pos-this.path[this.path.length-1],r=e.child(n);return s?e.child(n).cut(s):r}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let s=this.path[n*3],r=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)r+=s.child(i).nodeSize;return r}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return it.none;if(this.textOffset)return e.child(n).marks;let s=e.maybeChild(n-1),r=e.maybeChild(n);if(!s){let u=s;s=r,r=u}let i=s.marks;for(var l=0;l<i.length;l++)i[l].type.spec.inclusive===!1&&(!r||!i[l].isInSet(r.marks))&&(i=i[l--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let s=n.marks,r=e.parent.maybeChild(e.index());for(var i=0;i<s.length;i++)s[i].type.spec.inclusive===!1&&(!r||!s[i].isInSet(r.marks))&&(s=s[i--].removeFromSet(s));return s}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let s=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);s>=0;s--)if(e.pos<=this.end(s)&&(!n||n(this.node(s))))return new Hh(this,e,s);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let s=[],r=0,i=n;for(let l=e;;){let{index:u,offset:d}=l.content.findIndex(i),h=i-d;if(s.push(l,u,r+d),!h||(l=l.child(u),l.isText))break;i=h-1,r+=d+1}return new _u(n,s,i)}static resolveCached(e,n){let s=Dk.get(e);if(s)for(let i=0;i<s.elts.length;i++){let l=s.elts[i];if(l.pos==n)return l}else Dk.set(e,s=new HH);let r=s.elts[s.i]=_u.resolve(e,n);return s.i=(s.i+1)%KH,r}}class HH{constructor(){this.elts=[],this.i=0}}const KH=12,Dk=new WeakMap;class Hh{constructor(e,n,s){this.$from=e,this.$to=n,this.depth=s}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const GH=Object.create(null);class Ds{constructor(e,n,s,r=it.none){this.type=e,this.attrs=n,this.marks=r,this.content=s||ce.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,s,r=0){this.content.nodesBetween(e,n,s,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,s,r){return this.content.textBetween(e,n,s,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,s){return this.type==e&&$h(this.attrs,n||e.defaultAttrs||GH)&&it.sameSet(this.marks,s||it.none)}copy(e=null){return e==this.content?this:new Ds(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ds(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,s=!1){if(e==n)return pe.empty;let r=this.resolve(e),i=this.resolve(n),l=s?0:r.sharedDepth(n),u=r.start(l),h=r.node(l).content.cut(r.pos-u,i.pos-u);return new pe(h,r.depth-l,i.depth-l)}replace(e,n,s){return FH(this.resolve(e),this.resolve(n),s)}nodeAt(e){for(let n=this;;){let{index:s,offset:r}=n.content.findIndex(e);if(n=n.maybeChild(s),!n)return null;if(r==e||n.isText)return n;e-=r+1}}childAfter(e){let{index:n,offset:s}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:s}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:s}=this.content.findIndex(e);if(s<e)return{node:this.content.child(n),index:n,offset:s};let r=this.content.child(n-1);return{node:r,index:n-1,offset:s-r.nodeSize}}resolve(e){return _u.resolveCached(this,e)}resolveNoCache(e){return _u.resolve(this,e)}rangeHasMark(e,n,s){let r=!1;return n>e&&this.nodesBetween(e,n,i=>(s.isInSet(i.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),L3(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,s=ce.empty,r=0,i=s.childCount){let l=this.contentMatchAt(e).matchFragment(s,r,i),u=l&&l.matchFragment(this.content,n);if(!u||!u.validEnd)return!1;for(let d=r;d<i;d++)if(!this.type.allowsMarks(s.child(d).marks))return!1;return!0}canReplaceWith(e,n,s,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(e).matchType(s),l=i&&i.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=it.none;for(let n=0;n<this.marks.length;n++){let s=this.marks[n];s.type.checkAttrs(s.attrs),e=s.addToSet(e)}if(!it.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let s;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");s=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,s)}let r=ce.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,r,s);return i.type.checkAttrs(i.attrs),i}}Ds.prototype.text=void 0;class Kh extends Ds{constructor(e,n,s,r){if(super(e,n,null,r),!s)throw new RangeError("Empty text nodes are not allowed");this.text=s}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):L3(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Kh(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Kh(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function L3(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Ka{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let s=new QH(e,n);if(s.next==null)return Ka.empty;let r=P3(s);s.next&&s.err("Unexpected trailing text");let i=tK(eK(r));return nK(i,s),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,s=e.childCount){let r=this;for(let i=n;r&&i<s;i++)r=r.matchType(e.child(i).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let s=0;s<e.next.length;s++)if(this.next[n].type==e.next[s].type)return!0;return!1}fillBefore(e,n=!1,s=0){let r=[this];function i(l,u){let d=l.matchFragment(e,s);if(d&&(!n||d.validEnd))return ce.from(u.map(h=>h.createAndFill()));for(let h=0;h<l.next.length;h++){let{type:p,next:m}=l.next[h];if(!(p.isText||p.hasRequiredAttrs())&&r.indexOf(m)==-1){r.push(m);let x=i(m,u.concat(p));if(x)return x}}return null}return i(this,[])}findWrapping(e){for(let s=0;s<this.wrapCache.length;s+=2)if(this.wrapCache[s]==e)return this.wrapCache[s+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),s=[{match:this,type:null,via:null}];for(;s.length;){let r=s.shift(),i=r.match;if(i.matchType(e)){let l=[];for(let u=r;u.type;u=u.via)l.push(u.type);return l.reverse()}for(let l=0;l<i.next.length;l++){let{type:u,next:d}=i.next[l];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in n)&&(!r.type||d.validEnd)&&(s.push({match:u.contentMatch,type:u,via:r}),n[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(s){e.push(s);for(let r=0;r<s.next.length;r++)e.indexOf(s.next[r].next)==-1&&n(s.next[r].next)}return n(this),e.map((s,r)=>{let i=r+(s.validEnd?"*":" ")+" ";for(let l=0;l<s.next.length;l++)i+=(l?", ":"")+s.next[l].type.name+"->"+e.indexOf(s.next[l].next);return i}).join(`
`)}}Ka.empty=new Ka(!0);class QH{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function P3(t){let e=[];do e.push(YH(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function YH(t){let e=[];do e.push(JH(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function JH(t){let e=ZH(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=XH(t,e);else break;return e}function Ok(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function XH(t,e){let n=Ok(t),s=n;return t.eat(",")&&(t.next!="}"?s=Ok(t):s=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:s,expr:e}}function WH(t,e){let n=t.nodeTypes,s=n[e];if(s)return[s];let r=[];for(let i in n){let l=n[i];l.isInGroup(e)&&r.push(l)}return r.length==0&&t.err("No node type or group '"+e+"' found"),r}function ZH(t){if(t.eat("(")){let e=P3(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=WH(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function eK(t){let e=[[]];return r(i(t,0),n()),e;function n(){return e.push([])-1}function s(l,u,d){let h={term:d,to:u};return e[l].push(h),h}function r(l,u){l.forEach(d=>d.to=u)}function i(l,u){if(l.type=="choice")return l.exprs.reduce((d,h)=>d.concat(i(h,u)),[]);if(l.type=="seq")for(let d=0;;d++){let h=i(l.exprs[d],u);if(d==l.exprs.length-1)return h;r(h,u=n())}else if(l.type=="star"){let d=n();return s(u,d),r(i(l.expr,d),d),[s(d)]}else if(l.type=="plus"){let d=n();return r(i(l.expr,u),d),r(i(l.expr,d),d),[s(d)]}else{if(l.type=="opt")return[s(u)].concat(i(l.expr,u));if(l.type=="range"){let d=u;for(let h=0;h<l.min;h++){let p=n();r(i(l.expr,d),p),d=p}if(l.max==-1)r(i(l.expr,d),d);else for(let h=l.min;h<l.max;h++){let p=n();s(d,p),r(i(l.expr,d),p),d=p}return[s(d)]}else{if(l.type=="name")return[s(u,void 0,l.value)];throw new Error("Unknown expr type")}}}}function B3(t,e){return e-t}function Rk(t,e){let n=[];return s(e),n.sort(B3);function s(r){let i=t[r];if(i.length==1&&!i[0].term)return s(i[0].to);n.push(r);for(let l=0;l<i.length;l++){let{term:u,to:d}=i[l];!u&&n.indexOf(d)==-1&&s(d)}}}function tK(t){let e=Object.create(null);return n(Rk(t,0));function n(s){let r=[];s.forEach(l=>{t[l].forEach(({term:u,to:d})=>{if(!u)return;let h;for(let p=0;p<r.length;p++)r[p][0]==u&&(h=r[p][1]);Rk(t,d).forEach(p=>{h||r.push([u,h=[]]),h.indexOf(p)==-1&&h.push(p)})})});let i=e[s.join(",")]=new Ka(s.indexOf(t.length-1)>-1);for(let l=0;l<r.length;l++){let u=r[l][1].sort(B3);i.next.push({type:r[l][0],next:e[u.join(",")]||n(u)})}return i}}function nK(t,e){for(let n=0,s=[t];n<s.length;n++){let r=s[n],i=!r.validEnd,l=[];for(let u=0;u<r.next.length;u++){let{type:d,next:h}=r.next[u];l.push(d.name),i&&!(d.isText||d.hasRequiredAttrs())&&(i=!1),s.indexOf(h)==-1&&s.push(h)}i&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function z3(t){let e=Object.create(null);for(let n in t){let s=t[n];if(!s.hasDefault)return null;e[n]=s.default}return e}function I3(t,e){let n=Object.create(null);for(let s in t){let r=e&&e[s];if(r===void 0){let i=t[s];if(i.hasDefault)r=i.default;else throw new RangeError("No value supplied for attribute "+s)}n[s]=r}return n}function V3(t,e,n,s){for(let r in e)if(!(r in t))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let r in t){let i=t[r];i.validate&&i.validate(e[r])}}function U3(t,e){let n=Object.create(null);if(e)for(let s in e)n[s]=new rK(t,s,e[s]);return n}let Lk=class $3{constructor(e,n,s){this.name=e,this.schema=n,this.spec=s,this.markSet=null,this.groups=s.group?s.group.split(" "):[],this.attrs=U3(e,s.attrs),this.defaultAttrs=z3(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(s.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ka.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:I3(this.attrs,e)}create(e=null,n,s){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ds(this,this.computeAttrs(e),ce.from(n),it.setFrom(s))}createChecked(e=null,n,s){return n=ce.from(n),this.checkContent(n),new Ds(this,this.computeAttrs(e),n,it.setFrom(s))}createAndFill(e=null,n,s){if(e=this.computeAttrs(e),n=ce.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let r=this.contentMatch.matchFragment(n),i=r&&r.fillBefore(ce.empty,!0);return i?new Ds(this,e,n.append(i),it.setFrom(s)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let s=0;s<e.childCount;s++)if(!this.allowsMarks(e.child(s).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){V3(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let s=0;s<e.length;s++)this.allowsMarkType(e[s].type)?n&&n.push(e[s]):n||(n=e.slice(0,s));return n?n.length?n:it.none:e}static compile(e,n){let s=Object.create(null);e.forEach((i,l)=>s[i]=new $3(i,n,l));let r=n.spec.topNode||"doc";if(!s[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!s.text)throw new RangeError("Every schema needs a 'text' type");for(let i in s.text.attrs)throw new RangeError("The text node type should not have attributes");return s}};function sK(t,e,n){let s=n.split("|");return r=>{let i=r===null?"null":typeof r;if(s.indexOf(i)<0)throw new RangeError(`Expected value of type ${s} for attribute ${e} on type ${t}, got ${i}`)}}class rK{constructor(e,n,s){this.hasDefault=Object.prototype.hasOwnProperty.call(s,"default"),this.default=s.default,this.validate=typeof s.validate=="string"?sK(e,n,s.validate):s.validate}get isRequired(){return!this.hasDefault}}class hm{constructor(e,n,s,r){this.name=e,this.rank=n,this.schema=s,this.spec=r,this.attrs=U3(e,r.attrs),this.excluded=null;let i=z3(this.attrs);this.instance=i?new it(this,i):null}create(e=null){return!e&&this.instance?this.instance:new it(this,I3(this.attrs,e))}static compile(e,n){let s=Object.create(null),r=0;return e.forEach((i,l)=>s[i]=new hm(i,r++,n,l)),s}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){V3(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class F3{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let r in e)n[r]=e[r];n.nodes=tn.from(e.nodes),n.marks=tn.from(e.marks||{}),this.nodes=Lk.compile(this.spec.nodes,this),this.marks=hm.compile(this.spec.marks,this);let s=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let i=this.nodes[r],l=i.spec.content||"",u=i.spec.marks;if(i.contentMatch=s[l]||(s[l]=Ka.parse(l,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=u=="_"?null:u?Pk(this,u.split(" ")):u==""||!i.inlineContent?[]:null}for(let r in this.marks){let i=this.marks[r],l=i.spec.excludes;i.excluded=l==null?[i]:l==""?[]:Pk(this,l.split(" "))}this.nodeFromJSON=r=>Ds.fromJSON(this,r),this.markFromJSON=r=>it.fromJSON(this,r),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,s,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Lk){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,s,r)}text(e,n){let s=this.nodes.text;return new Kh(s,s.defaultAttrs,e,it.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Pk(t,e){let n=[];for(let s=0;s<e.length;s++){let r=e[s],i=t.marks[r],l=i;if(i)n.push(i);else for(let u in t.marks){let d=t.marks[u];(r=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(r)>-1)&&n.push(l=d)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[s]+"'")}return n}function iK(t){return t.tag!=null}function aK(t){return t.style!=null}class Pi{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let s=this.matchedStyles=[];n.forEach(r=>{if(iK(r))this.tags.push(r);else if(aK(r)){let i=/[^=]*/.exec(r.style)[0];s.indexOf(i)<0&&s.push(i),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let s=new zk(this,n,!1);return s.addAll(e,it.none,n.from,n.to),s.finish()}parseSlice(e,n={}){let s=new zk(this,n,!0);return s.addAll(e,it.none,n.from,n.to),pe.maxOpen(s.finish())}matchTag(e,n,s){for(let r=s?this.tags.indexOf(s)+1:0;r<this.tags.length;r++){let i=this.tags[r];if(cK(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let l=i.getAttrs(e);if(l===!1)continue;i.attrs=l||void 0}return i}}}matchStyle(e,n,s,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let l=this.styles[i],u=l.style;if(!(u.indexOf(e)!=0||l.context&&!s.matchesContext(l.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=n))){if(l.getAttrs){let d=l.getAttrs(n);if(d===!1)continue;l.attrs=d||void 0}return l}}}static schemaRules(e){let n=[];function s(r){let i=r.priority==null?50:r.priority,l=0;for(;l<n.length;l++){let u=n[l];if((u.priority==null?50:u.priority)<i)break}n.splice(l,0,r)}for(let r in e.marks){let i=e.marks[r].spec.parseDOM;i&&i.forEach(l=>{s(l=Ik(l)),l.mark||l.ignore||l.clearMark||(l.mark=r)})}for(let r in e.nodes){let i=e.nodes[r].spec.parseDOM;i&&i.forEach(l=>{s(l=Ik(l)),l.node||l.ignore||l.mark||(l.node=r)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Pi(e,Pi.schemaRules(e)))}}const q3={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},oK={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},H3={ol:!0,ul:!0},Du=1,ib=2,ru=4;function Bk(t,e,n){return e!=null?(e?Du:0)|(e==="full"?ib:0):t&&t.whitespace=="pre"?Du|ib:n&~ru}class Kf{constructor(e,n,s,r,i,l){this.type=e,this.attrs=n,this.marks=s,this.solid=r,this.options=l,this.content=[],this.activeMarks=it.none,this.match=i||(l&ru?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ce.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let s=this.type.contentMatch,r;return(r=s.findWrapping(e.type))?(this.match=s,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Du)){let s=this.content[this.content.length-1],r;if(s&&s.isText&&(r=/[ \t\r\n\u000c]+$/.exec(s.text))){let i=s;s.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-r[0].length))}}let n=ce.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ce.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!q3.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class zk{constructor(e,n,s){this.parser=e,this.options=n,this.isOpen=s,this.open=0,this.localPreserveWS=!1;let r=n.topNode,i,l=Bk(null,n.preserveWhitespace,0)|(s?ru:0);r?i=new Kf(r.type,r.attrs,it.none,!0,n.topMatch||r.type.contentMatch,l):s?i=new Kf(null,null,it.none,!0,null,l):i=new Kf(e.schema.topNodeType,null,it.none,!0,null,l),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let s=e.nodeValue,r=this.top,i=r.options&ib?"full":this.localPreserveWS||(r.options&Du)>0,{schema:l}=this.parser;if(i==="full"||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(s)){if(i)if(i==="full")s=s.replace(/\r\n?/g,`
`);else if(l.linebreakReplacement&&/[\r\n]/.test(s)&&this.top.findWrapping(l.linebreakReplacement.create())){let u=s.split(/\r?\n|\r/);for(let d=0;d<u.length;d++)d&&this.insertNode(l.linebreakReplacement.create(),n,!0),u[d]&&this.insertNode(l.text(u[d]),n,!/\S/.test(u[d]));s=""}else s=s.replace(/\r?\n|\r/g," ");else if(s=s.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(s)&&this.open==this.nodes.length-1){let u=r.content[r.content.length-1],d=e.previousSibling;(!u||d&&d.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(s=s.slice(1))}s&&this.insertNode(l.text(s),n,!/\S/.test(s)),this.findInText(e)}else this.findInside(e)}addElement(e,n,s){let r=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),u;H3.hasOwnProperty(l)&&this.parser.normalizeLists&&lK(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,s));e:if(d?d.ignore:oK.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let h,p=this.needsBlock;if(q3.hasOwnProperty(l))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),h=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let m=d&&d.skip?n:this.readStyles(e,n);m&&this.addAll(e,m),h&&this.sync(i),this.needsBlock=p}else{let h=this.readStyles(e,n);h&&this.addElementByRule(e,d,h,d.consuming===!1?u:void 0)}this.localPreserveWS=r}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let s=e.style;if(s&&s.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let i=this.parser.matchedStyles[r],l=s.getPropertyValue(i);if(l)for(let u=void 0;;){let d=this.parser.matchStyle(i,l,this,u);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(h=>!d.clearMark(h)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)u=d;else break}}return n}addElementByRule(e,n,s,r){let i,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),s,e.nodeName=="BR")||this.leafFallback(e,s);else{let d=this.enter(l,n.attrs||null,s,n.preserveWhitespace);d&&(i=!0,s=d)}else{let d=this.parser.schema.marks[n.mark];s=s.concat(d.create(n.attrs))}let u=this.top;if(l&&l.isLeaf)this.findInside(e);else if(r)this.addElement(e,s,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,s,!1));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d,s),this.findAround(e,d,!1)}i&&this.sync(u)&&this.open--}addAll(e,n,s,r){let i=s||0;for(let l=s?e.childNodes[s]:e.firstChild,u=r==null?null:e.childNodes[r];l!=u;l=l.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(l,n);this.findAtPoint(e,i)}findPlace(e,n,s){let r,i;for(let l=this.open,u=0;l>=0;l--){let d=this.nodes[l],h=d.findWrapping(e);if(h&&(!r||r.length>h.length+u)&&(r=h,i=d,!h.length))break;if(d.solid){if(s)break;u+=2}}if(!r)return null;this.sync(i);for(let l=0;l<r.length;l++)n=this.enterInner(r[l],null,n,!1);return n}insertNode(e,n,s){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n,s);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let l=it.none;for(let u of r.concat(e.marks))(i.type?i.type.allowsMarkType(u.type):Vk(u.type,e.type))&&(l=u.addToSet(l));return i.content.push(e.mark(l)),!0}return!1}enter(e,n,s,r){let i=this.findPlace(e.create(n),s,!1);return i&&(i=this.enterInner(e,n,s,!0,r)),i}enterInner(e,n,s,r=!1,i){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let u=Bk(e,i,l.options);l.options&ru&&l.content.length==0&&(u|=ru);let d=it.none;return s=s.filter(h=>(l.type?l.type.allowsMarkType(h.type):Vk(h.type,e))?(d=h.addToSet(d),!1):!0),this.nodes.push(new Kf(e,n,d,r,null,u)),this.open++,s}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Du)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let s=this.nodes[n].content;for(let r=s.length-1;r>=0;r--)e+=s[r].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].node==e&&this.find[s].offset==n&&(this.find[s].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,s){if(e!=n&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&n.compareDocumentPosition(this.find[r].node)&(s?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),s=this.options.context,r=!this.isOpen&&(!s||s.parent.type==this.nodes[0].type),i=-(s?s.depth+1:0)+(r?0:1),l=(u,d)=>{for(;u>=0;u--){let h=n[u];if(h==""){if(u==n.length-1||u==0)continue;for(;d>=i;d--)if(l(u-1,d))return!0;return!1}else{let p=d>0||d==0&&r?this.nodes[d].type:s&&d>=i?s.node(d-i).type:null;if(!p||p.name!=h&&!p.isInGroup(h))return!1;d--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(s&&s.isTextblock&&s.defaultAttrs)return s}for(let n in this.parser.schema.nodes){let s=this.parser.schema.nodes[n];if(s.isTextblock&&s.defaultAttrs)return s}}}function lK(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let s=e.nodeType==1?e.nodeName.toLowerCase():null;s&&H3.hasOwnProperty(s)&&n?(n.appendChild(e),e=n):s=="li"?n=e:s&&(n=null)}}function cK(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Ik(t){let e={};for(let n in t)e[n]=t[n];return e}function Vk(t,e){let n=e.schema.nodes;for(let s in n){let r=n[s];if(!r.allowsMarkType(t))continue;let i=[],l=u=>{i.push(u);for(let d=0;d<u.edgeCount;d++){let{type:h,next:p}=u.edge(d);if(h==e||i.indexOf(p)<0&&l(p))return!0}};if(l(r.contentMatch))return!0}}class Xa{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},s){s||(s=Lx(n).createDocumentFragment());let r=s,i=[];return e.forEach(l=>{if(i.length||l.marks.length){let u=0,d=0;for(;u<i.length&&d<l.marks.length;){let h=l.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(i[u][0])||h.type.spec.spanning===!1)break;u++,d++}for(;u<i.length;)r=i.pop()[1];for(;d<l.marks.length;){let h=l.marks[d++],p=this.serializeMark(h,l.isInline,n);p&&(i.push([h,r]),r.appendChild(p.dom),r=p.contentDOM||p.dom)}}r.appendChild(this.serializeNodeInner(l,n))}),s}serializeNodeInner(e,n){let{dom:s,contentDOM:r}=ph(Lx(n),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,r)}return s}serializeNode(e,n={}){let s=this.serializeNodeInner(e,n);for(let r=e.marks.length-1;r>=0;r--){let i=this.serializeMark(e.marks[r],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(s),s=i.dom)}return s}serializeMark(e,n,s={}){let r=this.marks[e.type.name];return r&&ph(Lx(s),r(e,n),null,e.attrs)}static renderSpec(e,n,s=null,r){return ph(e,n,s,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Xa(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Uk(e.nodes);return n.text||(n.text=s=>s.text),n}static marksFromSchema(e){return Uk(e.marks)}}function Uk(t){let e={};for(let n in t){let s=t[n].spec.toDOM;s&&(e[n]=s)}return e}function Lx(t){return t.document||window.document}const $k=new WeakMap;function uK(t){let e=$k.get(t);return e===void 0&&$k.set(t,e=dK(t)),e}function dK(t){let e=null;function n(s){if(s&&typeof s=="object")if(Array.isArray(s))if(typeof s[0]=="string")e||(e=[]),e.push(s);else for(let r=0;r<s.length;r++)n(s[r]);else for(let r in s)n(s[r])}return n(t),e}function ph(t,e,n,s){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let r=e[0],i;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(s&&(i=uK(s))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=r.indexOf(" ");l>0&&(n=r.slice(0,l),r=r.slice(l+1));let u,d=n?t.createElementNS(n,r):t.createElement(r),h=e[1],p=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){p=2;for(let m in h)if(h[m]!=null){let x=m.indexOf(" ");x>0?d.setAttributeNS(m.slice(0,x),m.slice(x+1),h[m]):m=="style"&&d.style?d.style.cssText=h[m]:d.setAttribute(m,h[m])}}for(let m=p;m<e.length;m++){let x=e[m];if(x===0){if(m<e.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:y,contentDOM:b}=ph(t,x,n,s);if(d.appendChild(y),b){if(u)throw new RangeError("Multiple content holes");u=b}}}return{dom:d,contentDOM:u}}const K3=65535,G3=Math.pow(2,16);function fK(t,e){return t+e*G3}function Fk(t){return t&K3}function hK(t){return(t-(t&K3))/G3}const Q3=1,Y3=2,mh=4,J3=8;class ab{constructor(e,n,s){this.pos=e,this.delInfo=n,this.recover=s}get deleted(){return(this.delInfo&J3)>0}get deletedBefore(){return(this.delInfo&(Q3|mh))>0}get deletedAfter(){return(this.delInfo&(Y3|mh))>0}get deletedAcross(){return(this.delInfo&mh)>0}}class Hn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Hn.empty)return Hn.empty}recover(e){let n=0,s=Fk(e);if(!this.inverted)for(let r=0;r<s;r++)n+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[s*3]+n+hK(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,s){let r=0,i=this.inverted?2:1,l=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?r:0);if(d>e)break;let h=this.ranges[u+i],p=this.ranges[u+l],m=d+h;if(e<=m){let x=h?e==d?-1:e==m?1:n:n,y=d+r+(x<0?0:p);if(s)return y;let b=e==(n<0?d:m)?null:fK(u/3,e-d),j=e==d?Y3:e==m?Q3:mh;return(n<0?e!=d:e!=m)&&(j|=J3),new ab(y,j,b)}r+=p-h}return s?e+r:new ab(e+r,0,null)}touches(e,n){let s=0,r=Fk(n),i=this.inverted?2:1,l=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?s:0);if(d>e)break;let h=this.ranges[u+i],p=d+h;if(e<=p&&u==r*3)return!0;s+=this.ranges[u+l]-h}return!1}forEach(e){let n=this.inverted?2:1,s=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let l=this.ranges[r],u=l-(this.inverted?i:0),d=l+(this.inverted?0:i),h=this.ranges[r+n],p=this.ranges[r+s];e(u,u+h,d,d+p),i+=p-h}}invert(){return new Hn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Hn.empty:new Hn(e<0?[0,-e,0]:[0,0,e])}}Hn.empty=new Hn([]);class Ou{constructor(e,n,s=0,r=e?e.length:0){this.mirror=n,this.from=s,this.to=r,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Ou(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,s=this._maps.length;n<e._maps.length;n++){let r=e.getMirror(n);this.appendMap(e._maps[n],r!=null&&r<n?s+r:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,s=this._maps.length+e._maps.length;n>=0;n--){let r=e.getMirror(n);this.appendMap(e._maps[n].invert(),r!=null&&r>n?s-r-1:void 0)}}invert(){let e=new Ou;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let s=this.from;s<this.to;s++)e=this._maps[s].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,s){let r=0;for(let i=this.from;i<this.to;i++){let l=this._maps[i],u=l.mapResult(e,n);if(u.recover!=null){let d=this.getMirror(i);if(d!=null&&d>i&&d<this.to){i=d,e=this._maps[d].recover(u.recover);continue}}r|=u.delInfo,e=u.pos}return s?e:new ab(e,r,null)}}const Px=Object.create(null);class pn{getMap(){return Hn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let s=Px[n.stepType];if(!s)throw new RangeError(`No step type ${n.stepType} defined`);return s.fromJSON(e,n)}static jsonID(e,n){if(e in Px)throw new RangeError("Duplicate use of step JSON ID "+e);return Px[e]=n,n.prototype.jsonID=e,n}}class Ot{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Ot(e,null)}static fail(e){return new Ot(null,e)}static fromReplace(e,n,s,r){try{return Ot.ok(e.replace(n,s,r))}catch(i){if(i instanceof Fh)return Ot.fail(i.message);throw i}}}function Vv(t,e,n){let s=[];for(let r=0;r<t.childCount;r++){let i=t.child(r);i.content.size&&(i=i.copy(Vv(i.content,e,i))),i.isInline&&(i=e(i,n,r)),s.push(i)}return ce.fromArray(s)}class Oi extends pn{constructor(e,n,s){super(),this.from=e,this.to=n,this.mark=s}apply(e){let n=e.slice(this.from,this.to),s=e.resolve(this.from),r=s.node(s.sharedDepth(this.to)),i=new pe(Vv(n.content,(l,u)=>!l.isAtom||!u.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),r),n.openStart,n.openEnd);return Ot.fromReplace(e,this.from,this.to,i)}invert(){return new Ts(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deleted&&s.deleted||n.pos>=s.pos?null:new Oi(n.pos,s.pos,this.mark)}merge(e){return e instanceof Oi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Oi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Oi(n.from,n.to,e.markFromJSON(n.mark))}}pn.jsonID("addMark",Oi);class Ts extends pn{constructor(e,n,s){super(),this.from=e,this.to=n,this.mark=s}apply(e){let n=e.slice(this.from,this.to),s=new pe(Vv(n.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),n.openStart,n.openEnd);return Ot.fromReplace(e,this.from,this.to,s)}invert(){return new Oi(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deleted&&s.deleted||n.pos>=s.pos?null:new Ts(n.pos,s.pos,this.mark)}merge(e){return e instanceof Ts&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ts(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ts(n.from,n.to,e.markFromJSON(n.mark))}}pn.jsonID("removeMark",Ts);class Ri extends pn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ot.fail("No node at mark step's position");let s=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Ot.fromReplace(e,this.pos,this.pos+1,new pe(ce.from(s),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let s=this.mark.addToSet(n.marks);if(s.length==n.marks.length){for(let r=0;r<n.marks.length;r++)if(!n.marks[r].isInSet(s))return new Ri(this.pos,n.marks[r]);return new Ri(this.pos,this.mark)}}return new Ga(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ri(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ri(n.pos,e.markFromJSON(n.mark))}}pn.jsonID("addNodeMark",Ri);class Ga extends pn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ot.fail("No node at mark step's position");let s=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Ot.fromReplace(e,this.pos,this.pos+1,new pe(ce.from(s),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ri(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ga(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ga(n.pos,e.markFromJSON(n.mark))}}pn.jsonID("removeNodeMark",Ga);class qt extends pn{constructor(e,n,s,r=!1){super(),this.from=e,this.to=n,this.slice=s,this.structure=r}apply(e){return this.structure&&ob(e,this.from,this.to)?Ot.fail("Structure replace would overwrite content"):Ot.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Hn([this.from,this.to-this.from,this.slice.size])}invert(e){return new qt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deletedAcross&&s.deletedAcross?null:new qt(n.pos,Math.max(n.pos,s.pos),this.slice,this.structure)}merge(e){if(!(e instanceof qt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?pe.empty:new pe(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new qt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?pe.empty:new pe(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new qt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new qt(n.from,n.to,pe.fromJSON(e,n.slice),!!n.structure)}}pn.jsonID("replace",qt);class Gt extends pn{constructor(e,n,s,r,i,l,u=!1){super(),this.from=e,this.to=n,this.gapFrom=s,this.gapTo=r,this.slice=i,this.insert=l,this.structure=u}apply(e){if(this.structure&&(ob(e,this.from,this.gapFrom)||ob(e,this.gapTo,this.to)))return Ot.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Ot.fail("Gap is not a flat range");let s=this.slice.insertAt(this.insert,n.content);return s?Ot.fromReplace(e,this.from,this.to,s):Ot.fail("Content does not fit in gap")}getMap(){return new Hn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Gt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1),r=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?s.pos:e.map(this.gapTo,1);return n.deletedAcross&&s.deletedAcross||r<n.pos||i>s.pos?null:new Gt(n.pos,s.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Gt(n.from,n.to,n.gapFrom,n.gapTo,pe.fromJSON(e,n.slice),n.insert,!!n.structure)}}pn.jsonID("replaceAround",Gt);function ob(t,e,n){let s=t.resolve(e),r=n-e,i=s.depth;for(;r>0&&i>0&&s.indexAfter(i)==s.node(i).childCount;)i--,r--;if(r>0){let l=s.node(i).maybeChild(s.indexAfter(i));for(;r>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,r--}}return!1}function pK(t,e,n,s){let r=[],i=[],l,u;t.doc.nodesBetween(e,n,(d,h,p)=>{if(!d.isInline)return;let m=d.marks;if(!s.isInSet(m)&&p.type.allowsMarkType(s.type)){let x=Math.max(h,e),y=Math.min(h+d.nodeSize,n),b=s.addToSet(m);for(let j=0;j<m.length;j++)m[j].isInSet(b)||(l&&l.to==x&&l.mark.eq(m[j])?l.to=y:r.push(l=new Ts(x,y,m[j])));u&&u.to==x?u.to=y:i.push(u=new Oi(x,y,s))}}),r.forEach(d=>t.step(d)),i.forEach(d=>t.step(d))}function mK(t,e,n,s){let r=[],i=0;t.doc.nodesBetween(e,n,(l,u)=>{if(!l.isInline)return;i++;let d=null;if(s instanceof hm){let h=l.marks,p;for(;p=s.isInSet(h);)(d||(d=[])).push(p),h=p.removeFromSet(h)}else s?s.isInSet(l.marks)&&(d=[s]):d=l.marks;if(d&&d.length){let h=Math.min(u+l.nodeSize,n);for(let p=0;p<d.length;p++){let m=d[p],x;for(let y=0;y<r.length;y++){let b=r[y];b.step==i-1&&m.eq(r[y].style)&&(x=b)}x?(x.to=h,x.step=i):r.push({style:m,from:Math.max(u,e),to:h,step:i})}}}),r.forEach(l=>t.step(new Ts(l.from,l.to,l.style)))}function Uv(t,e,n,s=n.contentMatch,r=!0){let i=t.doc.nodeAt(e),l=[],u=e+1;for(let d=0;d<i.childCount;d++){let h=i.child(d),p=u+h.nodeSize,m=s.matchType(h.type);if(!m)l.push(new qt(u,p,pe.empty));else{s=m;for(let x=0;x<h.marks.length;x++)n.allowsMarkType(h.marks[x].type)||t.step(new Ts(u,p,h.marks[x]));if(r&&h.isText&&n.whitespace!="pre"){let x,y=/\r?\n|\r/g,b;for(;x=y.exec(h.text);)b||(b=new pe(ce.from(n.schema.text(" ",n.allowedMarks(h.marks))),0,0)),l.push(new qt(u+x.index,u+x.index+x[0].length,b))}}u=p}if(!s.validEnd){let d=s.fillBefore(ce.empty,!0);t.replace(u,u,new pe(d,0,0))}for(let d=l.length-1;d>=0;d--)t.step(l[d])}function gK(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Rl(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let s=t.depth,r=0,i=0;;--s){let l=t.$from.node(s),u=t.$from.index(s)+r,d=t.$to.indexAfter(s)-i;if(s<t.depth&&l.canReplace(u,d,n))return s;if(s==0||l.type.spec.isolating||!gK(l,u,d))break;u&&(r=1),d<l.childCount&&(i=1)}return null}function xK(t,e,n){let{$from:s,$to:r,depth:i}=e,l=s.before(i+1),u=r.after(i+1),d=l,h=u,p=ce.empty,m=0;for(let b=i,j=!1;b>n;b--)j||s.index(b)>0?(j=!0,p=ce.from(s.node(b).copy(p)),m++):d--;let x=ce.empty,y=0;for(let b=i,j=!1;b>n;b--)j||r.after(b+1)<r.end(b)?(j=!0,x=ce.from(r.node(b).copy(x)),y++):h++;t.step(new Gt(d,h,l,u,new pe(p.append(x),m,y),p.size-m,!0))}function $v(t,e,n=null,s=t){let r=yK(t,e),i=r&&bK(s,e);return i?r.map(qk).concat({type:e,attrs:n}).concat(i.map(qk)):null}function qk(t){return{type:t,attrs:null}}function yK(t,e){let{parent:n,startIndex:s,endIndex:r}=t,i=n.contentMatchAt(s).findWrapping(e);if(!i)return null;let l=i.length?i[0]:e;return n.canReplaceWith(s,r,l)?i:null}function bK(t,e){let{parent:n,startIndex:s,endIndex:r}=t,i=n.child(s),l=e.contentMatch.findWrapping(i.type);if(!l)return null;let d=(l.length?l[l.length-1]:e).contentMatch;for(let h=s;d&&h<r;h++)d=d.matchType(n.child(h).type);return!d||!d.validEnd?null:l}function vK(t,e,n){let s=ce.empty;for(let l=n.length-1;l>=0;l--){if(s.size){let u=n[l].type.contentMatch.matchFragment(s);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}s=ce.from(n[l].type.create(n[l].attrs,s))}let r=e.start,i=e.end;t.step(new Gt(r,i,r,i,new pe(s,0,0),n.length,!0))}function wK(t,e,n,s,r){if(!s.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(l,u)=>{let d=typeof r=="function"?r(l):r;if(l.isTextblock&&!l.hasMarkup(s,d)&&NK(t.doc,t.mapping.slice(i).map(u),s)){let h=null;if(s.schema.linebreakReplacement){let y=s.whitespace=="pre",b=!!s.contentMatch.matchType(s.schema.linebreakReplacement);y&&!b?h=!1:!y&&b&&(h=!0)}h===!1&&W3(t,l,u,i),Uv(t,t.mapping.slice(i).map(u,1),s,void 0,h===null);let p=t.mapping.slice(i),m=p.map(u,1),x=p.map(u+l.nodeSize,1);return t.step(new Gt(m,x,m+1,x-1,new pe(ce.from(s.create(d,null,l.marks)),0,0),1,!0)),h===!0&&X3(t,l,u,i),!1}})}function X3(t,e,n,s){e.forEach((r,i)=>{if(r.isText){let l,u=/\r?\n|\r/g;for(;l=u.exec(r.text);){let d=t.mapping.slice(s).map(n+1+i+l.index);t.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function W3(t,e,n,s){e.forEach((r,i)=>{if(r.type==r.type.schema.linebreakReplacement){let l=t.mapping.slice(s).map(n+1+i);t.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function NK(t,e,n){let s=t.resolve(e),r=s.index();return s.parent.canReplaceWith(r,r+1,n)}function jK(t,e,n,s,r){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let l=n.create(s,null,r||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,l);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Gt(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new pe(ce.from(l),0,0),1,!0))}function Ur(t,e,n=1,s){let r=t.resolve(e),i=r.depth-n,l=s&&s[s.length-1]||r.parent;if(i<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!l.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let h=r.depth-1,p=n-2;h>i;h--,p--){let m=r.node(h),x=r.index(h);if(m.type.spec.isolating)return!1;let y=m.content.cutByIndex(x,m.childCount),b=s&&s[p+1];b&&(y=y.replaceChild(0,b.type.create(b.attrs)));let j=s&&s[p]||m;if(!m.canReplace(x+1,m.childCount)||!j.type.validContent(y))return!1}let u=r.indexAfter(i),d=s&&s[0];return r.node(i).canReplaceWith(u,u,d?d.type:r.node(i+1).type)}function SK(t,e,n=1,s){let r=t.doc.resolve(e),i=ce.empty,l=ce.empty;for(let u=r.depth,d=r.depth-n,h=n-1;u>d;u--,h--){i=ce.from(r.node(u).copy(i));let p=s&&s[h];l=ce.from(p?p.type.create(p.attrs,l):r.node(u).copy(l))}t.step(new qt(e,e,new pe(i.append(l),n,n),!0))}function Xi(t,e){let n=t.resolve(e),s=n.index();return Z3(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(s,s+1)}function CK(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:s}=t.type.schema;for(let r=0;r<e.childCount;r++){let i=e.child(r),l=i.type==s?t.type.schema.nodes.text:i.type;if(n=n.matchType(l),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function Z3(t,e){return!!(t&&e&&!t.isLeaf&&CK(t,e))}function pm(t,e,n=-1){let s=t.resolve(e);for(let r=s.depth;;r--){let i,l,u=s.index(r);if(r==s.depth?(i=s.nodeBefore,l=s.nodeAfter):n>0?(i=s.node(r+1),u++,l=s.node(r).maybeChild(u)):(i=s.node(r).maybeChild(u-1),l=s.node(r+1)),i&&!i.isTextblock&&Z3(i,l)&&s.node(r).canReplace(u,u+1))return e;if(r==0)break;e=n<0?s.before(r):s.after(r)}}function kK(t,e,n){let s=null,{linebreakReplacement:r}=t.doc.type.schema,i=t.doc.resolve(e-n),l=i.node().type;if(r&&l.inlineContent){let p=l.whitespace=="pre",m=!!l.contentMatch.matchType(r);p&&!m?s=!1:!p&&m&&(s=!0)}let u=t.steps.length;if(s===!1){let p=t.doc.resolve(e+n);W3(t,p.node(),p.before(),u)}l.inlineContent&&Uv(t,e+n-1,l,i.node().contentMatchAt(i.index()),s==null);let d=t.mapping.slice(u),h=d.map(e-n);if(t.step(new qt(h,d.map(e+n,-1),pe.empty,!0)),s===!0){let p=t.doc.resolve(h);X3(t,p.node(),p.before(),t.steps.length)}return t}function EK(t,e,n){let s=t.resolve(e);if(s.parent.canReplaceWith(s.index(),s.index(),n))return e;if(s.parentOffset==0)for(let r=s.depth-1;r>=0;r--){let i=s.index(r);if(s.node(r).canReplaceWith(i,i,n))return s.before(r+1);if(i>0)return null}if(s.parentOffset==s.parent.content.size)for(let r=s.depth-1;r>=0;r--){let i=s.indexAfter(r);if(s.node(r).canReplaceWith(i,i,n))return s.after(r+1);if(i<s.node(r).childCount)return null}return null}function e4(t,e,n){let s=t.resolve(e);if(!n.content.size)return e;let r=n.content;for(let i=0;i<n.openStart;i++)r=r.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let l=s.depth;l>=0;l--){let u=l==s.depth?0:s.pos<=(s.start(l+1)+s.end(l+1))/2?-1:1,d=s.index(l)+(u>0?1:0),h=s.node(l),p=!1;if(i==1)p=h.canReplace(d,d,r);else{let m=h.contentMatchAt(d).findWrapping(r.firstChild.type);p=m&&h.canReplaceWith(d,d,m[0])}if(p)return u==0?s.pos:u<0?s.before(l+1):s.after(l+1)}return null}function mm(t,e,n=e,s=pe.empty){if(e==n&&!s.size)return null;let r=t.resolve(e),i=t.resolve(n);return t4(r,i,s)?new qt(e,n,s):new TK(r,i,s).fit()}function t4(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class TK{constructor(e,n,s){this.$from=e,this.$to=n,this.unplaced=s,this.frontier=[],this.placed=ce.empty;for(let r=0;r<=e.depth;r++){let i=e.node(r);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=ce.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,s=this.$from,r=this.close(e<0?this.$to:s.doc.resolve(e));if(!r)return null;let i=this.placed,l=s.depth,u=r.depth;for(;l&&u&&i.childCount==1;)i=i.firstChild.content,l--,u--;let d=new pe(i,l,u);return e>-1?new Gt(s.pos,e,this.$to.pos,this.$to.end(),d,n):d.size||s.pos!=this.$to.pos?new qt(s.pos,r.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,s=0,r=this.unplaced.openEnd;s<e;s++){let i=n.firstChild;if(n.childCount>1&&(r=0),i.type.spec.isolating&&r<=s){e=s;break}n=i.content}for(let n=1;n<=2;n++)for(let s=n==1?e:this.unplaced.openStart;s>=0;s--){let r,i=null;s?(i=Bx(this.unplaced.content,s-1).firstChild,r=i.content):r=this.unplaced.content;let l=r.firstChild;for(let u=this.depth;u>=0;u--){let{type:d,match:h}=this.frontier[u],p,m=null;if(n==1&&(l?h.matchType(l.type)||(m=h.fillBefore(ce.from(l),!1)):i&&d.compatibleContent(i.type)))return{sliceDepth:s,frontierDepth:u,parent:i,inject:m};if(n==2&&l&&(p=h.findWrapping(l.type)))return{sliceDepth:s,frontierDepth:u,parent:i,wrap:p};if(i&&h.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:s}=this.unplaced,r=Bx(e,n);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new pe(e,n+1,Math.max(s,r.size+n>=e.size-s?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:s}=this.unplaced,r=Bx(e,n);if(r.childCount<=1&&n>0){let i=e.size-n<=n+r.size;this.unplaced=new pe(qc(e,n-1,1),n-1,i?n-1:s)}else this.unplaced=new pe(qc(e,n,1),n,s)}placeNodes({sliceDepth:e,frontierDepth:n,parent:s,inject:r,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let j=0;j<i.length;j++)this.openFrontierNode(i[j]);let l=this.unplaced,u=s?s.content:l.content,d=l.openStart-e,h=0,p=[],{match:m,type:x}=this.frontier[n];if(r){for(let j=0;j<r.childCount;j++)p.push(r.child(j));m=m.matchFragment(r)}let y=u.size+e-(l.content.size-l.openEnd);for(;h<u.childCount;){let j=u.child(h),w=m.matchType(j.type);if(!w)break;h++,(h>1||d==0||j.content.size)&&(m=w,p.push(n4(j.mark(x.allowedMarks(j.marks)),h==1?d:0,h==u.childCount?y:-1)))}let b=h==u.childCount;b||(y=-1),this.placed=Hc(this.placed,n,ce.from(p)),this.frontier[n].match=m,b&&y<0&&s&&s.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let j=0,w=u;j<y;j++){let C=w.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),w=C.content}this.unplaced=b?e==0?pe.empty:new pe(qc(l.content,e-1,1),e-1,y<0?l.openEnd:e-1):new pe(qc(l.content,e,h),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!zx(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:s}=this.$to,r=this.$to.after(s);for(;s>1&&r==this.$to.end(--s);)++r;return r}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:s,type:r}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=zx(e,n,r,s,i);if(l){for(let u=n-1;u>=0;u--){let{match:d,type:h}=this.frontier[u],p=zx(e,u,h,d,!0);if(!p||p.childCount)continue e}return{depth:n,fit:l,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Hc(this.placed,n.depth,n.fit)),e=n.move;for(let s=n.depth+1;s<=e.depth;s++){let r=e.node(s),i=r.type.contentMatch.fillBefore(r.content,!0,e.index(s));this.openFrontierNode(r.type,r.attrs,i)}return e}openFrontierNode(e,n=null,s){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Hc(this.placed,this.depth,ce.from(e.create(n,s))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ce.empty,!0);n.childCount&&(this.placed=Hc(this.placed,this.frontier.length,n))}}function qc(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(qc(t.firstChild.content,e-1,n)))}function Hc(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Hc(t.lastChild.content,e-1,n)))}function Bx(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function n4(t,e,n){if(e<=0)return t;let s=t.content;return e>1&&(s=s.replaceChild(0,n4(s.firstChild,e-1,s.childCount==1?n-1:0))),e>0&&(s=t.type.contentMatch.fillBefore(s).append(s),n<=0&&(s=s.append(t.type.contentMatch.matchFragment(s).fillBefore(ce.empty,!0)))),t.copy(s)}function zx(t,e,n,s,r){let i=t.node(e),l=r?t.indexAfter(e):t.index(e);if(l==i.childCount&&!n.compatibleContent(i.type))return null;let u=s.fillBefore(i.content,!0,l);return u&&!MK(n,i.content,l)?u:null}function MK(t,e,n){for(let s=n;s<e.childCount;s++)if(!t.allowsMarks(e.child(s).marks))return!0;return!1}function AK(t){return t.spec.defining||t.spec.definingForContent}function _K(t,e,n,s){if(!s.size)return t.deleteRange(e,n);let r=t.doc.resolve(e),i=t.doc.resolve(n);if(t4(r,i,s))return t.step(new qt(e,n,s));let l=r4(r,i);l[l.length-1]==0&&l.pop();let u=-(r.depth+1);l.unshift(u);for(let x=r.depth,y=r.pos-1;x>0;x--,y--){let b=r.node(x).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;l.indexOf(x)>-1?u=x:r.before(x)==y&&l.splice(1,0,-x)}let d=l.indexOf(u),h=[],p=s.openStart;for(let x=s.content,y=0;;y++){let b=x.firstChild;if(h.push(b),y==s.openStart)break;x=b.content}for(let x=p-1;x>=0;x--){let y=h[x],b=AK(y.type);if(b&&!y.sameMarkup(r.node(Math.abs(u)-1)))p=x;else if(b||!y.type.isTextblock)break}for(let x=s.openStart;x>=0;x--){let y=(x+p+1)%(s.openStart+1),b=h[y];if(b)for(let j=0;j<l.length;j++){let w=l[(j+d)%l.length],C=!0;w<0&&(C=!1,w=-w);let M=r.node(w-1),E=r.index(w-1);if(M.canReplaceWith(E,E,b.type,b.marks))return t.replace(r.before(w),C?i.after(w):n,new pe(s4(s.content,0,s.openStart,y),y,s.openEnd))}}let m=t.steps.length;for(let x=l.length-1;x>=0&&(t.replace(e,n,s),!(t.steps.length>m));x--){let y=l[x];y<0||(e=r.before(y),n=i.after(y))}}function s4(t,e,n,s,r){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(s4(i.content,e+1,n,s,i)))}if(e>s){let i=r.contentMatchAt(0),l=i.fillBefore(t).append(t);t=l.append(i.matchFragment(l).fillBefore(ce.empty,!0))}return t}function DK(t,e,n,s){if(!s.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=EK(t.doc,e,s.type);r!=null&&(e=n=r)}t.replaceRange(e,n,new pe(ce.from(s),0,0))}function OK(t,e,n){let s=t.doc.resolve(e),r=t.doc.resolve(n),i=r4(s,r);for(let l=0;l<i.length;l++){let u=i[l],d=l==i.length-1;if(d&&u==0||s.node(u).type.contentMatch.validEnd)return t.delete(s.start(u),r.end(u));if(u>0&&(d||s.node(u-1).canReplace(s.index(u-1),r.indexAfter(u-1))))return t.delete(s.before(u),r.after(u))}for(let l=1;l<=s.depth&&l<=r.depth;l++)if(e-s.start(l)==s.depth-l&&n>s.end(l)&&r.end(l)-n!=r.depth-l&&s.start(l-1)==r.start(l-1)&&s.node(l-1).canReplace(s.index(l-1),r.index(l-1)))return t.delete(s.before(l),n);t.delete(e,n)}function r4(t,e){let n=[],s=Math.min(t.depth,e.depth);for(let r=s;r>=0;r--){let i=t.start(r);if(i<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(i==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==i-1)&&n.push(r)}return n}class ll extends pn{constructor(e,n,s){super(),this.pos=e,this.attr=n,this.value=s}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ot.fail("No node at attribute step's position");let s=Object.create(null);for(let i in n.attrs)s[i]=n.attrs[i];s[this.attr]=this.value;let r=n.type.create(s,null,n.marks);return Ot.fromReplace(e,this.pos,this.pos+1,new pe(ce.from(r),0,n.isLeaf?0:1))}getMap(){return Hn.empty}invert(e){return new ll(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ll(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ll(n.pos,n.attr,n.value)}}pn.jsonID("attr",ll);class Ru extends pn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let r in e.attrs)n[r]=e.attrs[r];n[this.attr]=this.value;let s=e.type.create(n,e.content,e.marks);return Ot.ok(s)}getMap(){return Hn.empty}invert(e){return new Ru(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ru(n.attr,n.value)}}pn.jsonID("docAttr",Ru);let xl=class extends Error{};xl=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};xl.prototype=Object.create(Error.prototype);xl.prototype.constructor=xl;xl.prototype.name="TransformError";class i4{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Ou}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new xl(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,s=pe.empty){let r=mm(this.doc,e,n,s);return r&&this.step(r),this}replaceWith(e,n,s){return this.replace(e,n,new pe(ce.from(s),0,0))}delete(e,n){return this.replace(e,n,pe.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,s){return _K(this,e,n,s),this}replaceRangeWith(e,n,s){return DK(this,e,n,s),this}deleteRange(e,n){return OK(this,e,n),this}lift(e,n){return xK(this,e,n),this}join(e,n=1){return kK(this,e,n),this}wrap(e,n){return vK(this,e,n),this}setBlockType(e,n=e,s,r=null){return wK(this,e,n,s,r),this}setNodeMarkup(e,n,s=null,r){return jK(this,e,n,s,r),this}setNodeAttribute(e,n,s){return this.step(new ll(e,n,s)),this}setDocAttribute(e,n){return this.step(new Ru(e,n)),this}addNodeMark(e,n){return this.step(new Ri(e,n)),this}removeNodeMark(e,n){let s=this.doc.nodeAt(e);if(!s)throw new RangeError("No node at position "+e);if(n instanceof it)n.isInSet(s.marks)&&this.step(new Ga(e,n));else{let r=s.marks,i,l=[];for(;i=n.isInSet(r);)l.push(new Ga(e,i)),r=i.removeFromSet(r);for(let u=l.length-1;u>=0;u--)this.step(l[u])}return this}split(e,n=1,s){return SK(this,e,n,s),this}addMark(e,n,s){return pK(this,e,n,s),this}removeMark(e,n,s){return mK(this,e,n,s),this}clearIncompatible(e,n,s){return Uv(this,e,n,s),this}}const Ix=Object.create(null);class Le{constructor(e,n,s){this.$anchor=e,this.$head=n,this.ranges=s||[new RK(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=pe.empty){let s=n.content.lastChild,r=null;for(let u=0;u<n.openEnd;u++)r=s,s=s.lastChild;let i=e.steps.length,l=this.ranges;for(let u=0;u<l.length;u++){let{$from:d,$to:h}=l[u],p=e.mapping.slice(i);e.replaceRange(p.map(d.pos),p.map(h.pos),u?pe.empty:n),u==0&&Gk(e,i,(s?s.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,n){let s=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:l,$to:u}=r[i],d=e.mapping.slice(s),h=d.map(l.pos),p=d.map(u.pos);i?e.deleteRange(h,p):(e.replaceRangeWith(h,p,n),Gk(e,s,n.isInline?-1:1))}}static findFrom(e,n,s=!1){let r=e.parent.inlineContent?new Te(e):Jo(e.node(0),e.parent,e.pos,e.index(),n,s);if(r)return r;for(let i=e.depth-1;i>=0;i--){let l=n<0?Jo(e.node(0),e.node(i),e.before(i+1),e.index(i),n,s):Jo(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,s);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Gn(e.node(0))}static atStart(e){return Jo(e,e,0,0,1)||new Gn(e)}static atEnd(e){return Jo(e,e,e.content.size,e.childCount,-1)||new Gn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let s=Ix[n.type];if(!s)throw new RangeError(`No selection type ${n.type} defined`);return s.fromJSON(e,n)}static jsonID(e,n){if(e in Ix)throw new RangeError("Duplicate use of selection JSON ID "+e);return Ix[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Te.between(this.$anchor,this.$head).getBookmark()}}Le.prototype.visible=!0;class RK{constructor(e,n){this.$from=e,this.$to=n}}let Hk=!1;function Kk(t){!Hk&&!t.parent.inlineContent&&(Hk=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Te extends Le{constructor(e,n=e){Kk(e),Kk(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let s=e.resolve(n.map(this.head));if(!s.parent.inlineContent)return Le.near(s);let r=e.resolve(n.map(this.anchor));return new Te(r.parent.inlineContent?r:s,s)}replace(e,n=pe.empty){if(super.replace(e,n),n==pe.empty){let s=this.$from.marksAcross(this.$to);s&&e.ensureMarks(s)}}eq(e){return e instanceof Te&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new gm(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Te(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,s=n){let r=e.resolve(n);return new this(r,s==n?r:e.resolve(s))}static between(e,n,s){let r=e.pos-n.pos;if((!s||r)&&(s=r>=0?1:-1),!n.parent.inlineContent){let i=Le.findFrom(n,s,!0)||Le.findFrom(n,-s,!0);if(i)n=i.$head;else return Le.near(n,s)}return e.parent.inlineContent||(r==0?e=n:(e=(Le.findFrom(e,-s,!0)||Le.findFrom(e,s,!0)).$anchor,e.pos<n.pos!=r<0&&(e=n))),new Te(e,n)}}Le.jsonID("text",Te);class gm{constructor(e,n){this.anchor=e,this.head=n}map(e){return new gm(e.map(this.anchor),e.map(this.head))}resolve(e){return Te.between(e.resolve(this.anchor),e.resolve(this.head))}}class we extends Le{constructor(e){let n=e.nodeAfter,s=e.node(0).resolve(e.pos+n.nodeSize);super(e,s),this.node=n}map(e,n){let{deleted:s,pos:r}=n.mapResult(this.anchor),i=e.resolve(r);return s?Le.near(i):new we(i)}content(){return new pe(ce.from(this.node),0,0)}eq(e){return e instanceof we&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Fv(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new we(e.resolve(n.anchor))}static create(e,n){return new we(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}we.prototype.visible=!1;Le.jsonID("node",we);class Fv{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:s}=e.mapResult(this.anchor);return n?new gm(s,s):new Fv(s)}resolve(e){let n=e.resolve(this.anchor),s=n.nodeAfter;return s&&we.isSelectable(s)?new we(n):Le.near(n)}}class Gn extends Le{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=pe.empty){if(n==pe.empty){e.delete(0,e.doc.content.size);let s=Le.atStart(e.doc);s.eq(e.selection)||e.setSelection(s)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Gn(e)}map(e){return new Gn(e)}eq(e){return e instanceof Gn}getBookmark(){return LK}}Le.jsonID("all",Gn);const LK={map(){return this},resolve(t){return new Gn(t)}};function Jo(t,e,n,s,r,i=!1){if(e.inlineContent)return Te.create(t,n);for(let l=s-(r>0?0:1);r>0?l<e.childCount:l>=0;l+=r){let u=e.child(l);if(u.isAtom){if(!i&&we.isSelectable(u))return we.create(t,n-(r<0?u.nodeSize:0))}else{let d=Jo(t,u,n+r,r<0?u.childCount:0,r,i);if(d)return d}n+=u.nodeSize*r}return null}function Gk(t,e,n){let s=t.steps.length-1;if(s<e)return;let r=t.steps[s];if(!(r instanceof qt||r instanceof Gt))return;let i=t.mapping.maps[s],l;i.forEach((u,d,h,p)=>{l==null&&(l=p)}),t.setSelection(Le.near(t.doc.resolve(l),n))}const Qk=1,Gf=2,Yk=4;class PK extends i4{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Qk)&~Gf,this.storedMarks=null,this}get selectionSet(){return(this.updated&Qk)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Gf,this}ensureMarks(e){return it.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Gf)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Gf,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let s=this.selection;return n&&(e=e.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||it.none))),s.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,s){let r=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(s==null&&(s=n),!e)return this.deleteRange(n,s);let i=this.storedMarks;if(!i){let l=this.doc.resolve(n);i=s==n?l.marks():l.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(n,s,r.text(e,i)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Le.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Yk,this}get scrolledIntoView(){return(this.updated&Yk)>0}}function Jk(t,e){return!e||!t?t:t.bind(e)}class Kc{constructor(e,n,s){this.name=e,this.init=Jk(n.init,s),this.apply=Jk(n.apply,s)}}const BK=[new Kc("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Kc("selection",{init(t,e){return t.selection||Le.atStart(e.doc)},apply(t){return t.selection}}),new Kc("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,s){return s.selection.$cursor?t.storedMarks:null}}),new Kc("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Vx{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=BK.slice(),n&&n.forEach(s=>{if(this.pluginsByKey[s.key])throw new RangeError("Adding different instances of a keyed plugin ("+s.key+")");this.plugins.push(s),this.pluginsByKey[s.key]=s,s.spec.state&&this.fields.push(new Kc(s.key,s.spec.state,s))})}}class al{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let s=0;s<this.config.plugins.length;s++)if(s!=n){let r=this.config.plugins[s];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],s=this.applyInner(e),r=null;for(;;){let i=!1;for(let l=0;l<this.config.plugins.length;l++){let u=this.config.plugins[l];if(u.spec.appendTransaction){let d=r?r[l].n:0,h=r?r[l].state:this,p=d<n.length&&u.spec.appendTransaction.call(u,d?n.slice(d):n,h,s);if(p&&s.filterTransaction(p,l)){if(p.setMeta("appendedTransaction",e),!r){r=[];for(let m=0;m<this.config.plugins.length;m++)r.push(m<l?{state:s,n:n.length}:{state:this,n:0})}n.push(p),s=s.applyInner(p),i=!0}r&&(r[l]={state:s,n:n.length})}}if(!i)return{state:s,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new al(this.config),s=this.config.fields;for(let r=0;r<s.length;r++){let i=s[r];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new PK(this)}static create(e){let n=new Vx(e.doc?e.doc.type.schema:e.schema,e.plugins),s=new al(n);for(let r=0;r<n.fields.length;r++)s[n.fields[r].name]=n.fields[r].init(e,s);return s}reconfigure(e){let n=new Vx(this.schema,e.plugins),s=n.fields,r=new al(n);for(let i=0;i<s.length;i++){let l=s[i].name;r[l]=this.hasOwnProperty(l)?this[l]:s[i].init(e,r)}return r}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(s=>s.toJSON())),e&&typeof e=="object")for(let s in e){if(s=="doc"||s=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[s],i=r.spec.state;i&&i.toJSON&&(n[s]=i.toJSON.call(r,this[r.key]))}return n}static fromJSON(e,n,s){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new Vx(e.schema,e.plugins),i=new al(r);return r.fields.forEach(l=>{if(l.name=="doc")i.doc=Ds.fromJSON(e.schema,n.doc);else if(l.name=="selection")i.selection=Le.fromJSON(i.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(s)for(let u in s){let d=s[u],h=d.spec.state;if(d.key==l.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(n,u)){i[l.name]=h.fromJSON.call(d,e,n[u],i);return}}i[l.name]=l.init(e,i)}}),i}}function a4(t,e,n){for(let s in t){let r=t[s];r instanceof Function?r=r.bind(e):s=="handleDOMEvents"&&(r=a4(r,e,{})),n[s]=r}return n}class gt{constructor(e){this.spec=e,this.props={},e.props&&a4(e.props,this,this.props),this.key=e.key?e.key.key:o4("plugin")}getState(e){return e[this.key]}}const Ux=Object.create(null);function o4(t){return t in Ux?t+"$"+ ++Ux[t]:(Ux[t]=0,t+"$")}class It{constructor(e="key"){this.key=o4(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const qv=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function l4(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const c4=(t,e,n)=>{let s=l4(t,n);if(!s)return!1;let r=Hv(s);if(!r){let l=s.blockRange(),u=l&&Rl(l);return u==null?!1:(e&&e(t.tr.lift(l,u).scrollIntoView()),!0)}let i=r.nodeBefore;if(y4(t,r,e,-1))return!0;if(s.parent.content.size==0&&(yl(i,"end")||we.isSelectable(i)))for(let l=s.depth;;l--){let u=mm(t.doc,s.before(l),s.after(l),pe.empty);if(u&&u.slice.size<u.to-u.from){if(e){let d=t.tr.step(u);d.setSelection(yl(i,"end")?Le.findFrom(d.doc.resolve(d.mapping.map(r.pos,-1)),-1):we.create(d.doc,r.pos-i.nodeSize)),e(d.scrollIntoView())}return!0}if(l==1||s.node(l-1).childCount>1)break}return i.isAtom&&r.depth==s.depth-1?(e&&e(t.tr.delete(r.pos-i.nodeSize,r.pos).scrollIntoView()),!0):!1},zK=(t,e,n)=>{let s=l4(t,n);if(!s)return!1;let r=Hv(s);return r?u4(t,r,e):!1},IK=(t,e,n)=>{let s=f4(t,n);if(!s)return!1;let r=Kv(s);return r?u4(t,r,e):!1};function u4(t,e,n){let s=e.nodeBefore,r=s,i=e.pos-1;for(;!r.isTextblock;i--){if(r.type.spec.isolating)return!1;let p=r.lastChild;if(!p)return!1;r=p}let l=e.nodeAfter,u=l,d=e.pos+1;for(;!u.isTextblock;d++){if(u.type.spec.isolating)return!1;let p=u.firstChild;if(!p)return!1;u=p}let h=mm(t.doc,i,d,pe.empty);if(!h||h.from!=i||h instanceof qt&&h.slice.size>=d-i)return!1;if(n){let p=t.tr.step(h);p.setSelection(Te.create(p.doc,i)),n(p.scrollIntoView())}return!0}function yl(t,e,n=!1){for(let s=t;s;s=e=="start"?s.firstChild:s.lastChild){if(s.isTextblock)return!0;if(n&&s.childCount!=1)return!1}return!1}const d4=(t,e,n)=>{let{$head:s,empty:r}=t.selection,i=s;if(!r)return!1;if(s.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):s.parentOffset>0)return!1;i=Hv(s)}let l=i&&i.nodeBefore;return!l||!we.isSelectable(l)?!1:(e&&e(t.tr.setSelection(we.create(t.doc,i.pos-l.nodeSize)).scrollIntoView()),!0)};function Hv(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function f4(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const h4=(t,e,n)=>{let s=f4(t,n);if(!s)return!1;let r=Kv(s);if(!r)return!1;let i=r.nodeAfter;if(y4(t,r,e,1))return!0;if(s.parent.content.size==0&&(yl(i,"start")||we.isSelectable(i))){let l=mm(t.doc,s.before(),s.after(),pe.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=t.tr.step(l);u.setSelection(yl(i,"start")?Le.findFrom(u.doc.resolve(u.mapping.map(r.pos)),1):we.create(u.doc,u.mapping.map(r.pos))),e(u.scrollIntoView())}return!0}}return i.isAtom&&r.depth==s.depth-1?(e&&e(t.tr.delete(r.pos,r.pos+i.nodeSize).scrollIntoView()),!0):!1},p4=(t,e,n)=>{let{$head:s,empty:r}=t.selection,i=s;if(!r)return!1;if(s.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):s.parentOffset<s.parent.content.size)return!1;i=Kv(s)}let l=i&&i.nodeAfter;return!l||!we.isSelectable(l)?!1:(e&&e(t.tr.setSelection(we.create(t.doc,i.pos)).scrollIntoView()),!0)};function Kv(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const VK=(t,e)=>{let n=t.selection,s=n instanceof we,r;if(s){if(n.node.isTextblock||!Xi(t.doc,n.from))return!1;r=n.from}else if(r=pm(t.doc,n.from,-1),r==null)return!1;if(e){let i=t.tr.join(r);s&&i.setSelection(we.create(i.doc,r-t.doc.resolve(r).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},UK=(t,e)=>{let n=t.selection,s;if(n instanceof we){if(n.node.isTextblock||!Xi(t.doc,n.to))return!1;s=n.to}else if(s=pm(t.doc,n.to,1),s==null)return!1;return e&&e(t.tr.join(s).scrollIntoView()),!0},$K=(t,e)=>{let{$from:n,$to:s}=t.selection,r=n.blockRange(s),i=r&&Rl(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},m4=(t,e)=>{let{$head:n,$anchor:s}=t.selection;return!n.parent.type.spec.code||!n.sameParent(s)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Gv(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const FK=(t,e)=>{let{$head:n,$anchor:s}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(s))return!1;let r=n.node(-1),i=n.indexAfter(-1),l=Gv(r.contentMatchAt(i));if(!l||!r.canReplaceWith(i,i,l))return!1;if(e){let u=n.after(),d=t.tr.replaceWith(u,u,l.createAndFill());d.setSelection(Le.near(d.doc.resolve(u),1)),e(d.scrollIntoView())}return!0},g4=(t,e)=>{let n=t.selection,{$from:s,$to:r}=n;if(n instanceof Gn||s.parent.inlineContent||r.parent.inlineContent)return!1;let i=Gv(r.parent.contentMatchAt(r.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let l=(!s.parentOffset&&r.index()<r.parent.childCount?s:r).pos,u=t.tr.insert(l,i.createAndFill());u.setSelection(Te.create(u.doc,l+1)),e(u.scrollIntoView())}return!0},x4=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Ur(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let s=n.blockRange(),r=s&&Rl(s);return r==null?!1:(e&&e(t.tr.lift(s,r).scrollIntoView()),!0)};function qK(t){return(e,n)=>{let{$from:s,$to:r}=e.selection;if(e.selection instanceof we&&e.selection.node.isBlock)return!s.parentOffset||!Ur(e.doc,s.pos)?!1:(n&&n(e.tr.split(s.pos).scrollIntoView()),!0);if(!s.depth)return!1;let i=[],l,u,d=!1,h=!1;for(let y=s.depth;;y--)if(s.node(y).isBlock){d=s.end(y)==s.pos+(s.depth-y),h=s.start(y)==s.pos-(s.depth-y),u=Gv(s.node(y-1).contentMatchAt(s.indexAfter(y-1))),i.unshift(d&&u?{type:u}:null),l=y;break}else{if(y==1)return!1;i.unshift(null)}let p=e.tr;(e.selection instanceof Te||e.selection instanceof Gn)&&p.deleteSelection();let m=p.mapping.map(s.pos),x=Ur(p.doc,m,i.length,i);if(x||(i[0]=u?{type:u}:null,x=Ur(p.doc,m,i.length,i)),!x)return!1;if(p.split(m,i.length,i),!d&&h&&s.node(l).type!=u){let y=p.mapping.map(s.before(l)),b=p.doc.resolve(y);u&&s.node(l-1).canReplaceWith(b.index(),b.index()+1,u)&&p.setNodeMarkup(p.mapping.map(s.before(l)),u)}return n&&n(p.scrollIntoView()),!0}}const HK=qK(),KK=(t,e)=>{let{$from:n,to:s}=t.selection,r,i=n.sharedDepth(s);return i==0?!1:(r=n.before(i),e&&e(t.tr.setSelection(we.create(t.doc,r))),!0)};function GK(t,e,n){let s=e.nodeBefore,r=e.nodeAfter,i=e.index();return!s||!r||!s.type.compatibleContent(r.type)?!1:!s.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-s.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(r.isTextblock||Xi(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function y4(t,e,n,s){let r=e.nodeBefore,i=e.nodeAfter,l,u,d=r.type.spec.isolating||i.type.spec.isolating;if(!d&&GK(t,e,n))return!0;let h=!d&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(l=(u=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&u.matchType(l[0]||i.type).validEnd){if(n){let y=e.pos+i.nodeSize,b=ce.empty;for(let C=l.length-1;C>=0;C--)b=ce.from(l[C].create(null,b));b=ce.from(r.copy(b));let j=t.tr.step(new Gt(e.pos-1,y,e.pos,y,new pe(b,1,0),l.length,!0)),w=j.doc.resolve(y+2*l.length);w.nodeAfter&&w.nodeAfter.type==r.type&&Xi(j.doc,w.pos)&&j.join(w.pos),n(j.scrollIntoView())}return!0}let p=i.type.spec.isolating||s>0&&d?null:Le.findFrom(e,1),m=p&&p.$from.blockRange(p.$to),x=m&&Rl(m);if(x!=null&&x>=e.depth)return n&&n(t.tr.lift(m,x).scrollIntoView()),!0;if(h&&yl(i,"start",!0)&&yl(r,"end")){let y=r,b=[];for(;b.push(y),!y.isTextblock;)y=y.lastChild;let j=i,w=1;for(;!j.isTextblock;j=j.firstChild)w++;if(y.canReplace(y.childCount,y.childCount,j.content)){if(n){let C=ce.empty;for(let E=b.length-1;E>=0;E--)C=ce.from(b[E].copy(C));let M=t.tr.step(new Gt(e.pos-b.length,e.pos+i.nodeSize,e.pos+w,e.pos+i.nodeSize-w,new pe(C,b.length,0),0,!0));n(M.scrollIntoView())}return!0}}return!1}function b4(t){return function(e,n){let s=e.selection,r=t<0?s.$from:s.$to,i=r.depth;for(;r.node(i).isInline;){if(!i)return!1;i--}return r.node(i).isTextblock?(n&&n(e.tr.setSelection(Te.create(e.doc,t<0?r.start(i):r.end(i)))),!0):!1}}const QK=b4(-1),YK=b4(1);function JK(t,e=null){return function(n,s){let{$from:r,$to:i}=n.selection,l=r.blockRange(i),u=l&&$v(l,t,e);return u?(s&&s(n.tr.wrap(l,u).scrollIntoView()),!0):!1}}function Xk(t,e=null){return function(n,s){let r=!1;for(let i=0;i<n.selection.ranges.length&&!r;i++){let{$from:{pos:l},$to:{pos:u}}=n.selection.ranges[i];n.doc.nodesBetween(l,u,(d,h)=>{if(r)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)r=!0;else{let p=n.doc.resolve(h),m=p.index();r=p.parent.canReplaceWith(m,m+1,t)}})}if(!r)return!1;if(s){let i=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:u},$to:{pos:d}}=n.selection.ranges[l];i.setBlockType(u,d,t,e)}s(i.scrollIntoView())}return!0}}function Qv(...t){return function(e,n,s){for(let r=0;r<t.length;r++)if(t[r](e,n,s))return!0;return!1}}Qv(qv,c4,d4);Qv(qv,h4,p4);Qv(m4,g4,x4,HK);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function XK(t,e=null){return function(n,s){let{$from:r,$to:i}=n.selection,l=r.blockRange(i);if(!l)return!1;let u=s?n.tr:null;return WK(u,l,t,e)?(s&&s(u.scrollIntoView()),!0):!1}}function WK(t,e,n,s=null){let r=!1,i=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=l.resolve(e.start-2);i=new Hh(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new Hh(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),r=!0}let u=$v(i,n,s,e);return u?(t&&ZK(t,e,u,r,n),!0):!1}function ZK(t,e,n,s,r){let i=ce.empty;for(let p=n.length-1;p>=0;p--)i=ce.from(n[p].type.create(n[p].attrs,i));t.step(new Gt(e.start-(s?2:0),e.end,e.start,e.end,new pe(i,0,0),n.length,!0));let l=0;for(let p=0;p<n.length;p++)n[p].type==r&&(l=p+1);let u=n.length-l,d=e.start+n.length-(s?2:0),h=e.parent;for(let p=e.startIndex,m=e.endIndex,x=!0;p<m;p++,x=!1)!x&&Ur(t.doc,d,u)&&(t.split(d,u),d+=2*u),d+=h.child(p).nodeSize;return t}function eG(t){return function(e,n){let{$from:s,$to:r}=e.selection,i=s.blockRange(r,l=>l.childCount>0&&l.firstChild.type==t);return i?n?s.node(i.depth-1).type==t?tG(e,n,t,i):nG(e,n,i):!0:!1}}function tG(t,e,n,s){let r=t.tr,i=s.end,l=s.$to.end(s.depth);i<l&&(r.step(new Gt(i-1,l,i,l,new pe(ce.from(n.create(null,s.parent.copy())),1,0),1,!0)),s=new Hh(r.doc.resolve(s.$from.pos),r.doc.resolve(l),s.depth));const u=Rl(s);if(u==null)return!1;r.lift(s,u);let d=r.doc.resolve(r.mapping.map(i,-1)-1);return Xi(r.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&r.join(d.pos),e(r.scrollIntoView()),!0}function nG(t,e,n){let s=t.tr,r=n.parent;for(let y=n.end,b=n.endIndex-1,j=n.startIndex;b>j;b--)y-=r.child(b).nodeSize,s.delete(y-1,y+1);let i=s.doc.resolve(n.start),l=i.nodeAfter;if(s.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let u=n.startIndex==0,d=n.endIndex==r.childCount,h=i.node(-1),p=i.index(-1);if(!h.canReplace(p+(u?0:1),p+1,l.content.append(d?ce.empty:ce.from(r))))return!1;let m=i.pos,x=m+l.nodeSize;return s.step(new Gt(m-(u?1:0),x+(d?1:0),m+1,x-1,new pe((u?ce.empty:ce.from(r.copy(ce.empty))).append(d?ce.empty:ce.from(r.copy(ce.empty))),u?0:1,d?0:1),u?0:1)),e(s.scrollIntoView()),!0}function sG(t){return function(e,n){let{$from:s,$to:r}=e.selection,i=s.blockRange(r,h=>h.childCount>0&&h.firstChild.type==t);if(!i)return!1;let l=i.startIndex;if(l==0)return!1;let u=i.parent,d=u.child(l-1);if(d.type!=t)return!1;if(n){let h=d.lastChild&&d.lastChild.type==u.type,p=ce.from(h?t.create():null),m=new pe(ce.from(t.create(null,ce.from(u.type.create(null,p)))),h?3:1,0),x=i.start,y=i.end;n(e.tr.step(new Gt(x-(h?3:1),y,x,y,m,1,!0)).scrollIntoView())}return!0}}const sn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},bl=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let lb=null;const Lr=function(t,e,n){let s=lb||(lb=document.createRange());return s.setEnd(t,n??t.nodeValue.length),s.setStart(t,e||0),s},rG=function(){lb=null},Qa=function(t,e,n,s){return n&&(Wk(t,e,n,s,-1)||Wk(t,e,n,s,1))},iG=/^(img|br|input|textarea|hr)$/i;function Wk(t,e,n,s,r){for(var i;;){if(t==n&&e==s)return!0;if(e==(r<0?0:ms(t))){let l=t.parentNode;if(!l||l.nodeType!=1||id(t)||iG.test(t.nodeName)||t.contentEditable=="false")return!1;e=sn(t)+(r<0?0:1),t=l}else if(t.nodeType==1){let l=t.childNodes[e+(r<0?-1:0)];if(l.nodeType==1&&l.contentEditable=="false")if(!((i=l.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=r;else return!1;else t=l,e=r<0?ms(t):0}else return!1}}function ms(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function aG(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=ms(t)}else if(t.parentNode&&!id(t))e=sn(t),t=t.parentNode;else return null}}function oG(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!id(t))e=sn(t)+1,t=t.parentNode;else return null}}function lG(t,e,n){for(let s=e==0,r=e==ms(t);s||r;){if(t==n)return!0;let i=sn(t);if(t=t.parentNode,!t)return!1;s=s&&i==0,r=r&&i==ms(t)}}function id(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const xm=function(t){return t.focusNode&&Qa(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Sa(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function cG(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function uG(t,e,n){if(t.caretPositionFromPoint)try{let s=t.caretPositionFromPoint(e,n);if(s)return{node:s.offsetNode,offset:Math.min(ms(s.offsetNode),s.offset)}}catch{}if(t.caretRangeFromPoint){let s=t.caretRangeFromPoint(e,n);if(s)return{node:s.startContainer,offset:Math.min(ms(s.startContainer),s.startOffset)}}}const sr=typeof navigator<"u"?navigator:null,Zk=typeof document<"u"?document:null,Wi=sr&&sr.userAgent||"",cb=/Edge\/(\d+)/.exec(Wi),v4=/MSIE \d/.exec(Wi),ub=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Wi),_n=!!(v4||ub||cb),Bi=v4?document.documentMode:ub?+ub[1]:cb?+cb[1]:0,ys=!_n&&/gecko\/(\d+)/i.test(Wi);ys&&+(/Firefox\/(\d+)/.exec(Wi)||[0,0])[1];const db=!_n&&/Chrome\/(\d+)/.exec(Wi),Kt=!!db,w4=db?+db[1]:0,fn=!_n&&!!sr&&/Apple Computer/.test(sr.vendor),vl=fn&&(/Mobile\/\w+/.test(Wi)||!!sr&&sr.maxTouchPoints>2),ps=vl||(sr?/Mac/.test(sr.platform):!1),N4=sr?/Win/.test(sr.platform):!1,Br=/Android \d/.test(Wi),ad=!!Zk&&"webkitFontSmoothing"in Zk.documentElement.style,dG=ad?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function fG(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function _r(t,e){return typeof t=="number"?t:t[e]}function hG(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,s=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*s}}function eE(t,e,n){let s=t.someProp("scrollThreshold")||0,r=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let l=n||t.dom;l;){if(l.nodeType!=1){l=bl(l);continue}let u=l,d=u==i.body,h=d?fG(i):hG(u),p=0,m=0;if(e.top<h.top+_r(s,"top")?m=-(h.top-e.top+_r(r,"top")):e.bottom>h.bottom-_r(s,"bottom")&&(m=e.bottom-e.top>h.bottom-h.top?e.top+_r(r,"top")-h.top:e.bottom-h.bottom+_r(r,"bottom")),e.left<h.left+_r(s,"left")?p=-(h.left-e.left+_r(r,"left")):e.right>h.right-_r(s,"right")&&(p=e.right-h.right+_r(r,"right")),p||m)if(d)i.defaultView.scrollBy(p,m);else{let y=u.scrollLeft,b=u.scrollTop;m&&(u.scrollTop+=m),p&&(u.scrollLeft+=p);let j=u.scrollLeft-y,w=u.scrollTop-b;e={left:e.left-j,top:e.top-w,right:e.right-j,bottom:e.bottom-w}}let x=d?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(x))break;l=x=="absolute"?l.offsetParent:bl(l)}}function pG(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),s,r;for(let i=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let u=t.root.elementFromPoint(i,l);if(!u||u==t.dom||!t.dom.contains(u))continue;let d=u.getBoundingClientRect();if(d.top>=n-20){s=u,r=d.top;break}}return{refDOM:s,refTop:r,stack:j4(t.dom)}}function j4(t){let e=[],n=t.ownerDocument;for(let s=t;s&&(e.push({dom:s,top:s.scrollTop,left:s.scrollLeft}),t!=n);s=bl(s));return e}function mG({refDOM:t,refTop:e,stack:n}){let s=t?t.getBoundingClientRect().top:0;S4(n,s==0?0:s-e)}function S4(t,e){for(let n=0;n<t.length;n++){let{dom:s,top:r,left:i}=t[n];s.scrollTop!=r+e&&(s.scrollTop=r+e),s.scrollLeft!=i&&(s.scrollLeft=i)}}let Go=null;function gG(t){if(t.setActive)return t.setActive();if(Go)return t.focus(Go);let e=j4(t);t.focus(Go==null?{get preventScroll(){return Go={preventScroll:!0},!0}}:void 0),Go||(Go=!1,S4(e,0))}function C4(t,e){let n,s=2e8,r,i=0,l=e.top,u=e.top,d,h;for(let p=t.firstChild,m=0;p;p=p.nextSibling,m++){let x;if(p.nodeType==1)x=p.getClientRects();else if(p.nodeType==3)x=Lr(p).getClientRects();else continue;for(let y=0;y<x.length;y++){let b=x[y];if(b.top<=l&&b.bottom>=u){l=Math.max(b.bottom,l),u=Math.min(b.top,u);let j=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(j<s){n=p,s=j,r=j&&n.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,p.nodeType==1&&j&&(i=m+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!d&&b.left<=e.left&&b.right>=e.left&&(d=p,h={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!n&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(i=m+1)}}return!n&&d&&(n=d,r=h,s=0),n&&n.nodeType==3?xG(n,r):!n||s&&n.nodeType==1?{node:t,offset:i}:C4(n,r)}function xG(t,e){let n=t.nodeValue.length,s=document.createRange(),r;for(let i=0;i<n;i++){s.setEnd(t,i+1),s.setStart(t,i);let l=Ci(s,1);if(l.top!=l.bottom&&Yv(e,l)){r={node:t,offset:i+(e.left>=(l.left+l.right)/2?1:0)};break}}return s.detach(),r||{node:t,offset:0}}function Yv(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function yG(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function bG(t,e,n){let{node:s,offset:r}=C4(e,n),i=-1;if(s.nodeType==1&&!s.firstChild){let l=s.getBoundingClientRect();i=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(s,r,i)}function vG(t,e,n,s){let r=-1;for(let i=e,l=!1;i!=t.dom;){let u=t.docView.nearestDesc(i,!0),d;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((d=u.dom.getBoundingClientRect()).width||d.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!l&&d.left>s.left||d.top>s.top?r=u.posBefore:(!l&&d.right<s.left||d.bottom<s.top)&&(r=u.posAfter),l=!0),!u.contentDOM&&r<0&&!u.node.isText))return(u.node.isBlock?s.top<(d.top+d.bottom)/2:s.left<(d.left+d.right)/2)?u.posBefore:u.posAfter;i=u.dom.parentNode}return r>-1?r:t.docView.posFromDOM(e,n,-1)}function k4(t,e,n){let s=t.childNodes.length;if(s&&n.top<n.bottom)for(let r=Math.max(0,Math.min(s-1,Math.floor(s*(e.top-n.top)/(n.bottom-n.top))-2)),i=r;;){let l=t.childNodes[i];if(l.nodeType==1){let u=l.getClientRects();for(let d=0;d<u.length;d++){let h=u[d];if(Yv(e,h))return k4(l,e,h)}}if((i=(i+1)%s)==r)break}return t}function wG(t,e){let n=t.dom.ownerDocument,s,r=0,i=uG(n,e.left,e.top);i&&({node:s,offset:r}=i);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),u;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let h=t.dom.getBoundingClientRect();if(!Yv(e,h)||(l=k4(t.dom,e,h),!l))return null}if(fn)for(let h=l;s&&h;h=bl(h))h.draggable&&(s=void 0);if(l=yG(l,e),s){if(ys&&s.nodeType==1&&(r=Math.min(r,s.childNodes.length),r<s.childNodes.length)){let p=s.childNodes[r],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&r++}let h;ad&&r&&s.nodeType==1&&(h=s.childNodes[r-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&r--,s==t.dom&&r==s.childNodes.length-1&&s.lastChild.nodeType==1&&e.top>s.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:(r==0||s.nodeType!=1||s.childNodes[r-1].nodeName!="BR")&&(u=vG(t,s,r,e))}u==null&&(u=bG(t,l,e));let d=t.docView.nearestDesc(l,!0);return{pos:u,inside:d?d.posAtStart-d.border:-1}}function tE(t){return t.top<t.bottom||t.left<t.right}function Ci(t,e){let n=t.getClientRects();if(n.length){let s=n[e<0?0:n.length-1];if(tE(s))return s}return Array.prototype.find.call(n,tE)||t.getBoundingClientRect()}const NG=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function E4(t,e,n){let{node:s,offset:r,atom:i}=t.docView.domFromPos(e,n<0?-1:1),l=ad||ys;if(s.nodeType==3)if(l&&(NG.test(s.nodeValue)||(n<0?!r:r==s.nodeValue.length))){let d=Ci(Lr(s,r,r),n);if(ys&&r&&/\s/.test(s.nodeValue[r-1])&&r<s.nodeValue.length){let h=Ci(Lr(s,r-1,r-1),-1);if(h.top==d.top){let p=Ci(Lr(s,r,r+1),-1);if(p.top!=d.top)return Ic(p,p.left<h.left)}}return d}else{let d=r,h=r,p=n<0?1:-1;return n<0&&!r?(h++,p=-1):n>=0&&r==s.nodeValue.length?(d--,p=1):n<0?d--:h++,Ic(Ci(Lr(s,d,h),p),p<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&r&&(n<0||r==ms(s))){let d=s.childNodes[r-1];if(d.nodeType==1)return $x(d.getBoundingClientRect(),!1)}if(i==null&&r<ms(s)){let d=s.childNodes[r];if(d.nodeType==1)return $x(d.getBoundingClientRect(),!0)}return $x(s.getBoundingClientRect(),n>=0)}if(i==null&&r&&(n<0||r==ms(s))){let d=s.childNodes[r-1],h=d.nodeType==3?Lr(d,ms(d)-(l?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return Ic(Ci(h,1),!1)}if(i==null&&r<ms(s)){let d=s.childNodes[r];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?Lr(d,0,l?0:1):d.nodeType==1?d:null:null;if(h)return Ic(Ci(h,-1),!0)}return Ic(Ci(s.nodeType==3?Lr(s):s,-n),n>=0)}function Ic(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function $x(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function T4(t,e,n){let s=t.state,r=t.root.activeElement;s!=e&&t.updateState(e),r!=t.dom&&t.focus();try{return n()}finally{s!=e&&t.updateState(s),r!=t.dom&&r&&r.focus()}}function jG(t,e,n){let s=e.selection,r=n=="up"?s.$from:s.$to;return T4(t,e,()=>{let{node:i}=t.docView.domFromPos(r.pos,n=="up"?-1:1);for(;;){let u=t.docView.nearestDesc(i,!0);if(!u)break;if(u.node.isBlock){i=u.contentDOM||u.dom;break}i=u.dom.parentNode}let l=E4(t,r.pos,1);for(let u=i.firstChild;u;u=u.nextSibling){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=Lr(u,0,u.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let p=d[h];if(p.bottom>p.top+1&&(n=="up"?l.top-p.top>(p.bottom-l.top)*2:p.bottom-l.bottom>(l.bottom-p.top)*2))return!1}}return!0})}const SG=/[\u0590-\u08ac]/;function CG(t,e,n){let{$head:s}=e.selection;if(!s.parent.isTextblock)return!1;let r=s.parentOffset,i=!r,l=r==s.parent.content.size,u=t.domSelection();return u?!SG.test(s.parent.textContent)||!u.modify?n=="left"||n=="backward"?i:l:T4(t,e,()=>{let{focusNode:d,focusOffset:h,anchorNode:p,anchorOffset:m}=t.domSelectionRange(),x=u.caretBidiLevel;u.modify("move",n,"character");let y=s.depth?t.docView.domAfterPos(s.before()):t.dom,{focusNode:b,focusOffset:j}=t.domSelectionRange(),w=b&&!y.contains(b.nodeType==1?b:b.parentNode)||d==b&&h==j;try{u.collapse(p,m),d&&(d!=p||h!=m)&&u.extend&&u.extend(d,h)}catch{}return x!=null&&(u.caretBidiLevel=x),w}):s.pos==s.start()||s.pos==s.end()}let nE=null,sE=null,rE=!1;function kG(t,e,n){return nE==e&&sE==n?rE:(nE=e,sE=n,rE=n=="up"||n=="down"?jG(t,e,n):CG(t,e,n))}const bs=0,iE=1,Ta=2,rr=3;class od{constructor(e,n,s,r){this.parent=e,this.children=n,this.dom=s,this.contentDOM=r,this.dirty=bs,s.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,s){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,s=this.posAtStart;;n++){let r=this.children[n];if(r==e)return s;s+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,s){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(s<0){let i,l;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((l=i.pmViewDesc)&&l.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(l)+l.size:this.posAtStart}else{let i,l;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((l=i.pmViewDesc)&&l.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(l):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=n>sn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){r=!1;break}if(i.previousSibling)break}if(r==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){r=!0;break}if(i.nextSibling)break}}return r??s>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let s=!0,r=e;r;r=r.parentNode){let i=this.getDesc(r),l;if(i&&(!n||i.node))if(s&&(l=i.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))s=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let s=n;s;s=s.parent)if(s==this)return n}posFromDOM(e,n,s){for(let r=e;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(e,n,s)}return-1}descAt(e){for(let n=0,s=0;n<this.children.length;n++){let r=this.children[n],i=s+r.size;if(s==e&&i!=s){for(;!r.border&&r.children.length;)for(let l=0;l<r.children.length;l++){let u=r.children[l];if(u.size){r=u;break}}return r}if(e<i)return r.descAt(e-s-r.border);s=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let s=0,r=0;for(let i=0;s<this.children.length;s++){let l=this.children[s],u=i+l.size;if(u>e||l instanceof A4){r=e-i;break}i=u}if(r)return this.children[s].domFromPos(r-this.children[s].border,n);for(let i;s&&!(i=this.children[s-1]).size&&i instanceof M4&&i.side>=0;s--);if(n<=0){let i,l=!0;for(;i=s?this.children[s-1]:null,!(!i||i.dom.parentNode==this.contentDOM);s--,l=!1);return i&&n&&l&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?sn(i.dom)+1:0}}else{let i,l=!0;for(;i=s<this.children.length?this.children[s]:null,!(!i||i.dom.parentNode==this.contentDOM);s++,l=!1);return i&&l&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?sn(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,s=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let l=s,u=0;;u++){let d=this.children[u],h=l+d.size;if(r==-1&&e<=h){let p=l+d.border;if(e>=p&&n<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,n,p);e=l;for(let m=u;m>0;m--){let x=this.children[m-1];if(x.size&&x.dom.parentNode==this.contentDOM&&!x.emptyChildAt(1)){r=sn(x.dom)+1;break}e-=x.size}r==-1&&(r=0)}if(r>-1&&(h>n||u==this.children.length-1)){n=h;for(let p=u+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){i=sn(m.dom);break}n+=m.size}i==-1&&(i=this.contentDOM.childNodes.length);break}l=h}return{node:this.contentDOM,from:e,to:n,fromOffset:r,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:s}=this.domFromPos(e,0);if(n.nodeType!=1||s==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[s]}setSelection(e,n,s,r=!1){let i=Math.min(e,n),l=Math.max(e,n);for(let y=0,b=0;y<this.children.length;y++){let j=this.children[y],w=b+j.size;if(i>b&&l<w)return j.setSelection(e-b-j.border,n-b-j.border,s,r);b=w}let u=this.domFromPos(e,e?-1:1),d=n==e?u:this.domFromPos(n,n?-1:1),h=s.root.getSelection(),p=s.domSelectionRange(),m=!1;if((ys||fn)&&e==n){let{node:y,offset:b}=u;if(y.nodeType==3){if(m=!!(b&&y.nodeValue[b-1]==`
`),m&&b==y.nodeValue.length)for(let j=y,w;j;j=j.parentNode){if(w=j.nextSibling){w.nodeName=="BR"&&(u=d={node:w.parentNode,offset:sn(w)+1});break}let C=j.pmViewDesc;if(C&&C.node&&C.node.isBlock)break}}else{let j=y.childNodes[b-1];m=j&&(j.nodeName=="BR"||j.contentEditable=="false")}}if(ys&&p.focusNode&&p.focusNode!=d.node&&p.focusNode.nodeType==1){let y=p.focusNode.childNodes[p.focusOffset];y&&y.contentEditable=="false"&&(r=!0)}if(!(r||m&&fn)&&Qa(u.node,u.offset,p.anchorNode,p.anchorOffset)&&Qa(d.node,d.offset,p.focusNode,p.focusOffset))return;let x=!1;if((h.extend||e==n)&&!(m&&ys)){h.collapse(u.node,u.offset);try{e!=n&&h.extend(d.node,d.offset),x=!0}catch{}}if(!x){if(e>n){let b=u;u=d,d=b}let y=document.createRange();y.setEnd(d.node,d.offset),y.setStart(u.node,u.offset),h.removeAllRanges(),h.addRange(y)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let s=0,r=0;r<this.children.length;r++){let i=this.children[r],l=s+i.size;if(s==l?e<=l&&n>=s:e<l&&n>s){let u=s+i.border,d=l-i.border;if(e>=u&&n<=d){this.dirty=e==s||n==l?Ta:iE,e==u&&n==d&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=rr:i.markDirty(e-u,n-u);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Ta:rr}s=l}this.dirty=Ta}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let s=e==1?Ta:iE;n.dirty<s&&(n.dirty=s)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class M4 extends od{constructor(e,n,s,r){let i,l=n.type.toDOM;if(typeof l=="function"&&(l=l(s,()=>{if(!i)return r;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(l.nodeType!=1){let u=document.createElement("span");u.appendChild(l),l=u}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==bs&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class EG extends od{constructor(e,n,s,r){super(e,[],n,null),this.textDOM=s,this.text=r}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ya extends od{constructor(e,n,s,r,i){super(e,[],s,r),this.mark=n,this.spec=i}static create(e,n,s,r){let i=r.nodeViews[n.type.name],l=i&&i(n,r,s);return(!l||!l.dom)&&(l=Xa.renderSpec(document,n.type.spec.toDOM(n,s),null,n.attrs)),new Ya(e,n,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&rr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=rr&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=bs){let s=this.parent;for(;!s.node;)s=s.parent;s.dirty<this.dirty&&(s.dirty=this.dirty),this.dirty=bs}}slice(e,n,s){let r=Ya.create(this.parent,this.mark,!0,s),i=this.children,l=this.size;n<l&&(i=hb(i,n,l,s)),e>0&&(i=hb(i,0,e,s));for(let u=0;u<i.length;u++)i[u].parent=r;return r.children=i,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class zi extends od{constructor(e,n,s,r,i,l,u,d,h){super(e,[],i,l),this.node=n,this.outerDeco=s,this.innerDeco=r,this.nodeDOM=u}static create(e,n,s,r,i,l){let u=i.nodeViews[n.type.name],d,h=u&&u(n,i,()=>{if(!d)return l;if(d.parent)return d.parent.posBeforeChild(d)},s,r),p=h&&h.dom,m=h&&h.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=Xa.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let x=p;return p=O4(p,s,n),h?d=new TG(e,n,s,r,p,m||null,x,h,i,l+1):n.isText?new ym(e,n,s,r,p,x,i):new zi(e,n,s,r,p,m||null,x,i,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let s=this.children[n];if(this.dom.contains(s.dom.parentNode)){e.contentElement=s.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ce.empty)}return e}matchesNode(e,n,s){return this.dirty==bs&&e.eq(this.node)&&Gh(n,this.outerDeco)&&s.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let s=this.node.inlineContent,r=n,i=e.composing?this.localCompositionInfo(e,n):null,l=i&&i.pos>-1?i:null,u=i&&i.pos<0,d=new AG(this,l&&l.node,e);OG(this.node,this.innerDeco,(h,p,m)=>{h.spec.marks?d.syncToMarks(h.spec.marks,s,e):h.type.side>=0&&!m&&d.syncToMarks(p==this.node.childCount?it.none:this.node.child(p).marks,s,e),d.placeWidget(h,e,r)},(h,p,m,x)=>{d.syncToMarks(h.marks,s,e);let y;d.findNodeMatch(h,p,m,x)||u&&e.state.selection.from>r&&e.state.selection.to<r+h.nodeSize&&(y=d.findIndexWithChild(i.node))>-1&&d.updateNodeAt(h,p,m,y,e)||d.updateNextNode(h,p,m,e,x,r)||d.addNode(h,p,m,e,r),r+=h.nodeSize}),d.syncToMarks([],s,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==Ta)&&(l&&this.protectLocalComposition(e,l),_4(this.contentDOM,this.children,e),vl&&RG(this.dom))}localCompositionInfo(e,n){let{from:s,to:r}=e.state.selection;if(!(e.state.selection instanceof Te)||s<n||r>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let l=i.nodeValue,u=LG(this.node.content,l,s-n,r-n);return u<0?null:{node:i,pos:u,text:l}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:s,text:r}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let l=new EG(this,i,n,r);e.input.compositionNodes.push(l),this.children=hb(this.children,s,s+r.length,e,l)}update(e,n,s,r){return this.dirty==rr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,s,r),!0)}updateInner(e,n,s,r){this.updateOuterDeco(n),this.node=e,this.innerDeco=s,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=bs}updateOuterDeco(e){if(Gh(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,s=this.dom;this.dom=D4(this.dom,this.nodeDOM,fb(this.outerDeco,this.node,n),fb(e,this.node,n)),this.dom!=s&&(s.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function aE(t,e,n,s,r){O4(s,e,t);let i=new zi(void 0,t,e,n,s,s,s,r,0);return i.contentDOM&&i.updateChildren(r,0),i}class ym extends zi{constructor(e,n,s,r,i,l,u){super(e,n,s,r,i,null,l,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,s,r){return this.dirty==rr||this.dirty!=bs&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=bs||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=bs,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,s){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,s)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,s){let r=this.node.cut(e,n),i=document.createTextNode(r.text);return new ym(this.parent,r,this.outerDeco,this.innerDeco,i,i,s)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=rr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class A4 extends od{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==bs&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class TG extends zi{constructor(e,n,s,r,i,l,u,d,h,p){super(e,n,s,r,i,l,u,h,p),this.spec=d}update(e,n,s,r){if(this.dirty==rr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,s);return i&&this.updateInner(e,n,s,r),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,s,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,s,r){this.spec.setSelection?this.spec.setSelection(e,n,s.root):super.setSelection(e,n,s,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function _4(t,e,n){let s=t.firstChild,r=!1;for(let i=0;i<e.length;i++){let l=e[i],u=l.dom;if(u.parentNode==t){for(;u!=s;)s=oE(s),r=!0;s=s.nextSibling}else r=!0,t.insertBefore(u,s);if(l instanceof Ya){let d=s?s.previousSibling:t.lastChild;_4(l.contentDOM,l.children,n),s=d?d.nextSibling:t.firstChild}}for(;s;)s=oE(s),r=!0;r&&n.trackWrites==t&&(n.trackWrites=null)}const iu=function(t){t&&(this.nodeName=t)};iu.prototype=Object.create(null);const Ma=[new iu];function fb(t,e,n){if(t.length==0)return Ma;let s=n?Ma[0]:new iu,r=[s];for(let i=0;i<t.length;i++){let l=t[i].type.attrs;if(l){l.nodeName&&r.push(s=new iu(l.nodeName));for(let u in l){let d=l[u];d!=null&&(n&&r.length==1&&r.push(s=new iu(e.isInline?"span":"div")),u=="class"?s.class=(s.class?s.class+" ":"")+d:u=="style"?s.style=(s.style?s.style+";":"")+d:u!="nodeName"&&(s[u]=d))}}}return r}function D4(t,e,n,s){if(n==Ma&&s==Ma)return e;let r=e;for(let i=0;i<s.length;i++){let l=s[i],u=n[i];if(i){let d;u&&u.nodeName==l.nodeName&&r!=t&&(d=r.parentNode)&&d.nodeName.toLowerCase()==l.nodeName||(d=document.createElement(l.nodeName),d.pmIsDeco=!0,d.appendChild(r),u=Ma[0]),r=d}MG(r,u||Ma[0],l)}return r}function MG(t,e,n){for(let s in e)s!="class"&&s!="style"&&s!="nodeName"&&!(s in n)&&t.removeAttribute(s);for(let s in n)s!="class"&&s!="style"&&s!="nodeName"&&n[s]!=e[s]&&t.setAttribute(s,n[s]);if(e.class!=n.class){let s=e.class?e.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.remove(s[i]);for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.add(r[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let s=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=s.exec(e.style);)t.style.removeProperty(r[1])}n.style&&(t.style.cssText+=n.style)}}function O4(t,e,n){return D4(t,t,Ma,fb(e,n,t.nodeType!=1))}function Gh(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function oE(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class AG{constructor(e,n,s){this.lock=n,this.view=s,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=_G(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let s=e;s<n;s++)this.top.children[s].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,s){let r=0,i=this.stack.length>>1,l=Math.min(i,e.length);for(;r<l&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=bs,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let h=this.top.children[d];if(h.matchesMark(e[i])&&!this.isLocked(h.dom)){u=d;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let d=Ya.create(this.top,e[i],n,s);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,s,r){let i=-1,l;if(r>=this.preMatch.index&&(l=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,s))i=this.top.children.indexOf(l,this.index);else for(let u=this.index,d=Math.min(this.top.children.length,u+5);u<d;u++){let h=this.top.children[u];if(h.matchesNode(e,n,s)&&!this.preMatch.matched.has(h)){i=u;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,s,r,i){let l=this.top.children[r];return l.dirty==rr&&l.dom==l.contentDOM&&(l.dirty=Ta),l.update(e,n,s,i)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let s=e.pmViewDesc;if(s){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==s)return r}return-1}e=n}}updateNextNode(e,n,s,r,i,l){for(let u=this.index;u<this.top.children.length;u++){let d=this.top.children[u];if(d instanceof zi){let h=this.preMatch.matched.get(d);if(h!=null&&h!=i)return!1;let p=d.dom,m,x=this.isLocked(p)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=rr&&Gh(n,d.outerDeco));if(!x&&d.update(e,n,s,r))return this.destroyBetween(this.index,u),d.dom!=p&&(this.changed=!0),this.index++,!0;if(!x&&(m=this.recreateWrapper(d,e,n,s,r,l)))return this.destroyBetween(this.index,u),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Ta,m.updateChildren(r,l+1),m.dirty=bs),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,s,r,i,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Gh(s,e.outerDeco)||!r.eq(e.innerDeco))return null;let u=zi.create(this.top,n,s,r,i,l);if(u.contentDOM){u.children=e.children,e.children=[];for(let d of u.children)d.parent=u}return e.destroy(),u}addNode(e,n,s,r,i){let l=zi.create(this.top,e,n,s,r,i);l.contentDOM&&l.updateChildren(r,i+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,s){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let i=new M4(this.top,e,n,s);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Ya;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof ym)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((fn||Kt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let s=document.createElement(e);e=="IMG"&&(s.className="ProseMirror-separator",s.alt=""),e=="BR"&&(s.className="ProseMirror-trailingBreak");let r=new A4(this.top,[],s,null);n!=this.top?n.children.push(r):n.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function _G(t,e){let n=e,s=n.children.length,r=t.childCount,i=new Map,l=[];e:for(;r>0;){let u;for(;;)if(s){let h=n.children[s-1];if(h instanceof Ya)n=h,s=h.children.length;else{u=h,s--;break}}else{if(n==e)break e;s=n.parent.children.indexOf(n),n=n.parent}let d=u.node;if(d){if(d!=t.child(r-1))break;--r,i.set(u,r),l.push(u)}}return{index:r,matched:i,matches:l.reverse()}}function DG(t,e){return t.type.side-e.type.side}function OG(t,e,n,s){let r=e.locals(t),i=0;if(r.length==0){for(let h=0;h<t.childCount;h++){let p=t.child(h);s(p,r,e.forChild(i,p),h),i+=p.nodeSize}return}let l=0,u=[],d=null;for(let h=0;;){let p,m;for(;l<r.length&&r[l].to==i;){let w=r[l++];w.widget&&(p?(m||(m=[p])).push(w):p=w)}if(p)if(m){m.sort(DG);for(let w=0;w<m.length;w++)n(m[w],h,!!d)}else n(p,h,!!d);let x,y;if(d)y=-1,x=d,d=null;else if(h<t.childCount)y=h,x=t.child(h++);else break;for(let w=0;w<u.length;w++)u[w].to<=i&&u.splice(w--,1);for(;l<r.length&&r[l].from<=i&&r[l].to>i;)u.push(r[l++]);let b=i+x.nodeSize;if(x.isText){let w=b;l<r.length&&r[l].from<w&&(w=r[l].from);for(let C=0;C<u.length;C++)u[C].to<w&&(w=u[C].to);w<b&&(d=x.cut(w-i),x=x.cut(0,w-i),b=w,y=-1)}else for(;l<r.length&&r[l].to<b;)l++;let j=x.isInline&&!x.isLeaf?u.filter(w=>!w.inline):u.slice();s(x,j,e.forChild(i,x),y),i=b}}function RG(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function LG(t,e,n,s){for(let r=0,i=0;r<t.childCount&&i<=s;){let l=t.child(r++),u=i;if(i+=l.nodeSize,!l.isText)continue;let d=l.text;for(;r<t.childCount;){let h=t.child(r++);if(i+=h.nodeSize,!h.isText)break;d+=h.text}if(i>=n){if(i>=s&&d.slice(s-e.length-u,s-u)==e)return s-e.length;let h=u<s?d.lastIndexOf(e,s-u-1):-1;if(h>=0&&h+e.length+u>=n)return u+h;if(n==s&&d.length>=s+e.length-u&&d.slice(s-u,s-u+e.length)==e)return s}}return-1}function hb(t,e,n,s,r){let i=[];for(let l=0,u=0;l<t.length;l++){let d=t[l],h=u,p=u+=d.size;h>=n||p<=e?i.push(d):(h<e&&i.push(d.slice(0,e-h,s)),r&&(i.push(r),r=void 0),p>n&&i.push(d.slice(n-h,d.size,s)))}return i}function Jv(t,e=null){let n=t.domSelectionRange(),s=t.state.doc;if(!n.focusNode)return null;let r=t.docView.nearestDesc(n.focusNode),i=r&&r.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let u=s.resolve(l),d,h;if(xm(n)){for(d=l;r&&!r.node;)r=r.parent;let m=r.node;if(r&&m.isAtom&&we.isSelectable(m)&&r.parent&&!(m.isInline&&lG(n.focusNode,n.focusOffset,r.dom))){let x=r.posBefore;h=new we(l==x?u:s.resolve(x))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=l,x=l;for(let y=0;y<n.rangeCount;y++){let b=n.getRangeAt(y);m=Math.min(m,t.docView.posFromDOM(b.startContainer,b.startOffset,1)),x=Math.max(x,t.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(m<0)return null;[d,l]=x==t.state.selection.anchor?[x,m]:[m,x],u=s.resolve(l)}else d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let p=s.resolve(d);if(!h){let m=e=="pointer"||t.state.selection.head<u.pos&&!i?1:-1;h=Xv(t,p,u,m)}return h}function R4(t){return t.editable?t.hasFocus():P4(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function $r(t,e=!1){let n=t.state.selection;if(L4(t,n),!!R4(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Kt){let s=t.domSelectionRange(),r=t.domObserver.currentSelection;if(s.anchorNode&&r.anchorNode&&Qa(s.anchorNode,s.anchorOffset,r.anchorNode,r.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)BG(t);else{let{anchor:s,head:r}=n,i,l;lE&&!(n instanceof Te)&&(n.$from.parent.inlineContent||(i=cE(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=cE(t,n.to))),t.docView.setSelection(s,r,t,e),lE&&(i&&uE(i),l&&uE(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&PG(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const lE=fn||Kt&&w4<63;function cE(t,e){let{node:n,offset:s}=t.docView.domFromPos(e,0),r=s<n.childNodes.length?n.childNodes[s]:null,i=s?n.childNodes[s-1]:null;if(fn&&r&&r.contentEditable=="false")return Fx(r);if((!r||r.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(r)return Fx(r);if(i)return Fx(i)}}function Fx(t){return t.contentEditable="true",fn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function uE(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function PG(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),s=n.anchorNode,r=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=s||n.anchorOffset!=r)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!R4(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function BG(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,s=n.nodeName=="IMG";s?e.collapse(n.parentNode,sn(n)+1):e.collapse(n,0),!s&&!t.state.selection.visible&&_n&&Bi<=11&&(n.disabled=!0,n.disabled=!1)}function L4(t,e){if(e instanceof we){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(dE(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else dE(t)}function dE(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Xv(t,e,n,s){return t.someProp("createSelectionBetween",r=>r(t,e,n))||Te.between(e,n,s)}function fE(t){return t.editable&&!t.hasFocus()?!1:P4(t)}function P4(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function zG(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Qa(e.node,e.offset,n.anchorNode,n.anchorOffset)}function pb(t,e){let{$anchor:n,$head:s}=t.selection,r=e>0?n.max(s):n.min(s),i=r.parent.inlineContent?r.depth?t.doc.resolve(e>0?r.after():r.before()):null:r;return i&&Le.findFrom(i,e)}function Ei(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function hE(t,e,n){let s=t.state.selection;if(s instanceof Te)if(n.indexOf("s")>-1){let{$head:r}=s,i=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let l=t.state.doc.resolve(r.pos+i.nodeSize*(e<0?-1:1));return Ei(t,new Te(s.$anchor,l))}else if(s.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let r=pb(t.state,e);return r&&r instanceof we?Ei(t,r):!1}else if(!(ps&&n.indexOf("m")>-1)){let r=s.$head,i=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,l;if(!i||i.isText)return!1;let u=e<0?r.pos-i.nodeSize:r.pos;return i.isAtom||(l=t.docView.descAt(u))&&!l.contentDOM?we.isSelectable(i)?Ei(t,new we(e<0?t.state.doc.resolve(r.pos-i.nodeSize):r)):ad?Ei(t,new Te(t.state.doc.resolve(e<0?u:u+i.nodeSize))):!1:!1}}else return!1;else{if(s instanceof we&&s.node.isInline)return Ei(t,new Te(e>0?s.$to:s.$from));{let r=pb(t.state,e);return r?Ei(t,r):!1}}}function Qh(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function au(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Qo(t,e){return e<0?IG(t):VG(t)}function IG(t){let e=t.domSelectionRange(),n=e.focusNode,s=e.focusOffset;if(!n)return;let r,i,l=!1;for(ys&&n.nodeType==1&&s<Qh(n)&&au(n.childNodes[s],-1)&&(l=!0);;)if(s>0){if(n.nodeType!=1)break;{let u=n.childNodes[s-1];if(au(u,-1))r=n,i=--s;else if(u.nodeType==3)n=u,s=n.nodeValue.length;else break}}else{if(B4(n))break;{let u=n.previousSibling;for(;u&&au(u,-1);)r=n.parentNode,i=sn(u),u=u.previousSibling;if(u)n=u,s=Qh(n);else{if(n=n.parentNode,n==t.dom)break;s=0}}}l?mb(t,n,s):r&&mb(t,r,i)}function VG(t){let e=t.domSelectionRange(),n=e.focusNode,s=e.focusOffset;if(!n)return;let r=Qh(n),i,l;for(;;)if(s<r){if(n.nodeType!=1)break;let u=n.childNodes[s];if(au(u,1))i=n,l=++s;else break}else{if(B4(n))break;{let u=n.nextSibling;for(;u&&au(u,1);)i=u.parentNode,l=sn(u)+1,u=u.nextSibling;if(u)n=u,s=0,r=Qh(n);else{if(n=n.parentNode,n==t.dom)break;s=r=0}}}i&&mb(t,i,l)}function B4(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function UG(t,e){for(;t&&e==t.childNodes.length&&!id(t);)e=sn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function $G(t,e){for(;t&&!e&&!id(t);)e=sn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function mb(t,e,n){if(e.nodeType!=3){let i,l;(l=UG(e,n))?(e=l,n=0):(i=$G(e,n))&&(e=i,n=i.nodeValue.length)}let s=t.domSelection();if(!s)return;if(xm(s)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),s.removeAllRanges(),s.addRange(i)}else s.extend&&s.extend(e,n);t.domObserver.setCurSelection();let{state:r}=t;setTimeout(()=>{t.state==r&&$r(t)},50)}function pE(t,e){let n=t.state.doc.resolve(e);if(!(Kt||N4)&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),l=(i.top+i.bottom)/2;if(l>r.top&&l<r.bottom&&Math.abs(i.left-r.left)>1)return i.left<r.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),l=(i.top+i.bottom)/2;if(l>r.top&&l<r.bottom&&Math.abs(i.left-r.left)>1)return i.left>r.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function mE(t,e,n){let s=t.state.selection;if(s instanceof Te&&!s.empty||n.indexOf("s")>-1||ps&&n.indexOf("m")>-1)return!1;let{$from:r,$to:i}=s;if(!r.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=pb(t.state,e);if(l&&l instanceof we)return Ei(t,l)}if(!r.parent.inlineContent){let l=e<0?r:i,u=s instanceof Gn?Le.near(l,e):Le.findFrom(l,e);return u?Ei(t,u):!1}return!1}function gE(t,e){if(!(t.state.selection instanceof Te))return!0;let{$head:n,$anchor:s,empty:r}=t.state.selection;if(!n.sameParent(s))return!0;if(!r)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let l=t.state.tr;return e<0?l.delete(n.pos-i.nodeSize,n.pos):l.delete(n.pos,n.pos+i.nodeSize),t.dispatch(l),!0}return!1}function xE(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function FG(t){if(!fn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let s=e.firstChild;xE(t,s,"true"),setTimeout(()=>xE(t,s,"false"),20)}return!1}function qG(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function HG(t,e){let n=e.keyCode,s=qG(e);if(n==8||ps&&n==72&&s=="c")return gE(t,-1)||Qo(t,-1);if(n==46&&!e.shiftKey||ps&&n==68&&s=="c")return gE(t,1)||Qo(t,1);if(n==13||n==27)return!0;if(n==37||ps&&n==66&&s=="c"){let r=n==37?pE(t,t.state.selection.from)=="ltr"?-1:1:-1;return hE(t,r,s)||Qo(t,r)}else if(n==39||ps&&n==70&&s=="c"){let r=n==39?pE(t,t.state.selection.from)=="ltr"?1:-1:1;return hE(t,r,s)||Qo(t,r)}else{if(n==38||ps&&n==80&&s=="c")return mE(t,-1,s)||Qo(t,-1);if(n==40||ps&&n==78&&s=="c")return FG(t)||mE(t,1,s)||Qo(t,1);if(s==(ps?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Wv(t,e){t.someProp("transformCopied",y=>{e=y(e,t)});let n=[],{content:s,openStart:r,openEnd:i}=e;for(;r>1&&i>1&&s.childCount==1&&s.firstChild.childCount==1;){r--,i--;let y=s.firstChild;n.push(y.type.name,y.attrs!=y.type.defaultAttrs?y.attrs:null),s=y.content}let l=t.someProp("clipboardSerializer")||Xa.fromSchema(t.state.schema),u=F4(),d=u.createElement("div");d.appendChild(l.serializeFragment(s,{document:u}));let h=d.firstChild,p,m=0;for(;h&&h.nodeType==1&&(p=$4[h.nodeName.toLowerCase()]);){for(let y=p.length-1;y>=0;y--){let b=u.createElement(p[y]);for(;d.firstChild;)b.appendChild(d.firstChild);d.appendChild(b),m++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${r} ${i}${m?` -${m}`:""} ${JSON.stringify(n)}`);let x=t.someProp("clipboardTextSerializer",y=>y(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:x,slice:e}}function z4(t,e,n,s,r){let i=r.parent.type.spec.code,l,u;if(!n&&!e)return null;let d=!!e&&(s||i||!n);if(d){if(t.someProp("transformPastedText",x=>{e=x(e,i||s,t)}),i)return u=new pe(ce.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",x=>{u=x(u,t,!0)}),u;let m=t.someProp("clipboardTextParser",x=>x(e,r,s,t));if(m)u=m;else{let x=r.marks(),{schema:y}=t.state,b=Xa.fromSchema(y);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(j=>{let w=l.appendChild(document.createElement("p"));j&&w.appendChild(b.serializeNode(y.text(j,x)))})}}else t.someProp("transformPastedHTML",m=>{n=m(n,t)}),l=YG(n),ad&&JG(l);let h=l&&l.querySelector("[data-pm-slice]"),p=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let x=l.firstChild;for(;x&&x.nodeType!=1;)x=x.nextSibling;if(!x)break;l=x}if(u||(u=(t.someProp("clipboardParser")||t.someProp("domParser")||Pi.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(d||p),context:r,ruleFromNode(x){return x.nodeName=="BR"&&!x.nextSibling&&x.parentNode&&!KG.test(x.parentNode.nodeName)?{ignore:!0}:null}})),p)u=XG(yE(u,+p[1],+p[2]),p[4]);else if(u=pe.maxOpen(GG(u.content,r),!0),u.openStart||u.openEnd){let m=0,x=0;for(let y=u.content.firstChild;m<u.openStart&&!y.type.spec.isolating;m++,y=y.firstChild);for(let y=u.content.lastChild;x<u.openEnd&&!y.type.spec.isolating;x++,y=y.lastChild);u=yE(u,m,x)}return t.someProp("transformPasted",m=>{u=m(u,t,d)}),u}const KG=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function GG(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.index(n)),i,l=[];if(t.forEach(u=>{if(!l)return;let d=r.findWrapping(u.type),h;if(!d)return l=null;if(h=l.length&&i.length&&V4(d,i,u,l[l.length-1],0))l[l.length-1]=h;else{l.length&&(l[l.length-1]=U4(l[l.length-1],i.length));let p=I4(u,d);l.push(p),r=r.matchType(p.type),i=d}}),l)return ce.from(l)}return t}function I4(t,e,n=0){for(let s=e.length-1;s>=n;s--)t=e[s].create(null,ce.from(t));return t}function V4(t,e,n,s,r){if(r<t.length&&r<e.length&&t[r]==e[r]){let i=V4(t,e,n,s.lastChild,r+1);if(i)return s.copy(s.content.replaceChild(s.childCount-1,i));if(s.contentMatchAt(s.childCount).matchType(r==t.length-1?n.type:t[r+1]))return s.copy(s.content.append(ce.from(I4(n,t,r+1))))}}function U4(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,U4(t.lastChild,e-1)),s=t.contentMatchAt(t.childCount).fillBefore(ce.empty,!0);return t.copy(n.append(s))}function gb(t,e,n,s,r,i){let l=e<0?t.firstChild:t.lastChild,u=l.content;return t.childCount>1&&(i=0),r<s-1&&(u=gb(u,e,n,s,r+1,i)),r>=n&&(u=e<0?l.contentMatchAt(0).fillBefore(u,i<=r).append(u):u.append(l.contentMatchAt(l.childCount).fillBefore(ce.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(u))}function yE(t,e,n){return e<t.openStart&&(t=new pe(gb(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new pe(gb(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const $4={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let bE=null;function F4(){return bE||(bE=document.implementation.createHTMLDocument("title"))}let qx=null;function QG(t){let e=window.trustedTypes;return e?(qx||(qx=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),qx.createHTML(t)):t}function YG(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=F4().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(t),r;if((r=s&&$4[s[1].toLowerCase()])&&(t=r.map(i=>"<"+i+">").join("")+t+r.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=QG(t),r)for(let i=0;i<r.length;i++)n=n.querySelector(r[i])||n;return n}function JG(t){let e=t.querySelectorAll(Kt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let s=e[n];s.childNodes.length==1&&s.textContent==""&&s.parentNode&&s.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),s)}}function XG(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,s;try{s=JSON.parse(e)}catch{return t}let{content:r,openStart:i,openEnd:l}=t;for(let u=s.length-2;u>=0;u-=2){let d=n.nodes[s[u]];if(!d||d.hasRequiredAttrs())break;r=ce.from(d.create(s[u+1],r)),i++,l++}return new pe(r,i,l)}const yn={},bn={},WG={touchstart:!0,touchmove:!0};class ZG{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function eQ(t){for(let e in yn){let n=yn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=s=>{nQ(t,s)&&!Zv(t,s)&&(t.editable||!(s.type in bn))&&n(t,s)},WG[e]?{passive:!0}:void 0)}fn&&t.dom.addEventListener("input",()=>null),xb(t)}function Li(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function tQ(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function xb(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=s=>Zv(t,s))})}function Zv(t,e){return t.someProp("handleDOMEvents",n=>{let s=n[e.type];return s?s(t,e)||e.defaultPrevented:!1})}function nQ(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function sQ(t,e){!Zv(t,e)&&yn[e.type]&&(t.editable||!(e.type in bn))&&yn[e.type](t,e)}bn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!H4(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Br&&Kt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),vl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let s=Date.now();t.input.lastIOSEnter=s,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==s&&(t.someProp("handleKeyDown",r=>r(t,Sa(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",s=>s(t,n))||HG(t,n)?n.preventDefault():Li(t,"key")};bn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};bn.keypress=(t,e)=>{let n=e;if(H4(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||ps&&n.metaKey)return;if(t.someProp("handleKeyPress",r=>r(t,n))){n.preventDefault();return}let s=t.state.selection;if(!(s instanceof Te)||!s.$from.sameParent(s.$to)){let r=String.fromCharCode(n.charCode),i=()=>t.state.tr.insertText(r).scrollIntoView();!/[\r\n]/.test(r)&&!t.someProp("handleTextInput",l=>l(t,s.$from.pos,s.$to.pos,r,i))&&t.dispatch(i()),n.preventDefault()}};function bm(t){return{left:t.clientX,top:t.clientY}}function rQ(t,e){let n=e.x-t.clientX,s=e.y-t.clientY;return n*n+s*s<100}function e1(t,e,n,s,r){if(s==-1)return!1;let i=t.state.doc.resolve(s);for(let l=i.depth+1;l>0;l--)if(t.someProp(e,u=>l>i.depth?u(t,n,i.nodeAfter,i.before(l),r,!0):u(t,n,i.node(l),i.before(l),r,!1)))return!0;return!1}function cl(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let s=t.state.tr.setSelection(e);s.setMeta("pointer",!0),t.dispatch(s)}function iQ(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),s=n.nodeAfter;return s&&s.isAtom&&we.isSelectable(s)?(cl(t,new we(n)),!0):!1}function aQ(t,e){if(e==-1)return!1;let n=t.state.selection,s,r;n instanceof we&&(s=n.node);let i=t.state.doc.resolve(e);for(let l=i.depth+1;l>0;l--){let u=l>i.depth?i.nodeAfter:i.node(l);if(we.isSelectable(u)){s&&n.$from.depth>0&&l>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?r=i.before(n.$from.depth):r=i.before(l);break}}return r!=null?(cl(t,we.create(t.state.doc,r)),!0):!1}function oQ(t,e,n,s,r){return e1(t,"handleClickOn",e,n,s)||t.someProp("handleClick",i=>i(t,e,s))||(r?aQ(t,n):iQ(t,n))}function lQ(t,e,n,s){return e1(t,"handleDoubleClickOn",e,n,s)||t.someProp("handleDoubleClick",r=>r(t,e,s))}function cQ(t,e,n,s){return e1(t,"handleTripleClickOn",e,n,s)||t.someProp("handleTripleClick",r=>r(t,e,s))||uQ(t,n,s)}function uQ(t,e,n){if(n.button!=0)return!1;let s=t.state.doc;if(e==-1)return s.inlineContent?(cl(t,Te.create(s,0,s.content.size)),!0):!1;let r=s.resolve(e);for(let i=r.depth+1;i>0;i--){let l=i>r.depth?r.nodeAfter:r.node(i),u=r.before(i);if(l.inlineContent)cl(t,Te.create(s,u+1,u+1+l.content.size));else if(we.isSelectable(l))cl(t,we.create(s,u));else continue;return!0}}function t1(t){return Yh(t)}const q4=ps?"metaKey":"ctrlKey";yn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let s=t1(t),r=Date.now(),i="singleClick";r-t.input.lastClick.time<500&&rQ(n,t.input.lastClick)&&!n[q4]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:i,button:n.button};let l=t.posAtCoords(bm(n));l&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new dQ(t,l,n,!!s)):(i=="doubleClick"?lQ:cQ)(t,l.pos,l.inside,n)?n.preventDefault():Li(t,"pointer"))};class dQ{constructor(e,n,s,r){this.view=e,this.pos=n,this.event=s,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!s[q4],this.allowDefault=s.shiftKey;let i,l;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),l=n.inside;else{let p=e.state.doc.resolve(n.pos);i=p.parent,l=p.depth?p.before():0}const u=r?null:s.target,d=u?e.docView.nearestDesc(u,!0):null;this.target=d&&d.nodeDOM.nodeType==1?d.nodeDOM:null;let{selection:h}=e.state;(s.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||h instanceof we&&h.from<=l&&h.to>l)&&(this.mightDrag={node:i,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ys&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Li(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>$r(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(bm(e))),this.updateAllowDefault(e),this.allowDefault||!n?Li(this.view,"pointer"):oQ(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||fn&&this.mightDrag&&!this.mightDrag.node.isAtom||Kt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(cl(this.view,Le.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Li(this.view,"pointer")}move(e){this.updateAllowDefault(e),Li(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}yn.touchstart=t=>{t.input.lastTouch=Date.now(),t1(t),Li(t,"pointer")};yn.touchmove=t=>{t.input.lastTouch=Date.now(),Li(t,"pointer")};yn.contextmenu=t=>t1(t);function H4(t,e){return t.composing?!0:fn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const fQ=Br?5e3:-1;bn.compositionstart=bn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Te&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(s=>s.type.spec.inclusive===!1)||Kt&&N4&&hQ(t)))t.markCursor=t.state.storedMarks||n.marks(),Yh(t,!0),t.markCursor=null;else if(Yh(t,!e.selection.empty),ys&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let s=t.domSelectionRange();for(let r=s.focusNode,i=s.focusOffset;r&&r.nodeType==1&&i!=0;){let l=i<0?r.lastChild:r.childNodes[i-1];if(!l)break;if(l.nodeType==3){let u=t.domSelection();u&&u.collapse(l,l.nodeValue.length);break}else r=l,i=-1}}t.input.composing=!0}K4(t,fQ)};function hQ(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let s=e.childNodes[n];return s.nodeType==1&&s.contentEditable=="false"}bn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,K4(t,20))};function K4(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Yh(t),e))}function G4(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=mQ());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function pQ(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=aG(e.focusNode,e.focusOffset),s=oG(e.focusNode,e.focusOffset);if(n&&s&&n!=s){let r=s.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||s==i)return i;if(!r||!r.isText(s.nodeValue))return s;if(t.input.compositionNode==s){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return s}}return n||s}function mQ(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Yh(t,e=!1){if(!(Br&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),G4(t),e||t.docView&&t.docView.dirty){let n=Jv(t),s=t.state.selection;return n&&!n.eq(s)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!s.$from.node(s.$from.sharedDepth(s.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function gQ(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let s=getSelection(),r=document.createRange();r.selectNodeContents(e),t.dom.blur(),s.removeAllRanges(),s.addRange(r),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Lu=_n&&Bi<15||vl&&dG<604;yn.copy=bn.cut=(t,e)=>{let n=e,s=t.state.selection,r=n.type=="cut";if(s.empty)return;let i=Lu?null:n.clipboardData,l=s.content(),{dom:u,text:d}=Wv(t,l);i?(n.preventDefault(),i.clearData(),i.setData("text/html",u.innerHTML),i.setData("text/plain",d)):gQ(t,u),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function xQ(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function yQ(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,s=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(s.contentEditable="true"),s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus();let r=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),s.parentNode&&s.parentNode.removeChild(s),n?Pu(t,s.value,null,r,e):Pu(t,s.textContent,s.innerHTML,r,e)},50)}function Pu(t,e,n,s,r){let i=z4(t,e,n,s,t.state.selection.$from);if(t.someProp("handlePaste",d=>d(t,r,i||pe.empty)))return!0;if(!i)return!1;let l=xQ(i),u=l?t.state.tr.replaceSelectionWith(l,s):t.state.tr.replaceSelection(i);return t.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Q4(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}bn.paste=(t,e)=>{let n=e;if(t.composing&&!Br)return;let s=Lu?null:n.clipboardData,r=t.input.shiftKey&&t.input.lastKeyCode!=45;s&&Pu(t,Q4(s),s.getData("text/html"),r,n)?n.preventDefault():yQ(t,n)};class Y4{constructor(e,n,s){this.slice=e,this.move=n,this.node=s}}const bQ=ps?"altKey":"ctrlKey";function J4(t,e){let n=t.someProp("dragCopies",s=>!s(e));return n??!e[bQ]}yn.dragstart=(t,e)=>{let n=e,s=t.input.mouseDown;if(s&&s.done(),!n.dataTransfer)return;let r=t.state.selection,i=r.empty?null:t.posAtCoords(bm(n)),l;if(!(i&&i.pos>=r.from&&i.pos<=(r instanceof we?r.to-1:r.to))){if(s&&s.mightDrag)l=we.create(t.state.doc,s.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=t.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(l=we.create(t.state.doc,m.posBefore))}}let u=(l||t.state.selection).content(),{dom:d,text:h,slice:p}=Wv(t,u);(!n.dataTransfer.files.length||!Kt||w4>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Lu?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",Lu||n.dataTransfer.setData("text/plain",h),t.dragging=new Y4(p,J4(t,n),l)};yn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};bn.dragover=bn.dragenter=(t,e)=>e.preventDefault();bn.drop=(t,e)=>{try{vQ(t,e,t.dragging)}finally{t.dragging=null}};function vQ(t,e,n){if(!e.dataTransfer)return;let s=t.posAtCoords(bm(e));if(!s)return;let r=t.state.doc.resolve(s.pos),i=n&&n.slice;i?t.someProp("transformPasted",y=>{i=y(i,t,!1)}):i=z4(t,Q4(e.dataTransfer),Lu?null:e.dataTransfer.getData("text/html"),!1,r);let l=!!(n&&J4(t,e));if(t.someProp("handleDrop",y=>y(t,e,i||pe.empty,l))){e.preventDefault();return}if(!i)return;e.preventDefault();let u=i?e4(t.state.doc,r.pos,i):r.pos;u==null&&(u=r.pos);let d=t.state.tr;if(l){let{node:y}=n;y?y.replace(d):d.deleteSelection()}let h=d.mapping.map(u),p=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,m=d.doc;if(p?d.replaceRangeWith(h,h,i.content.firstChild):d.replaceRange(h,h,i),d.doc.eq(m))return;let x=d.doc.resolve(h);if(p&&we.isSelectable(i.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(i.content.firstChild))d.setSelection(new we(x));else{let y=d.mapping.map(u);d.mapping.maps[d.mapping.maps.length-1].forEach((b,j,w,C)=>y=C),d.setSelection(Xv(t,x,d.doc.resolve(y)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))}yn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&$r(t)},20))};yn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};yn.beforeinput=(t,e)=>{if(Kt&&Br&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:s}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=s||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,Sa(8,"Backspace")))))return;let{$cursor:r}=t.state.selection;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let t in bn)yn[t]=bn[t];function Bu(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Jh{constructor(e,n){this.toDOM=e,this.spec=n||za,this.side=this.spec.side||0}map(e,n,s,r){let{pos:i,deleted:l}=e.mapResult(n.from+r,this.side<0?-1:1);return l?null:new xn(i-s,i-s,this)}valid(){return!0}eq(e){return this==e||e instanceof Jh&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Bu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ii{constructor(e,n){this.attrs=e,this.spec=n||za}map(e,n,s,r){let i=e.map(n.from+r,this.spec.inclusiveStart?-1:1)-s,l=e.map(n.to+r,this.spec.inclusiveEnd?1:-1)-s;return i>=l?null:new xn(i,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Ii&&Bu(this.attrs,e.attrs)&&Bu(this.spec,e.spec)}static is(e){return e.type instanceof Ii}destroy(){}}class n1{constructor(e,n){this.attrs=e,this.spec=n||za}map(e,n,s,r){let i=e.mapResult(n.from+r,1);if(i.deleted)return null;let l=e.mapResult(n.to+r,-1);return l.deleted||l.pos<=i.pos?null:new xn(i.pos-s,l.pos-s,this)}valid(e,n){let{index:s,offset:r}=e.content.findIndex(n.from),i;return r==n.from&&!(i=e.child(s)).isText&&r+i.nodeSize==n.to}eq(e){return this==e||e instanceof n1&&Bu(this.attrs,e.attrs)&&Bu(this.spec,e.spec)}destroy(){}}class xn{constructor(e,n,s){this.from=e,this.to=n,this.type=s}copy(e,n){return new xn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,s){return this.type.map(e,this,n,s)}static widget(e,n,s){return new xn(e,e,new Jh(n,s))}static inline(e,n,s,r){return new xn(e,n,new Ii(s,r))}static node(e,n,s,r){return new xn(e,n,new n1(s,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ii}get widget(){return this.type instanceof Jh}}const Xo=[],za={};class ht{constructor(e,n){this.local=e.length?e:Xo,this.children=n.length?n:Xo}static create(e,n){return n.length?Xh(n,e,0,za):ln}find(e,n,s){let r=[];return this.findInner(e??0,n??1e9,r,0,s),r}findInner(e,n,s,r,i){for(let l=0;l<this.local.length;l++){let u=this.local[l];u.from<=n&&u.to>=e&&(!i||i(u.spec))&&s.push(u.copy(u.from+r,u.to+r))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let u=this.children[l]+1;this.children[l+2].findInner(e-u,n-u,s,r+u,i)}}map(e,n,s){return this==ln||e.maps.length==0?this:this.mapInner(e,n,0,0,s||za)}mapInner(e,n,s,r,i){let l;for(let u=0;u<this.local.length;u++){let d=this.local[u].map(e,s,r);d&&d.type.valid(n,d)?(l||(l=[])).push(d):i.onRemove&&i.onRemove(this.local[u].spec)}return this.children.length?wQ(this.children,l||[],e,n,s,r,i):l?new ht(l.sort(Ia),Xo):ln}add(e,n){return n.length?this==ln?ht.create(e,n):this.addInner(e,n,0):this}addInner(e,n,s){let r,i=0;e.forEach((u,d)=>{let h=d+s,p;if(p=W4(n,u,h)){for(r||(r=this.children.slice());i<r.length&&r[i]<d;)i+=3;r[i]==d?r[i+2]=r[i+2].addInner(u,p,h+1):r.splice(i,0,d,d+u.nodeSize,Xh(p,u,h+1,za)),i+=3}});let l=X4(i?Z4(n):n,-s);for(let u=0;u<l.length;u++)l[u].type.valid(e,l[u])||l.splice(u--,1);return new ht(l.length?this.local.concat(l).sort(Ia):this.local,r||this.children)}remove(e){return e.length==0||this==ln?this:this.removeInner(e,0)}removeInner(e,n){let s=this.children,r=this.local;for(let i=0;i<s.length;i+=3){let l,u=s[i]+n,d=s[i+1]+n;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>u&&m.to<d&&(e[p]=null,(l||(l=[])).push(m));if(!l)continue;s==this.children&&(s=this.children.slice());let h=s[i+2].removeInner(l,u+1);h!=ln?s[i+2]=h:(s.splice(i,3),i-=3)}if(r.length){for(let i=0,l;i<e.length;i++)if(l=e[i])for(let u=0;u<r.length;u++)r[u].eq(l,n)&&(r==this.local&&(r=this.local.slice()),r.splice(u--,1))}return s==this.children&&r==this.local?this:r.length||s.length?new ht(r,s):ln}forChild(e,n){if(this==ln)return this;if(n.isLeaf)return ht.empty;let s,r;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(s=this.children[u+2]);break}let i=e+1,l=i+n.content.size;for(let u=0;u<this.local.length;u++){let d=this.local[u];if(d.from<l&&d.to>i&&d.type instanceof Ii){let h=Math.max(i,d.from)-i,p=Math.min(l,d.to)-i;h<p&&(r||(r=[])).push(d.copy(h,p))}}if(r){let u=new ht(r.sort(Ia),Xo);return s?new _i([u,s]):u}return s||ln}eq(e){if(this==e)return!0;if(!(e instanceof ht)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return s1(this.localsInner(e))}localsInner(e){if(this==ln)return Xo;if(e.inlineContent||!this.local.some(Ii.is))return this.local;let n=[];for(let s=0;s<this.local.length;s++)this.local[s].type instanceof Ii||n.push(this.local[s]);return n}forEachSet(e){e(this)}}ht.empty=new ht([],[]);ht.removeOverlap=s1;const ln=ht.empty;class _i{constructor(e){this.members=e}map(e,n){const s=this.members.map(r=>r.map(e,n,za));return _i.from(s)}forChild(e,n){if(n.isLeaf)return ht.empty;let s=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(e,n);i!=ln&&(i instanceof _i?s=s.concat(i.members):s.push(i))}return _i.from(s)}eq(e){if(!(e instanceof _i)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,s=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(e);if(i.length)if(!n)n=i;else{s&&(n=n.slice(),s=!1);for(let l=0;l<i.length;l++)n.push(i[l])}}return n?s1(s?n:n.sort(Ia)):Xo}static from(e){switch(e.length){case 0:return ln;case 1:return e[0];default:return new _i(e.every(n=>n instanceof ht)?e:e.reduce((n,s)=>n.concat(s instanceof ht?s:s.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function wQ(t,e,n,s,r,i,l){let u=t.slice();for(let h=0,p=i;h<n.maps.length;h++){let m=0;n.maps[h].forEach((x,y,b,j)=>{let w=j-b-(y-x);for(let C=0;C<u.length;C+=3){let M=u[C+1];if(M<0||x>M+p-m)continue;let E=u[C]+p-m;y>=E?u[C+1]=x<=E?-2:-1:x>=p&&w&&(u[C]+=w,u[C+1]+=w)}m+=w}),p=n.maps[h].map(p,-1)}let d=!1;for(let h=0;h<u.length;h+=3)if(u[h+1]<0){if(u[h+1]==-2){d=!0,u[h+1]=-1;continue}let p=n.map(t[h]+i),m=p-r;if(m<0||m>=s.content.size){d=!0;continue}let x=n.map(t[h+1]+i,-1),y=x-r,{index:b,offset:j}=s.content.findIndex(m),w=s.maybeChild(b);if(w&&j==m&&j+w.nodeSize==y){let C=u[h+2].mapInner(n,w,p+1,t[h]+i+1,l);C!=ln?(u[h]=m,u[h+1]=y,u[h+2]=C):(u[h+1]=-2,d=!0)}else d=!0}if(d){let h=NQ(u,t,e,n,r,i,l),p=Xh(h,s,0,l);e=p.local;for(let m=0;m<u.length;m+=3)u[m+1]<0&&(u.splice(m,3),m-=3);for(let m=0,x=0;m<p.children.length;m+=3){let y=p.children[m];for(;x<u.length&&u[x]<y;)x+=3;u.splice(x,0,p.children[m],p.children[m+1],p.children[m+2])}}return new ht(e.sort(Ia),u)}function X4(t,e){if(!e||!t.length)return t;let n=[];for(let s=0;s<t.length;s++){let r=t[s];n.push(new xn(r.from+e,r.to+e,r.type))}return n}function NQ(t,e,n,s,r,i,l){function u(d,h){for(let p=0;p<d.local.length;p++){let m=d.local[p].map(s,r,h);m?n.push(m):l.onRemove&&l.onRemove(d.local[p].spec)}for(let p=0;p<d.children.length;p+=3)u(d.children[p+2],d.children[p]+h+1)}for(let d=0;d<t.length;d+=3)t[d+1]==-1&&u(t[d+2],e[d]+i+1);return n}function W4(t,e,n){if(e.isLeaf)return null;let s=n+e.nodeSize,r=null;for(let i=0,l;i<t.length;i++)(l=t[i])&&l.from>n&&l.to<s&&((r||(r=[])).push(l),t[i]=null);return r}function Z4(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Xh(t,e,n,s){let r=[],i=!1;e.forEach((u,d)=>{let h=W4(t,u,d+n);if(h){i=!0;let p=Xh(h,u,n+d+1,s);p!=ln&&r.push(d,d+u.nodeSize,p)}});let l=X4(i?Z4(t):t,-n).sort(Ia);for(let u=0;u<l.length;u++)l[u].type.valid(e,l[u])||(s.onRemove&&s.onRemove(l[u].spec),l.splice(u--,1));return l.length||r.length?new ht(l,r):ln}function Ia(t,e){return t.from-e.from||t.to-e.to}function s1(t){let e=t;for(let n=0;n<e.length-1;n++){let s=e[n];if(s.from!=s.to)for(let r=n+1;r<e.length;r++){let i=e[r];if(i.from==s.from){i.to!=s.to&&(e==t&&(e=t.slice()),e[r]=i.copy(i.from,s.to),vE(e,r+1,i.copy(s.to,i.to)));continue}else{i.from<s.to&&(e==t&&(e=t.slice()),e[n]=s.copy(s.from,i.from),vE(e,r,s.copy(i.from,s.to)));break}}}return e}function vE(t,e,n){for(;e<t.length&&Ia(n,t[e])>0;)e++;t.splice(e,0,n)}function Hx(t){let e=[];return t.someProp("decorations",n=>{let s=n(t.state);s&&s!=ln&&e.push(s)}),t.cursorWrapper&&e.push(ht.create(t.state.doc,[t.cursorWrapper.deco])),_i.from(e)}const jQ={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},SQ=_n&&Bi<=11;class CQ{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class kQ{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new CQ,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(s=>{for(let r=0;r<s.length;r++)this.queue.push(s[r]);_n&&Bi<=11&&s.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),SQ&&(this.onCharData=s=>{this.queue.push({target:s.target,type:"characterData",oldValue:s.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,jQ)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(fE(this.view)){if(this.suppressingSelectionUpdates)return $r(this.view);if(_n&&Bi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Qa(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,s;for(let i=e.focusNode;i;i=bl(i))n.add(i);for(let i=e.anchorNode;i;i=bl(i))if(n.has(i)){s=i;break}let r=s&&this.view.docView.nearestDesc(s);if(r&&r.ignoreMutation({type:"selection",target:s.nodeType==3?s.parentNode:s}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let s=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(s)&&fE(e)&&!this.ignoreSelectionChange(s),i=-1,l=-1,u=!1,d=[];if(e.editable)for(let p=0;p<n.length;p++){let m=this.registerMutation(n[p],d);m&&(i=i<0?m.from:Math.min(m.from,i),l=l<0?m.to:Math.max(m.to,l),m.typeOver&&(u=!0))}if(ys&&d.length){let p=d.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,x]=p;m.parentNode&&m.parentNode.parentNode==x.parentNode?x.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let x of p){let y=x.parentNode;y&&y.nodeName=="LI"&&(!m||MQ(e,m)!=y)&&x.remove()}}}else if((Kt||fn)&&d.some(p=>p.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let p of d)if(p.nodeName=="BR"&&p.parentNode){let m=p.nextSibling;m&&m.nodeType==1&&m.contentEditable=="false"&&p.parentNode.removeChild(p)}}let h=null;i<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&xm(s)&&(h=Jv(e))&&h.eq(Le.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,$r(e),this.currentSelection.set(s),e.scrollToSelection()):(i>-1||r)&&(i>-1&&(e.docView.markDirty(i,l),EQ(e)),this.handleDOMChange(i,l,u,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(s)||$r(e),this.currentSelection.set(s))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let s=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(s==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!s||s.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let m=e.addedNodes[p];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(s.contentDOM&&s.contentDOM!=s.dom&&!s.contentDOM.contains(e.target))return{from:s.posBefore,to:s.posAfter};let r=e.previousSibling,i=e.nextSibling;if(_n&&Bi<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:x}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(r=m),(!x||Array.prototype.indexOf.call(e.addedNodes,x)<0)&&(i=x)}let l=r&&r.parentNode==e.target?sn(r)+1:0,u=s.localPosFromDOM(e.target,l,-1),d=i&&i.parentNode==e.target?sn(i):e.target.childNodes.length,h=s.localPosFromDOM(e.target,d,1);return{from:u,to:h}}else return e.type=="attributes"?{from:s.posAtStart-s.border,to:s.posAtEnd+s.border}:(this.lastChangedTextNode=e.target,{from:s.posAtStart,to:s.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let wE=new WeakMap,NE=!1;function EQ(t){if(!wE.has(t)&&(wE.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=ys,NE)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),NE=!0}}function jE(t,e){let n=e.startContainer,s=e.startOffset,r=e.endContainer,i=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return Qa(l.node,l.offset,r,i)&&([n,s,r,i]=[r,i,n,s]),{anchorNode:n,anchorOffset:s,focusNode:r,focusOffset:i}}function TQ(t,e){if(e.getComposedRanges){let r=e.getComposedRanges(t.root)[0];if(r)return jE(t,r)}let n;function s(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",s,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",s,!0),n?jE(t,n):null}function MQ(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let s=t.docView.nearestDesc(n,!0);if(s&&s.node.isBlock)return n}return null}function AQ(t,e,n){let{node:s,fromOffset:r,toOffset:i,from:l,to:u}=t.docView.parseRange(e,n),d=t.domSelectionRange(),h,p=d.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(h=[{node:p,offset:d.anchorOffset}],xm(d)||h.push({node:d.focusNode,offset:d.focusOffset})),Kt&&t.input.lastKeyCode===8)for(let w=i;w>r;w--){let C=s.childNodes[w-1],M=C.pmViewDesc;if(C.nodeName=="BR"&&!M){i=w;break}if(!M||M.size)break}let m=t.state.doc,x=t.someProp("domParser")||Pi.fromSchema(t.state.schema),y=m.resolve(l),b=null,j=x.parse(s,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:r,to:i,preserveWhitespace:y.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:_Q,context:y});if(h&&h[0].pos!=null){let w=h[0].pos,C=h[1]&&h[1].pos;C==null&&(C=w),b={anchor:w+l,head:C+l}}return{doc:j,sel:b,from:l,to:u}}function _Q(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(fn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||fn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const DQ=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function OQ(t,e,n,s,r){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let O=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,T=Jv(t,O);if(T&&!t.state.selection.eq(T)){if(Kt&&Br&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",B=>B(t,Sa(13,"Enter"))))return;let D=t.state.tr.setSelection(T);O=="pointer"?D.setMeta("pointer",!0):O=="key"&&D.scrollIntoView(),i&&D.setMeta("composition",i),t.dispatch(D)}return}let l=t.state.doc.resolve(e),u=l.sharedDepth(n);e=l.before(u+1),n=t.state.doc.resolve(n).after(u+1);let d=t.state.selection,h=AQ(t,e,n),p=t.state.doc,m=p.slice(h.from,h.to),x,y;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(x=t.state.selection.to,y="end"):(x=t.state.selection.from,y="start"),t.input.lastKeyCode=null;let b=PQ(m.content,h.doc.content,h.from,x,y);if(b&&t.input.domChangeCount++,(vl&&t.input.lastIOSEnter>Date.now()-225||Br)&&r.some(O=>O.nodeType==1&&!DQ.test(O.nodeName))&&(!b||b.endA>=b.endB)&&t.someProp("handleKeyDown",O=>O(t,Sa(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!b)if(s&&d instanceof Te&&!d.empty&&d.$head.sameParent(d.$anchor)&&!t.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))b={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let O=SE(t,t.state.doc,h.sel);if(O&&!O.eq(t.state.selection)){let T=t.state.tr.setSelection(O);i&&T.setMeta("composition",i),t.dispatch(T)}}return}t.state.selection.from<t.state.selection.to&&b.start==b.endB&&t.state.selection instanceof Te&&(b.start>t.state.selection.from&&b.start<=t.state.selection.from+2&&t.state.selection.from>=h.from?b.start=t.state.selection.from:b.endA<t.state.selection.to&&b.endA>=t.state.selection.to-2&&t.state.selection.to<=h.to&&(b.endB+=t.state.selection.to-b.endA,b.endA=t.state.selection.to)),_n&&Bi<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>h.from&&h.doc.textBetween(b.start-h.from-1,b.start-h.from+1)==" "&&(b.start--,b.endA--,b.endB--);let j=h.doc.resolveNoCache(b.start-h.from),w=h.doc.resolveNoCache(b.endB-h.from),C=p.resolve(b.start),M=j.sameParent(w)&&j.parent.inlineContent&&C.end()>=b.endA;if((vl&&t.input.lastIOSEnter>Date.now()-225&&(!M||r.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!M&&j.pos<h.doc.content.size&&(!j.sameParent(w)||!j.parent.inlineContent)&&j.pos<w.pos&&!/\S/.test(h.doc.textBetween(j.pos,w.pos,"","")))&&t.someProp("handleKeyDown",O=>O(t,Sa(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>b.start&&LQ(p,b.start,b.endA,j,w)&&t.someProp("handleKeyDown",O=>O(t,Sa(8,"Backspace")))){Br&&Kt&&t.domObserver.suppressSelectionUpdates();return}Kt&&b.endB==b.start&&(t.input.lastChromeDelete=Date.now()),Br&&!M&&j.start()!=w.start()&&w.parentOffset==0&&j.depth==w.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==b.endA&&(b.endB-=2,w=h.doc.resolveNoCache(b.endB-h.from),setTimeout(()=>{t.someProp("handleKeyDown",function(O){return O(t,Sa(13,"Enter"))})},20));let E=b.start,S=b.endA,k=O=>{let T=O||t.state.tr.replace(E,S,h.doc.slice(b.start-h.from,b.endB-h.from));if(h.sel){let D=SE(t,T.doc,h.sel);D&&!(Kt&&t.composing&&D.empty&&(b.start!=b.endB||t.input.lastChromeDelete<Date.now()-100)&&(D.head==E||D.head==T.mapping.map(S)-1)||_n&&D.empty&&D.head==E)&&T.setSelection(D)}return i&&T.setMeta("composition",i),T.scrollIntoView()},R;if(M)if(j.pos==w.pos){_n&&Bi<=11&&j.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>$r(t),20));let O=k(t.state.tr.delete(E,S)),T=p.resolve(b.start).marksAcross(p.resolve(b.endA));T&&O.ensureMarks(T),t.dispatch(O)}else if(b.endA==b.endB&&(R=RQ(j.parent.content.cut(j.parentOffset,w.parentOffset),C.parent.content.cut(C.parentOffset,b.endA-C.start())))){let O=k(t.state.tr);R.type=="add"?O.addMark(E,S,R.mark):O.removeMark(E,S,R.mark),t.dispatch(O)}else if(j.parent.child(j.index()).isText&&j.index()==w.index()-(w.textOffset?0:1)){let O=j.parent.textBetween(j.parentOffset,w.parentOffset),T=()=>k(t.state.tr.insertText(O,E,S));t.someProp("handleTextInput",D=>D(t,E,S,O,T))||t.dispatch(T())}else t.dispatch(k());else t.dispatch(k())}function SE(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Xv(t,e.resolve(n.anchor),e.resolve(n.head))}function RQ(t,e){let n=t.firstChild.marks,s=e.firstChild.marks,r=n,i=s,l,u,d;for(let p=0;p<s.length;p++)r=s[p].removeFromSet(r);for(let p=0;p<n.length;p++)i=n[p].removeFromSet(i);if(r.length==1&&i.length==0)u=r[0],l="add",d=p=>p.mark(u.addToSet(p.marks));else if(r.length==0&&i.length==1)u=i[0],l="remove",d=p=>p.mark(u.removeFromSet(p.marks));else return null;let h=[];for(let p=0;p<e.childCount;p++)h.push(d(e.child(p)));if(ce.from(h).eq(t))return{mark:u,type:l}}function LQ(t,e,n,s,r){if(n-e<=r.pos-s.pos||Kx(s,!0,!1)<r.pos)return!1;let i=t.resolve(e);if(!s.parent.isTextblock){let u=i.nodeAfter;return u!=null&&n==e+u.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let l=t.resolve(Kx(i,!0,!0));return!l.parent.isTextblock||l.pos>n||Kx(l,!0,!1)<n?!1:s.parent.content.cut(s.parentOffset).eq(l.parent.content)}function Kx(t,e,n){let s=t.depth,r=e?t.end():t.pos;for(;s>0&&(e||t.indexAfter(s)==t.node(s).childCount);)s--,r++,e=!1;if(n){let i=t.node(s).maybeChild(t.indexAfter(s));for(;i&&!i.isLeaf;)i=i.firstChild,r++}return r}function PQ(t,e,n,s,r){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:l,b:u}=t.findDiffEnd(e,n+t.size,n+e.size);if(r=="end"){let d=Math.max(0,i-Math.min(l,u));s-=l+d-i}if(l<i&&t.size<e.size){let d=s<=i&&s>=l?i-s:0;i-=d,i&&i<e.size&&CE(e.textBetween(i-1,i+1))&&(i+=d?1:-1),u=i+(u-l),l=i}else if(u<i){let d=s<=i&&s>=u?i-s:0;i-=d,i&&i<t.size&&CE(t.textBetween(i-1,i+1))&&(i+=d?1:-1),l=i+(l-u),u=i}return{start:i,endA:l,endB:u}}function CE(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class eD{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new ZG,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(AE),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=TE(this),EE(this),this.nodeViews=ME(this),this.docView=aE(this.state.doc,kE(this),Hx(this),this.dom,this),this.domObserver=new kQ(this,(s,r,i,l)=>OQ(this,s,r,i,l)),this.domObserver.start(),eQ(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&xb(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(AE),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let s in this._props)n[s]=this._props[s];n.state=this.state;for(let s in e)n[s]=e[s];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var s;let r=this.state,i=!1,l=!1;e.storedMarks&&this.composing&&(G4(this),l=!0),this.state=e;let u=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(u||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let y=ME(this);zQ(y,this.nodeViews)&&(this.nodeViews=y,i=!0)}(u||n.handleDOMEvents!=this._props.handleDOMEvents)&&xb(this),this.editable=TE(this),EE(this);let d=Hx(this),h=kE(this),p=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",m=i||!this.docView.matchesNode(e.doc,h,d);(m||!e.selection.eq(r.selection))&&(l=!0);let x=p=="preserve"&&l&&this.dom.style.overflowAnchor==null&&pG(this);if(l){this.domObserver.stop();let y=m&&(_n||Kt)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&BQ(r.selection,e.selection);if(m){let b=Kt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=pQ(this)),(i||!this.docView.update(e.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=aE(e.doc,h,d,this.dom,this)),b&&!this.trackWrites&&(y=!0)}y||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&zG(this))?$r(this,y):(L4(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((s=this.dragging)===null||s===void 0)&&s.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():x&&mG(x)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof we){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&eE(this,n.getBoundingClientRect(),e)}else eE(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let s=this.directPlugins[n];s.spec.view&&this.pluginViews.push(s.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let s=this.state.plugins[n];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let s=this.pluginViews[n];s.update&&s.update(this,e)}}updateDraggedNode(e,n){let s=e.node,r=-1;if(this.state.doc.nodeAt(s.from)==s.node)r=s.from;else{let i=s.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==s.node&&(r=i)}this.dragging=new Y4(e.slice,e.move,r<0?void 0:we.create(this.state.doc,r))}someProp(e,n){let s=this._props&&this._props[e],r;if(s!=null&&(r=n?n(s):s))return r;for(let l=0;l<this.directPlugins.length;l++){let u=this.directPlugins[l].props[e];if(u!=null&&(r=n?n(u):u))return r}let i=this.state.plugins;if(i)for(let l=0;l<i.length;l++){let u=i[l].props[e];if(u!=null&&(r=n?n(u):u))return r}}hasFocus(){if(_n){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&gG(this.dom),$r(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return wG(this,e)}coordsAtPos(e,n=1){return E4(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,s=-1){let r=this.docView.posFromDOM(e,n,s);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,n){return kG(this,n||this.state,e)}pasteHTML(e,n){return Pu(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Pu(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Wv(this,e)}destroy(){this.docView&&(tQ(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Hx(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,rG())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return sQ(this,e)}domSelectionRange(){let e=this.domSelection();return e?fn&&this.root.nodeType===11&&cG(this.dom.ownerDocument)==this.dom&&TQ(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}eD.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function kE(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let s in n)s=="class"?e.class+=" "+n[s]:s=="style"?e.style=(e.style?e.style+";":"")+n[s]:!e[s]&&s!="contenteditable"&&s!="nodeName"&&(e[s]=String(n[s]))}),e.translate||(e.translate="no"),[xn.node(0,t.state.doc.content.size,e)]}function EE(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:xn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function TE(t){return!t.someProp("editable",e=>e(t.state)===!1)}function BQ(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function ME(t){let e=Object.create(null);function n(s){for(let r in s)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=s[r])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function zQ(t,e){let n=0,s=0;for(let r in t){if(t[r]!=e[r])return!0;n++}for(let r in e)s++;return n!=s}function AE(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Gi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Wh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},IQ=typeof navigator<"u"&&/Mac/.test(navigator.platform),VQ=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var rn=0;rn<10;rn++)Gi[48+rn]=Gi[96+rn]=String(rn);for(var rn=1;rn<=24;rn++)Gi[rn+111]="F"+rn;for(var rn=65;rn<=90;rn++)Gi[rn]=String.fromCharCode(rn+32),Wh[rn]=String.fromCharCode(rn);for(var Gx in Gi)Wh.hasOwnProperty(Gx)||(Wh[Gx]=Gi[Gx]);function UQ(t){var e=IQ&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||VQ&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Wh:Gi)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const $Q=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),FQ=typeof navigator<"u"&&/Win/.test(navigator.platform);function qQ(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let s,r,i,l;for(let u=0;u<e.length-1;u++){let d=e[u];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))s=!0;else if(/^(c|ctrl|control)$/i.test(d))r=!0;else if(/^s(hift)?$/i.test(d))i=!0;else if(/^mod$/i.test(d))$Q?l=!0:r=!0;else throw new Error("Unrecognized modifier name: "+d)}return s&&(n="Alt-"+n),r&&(n="Ctrl-"+n),l&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function HQ(t){let e=Object.create(null);for(let n in t)e[qQ(n)]=t[n];return e}function Qx(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function KQ(t){return new gt({props:{handleKeyDown:tD(t)}})}function tD(t){let e=HQ(t);return function(n,s){let r=UQ(s),i,l=e[Qx(r,s)];if(l&&l(n.state,n.dispatch,n))return!0;if(r.length==1&&r!=" "){if(s.shiftKey){let u=e[Qx(r,s,!1)];if(u&&u(n.state,n.dispatch,n))return!0}if((s.altKey||s.metaKey||s.ctrlKey)&&!(FQ&&s.ctrlKey&&s.altKey)&&(i=Gi[s.keyCode])&&i!=r){let u=e[Qx(i,s)];if(u&&u(n.state,n.dispatch,n))return!0}}return!1}}var GQ=Object.defineProperty,r1=(t,e)=>{for(var n in e)GQ(t,n,{get:e[n],enumerable:!0})};function vm(t){const{state:e,transaction:n}=t;let{selection:s}=n,{doc:r}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return s},get doc(){return r},get tr(){return s=n.selection,r=n.doc,i=n.storedMarks,n}}}var wm=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:s}=e,{tr:r}=n,i=this.buildProps(r);return Object.fromEntries(Object.entries(t).map(([l,u])=>[l,(...h)=>{const p=u(...h)(i);return!r.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(r),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:s,state:r}=this,{view:i}=s,l=[],u=!!t,d=t||r.tr,h=()=>(!u&&e&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(d),l.every(m=>m===!0)),p={...Object.fromEntries(Object.entries(n).map(([m,x])=>[m,(...b)=>{const j=this.buildProps(d,e),w=x(...b)(j);return l.push(w),p}])),run:h};return p}createCan(t){const{rawCommands:e,state:n}=this,s=!1,r=t||n.tr,i=this.buildProps(r,s);return{...Object.fromEntries(Object.entries(e).map(([u,d])=>[u,(...h)=>d(...h)({...i,dispatch:void 0})])),chain:()=>this.createChain(r,s)}}buildProps(t,e=!0){const{rawCommands:n,editor:s,state:r}=this,{view:i}=s,l={tr:t,editor:s,view:i,state:vm({state:r,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([u,d])=>[u,(...h)=>d(...h)(l)]))}};return l}},nD={};r1(nD,{blur:()=>QQ,clearContent:()=>YQ,clearNodes:()=>JQ,command:()=>XQ,createParagraphNear:()=>WQ,cut:()=>ZQ,deleteCurrentNode:()=>eY,deleteNode:()=>tY,deleteRange:()=>nY,deleteSelection:()=>sY,enter:()=>rY,exitCode:()=>iY,extendMarkRange:()=>aY,first:()=>oY,focus:()=>cY,forEach:()=>uY,insertContent:()=>dY,insertContentAt:()=>pY,joinBackward:()=>xY,joinDown:()=>gY,joinForward:()=>yY,joinItemBackward:()=>bY,joinItemForward:()=>vY,joinTextblockBackward:()=>wY,joinTextblockForward:()=>NY,joinUp:()=>mY,keyboardShortcut:()=>SY,lift:()=>CY,liftEmptyBlock:()=>kY,liftListItem:()=>EY,newlineInCode:()=>TY,resetAttributes:()=>MY,scrollIntoView:()=>AY,selectAll:()=>_Y,selectNodeBackward:()=>DY,selectNodeForward:()=>OY,selectParentNode:()=>RY,selectTextblockEnd:()=>LY,selectTextblockStart:()=>PY,setContent:()=>BY,setMark:()=>sJ,setMeta:()=>rJ,setNode:()=>iJ,setNodeSelection:()=>aJ,setTextDirection:()=>oJ,setTextSelection:()=>lJ,sinkListItem:()=>cJ,splitBlock:()=>uJ,splitListItem:()=>dJ,toggleList:()=>fJ,toggleMark:()=>hJ,toggleNode:()=>pJ,toggleWrap:()=>mJ,undoInputRule:()=>gJ,unsetAllMarks:()=>xJ,unsetMark:()=>yJ,unsetTextDirection:()=>bJ,updateAttributes:()=>vJ,wrapIn:()=>wJ,wrapInList:()=>NJ});var QQ=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),YQ=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),JQ=()=>({state:t,tr:e,dispatch:n})=>{const{selection:s}=e,{ranges:r}=s;return n&&r.forEach(({$from:i,$to:l})=>{t.doc.nodesBetween(i.pos,l.pos,(u,d)=>{if(u.type.isText)return;const{doc:h,mapping:p}=e,m=h.resolve(p.map(d)),x=h.resolve(p.map(d+u.nodeSize)),y=m.blockRange(x);if(!y)return;const b=Rl(y);if(u.type.isTextblock){const{defaultType:j}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(y.start,j)}(b||b===0)&&e.lift(y,b)})}),!0},XQ=t=>e=>t(e),WQ=()=>({state:t,dispatch:e})=>g4(t,e),ZQ=(t,e)=>({editor:n,tr:s})=>{const{state:r}=n,i=r.doc.slice(t.from,t.to);s.deleteRange(t.from,t.to);const l=s.mapping.map(e);return s.insert(l,i.content),s.setSelection(new Te(s.doc.resolve(Math.max(l-1,0)))),!0},eY=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,s=n.$anchor.node();if(s.content.size>0)return!1;const r=t.selection.$anchor;for(let i=r.depth;i>0;i-=1)if(r.node(i).type===s.type){if(e){const u=r.before(i),d=r.after(i);t.delete(u,d).scrollIntoView()}return!0}return!1};function Lt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var tY=t=>({tr:e,state:n,dispatch:s})=>{const r=Lt(t,n.schema),i=e.selection.$anchor;for(let l=i.depth;l>0;l-=1)if(i.node(l).type===r){if(s){const d=i.before(l),h=i.after(l);e.delete(d,h).scrollIntoView()}return!0}return!1},nY=t=>({tr:e,dispatch:n})=>{const{from:s,to:r}=t;return n&&e.delete(s,r),!0},sY=()=>({state:t,dispatch:e})=>qv(t,e),rY=()=>({commands:t})=>t.keyboardShortcut("Enter"),iY=()=>({state:t,dispatch:e})=>FK(t,e);function i1(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Zh(t,e,n={strict:!0}){const s=Object.keys(e);return s.length?s.every(r=>n.strict?e[r]===t[r]:i1(e[r])?e[r].test(t[r]):e[r]===t[r]):!0}function sD(t,e,n={}){return t.find(s=>s.type===e&&Zh(Object.fromEntries(Object.keys(n).map(r=>[r,s.attrs[r]])),n))}function _E(t,e,n={}){return!!sD(t,e,n)}function a1(t,e,n){var s;if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if((!r.node||!r.node.marks.some(p=>p.type===e))&&(r=t.parent.childBefore(t.parentOffset)),!r.node||!r.node.marks.some(p=>p.type===e)||(n=n||((s=r.node.marks[0])==null?void 0:s.attrs),!sD([...r.node.marks],e,n)))return;let l=r.index,u=t.start()+r.offset,d=l+1,h=u+r.node.nodeSize;for(;l>0&&_E([...t.parent.child(l-1).marks],e,n);)l-=1,u-=t.parent.child(l).nodeSize;for(;d<t.parent.childCount&&_E([...t.parent.child(d).marks],e,n);)h+=t.parent.child(d).nodeSize,d+=1;return{from:u,to:h}}function Yr(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var aY=(t,e={})=>({tr:n,state:s,dispatch:r})=>{const i=Yr(t,s.schema),{doc:l,selection:u}=n,{$from:d,from:h,to:p}=u;if(r){const m=a1(d,i,e);if(m&&m.from<=h&&m.to>=p){const x=Te.create(l,m.from,m.to);n.setSelection(x)}}return!0},oY=t=>e=>{const n=typeof t=="function"?t(e):t;for(let s=0;s<n.length;s+=1)if(n[s](e))return!0;return!1};function rD(t){return t instanceof Te}function Aa(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function iD(t,e=null){if(!e)return null;const n=Le.atStart(t),s=Le.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return s;const r=n.from,i=s.to;return e==="all"?Te.create(t,Aa(0,r,i),Aa(t.content.size,r,i)):Te.create(t,Aa(e,r,i),Aa(e,r,i))}function lY(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function o1(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var cY=(t=null,e={})=>({editor:n,view:s,tr:r,dispatch:i})=>{e={scrollIntoView:!0,...e};const l=()=>{(o1()||lY())&&s.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(s.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(s.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!rD(n.state.selection))return l(),!0;const u=iD(r.doc,t)||n.state.selection,d=n.state.selection.eq(u);return i&&(d||r.setSelection(u),d&&r.storedMarks&&r.setStoredMarks(r.storedMarks),l()),!0},uY=(t,e)=>n=>t.every((s,r)=>e(s,{...n,index:r})),dY=(t,e)=>({tr:n,commands:s})=>s.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),aD=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const s=e[n];s.nodeType===3&&s.nodeValue&&/^(\n\s\s|\n)$/.test(s.nodeValue)?t.removeChild(s):s.nodeType===1&&aD(s)}return t};function Qf(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return aD(n)}function zu(t,e,n){if(t instanceof Ds||t instanceof ce)return t;n={slice:!0,parseOptions:{},...n};const s=typeof t=="object"&&t!==null,r=typeof t=="string";if(s)try{if(Array.isArray(t)&&t.length>0)return ce.fromArray(t.map(u=>e.nodeFromJSON(u)));const l=e.nodeFromJSON(t);return n.errorOnInvalidContent&&l.check(),l}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),zu("",e,n)}if(r){if(n.errorOnInvalidContent){let l=!1,u="";const d=new F3({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(l=!0,u=typeof h=="string"?h:h.outerHTML,null)}]}})});if(n.slice?Pi.fromSchema(d).parseSlice(Qf(t),n.parseOptions):Pi.fromSchema(d).parse(Qf(t),n.parseOptions),n.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const i=Pi.fromSchema(e);return n.slice?i.parseSlice(Qf(t),n.parseOptions).content:i.parse(Qf(t),n.parseOptions)}return zu("",e,n)}function fY(t,e,n){const s=t.steps.length-1;if(s<e)return;const r=t.steps[s];if(!(r instanceof qt||r instanceof Gt))return;const i=t.mapping.maps[s];let l=0;i.forEach((u,d,h,p)=>{l===0&&(l=p)}),t.setSelection(Le.near(t.doc.resolve(l),n))}var hY=t=>!("type"in t),pY=(t,e,n)=>({tr:s,dispatch:r,editor:i})=>{var l;if(r){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let u;const d=w=>{i.emit("contentError",{editor:i,error:w,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{zu(e,i.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(w){d(w)}try{u=zu(e,i.schema,{parseOptions:h,errorOnInvalidContent:(l=n.errorOnInvalidContent)!=null?l:i.options.enableContentCheck})}catch(w){return d(w),!1}let{from:p,to:m}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},x=!0,y=!0;if((hY(u)?u:[u]).forEach(w=>{w.check(),x=x?w.isText&&w.marks.length===0:!1,y=y?w.isBlock:!1}),p===m&&y){const{parent:w}=s.doc.resolve(p);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(p-=1,m+=1)}let j;if(x){if(Array.isArray(e))j=e.map(w=>w.text||"").join("");else if(e instanceof ce){let w="";e.forEach(C=>{C.text&&(w+=C.text)}),j=w}else typeof e=="object"&&e&&e.text?j=e.text:j=e;s.insertText(j,p,m)}else{j=u;const w=s.doc.resolve(p),C=w.node(),M=w.parentOffset===0,E=C.isText||C.isTextblock,S=C.content.size>0;M&&E&&S&&(p=Math.max(0,p-1)),s.replaceWith(p,m,j)}n.updateSelection&&fY(s,s.steps.length-1,-1),n.applyInputRules&&s.setMeta("applyInputRules",{from:p,text:j}),n.applyPasteRules&&s.setMeta("applyPasteRules",{from:p,text:j})}return!0},mY=()=>({state:t,dispatch:e})=>VK(t,e),gY=()=>({state:t,dispatch:e})=>UK(t,e),xY=()=>({state:t,dispatch:e})=>c4(t,e),yY=()=>({state:t,dispatch:e})=>h4(t,e),bY=()=>({state:t,dispatch:e,tr:n})=>{try{const s=pm(t.doc,t.selection.$from.pos,-1);return s==null?!1:(n.join(s,2),e&&e(n),!0)}catch{return!1}},vY=()=>({state:t,dispatch:e,tr:n})=>{try{const s=pm(t.doc,t.selection.$from.pos,1);return s==null?!1:(n.join(s,2),e&&e(n),!0)}catch{return!1}},wY=()=>({state:t,dispatch:e})=>zK(t,e),NY=()=>({state:t,dispatch:e})=>IK(t,e);function oD(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function jY(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let s,r,i,l;for(let u=0;u<e.length-1;u+=1){const d=e[u];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))s=!0;else if(/^(c|ctrl|control)$/i.test(d))r=!0;else if(/^s(hift)?$/i.test(d))i=!0;else if(/^mod$/i.test(d))o1()||oD()?l=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return s&&(n=`Alt-${n}`),r&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}var SY=t=>({editor:e,view:n,tr:s,dispatch:r})=>{const i=jY(t).split(/-(?!$)/),l=i.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),u=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",h=>h(n,u))});return d?.steps.forEach(h=>{const p=h.map(s.mapping);p&&r&&s.maybeStep(p)}),!0};function Qi(t,e,n={}){const{from:s,to:r,empty:i}=t.selection,l=e?Lt(e,t.schema):null,u=[];t.doc.nodesBetween(s,r,(m,x)=>{if(m.isText)return;const y=Math.max(s,x),b=Math.min(r,x+m.nodeSize);u.push({node:m,from:y,to:b})});const d=r-s,h=u.filter(m=>l?l.name===m.node.type.name:!0).filter(m=>Zh(m.node.attrs,n,{strict:!1}));return i?!!h.length:h.reduce((m,x)=>m+x.to-x.from,0)>=d}var CY=(t,e={})=>({state:n,dispatch:s})=>{const r=Lt(t,n.schema);return Qi(n,r,e)?$K(n,s):!1},kY=()=>({state:t,dispatch:e})=>x4(t,e),EY=t=>({state:e,dispatch:n})=>{const s=Lt(t,e.schema);return eG(s)(e,n)},TY=()=>({state:t,dispatch:e})=>m4(t,e);function Nm(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function DE(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((s,r)=>(n.includes(r)||(s[r]=t[r]),s),{})}var MY=(t,e)=>({tr:n,state:s,dispatch:r})=>{let i=null,l=null;const u=Nm(typeof t=="string"?t:t.name,s.schema);if(!u)return!1;u==="node"&&(i=Lt(t,s.schema)),u==="mark"&&(l=Yr(t,s.schema));let d=!1;return n.selection.ranges.forEach(h=>{s.doc.nodesBetween(h.$from.pos,h.$to.pos,(p,m)=>{i&&i===p.type&&(d=!0,r&&n.setNodeMarkup(m,void 0,DE(p.attrs,e))),l&&p.marks.length&&p.marks.forEach(x=>{l===x.type&&(d=!0,r&&n.addMark(m,m+p.nodeSize,l.create(DE(x.attrs,e))))})})}),d},AY=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),_Y=()=>({tr:t,dispatch:e})=>{if(e){const n=new Gn(t.doc);t.setSelection(n)}return!0},DY=()=>({state:t,dispatch:e})=>d4(t,e),OY=()=>({state:t,dispatch:e})=>p4(t,e),RY=()=>({state:t,dispatch:e})=>KK(t,e),LY=()=>({state:t,dispatch:e})=>YK(t,e),PY=()=>({state:t,dispatch:e})=>QK(t,e);function yb(t,e,n={},s={}){return zu(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:s.errorOnInvalidContent})}var BY=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:s={}}={})=>({editor:r,tr:i,dispatch:l,commands:u})=>{const{doc:d}=i;if(s.preserveWhitespace!=="full"){const h=yb(t,r.schema,s,{errorOnInvalidContent:e??r.options.enableContentCheck});return l&&i.replaceWith(0,d.content.size,h).setMeta("preventUpdate",!n),!0}return l&&i.setMeta("preventUpdate",!n),u.insertContentAt({from:0,to:d.content.size},t,{parseOptions:s,errorOnInvalidContent:e??r.options.enableContentCheck})};function lD(t,e){const n=Yr(e,t.schema),{from:s,to:r,empty:i}=t.selection,l=[];i?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(s,r,d=>{l.push(...d.marks)});const u=l.find(d=>d.type.name===n.name);return u?{...u.attrs}:{}}function cD(t,e){const n=new i4(t);return e.forEach(s=>{s.steps.forEach(r=>{n.step(r)})}),n}function zY(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function IY(t,e,n){const s=[];return t.nodesBetween(e.from,e.to,(r,i)=>{n(r)&&s.push({node:r,pos:i})}),s}function VY(t,e){for(let n=t.depth;n>0;n-=1){const s=t.node(n);if(e(s))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:s}}}function jm(t){return e=>VY(e.$from,t)}function be(t,e,n){return t.config[e]===void 0&&t.parent?be(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?be(t.parent,e,n):null}):t.config[e]}function l1(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},s=be(e,"addExtensions",n);return s?[e,...l1(s())]:e}).flat(10)}function c1(t,e){const n=Xa.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function uD(t){return typeof t=="function"}function Ze(t,e=void 0,...n){return uD(t)?e?t.bind(e)(...n):t(...n):t}function UY(t={}){return Object.keys(t).length===0&&t.constructor===Object}function wl(t){const e=t.filter(r=>r.type==="extension"),n=t.filter(r=>r.type==="node"),s=t.filter(r=>r.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:s}}function dD(t){const e=[],{nodeExtensions:n,markExtensions:s}=wl(t),r=[...n,...s],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const u={name:l.name,options:l.options,storage:l.storage,extensions:r},d=be(l,"addGlobalAttributes",u);if(!d)return;d().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([x,y])=>{e.push({type:m,name:x,attribute:{...i,...y}})})})})}),r.forEach(l=>{const u={name:l.name,options:l.options,storage:l.storage},d=be(l,"addAttributes",u);if(!d)return;const h=d();Object.entries(h).forEach(([p,m])=>{const x={...i,...m};typeof x?.default=="function"&&(x.default=x.default()),x?.isRequired&&x?.default===void 0&&delete x.default,e.push({type:l.name,name:p,attribute:x})})}),e}function Pt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const s={...e};return Object.entries(n).forEach(([r,i])=>{if(!s[r]){s[r]=i;return}if(r==="class"){const u=i?String(i).split(" "):[],d=s[r]?s[r].split(" "):[],h=u.filter(p=>!d.includes(p));s[r]=[...d,...h].join(" ")}else if(r==="style"){const u=i?i.split(";").map(p=>p.trim()).filter(Boolean):[],d=s[r]?s[r].split(";").map(p=>p.trim()).filter(Boolean):[],h=new Map;d.forEach(p=>{const[m,x]=p.split(":").map(y=>y.trim());h.set(m,x)}),u.forEach(p=>{const[m,x]=p.split(":").map(y=>y.trim());h.set(m,x)}),s[r]=Array.from(h.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else s[r]=i}),s},{})}function ep(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,s)=>Pt(n,s),{})}function $Y(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function OE(t,e){return"style"in t?t:{...t,getAttrs:n=>{const s=t.getAttrs?t.getAttrs(n):t.attrs;if(s===!1)return!1;const r=e.reduce((i,l)=>{const u=l.attribute.parseHTML?l.attribute.parseHTML(n):$Y(n.getAttribute(l.name));return u==null?i:{...i,[l.name]:u}},{});return{...s,...r}}}}function RE(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&UY(n)?!1:n!=null))}function LE(t){var e,n;const s={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(s.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(s.validate=t.attribute.validate),[t.name,s]}function FY(t,e){var n;const s=dD(t),{nodeExtensions:r,markExtensions:i}=wl(t),l=(n=r.find(h=>be(h,"topNode")))==null?void 0:n.name,u=Object.fromEntries(r.map(h=>{const p=s.filter(C=>C.type===h.name),m={name:h.name,options:h.options,storage:h.storage,editor:e},x=t.reduce((C,M)=>{const E=be(M,"extendNodeSchema",m);return{...C,...E?E(h):{}}},{}),y=RE({...x,content:Ze(be(h,"content",m)),marks:Ze(be(h,"marks",m)),group:Ze(be(h,"group",m)),inline:Ze(be(h,"inline",m)),atom:Ze(be(h,"atom",m)),selectable:Ze(be(h,"selectable",m)),draggable:Ze(be(h,"draggable",m)),code:Ze(be(h,"code",m)),whitespace:Ze(be(h,"whitespace",m)),linebreakReplacement:Ze(be(h,"linebreakReplacement",m)),defining:Ze(be(h,"defining",m)),isolating:Ze(be(h,"isolating",m)),attrs:Object.fromEntries(p.map(LE))}),b=Ze(be(h,"parseHTML",m));b&&(y.parseDOM=b.map(C=>OE(C,p)));const j=be(h,"renderHTML",m);j&&(y.toDOM=C=>j({node:C,HTMLAttributes:ep(C,p)}));const w=be(h,"renderText",m);return w&&(y.toText=w),[h.name,y]})),d=Object.fromEntries(i.map(h=>{const p=s.filter(w=>w.type===h.name),m={name:h.name,options:h.options,storage:h.storage,editor:e},x=t.reduce((w,C)=>{const M=be(C,"extendMarkSchema",m);return{...w,...M?M(h):{}}},{}),y=RE({...x,inclusive:Ze(be(h,"inclusive",m)),excludes:Ze(be(h,"excludes",m)),group:Ze(be(h,"group",m)),spanning:Ze(be(h,"spanning",m)),code:Ze(be(h,"code",m)),attrs:Object.fromEntries(p.map(LE))}),b=Ze(be(h,"parseHTML",m));b&&(y.parseDOM=b.map(w=>OE(w,p)));const j=be(h,"renderHTML",m);return j&&(y.toDOM=w=>j({mark:w,HTMLAttributes:ep(w,p)})),[h.name,y]}));return new F3({topNode:l,nodes:u,marks:d})}function qY(t){const e=t.filter((n,s)=>t.indexOf(n)!==s);return Array.from(new Set(e))}function u1(t){return t.sort((n,s)=>{const r=be(n,"priority")||100,i=be(s,"priority")||100;return r>i?-1:r<i?1:0})}function fD(t){const e=u1(l1(t)),n=qY(e.map(s=>s.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),e}function hD(t,e,n){const{from:s,to:r}=e,{blockSeparator:i=`

`,textSerializers:l={}}=n||{};let u="";return t.nodesBetween(s,r,(d,h,p,m)=>{var x;d.isBlock&&h>s&&(u+=i);const y=l?.[d.type.name];if(y)return p&&(u+=y({node:d,pos:h,parent:p,index:m,range:e})),!1;d.isText&&(u+=(x=d?.text)==null?void 0:x.slice(Math.max(s,h)-h,r-h))}),u}function HY(t,e){const n={from:0,to:t.content.size};return hD(t,n,e)}function pD(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function KY(t,e){const n=Lt(e,t.schema),{from:s,to:r}=t.selection,i=[];t.doc.nodesBetween(s,r,u=>{i.push(u)});const l=i.reverse().find(u=>u.type.name===n.name);return l?{...l.attrs}:{}}function mD(t,e){const n=Nm(typeof e=="string"?e:e.name,t.schema);return n==="node"?KY(t,e):n==="mark"?lD(t,e):{}}function GY(t,e=JSON.stringify){const n={};return t.filter(s=>{const r=e(s);return Object.prototype.hasOwnProperty.call(n,r)?!1:n[r]=!0})}function QY(t){const e=GY(t);return e.length===1?e:e.filter((n,s)=>!e.filter((i,l)=>l!==s).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function gD(t){const{mapping:e,steps:n}=t,s=[];return e.maps.forEach((r,i)=>{const l=[];if(r.ranges.length)r.forEach((u,d)=>{l.push({from:u,to:d})});else{const{from:u,to:d}=n[i];if(u===void 0||d===void 0)return;l.push({from:u,to:d})}l.forEach(({from:u,to:d})=>{const h=e.slice(i).map(u,-1),p=e.slice(i).map(d),m=e.invert().map(h,-1),x=e.invert().map(p);s.push({oldRange:{from:m,to:x},newRange:{from:h,to:p}})})}),QY(s)}function d1(t,e,n){const s=[];return t===e?n.resolve(t).marks().forEach(r=>{const i=n.resolve(t),l=a1(i,r.type);l&&s.push({mark:r,...l})}):n.nodesBetween(t,e,(r,i)=>{!r||r?.nodeSize===void 0||s.push(...r.marks.map(l=>({from:i,to:i+r.nodeSize,mark:l})))}),s}var YY=(t,e,n,s=20)=>{const r=t.doc.resolve(n);let i=s,l=null;for(;i>0&&l===null;){const u=r.node(i);u?.type.name===e?l=u:i-=1}return[l,i]};function Yx(t,e){return e.nodes[t]||e.marks[t]||null}function gh(t,e,n){return Object.fromEntries(Object.entries(n).filter(([s])=>{const r=t.find(i=>i.type===e&&i.name===s);return r?r.attribute.keepOnSplit:!1}))}var JY=(t,e=500)=>{let n="";const s=t.parentOffset;return t.parent.nodesBetween(Math.max(0,s-e),s,(r,i,l,u)=>{var d,h;const p=((h=(d=r.type.spec).toText)==null?void 0:h.call(d,{node:r,pos:i,parent:l,index:u}))||r.textContent||"%leaf%";n+=r.isAtom&&!r.isText?p:p.slice(0,Math.max(0,s-i))}),n};function bb(t,e,n={}){const{empty:s,ranges:r}=t.selection,i=e?Yr(e,t.schema):null;if(s)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>i?i.name===m.type.name:!0).find(m=>Zh(m.attrs,n,{strict:!1}));let l=0;const u=[];if(r.forEach(({$from:m,$to:x})=>{const y=m.pos,b=x.pos;t.doc.nodesBetween(y,b,(j,w)=>{if(!j.isText&&!j.marks.length)return;const C=Math.max(y,w),M=Math.min(b,w+j.nodeSize),E=M-C;l+=E,u.push(...j.marks.map(S=>({mark:S,from:C,to:M})))})}),l===0)return!1;const d=u.filter(m=>i?i.name===m.mark.type.name:!0).filter(m=>Zh(m.mark.attrs,n,{strict:!1})).reduce((m,x)=>m+x.to-x.from,0),h=u.filter(m=>i?m.mark.type!==i&&m.mark.type.excludes(i):!0).reduce((m,x)=>m+x.to-x.from,0);return(d>0?d+h:d)>=l}function XY(t,e,n={}){if(!e)return Qi(t,null,n)||bb(t,null,n);const s=Nm(e,t.schema);return s==="node"?Qi(t,e,n):s==="mark"?bb(t,e,n):!1}var WY=(t,e)=>{const{$from:n,$to:s,$anchor:r}=t.selection;if(e){const i=jm(u=>u.type.name===e)(t.selection);if(!i)return!1;const l=t.doc.resolve(i.pos+1);return r.pos+1===l.end()}return!(s.parentOffset<s.parent.nodeSize-2||n.pos!==s.pos)},ZY=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function PE(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function BE(t,e){const{nodeExtensions:n}=wl(e),s=n.find(l=>l.name===t);if(!s)return!1;const r={name:s.name,options:s.options,storage:s.storage},i=Ze(be(s,"group",r));return typeof i!="string"?!1:i.split(" ").includes("list")}function Sm(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var s;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((s=t.text)!=null?s:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let r=!0;return t.content.forEach(i=>{r!==!1&&(Sm(i,{ignoreWhitespace:n,checkChildren:e})||(r=!1))}),r}return!1}function xD(t){return t instanceof we}var yD=class bD{constructor(e){this.position=e}static fromJSON(e){return new bD(e.position)}toJSON(){return{position:this.position}}};function eJ(t,e){const n=e.mapping.mapResult(t.position);return{position:new yD(n.pos),mapResult:n}}function tJ(t){return new yD(t)}function nJ(t,e,n){var s;const{selection:r}=e;let i=null;if(rD(r)&&(i=r.$cursor),i){const u=(s=t.storedMarks)!=null?s:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(u)||!u.some(h=>h.type.excludes(n)))}const{ranges:l}=r;return l.some(({$from:u,$to:d})=>{let h=u.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(u.pos,d.pos,(p,m,x)=>{if(h)return!1;if(p.isInline){const y=!x||x.type.allowsMarkType(n),b=!!n.isInSet(p.marks)||!p.marks.some(j=>j.type.excludes(n));h=y&&b}return!h}),h})}var sJ=(t,e={})=>({tr:n,state:s,dispatch:r})=>{const{selection:i}=n,{empty:l,ranges:u}=i,d=Yr(t,s.schema);if(r)if(l){const h=lD(s,d);n.addStoredMark(d.create({...h,...e}))}else u.forEach(h=>{const p=h.$from.pos,m=h.$to.pos;s.doc.nodesBetween(p,m,(x,y)=>{const b=Math.max(y,p),j=Math.min(y+x.nodeSize,m);x.marks.find(C=>C.type===d)?x.marks.forEach(C=>{d===C.type&&n.addMark(b,j,d.create({...C.attrs,...e}))}):n.addMark(b,j,d.create(e))})});return nJ(s,n,d)},rJ=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),iJ=(t,e={})=>({state:n,dispatch:s,chain:r})=>{const i=Lt(t,n.schema);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),i.isTextblock?r().command(({commands:u})=>Xk(i,{...l,...e})(n)?!0:u.clearNodes()).command(({state:u})=>Xk(i,{...l,...e})(u,s)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},aJ=t=>({tr:e,dispatch:n})=>{if(n){const{doc:s}=e,r=Aa(t,0,s.content.size),i=we.create(s,r);e.setSelection(i)}return!0},oJ=(t,e)=>({tr:n,state:s,dispatch:r})=>{const{selection:i}=s;let l,u;return typeof e=="number"?(l=e,u=e):e&&"from"in e&&"to"in e?(l=e.from,u=e.to):(l=i.from,u=i.to),r&&n.doc.nodesBetween(l,u,(d,h)=>{d.isText||n.setNodeMarkup(h,void 0,{...d.attrs,dir:t})}),!0},lJ=t=>({tr:e,dispatch:n})=>{if(n){const{doc:s}=e,{from:r,to:i}=typeof t=="number"?{from:t,to:t}:t,l=Te.atStart(s).from,u=Te.atEnd(s).to,d=Aa(r,l,u),h=Aa(i,l,u),p=Te.create(s,d,h);e.setSelection(p)}return!0},cJ=t=>({state:e,dispatch:n})=>{const s=Lt(t,e.schema);return sG(s)(e,n)};function zE(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const s=n.filter(r=>e?.includes(r.type.name));t.tr.ensureMarks(s)}}var uJ=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:s,editor:r})=>{const{selection:i,doc:l}=e,{$from:u,$to:d}=i,h=r.extensionManager.attributes,p=gh(h,u.node().type.name,u.node().attrs);if(i instanceof we&&i.node.isBlock)return!u.parentOffset||!Ur(l,u.pos)?!1:(s&&(t&&zE(n,r.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const m=d.parentOffset===d.parent.content.size,x=u.depth===0?void 0:zY(u.node(-1).contentMatchAt(u.indexAfter(-1)));let y=m&&x?[{type:x,attrs:p}]:void 0,b=Ur(e.doc,e.mapping.map(u.pos),1,y);if(!y&&!b&&Ur(e.doc,e.mapping.map(u.pos),1,x?[{type:x}]:void 0)&&(b=!0,y=x?[{type:x,attrs:p}]:void 0),s){if(b&&(i instanceof Te&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,y),x&&!m&&!u.parentOffset&&u.parent.type!==x)){const j=e.mapping.map(u.before()),w=e.doc.resolve(j);u.node(-1).canReplaceWith(w.index(),w.index()+1,x)&&e.setNodeMarkup(e.mapping.map(u.before()),x)}t&&zE(n,r.extensionManager.splittableMarks),e.scrollIntoView()}return b},dJ=(t,e={})=>({tr:n,state:s,dispatch:r,editor:i})=>{var l;const u=Lt(t,s.schema),{$from:d,$to:h}=s.selection,p=s.selection.node;if(p&&p.isBlock||d.depth<2||!d.sameParent(h))return!1;const m=d.node(-1);if(m.type!==u)return!1;const x=i.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==u||d.index(-2)!==d.node(-2).childCount-1)return!1;if(r){let C=ce.empty;const M=d.index(-1)?1:d.index(-2)?2:3;for(let T=d.depth-M;T>=d.depth-3;T-=1)C=ce.from(d.node(T).copy(C));const E=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,S={...gh(x,d.node().type.name,d.node().attrs),...e},k=((l=u.contentMatch.defaultType)==null?void 0:l.createAndFill(S))||void 0;C=C.append(ce.from(u.createAndFill(null,k)||void 0));const R=d.before(d.depth-(M-1));n.replace(R,d.after(-E),new pe(C,4-M,0));let O=-1;n.doc.nodesBetween(R,n.doc.content.size,(T,D)=>{if(O>-1)return!1;T.isTextblock&&T.content.size===0&&(O=D+1)}),O>-1&&n.setSelection(Te.near(n.doc.resolve(O))),n.scrollIntoView()}return!0}const y=h.pos===d.end()?m.contentMatchAt(0).defaultType:null,b={...gh(x,m.type.name,m.attrs),...e},j={...gh(x,d.node().type.name,d.node().attrs),...e};n.delete(d.pos,h.pos);const w=y?[{type:u,attrs:b},{type:y,attrs:j}]:[{type:u,attrs:b}];if(!Ur(n.doc,d.pos,2))return!1;if(r){const{selection:C,storedMarks:M}=s,{splittableMarks:E}=i.extensionManager,S=M||C.$to.parentOffset&&C.$from.marks();if(n.split(d.pos,2,w).scrollIntoView(),!S||!r)return!0;const k=S.filter(R=>E.includes(R.type.name));n.ensureMarks(k)}return!0},Jx=(t,e)=>{const n=jm(l=>l.type===e)(t.selection);if(!n)return!0;const s=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(s===void 0)return!0;const r=t.doc.nodeAt(s);return n.node.type===r?.type&&Xi(t.doc,n.pos)&&t.join(n.pos),!0},Xx=(t,e)=>{const n=jm(l=>l.type===e)(t.selection);if(!n)return!0;const s=t.doc.resolve(n.start).after(n.depth);if(s===void 0)return!0;const r=t.doc.nodeAt(s);return n.node.type===r?.type&&Xi(t.doc,s)&&t.join(s),!0},fJ=(t,e,n,s={})=>({editor:r,tr:i,state:l,dispatch:u,chain:d,commands:h,can:p})=>{const{extensions:m,splittableMarks:x}=r.extensionManager,y=Lt(t,l.schema),b=Lt(e,l.schema),{selection:j,storedMarks:w}=l,{$from:C,$to:M}=j,E=C.blockRange(M),S=w||j.$to.parentOffset&&j.$from.marks();if(!E)return!1;const k=jm(R=>BE(R.type.name,m))(j);if(E.depth>=1&&k&&E.depth-k.depth<=1){if(k.node.type===y)return h.liftListItem(b);if(BE(k.node.type.name,m)&&y.validContent(k.node.content)&&u)return d().command(()=>(i.setNodeMarkup(k.pos,y),!0)).command(()=>Jx(i,y)).command(()=>Xx(i,y)).run()}return!n||!S||!u?d().command(()=>p().wrapInList(y,s)?!0:h.clearNodes()).wrapInList(y,s).command(()=>Jx(i,y)).command(()=>Xx(i,y)).run():d().command(()=>{const R=p().wrapInList(y,s),O=S.filter(T=>x.includes(T.type.name));return i.ensureMarks(O),R?!0:h.clearNodes()}).wrapInList(y,s).command(()=>Jx(i,y)).command(()=>Xx(i,y)).run()},hJ=(t,e={},n={})=>({state:s,commands:r})=>{const{extendEmptyMarkRange:i=!1}=n,l=Yr(t,s.schema);return bb(s,l,e)?r.unsetMark(l,{extendEmptyMarkRange:i}):r.setMark(l,e)},pJ=(t,e,n={})=>({state:s,commands:r})=>{const i=Lt(t,s.schema),l=Lt(e,s.schema),u=Qi(s,i,n);let d;return s.selection.$anchor.sameParent(s.selection.$head)&&(d=s.selection.$anchor.parent.attrs),u?r.setNode(l,d):r.setNode(i,{...d,...n})},mJ=(t,e={})=>({state:n,commands:s})=>{const r=Lt(t,n.schema);return Qi(n,r,e)?s.lift(r):s.wrapIn(r,e)},gJ=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let s=0;s<n.length;s+=1){const r=n[s];let i;if(r.spec.isInputRules&&(i=r.getState(t))){if(e){const l=t.tr,u=i.transform;for(let d=u.steps.length-1;d>=0;d-=1)l.step(u.steps[d].invert(u.docs[d]));if(i.text){const d=l.doc.resolve(i.from).marks();l.replaceWith(i.from,i.to,t.schema.text(i.text,d))}else l.delete(i.from,i.to)}return!0}}return!1},xJ=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:s,ranges:r}=n;return s||e&&r.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},yJ=(t,e={})=>({tr:n,state:s,dispatch:r})=>{var i;const{extendEmptyMarkRange:l=!1}=e,{selection:u}=n,d=Yr(t,s.schema),{$from:h,empty:p,ranges:m}=u;if(!r)return!0;if(p&&l){let{from:x,to:y}=u;const b=(i=h.marks().find(w=>w.type===d))==null?void 0:i.attrs,j=a1(h,d,b);j&&(x=j.from,y=j.to),n.removeMark(x,y,d)}else m.forEach(x=>{n.removeMark(x.$from.pos,x.$to.pos,d)});return n.removeStoredMark(d),!0},bJ=t=>({tr:e,state:n,dispatch:s})=>{const{selection:r}=n;let i,l;return typeof t=="number"?(i=t,l=t):t&&"from"in t&&"to"in t?(i=t.from,l=t.to):(i=r.from,l=r.to),s&&e.doc.nodesBetween(i,l,(u,d)=>{if(u.isText)return;const h={...u.attrs};delete h.dir,e.setNodeMarkup(d,void 0,h)}),!0},vJ=(t,e={})=>({tr:n,state:s,dispatch:r})=>{let i=null,l=null;const u=Nm(typeof t=="string"?t:t.name,s.schema);if(!u)return!1;u==="node"&&(i=Lt(t,s.schema)),u==="mark"&&(l=Yr(t,s.schema));let d=!1;return n.selection.ranges.forEach(h=>{const p=h.$from.pos,m=h.$to.pos;let x,y,b,j;n.selection.empty?s.doc.nodesBetween(p,m,(w,C)=>{i&&i===w.type&&(d=!0,b=Math.max(C,p),j=Math.min(C+w.nodeSize,m),x=C,y=w)}):s.doc.nodesBetween(p,m,(w,C)=>{C<p&&i&&i===w.type&&(d=!0,b=Math.max(C,p),j=Math.min(C+w.nodeSize,m),x=C,y=w),C>=p&&C<=m&&(i&&i===w.type&&(d=!0,r&&n.setNodeMarkup(C,void 0,{...w.attrs,...e})),l&&w.marks.length&&w.marks.forEach(M=>{if(l===M.type&&(d=!0,r)){const E=Math.max(C,p),S=Math.min(C+w.nodeSize,m);n.addMark(E,S,l.create({...M.attrs,...e}))}}))}),y&&(x!==void 0&&r&&n.setNodeMarkup(x,void 0,{...y.attrs,...e}),l&&y.marks.length&&y.marks.forEach(w=>{l===w.type&&r&&n.addMark(b,j,l.create({...w.attrs,...e}))}))}),d},wJ=(t,e={})=>({state:n,dispatch:s})=>{const r=Lt(t,n.schema);return JK(r,e)(n,s)},NJ=(t,e={})=>({state:n,dispatch:s})=>{const r=Lt(t,n.schema);return XK(r,e)(n,s)},jJ=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(s=>s.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(s=>s!==e):delete this.callbacks[t]),this}once(t,e){const n=(...s)=>{this.off(t,n),e.apply(this,s)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Cm=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},SJ=(t,e)=>{if(i1(e))return e.exec(t);const n=e(t);if(!n)return null;const s=[n.text];return s.index=n.index,s.input=t,s.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),s.push(n.replaceWith)),s};function Yf(t){var e;const{editor:n,from:s,to:r,text:i,rules:l,plugin:u}=t,{view:d}=n;if(d.composing)return!1;const h=d.state.doc.resolve(s);if(h.parent.type.spec.code||(e=h.nodeBefore||h.nodeAfter)!=null&&e.marks.find(x=>x.type.spec.code))return!1;let p=!1;const m=JY(h)+i;return l.forEach(x=>{if(p)return;const y=SJ(m,x.find);if(!y)return;const b=d.state.tr,j=vm({state:d.state,transaction:b}),w={from:s-(y[0].length-i.length),to:r},{commands:C,chain:M,can:E}=new wm({editor:n,state:j});x.handler({state:j,range:w,match:y,commands:C,chain:M,can:E})===null||!b.steps.length||(x.undoable&&b.setMeta(u,{transform:b,from:s,to:r,text:i}),d.dispatch(b),p=!0)}),p}function CJ(t){const{editor:e,rules:n}=t,s=new gt({state:{init(){return null},apply(r,i,l){const u=r.getMeta(s);if(u)return u;const d=r.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:p}=d;typeof p=="string"?p=p:p=c1(ce.from(p),l.schema);const{from:m}=d,x=m+p.length;Yf({editor:e,from:m,to:x,text:p,rules:n,plugin:s})}),r.selectionSet||r.docChanged?null:i}},props:{handleTextInput(r,i,l,u){return Yf({editor:e,from:i,to:l,text:u,rules:n,plugin:s})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:i}=r.state.selection;i&&Yf({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:s})}),!1)},handleKeyDown(r,i){if(i.key!=="Enter")return!1;const{$cursor:l}=r.state.selection;return l?Yf({editor:e,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:s}):!1}},isInputRules:!0});return s}function kJ(t){return Object.prototype.toString.call(t).slice(8,-1)}function Jf(t){return kJ(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function vD(t,e){const n={...t};return Jf(t)&&Jf(e)&&Object.keys(e).forEach(s=>{Jf(e[s])&&Jf(t[s])?n[s]=vD(t[s],e[s]):n[s]=e[s]}),n}var f1=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Ze(be(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Ze(be(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>vD(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Wa=class wD extends f1{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new wD(n)}static handleExit({editor:e,mark:n}){const{tr:s}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const l=r.marks();if(!!!l.find(h=>h?.type.name===n.name))return!1;const d=l.find(h=>h?.type.name===n.name);return d&&s.removeStoredMark(d),s.insertText(" ",r.pos),e.view.dispatch(s),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function EJ(t){return typeof t=="number"}var TJ=class{constructor(t){this.find=t.find,this.handler=t.handler}},MJ=(t,e,n)=>{if(i1(e))return[...t.matchAll(e)];const s=e(t,n);return s?s.map(r=>{const i=[r.text];return i.index=r.index,i.input=t,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function AJ(t){const{editor:e,state:n,from:s,to:r,rule:i,pasteEvent:l,dropEvent:u}=t,{commands:d,chain:h,can:p}=new wm({editor:e,state:n}),m=[];return n.doc.nodesBetween(s,r,(y,b)=>{var j,w,C,M,E;if((w=(j=y.type)==null?void 0:j.spec)!=null&&w.code||!(y.isText||y.isTextblock||y.isInline))return;const S=(E=(M=(C=y.content)==null?void 0:C.size)!=null?M:y.nodeSize)!=null?E:0,k=Math.max(s,b),R=Math.min(r,b+S);if(k>=R)return;const O=y.isText?y.text||"":y.textBetween(k-b,R-b,void 0,"");MJ(O,i.find,l).forEach(D=>{if(D.index===void 0)return;const B=k+D.index+1,L=B+D[0].length,V={from:n.tr.mapping.map(B),to:n.tr.mapping.map(L)},F=i.handler({state:n,range:V,match:D,commands:d,chain:h,can:p,pasteEvent:l,dropEvent:u});m.push(F)})}),m.every(y=>y!==null)}var Xf=null,_J=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function DJ(t){const{editor:e,rules:n}=t;let s=null,r=!1,i=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const d=({state:p,from:m,to:x,rule:y,pasteEvt:b})=>{const j=p.tr,w=vm({state:p,transaction:j});if(!(!AJ({editor:e,state:w,from:Math.max(m-1,0),to:x.b-1,rule:y,pasteEvent:b,dropEvent:u})||!j.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,j}};return n.map(p=>new gt({view(m){const x=b=>{var j;s=(j=m.dom.parentElement)!=null&&j.contains(b.target)?m.dom.parentElement:null,s&&(Xf=e)},y=()=>{Xf&&(Xf=null)};return window.addEventListener("dragstart",x),window.addEventListener("dragend",y),{destroy(){window.removeEventListener("dragstart",x),window.removeEventListener("dragend",y)}}},props:{handleDOMEvents:{drop:(m,x)=>{if(i=s===m.dom.parentElement,u=x,!i){const y=Xf;y?.isEditable&&setTimeout(()=>{const b=y.state.selection;b&&y.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(m,x)=>{var y;const b=(y=x.clipboardData)==null?void 0:y.getData("text/html");return l=x,r=!!b?.includes("data-pm-slice"),!1}}},appendTransaction:(m,x,y)=>{const b=m[0],j=b.getMeta("uiEvent")==="paste"&&!r,w=b.getMeta("uiEvent")==="drop"&&!i,C=b.getMeta("applyPasteRules"),M=!!C;if(!j&&!w&&!M)return;if(M){let{text:k}=C;typeof k=="string"?k=k:k=c1(ce.from(k),y.schema);const{from:R}=C,O=R+k.length,T=_J(k);return d({rule:p,state:y,from:R,to:{b:O},pasteEvt:T})}const E=x.doc.content.findDiffStart(y.doc.content),S=x.doc.content.findDiffEnd(y.doc.content);if(!(!EJ(E)||!S||E===S.b))return d({rule:p,state:y,from:E,to:S,pasteEvt:l})}}))}var km=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=fD(t),this.schema=FY(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Yx(e.name,this.schema)},s=be(e,"addCommands",n);return s?{...t,...s()}:t},{})}get plugins(){const{editor:t}=this;return u1([...this.extensions].reverse()).flatMap(s=>{const r={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:t,type:Yx(s.name,this.schema)},i=[],l=be(s,"addKeyboardShortcuts",r);let u={};if(s.type==="mark"&&be(s,"exitable",r)&&(u.ArrowRight=()=>Wa.handleExit({editor:t,mark:s})),l){const x=Object.fromEntries(Object.entries(l()).map(([y,b])=>[y,()=>b({editor:t})]));u={...u,...x}}const d=KQ(u);i.push(d);const h=be(s,"addInputRules",r);if(PE(s,t.options.enableInputRules)&&h){const x=h();if(x&&x.length){const y=CJ({editor:t,rules:x}),b=Array.isArray(y)?y:[y];i.push(...b)}}const p=be(s,"addPasteRules",r);if(PE(s,t.options.enablePasteRules)&&p){const x=p();if(x&&x.length){const y=DJ({editor:t,rules:x});i.push(...y)}}const m=be(s,"addProseMirrorPlugins",r);if(m){const x=m();i.push(...x)}return i})}get attributes(){return dD(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=wl(this.extensions);return Object.fromEntries(e.filter(n=>!!be(n,"addNodeView")).map(n=>{const s=this.attributes.filter(d=>d.type===n.name),r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Lt(n.name,this.schema)},i=be(n,"addNodeView",r);if(!i)return[];const l=i();if(!l)return[];const u=(d,h,p,m,x)=>{const y=ep(d,s);return l({node:d,view:h,getPos:p,decorations:m,innerDecorations:x,editor:t,extension:n,HTMLAttributes:y})};return[n.name,u]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=wl(this.extensions);return Object.fromEntries(e.filter(n=>!!be(n,"addMarkView")).map(n=>{const s=this.attributes.filter(u=>u.type===n.name),r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Yr(n.name,this.schema)},i=be(n,"addMarkView",r);if(!i)return[];const l=(u,d,h)=>{const p=ep(u,s);return i()({mark:u,view:d,inline:h,editor:t,extension:n,HTMLAttributes:p,updateAttributes:m=>{KJ(u,t,m)}})};return[n.name,l]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const s={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Yx(e.name,this.schema)};e.type==="mark"&&((n=Ze(be(e,"keepOnSplit",s)))==null||n)&&this.splittableMarks.push(e.name);const r=be(e,"onBeforeCreate",s),i=be(e,"onCreate",s),l=be(e,"onUpdate",s),u=be(e,"onSelectionUpdate",s),d=be(e,"onTransaction",s),h=be(e,"onFocus",s),p=be(e,"onBlur",s),m=be(e,"onDestroy",s);r&&this.editor.on("beforeCreate",r),i&&this.editor.on("create",i),l&&this.editor.on("update",l),u&&this.editor.on("selectionUpdate",u),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}};km.resolve=fD;km.sort=u1;km.flatten=l1;var OJ={};r1(OJ,{ClipboardTextSerializer:()=>jD,Commands:()=>SD,Delete:()=>CD,Drop:()=>kD,Editable:()=>ED,FocusEvents:()=>MD,Keymap:()=>AD,Paste:()=>_D,Tabindex:()=>DD,TextDirection:()=>OD,focusEventsPluginKey:()=>TD});var Et=class ND extends f1{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new ND(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},jD=Et.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new gt({key:new It("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:s,selection:r}=e,{ranges:i}=r,l=Math.min(...i.map(p=>p.$from.pos)),u=Math.max(...i.map(p=>p.$to.pos)),d=pD(n);return hD(s,{from:l,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),SD=Et.create({name:"commands",addCommands(){return{...nD}}}),CD=Et.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,s,r;const i=()=>{var l,u,d,h;if((h=(d=(u=(l=this.editor.options.coreExtensionOptions)==null?void 0:l.delete)==null?void 0:u.filterTransaction)==null?void 0:d.call(u,t))!=null?h:t.getMeta("y-sync$"))return;const p=cD(t.before,[t,...e]);gD(p).forEach(y=>{p.mapping.mapResult(y.oldRange.from).deletedAfter&&p.mapping.mapResult(y.oldRange.to).deletedBefore&&p.before.nodesBetween(y.oldRange.from,y.oldRange.to,(b,j)=>{const w=j+b.nodeSize-2,C=y.oldRange.from<=j&&w<=y.oldRange.to;this.editor.emit("delete",{type:"node",node:b,from:j,to:w,newFrom:p.mapping.map(j),newTo:p.mapping.map(w),deletedRange:y.oldRange,newRange:y.newRange,partial:!C,editor:this.editor,transaction:t,combinedTransform:p})})});const x=p.mapping;p.steps.forEach((y,b)=>{var j,w;if(y instanceof Ts){const C=x.slice(b).map(y.from,-1),M=x.slice(b).map(y.to),E=x.invert().map(C,-1),S=x.invert().map(M),k=(j=p.doc.nodeAt(C-1))==null?void 0:j.marks.some(O=>O.eq(y.mark)),R=(w=p.doc.nodeAt(M))==null?void 0:w.marks.some(O=>O.eq(y.mark));this.editor.emit("delete",{type:"mark",mark:y.mark,from:y.from,to:y.to,deletedRange:{from:E,to:S},newRange:{from:C,to:M},partial:!!(R||k),editor:this.editor,transaction:t,combinedTransform:p})}})};(r=(s=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:s.async)==null||r?setTimeout(i,0):i()}}),kD=Et.create({name:"drop",addProseMirrorPlugins(){return[new gt({key:new It("tiptapDrop"),props:{handleDrop:(t,e,n,s)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:s})}}})]}}),ED=Et.create({name:"editable",addProseMirrorPlugins(){return[new gt({key:new It("editable"),props:{editable:()=>this.editor.options.editable}})]}}),TD=new It("focusEvents"),MD=Et.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new gt({key:TD,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const s=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(s),!1},blur:(e,n)=>{t.isFocused=!1;const s=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(s),!1}}}})]}}),AD=Et.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:u})=>{const{selection:d,doc:h}=u,{empty:p,$anchor:m}=d,{pos:x,parent:y}=m,b=m.parent.isTextblock&&x>0?u.doc.resolve(x-1):m,j=b.parent.type.spec.isolating,w=m.pos-m.parentOffset,C=j&&b.parent.childCount===1?w===m.pos:Le.atStart(h).from===x;return!p||!y.type.isTextblock||y.textContent.length||!C||C&&m.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),s={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...s},i={...s,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return o1()||oD()?i:r},addProseMirrorPlugins(){return[new gt({key:new It("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(j=>j.getMeta("composition")))return;const s=t.some(j=>j.docChanged)&&!e.doc.eq(n.doc),r=t.some(j=>j.getMeta("preventClearDocument"));if(!s||r)return;const{empty:i,from:l,to:u}=e.selection,d=Le.atStart(e.doc).from,h=Le.atEnd(e.doc).to;if(i||!(l===d&&u===h)||!Sm(n.doc))return;const x=n.tr,y=vm({state:n,transaction:x}),{commands:b}=new wm({editor:this.editor,state:y});if(b.clearNodes(),!!x.steps.length)return x}})]}}),_D=Et.create({name:"paste",addProseMirrorPlugins(){return[new gt({key:new It("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),DD=Et.create({name:"tabindex",addProseMirrorPlugins(){return[new gt({key:new It("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),OD=Et.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=wl(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new gt({key:new It("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),RJ=class Wo{constructor(e,n,s=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=s,this.resolvedPos=e,this.editor=n,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,s=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,s=this.to-1}this.editor.commands.insertContentAt({from:n,to:s},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Wo(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Wo(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Wo(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,s)=>{const r=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,l=this.pos+s+(i?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(l);if(!r&&u.depth<=this.depth)return;const d=new Wo(u,this.editor,r,r?n:null);r&&(d.actualDepth=this.depth+1),e.push(new Wo(u,this.editor,r,r?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let s=null,r=this.parent;for(;r&&!s;){if(r.node.type.name===e)if(Object.keys(n).length>0){const i=r.node.attrs,l=Object.keys(n);for(let u=0;u<l.length;u+=1){const d=l[u];if(i[d]!==n[d])break}}else s=r;r=r.parent}return s}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},s=!1){let r=[];if(!this.children||this.children.length===0)return r;const i=Object.keys(n);return this.children.forEach(l=>{s&&r.length>0||(l.node.type.name===e&&i.every(d=>n[d]===l.node.attrs[d])&&r.push(l),!(s&&r.length>0)&&(r=r.concat(l.querySelectorAll(e,n,s))))}),r}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},LJ=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function PJ(t,e,n){const s=document.querySelector("style[data-tiptap-style]");if(s!==null)return s;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}var BJ=class extends jJ{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:s})=>{throw s},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:eJ,createMappablePosition:tJ},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:s,slice:r,moved:i})=>this.options.onDrop(s,r,i)),this.on("paste",({event:s,slice:r})=>this.options.onPaste(s,r)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=iD(e,this.options.autofocus);this.editorState=al.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=PJ(LJ,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=uD(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],s=this.state.reconfigure({plugins:n});return this.view.updateState(s),s}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(r=>{const i=typeof r=="string"?`${r}$`:r.key;n=n.filter(l=>!l.key.startsWith(i))}),e.length===n.length)return;const s=this.state.reconfigure({plugins:n});return this.view.updateState(s),s}createExtensionManager(){var t,e;const s=[...this.options.enableCoreExtensions?[ED,jD.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),SD,MD,AD,DD,kD,_D,CD,OD.configure({direction:this.options.textDirection})].filter(r=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[r.name]!==!1:!0):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r?.type));this.extensionManager=new km(s,this)}createCommandManager(){this.commandManager=new wm({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=yb(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=yb(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new eD(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(h=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(h)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),s=!this.state.selection.eq(e.selection),r=n.includes(t),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!r)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),s&&this.emit("selectionUpdate",{editor:this,transaction:t});const l=n.findLast(h=>h.getMeta("focus")||h.getMeta("blur")),u=l?.getMeta("focus"),d=l?.getMeta("blur");u&&this.emit("focus",{editor:this,event:u.event,transaction:l}),d&&this.emit("blur",{editor:this,event:d.event,transaction:l}),!(t.getMeta("preventUpdate")||!n.some(h=>h.docChanged)||i.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return mD(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,s=typeof t=="string"?e:t;return XY(this.state,n,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return c1(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return HY(this.state.doc,{blockSeparator:e,textSerializers:{...pD(this.schema),...n}})}get isEmpty(){return Sm(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new RJ(e,this)}get $doc(){return this.$pos(0)}};function Nl(t){return new Cm({find:t.find,handler:({state:e,range:n,match:s})=>{const r=Ze(t.getAttributes,void 0,s);if(r===!1||r===null)return null;const{tr:i}=e,l=s[s.length-1],u=s[0];if(l){const d=u.search(/\S/),h=n.from+u.indexOf(l),p=h+l.length;if(d1(n.from,n.to,e.doc).filter(y=>y.mark.type.excluded.find(j=>j===t.type&&j!==y.mark.type)).filter(y=>y.to>h).length)return null;p<n.to&&i.delete(p,n.to),h>n.from&&i.delete(n.from+d,h);const x=n.from+d+l.length;i.addMark(n.from+d,x,t.type.create(r||{})),i.removeStoredMark(t.type)}},undoable:t.undoable})}function zJ(t){return new Cm({find:t.find,handler:({state:e,range:n,match:s})=>{const r=Ze(t.getAttributes,void 0,s)||{},{tr:i}=e,l=n.from;let u=n.to;const d=t.type.create(r);if(s[1]){const h=s[0].lastIndexOf(s[1]);let p=l+h;p>u?p=u:u=p+s[1].length;const m=s[0][s[0].length-1];i.insertText(m,l+s[0].length-1),i.replaceWith(p,u,d)}else if(s[0]){const h=t.type.isInline?l:l-1;i.insert(h,t.type.create(r)).delete(i.mapping.map(l),i.mapping.map(u))}i.scrollIntoView()},undoable:t.undoable})}function vb(t){return new Cm({find:t.find,handler:({state:e,range:n,match:s})=>{const r=e.doc.resolve(n.from),i=Ze(t.getAttributes,void 0,s)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)},undoable:t.undoable})}function jl(t){return new Cm({find:t.find,handler:({state:e,range:n,match:s,chain:r})=>{const i=Ze(t.getAttributes,void 0,s)||{},l=e.tr.delete(n.from,n.to),d=l.doc.resolve(n.from).blockRange(),h=d&&$v(d,t.type,i);if(!h)return null;if(l.wrap(d,h),t.keepMarks&&t.editor){const{selection:m,storedMarks:x}=e,{splittableMarks:y}=t.editor.extensionManager,b=x||m.$to.parentOffset&&m.$from.marks();if(b){const j=b.filter(w=>y.includes(w.type.name));l.ensureMarks(j)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(m,i).run()}const p=l.doc.resolve(n.from-1).nodeBefore;p&&p.type===t.type&&Xi(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(s,p))&&l.join(n.from-1)},undoable:t.undoable})}function IJ(t,e){const{selection:n}=t,{$from:s}=n;if(n instanceof we){const i=s.index();return s.parent.canReplaceWith(i,i+1,e)}let r=s.depth;for(;r>=0;){const i=s.index(r);if(s.node(r).contentMatchAt(i).matchType(e))return!0;r-=1}return!1}var VJ={};r1(VJ,{createAtomBlockMarkdownSpec:()=>UJ,createBlockMarkdownSpec:()=>$J,createInlineMarkdownSpec:()=>HJ,parseAttributes:()=>h1,parseIndentedBlocks:()=>wb,renderNestedMarkdownContent:()=>m1,serializeAttributes:()=>p1});function h1(t){if(!t?.trim())return{};const e={},n=[],s=t.replace(/["']([^"']*)["']/g,h=>(n.push(h),`__QUOTED_${n.length-1}__`)),r=s.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(r){const h=r.map(p=>p.trim().slice(1));e.class=h.join(" ")}const i=s.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);i&&(e.id=i[1]);const l=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(s.matchAll(l)).forEach(([,h,p])=>{var m;const x=parseInt(((m=p.match(/__QUOTED_(\d+)__/))==null?void 0:m[1])||"0",10),y=n[x];y&&(e[h]=y.slice(1,-1))});const d=s.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return d&&d.split(/\s+/).filter(Boolean).forEach(p=>{p.match(/^[a-zA-Z][\w-]*$/)&&(e[p]=!0)}),e}function p1(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(s=>e.push(`.${s}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,s])=>{n==="class"||n==="id"||(s===!0?e.push(n):s!==!1&&s!=null&&e.push(`${n}="${String(s)}"`))}),e.join(" ")}function UJ(t){const{nodeName:e,name:n,parseAttributes:s=h1,serializeAttributes:r=p1,defaultAttributes:i={},requiredAttributes:l=[],allowedAttributes:u}=t,d=n||e,h=p=>{if(!u)return p;const m={};return u.forEach(x=>{x in p&&(m[x]=p[x])}),m};return{parseMarkdown:(p,m)=>{const x={...i,...p.attributes};return m.createNode(e,x,[])},markdownTokenizer:{name:e,level:"block",start(p){var m;const x=new RegExp(`^:::${d}(?:\\s|$)`,"m"),y=(m=p.match(x))==null?void 0:m.index;return y!==void 0?y:-1},tokenize(p,m,x){const y=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),b=p.match(y);if(!b)return;const j=b[1]||"",w=s(j);if(!l.find(M=>!(M in w)))return{type:e,raw:b[0],attributes:w}}},renderMarkdown:p=>{const m=h(p.attrs||{}),x=r(m),y=x?` {${x}}`:"";return`:::${d}${y} :::`}}}function $J(t){const{nodeName:e,name:n,getContent:s,parseAttributes:r=h1,serializeAttributes:i=p1,defaultAttributes:l={},content:u="block",allowedAttributes:d}=t,h=n||e,p=m=>{if(!d)return m;const x={};return d.forEach(y=>{y in m&&(x[y]=m[y])}),x};return{parseMarkdown:(m,x)=>{let y;if(s){const j=s(m);y=typeof j=="string"?[{type:"text",text:j}]:j}else u==="block"?y=x.parseChildren(m.tokens||[]):y=x.parseInline(m.tokens||[]);const b={...l,...m.attributes};return x.createNode(e,b,y)},markdownTokenizer:{name:e,level:"block",start(m){var x;const y=new RegExp(`^:::${h}`,"m"),b=(x=m.match(y))==null?void 0:x.index;return b!==void 0?b:-1},tokenize(m,x,y){var b;const j=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),w=m.match(j);if(!w)return;const[C,M=""]=w,E=r(M);let S=1;const k=C.length;let R="";const O=/^:::([\w-]*)(\s.*)?/gm,T=m.slice(k);for(O.lastIndex=0;;){const D=O.exec(T);if(D===null)break;const B=D.index,L=D[1];if(!((b=D[2])!=null&&b.endsWith(":::"))){if(L)S+=1;else if(S-=1,S===0){const V=T.slice(0,B);R=V.trim();const F=m.slice(0,k+B+D[0].length);let K=[];if(R)if(u==="block")for(K=y.blockTokens(V),K.forEach(re=>{re.text&&(!re.tokens||re.tokens.length===0)&&(re.tokens=y.inlineTokens(re.text))});K.length>0;){const re=K[K.length-1];if(re.type==="paragraph"&&(!re.text||re.text.trim()===""))K.pop();else break}else K=y.inlineTokens(R);return{type:e,raw:F,attributes:E,content:R,tokens:K}}}}}},renderMarkdown:(m,x)=>{const y=p(m.attrs||{}),b=i(y),j=b?` {${b}}`:"",w=x.renderChildren(m.content||[],`

`);return`:::${h}${j}

${w}

:::`}}}function FJ(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let s=n.exec(t);for(;s!==null;){const[,r,i,l]=s;e[r]=i||l,s=n.exec(t)}return e}function qJ(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function HJ(t){const{nodeName:e,name:n,getContent:s,parseAttributes:r=FJ,serializeAttributes:i=qJ,defaultAttributes:l={},selfClosing:u=!1,allowedAttributes:d}=t,h=n||e,p=x=>{if(!d)return x;const y={};return d.forEach(b=>{const j=typeof b=="string"?b:b.name,w=typeof b=="string"?void 0:b.skipIfDefault;if(j in x){const C=x[j];if(w!==void 0&&C===w)return;y[j]=C}}),y},m=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(x,y)=>{const b={...l,...x.attributes};if(u)return y.createNode(e,b);const j=s?s(x):x.content||"";return j?y.createNode(e,b,[y.createTextNode(j)]):y.createNode(e,b,[])},markdownTokenizer:{name:e,level:"inline",start(x){const y=u?new RegExp(`\\[${m}\\s*[^\\]]*\\]`):new RegExp(`\\[${m}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${m}\\]`),b=x.match(y),j=b?.index;return j!==void 0?j:-1},tokenize(x,y,b){const j=u?new RegExp(`^\\[${m}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${m}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${m}\\]`),w=x.match(j);if(!w)return;let C="",M="";if(u){const[,S]=w;M=S}else{const[,S,k]=w;M=S,C=k||""}const E=r(M.trim());return{type:e,raw:w[0],content:C.trim(),attributes:E}}},renderMarkdown:x=>{let y="";s?y=s(x):x.content&&x.content.length>0&&(y=x.content.filter(C=>C.type==="text").map(C=>C.text).join(""));const b=p(x.attrs||{}),j=i(b),w=j?` ${j}`:"";return u?`[${h}${w}]`:`[${h}${w}]${y}[/${h}]`}}}function wb(t,e,n){var s,r,i,l;const u=t.split(`
`),d=[];let h="",p=0;const m=e.baseIndentSize||2;for(;p<u.length;){const x=u[p],y=x.match(e.itemPattern);if(!y){if(d.length>0)break;if(x.trim()===""){p+=1,h=`${h}${x}
`;continue}else return}const b=e.extractItemData(y),{indentLevel:j,mainContent:w}=b;h=`${h}${x}
`;const C=[w];for(p+=1;p<u.length;){const k=u[p];if(k.trim()===""){const O=u.slice(p+1).findIndex(B=>B.trim()!=="");if(O===-1)break;if((((r=(s=u[p+1+O].match(/^(\s*)/))==null?void 0:s[1])==null?void 0:r.length)||0)>j){C.push(k),h=`${h}${k}
`,p+=1;continue}else break}if((((l=(i=k.match(/^(\s*)/))==null?void 0:i[1])==null?void 0:l.length)||0)>j)C.push(k),h=`${h}${k}
`,p+=1;else break}let M;const E=C.slice(1);if(E.length>0){const k=E.map(R=>R.slice(j+m)).join(`
`);k.trim()&&(e.customNestedParser?M=e.customNestedParser(k):M=n.blockTokens(k))}const S=e.createToken(b,M);d.push(S)}if(d.length!==0)return{items:d,raw:h}}function m1(t,e,n,s){if(!t||!Array.isArray(t.content))return"";const r=typeof n=="function"?n(s):n,[i,...l]=t.content,u=e.renderChildren([i]),d=[`${r}${u}`];return l&&l.length>0&&l.forEach(h=>{const p=e.renderChildren([h]);if(p){const m=p.split(`
`).map(x=>x?e.indent(x):"").join(`
`);d.push(m)}}),d.join(`
`)}function KJ(t,e,n={}){const{state:s}=e,{doc:r,tr:i}=s,l=t;r.descendants((u,d)=>{const h=i.mapping.map(d),p=i.mapping.map(d)+u.nodeSize;let m=null;if(u.marks.forEach(y=>{if(y!==l)return!1;m=y}),!m)return;let x=!1;if(Object.keys(n).forEach(y=>{n[y]!==m.attrs[y]&&(x=!0)}),x){const y=t.type.create({...t.attrs,...n});i.removeMark(h,p,t.type),i.addMark(h,p,y)}}),i.docChanged&&e.view.dispatch(i)}var Jn=class RD extends f1{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new RD(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Ja(t){return new TJ({find:t.find,handler:({state:e,range:n,match:s,pasteEvent:r})=>{const i=Ze(t.getAttributes,void 0,s,r);if(i===!1||i===null)return null;const{tr:l}=e,u=s[s.length-1],d=s[0];let h=n.to;if(u){const p=d.search(/\S/),m=n.from+d.indexOf(u),x=m+u.length;if(d1(n.from,n.to,e.doc).filter(b=>b.mark.type.excluded.find(w=>w===t.type&&w!==b.mark.type)).filter(b=>b.to>m).length)return null;x<n.to&&l.delete(x,n.to),m>n.from&&l.delete(n.from+p,m),h=n.from+p+u.length,l.addMark(n.from+p,h,t.type.create(i||{})),l.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:GJ,getOwnPropertySymbols:QJ}=Object,{hasOwnProperty:YJ}=Object.prototype;function IE(t,e){return function(s,r,i){return t(s,r,i)&&e(s,r,i)}}function Wf(t){return function(n,s,r){if(!n||!s||typeof n!="object"||typeof s!="object")return t(n,s,r);const{cache:i}=r,l=i.get(n),u=i.get(s);if(l&&u)return l===s&&u===n;i.set(n,s),i.set(s,n);const d=t(n,s,r);return i.delete(n),i.delete(s),d}}function JJ(t){return t?.[Symbol.toStringTag]}function VE(t){return GJ(t).concat(QJ(t))}const XJ=Object.hasOwn||((t,e)=>YJ.call(t,e));function Za(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const WJ="__v",ZJ="__o",eX="_owner",{getOwnPropertyDescriptor:UE,keys:$E}=Object;function tX(t,e,n){let s=t.length;if(e.length!==s)return!1;for(;s-- >0;)if(!n.equals(t[s],e[s],s,s,t,e,n))return!1;return!0}function nX(t,e){return Za(t.getTime(),e.getTime())}function sX(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function rX(t,e){return t===e}function FE(t,e,n){const s=t.size;if(s!==e.size)return!1;if(!s)return!0;const r=new Array(s),i=t.entries();let l,u,d=0;for(;(l=i.next())&&!l.done;){const h=e.entries();let p=!1,m=0;for(;(u=h.next())&&!u.done;){if(r[m]){m++;continue}const x=l.value,y=u.value;if(n.equals(x[0],y[0],d,m,t,e,n)&&n.equals(x[1],y[1],x[0],y[0],t,e,n)){p=r[m]=!0;break}m++}if(!p)return!1;d++}return!0}const iX=Za;function aX(t,e,n){const s=$E(t);let r=s.length;if($E(e).length!==r)return!1;for(;r-- >0;)if(!LD(t,e,n,s[r]))return!1;return!0}function Vc(t,e,n){const s=VE(t);let r=s.length;if(VE(e).length!==r)return!1;let i,l,u;for(;r-- >0;)if(i=s[r],!LD(t,e,n,i)||(l=UE(t,i),u=UE(e,i),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function oX(t,e){return Za(t.valueOf(),e.valueOf())}function lX(t,e){return t.source===e.source&&t.flags===e.flags}function qE(t,e,n){const s=t.size;if(s!==e.size)return!1;if(!s)return!0;const r=new Array(s),i=t.values();let l,u;for(;(l=i.next())&&!l.done;){const d=e.values();let h=!1,p=0;for(;(u=d.next())&&!u.done;){if(!r[p]&&n.equals(l.value,u.value,l.value,u.value,t,e,n)){h=r[p]=!0;break}p++}if(!h)return!1}return!0}function cX(t,e){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function uX(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function LD(t,e,n,s){return(s===eX||s===ZJ||s===WJ)&&(t.$$typeof||e.$$typeof)?!0:XJ(e,s)&&n.equals(t[s],e[s],s,s,t,e,n)}const dX="[object Arguments]",fX="[object Boolean]",hX="[object Date]",pX="[object Error]",mX="[object Map]",gX="[object Number]",xX="[object Object]",yX="[object RegExp]",bX="[object Set]",vX="[object String]",wX="[object URL]",{isArray:NX}=Array,HE=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,{assign:KE}=Object,jX=Object.prototype.toString.call.bind(Object.prototype.toString);function SX({areArraysEqual:t,areDatesEqual:e,areErrorsEqual:n,areFunctionsEqual:s,areMapsEqual:r,areNumbersEqual:i,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:h,areTypedArraysEqual:p,areUrlsEqual:m,unknownTagComparators:x}){return function(b,j,w){if(b===j)return!0;if(b==null||j==null)return!1;const C=typeof b;if(C!==typeof j)return!1;if(C!=="object")return C==="number"?i(b,j,w):C==="function"?s(b,j,w):!1;const M=b.constructor;if(M!==j.constructor)return!1;if(M===Object)return l(b,j,w);if(NX(b))return t(b,j,w);if(HE!=null&&HE(b))return p(b,j,w);if(M===Date)return e(b,j,w);if(M===RegExp)return d(b,j,w);if(M===Map)return r(b,j,w);if(M===Set)return h(b,j,w);const E=jX(b);if(E===hX)return e(b,j,w);if(E===yX)return d(b,j,w);if(E===mX)return r(b,j,w);if(E===bX)return h(b,j,w);if(E===xX)return typeof b.then!="function"&&typeof j.then!="function"&&l(b,j,w);if(E===wX)return m(b,j,w);if(E===pX)return n(b,j,w);if(E===dX)return l(b,j,w);if(E===fX||E===gX||E===vX)return u(b,j,w);if(x){let S=x[E];if(!S){const k=JJ(b);k&&(S=x[k])}if(S)return S(b,j,w)}return!1}}function CX({circular:t,createCustomConfig:e,strict:n}){let s={areArraysEqual:n?Vc:tX,areDatesEqual:nX,areErrorsEqual:sX,areFunctionsEqual:rX,areMapsEqual:n?IE(FE,Vc):FE,areNumbersEqual:iX,areObjectsEqual:n?Vc:aX,arePrimitiveWrappersEqual:oX,areRegExpsEqual:lX,areSetsEqual:n?IE(qE,Vc):qE,areTypedArraysEqual:n?Vc:cX,areUrlsEqual:uX,unknownTagComparators:void 0};if(e&&(s=KE({},s,e(s))),t){const r=Wf(s.areArraysEqual),i=Wf(s.areMapsEqual),l=Wf(s.areObjectsEqual),u=Wf(s.areSetsEqual);s=KE({},s,{areArraysEqual:r,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:u})}return s}function kX(t){return function(e,n,s,r,i,l,u){return t(e,n,u)}}function EX({circular:t,comparator:e,createState:n,equals:s,strict:r}){if(n)return function(u,d){const{cache:h=t?new WeakMap:void 0,meta:p}=n();return e(u,d,{cache:h,equals:s,meta:p,strict:r})};if(t)return function(u,d){return e(u,d,{cache:new WeakMap,equals:s,meta:void 0,strict:r})};const i={cache:void 0,equals:s,meta:void 0,strict:r};return function(u,d){return e(u,d,i)}}const TX=Zi();Zi({strict:!0});Zi({circular:!0});Zi({circular:!0,strict:!0});Zi({createInternalComparator:()=>Za});Zi({strict:!0,createInternalComparator:()=>Za});Zi({circular:!0,createInternalComparator:()=>Za});Zi({circular:!0,createInternalComparator:()=>Za,strict:!0});function Zi(t={}){const{circular:e=!1,createInternalComparator:n,createState:s,strict:r=!1}=t,i=CX(t),l=SX(i),u=n?n(l):kX(l);return EX({circular:e,comparator:l,createState:s,equals:u,strict:r})}var Wx={exports:{}},Zx={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function MX(){if(GE)return Zx;GE=1;var t=kl(),e=aM();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var s=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,i=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return Zx.useSyncExternalStoreWithSelector=function(h,p,m,x,y){var b=i(null);if(b.current===null){var j={hasValue:!1,value:null};b.current=j}else j=b.current;b=u(function(){function C(R){if(!M){if(M=!0,E=R,R=x(R),y!==void 0&&j.hasValue){var O=j.value;if(y(O,R))return S=O}return S=R}if(O=S,s(E,R))return O;var T=x(R);return y!==void 0&&y(O,T)?(E=R,O):(E=R,S=T)}var M=!1,E,S,k=m===void 0?null:m;return[function(){return C(p())},k===null?void 0:function(){return C(k())}]},[p,m,x,y]);var w=r(h,b[0],b[1]);return l(function(){j.hasValue=!0,j.value=w},[w]),d(w),w},Zx}var QE;function AX(){return QE||(QE=1,Wx.exports=MX()),Wx.exports}var _X=AX(),DX=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},OX=({contentComponent:t})=>{const e=Bb.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return o.jsx(o.Fragment,{children:Object.values(e)})};function RX(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,s){e={...e,[n]:M8.createPortal(s.reactElement,s.element,n)},t.forEach(r=>r())},removeRenderer(n){const s={...e};delete s[n],e=s,t.forEach(r=>r())}}}var LX=class extends Pe.Component{constructor(t){var e;super(t),this.editorContentRef=Pe.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=RX(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:DX(e,this.editorContentRef),...n}),t?.contentComponent&&o.jsx(OX,{contentComponent:t.contentComponent})]})}},PX=_.forwardRef((t,e)=>{const n=Pe.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Pe.createElement(LX,{key:n,innerRef:e,...t})}),tp=Pe.memo(PX),BX=typeof window<"u"?_.useLayoutEffect:_.useEffect,zX=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function IX(t){var e;const[n]=_.useState(()=>new zX(t.editor)),s=_X.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:TX);return BX(()=>n.watch(t.editor),[t.editor,n]),_.useDebugValue(s),s}var VX=!1,Nb=typeof window>"u",UX=Nb||!!(typeof window<"u"&&window.next),$X=class PD{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Nb||UX?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...s)=>{var r,i;return(i=(r=this.options.current).onBeforeCreate)==null?void 0:i.call(r,...s)},onBlur:(...s)=>{var r,i;return(i=(r=this.options.current).onBlur)==null?void 0:i.call(r,...s)},onCreate:(...s)=>{var r,i;return(i=(r=this.options.current).onCreate)==null?void 0:i.call(r,...s)},onDestroy:(...s)=>{var r,i;return(i=(r=this.options.current).onDestroy)==null?void 0:i.call(r,...s)},onFocus:(...s)=>{var r,i;return(i=(r=this.options.current).onFocus)==null?void 0:i.call(r,...s)},onSelectionUpdate:(...s)=>{var r,i;return(i=(r=this.options.current).onSelectionUpdate)==null?void 0:i.call(r,...s)},onTransaction:(...s)=>{var r,i;return(i=(r=this.options.current).onTransaction)==null?void 0:i.call(r,...s)},onUpdate:(...s)=>{var r,i;return(i=(r=this.options.current).onUpdate)==null?void 0:i.call(r,...s)},onContentError:(...s)=>{var r,i;return(i=(r=this.options.current).onContentError)==null?void 0:i.call(r,...s)},onDrop:(...s)=>{var r,i;return(i=(r=this.options.current).onDrop)==null?void 0:i.call(r,...s)},onPaste:(...s)=>{var r,i;return(i=(r=this.options.current).onPaste)==null?void 0:i.call(r,...s)},onDelete:(...s)=>{var r,i;return(i=(r=this.options.current).onDelete)==null?void 0:i.call(r,...s)}};return new BJ(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(s=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(s)?!0:s==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((r,i)=>{var l;return r===((l=n.extensions)==null?void 0:l[i])}):e[s]===n[s])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?PD.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((s,r)=>s===e[r]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function np(t={},e=[]){const n=_.useRef(t);n.current=t;const[s]=_.useState(()=>new $X(n)),r=Bb.useSyncExternalStore(s.subscribe,s.getEditor,s.getServerSnapshot);return _.useDebugValue(r),_.useEffect(s.onRender(e)),IX({editor:r,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&i===0?0:i+1}),r}var FX=_.createContext({editor:null});FX.Consumer;var qX=_.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),HX=()=>_.useContext(qX);Pe.forwardRef((t,e)=>{const{onDragStart:n}=HX(),s=t.as||"div";return o.jsx(s,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Pe.createContext({markViewContentRef:()=>{}});var sp=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...s}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,s,n]},KX=/^\s*>\s$/,GX=Jn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return sp("blockquote",{...Pt(this.options.HTMLAttributes,t),children:sp("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",s=[];return t.content.forEach(r=>{const u=e.renderChildren([r]).split(`
`).map(d=>d.trim()===""?n:`${n} ${d}`);s.push(u.join(`
`))}),s.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[jl({find:KX,type:this.type})]}}),QX=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,YX=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,JX=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,XX=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,WX=Wa.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return sp("strong",{...Pt(this.options.HTMLAttributes,t),children:sp("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Nl({find:QX,type:this.type}),Nl({find:JX,type:this.type})]},addPasteRules(){return[Ja({find:YX,type:this.type}),Ja({find:XX,type:this.type})]}}),ZX=/(^|[^`])`([^`]+)`(?!`)$/,eW=/(^|[^`])`([^`]+)`(?!`)/g,tW=Wa.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Pt(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Nl({find:ZX,type:this.type})]},addPasteRules(){return[Ja({find:eW,type:this.type})]}}),ey=4,nW=/^```([a-z]+)?[\s\n]$/,sW=/^~~~([a-z]+)?[\s\n]$/,rW=Jn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:ey,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const i=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(l=>l.startsWith(n)).map(l=>l.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Pt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let s="";const r=((n=t.attrs)==null?void 0:n.language)||"";return t.content?s=[`\`\`\`${r}`,e.renderChildren(t.content),"```"].join(`
`):s=`\`\`\`${r}

\`\`\``,s},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:ey,{state:s}=t,{selection:r}=s,{$from:i,empty:l}=r;if(i.parent.type!==this.type)return!1;const u=" ".repeat(n);return l?t.commands.insertContent(u):t.commands.command(({tr:d})=>{const{from:h,to:p}=r,y=s.doc.textBetween(h,p,`
`,`
`).split(`
`).map(b=>u+b).join(`
`);return d.replaceWith(h,p,s.schema.text(y)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:ey,{state:s}=t,{selection:r}=s,{$from:i,empty:l}=r;return i.parent.type!==this.type?!1:l?t.commands.command(({tr:u})=>{var d;const{pos:h}=i,p=i.start(),m=i.end(),y=s.doc.textBetween(p,m,`
`,`
`).split(`
`);let b=0,j=0;const w=h-p;for(let R=0;R<y.length;R+=1){if(j+y[R].length>=w){b=R;break}j+=y[R].length+1}const M=((d=y[b].match(/^ */))==null?void 0:d[0])||"",E=Math.min(M.length,n);if(E===0)return!0;let S=p;for(let R=0;R<b;R+=1)S+=y[R].length+1;return u.delete(S,S+E),h-S<=E&&u.setSelection(Te.create(u.doc,S)),!0}):t.commands.command(({tr:u})=>{const{from:d,to:h}=r,x=s.doc.textBetween(d,h,`
`,`
`).split(`
`).map(y=>{var b;const j=((b=y.match(/^ */))==null?void 0:b[0])||"",w=Math.min(j.length,n);return y.slice(w)}).join(`
`);return u.replaceWith(d,h,s.schema.text(x)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:s,empty:r}=n;if(!r||s.parent.type!==this.type)return!1;const i=s.parentOffset===s.parent.nodeSize-2,l=s.parent.textContent.endsWith(`

`);return!i||!l?!1:t.chain().command(({tr:u})=>(u.delete(s.pos-2,s.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:s}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const u=r.after();return u===void 0?!1:s.nodeAt(u)?t.commands.command(({tr:h})=>(h.setSelection(Le.near(s.resolve(u))),!0)):t.commands.exitCode()}}},addInputRules(){return[vb({find:nW,type:this.type,getAttributes:t=>({language:t[1]})}),vb({find:sW,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new gt({key:new It("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),s=e.clipboardData.getData("vscode-editor-data"),r=s?JSON.parse(s):void 0,i=r?.mode;if(!n||!i)return!1;const{tr:l,schema:u}=t.state,d=u.text(n.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:i},d)),l.selection.$from.parent.type!==this.type&&l.setSelection(Te.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),t.dispatch(l),!0}}})]}}),iW=Jn.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),aW=Jn.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Pt(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:s})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:r,storedMarks:i}=n;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:u}=s.extensionManager,d=i||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:p})=>{if(p&&d&&l){const m=d.filter(x=>u.includes(x.type.name));h.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),oW=Jn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Pt(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const s=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,r="#".repeat(s);return t.content?`${r} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>vb({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),lW=Jn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Pt(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!IJ(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:s}=n,r=t();return xD(n)?r.insertContentAt(s.pos,{type:this.name}):r.insertContent({type:this.name}),r.command(({state:i,tr:l,dispatch:u})=>{if(u){const{$to:d}=l.selection,h=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?l.setSelection(Te.create(l.doc,d.pos+1)):d.nodeAfter.isBlock?l.setSelection(we.create(l.doc,d.pos)):l.setSelection(Te.create(l.doc,d.pos));else{const p=i.schema.nodes[this.options.nextNodeType]||d.parent.type.contentMatch.defaultType,m=p?.create();m&&(l.insert(h,m),l.setSelection(Te.create(l.doc,h+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[zJ({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),cW=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,uW=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,dW=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,fW=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,hW=Wa.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Pt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Nl({find:cW,type:this.type}),Nl({find:dW,type:this.type})]},addPasteRules(){return[Ja({find:uW,type:this.type}),Ja({find:fW,type:this.type})]}});const pW="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",mW="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",jb="numeric",Sb="ascii",Cb="alpha",ou="asciinumeric",Gc="alphanumeric",kb="domain",BD="emoji",gW="scheme",xW="slashscheme",ty="whitespace";function yW(t,e){return t in e||(e[t]=[]),e[t]}function _a(t,e,n){e[jb]&&(e[ou]=!0,e[Gc]=!0),e[Sb]&&(e[ou]=!0,e[Cb]=!0),e[ou]&&(e[Gc]=!0),e[Cb]&&(e[Gc]=!0),e[Gc]&&(e[kb]=!0),e[BD]&&(e[kb]=!0);for(const s in e){const r=yW(s,n);r.indexOf(t)<0&&r.push(t)}}function bW(t,e){const n={};for(const s in e)e[s].indexOf(t)>=0&&(n[s]=!0);return n}function En(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}En.groups={};En.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let s=0;s<e.jr.length;s++){const r=e.jr[s][0],i=e.jr[s][1];if(i&&r.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,s){for(let r=0;r<t.length;r++)this.tt(t[r],e,n,s)},tr(t,e,n,s){s=s||En.groups;let r;return e&&e.j?r=e:(r=new En(e),n&&s&&_a(e,n,s)),this.jr.push([t,r]),r},ts(t,e,n,s){let r=this;const i=t.length;if(!i)return r;for(let l=0;l<i-1;l++)r=r.tt(t[l]);return r.tt(t[i-1],e,n,s)},tt(t,e,n,s){s=s||En.groups;const r=this;if(e&&e.j)return r.j[t]=e,e;const i=e;let l,u=r.go(t);if(u?(l=new En,Object.assign(l.j,u.j),l.jr.push.apply(l.jr,u.jr),l.jd=u.jd,l.t=u.t):l=new En,i){if(s)if(l.t&&typeof l.t=="string"){const d=Object.assign(bW(l.t,s),n);_a(i,d,s)}else n&&_a(i,n,s);l.t=i}return r.j[t]=l,l}};const Re=(t,e,n,s,r)=>t.ta(e,n,s,r),bt=(t,e,n,s,r)=>t.tr(e,n,s,r),YE=(t,e,n,s,r)=>t.ts(e,n,s,r),ue=(t,e,n,s,r)=>t.tt(e,n,s,r),Rr="WORD",Eb="UWORD",zD="ASCIINUMERICAL",ID="ALPHANUMERICAL",Iu="LOCALHOST",Tb="TLD",Mb="UTLD",xh="SCHEME",Zo="SLASH_SCHEME",g1="NUM",Ab="WS",x1="NL",lu="OPENBRACE",cu="CLOSEBRACE",rp="OPENBRACKET",ip="CLOSEBRACKET",ap="OPENPAREN",op="CLOSEPAREN",lp="OPENANGLEBRACKET",cp="CLOSEANGLEBRACKET",up="FULLWIDTHLEFTPAREN",dp="FULLWIDTHRIGHTPAREN",fp="LEFTCORNERBRACKET",hp="RIGHTCORNERBRACKET",pp="LEFTWHITECORNERBRACKET",mp="RIGHTWHITECORNERBRACKET",gp="FULLWIDTHLESSTHAN",xp="FULLWIDTHGREATERTHAN",yp="AMPERSAND",bp="APOSTROPHE",vp="ASTERISK",Ti="AT",wp="BACKSLASH",Np="BACKTICK",jp="CARET",Di="COLON",y1="COMMA",Sp="DOLLAR",Hs="DOT",Cp="EQUALS",b1="EXCLAMATION",hs="HYPHEN",uu="PERCENT",kp="PIPE",Ep="PLUS",Tp="POUND",du="QUERY",v1="QUOTE",VD="FULLWIDTHMIDDLEDOT",w1="SEMI",Ks="SLASH",fu="TILDE",Mp="UNDERSCORE",UD="EMOJI",Ap="SYM";var $D=Object.freeze({__proto__:null,ALPHANUMERICAL:ID,AMPERSAND:yp,APOSTROPHE:bp,ASCIINUMERICAL:zD,ASTERISK:vp,AT:Ti,BACKSLASH:wp,BACKTICK:Np,CARET:jp,CLOSEANGLEBRACKET:cp,CLOSEBRACE:cu,CLOSEBRACKET:ip,CLOSEPAREN:op,COLON:Di,COMMA:y1,DOLLAR:Sp,DOT:Hs,EMOJI:UD,EQUALS:Cp,EXCLAMATION:b1,FULLWIDTHGREATERTHAN:xp,FULLWIDTHLEFTPAREN:up,FULLWIDTHLESSTHAN:gp,FULLWIDTHMIDDLEDOT:VD,FULLWIDTHRIGHTPAREN:dp,HYPHEN:hs,LEFTCORNERBRACKET:fp,LEFTWHITECORNERBRACKET:pp,LOCALHOST:Iu,NL:x1,NUM:g1,OPENANGLEBRACKET:lp,OPENBRACE:lu,OPENBRACKET:rp,OPENPAREN:ap,PERCENT:uu,PIPE:kp,PLUS:Ep,POUND:Tp,QUERY:du,QUOTE:v1,RIGHTCORNERBRACKET:hp,RIGHTWHITECORNERBRACKET:mp,SCHEME:xh,SEMI:w1,SLASH:Ks,SLASH_SCHEME:Zo,SYM:Ap,TILDE:fu,TLD:Tb,UNDERSCORE:Mp,UTLD:Mb,UWORD:Eb,WORD:Rr,WS:Ab});const Dr=/[a-z]/,Uc=new RegExp("\\p{L}","u"),ny=new RegExp("\\p{Emoji}","u"),Or=/\d/,sy=/\s/,JE="\r",ry=`
`,vW="",wW="",iy="";let Zf=null,eh=null;function NW(t=[]){const e={};En.groups=e;const n=new En;Zf==null&&(Zf=XE(pW)),eh==null&&(eh=XE(mW)),ue(n,"'",bp),ue(n,"{",lu),ue(n,"}",cu),ue(n,"[",rp),ue(n,"]",ip),ue(n,"(",ap),ue(n,")",op),ue(n,"<",lp),ue(n,">",cp),ue(n,"",up),ue(n,"",dp),ue(n,"",fp),ue(n,"",hp),ue(n,"",pp),ue(n,"",mp),ue(n,"",gp),ue(n,"",xp),ue(n,"&",yp),ue(n,"*",vp),ue(n,"@",Ti),ue(n,"`",Np),ue(n,"^",jp),ue(n,":",Di),ue(n,",",y1),ue(n,"$",Sp),ue(n,".",Hs),ue(n,"=",Cp),ue(n,"!",b1),ue(n,"-",hs),ue(n,"%",uu),ue(n,"|",kp),ue(n,"+",Ep),ue(n,"#",Tp),ue(n,"?",du),ue(n,'"',v1),ue(n,"/",Ks),ue(n,";",w1),ue(n,"~",fu),ue(n,"_",Mp),ue(n,"\\",wp),ue(n,"",VD);const s=bt(n,Or,g1,{[jb]:!0});bt(s,Or,s);const r=bt(s,Dr,zD,{[ou]:!0}),i=bt(s,Uc,ID,{[Gc]:!0}),l=bt(n,Dr,Rr,{[Sb]:!0});bt(l,Or,r),bt(l,Dr,l),bt(r,Or,r),bt(r,Dr,r);const u=bt(n,Uc,Eb,{[Cb]:!0});bt(u,Dr),bt(u,Or,i),bt(u,Uc,u),bt(i,Or,i),bt(i,Dr),bt(i,Uc,i);const d=ue(n,ry,x1,{[ty]:!0}),h=ue(n,JE,Ab,{[ty]:!0}),p=bt(n,sy,Ab,{[ty]:!0});ue(n,iy,p),ue(h,ry,d),ue(h,iy,p),bt(h,sy,p),ue(p,JE),ue(p,ry),bt(p,sy,p),ue(p,iy,p);const m=bt(n,ny,UD,{[BD]:!0});ue(m,"#"),bt(m,ny,m),ue(m,vW,m);const x=ue(m,wW);ue(x,"#"),bt(x,ny,m);const y=[[Dr,l],[Or,r]],b=[[Dr,null],[Uc,u],[Or,i]];for(let j=0;j<Zf.length;j++)Ni(n,Zf[j],Tb,Rr,y);for(let j=0;j<eh.length;j++)Ni(n,eh[j],Mb,Eb,b);_a(Tb,{tld:!0,ascii:!0},e),_a(Mb,{utld:!0,alpha:!0},e),Ni(n,"file",xh,Rr,y),Ni(n,"mailto",xh,Rr,y),Ni(n,"http",Zo,Rr,y),Ni(n,"https",Zo,Rr,y),Ni(n,"ftp",Zo,Rr,y),Ni(n,"ftps",Zo,Rr,y),_a(xh,{scheme:!0,ascii:!0},e),_a(Zo,{slashscheme:!0,ascii:!0},e),t=t.sort((j,w)=>j[0]>w[0]?1:-1);for(let j=0;j<t.length;j++){const w=t[j][0],M=t[j][1]?{[gW]:!0}:{[xW]:!0};w.indexOf("-")>=0?M[kb]=!0:Dr.test(w)?Or.test(w)?M[ou]=!0:M[Sb]=!0:M[jb]=!0,YE(n,w,w,M)}return YE(n,"localhost",Iu,{ascii:!0}),n.jd=new En(Ap),{start:n,tokens:Object.assign({groups:e},$D)}}function FD(t,e){const n=jW(e.replace(/[A-Z]/g,u=>u.toLowerCase())),s=n.length,r=[];let i=0,l=0;for(;l<s;){let u=t,d=null,h=0,p=null,m=-1,x=-1;for(;l<s&&(d=u.go(n[l]));)u=d,u.accepts()?(m=0,x=0,p=u):m>=0&&(m+=n[l].length,x++),h+=n[l].length,i+=n[l].length,l++;i-=m,l-=x,h-=m,r.push({t:p.t,v:e.slice(i-h,i),s:i-h,e:i})}return r}function jW(t){const e=[],n=t.length;let s=0;for(;s<n;){let r=t.charCodeAt(s),i,l=r<55296||r>56319||s+1===n||(i=t.charCodeAt(s+1))<56320||i>57343?t[s]:t.slice(s,s+2);e.push(l),s+=l.length}return e}function Ni(t,e,n,s,r){let i;const l=e.length;for(let u=0;u<l-1;u++){const d=e[u];t.j[d]?i=t.j[d]:(i=new En(s),i.jr=r.slice(),t.j[d]=i),t=i}return i=new En(n),i.jr=r.slice(),t.j[e[l-1]]=i,i}function XE(t){const e=[],n=[];let s=0,r="0123456789";for(;s<t.length;){let i=0;for(;r.indexOf(t[s+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let l=parseInt(t.substring(s,s+i),10);l>0;l--)n.pop();s+=i}else n.push(t[s]),s++}return e}const Vu={defaultProtocol:"http",events:null,format:WE,formatHref:WE,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function N1(t,e=null){let n=Object.assign({},Vu);t&&(n=Object.assign(n,t instanceof N1?t.o:t));const s=n.ignoreTags,r=[];for(let i=0;i<s.length;i++)r.push(s[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=r}N1.prototype={o:Vu,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const s=e!=null;let r=this.o[t];return r&&(typeof r=="object"?(r=n.t in r?r[n.t]:Vu[t],typeof r=="function"&&s&&(r=r(e,n))):typeof r=="function"&&s&&(r=r(e,n.t,n)),r)},getObj(t,e,n){let s=this.o[t];return typeof s=="function"&&e!=null&&(s=s(e,n.t,n)),s},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function WE(t){return t}function qD(t,e){this.t="token",this.v=t,this.tk=e}qD.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),s=t.get("format",e,this);return n&&s.length>n?s.substring(0,n)+"":s},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Vu.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),s=t.get("formatHref",n,this),r=t.get("tagName",n,e),i=this.toFormattedString(t),l={},u=t.get("className",n,e),d=t.get("target",n,e),h=t.get("rel",n,e),p=t.getObj("attributes",n,e),m=t.getObj("events",n,e);return l.href=s,u&&(l.class=u),d&&(l.target=d),h&&(l.rel=h),p&&Object.assign(l,p),{tagName:r,attributes:l,content:i,eventListeners:m}}};function Em(t,e){class n extends qD{constructor(r,i){super(r,i),this.t=t}}for(const s in e)n.prototype[s]=e[s];return n.t=t,n}const ZE=Em("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),eT=Em("text"),SW=Em("nl"),th=Em("url",{isLink:!0,toHref(t=Vu.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Iu&&t[1].t===Di}}),ds=t=>new En(t);function CW({groups:t}){const e=t.domain.concat([yp,vp,Ti,wp,Np,jp,Sp,Cp,hs,g1,uu,kp,Ep,Tp,Ks,Ap,fu,Mp]),n=[bp,Di,y1,Hs,b1,uu,du,v1,w1,lp,cp,lu,cu,ip,rp,ap,op,up,dp,fp,hp,pp,mp,gp,xp],s=[yp,bp,vp,wp,Np,jp,Sp,Cp,hs,lu,cu,uu,kp,Ep,Tp,du,Ks,Ap,fu,Mp],r=ds(),i=ue(r,fu);Re(i,s,i),Re(i,t.domain,i);const l=ds(),u=ds(),d=ds();Re(r,t.domain,l),Re(r,t.scheme,u),Re(r,t.slashscheme,d),Re(l,s,i),Re(l,t.domain,l);const h=ue(l,Ti);ue(i,Ti,h),ue(u,Ti,h),ue(d,Ti,h);const p=ue(i,Hs);Re(p,s,i),Re(p,t.domain,i);const m=ds();Re(h,t.domain,m),Re(m,t.domain,m);const x=ue(m,Hs);Re(x,t.domain,m);const y=ds(ZE);Re(x,t.tld,y),Re(x,t.utld,y),ue(h,Iu,y);const b=ue(m,hs);ue(b,hs,b),Re(b,t.domain,m),Re(y,t.domain,m),ue(y,Hs,x),ue(y,hs,b);const j=ue(y,Di);Re(j,t.numeric,ZE);const w=ue(l,hs),C=ue(l,Hs);ue(w,hs,w),Re(w,t.domain,l),Re(C,s,i),Re(C,t.domain,l);const M=ds(th);Re(C,t.tld,M),Re(C,t.utld,M),Re(M,t.domain,l),Re(M,s,i),ue(M,Hs,C),ue(M,hs,w),ue(M,Ti,h);const E=ue(M,Di),S=ds(th);Re(E,t.numeric,S);const k=ds(th),R=ds();Re(k,e,k),Re(k,n,R),Re(R,e,k),Re(R,n,R),ue(M,Ks,k),ue(S,Ks,k);const O=ue(u,Di),T=ue(d,Di),D=ue(T,Ks),B=ue(D,Ks);Re(u,t.domain,l),ue(u,Hs,C),ue(u,hs,w),Re(d,t.domain,l),ue(d,Hs,C),ue(d,hs,w),Re(O,t.domain,k),ue(O,Ks,k),ue(O,du,k),Re(B,t.domain,k),Re(B,e,k),ue(B,Ks,k);const L=[[lu,cu],[rp,ip],[ap,op],[lp,cp],[up,dp],[fp,hp],[pp,mp],[gp,xp]];for(let V=0;V<L.length;V++){const[F,K]=L[V],re=ue(k,F);ue(R,F,re),ue(re,K,k);const U=ds(th);Re(re,e,U);const H=ds();Re(re,n),Re(U,e,U),Re(U,n,H),Re(H,e,U),Re(H,n,H),ue(U,K,k),ue(H,K,k)}return ue(r,Iu,M),ue(r,x1,SW),{start:r,tokens:$D}}function kW(t,e,n){let s=n.length,r=0,i=[],l=[];for(;r<s;){let u=t,d=null,h=null,p=0,m=null,x=-1;for(;r<s&&!(d=u.go(n[r].t));)l.push(n[r++]);for(;r<s&&(h=d||u.go(n[r].t));)d=null,u=h,u.accepts()?(x=0,m=u):x>=0&&x++,r++,p++;if(x<0)r-=p,r<s&&(l.push(n[r]),r++);else{l.length>0&&(i.push(ay(eT,e,l)),l=[]),r-=x,p-=x;const y=m.t,b=n.slice(r-p,r);i.push(ay(y,e,b))}}return l.length>0&&i.push(ay(eT,e,l)),i}function ay(t,e,n){const s=n[0].s,r=n[n.length-1].e,i=e.slice(s,r);return new t(i,n)}const EW=typeof console<"u"&&console&&console.warn||(()=>{}),TW="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ct={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function MW(){return En.groups={},ct.scanner=null,ct.parser=null,ct.tokenQueue=[],ct.pluginQueue=[],ct.customSchemes=[],ct.initialized=!1,ct}function tT(t,e=!1){if(ct.initialized&&EW(`linkifyjs: already initialized - will not register custom scheme "${t}" ${TW}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ct.customSchemes.push([t,e])}function AW(){ct.scanner=NW(ct.customSchemes);for(let t=0;t<ct.tokenQueue.length;t++)ct.tokenQueue[t][1]({scanner:ct.scanner});ct.parser=CW(ct.scanner.tokens);for(let t=0;t<ct.pluginQueue.length;t++)ct.pluginQueue[t][1]({scanner:ct.scanner,parser:ct.parser});return ct.initialized=!0,ct}function j1(t){return ct.initialized||AW(),kW(ct.parser.start,t,FD(ct.scanner.start,t))}j1.scan=FD;function HD(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const s=new N1(n),r=j1(t),i=[];for(let l=0;l<r.length;l++){const u=r[l];u.isLink&&(!e||u.t===e)&&s.check(u)&&i.push(u.toFormattedObject(s))}return i}var S1="[\0- -\u2029]",_W=new RegExp(S1),DW=new RegExp(`${S1}$`),OW=new RegExp(S1,"g");function RW(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function LW(t){return new gt({key:new It("autolink"),appendTransaction:(e,n,s)=>{const r=e.some(h=>h.docChanged)&&!n.doc.eq(s.doc),i=e.some(h=>h.getMeta("preventAutolink"));if(!r||i)return;const{tr:l}=s,u=cD(n.doc,[...e]);if(gD(u).forEach(({newRange:h})=>{const p=IY(s.doc,h,y=>y.isTextblock);let m,x;if(p.length>1)m=p[0],x=s.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(p.length){const y=s.doc.textBetween(h.from,h.to," "," ");if(!DW.test(y))return;m=p[0],x=s.doc.textBetween(m.pos,h.to,void 0," ")}if(m&&x){const y=x.split(_W).filter(Boolean);if(y.length<=0)return!1;const b=y[y.length-1],j=m.pos+x.lastIndexOf(b);if(!b)return!1;const w=j1(b).map(C=>C.toObject(t.defaultProtocol));if(!RW(w))return!1;w.filter(C=>C.isLink).map(C=>({...C,from:j+C.start+1,to:j+C.end+1})).filter(C=>s.schema.marks.code?!s.doc.rangeHasMark(C.from,C.to,s.schema.marks.code):!0).filter(C=>t.validate(C.value)).filter(C=>t.shouldAutoLink(C.value)).forEach(C=>{d1(C.from,C.to,s.doc).some(M=>M.mark.type===t.type)||l.addMark(C.from,C.to,t.type.create({href:C.href}))})}}),!!l.steps.length)return l}})}function PW(t){return new gt({key:new It("handleClickLink"),props:{handleClick:(e,n,s)=>{var r,i;if(s.button!==0||!e.editable)return!1;let l=!1;if(t.enableClickSelection&&(l=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let u=null;if(s.target instanceof HTMLAnchorElement)u=s.target;else{let m=s.target;const x=[];for(;m.nodeName!=="DIV";)x.push(m),m=m.parentNode;u=x.find(y=>y.nodeName==="A")}if(!u)return l;const d=mD(e.state,t.type.name),h=(r=u?.href)!=null?r:d.href,p=(i=u?.target)!=null?i:d.target;u&&h&&(window.open(h,p),l=!0)}return l}}})}function BW(t){return new gt({key:new It("handlePasteLink"),props:{handlePaste:(e,n,s)=>{const{shouldAutoLink:r}=t,{state:i}=e,{selection:l}=i,{empty:u}=l;if(u)return!1;let d="";s.content.forEach(p=>{d+=p.textContent});const h=HD(d,{defaultProtocol:t.defaultProtocol}).find(p=>p.isLink&&p.value===d);return!d||!h||r!==void 0&&!r(h.href)?!1:t.editor.commands.setMark(t.type,{href:h.href})}}})}function wa(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(s=>{const r=typeof s=="string"?s:s.scheme;r&&n.push(r)}),!t||t.replace(OW,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var zW=Wa.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){tT(t);return}tT(t.scheme,t.optionalSlashes)})},onDestroy(){MW()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!wa(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!wa(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!wa(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Pt(this.options.HTMLAttributes,t),0]:["a",Pt(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const s=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${s})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:s=>!!wa(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:s=>!!wa(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Ja({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:s}=this.options,r=HD(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:l=>!!wa(l,n),protocols:n,defaultProtocol:s}));r.length&&r.forEach(i=>{this.options.shouldAutoLink(i.value)&&e.push({text:i.value,data:{href:i.href},index:i.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(LW({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:s=>this.options.isAllowedUri(s,{defaultValidate:r=>!!wa(r,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(PW({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(BW({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),IW=Object.defineProperty,VW=(t,e)=>{for(var n in e)IW(t,n,{get:e[n],enumerable:!0})},UW="listItem",nT="textStyle",sT=/^\s*([-+*])\s$/,KD=Jn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Pt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(UW,this.editor.getAttributes(nT)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=jl({find:sT,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=jl({find:sT,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(nT),editor:this.editor})),[t]}}),GD=Jn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Pt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(r=>r.type==="paragraph"))n=e.parseChildren(t.tokens);else{const r=t.tokens[0];if(r&&r.type==="text"&&r.tokens&&r.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(r.tokens)}],t.tokens.length>1){const l=t.tokens.slice(1),u=e.parseChildren(l);n.push(...u)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>m1(t,e,s=>s.parentType==="bulletList"?"- ":s.parentType==="orderedList"?`${s.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),$W={};VW($W,{findListItemPos:()=>ld,getNextListDepth:()=>C1,handleBackspace:()=>_b,handleDelete:()=>Db,hasListBefore:()=>QD,hasListItemAfter:()=>FW,hasListItemBefore:()=>YD,listItemHasSubList:()=>JD,nextListIsDeeper:()=>XD,nextListIsHigher:()=>WD});var ld=(t,e)=>{const{$from:n}=e.selection,s=Lt(t,e.schema);let r=null,i=n.depth,l=n.pos,u=null;for(;i>0&&u===null;)r=n.node(i),r.type===s?u=i:(i-=1,l-=1);return u===null?null:{$pos:e.doc.resolve(l),depth:u}},C1=(t,e)=>{const n=ld(t,e);if(!n)return!1;const[,s]=YY(e,t,n.$pos.pos+4);return s},QD=(t,e,n)=>{const{$anchor:s}=t.selection,r=Math.max(0,s.pos-2),i=t.doc.resolve(r).node();return!(!i||!n.includes(i.type.name))},YD=(t,e)=>{var n;const{$anchor:s}=e.selection,r=e.doc.resolve(s.pos-2);return!(r.index()===0||((n=r.nodeBefore)==null?void 0:n.type.name)!==t)},JD=(t,e,n)=>{if(!n)return!1;const s=Lt(t,e.schema);let r=!1;return n.descendants(i=>{i.type===s&&(r=!0)}),r},_b=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Qi(t.state,e)&&QD(t.state,e,n)){const{$anchor:u}=t.state.selection,d=t.state.doc.resolve(u.before()-1),h=[];d.node().descendants((x,y)=>{x.type.name===e&&h.push({node:x,pos:y})});const p=h.at(-1);if(!p)return!1;const m=t.state.doc.resolve(d.start()+p.pos+1);return t.chain().cut({from:u.start()-1,to:u.end()+1},m.end()).joinForward().run()}if(!Qi(t.state,e)||!ZY(t.state))return!1;const s=ld(e,t.state);if(!s)return!1;const i=t.state.doc.resolve(s.$pos.pos-2).node(s.depth),l=JD(e,t.state,i);return YD(e,t.state)&&!l?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},XD=(t,e)=>{const n=C1(t,e),s=ld(t,e);return!s||!n?!1:n>s.depth},WD=(t,e)=>{const n=C1(t,e),s=ld(t,e);return!s||!n?!1:n<s.depth},Db=(t,e)=>{if(!Qi(t.state,e)||!WY(t.state,e))return!1;const{selection:n}=t.state,{$from:s,$to:r}=n;return!n.empty&&s.sameParent(r)?!1:XD(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():WD(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},FW=(t,e)=>{var n;const{$anchor:s}=e.selection,r=e.doc.resolve(s.pos-s.parentOffset-2);return!(r.index()===r.parent.childCount-1||((n=r.nodeAfter)==null?void 0:n.type.name)!==t)},ZD=Et.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Db(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Db(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:s})=>{t.state.schema.nodes[n]!==void 0&&_b(t,n,s)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:s})=>{t.state.schema.nodes[n]!==void 0&&_b(t,n,s)&&(e=!0)}),e}}}}),rT=/^(\s*)(\d+)\.\s+(.*)$/,qW=/^\s/;function HW(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n],i=r.match(rT);if(!i)break;const[,l,u,d]=i,h=l.length;let p=d,m=n+1;const x=[r];for(;m<t.length;){const y=t[m];if(y.match(rT))break;if(y.trim()==="")x.push(y),p+=`
`,m+=1;else if(y.match(qW))x.push(y),p+=`
${y.slice(h+2)}`,m+=1;else break}e.push({indent:h,number:parseInt(u,10),content:p.trim(),raw:x.join(`
`)}),s=m,n=m}return[e,s]}function eO(t,e,n){var s;const r=[];let i=0;for(;i<t.length;){const l=t[i];if(l.indent===e){const u=l.content.split(`
`),d=((s=u[0])==null?void 0:s.trim())||"",h=[];d&&h.push({type:"paragraph",raw:d,tokens:n.inlineTokens(d)});const p=u.slice(1).join(`
`).trim();if(p){const y=n.blockTokens(p);h.push(...y)}let m=i+1;const x=[];for(;m<t.length&&t[m].indent>e;)x.push(t[m]),m+=1;if(x.length>0){const y=Math.min(...x.map(j=>j.indent)),b=eO(x,y,n);h.push({type:"list",ordered:!0,start:x[0].number,items:b,raw:x.map(j=>j.raw).join(`
`)})}r.push({type:"list_item",raw:l.raw,tokens:h}),i=m}else i+=1}return r}function KW(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const s=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(r=>{if(r.type==="paragraph"||r.type==="list"||r.type==="blockquote"||r.type==="code")s.push(...e.parseChildren([r]));else if(r.type==="text"&&r.tokens){const i=e.parseChildren([r]);s.push({type:"paragraph",content:i})}else{const i=e.parseChildren([r]);i.length>0&&s.push(...i)}}),{type:"listItem",content:s}})}var GW="listItem",iT="textStyle",aT=/^(\d+)\.\s$/,tO=Jn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Pt(this.options.HTMLAttributes,n),0]:["ol",Pt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,s=t.items?KW(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:s}:{type:"orderedList",content:s}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var s;const r=t.split(`
`),[i,l]=HW(r);if(i.length===0)return;const u=eO(i,0,n);return u.length===0?void 0:{type:"list",ordered:!0,start:((s=i[0])==null?void 0:s.number)||1,items:u,raw:r.slice(0,l).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(GW,this.editor.getAttributes(iT)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=jl({find:aT,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=jl({find:aT,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(iT)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),QW=/^\s*(\[([( |x])?\])\s$/,YW=Jn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Pt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const s=e.parseChildren(t.nestedTokens);n.push(...s)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const r=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return m1(t,e,r)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:s})=>{const r=document.createElement("li"),i=document.createElement("label"),l=document.createElement("span"),u=document.createElement("input"),d=document.createElement("div"),h=p=>{var m,x;u.ariaLabel=((x=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:x.call(m,p,u.checked))||`Task item checkbox for ${p.textContent||"empty task item"}`};return h(t),i.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",p=>p.preventDefault()),u.addEventListener("change",p=>{if(!s.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:m}=p.target;s.isEditable&&typeof n=="function"&&s.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:x})=>{const y=n();if(typeof y!="number")return!1;const b=x.doc.nodeAt(y);return x.setNodeMarkup(y,void 0,{...b?.attrs,checked:m}),!0}).run(),!s.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,m)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([p,m])=>{r.setAttribute(p,m)}),r.dataset.checked=t.attrs.checked,u.checked=t.attrs.checked,i.append(u,l),r.append(i,d),Object.entries(e).forEach(([p,m])=>{r.setAttribute(p,m)}),{dom:r,contentDOM:d,update:p=>p.type!==this.type?!1:(r.dataset.checked=p.attrs.checked,u.checked=p.attrs.checked,h(p),!0)}}},addInputRules(){return[jl({find:QW,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),JW=Jn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Pt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const s=i=>{const l=wb(i,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:u=>({indentLevel:u[1].length,mainContent:u[4],checked:u[3].toLowerCase()==="x"}),createToken:(u,d)=>({type:"taskItem",raw:"",mainContent:u.mainContent,indentLevel:u.indentLevel,checked:u.checked,text:u.mainContent,tokens:n.inlineTokens(u.mainContent),nestedTokens:d}),customNestedParser:s},n);return l?[{type:"taskList",raw:l.raw,items:l.items}]:n.blockTokens(i)},r=wb(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:i=>({indentLevel:i[1].length,mainContent:i[4],checked:i[3].toLowerCase()==="x"}),createToken:(i,l)=>({type:"taskItem",raw:"",mainContent:i.mainContent,indentLevel:i.indentLevel,checked:i.checked,text:i.mainContent,tokens:n.inlineTokens(i.mainContent),nestedTokens:l}),customNestedParser:s},n);if(r)return{type:"taskList",raw:r.raw,items:r.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Et.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(KD.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(GD.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(ZD.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(tO.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(YW.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(JW.configure(this.options.taskList)),t}});var XW=Jn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Pt(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),WW=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,ZW=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,eZ=Wa.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Pt(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Nl({find:WW,type:this.type})]},addPasteRules(){return[Ja({find:ZW,type:this.type})]}}),tZ=Jn.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),nZ=Wa.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Pt(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const r=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!r)return;const i=r[2].trim();return{type:"underline",raw:r[0],text:i,tokens:n.inlineTokens(i)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function sZ(t={}){return new gt({view(e){return new rZ(e,t)}})}class rZ{constructor(e,n){var s;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(s=n.width)!==null&&s!==void 0?s:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=l=>{this[r](l)};return e.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,s,r=this.editorView.dom,i=r.getBoundingClientRect(),l=i.width/r.offsetWidth,u=i.height/r.offsetHeight;if(n){let m=e.nodeBefore,x=e.nodeAfter;if(m||x){let y=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(y){let b=y.getBoundingClientRect(),j=m?b.bottom:b.top;m&&x&&(j=(j+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let w=this.width/2*u;s={left:b.left,right:b.right,top:j-w,bottom:j+w}}}}if(!s){let m=this.editorView.coordsAtPos(this.cursorPos),x=this.width/2*l;s={left:m.left-x,right:m.left+x,top:m.top,bottom:m.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let h,p;if(!d||d==document.body&&getComputedStyle(d).position=="static")h=-pageXOffset,p=-pageYOffset;else{let m=d.getBoundingClientRect(),x=m.width/d.offsetWidth,y=m.height/d.offsetHeight;h=m.left-d.scrollLeft*x,p=m.top-d.scrollTop*y}this.element.style.left=(s.left-h)/l+"px",this.element.style.top=(s.top-p)/u+"px",this.element.style.width=(s.right-s.left)/l+"px",this.element.style.height=(s.bottom-s.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),s=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=s&&s.type.spec.disableDropCursor,i=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!i){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=e4(this.editorView.state.doc,l,this.editorView.dragging.slice);u!=null&&(l=u)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class wt extends Le{constructor(e){super(e,e)}map(e,n){let s=e.resolve(n.map(this.head));return wt.valid(s)?new wt(s):Le.near(s)}content(){return pe.empty}eq(e){return e instanceof wt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new wt(e.resolve(n.pos))}getBookmark(){return new k1(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!iZ(e)||!aZ(e))return!1;let s=n.type.spec.allowGapCursor;if(s!=null)return s;let r=n.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,n,s=!1){e:for(;;){if(!s&&wt.valid(e))return e;let r=e.pos,i=null;for(let l=e.depth;;l--){let u=e.node(l);if(n>0?e.indexAfter(l)<u.childCount:e.index(l)>0){i=u.child(n>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;r+=n;let d=e.doc.resolve(r);if(wt.valid(d))return d}for(;;){let l=n>0?i.firstChild:i.lastChild;if(!l){if(i.isAtom&&!i.isText&&!we.isSelectable(i)){e=e.doc.resolve(r+i.nodeSize*n),s=!1;continue e}break}i=l,r+=n;let u=e.doc.resolve(r);if(wt.valid(u))return u}return null}}}wt.prototype.visible=!1;wt.findFrom=wt.findGapCursorFrom;Le.jsonID("gapcursor",wt);class k1{constructor(e){this.pos=e}map(e){return new k1(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return wt.valid(n)?new wt(n):Le.near(n)}}function nO(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function iZ(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),s=t.node(e);if(n==0){if(s.type.spec.isolating)return!0;continue}for(let r=s.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||nO(r.type))return!0;if(r.inlineContent)return!1}}return!0}function aZ(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),s=t.node(e);if(n==s.childCount){if(s.type.spec.isolating)return!0;continue}for(let r=s.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||nO(r.type))return!0;if(r.inlineContent)return!1}}return!0}function oZ(){return new gt({props:{decorations:dZ,createSelectionBetween(t,e,n){return e.pos==n.pos&&wt.valid(n)?new wt(n):null},handleClick:cZ,handleKeyDown:lZ,handleDOMEvents:{beforeinput:uZ}}})}const lZ=tD({ArrowLeft:nh("horiz",-1),ArrowRight:nh("horiz",1),ArrowUp:nh("vert",-1),ArrowDown:nh("vert",1)});function nh(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(s,r,i){let l=s.selection,u=e>0?l.$to:l.$from,d=l.empty;if(l instanceof Te){if(!i.endOfTextblock(n)||u.depth==0)return!1;d=!1,u=s.doc.resolve(e>0?u.after():u.before())}let h=wt.findGapCursorFrom(u,e,d);return h?(r&&r(s.tr.setSelection(new wt(h))),!0):!1}}function cZ(t,e,n){if(!t||!t.editable)return!1;let s=t.state.doc.resolve(e);if(!wt.valid(s))return!1;let r=t.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&we.isSelectable(t.state.doc.nodeAt(r.inside))?!1:(t.dispatch(t.state.tr.setSelection(new wt(s))),!0)}function uZ(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof wt))return!1;let{$from:n}=t.state.selection,s=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!s)return!1;let r=ce.empty;for(let l=s.length-1;l>=0;l--)r=ce.from(s[l].createAndFill(null,r));let i=t.state.tr.replace(n.pos,n.pos,new pe(r,0,0));return i.setSelection(Te.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function dZ(t){if(!(t.selection instanceof wt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ht.create(t.doc,[xn.widget(t.selection.head,e,{key:"gapcursor"})])}var _p=200,Qt=function(){};Qt.prototype.append=function(e){return e.length?(e=Qt.from(e),!this.length&&e||e.length<_p&&this.leafAppend(e)||this.length<_p&&e.leafPrepend(this)||this.appendInner(e)):this};Qt.prototype.prepend=function(e){return e.length?Qt.from(e).append(this):this};Qt.prototype.appendInner=function(e){return new fZ(this,e)};Qt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Qt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Qt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Qt.prototype.forEach=function(e,n,s){n===void 0&&(n=0),s===void 0&&(s=this.length),n<=s?this.forEachInner(e,n,s,0):this.forEachInvertedInner(e,n,s,0)};Qt.prototype.map=function(e,n,s){n===void 0&&(n=0),s===void 0&&(s=this.length);var r=[];return this.forEach(function(i,l){return r.push(e(i,l))},n,s),r};Qt.from=function(e){return e instanceof Qt?e:e&&e.length?new sO(e):Qt.empty};var sO=(function(t){function e(s){t.call(this),this.values=s}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,i){return r==0&&i==this.length?this:new e(this.values.slice(r,i))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,i,l,u){for(var d=i;d<l;d++)if(r(this.values[d],u+d)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,l,u){for(var d=i-1;d>=l;d--)if(r(this.values[d],u+d)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=_p)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=_p)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(Qt);Qt.empty=new sO([]);var fZ=(function(t){function e(n,s){t.call(this),this.left=n,this.right=s,this.length=n.length+s.length,this.depth=Math.max(n.depth,s.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(s){return s<this.left.length?this.left.get(s):this.right.get(s-this.left.length)},e.prototype.forEachInner=function(s,r,i,l){var u=this.left.length;if(r<u&&this.left.forEachInner(s,r,Math.min(i,u),l)===!1||i>u&&this.right.forEachInner(s,Math.max(r-u,0),Math.min(this.length,i)-u,l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(s,r,i,l){var u=this.left.length;if(r>u&&this.right.forEachInvertedInner(s,r-u,Math.max(i,u)-u,l+u)===!1||i<u&&this.left.forEachInvertedInner(s,Math.min(r,u),i,l)===!1)return!1},e.prototype.sliceInner=function(s,r){if(s==0&&r==this.length)return this;var i=this.left.length;return r<=i?this.left.slice(s,r):s>=i?this.right.slice(s-i,r-i):this.left.slice(s,i).append(this.right.slice(0,r-i))},e.prototype.leafAppend=function(s){var r=this.right.leafAppend(s);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(s){var r=this.left.leafPrepend(s);if(r)return new e(r,this.right)},e.prototype.appendInner=function(s){return this.left.depth>=Math.max(this.right.depth,s.depth)+1?new e(this.left,new e(this.right,s)):new e(this,s)},e})(Qt);const hZ=500;class Es{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}let r,i;n&&(r=this.remapping(s,this.items.length),i=r.maps.length);let l=e.tr,u,d,h=[],p=[];return this.items.forEach((m,x)=>{if(!m.step){r||(r=this.remapping(s,x+1),i=r.maps.length),i--,p.push(m);return}if(r){p.push(new Gs(m.map));let y=m.step.map(r.slice(i)),b;y&&l.maybeStep(y).doc&&(b=l.mapping.maps[l.mapping.maps.length-1],h.push(new Gs(b,void 0,void 0,h.length+p.length))),i--,b&&r.appendMap(b,i)}else l.maybeStep(m.step);if(m.selection)return u=r?m.selection.map(r.slice(i)):m.selection,d=new Es(this.items.slice(0,s).append(p.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:l,selection:u}}addTransform(e,n,s,r){let i=[],l=this.eventCount,u=this.items,d=!r&&u.length?u.get(u.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),x=new Gs(e.mapping.maps[p],m,n),y;(y=d&&d.merge(x))&&(x=y,p?i.pop():u=u.slice(0,u.length-1)),i.push(x),n&&(l++,n=void 0),r||(d=x)}let h=l-s.depth;return h>mZ&&(u=pZ(u,h),l-=h),new Es(u.append(i),l)}remapping(e,n){let s=new Ou;return this.items.forEach((r,i)=>{let l=r.mirrorOffset!=null&&i-r.mirrorOffset>=e?s.maps.length-r.mirrorOffset:void 0;s.appendMap(r.map,l)},e,n),s}addMaps(e){return this.eventCount==0?this:new Es(this.items.append(e.map(n=>new Gs(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let s=[],r=Math.max(0,this.items.length-n),i=e.mapping,l=e.steps.length,u=this.eventCount;this.items.forEach(x=>{x.selection&&u--},r);let d=n;this.items.forEach(x=>{let y=i.getMirror(--d);if(y==null)return;l=Math.min(l,y);let b=i.maps[y];if(x.step){let j=e.steps[y].invert(e.docs[y]),w=x.selection&&x.selection.map(i.slice(d+1,y));w&&u++,s.push(new Gs(b,j,w))}else s.push(new Gs(b))},r);let h=[];for(let x=n;x<l;x++)h.push(new Gs(i.maps[x]));let p=this.items.slice(0,r).append(h).append(s),m=new Es(p,u);return m.emptyItemCount()>hZ&&(m=m.compress(this.items.length-s.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),s=n.maps.length,r=[],i=0;return this.items.forEach((l,u)=>{if(u>=e)r.push(l),l.selection&&i++;else if(l.step){let d=l.step.map(n.slice(s)),h=d&&d.getMap();if(s--,h&&n.appendMap(h,s),d){let p=l.selection&&l.selection.map(n.slice(s));p&&i++;let m=new Gs(h.invert(),d,p),x,y=r.length-1;(x=r.length&&r[y].merge(m))?r[y]=x:r.push(m)}}else l.map&&s--},this.items.length,0),new Es(Qt.from(r.reverse()),i)}}Es.empty=new Es(Qt.empty,0);function pZ(t,e){let n;return t.forEach((s,r)=>{if(s.selection&&e--==0)return n=r,!1}),t.slice(n)}class Gs{constructor(e,n,s,r){this.map=e,this.step=n,this.selection=s,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Gs(n.getMap().invert(),n,this.selection)}}}class Mi{constructor(e,n,s,r,i){this.done=e,this.undone=n,this.prevRanges=s,this.prevTime=r,this.prevComposition=i}}const mZ=20;function gZ(t,e,n,s){let r=n.getMeta(Va),i;if(r)return r.historyState;n.getMeta(bZ)&&(t=new Mi(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(Va))return l.getMeta(Va).redo?new Mi(t.done.addTransform(n,void 0,s,yh(e)),t.undone,oT(n.mapping.maps),t.prevTime,t.prevComposition):new Mi(t.done,t.undone.addTransform(n,void 0,s,yh(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),d=t.prevTime==0||!l&&t.prevComposition!=u&&(t.prevTime<(n.time||0)-s.newGroupDelay||!xZ(n,t.prevRanges)),h=l?oy(t.prevRanges,n.mapping):oT(n.mapping.maps);return new Mi(t.done.addTransform(n,d?e.selection.getBookmark():void 0,s,yh(e)),Es.empty,h,n.time,u??t.prevComposition)}else return(i=n.getMeta("rebased"))?new Mi(t.done.rebased(n,i),t.undone.rebased(n,i),oy(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Mi(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),oy(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function xZ(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((s,r)=>{for(let i=0;i<e.length;i+=2)s<=e[i+1]&&r>=e[i]&&(n=!0)}),n}function oT(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((s,r,i,l)=>e.push(i,l));return e}function oy(t,e){if(!t)return null;let n=[];for(let s=0;s<t.length;s+=2){let r=e.map(t[s],1),i=e.map(t[s+1],-1);r<=i&&n.push(r,i)}return n}function yZ(t,e,n){let s=yh(e),r=Va.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,s);if(!i)return null;let l=i.selection.resolve(i.transform.doc),u=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),r,s),d=new Mi(n?u:i.remaining,n?i.remaining:u,null,0,-1);return i.transform.setSelection(l).setMeta(Va,{redo:n,historyState:d})}let ly=!1,lT=null;function yh(t){let e=t.plugins;if(lT!=e){ly=!1,lT=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){ly=!0;break}}return ly}const Va=new It("history"),bZ=new It("closeHistory");function vZ(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new gt({key:Va,state:{init(){return new Mi(Es.empty,Es.empty,null,0,-1)},apply(e,n,s){return gZ(n,s,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let s=n.inputType,r=s=="historyUndo"?iO:s=="historyRedo"?aO:null;return!r||!e.editable?!1:(n.preventDefault(),r(e.state,e.dispatch))}}}})}function rO(t,e){return(n,s)=>{let r=Va.getState(n);if(!r||(t?r.undone:r.done).eventCount==0)return!1;if(s){let i=yZ(r,n,t);i&&s(e?i.scrollIntoView():i)}return!0}}const iO=rO(!1,!0),aO=rO(!0,!0);Et.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const s=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(s)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new gt({key:new It("characterCount"),appendTransaction:(e,n,s)=>{if(t)return;const r=this.options.limit;if(r==null||r===0){t=!0;return}const i=this.storage.characters({node:s.doc});if(i>r){const l=i-r,u=0,d=l;console.warn(`[CharacterCount] Initial content exceeded limit of ${r} characters. Content was automatically trimmed.`);const h=s.tr.deleteRange(u,d);return t=!0,h}t=!0},filterTransaction:(e,n)=>{const s=this.options.limit;if(!e.docChanged||s===0||s===null||s===void 0)return!0;const r=this.storage.characters({node:n.doc}),i=this.storage.characters({node:e.doc});if(i<=s||r>s&&i>s&&i<=r)return!0;if(r>s&&i>s&&i>r||!e.getMeta("paste"))return!1;const u=e.selection.$head.pos,d=i-s,h=u-d,p=u;return e.deleteRange(h,p),!(this.storage.characters({node:e.doc})>s)}})]}});var wZ=Et.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[sZ(this.options)]}});Et.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new gt({key:new It("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:s}=this.editor,{anchor:r}=e,i=[];if(!n||!s)return ht.create(t,[]);let l=0;this.options.mode==="deepest"&&t.descendants((d,h)=>{if(d.isText)return;if(!(r>=h&&r<=h+d.nodeSize-1))return!1;l+=1});let u=0;return t.descendants((d,h)=>{if(d.isText||!(r>=h&&r<=h+d.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&l-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";i.push(xn.node(h,h+d.nodeSize,{class:this.options.className}))}),ht.create(t,i)}}})]}});var NZ=Et.create({name:"gapCursor",addProseMirrorPlugins(){return[oZ()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Ze(be(t,"allowGapCursor",n)))!=null?e:null}}});Et.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new gt({key:new It("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=e,r=[];if(!n)return null;const i=this.editor.isEmpty;return t.descendants((l,u)=>{const d=s>=u&&s<=u+l.nodeSize,h=!l.isLeaf&&Sm(l);if((d||!this.options.showOnlyCurrent)&&h){const p=[this.options.emptyNodeClass];i&&p.push(this.options.emptyEditorClass);const m=xn.node(u,u+l.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:u,hasAnchor:d}):this.options.placeholder});r.push(m)}return this.options.includeChildren}),ht.create(t,r)}}})]}});Et.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new gt({key:new It("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||xD(n.selection)||t.view.dragging?null:ht.create(n.doc,[xn.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function cT({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var jZ=Et.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new It(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",s=Object.entries(this.editor.schema.nodes).map(([,r])=>r).filter(r=>(this.options.notAfter||[]).concat(n).includes(r.name));return[new gt({key:e,appendTransaction:(r,i,l)=>{const{doc:u,tr:d,schema:h}=l,p=e.getState(l),m=u.content.size,x=h.nodes[n];if(p)return d.insert(m,x.create())},state:{init:(r,i)=>{const l=i.tr.doc.lastChild;return!cT({node:l,types:s})},apply:(r,i)=>{if(!r.docChanged||r.getMeta("__uniqueIDTransaction"))return i;const l=r.doc.lastChild;return!cT({node:l,types:s})}}})]}}),SZ=Et.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>iO(t,e),redo:()=>({state:t,dispatch:e})=>aO(t,e)}},addProseMirrorPlugins(){return[vZ(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),CZ=Et.create({name:"starterKit",addExtensions(){var t,e,n,s;const r=[];return this.options.bold!==!1&&r.push(WX.configure(this.options.bold)),this.options.blockquote!==!1&&r.push(GX.configure(this.options.blockquote)),this.options.bulletList!==!1&&r.push(KD.configure(this.options.bulletList)),this.options.code!==!1&&r.push(tW.configure(this.options.code)),this.options.codeBlock!==!1&&r.push(rW.configure(this.options.codeBlock)),this.options.document!==!1&&r.push(iW.configure(this.options.document)),this.options.dropcursor!==!1&&r.push(wZ.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&r.push(NZ.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&r.push(aW.configure(this.options.hardBreak)),this.options.heading!==!1&&r.push(oW.configure(this.options.heading)),this.options.undoRedo!==!1&&r.push(SZ.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&r.push(lW.configure(this.options.horizontalRule)),this.options.italic!==!1&&r.push(hW.configure(this.options.italic)),this.options.listItem!==!1&&r.push(GD.configure(this.options.listItem)),this.options.listKeymap!==!1&&r.push(ZD.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&r.push(zW.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&r.push(tO.configure(this.options.orderedList)),this.options.paragraph!==!1&&r.push(XW.configure(this.options.paragraph)),this.options.strike!==!1&&r.push(eZ.configure(this.options.strike)),this.options.text!==!1&&r.push(tZ.configure(this.options.text)),this.options.underline!==!1&&r.push(nZ.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&r.push(jZ.configure((s=this.options)==null?void 0:s.trailingNode)),r}}),Dp=CZ;const kZ=({editor:t})=>t?o.jsxs("div",{className:"flex flex-wrap gap-1 p-2 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[o.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${t.isActive("bold")?"bg-gray-200 text-primary-600":"text-gray-600"}`,title:"Bold",children:o.jsx(m3,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${t.isActive("italic")?"bg-gray-200 text-primary-600":"text-gray-600"}`,title:"Italic",children:o.jsx(j3,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${t.isActive("heading",{level:2})?"bg-gray-200 text-primary-600":"text-gray-600"}`,title:"Heading",children:o.jsx(b3,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${t.isActive("bulletList")?"bg-gray-200 text-primary-600":"text-gray-600"}`,title:"Bullet List",children:o.jsx(Ol,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${t.isActive("orderedList")?"bg-gray-200 text-primary-600":"text-gray-600"}`,title:"Numbered List",children:o.jsx(S3,{className:"w-4 h-4"})}),o.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 self-center"}),o.jsx("button",{type:"button",onClick:()=>t.chain().focus().undo().run(),disabled:!t.can().chain().focus().undo().run(),className:"p-2 rounded hover:bg-gray-200 transition-colors text-gray-600 disabled:opacity-50",title:"Undo",children:o.jsx(k3,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>t.chain().focus().redo().run(),disabled:!t.can().chain().focus().redo().run(),className:"p-2 rounded hover:bg-gray-200 transition-colors text-gray-600 disabled:opacity-50",title:"Redo",children:o.jsx(C3,{className:"w-4 h-4"})})]}):null,EZ=({isOpen:t,onClose:e,footerLink:n,mode:s})=>{const[r,{isLoading:i}]=lA(),[l,{isLoading:u}]=cA(),[d,h]=_.useState({title:"",content:"",display_order:0,is_active:!0,open_in_new_tab:!1,title_translations:{ar:""},content_translations:{ar:""}}),[p,m]=_.useState("en"),x=s==="view",y=np({extensions:[Dp],content:d.content||"",editable:!x,onUpdate:({editor:E})=>{h(S=>({...S,content:E.getHTML()}))}}),b=np({extensions:[Dp],content:d.content_translations.ar||"",editable:!x,onUpdate:({editor:E})=>{h(S=>({...S,content_translations:{...S.content_translations,ar:E.getHTML()}}))}}),j=p==="en"?y:b;_.useEffect(()=>{n&&s!=="create"?(h({title:n.title,content:n.content||"",display_order:n.display_order,is_active:n.is_active,open_in_new_tab:n.open_in_new_tab,title_translations:n.title_translations||{ar:""},content_translations:n.content_translations||{ar:""}}),y&&y.commands.setContent(n.content||""),b&&b.commands.setContent(n.content_translations?.ar||"")):s==="create"&&(h({title:"",content:"",display_order:0,is_active:!0,open_in_new_tab:!1,title_translations:{ar:""},content_translations:{ar:""}}),y&&y.commands.setContent(""),b&&b.commands.setContent(""))},[n,s,y,b]),_.useEffect(()=>{y&&y.setEditable(!x),b&&b.setEditable(!x)},[x,y,b]);const w=async E=>{if(E.preventDefault(),s==="view"){e();return}try{const S={...d,title_translations:JSON.stringify(d.title_translations),content_translations:JSON.stringify(d.content_translations)};s==="create"?(await r(S).unwrap(),oe.success("Footer page created successfully")):(await l({id:n.id,data:S}).unwrap(),oe.success("Footer page updated successfully")),e()}catch(S){console.error(`${s} error:`,S),S?.data?.errors?Object.values(S.data.errors).flat().forEach(R=>oe.error(R)):S?.data?.message?oe.error(S.data.message):oe.error(`Failed to ${s} footer page`)}},C=E=>{const{name:S,value:k,type:R}=E.target;h(R==="checkbox"?O=>({...O,[S]:E.target.checked}):R==="number"?O=>({...O,[S]:Number(k)}):O=>({...O,[S]:k}))},M=i||u;return o.jsx(Rt,{children:t&&o.jsxs(o.Fragment,{children:[o.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:e}),o.jsx(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",onClick:E=>E.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s==="create"?"Add Footer Page":s==="edit"?"Edit Footer Page":"Footer Page Details"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(dn,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:w,className:"p-6 space-y-5",children:[o.jsxs("div",{children:[o.jsx(ke,{label:"Page Title",name:"title",value:d.title,translationValue:d.title_translations.ar,onChangeEnglish:E=>h(S=>({...S,title:E})),onChangeArabic:E=>h(S=>({...S,title_translations:{...S.title_translations,ar:E}})),required:!0,placeholder:"e.g. Privacy Policy, Terms and Conditions",placeholderAr:":    ",disabled:x}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The URL will be auto-generated as /pages/privacy-policy based on the title"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Page Content"}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-0.5",children:[o.jsx("button",{type:"button",onClick:()=>m("en"),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${p==="en"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"EN"}),o.jsx("button",{type:"button",onClick:()=>m("ar"),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${p==="ar"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"AR"})]}),o.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[o.jsx("span",{className:`w-2 h-2 rounded-full ${d.content?"bg-green-500":"bg-gray-300"}`,title:"English content"}),o.jsx("span",{className:`w-2 h-2 rounded-full ${d.content_translations.ar?"bg-green-500":"bg-gray-300"}`,title:"Arabic content"})]})]})]}),o.jsxs("div",{className:`border border-gray-300 rounded-lg overflow-hidden ${x?"bg-gray-100":""}`,children:[!x&&o.jsx(kZ,{editor:j}),o.jsx("div",{className:p==="en"?"":"hidden",children:o.jsx(tp,{editor:y,className:"prose max-w-none p-4 min-h-[200px] focus:outline-none"})}),o.jsx("div",{className:p==="ar"?"":"hidden",dir:"rtl",children:o.jsx(tp,{editor:b,className:"prose max-w-none p-4 min-h-[200px] focus:outline-none text-right"})})]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter the page content that will be displayed when users click the link"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),o.jsx("input",{type:"number",name:"display_order",value:d.display_order,onChange:C,disabled:x,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lower numbers appear first in the footer"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"is_active",checked:d.is_active,onChange:C,disabled:x,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Active (visible in footer)"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",name:"open_in_new_tab",checked:d.open_in_new_tab,onChange:C,disabled:x,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Open in new tab"})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:x?"Close":"Cancel"}),!x&&o.jsxs("button",{type:"submit",disabled:M,className:"px-6 py-2 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 flex items-center gap-2",children:[M&&o.jsx(ze,{className:"w-4 h-4 animate-spin"}),s==="create"?"Create Page":"Update Page"]})]})]})]})})]})})},TZ=()=>{const t=kt(),{data:e=[],isLoading:n,error:s}=oA({}),[r]=Zz(),[i,l]=_.useState(!1),[u,d]=_.useState(null),h=[{header:"Title",accessor:"title",render:j=>o.jsx("div",{className:"font-medium",children:j})},{header:"URL",accessor:"url",render:j=>o.jsx("a",{href:j,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm truncate max-w-xs block",children:j})},{header:"Order",accessor:"display_order"},{header:"Status",accessor:"is_active",render:j=>o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${j?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:j?"Active":"Inactive"})},{header:"Open in New Tab",accessor:"open_in_new_tab",render:j=>o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${j?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:j?"Yes":"No"})}],p=j=>{t(`/admin/footer-links/${j.id}/edit`)},m=async j=>{if(confirm("Are you sure you want to delete this footer link?"))try{await r(j.id).unwrap(),oe.success("Footer link deleted successfully")}catch(w){oe.error("Failed to delete footer link"),console.error("Delete error:",w)}},x=j=>{d(j),l(!0)},y=()=>{t("/admin/footer-links/new")},b=()=>{l(!1),d(null)};return n?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s?o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:"Failed to load footer links"}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Footer Links"}),o.jsx("p",{className:"text-gray-600",children:"Manage links displayed in the footer support section"})]}),o.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all",children:[o.jsx(Qr,{className:"w-5 h-5"}),"Add Footer Link"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Links"}),o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:e.length})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Active"}),o.jsx("div",{className:"text-3xl font-bold text-green-600",children:e.filter(j=>j.is_active).length})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"External Links"}),o.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e.filter(j=>j.open_in_new_tab).length})]})]}),o.jsx(lr,{columns:h,data:e,onEdit:p,onDelete:m,onView:x}),o.jsx(EZ,{isOpen:i,onClose:b,footerLink:u,mode:"view"})]})},MZ=()=>{const{data:t=[],isLoading:e,error:n}=eI({}),[s]=nI(),[r]=sI(),[i,l]=_.useState(null),[u,d]=_.useState("all"),[h,p]=_.useState("all"),m=t.filter(E=>{const S=u==="all"||E.status===u,k=h==="all"||E.bookable_type===h;return S&&k}),x=[{header:"Customer",accessor:"name",render:(E,S)=>o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:E}),o.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[o.jsx(um,{className:"w-3 h-3"}),S.email]})]})},{header:"Phone",accessor:"phone",render:E=>o.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[o.jsx(fm,{className:"w-4 h-4"}),E]})},{header:"Type",accessor:"bookable_type",render:E=>o.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold ${E==="course"?"bg-accent-100 text-accent-700":"bg-secondary-100 text-secondary-700"}`,children:[E==="course"?o.jsx(Vr,{className:"w-3 h-3"}):o.jsx(Zs,{className:"w-3 h-3"}),E==="course"?"Course":"Trip"]})},{header:"Item",accessor:"bookable_name",render:E=>o.jsx("div",{className:"font-medium text-gray-900 max-w-[200px] truncate",title:E,children:E})},{header:"Price",accessor:"price",render:E=>o.jsxs("span",{className:"font-semibold text-primary-600",children:["SAR ",E]})},{header:"Status",accessor:"status",render:E=>o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${E==="pending"?"bg-yellow-100 text-yellow-700":E==="confirmed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:E.charAt(0).toUpperCase()+E.slice(1)})},{header:"Date",accessor:"created_at",render:E=>o.jsx("div",{className:"text-sm text-gray-600",children:new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})}],y=async(E,S)=>{if(E.status!==S)try{await s({id:E.id,data:{status:S}}).unwrap(),oe.success(`Booking status updated to ${S}`),i?.id===E.id&&l({...i,status:S})}catch(k){oe.error("Failed to update booking status"),console.error("Update error:",k)}},b=async E=>{if(confirm("Are you sure you want to delete this booking?"))try{await r(E.id).unwrap(),oe.success("Booking deleted successfully")}catch(S){oe.error("Failed to delete booking"),console.error("Delete error:",S)}},j=E=>{l(E)},w=t.filter(E=>E.status==="pending").length,C=t.filter(E=>E.status==="confirmed").length,M=t.filter(E=>E.status==="cancelled").length;return e?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n?o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:"Failed to load bookings. Please try again."}):o.jsxs("div",{children:[o.jsx("div",{className:"flex items-center justify-between mb-8",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Booking Requests"}),o.jsx("p",{className:"text-gray-600",children:"Manage course and trip registration requests"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:o.jsx(x3,{className:"w-6 h-6 text-gray-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Total"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.length})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:o.jsx(Rs,{className:"w-6 h-6 text-yellow-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Pending"}),o.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:w})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(g3,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Confirmed"}),o.jsx("div",{className:"text-2xl font-bold text-green-600",children:C})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:o.jsx(dn,{className:"w-6 h-6 text-red-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Cancelled"}),o.jsx("div",{className:"text-2xl font-bold text-red-600",children:M})]})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-4 mb-6",children:o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),o.jsxs("select",{value:u,onChange:E=>d(E.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-base",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"confirmed",children:"Confirmed"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),o.jsxs("select",{value:h,onChange:E=>p(E.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-base",children:[o.jsx("option",{value:"all",children:"All Types"}),o.jsx("option",{value:"course",children:"Courses"}),o.jsx("option",{value:"trip",children:"Trips"})]})]})]})}),o.jsx(lr,{columns:x,data:m,onView:j,onDelete:b,customActions:E=>o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("select",{value:E.status,onChange:S=>y(E,S.target.value),className:`px-3 py-1.5 rounded-lg text-xs font-semibold border-0 cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary-500 ${E.status==="pending"?"bg-yellow-100 text-yellow-700":E.status==="confirmed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"confirmed",children:"Confirmed"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]})})}),i&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:o.jsxs(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Booking Details"}),o.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(dn,{className:"w-5 h-5"})})]})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg",children:[o.jsx(nd,{className:"w-10 h-10 text-gray-400 p-2 bg-white rounded-full"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-gray-900",children:i.name}),o.jsx("div",{className:"text-sm text-gray-500",children:i.email}),o.jsx("div",{className:"text-sm text-gray-500",children:i.phone})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Type"}),o.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[i.bookable_type==="course"?o.jsx(Vr,{className:"w-4 h-4 text-accent-600"}):o.jsx(Zs,{className:"w-4 h-4 text-secondary-600"}),i.bookable_type==="course"?"Course":"Trip"]})]}),o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Status"}),o.jsxs("select",{value:i.status,onChange:E=>y(i,E.target.value),className:`px-3 py-1.5 rounded-lg text-sm font-semibold border-0 cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary-500 ${i.status==="pending"?"bg-yellow-100 text-yellow-700":i.status==="confirmed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"confirmed",children:"Confirmed"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Item"}),o.jsx("div",{className:"font-semibold text-gray-900",children:i.bookable_name})]}),o.jsxs("div",{className:"p-4 bg-primary-50 rounded-lg",children:[o.jsx("div",{className:"text-sm text-primary-600 mb-1",children:"Price"}),o.jsxs("div",{className:"text-2xl font-bold text-primary-600",children:["SAR ",i.price]})]}),o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Submitted On"}),o.jsx("div",{className:"font-medium text-gray-900",children:new Date(i.created_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),i.notes&&o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Notes"}),o.jsx("div",{className:"text-gray-900",children:i.notes})]}),o.jsx("div",{className:"flex gap-3 pt-4",children:o.jsx("button",{onClick:()=>l(null),className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200 transition-colors",children:"Close"})})]})]})})]})},AZ=()=>{const[t,e]=_.useState({siteName:"Coral & Shells Diving Center",siteEmail:"info@coralsandshells.sa",sitePhone:"+966 50 123 4567",siteAddress:"Dammam, Eastern Province, Saudi Arabia",currency:"SAR",language:"en",notifications:!0,maintenance:!1}),n=()=>{oe.success("Settings saved successfully!")},s=(r,i)=>{e({...t,[r]:i})};return o.jsxs("div",{children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),o.jsx("p",{className:"text-gray-600",children:"Manage your website settings and preferences"})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"General Settings"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Site Name"}),o.jsx("input",{type:"text",value:t.siteName,onChange:r=>s("siteName",r.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),o.jsx("input",{type:"email",value:t.siteEmail,onChange:r=>s("siteEmail",r.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),o.jsx("input",{type:"tel",value:t.sitePhone,onChange:r=>s("sitePhone",r.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Address"}),o.jsx("textarea",{value:t.siteAddress,onChange:r=>s("siteAddress",r.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 resize-none"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Regional Settings"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Currency"}),o.jsxs("select",{value:t.currency,onChange:r=>s("currency",r.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400",children:[o.jsx("option",{value:"SAR",children:"SAR - Saudi Riyal"}),o.jsx("option",{value:"USD",children:"USD - US Dollar"}),o.jsx("option",{value:"EUR",children:"EUR - Euro"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Language"}),o.jsxs("select",{value:t.language,onChange:r=>s("language",r.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400",children:[o.jsx("option",{value:"en",children:"English"}),o.jsx("option",{value:"ar",children:"Arabic"})]})]}),o.jsxs("div",{className:"pt-4 space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"checkbox",checked:t.notifications,onChange:r=>s("notifications",r.target.checked),className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Enable email notifications"})]}),o.jsxs("label",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"checkbox",checked:t.maintenance,onChange:r=>s("maintenance",r.target.checked),className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Maintenance mode"})]})]})]})]})]}),o.jsx("div",{className:"mt-8",children:o.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-8 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all font-semibold",children:[o.jsx(or,{className:"w-5 h-5"}),"Save Changes"]})})]})},Jr=({items:t})=>o.jsxs("nav",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4",children:[o.jsx(Be,{to:"/admin",className:"flex items-center gap-1 hover:text-primary-600 transition-colors",children:o.jsx(v3,{className:"w-4 h-4"})}),t.map((e,n)=>o.jsxs(Pe.Fragment,{children:[o.jsx(gl,{className:"w-4 h-4 text-gray-400"}),e.href?o.jsx(Be,{to:e.href,className:"hover:text-primary-600 transition-colors",children:e.label}):o.jsx("span",{className:"text-gray-900 font-medium",children:e.label})]},n))]}),qe=({title:t,description:e,children:n})=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-100",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),e&&o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e})]}),o.jsx("div",{className:"p-6",children:n})]}),uT={name:"",description:"",details:"",price:0,category_id:null,in_stock:!0,is_active:!0,is_featured:!1,stock_quantity:0,sku:"",name_translations:{ar:""},description_translations:{ar:""},details_translations:{ar:""}},dT=()=>{const{t}=et("admin"),{id:e}=Yn(),n=kt(),s=!!e,{data:r,isLoading:i,error:l}=zz(Number(e),{skip:!s}),{data:u=[]}=Ps({active:!0,type:"product"}),[d,{isLoading:h}]=qM(),[p,{isLoading:m}]=HM(),[x,y]=_.useState(uT),[b,j]=_.useState(null),[w,C]=_.useState(""),[M,E]=_.useState(!1),[S,k]=_.useState(uT);_.useEffect(()=>{if(r&&s){const B={name:r.name,description:r.description,details:r.details||"",price:Number(r.price),category_id:r.category_id||null,in_stock:r.in_stock,is_active:r.is_active,is_featured:r.is_featured,stock_quantity:r.stock_quantity,sku:r.sku||"",name_translations:r.name_translations||{ar:""},description_translations:r.description_translations||{ar:""},details_translations:r.details_translations||{ar:""}};y(B),k(B),r.image_url&&C(r.image_url)}},[r,s]),_.useEffect(()=>{const B=JSON.stringify(x)!==JSON.stringify(S)||b!==null;E(B)},[x,S,b]),_.useEffect(()=>{const B=L=>{M&&(L.preventDefault(),L.returnValue="")};return window.addEventListener("beforeunload",B),()=>window.removeEventListener("beforeunload",B)},[M]);const R=_.useCallback(()=>{M?window.confirm("You have unsaved changes. Are you sure you want to leave?")&&n("/admin/products"):n("/admin/products")},[M,n]),O=async B=>{B.preventDefault();try{const L=new FormData;L.append("name",x.name),L.append("description",x.description),L.append("details",x.details),L.append("price",x.price.toString()),L.append("in_stock",x.in_stock?"1":"0"),L.append("is_active",x.is_active?"1":"0"),L.append("is_featured",x.is_featured?"1":"0"),L.append("stock_quantity",x.stock_quantity.toString()),x.category_id&&L.append("category_id",x.category_id.toString()),x.sku&&L.append("sku",x.sku),b&&L.append("image",b),L.append("name_translations",JSON.stringify(x.name_translations)),L.append("description_translations",JSON.stringify(x.description_translations)),L.append("details_translations",JSON.stringify(x.details_translations)),s?(L.append("_method","PUT"),await p({id:Number(e),data:L}).unwrap(),oe.success("Product updated successfully")):(await d(L).unwrap(),oe.success("Product created successfully")),n("/admin/products")}catch(L){console.error("Save error:",L),L?.data?.errors?Object.values(L.data.errors).flat().forEach(F=>oe.error(F)):L?.data?.message?oe.error(L.data.message):oe.error(`Failed to ${s?"update":"create"} product`)}},T=(B,L)=>{j(B),C(L)},D=h||m;return s&&i?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s&&l?o.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Product not found"}),o.jsx("p",{children:"The product you're looking for doesn't exist or has been deleted."}),o.jsx("button",{onClick:()=>n("/admin/products"),className:"mt-4 text-red-700 underline hover:no-underline",children:"Return to Products"})]}):o.jsxs("div",{children:[o.jsx(Jr,{items:[{label:"Products",href:"/admin/products"},{label:s?"Edit Product":"New Product"}]}),o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:R,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(ar,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s?"Edit Product":"Add New Product"}),s&&r&&o.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Editing: ",r.name]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:R,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsxs("button",{onClick:O,disabled:D,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all font-medium disabled:opacity-50",children:[D?o.jsx(ze,{className:"w-4 h-4 animate-spin"}):o.jsx(or,{className:"w-4 h-4"}),s?"Save Changes":"Create Product"]})]})]}),o.jsxs("form",{onSubmit:O,children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(qe,{title:"Basic Information",description:"Product name, description, and category",children:o.jsxs("div",{className:"space-y-5",children:[o.jsx(ke,{label:"Product Name",name:"name",value:x.name,translationValue:x.name_translations.ar,onChangeEnglish:B=>y(L=>({...L,name:B})),onChangeArabic:B=>y(L=>({...L,name_translations:{ar:B}})),required:!0,placeholder:"Enter product name",placeholderAr:"  "}),o.jsx(ke,{label:"Description",name:"description",value:x.description,translationValue:x.description_translations.ar,onChangeEnglish:B=>y(L=>({...L,description:B})),onChangeArabic:B=>y(L=>({...L,description_translations:{ar:B}})),type:"textarea",required:!0,rows:3,placeholder:"Enter product description",placeholderAr:"  "}),o.jsx(ke,{label:"Details",name:"details",value:x.details,translationValue:x.details_translations.ar,onChangeEnglish:B=>y(L=>({...L,details:B})),onChangeArabic:B=>y(L=>({...L,details_translations:{ar:B}})),type:"textarea",rows:3,placeholder:"Enter additional details",placeholderAr:"  "}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsxs("select",{value:x.category_id||"",onChange:B=>y(L=>({...L,category_id:B.target.value===""?null:Number(B.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base",children:[o.jsx("option",{value:"",children:"No Category"}),u.map(B=>o.jsx("option",{value:B.id,children:B.name},B.id))]})]})]})}),o.jsx(qe,{title:"Pricing & Inventory",description:"Price, stock, and SKU information",children:o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (SAR) *"}),o.jsx("input",{type:"number",value:x.price,onChange:B=>y(L=>({...L,price:Number(B.target.value)})),required:!0,step:"0.01",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity *"}),o.jsx("input",{type:"number",value:x.stock_quantity,onChange:B=>y(L=>({...L,stock_quantity:Number(B.target.value)})),required:!0,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SKU"}),o.jsx("input",{type:"text",value:x.sku,onChange:B=>y(L=>({...L,sku:B.target.value})),placeholder:"e.g., PROD-001",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base"})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:x.in_stock,onChange:B=>y(L=>({...L,in_stock:B.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"In Stock"})]})]})}),o.jsx(qe,{title:"Product Image",description:"Upload and crop the product image",children:o.jsx(On,{onImageCropped:T,currentPreview:w,guideline:Rn.product,aspectRatio:1})}),o.jsx(qe,{title:"Status & Visibility",description:"Control product visibility",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:x.is_active,onChange:B=>y(L=>({...L,is_active:B.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Active"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Product is visible on the website"})]})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:x.is_featured,onChange:B=>y(L=>({...L,is_featured:B.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Featured"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Show in featured products section"})]})]})]})})]}),o.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 flex items-center gap-3 z-50",children:[o.jsx("button",{type:"button",onClick:R,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:D,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg font-medium disabled:opacity-50",children:[D&&o.jsx(ze,{className:"w-4 h-4 animate-spin"}),s?"Save":"Create"]})]}),o.jsx("div",{className:"lg:hidden h-24"})]})]})},fT={name:"",description:"",details:"",price:0,duration:"",level:"Beginner",category_id:null,is_active:!0,is_featured:!1,max_students:null,name_translations:{ar:""},description_translations:{ar:""},details_translations:{ar:""}},hT=()=>{const{id:t}=Yn(),e=kt(),n=!!t,{data:s,isLoading:r,error:i}=Rz(Number(t),{skip:!n}),{data:l=[]}=Ps({active:!0,type:"course"}),[u,{isLoading:d}]=VM(),[h,{isLoading:p}]=UM(),[m,x]=_.useState(fT),[y,b]=_.useState(null),[j,w]=_.useState(""),[C,M]=_.useState(!1),[E,S]=_.useState(fT);_.useEffect(()=>{if(s&&n){const D={name:s.name,description:s.description,details:s.details||"",price:Number(s.price),duration:s.duration,level:s.level,category_id:s.category_id||null,is_active:s.is_active,is_featured:s.is_featured,max_students:s.max_students||null,name_translations:s.name_translations||{ar:""},description_translations:s.description_translations||{ar:""},details_translations:s.details_translations||{ar:""}};x(D),S(D),s.image_url&&w(s.image_url)}},[s,n]),_.useEffect(()=>{const D=JSON.stringify(m)!==JSON.stringify(E)||y!==null;M(D)},[m,E,y]),_.useEffect(()=>{const D=B=>{C&&(B.preventDefault(),B.returnValue="")};return window.addEventListener("beforeunload",D),()=>window.removeEventListener("beforeunload",D)},[C]);const k=_.useCallback(()=>{C?window.confirm("You have unsaved changes. Are you sure you want to leave?")&&e("/admin/courses"):e("/admin/courses")},[C,e]),R=async D=>{D.preventDefault();try{const B=new FormData;B.append("name",m.name),B.append("description",m.description),B.append("details",m.details),B.append("price",m.price.toString()),B.append("duration",m.duration),B.append("level",m.level),B.append("is_active",m.is_active?"1":"0"),B.append("is_featured",m.is_featured?"1":"0"),m.category_id&&B.append("category_id",m.category_id.toString()),m.max_students&&B.append("max_students",m.max_students.toString()),y&&B.append("image",y),B.append("name_translations",JSON.stringify(m.name_translations)),B.append("description_translations",JSON.stringify(m.description_translations)),B.append("details_translations",JSON.stringify(m.details_translations)),n?(B.append("_method","PUT"),await h({id:Number(t),data:B}).unwrap(),oe.success("Course updated successfully")):(await u(B).unwrap(),oe.success("Course created successfully")),e("/admin/courses")}catch(B){B?.data?.errors?Object.values(B.data.errors).flat().forEach(L=>oe.error(L)):oe.error(`Failed to ${n?"update":"create"} course`)}},O=(D,B)=>{b(D),w(B)},T=d||p;return n&&r?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n&&i?o.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Course not found"}),o.jsx("button",{onClick:()=>e("/admin/courses"),className:"mt-4 text-red-700 underline",children:"Return to Courses"})]}):o.jsxs("div",{children:[o.jsx(Jr,{items:[{label:"Courses",href:"/admin/courses"},{label:n?"Edit Course":"New Course"}]}),o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:k,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(ar,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Course":"Add New Course"}),n&&s&&o.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Editing: ",s.name]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:k,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),o.jsxs("button",{onClick:R,disabled:T,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg font-medium disabled:opacity-50",children:[T?o.jsx(ze,{className:"w-4 h-4 animate-spin"}):o.jsx(or,{className:"w-4 h-4"}),n?"Save Changes":"Create Course"]})]})]}),o.jsxs("form",{onSubmit:R,children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(qe,{title:"Basic Information",description:"Course name, description, and details",children:o.jsxs("div",{className:"space-y-5",children:[o.jsx(ke,{label:"Course Name",name:"name",value:m.name,translationValue:m.name_translations.ar,onChangeEnglish:D=>x(B=>({...B,name:D})),onChangeArabic:D=>x(B=>({...B,name_translations:{ar:D}})),required:!0,placeholder:"Enter course name",placeholderAr:"  "}),o.jsx(ke,{label:"Description",name:"description",value:m.description,translationValue:m.description_translations.ar,onChangeEnglish:D=>x(B=>({...B,description:D})),onChangeArabic:D=>x(B=>({...B,description_translations:{ar:D}})),type:"textarea",required:!0,rows:3,placeholder:"Enter course description",placeholderAr:"  "}),o.jsx(ke,{label:"Details",name:"details",value:m.details,translationValue:m.details_translations.ar,onChangeEnglish:D=>x(B=>({...B,details:D})),onChangeArabic:D=>x(B=>({...B,details_translations:{ar:D}})),type:"textarea",rows:3,placeholder:"Enter additional details",placeholderAr:"  "}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsxs("select",{value:m.category_id||"",onChange:D=>x(B=>({...B,category_id:D.target.value===""?null:Number(D.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"No Category"}),l.map(D=>o.jsx("option",{value:D.id,children:D.name},D.id))]})]})]})}),o.jsx(qe,{title:"Course Details",description:"Price, duration, and level",children:o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (SAR) *"}),o.jsx("input",{type:"number",value:m.price,onChange:D=>x(B=>({...B,price:Number(D.target.value)})),required:!0,step:"0.01",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration *"}),o.jsx("input",{type:"text",value:m.duration,onChange:D=>x(B=>({...B,duration:D.target.value})),required:!0,placeholder:"e.g. 4 weeks",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Level *"}),o.jsxs("select",{value:m.level,onChange:D=>x(B=>({...B,level:D.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"Beginner",children:"Beginner"}),o.jsx("option",{value:"Intermediate",children:"Intermediate"}),o.jsx("option",{value:"Advanced",children:"Advanced"}),o.jsx("option",{value:"All Levels",children:"All Levels"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Students"}),o.jsx("input",{type:"number",value:m.max_students||"",onChange:D=>x(B=>({...B,max_students:D.target.value===""?null:Number(D.target.value)})),min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]})}),o.jsx(qe,{title:"Course Image",description:"Upload course image",children:o.jsx(On,{onImageCropped:O,currentPreview:j,guideline:Rn.course})}),o.jsx(qe,{title:"Status & Visibility",description:"Control course visibility",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[o.jsx("input",{type:"checkbox",checked:m.is_active,onChange:D=>x(B=>({...B,is_active:D.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Active"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Course is visible on the website"})]})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[o.jsx("input",{type:"checkbox",checked:m.is_featured,onChange:D=>x(B=>({...B,is_featured:D.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Featured"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Show in featured courses section"})]})]})]})})]}),o.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 flex items-center gap-3 z-50",children:[o.jsx("button",{type:"button",onClick:k,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:T,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg font-medium disabled:opacity-50",children:[T&&o.jsx(ze,{className:"w-4 h-4 animate-spin"}),n?"Save":"Create"]})]}),o.jsx("div",{className:"lg:hidden h-24"})]})]})},pT={name:"",description:"",details:"",price:0,location:"",duration:"",difficulty:"Beginner",category_id:null,is_active:!0,is_featured:!1,certification_required:!1,max_participants:null,name_translations:{ar:""},description_translations:{ar:""},details_translations:{ar:""},location_translations:{ar:""},duration_translations:{ar:""}},mT=()=>{const{id:t}=Yn(),e=kt(),n=!!t,{data:s,isLoading:r,error:i}=Pz(Number(t),{skip:!n}),{data:l=[]}=Ps({active:!0,type:"trip"}),[u,{isLoading:d}]=$M(),[h,{isLoading:p}]=FM(),[m,x]=_.useState(pT),[y,b]=_.useState(null),[j,w]=_.useState(""),[C,M]=_.useState(!1),[E,S]=_.useState(pT);_.useEffect(()=>{if(s&&n){const T={name:s.name,description:s.description,details:s.details||"",price:Number(s.price),location:s.location,duration:s.duration,difficulty:s.difficulty,category_id:s.category_id||null,is_active:s.is_active,is_featured:s.is_featured,certification_required:s.certification_required,max_participants:s.max_participants||null,name_translations:s.name_translations||{ar:""},description_translations:s.description_translations||{ar:""},details_translations:s.details_translations||{ar:""},location_translations:s.location_translations||{ar:""},duration_translations:s.duration_translations||{ar:""}};x(T),S(T),s.image_url&&w(s.image_url)}},[s,n]),_.useEffect(()=>{M(JSON.stringify(m)!==JSON.stringify(E)||y!==null)},[m,E,y]),_.useEffect(()=>{const T=D=>{C&&(D.preventDefault(),D.returnValue="")};return window.addEventListener("beforeunload",T),()=>window.removeEventListener("beforeunload",T)},[C]);const k=_.useCallback(()=>{C&&!window.confirm("You have unsaved changes. Are you sure you want to leave?")||e("/admin/trips")},[C,e]),R=async T=>{T.preventDefault();try{const D=new FormData;D.append("name",m.name),D.append("description",m.description),D.append("details",m.details),D.append("price",m.price.toString()),D.append("location",m.location),D.append("duration",m.duration),D.append("difficulty",m.difficulty),D.append("is_active",m.is_active?"1":"0"),D.append("is_featured",m.is_featured?"1":"0"),D.append("certification_required",m.certification_required?"1":"0"),m.category_id&&D.append("category_id",m.category_id.toString()),m.max_participants&&D.append("max_participants",m.max_participants.toString()),y&&D.append("image",y),D.append("name_translations",JSON.stringify(m.name_translations)),D.append("description_translations",JSON.stringify(m.description_translations)),D.append("details_translations",JSON.stringify(m.details_translations)),D.append("location_translations",JSON.stringify(m.location_translations)),D.append("duration_translations",JSON.stringify(m.duration_translations)),n?(D.append("_method","PUT"),await h({id:Number(t),data:D}).unwrap(),oe.success("Trip updated successfully")):(await u(D).unwrap(),oe.success("Trip created successfully")),e("/admin/trips")}catch(D){D?.data?.errors?Object.values(D.data.errors).flat().forEach(B=>oe.error(B)):oe.error(`Failed to ${n?"update":"create"} trip`)}},O=d||p;return n&&r?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n&&i?o.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Trip not found"}),o.jsx("button",{onClick:()=>e("/admin/trips"),className:"mt-4 text-red-700 underline",children:"Return to Trips"})]}):o.jsxs("div",{children:[o.jsx(Jr,{items:[{label:"Trips",href:"/admin/trips"},{label:n?"Edit Trip":"New Trip"}]}),o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:k,className:"p-2 hover:bg-gray-100 rounded-lg",children:o.jsx(ar,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Trip":"Add New Trip"}),n&&s&&o.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Editing: ",s.name]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:k,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),o.jsxs("button",{onClick:R,disabled:O,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg font-medium disabled:opacity-50",children:[O?o.jsx(ze,{className:"w-4 h-4 animate-spin"}):o.jsx(or,{className:"w-4 h-4"}),n?"Save Changes":"Create Trip"]})]})]}),o.jsxs("form",{onSubmit:R,children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(qe,{title:"Basic Information",description:"Trip name, description, and details",children:o.jsxs("div",{className:"space-y-5",children:[o.jsx(ke,{label:"Trip Name",name:"name",value:m.name,translationValue:m.name_translations.ar,onChangeEnglish:T=>x(D=>({...D,name:T})),onChangeArabic:T=>x(D=>({...D,name_translations:{ar:T}})),required:!0,placeholder:"Enter trip name",placeholderAr:"  "}),o.jsx(ke,{label:"Description",name:"description",value:m.description,translationValue:m.description_translations.ar,onChangeEnglish:T=>x(D=>({...D,description:T})),onChangeArabic:T=>x(D=>({...D,description_translations:{ar:T}})),type:"textarea",required:!0,rows:3,placeholder:"Enter trip description",placeholderAr:"  "}),o.jsx(ke,{label:"Details",name:"details",value:m.details,translationValue:m.details_translations.ar,onChangeEnglish:T=>x(D=>({...D,details:T})),onChangeArabic:T=>x(D=>({...D,details_translations:{ar:T}})),type:"textarea",rows:3,placeholder:"Enter additional details",placeholderAr:"  "}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsxs("select",{value:m.category_id||"",onChange:T=>x(D=>({...D,category_id:T.target.value===""?null:Number(T.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"",children:"No Category"}),l.map(T=>o.jsx("option",{value:T.id,children:T.name},T.id))]})]})]})}),o.jsx(qe,{title:"Trip Details",description:"Location, duration, and pricing",children:o.jsxs("div",{className:"space-y-5",children:[o.jsx(ke,{label:"Location",name:"location",value:m.location,translationValue:m.location_translations.ar,onChangeEnglish:T=>x(D=>({...D,location:T})),onChangeArabic:T=>x(D=>({...D,location_translations:{ar:T}})),required:!0,placeholder:"e.g. Red Sea",placeholderAr:":  "}),o.jsx(ke,{label:"Duration",name:"duration",value:m.duration,translationValue:m.duration_translations.ar,onChangeEnglish:T=>x(D=>({...D,duration:T})),onChangeArabic:T=>x(D=>({...D,duration_translations:{ar:T}})),required:!0,placeholder:"e.g. 3 days",placeholderAr:":  "}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (SAR) *"}),o.jsx("input",{type:"number",value:m.price,onChange:T=>x(D=>({...D,price:Number(T.target.value)})),required:!0,step:"0.01",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty *"}),o.jsxs("select",{value:m.difficulty,onChange:T=>x(D=>({...D,difficulty:T.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"Beginner",children:"Beginner"}),o.jsx("option",{value:"Intermediate",children:"Intermediate"}),o.jsx("option",{value:"Advanced",children:"Advanced"}),o.jsx("option",{value:"All Levels",children:"All Levels"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Participants"}),o.jsx("input",{type:"number",value:m.max_participants||"",onChange:T=>x(D=>({...D,max_participants:T.target.value===""?null:Number(T.target.value)})),min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]})}),o.jsx(qe,{title:"Trip Image",description:"Upload trip image",children:o.jsx(On,{onImageCropped:(T,D)=>{b(T),w(D)},currentPreview:j,guideline:Rn.trip})}),o.jsx(qe,{title:"Status & Options",description:"Visibility and requirements",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[o.jsx("input",{type:"checkbox",checked:m.is_active,onChange:T=>x(D=>({...D,is_active:T.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Active"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Trip is visible on the website"})]})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[o.jsx("input",{type:"checkbox",checked:m.is_featured,onChange:T=>x(D=>({...D,is_featured:T.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Featured"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Show in featured trips section"})]})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[o.jsx("input",{type:"checkbox",checked:m.certification_required,onChange:T=>x(D=>({...D,certification_required:T.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Certification Required"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Participants need diving certification"})]})]})]})})]}),o.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 flex items-center gap-3 z-50",children:[o.jsx("button",{type:"button",onClick:k,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:O,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg font-medium disabled:opacity-50",children:[O&&o.jsx(ze,{className:"w-4 h-4 animate-spin"}),n?"Save":"Create"]})]}),o.jsx("div",{className:"lg:hidden h-24"})]})]})},gT={title:"",excerpt:"",content:"",category_id:null,is_published:!1,is_featured:!1,published_at:"",title_translations:{ar:""},excerpt_translations:{ar:""},content_translations:{ar:""}},xT=()=>{const{id:t}=Yn(),e=kt(),n=!!t,{data:s,isLoading:r,error:i}=KM(Number(t),{skip:!n}),{data:l=[]}=Ps({active:!0,type:"blog"}),[u,{isLoading:d}]=GM(),[h,{isLoading:p}]=QM(),[m,x]=_.useState(gT),[y,b]=_.useState(null),[j,w]=_.useState(""),[C,M]=_.useState(!1),[E,S]=_.useState(gT);_.useEffect(()=>{if(s&&n){const T={title:s.title,excerpt:s.excerpt,content:s.content,category_id:s.category_id||null,is_published:s.is_published,is_featured:s.is_featured,published_at:s.published_at?s.published_at.split("T")[0]:"",title_translations:s.title_translations||{ar:""},excerpt_translations:s.excerpt_translations||{ar:""},content_translations:s.content_translations||{ar:""}};x(T),S(T),s.image_url&&w(s.image_url)}},[s,n]),_.useEffect(()=>{M(JSON.stringify(m)!==JSON.stringify(E)||y!==null)},[m,E,y]),_.useEffect(()=>{const T=D=>{C&&(D.preventDefault(),D.returnValue="")};return window.addEventListener("beforeunload",T),()=>window.removeEventListener("beforeunload",T)},[C]);const k=_.useCallback(()=>{C&&!window.confirm("You have unsaved changes. Are you sure you want to leave?")||e("/admin/blog")},[C,e]),R=async T=>{T.preventDefault();try{const D=new FormData;D.append("title",m.title),D.append("excerpt",m.excerpt),D.append("content",m.content),D.append("is_published",m.is_published?"1":"0"),D.append("is_featured",m.is_featured?"1":"0"),D.append("author_id","1"),m.category_id&&D.append("category_id",m.category_id.toString()),m.published_at&&D.append("published_at",m.published_at),y&&D.append("image",y),D.append("title_translations",JSON.stringify(m.title_translations)),D.append("excerpt_translations",JSON.stringify(m.excerpt_translations)),D.append("content_translations",JSON.stringify(m.content_translations)),n?(D.append("_method","PUT"),await h({id:Number(t),data:D}).unwrap(),oe.success("Blog post updated successfully")):(await u(D).unwrap(),oe.success("Blog post created successfully")),e("/admin/blog")}catch(D){D?.data?.errors?Object.values(D.data.errors).flat().forEach(B=>oe.error(B)):oe.error(`Failed to ${n?"update":"create"} blog post`)}},O=d||p;return n&&r?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n&&i?o.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Blog post not found"}),o.jsx("button",{onClick:()=>e("/admin/blog"),className:"mt-4 text-red-700 underline",children:"Return to Blog"})]}):o.jsxs("div",{children:[o.jsx(Jr,{items:[{label:"Blog",href:"/admin/blog"},{label:n?"Edit Post":"New Post"}]}),o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:k,className:"p-2 hover:bg-gray-100 rounded-lg",children:o.jsx(ar,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Blog Post":"Add New Blog Post"}),n&&s&&o.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Editing: ",s.title]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:k,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),o.jsxs("button",{onClick:R,disabled:O,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg font-medium disabled:opacity-50",children:[O?o.jsx(ze,{className:"w-4 h-4 animate-spin"}):o.jsx(or,{className:"w-4 h-4"}),n?"Save Changes":"Create Post"]})]})]}),o.jsxs("form",{onSubmit:R,children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(qe,{title:"Content",description:"Title, excerpt, and content",children:o.jsxs("div",{className:"space-y-5",children:[o.jsx(ke,{label:"Title",name:"title",value:m.title,translationValue:m.title_translations.ar,onChangeEnglish:T=>x(D=>({...D,title:T})),onChangeArabic:T=>x(D=>({...D,title_translations:{ar:T}})),required:!0,placeholder:"Enter blog post title",placeholderAr:"  "}),o.jsx(ke,{label:"Excerpt",name:"excerpt",value:m.excerpt,translationValue:m.excerpt_translations.ar,onChangeEnglish:T=>x(D=>({...D,excerpt:T})),onChangeArabic:T=>x(D=>({...D,excerpt_translations:{ar:T}})),type:"textarea",required:!0,rows:2,placeholder:"Enter a brief excerpt",placeholderAr:"  "}),o.jsx(ke,{label:"Content",name:"content",value:m.content,translationValue:m.content_translations.ar,onChangeEnglish:T=>x(D=>({...D,content:T})),onChangeArabic:T=>x(D=>({...D,content_translations:{ar:T}})),type:"textarea",required:!0,rows:8,placeholder:"Enter full blog post content",placeholderAr:"   "})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(qe,{title:"Settings",description:"Category and publish date",children:o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsxs("select",{value:m.category_id||"",onChange:T=>x(D=>({...D,category_id:T.target.value===""?null:Number(T.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"",children:"No Category"}),l.map(T=>o.jsx("option",{value:T.id,children:T.name},T.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Published Date"}),o.jsx("input",{type:"date",value:m.published_at,onChange:T=>x(D=>({...D,published_at:T.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]})}),o.jsx(qe,{title:"Featured Image",description:"Upload blog image",children:o.jsx(On,{onImageCropped:(T,D)=>{b(T),w(D)},currentPreview:j,guideline:Rn.blog})}),o.jsx(qe,{title:"Status",description:"Publish and feature settings",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[o.jsx("input",{type:"checkbox",checked:m.is_published,onChange:T=>x(D=>({...D,is_published:T.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Published"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Post is visible on the website"})]})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[o.jsx("input",{type:"checkbox",checked:m.is_featured,onChange:T=>x(D=>({...D,is_featured:T.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Featured"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Show in featured posts section"})]})]})]})})]})]}),o.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 flex items-center gap-3 z-50",children:[o.jsx("button",{type:"button",onClick:k,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:O,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg font-medium disabled:opacity-50",children:[O&&o.jsx(ze,{className:"w-4 h-4 animate-spin"}),n?"Save":"Create"]})]}),o.jsx("div",{className:"lg:hidden h-24"})]})]})},yT={title:"",description:"",type:"workshop",start_date:"",end_date:"",location:"",is_active:!0,max_participants:null,price:null,title_translations:{ar:""},description_translations:{ar:""},location_translations:{ar:""}},bT=()=>{const{id:t}=Yn(),e=kt(),n=!!t,{data:s,isLoading:r,error:i}=ZM(Number(t),{skip:!n}),[l,{isLoading:u}]=eA(),[d,{isLoading:h}]=tA(),[p,m]=_.useState(yT),[x,y]=_.useState(!1),[b,j]=_.useState(yT);_.useEffect(()=>{if(s&&n){const E={title:s.title,description:s.description,type:s.type,start_date:s.start_date?s.start_date.split("T")[0]+"T"+s.start_date.split("T")[1].substring(0,5):"",end_date:s.end_date?s.end_date.split("T")[0]+"T"+s.end_date.split("T")[1].substring(0,5):"",location:s.location||"",is_active:s.is_active,max_participants:s.max_participants||null,price:s.price||null,title_translations:s.title_translations||{ar:""},description_translations:s.description_translations||{ar:""},location_translations:s.location_translations||{ar:""}};m(E),j(E)}},[s,n]),_.useEffect(()=>{y(JSON.stringify(p)!==JSON.stringify(b))},[p,b]),_.useEffect(()=>{const E=S=>{x&&(S.preventDefault(),S.returnValue="")};return window.addEventListener("beforeunload",E),()=>window.removeEventListener("beforeunload",E)},[x]);const w=_.useCallback(()=>{x&&!window.confirm("You have unsaved changes. Are you sure you want to leave?")||e("/admin/events")},[x,e]),C=async E=>{E.preventDefault();try{n?(await d({id:Number(t),data:p}).unwrap(),oe.success("Event updated successfully")):(await l(p).unwrap(),oe.success("Event created successfully")),e("/admin/events")}catch(S){S?.data?.errors?Object.values(S.data.errors).flat().forEach(k=>oe.error(k)):oe.error(`Failed to ${n?"update":"create"} event`)}},M=u||h;return n&&r?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n&&i?o.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Event not found"}),o.jsx("button",{onClick:()=>e("/admin/events"),className:"mt-4 text-red-700 underline",children:"Return to Events"})]}):o.jsxs("div",{children:[o.jsx(Jr,{items:[{label:"Events",href:"/admin/events"},{label:n?"Edit Event":"New Event"}]}),o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:w,className:"p-2 hover:bg-gray-100 rounded-lg",children:o.jsx(ar,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Event":"Add New Event"}),n&&s&&o.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Editing: ",s.title]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:w,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),o.jsxs("button",{onClick:C,disabled:M,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg font-medium disabled:opacity-50",children:[M?o.jsx(ze,{className:"w-4 h-4 animate-spin"}):o.jsx(or,{className:"w-4 h-4"}),n?"Save Changes":"Create Event"]})]})]}),o.jsxs("form",{onSubmit:C,children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(qe,{title:"Event Information",description:"Title, description, and location",children:o.jsxs("div",{className:"space-y-5",children:[o.jsx(ke,{label:"Event Title",name:"title",value:p.title,translationValue:p.title_translations.ar,onChangeEnglish:E=>m(S=>({...S,title:E})),onChangeArabic:E=>m(S=>({...S,title_translations:{ar:E}})),required:!0,placeholder:"Enter event title",placeholderAr:"  "}),o.jsx(ke,{label:"Description",name:"description",value:p.description,translationValue:p.description_translations.ar,onChangeEnglish:E=>m(S=>({...S,description:E})),onChangeArabic:E=>m(S=>({...S,description_translations:{ar:E}})),type:"textarea",required:!0,rows:4,placeholder:"Enter event description",placeholderAr:"  "}),o.jsx(ke,{label:"Location",name:"location",value:p.location,translationValue:p.location_translations.ar,onChangeEnglish:E=>m(S=>({...S,location:E})),onChangeArabic:E=>m(S=>({...S,location_translations:{ar:E}})),placeholder:"Enter event location",placeholderAr:"  "})]})}),o.jsx(qe,{title:"Event Details",description:"Type, dates, and capacity",children:o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type *"}),o.jsxs("select",{value:p.type,onChange:E=>m(S=>({...S,type:E.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"workshop",children:"Workshop"}),o.jsx("option",{value:"course",children:"Course"}),o.jsx("option",{value:"trip",children:"Trip"}),o.jsx("option",{value:"other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date & Time *"}),o.jsx("input",{type:"datetime-local",value:p.start_date,onChange:E=>m(S=>({...S,start_date:E.target.value})),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date & Time"}),o.jsx("input",{type:"datetime-local",value:p.end_date,onChange:E=>m(S=>({...S,end_date:E.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (SAR)"}),o.jsx("input",{type:"number",value:p.price||"",onChange:E=>m(S=>({...S,price:E.target.value===""?null:Number(E.target.value)})),step:"0.01",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Participants"}),o.jsx("input",{type:"number",value:p.max_participants||"",onChange:E=>m(S=>({...S,max_participants:E.target.value===""?null:Number(E.target.value)})),min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[o.jsx("input",{type:"checkbox",checked:p.is_active,onChange:E=>m(S=>({...S,is_active:E.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Active"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Event is visible on the website"})]})]})]})})]}),o.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 flex items-center gap-3 z-50",children:[o.jsx("button",{type:"button",onClick:w,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:M,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg font-medium disabled:opacity-50",children:[M&&o.jsx(ze,{className:"w-4 h-4 animate-spin"}),n?"Save":"Create"]})]}),o.jsx("div",{className:"lg:hidden h-24"})]})]})},vT={title:"",description:"",button_text:"",button_link:"",position:"hero",display_order:0,is_active:!0,title_translations:{ar:""},description_translations:{ar:""},button_text_translations:{ar:""}},wT=()=>{const{id:t}=Yn(),e=kt(),n=!!t,{data:s,isLoading:r,error:i}=Yz(Number(t),{skip:!n}),[l,{isLoading:u}]=iA(),[d,{isLoading:h}]=aA(),[p,m]=_.useState(vT),[x,y]=_.useState(null),[b,j]=_.useState(""),[w,C]=_.useState(!1),[M,E]=_.useState(vT);_.useEffect(()=>{if(s&&n){const O={title:s.title,description:s.description||"",button_text:s.button_text||"",button_link:s.button_link||"",position:s.position,display_order:s.display_order,is_active:s.is_active,title_translations:s.title_translations||{ar:""},description_translations:s.description_translations||{ar:""},button_text_translations:s.button_text_translations||{ar:""}};m(O),E(O),s.image_url&&j(s.image_url)}},[s,n]),_.useEffect(()=>{C(JSON.stringify(p)!==JSON.stringify(M)||x!==null)},[p,M,x]),_.useEffect(()=>{const O=T=>{w&&(T.preventDefault(),T.returnValue="")};return window.addEventListener("beforeunload",O),()=>window.removeEventListener("beforeunload",O)},[w]);const S=_.useCallback(()=>{w&&!window.confirm("You have unsaved changes. Are you sure you want to leave?")||e("/admin/banners")},[w,e]),k=async O=>{O.preventDefault();try{const T=new FormData;T.append("title",p.title),T.append("description",p.description),T.append("position",p.position),T.append("display_order",p.display_order.toString()),T.append("is_active",p.is_active?"1":"0"),p.button_text&&T.append("button_text",p.button_text),p.button_link&&T.append("button_link",p.button_link),x&&T.append("image",x),T.append("title_translations",JSON.stringify(p.title_translations)),T.append("description_translations",JSON.stringify(p.description_translations)),T.append("button_text_translations",JSON.stringify(p.button_text_translations)),n?(T.append("_method","PUT"),await d({id:Number(t),data:T}).unwrap(),oe.success("Banner updated successfully")):(await l(T).unwrap(),oe.success("Banner created successfully")),e("/admin/banners")}catch(T){T?.data?.errors?Object.values(T.data.errors).flat().forEach(D=>oe.error(D)):oe.error(`Failed to ${n?"update":"create"} banner`)}},R=u||h;return n&&r?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n&&i?o.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Banner not found"}),o.jsx("button",{onClick:()=>e("/admin/banners"),className:"mt-4 text-red-700 underline",children:"Return to Banners"})]}):o.jsxs("div",{children:[o.jsx(Jr,{items:[{label:"Banners",href:"/admin/banners"},{label:n?"Edit Banner":"New Banner"}]}),o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:S,className:"p-2 hover:bg-gray-100 rounded-lg",children:o.jsx(ar,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Banner":"Add New Banner"}),n&&s&&o.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Editing: ",s.title]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:S,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),o.jsxs("button",{onClick:k,disabled:R,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg font-medium disabled:opacity-50",children:[R?o.jsx(ze,{className:"w-4 h-4 animate-spin"}):o.jsx(or,{className:"w-4 h-4"}),n?"Save Changes":"Create Banner"]})]})]}),o.jsxs("form",{onSubmit:k,children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(qe,{title:"Banner Content",description:"Title, description, and button",children:o.jsxs("div",{className:"space-y-5",children:[o.jsx(ke,{label:"Banner Title",name:"title",value:p.title,translationValue:p.title_translations.ar,onChangeEnglish:O=>m(T=>({...T,title:O})),onChangeArabic:O=>m(T=>({...T,title_translations:{ar:O}})),required:!0,placeholder:"Enter banner title",placeholderAr:"  "}),o.jsx(ke,{label:"Description",name:"description",value:p.description,translationValue:p.description_translations.ar,onChangeEnglish:O=>m(T=>({...T,description:O})),onChangeArabic:O=>m(T=>({...T,description_translations:{ar:O}})),type:"textarea",rows:3,placeholder:"Enter banner description",placeholderAr:"  "}),o.jsx(ke,{label:"Button Text",name:"button_text",value:p.button_text,translationValue:p.button_text_translations.ar,onChangeEnglish:O=>m(T=>({...T,button_text:O})),onChangeArabic:O=>m(T=>({...T,button_text_translations:{ar:O}})),placeholder:"e.g. Learn More",placeholderAr:":  "}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Link"}),o.jsx("input",{type:"text",value:p.button_link,onChange:O=>m(T=>({...T,button_link:O.target.value})),placeholder:"/courses",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]})}),o.jsx(qe,{title:"Banner Image",description:"Upload banner image",children:o.jsx(On,{onImageCropped:(O,T)=>{y(O),j(T)},currentPreview:b,guideline:Rn.banner,required:!n})}),o.jsx(qe,{title:"Display Settings",description:"Position and order",children:o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position *"}),o.jsxs("select",{value:p.position,onChange:O=>m(T=>({...T,position:O.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"hero",children:"Hero Banner (Main)"}),o.jsx("option",{value:"secondary",children:"Secondary Banner"}),o.jsx("option",{value:"promo",children:"Promotional Banner"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),o.jsx("input",{type:"number",value:p.display_order,onChange:O=>m(T=>({...T,display_order:Number(O.target.value)})),min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]})}),o.jsx(qe,{title:"Status",description:"Banner visibility",children:o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[o.jsx("input",{type:"checkbox",checked:p.is_active,onChange:O=>m(T=>({...T,is_active:O.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Active"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Banner is visible on the website"})]})]})})]}),o.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 flex items-center gap-3 z-50",children:[o.jsx("button",{type:"button",onClick:S,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:R,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg font-medium disabled:opacity-50",children:[R&&o.jsx(ze,{className:"w-4 h-4 animate-spin"}),n?"Save":"Create"]})]}),o.jsx("div",{className:"lg:hidden h-24"})]})]})},NT={title:"",excerpt:"",content:"",category_id:null,is_published:!1,is_featured:!1,published_at:"",title_translations:{ar:""},excerpt_translations:{ar:""},content_translations:{ar:""}},jT=()=>{const{id:t}=Yn(),e=kt(),n=!!t,{data:s,isLoading:r,error:i}=JM(Number(t),{skip:!n}),{data:l=[]}=Ps({active:!0}),[u,{isLoading:d}]=XM(),[h,{isLoading:p}]=WM(),[m,x]=_.useState(NT),[y,b]=_.useState(null),[j,w]=_.useState(""),[C,M]=_.useState(!1),[E,S]=_.useState(NT);_.useEffect(()=>{if(s&&n){const T={title:s.title,excerpt:s.excerpt,content:s.content,category_id:s.category_id||null,is_published:s.is_published,is_featured:s.is_featured,published_at:s.published_at?s.published_at.split("T")[0]:"",title_translations:s.title_translations||{ar:""},excerpt_translations:s.excerpt_translations||{ar:""},content_translations:s.content_translations||{ar:""}};x(T),S(T),s.image_url&&w(s.image_url)}},[s,n]),_.useEffect(()=>{M(JSON.stringify(m)!==JSON.stringify(E)||y!==null)},[m,E,y]),_.useEffect(()=>{const T=D=>{C&&(D.preventDefault(),D.returnValue="")};return window.addEventListener("beforeunload",T),()=>window.removeEventListener("beforeunload",T)},[C]);const k=_.useCallback(()=>{C&&!window.confirm("You have unsaved changes. Are you sure you want to leave?")||e("/admin/initiatives")},[C,e]),R=async T=>{T.preventDefault();try{const D=new FormData;D.append("title",m.title),D.append("excerpt",m.excerpt),D.append("content",m.content),D.append("is_published",m.is_published?"1":"0"),D.append("is_featured",m.is_featured?"1":"0"),m.category_id&&D.append("category_id",m.category_id.toString()),m.published_at&&D.append("published_at",m.published_at),y&&D.append("image",y),D.append("title_translations",JSON.stringify(m.title_translations)),D.append("excerpt_translations",JSON.stringify(m.excerpt_translations)),D.append("content_translations",JSON.stringify(m.content_translations)),n?(D.append("_method","PUT"),await h({id:Number(t),data:D}).unwrap(),oe.success("Initiative updated successfully")):(await u(D).unwrap(),oe.success("Initiative created successfully")),e("/admin/initiatives")}catch(D){D?.data?.errors?Object.values(D.data.errors).flat().forEach(B=>oe.error(B)):oe.error(`Failed to ${n?"update":"create"} initiative`)}},O=d||p;return n&&r?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n&&i?o.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Initiative not found"}),o.jsx("button",{onClick:()=>e("/admin/initiatives"),className:"mt-4 text-red-700 underline",children:"Return to Initiatives"})]}):o.jsxs("div",{children:[o.jsx(Jr,{items:[{label:"Initiatives",href:"/admin/initiatives"},{label:n?"Edit Initiative":"New Initiative"}]}),o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:k,className:"p-2 hover:bg-gray-100 rounded-lg",children:o.jsx(ar,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Initiative":"Add New Initiative"}),n&&s&&o.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Editing: ",s.title]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:k,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),o.jsxs("button",{onClick:R,disabled:O,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg font-medium disabled:opacity-50",children:[O?o.jsx(ze,{className:"w-4 h-4 animate-spin"}):o.jsx(or,{className:"w-4 h-4"}),n?"Save Changes":"Create Initiative"]})]})]}),o.jsxs("form",{onSubmit:R,children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(qe,{title:"Content",description:"Title, excerpt, and content",children:o.jsxs("div",{className:"space-y-5",children:[o.jsx(ke,{label:"Title",name:"title",value:m.title,translationValue:m.title_translations.ar,onChangeEnglish:T=>x(D=>({...D,title:T})),onChangeArabic:T=>x(D=>({...D,title_translations:{ar:T}})),required:!0,placeholder:"Enter initiative title",placeholderAr:"  "}),o.jsx(ke,{label:"Excerpt",name:"excerpt",value:m.excerpt,translationValue:m.excerpt_translations.ar,onChangeEnglish:T=>x(D=>({...D,excerpt:T})),onChangeArabic:T=>x(D=>({...D,excerpt_translations:{ar:T}})),type:"textarea",required:!0,rows:2,placeholder:"Enter a brief excerpt",placeholderAr:"  "}),o.jsx(ke,{label:"Content",name:"content",value:m.content,translationValue:m.content_translations.ar,onChangeEnglish:T=>x(D=>({...D,content:T})),onChangeArabic:T=>x(D=>({...D,content_translations:{ar:T}})),type:"textarea",required:!0,rows:8,placeholder:"Enter full initiative content",placeholderAr:"   "})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(qe,{title:"Settings",description:"Category and publish date",children:o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsxs("select",{value:m.category_id||"",onChange:T=>x(D=>({...D,category_id:T.target.value===""?null:Number(T.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"",children:"No Category"}),l.map(T=>o.jsx("option",{value:T.id,children:T.name},T.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Published Date"}),o.jsx("input",{type:"date",value:m.published_at,onChange:T=>x(D=>({...D,published_at:T.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]})}),o.jsx(qe,{title:"Featured Image",description:"Upload initiative image",children:o.jsx(On,{onImageCropped:(T,D)=>{b(T),w(D)},currentPreview:j,guideline:Rn.initiative})}),o.jsx(qe,{title:"Status",description:"Publish and feature settings",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[o.jsx("input",{type:"checkbox",checked:m.is_published,onChange:T=>x(D=>({...D,is_published:T.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Published"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Initiative is visible on the website"})]})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[o.jsx("input",{type:"checkbox",checked:m.is_featured,onChange:T=>x(D=>({...D,is_featured:T.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Featured"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Show in featured initiatives section"})]})]})]})})]})]}),o.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 flex items-center gap-3 z-50",children:[o.jsx("button",{type:"button",onClick:k,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:O,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg font-medium disabled:opacity-50",children:[O&&o.jsx(ze,{className:"w-4 h-4 animate-spin"}),n?"Save":"Create"]})]}),o.jsx("div",{className:"lg:hidden h-24"})]})]})},_Z=({editor:t})=>t?o.jsxs("div",{className:"flex flex-wrap gap-1 p-2 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[o.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-gray-200 ${t.isActive("bold")?"bg-gray-200 text-primary-600":"text-gray-600"}`,children:o.jsx(m3,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-gray-200 ${t.isActive("italic")?"bg-gray-200 text-primary-600":"text-gray-600"}`,children:o.jsx(j3,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:`p-2 rounded hover:bg-gray-200 ${t.isActive("heading",{level:2})?"bg-gray-200 text-primary-600":"text-gray-600"}`,children:o.jsx(b3,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-gray-200 ${t.isActive("bulletList")?"bg-gray-200 text-primary-600":"text-gray-600"}`,children:o.jsx(Ol,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-gray-200 ${t.isActive("orderedList")?"bg-gray-200 text-primary-600":"text-gray-600"}`,children:o.jsx(S3,{className:"w-4 h-4"})}),o.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 self-center"}),o.jsx("button",{type:"button",onClick:()=>t.chain().focus().undo().run(),disabled:!t.can().undo(),className:"p-2 rounded hover:bg-gray-200 text-gray-600 disabled:opacity-50",children:o.jsx(k3,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>t.chain().focus().redo().run(),disabled:!t.can().redo(),className:"p-2 rounded hover:bg-gray-200 text-gray-600 disabled:opacity-50",children:o.jsx(C3,{className:"w-4 h-4"})})]}):null,ST={title:"",content:"",display_order:0,is_active:!0,open_in_new_tab:!1,title_translations:{ar:""},content_translations:{ar:""}},CT=()=>{const{id:t}=Yn(),e=kt(),n=!!t,{data:s,isLoading:r,error:i}=Xz(Number(t),{skip:!n}),[l,{isLoading:u}]=lA(),[d,{isLoading:h}]=cA(),[p,m]=_.useState(ST),[x,y]=_.useState("en"),[b,j]=_.useState(!1),[w,C]=_.useState(ST),M=np({extensions:[Dp],content:p.content||"",onUpdate:({editor:T})=>m(D=>({...D,content:T.getHTML()}))}),E=np({extensions:[Dp],content:p.content_translations.ar||"",onUpdate:({editor:T})=>m(D=>({...D,content_translations:{ar:T.getHTML()}}))}),S=x==="en"?M:E;_.useEffect(()=>{if(s&&n){const T={title:s.title,content:s.content||"",display_order:s.display_order,is_active:s.is_active,open_in_new_tab:s.open_in_new_tab,title_translations:s.title_translations||{ar:""},content_translations:s.content_translations||{ar:""}};m(T),C(T),M&&M.commands.setContent(s.content||""),E&&E.commands.setContent(s.content_translations?.ar||"")}},[s,n,M,E]),_.useEffect(()=>{j(JSON.stringify(p)!==JSON.stringify(w))},[p,w]),_.useEffect(()=>{const T=D=>{b&&(D.preventDefault(),D.returnValue="")};return window.addEventListener("beforeunload",T),()=>window.removeEventListener("beforeunload",T)},[b]);const k=_.useCallback(()=>{b&&!window.confirm("You have unsaved changes. Are you sure you want to leave?")||e("/admin/footer-links")},[b,e]),R=async T=>{T.preventDefault();try{const D={...p,title_translations:JSON.stringify(p.title_translations),content_translations:JSON.stringify(p.content_translations)};n?(await d({id:Number(t),data:D}).unwrap(),oe.success("Footer page updated successfully")):(await l(D).unwrap(),oe.success("Footer page created successfully")),e("/admin/footer-links")}catch(D){D?.data?.errors?Object.values(D.data.errors).flat().forEach(B=>oe.error(B)):oe.error(`Failed to ${n?"update":"create"} footer page`)}},O=u||h;return n&&r?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n&&i?o.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Footer page not found"}),o.jsx("button",{onClick:()=>e("/admin/footer-links"),className:"mt-4 text-red-700 underline",children:"Return to Footer Links"})]}):o.jsxs("div",{children:[o.jsx(Jr,{items:[{label:"Footer Links",href:"/admin/footer-links"},{label:n?"Edit Page":"New Page"}]}),o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:k,className:"p-2 hover:bg-gray-100 rounded-lg",children:o.jsx(ar,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Footer Page":"Add Footer Page"}),n&&s&&o.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Editing: ",s.title]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:k,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),o.jsxs("button",{onClick:R,disabled:O,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg font-medium disabled:opacity-50",children:[O?o.jsx(ze,{className:"w-4 h-4 animate-spin"}):o.jsx(or,{className:"w-4 h-4"}),n?"Save Changes":"Create Page"]})]})]}),o.jsxs("form",{onSubmit:R,children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs(qe,{title:"Page Title",description:"Title displayed in footer and page header",children:[o.jsx(ke,{label:"Title",name:"title",value:p.title,translationValue:p.title_translations.ar,onChangeEnglish:T=>m(D=>({...D,title:T})),onChangeArabic:T=>m(D=>({...D,title_translations:{ar:T}})),required:!0,placeholder:"e.g. Privacy Policy",placeholderAr:":  "}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The URL will be auto-generated based on the title"})]}),o.jsxs(qe,{title:"Page Content",description:"Rich text content for this page",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-0.5",children:[o.jsx("button",{type:"button",onClick:()=>y("en"),className:`px-3 py-1 text-xs font-medium rounded-md ${x==="en"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"EN"}),o.jsx("button",{type:"button",onClick:()=>y("ar"),className:`px-3 py-1 text-xs font-medium rounded-md ${x==="ar"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"AR"})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:`w-2 h-2 rounded-full ${p.content?"bg-green-500":"bg-gray-300"}`,title:"English"}),o.jsx("span",{className:`w-2 h-2 rounded-full ${p.content_translations.ar?"bg-green-500":"bg-gray-300"}`,title:"Arabic"})]})]}),o.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[o.jsx(_Z,{editor:S}),o.jsx("div",{className:x==="en"?"":"hidden",children:o.jsx(tp,{editor:M,className:"prose max-w-none p-4 min-h-[300px] focus:outline-none"})}),o.jsx("div",{className:x==="ar"?"":"hidden",dir:"rtl",children:o.jsx(tp,{editor:E,className:"prose max-w-none p-4 min-h-[300px] focus:outline-none text-right"})})]})]})]}),o.jsx("div",{className:"space-y-6",children:o.jsx(qe,{title:"Settings",description:"Display order and visibility",children:o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),o.jsx("input",{type:"number",value:p.display_order,onChange:T=>m(D=>({...D,display_order:Number(T.target.value)})),min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lower numbers appear first"})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[o.jsx("input",{type:"checkbox",checked:p.is_active,onChange:T=>m(D=>({...D,is_active:T.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Active"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Visible in footer"})]})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[o.jsx("input",{type:"checkbox",checked:p.open_in_new_tab,onChange:T=>m(D=>({...D,open_in_new_tab:T.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Open in new tab"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Opens link in new browser tab"})]})]})]})})})]}),o.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 flex items-center gap-3 z-50",children:[o.jsx("button",{type:"button",onClick:k,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:O,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg font-medium disabled:opacity-50",children:[O&&o.jsx(ze,{className:"w-4 h-4 animate-spin"}),n?"Save":"Create"]})]}),o.jsx("div",{className:"lg:hidden h-24"})]})]})},kT={name:"",role:"",bio:"",email:"",phone:"",experience:"",is_active:!0,display_order:0,social_links:{facebook:"",instagram:"",twitter:"",linkedin:""}},ET=()=>{const{id:t}=Yn(),e=kt(),n=!!t,{data:s,isLoading:r,error:i}=Fz(Number(t),{skip:!n}),[l,{isLoading:u}]=nA(),[d,{isLoading:h}]=sA(),[p,m]=_.useState(kT),[x,y]=_.useState(null),[b,j]=_.useState(""),[w,C]=_.useState(!1),[M,E]=_.useState(kT);_.useEffect(()=>{if(s&&n){const O={name:s.name,role:s.role,bio:s.bio||"",email:s.email||"",phone:s.phone||"",experience:s.experience||"",is_active:s.is_active,display_order:s.display_order,social_links:s.social_links||{facebook:"",instagram:"",twitter:"",linkedin:""}};m(O),E(O),s.image_url&&j(s.image_url)}},[s,n]),_.useEffect(()=>{C(JSON.stringify(p)!==JSON.stringify(M)||x!==null)},[p,M,x]),_.useEffect(()=>{const O=T=>{w&&(T.preventDefault(),T.returnValue="")};return window.addEventListener("beforeunload",O),()=>window.removeEventListener("beforeunload",O)},[w]);const S=_.useCallback(()=>{w&&!window.confirm("You have unsaved changes. Are you sure you want to leave?")||e("/admin/team")},[w,e]),k=async O=>{O.preventDefault();try{const T=new FormData;T.append("name",p.name),T.append("role",p.role),T.append("bio",p.bio),T.append("is_active",p.is_active?"1":"0"),T.append("display_order",p.display_order.toString()),p.email&&T.append("email",p.email),p.phone&&T.append("phone",p.phone),p.experience&&T.append("experience",p.experience),T.append("social_links",JSON.stringify(p.social_links)),x&&T.append("image",x),n?(T.append("_method","PUT"),await d({id:Number(t),data:T}).unwrap(),oe.success("Team member updated successfully")):(await l(T).unwrap(),oe.success("Team member created successfully")),e("/admin/team")}catch(T){T?.data?.errors?Object.values(T.data.errors).flat().forEach(D=>oe.error(D)):oe.error(`Failed to ${n?"update":"create"} team member`)}},R=u||h;return n&&r?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n&&i?o.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Team member not found"}),o.jsx("button",{onClick:()=>e("/admin/team"),className:"mt-4 text-red-700 underline",children:"Return to Team"})]}):o.jsxs("div",{children:[o.jsx(Jr,{items:[{label:"Team",href:"/admin/team"},{label:n?"Edit Member":"New Member"}]}),o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:S,className:"p-2 hover:bg-gray-100 rounded-lg",children:o.jsx(ar,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Team Member":"Add Team Member"}),n&&s&&o.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Editing: ",s.name]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:S,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),o.jsxs("button",{onClick:k,disabled:R,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg font-medium disabled:opacity-50",children:[R?o.jsx(ze,{className:"w-4 h-4 animate-spin"}):o.jsx(or,{className:"w-4 h-4"}),n?"Save Changes":"Create Member"]})]})]}),o.jsxs("form",{onSubmit:k,children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(qe,{title:"Basic Information",description:"Name, role, and bio",children:o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),o.jsx("input",{type:"text",value:p.name,onChange:O=>m(T=>({...T,name:O.target.value})),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),o.jsx("input",{type:"text",value:p.role,onChange:O=>m(T=>({...T,role:O.target.value})),required:!0,placeholder:"e.g. Lead Instructor",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),o.jsx("textarea",{value:p.bio,onChange:O=>m(T=>({...T,bio:O.target.value})),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:p.email,onChange:O=>m(T=>({...T,email:O.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),o.jsx("input",{type:"tel",value:p.phone,onChange:O=>m(T=>({...T,phone:O.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience"}),o.jsx("input",{type:"text",value:p.experience,onChange:O=>m(T=>({...T,experience:O.target.value})),placeholder:"e.g. 10+ years",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),o.jsx("input",{type:"number",value:p.display_order,onChange:O=>m(T=>({...T,display_order:Number(O.target.value)})),min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(qe,{title:"Profile Image",description:"Upload member photo",children:o.jsx(On,{onImageCropped:(O,T)=>{y(O),j(T)},currentPreview:b,guideline:Rn.teamMember,aspectRatio:1})}),o.jsx(qe,{title:"Social Links",description:"Social media profiles",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Facebook"}),o.jsx("input",{type:"url",value:p.social_links.facebook,onChange:O=>m(T=>({...T,social_links:{...T.social_links,facebook:O.target.value}})),placeholder:"https://facebook.com/...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instagram"}),o.jsx("input",{type:"url",value:p.social_links.instagram,onChange:O=>m(T=>({...T,social_links:{...T.social_links,instagram:O.target.value}})),placeholder:"https://instagram.com/...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Twitter"}),o.jsx("input",{type:"url",value:p.social_links.twitter,onChange:O=>m(T=>({...T,social_links:{...T.social_links,twitter:O.target.value}})),placeholder:"https://twitter.com/...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn"}),o.jsx("input",{type:"url",value:p.social_links.linkedin,onChange:O=>m(T=>({...T,social_links:{...T.social_links,linkedin:O.target.value}})),placeholder:"https://linkedin.com/in/...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]})}),o.jsx(qe,{title:"Status",description:"Member visibility",children:o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[o.jsx("input",{type:"checkbox",checked:p.is_active,onChange:O=>m(T=>({...T,is_active:O.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Active"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Member is visible on the website"})]})]})})]})]}),o.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 flex items-center gap-3 z-50",children:[o.jsx("button",{type:"button",onClick:S,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:R,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg font-medium disabled:opacity-50",children:[R&&o.jsx(ze,{className:"w-4 h-4 animate-spin"}),n?"Save":"Create"]})]}),o.jsx("div",{className:"lg:hidden h-24"})]})]})},DZ=()=>{const{pathname:t}=zs();return _.useEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto")},[]),_.useEffect(()=>{window.scrollTo(0,0)},[t]),null},OZ=()=>{const e=zs().pathname.startsWith("/admin");return o.jsxs(o.Fragment,{children:[o.jsx(DZ,{}),e?o.jsx(cC,{children:o.jsxs(Me,{path:"/admin",element:o.jsx(gH,{}),children:[o.jsx(Me,{index:!0,element:o.jsx(yH,{})}),o.jsx(Me,{path:"bookings",element:o.jsx(MZ,{})}),o.jsx(Me,{path:"products",element:o.jsx(TH,{})}),o.jsx(Me,{path:"products/new",element:o.jsx(dT,{})}),o.jsx(Me,{path:"products/:id/edit",element:o.jsx(dT,{})}),o.jsx(Me,{path:"courses",element:o.jsx(AH,{})}),o.jsx(Me,{path:"courses/new",element:o.jsx(hT,{})}),o.jsx(Me,{path:"courses/:id/edit",element:o.jsx(hT,{})}),o.jsx(Me,{path:"trips",element:o.jsx(DH,{})}),o.jsx(Me,{path:"trips/new",element:o.jsx(mT,{})}),o.jsx(Me,{path:"trips/:id/edit",element:o.jsx(mT,{})}),o.jsx(Me,{path:"blog",element:o.jsx(RH,{})}),o.jsx(Me,{path:"blog/new",element:o.jsx(xT,{})}),o.jsx(Me,{path:"blog/:id/edit",element:o.jsx(xT,{})}),o.jsx(Me,{path:"events",element:o.jsx(PH,{})}),o.jsx(Me,{path:"events/new",element:o.jsx(bT,{})}),o.jsx(Me,{path:"events/:id/edit",element:o.jsx(bT,{})}),o.jsx(Me,{path:"team",element:o.jsx(zH,{})}),o.jsx(Me,{path:"team/new",element:o.jsx(ET,{})}),o.jsx(Me,{path:"team/:id/edit",element:o.jsx(ET,{})}),o.jsx(Me,{path:"banners",element:o.jsx(VH,{})}),o.jsx(Me,{path:"banners/new",element:o.jsx(wT,{})}),o.jsx(Me,{path:"banners/:id/edit",element:o.jsx(wT,{})}),o.jsx(Me,{path:"initiatives",element:o.jsx($H,{})}),o.jsx(Me,{path:"initiatives/new",element:o.jsx(jT,{})}),o.jsx(Me,{path:"initiatives/:id/edit",element:o.jsx(jT,{})}),o.jsx(Me,{path:"footer-links",element:o.jsx(TZ,{})}),o.jsx(Me,{path:"footer-links/new",element:o.jsx(CT,{})}),o.jsx(Me,{path:"footer-links/:id/edit",element:o.jsx(CT,{})}),o.jsx(Me,{path:"settings",element:o.jsx(AZ,{})})]})}):o.jsxs("div",{className:"flex flex-col min-h-screen bg-white",children:[o.jsx(Kq,{}),o.jsx("main",{className:"grow",children:o.jsxs(cC,{children:[o.jsx(Me,{path:"/",element:o.jsx(nH,{})}),o.jsx(Me,{path:"/about",element:o.jsx(sH,{})}),o.jsx(Me,{path:"/shop/products",element:o.jsx(rH,{})}),o.jsx(Me,{path:"/shop/courses",element:o.jsx(iH,{})}),o.jsx(Me,{path:"/shop/trips",element:o.jsx(aH,{})}),o.jsx(Me,{path:"/blog",element:o.jsx(oH,{})}),o.jsx(Me,{path:"/blog/:id",element:o.jsx(lH,{})}),o.jsx(Me,{path:"/contact",element:o.jsx(cH,{})}),o.jsx(Me,{path:"/events",element:o.jsx(uH,{})}),o.jsx(Me,{path:"/events/:id",element:o.jsx(dH,{})}),o.jsx(Me,{path:"/initiatives",element:o.jsx(fH,{})}),o.jsx(Me,{path:"/initiatives/:id",element:o.jsx(hH,{})}),o.jsx(Me,{path:"/pages/:slug",element:o.jsx(pH,{})})]})}),o.jsx(Qq,{})]})]})},RZ=()=>o.jsxs(y8,{children:[o.jsx(xV,{position:"top-right"}),o.jsx(Yq,{}),o.jsx(OZ,{})]}),TT=document.getElementById("app");TT&&EP.createRoot(TT).render(o.jsx(Pe.StrictMode,{children:o.jsx(FP,{store:uA,children:o.jsx(RZ,{})})}));export{PZ as c,MT as g};
