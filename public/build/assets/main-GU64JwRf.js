/* empty css            */var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(R){return R&&R.__esModule&&Object.prototype.hasOwnProperty.call(R,"default")?R.default:R}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var R=Symbol.for("react.transitional.element"),y=Symbol.for("react.fragment");function T(A,O,z){var U=null;if(z!==void 0&&(U=""+z),O.key!==void 0&&(U=""+O.key),"key"in O){z={};for(var G in O)G!=="key"&&(z[G]=O[G])}else z=O;return O=z.ref,{$$typeof:R,type:A,key:U,ref:O!==void 0?O:null,props:z}}return reactJsxRuntime_production.Fragment=y,reactJsxRuntime_production.jsx=T,reactJsxRuntime_production.jsxs=T,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime();function bind$1(R,y){return function(){return R.apply(y,arguments)}}const{toString}=Object.prototype,{getPrototypeOf:getPrototypeOf$1}=Object,{iterator,toStringTag}=Symbol,kindOf=(R=>y=>{const T=toString.call(y);return R[T]||(R[T]=T.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=R=>(R=R.toLowerCase(),y=>kindOf(y)===R),typeOfTest=R=>y=>typeof y===R,{isArray:isArray$1}=Array,isUndefined=typeOfTest("undefined");function isBuffer(R){return R!==null&&!isUndefined(R)&&R.constructor!==null&&!isUndefined(R.constructor)&&isFunction$3(R.constructor.isBuffer)&&R.constructor.isBuffer(R)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(R){let y;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?y=ArrayBuffer.isView(R):y=R&&R.buffer&&isArrayBuffer(R.buffer),y}const isString$2=typeOfTest("string"),isFunction$3=typeOfTest("function"),isNumber$1=typeOfTest("number"),isObject$2=R=>R!==null&&typeof R=="object",isBoolean$1=R=>R===!0||R===!1,isPlainObject$3=R=>{if(kindOf(R)!=="object")return!1;const y=getPrototypeOf$1(R);return(y===null||y===Object.prototype||Object.getPrototypeOf(y)===null)&&!(toStringTag in R)&&!(iterator in R)},isEmptyObject$1=R=>{if(!isObject$2(R)||isBuffer(R))return!1;try{return Object.keys(R).length===0&&Object.getPrototypeOf(R)===Object.prototype}catch{return!1}},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=R=>isObject$2(R)&&isFunction$3(R.pipe),isFormData=R=>{let y;return R&&(typeof FormData=="function"&&R instanceof FormData||isFunction$3(R.append)&&((y=kindOf(R))==="formdata"||y==="object"&&isFunction$3(R.toString)&&R.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=R=>R.trim?R.trim():R.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$2(R,y,{allOwnKeys:T=!1}={}){if(R===null||typeof R>"u")return;let A,O;if(typeof R!="object"&&(R=[R]),isArray$1(R))for(A=0,O=R.length;A<O;A++)y.call(null,R[A],A,R);else{if(isBuffer(R))return;const z=T?Object.getOwnPropertyNames(R):Object.keys(R),U=z.length;let G;for(A=0;A<U;A++)G=z[A],y.call(null,R[G],G,R)}}function findKey(R,y){if(isBuffer(R))return null;y=y.toLowerCase();const T=Object.keys(R);let A=T.length,O;for(;A-- >0;)if(O=T[A],y===O.toLowerCase())return O;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=R=>!isUndefined(R)&&R!==_global;function merge(){const{caseless:R,skipUndefined:y}=isContextDefined(this)&&this||{},T={},A=(O,z)=>{const U=R&&findKey(T,z)||z;isPlainObject$3(T[U])&&isPlainObject$3(O)?T[U]=merge(T[U],O):isPlainObject$3(O)?T[U]=merge({},O):isArray$1(O)?T[U]=O.slice():(!y||!isUndefined(O))&&(T[U]=O)};for(let O=0,z=arguments.length;O<z;O++)arguments[O]&&forEach$2(arguments[O],A);return T}const extend=(R,y,T,{allOwnKeys:A}={})=>(forEach$2(y,(O,z)=>{T&&isFunction$3(O)?R[z]=bind$1(O,T):R[z]=O},{allOwnKeys:A}),R),stripBOM=R=>(R.charCodeAt(0)===65279&&(R=R.slice(1)),R),inherits=(R,y,T,A)=>{R.prototype=Object.create(y.prototype,A),R.prototype.constructor=R,Object.defineProperty(R,"super",{value:y.prototype}),T&&Object.assign(R.prototype,T)},toFlatObject=(R,y,T,A)=>{let O,z,U;const G={};if(y=y||{},R==null)return y;do{for(O=Object.getOwnPropertyNames(R),z=O.length;z-- >0;)U=O[z],(!A||A(U,R,y))&&!G[U]&&(y[U]=R[U],G[U]=!0);R=T!==!1&&getPrototypeOf$1(R)}while(R&&(!T||T(R,y))&&R!==Object.prototype);return y},endsWith=(R,y,T)=>{R=String(R),(T===void 0||T>R.length)&&(T=R.length),T-=y.length;const A=R.indexOf(y,T);return A!==-1&&A===T},toArray=R=>{if(!R)return null;if(isArray$1(R))return R;let y=R.length;if(!isNumber$1(y))return null;const T=new Array(y);for(;y-- >0;)T[y]=R[y];return T},isTypedArray$1=(R=>y=>R&&y instanceof R)(typeof Uint8Array<"u"&&getPrototypeOf$1(Uint8Array)),forEachEntry=(R,y)=>{const A=(R&&R[iterator]).call(R);let O;for(;(O=A.next())&&!O.done;){const z=O.value;y.call(R,z[0],z[1])}},matchAll=(R,y)=>{let T;const A=[];for(;(T=R.exec(y))!==null;)A.push(T);return A},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase$1=R=>R.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(T,A,O){return A.toUpperCase()+O}),hasOwnProperty$1=(({hasOwnProperty:R})=>(y,T)=>R.call(y,T))(Object.prototype),isRegExp$1=kindOfTest("RegExp"),reduceDescriptors=(R,y)=>{const T=Object.getOwnPropertyDescriptors(R),A={};forEach$2(T,(O,z)=>{let U;(U=y(O,z,R))!==!1&&(A[z]=U||O)}),Object.defineProperties(R,A)},freezeMethods=R=>{reduceDescriptors(R,(y,T)=>{if(isFunction$3(R)&&["arguments","caller","callee"].indexOf(T)!==-1)return!1;const A=R[T];if(isFunction$3(A)){if(y.enumerable=!1,"writable"in y){y.writable=!1;return}y.set||(y.set=()=>{throw Error("Can not rewrite read-only method '"+T+"'")})}})},toObjectSet=(R,y)=>{const T={},A=O=>{O.forEach(z=>{T[z]=!0})};return isArray$1(R)?A(R):A(String(R).split(y)),T},noop$4=()=>{},toFiniteNumber=(R,y)=>R!=null&&Number.isFinite(R=+R)?R:y;function isSpecCompliantForm(R){return!!(R&&isFunction$3(R.append)&&R[toStringTag]==="FormData"&&R[iterator])}const toJSONObject=R=>{const y=new Array(10),T=(A,O)=>{if(isObject$2(A)){if(y.indexOf(A)>=0)return;if(isBuffer(A))return A;if(!("toJSON"in A)){y[O]=A;const z=isArray$1(A)?[]:{};return forEach$2(A,(U,G)=>{const J=T(U,O+1);!isUndefined(J)&&(z[G]=J)}),y[O]=void 0,z}}return A};return T(R,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable$1=R=>R&&(isObject$2(R)||isFunction$3(R))&&isFunction$3(R.then)&&isFunction$3(R.catch),_setImmediate=((R,y)=>R?setImmediate:y?((T,A)=>(_global.addEventListener("message",({source:O,data:z})=>{O===_global&&z===T&&A.length&&A.shift()()},!1),O=>{A.push(O),_global.postMessage(T,"*")}))(`axios@${Math.random()}`,[]):T=>setTimeout(T))(typeof setImmediate=="function",isFunction$3(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=R=>R!=null&&isFunction$3(R[iterator]),utils$1={isArray:isArray$1,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$2,isNumber:isNumber$1,isBoolean:isBoolean$1,isObject:isObject$2,isPlainObject:isPlainObject$3,isEmptyObject:isEmptyObject$1,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp:isRegExp$1,isFunction:isFunction$3,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach:forEach$2,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$1,hasOwnProp:hasOwnProperty$1,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase:toCamelCase$1,noop:noop$4,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable:isThenable$1,setImmediate:_setImmediate,asap,isIterable};function AxiosError$1(R,y,T,A,O){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=R,this.name="AxiosError",y&&(this.code=y),T&&(this.config=T),A&&(this.request=A),O&&(this.response=O,this.status=O.status?O.status:null)}utils$1.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(R=>{descriptors[R]={value:R}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(R,y,T,A,O,z)=>{const U=Object.create(prototype$1);utils$1.toFlatObject(R,U,function(te){return te!==Error.prototype},ee=>ee!=="isAxiosError");const G=R&&R.message?R.message:"Error",J=y==null&&R?R.code:y;return AxiosError$1.call(U,G,J,T,A,O),R&&U.cause==null&&Object.defineProperty(U,"cause",{value:R,configurable:!0}),U.name=R&&R.name||"Error",z&&Object.assign(U,z),U};const httpAdapter=null;function isVisitable(R){return utils$1.isPlainObject(R)||utils$1.isArray(R)}function removeBrackets(R){return utils$1.endsWith(R,"[]")?R.slice(0,-2):R}function renderKey(R,y,T){return R?R.concat(y).map(function(O,z){return O=removeBrackets(O),!T&&z?"["+O+"]":O}).join(T?".":""):y}function isFlatArray(R){return utils$1.isArray(R)&&!R.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(y){return/^is[A-Z]/.test(y)});function toFormData$1(R,y,T){if(!utils$1.isObject(R))throw new TypeError("target must be an object");y=y||new FormData,T=utils$1.toFlatObject(T,{metaTokens:!0,dots:!1,indexes:!1},!1,function(xe,ye){return!utils$1.isUndefined(ye[xe])});const A=T.metaTokens,O=T.visitor||te,z=T.dots,U=T.indexes,J=(T.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(y);if(!utils$1.isFunction(O))throw new TypeError("visitor must be a function");function ee(fe){if(fe===null)return"";if(utils$1.isDate(fe))return fe.toISOString();if(utils$1.isBoolean(fe))return fe.toString();if(!J&&utils$1.isBlob(fe))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(fe)||utils$1.isTypedArray(fe)?J&&typeof Blob=="function"?new Blob([fe]):Buffer.from(fe):fe}function te(fe,xe,ye){let _e=fe;if(fe&&!ye&&typeof fe=="object"){if(utils$1.endsWith(xe,"{}"))xe=A?xe:xe.slice(0,-2),fe=JSON.stringify(fe);else if(utils$1.isArray(fe)&&isFlatArray(fe)||(utils$1.isFileList(fe)||utils$1.endsWith(xe,"[]"))&&(_e=utils$1.toArray(fe)))return xe=removeBrackets(xe),_e.forEach(function(je,Ne){!(utils$1.isUndefined(je)||je===null)&&y.append(U===!0?renderKey([xe],Ne,z):U===null?xe:xe+"[]",ee(je))}),!1}return isVisitable(fe)?!0:(y.append(renderKey(ye,xe,z),ee(fe)),!1)}const ae=[],oe=Object.assign(predicates,{defaultVisitor:te,convertValue:ee,isVisitable});function pe(fe,xe){if(!utils$1.isUndefined(fe)){if(ae.indexOf(fe)!==-1)throw Error("Circular reference detected in "+xe.join("."));ae.push(fe),utils$1.forEach(fe,function(_e,Le){(!(utils$1.isUndefined(_e)||_e===null)&&O.call(y,_e,utils$1.isString(Le)?Le.trim():Le,xe,oe))===!0&&pe(_e,xe?xe.concat(Le):[Le])}),ae.pop()}}if(!utils$1.isObject(R))throw new TypeError("data must be an object");return pe(R),y}function encode$1(R){const y={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(R).replace(/[!'()~]|%20|%00/g,function(A){return y[A]})}function AxiosURLSearchParams(R,y){this._pairs=[],R&&toFormData$1(R,this,y)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(y,T){this._pairs.push([y,T])};prototype.toString=function(y){const T=y?function(A){return y.call(this,A,encode$1)}:encode$1;return this._pairs.map(function(O){return T(O[0])+"="+T(O[1])},"").join("&")};function encode(R){return encodeURIComponent(R).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function buildURL(R,y,T){if(!y)return R;const A=T&&T.encode||encode;utils$1.isFunction(T)&&(T={serialize:T});const O=T&&T.serialize;let z;if(O?z=O(y,T):z=utils$1.isURLSearchParams(y)?y.toString():new AxiosURLSearchParams(y,T).toString(A),z){const U=R.indexOf("#");U!==-1&&(R=R.slice(0,U)),R+=(R.indexOf("?")===-1?"?":"&")+z}return R}class InterceptorManager{constructor(){this.handlers=[]}use(y,T,A){return this.handlers.push({fulfilled:y,rejected:T,synchronous:A?A.synchronous:!1,runWhen:A?A.runWhen:null}),this.handlers.length-1}eject(y){this.handlers[y]&&(this.handlers[y]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(y){utils$1.forEach(this.handlers,function(A){A!==null&&y(A)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(R,y){return toFormData$1(R,new platform.classes.URLSearchParams,{visitor:function(T,A,O,z){return platform.isNode&&utils$1.isBuffer(T)?(this.append(A,T.toString("base64")),!1):z.defaultVisitor.apply(this,arguments)},...y})}function parsePropPath(R){return utils$1.matchAll(/\w+|\[(\w*)]/g,R).map(y=>y[0]==="[]"?"":y[1]||y[0])}function arrayToObject(R){const y={},T=Object.keys(R);let A;const O=T.length;let z;for(A=0;A<O;A++)z=T[A],y[z]=R[z];return y}function formDataToJSON(R){function y(T,A,O,z){let U=T[z++];if(U==="__proto__")return!0;const G=Number.isFinite(+U),J=z>=T.length;return U=!U&&utils$1.isArray(O)?O.length:U,J?(utils$1.hasOwnProp(O,U)?O[U]=[O[U],A]:O[U]=A,!G):((!O[U]||!utils$1.isObject(O[U]))&&(O[U]=[]),y(T,A,O[U],z)&&utils$1.isArray(O[U])&&(O[U]=arrayToObject(O[U])),!G)}if(utils$1.isFormData(R)&&utils$1.isFunction(R.entries)){const T={};return utils$1.forEachEntry(R,(A,O)=>{y(parsePropPath(A),O,T,0)}),T}return null}function stringifySafely(R,y,T){if(utils$1.isString(R))try{return(y||JSON.parse)(R),utils$1.trim(R)}catch(A){if(A.name!=="SyntaxError")throw A}return(T||JSON.stringify)(R)}const defaults$2={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(y,T){const A=T.getContentType()||"",O=A.indexOf("application/json")>-1,z=utils$1.isObject(y);if(z&&utils$1.isHTMLForm(y)&&(y=new FormData(y)),utils$1.isFormData(y))return O?JSON.stringify(formDataToJSON(y)):y;if(utils$1.isArrayBuffer(y)||utils$1.isBuffer(y)||utils$1.isStream(y)||utils$1.isFile(y)||utils$1.isBlob(y)||utils$1.isReadableStream(y))return y;if(utils$1.isArrayBufferView(y))return y.buffer;if(utils$1.isURLSearchParams(y))return T.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),y.toString();let G;if(z){if(A.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(y,this.formSerializer).toString();if((G=utils$1.isFileList(y))||A.indexOf("multipart/form-data")>-1){const J=this.env&&this.env.FormData;return toFormData$1(G?{"files[]":y}:y,J&&new J,this.formSerializer)}}return z||O?(T.setContentType("application/json",!1),stringifySafely(y)):y}],transformResponse:[function(y){const T=this.transitional||defaults$2.transitional,A=T&&T.forcedJSONParsing,O=this.responseType==="json";if(utils$1.isResponse(y)||utils$1.isReadableStream(y))return y;if(y&&utils$1.isString(y)&&(A&&!this.responseType||O)){const U=!(T&&T.silentJSONParsing)&&O;try{return JSON.parse(y,this.parseReviver)}catch(G){if(U)throw G.name==="SyntaxError"?AxiosError$1.from(G,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):G}}return y}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(y){return y>=200&&y<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],R=>{defaults$2.headers[R]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=R=>{const y={};let T,A,O;return R&&R.split(`
`).forEach(function(U){O=U.indexOf(":"),T=U.substring(0,O).trim().toLowerCase(),A=U.substring(O+1).trim(),!(!T||y[T]&&ignoreDuplicateOf[T])&&(T==="set-cookie"?y[T]?y[T].push(A):y[T]=[A]:y[T]=y[T]?y[T]+", "+A:A)}),y},$internals=Symbol("internals");function normalizeHeader(R){return R&&String(R).trim().toLowerCase()}function normalizeValue(R){return R===!1||R==null?R:utils$1.isArray(R)?R.map(normalizeValue):String(R)}function parseTokens(R){const y=Object.create(null),T=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let A;for(;A=T.exec(R);)y[A[1]]=A[2];return y}const isValidHeaderName=R=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(R.trim());function matchHeaderValue(R,y,T,A,O){if(utils$1.isFunction(A))return A.call(this,y,T);if(O&&(y=T),!!utils$1.isString(y)){if(utils$1.isString(A))return y.indexOf(A)!==-1;if(utils$1.isRegExp(A))return A.test(y)}}function formatHeader(R){return R.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(y,T,A)=>T.toUpperCase()+A)}function buildAccessors(R,y){const T=utils$1.toCamelCase(" "+y);["get","set","has"].forEach(A=>{Object.defineProperty(R,A+T,{value:function(O,z,U){return this[A].call(this,y,O,z,U)},configurable:!0})})}let AxiosHeaders$1=class{constructor(y){y&&this.set(y)}set(y,T,A){const O=this;function z(G,J,ee){const te=normalizeHeader(J);if(!te)throw new Error("header name must be a non-empty string");const ae=utils$1.findKey(O,te);(!ae||O[ae]===void 0||ee===!0||ee===void 0&&O[ae]!==!1)&&(O[ae||J]=normalizeValue(G))}const U=(G,J)=>utils$1.forEach(G,(ee,te)=>z(ee,te,J));if(utils$1.isPlainObject(y)||y instanceof this.constructor)U(y,T);else if(utils$1.isString(y)&&(y=y.trim())&&!isValidHeaderName(y))U(parseHeaders(y),T);else if(utils$1.isObject(y)&&utils$1.isIterable(y)){let G={},J,ee;for(const te of y){if(!utils$1.isArray(te))throw TypeError("Object iterator must return a key-value pair");G[ee=te[0]]=(J=G[ee])?utils$1.isArray(J)?[...J,te[1]]:[J,te[1]]:te[1]}U(G,T)}else y!=null&&z(T,y,A);return this}get(y,T){if(y=normalizeHeader(y),y){const A=utils$1.findKey(this,y);if(A){const O=this[A];if(!T)return O;if(T===!0)return parseTokens(O);if(utils$1.isFunction(T))return T.call(this,O,A);if(utils$1.isRegExp(T))return T.exec(O);throw new TypeError("parser must be boolean|regexp|function")}}}has(y,T){if(y=normalizeHeader(y),y){const A=utils$1.findKey(this,y);return!!(A&&this[A]!==void 0&&(!T||matchHeaderValue(this,this[A],A,T)))}return!1}delete(y,T){const A=this;let O=!1;function z(U){if(U=normalizeHeader(U),U){const G=utils$1.findKey(A,U);G&&(!T||matchHeaderValue(A,A[G],G,T))&&(delete A[G],O=!0)}}return utils$1.isArray(y)?y.forEach(z):z(y),O}clear(y){const T=Object.keys(this);let A=T.length,O=!1;for(;A--;){const z=T[A];(!y||matchHeaderValue(this,this[z],z,y,!0))&&(delete this[z],O=!0)}return O}normalize(y){const T=this,A={};return utils$1.forEach(this,(O,z)=>{const U=utils$1.findKey(A,z);if(U){T[U]=normalizeValue(O),delete T[z];return}const G=y?formatHeader(z):String(z).trim();G!==z&&delete T[z],T[G]=normalizeValue(O),A[G]=!0}),this}concat(...y){return this.constructor.concat(this,...y)}toJSON(y){const T=Object.create(null);return utils$1.forEach(this,(A,O)=>{A!=null&&A!==!1&&(T[O]=y&&utils$1.isArray(A)?A.join(", "):A)}),T}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([y,T])=>y+": "+T).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(y){return y instanceof this?y:new this(y)}static concat(y,...T){const A=new this(y);return T.forEach(O=>A.set(O)),A}static accessor(y){const A=(this[$internals]=this[$internals]={accessors:{}}).accessors,O=this.prototype;function z(U){const G=normalizeHeader(U);A[G]||(buildAccessors(O,U),A[G]=!0)}return utils$1.isArray(y)?y.forEach(z):z(y),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders$1.prototype,({value:R},y)=>{let T=y[0].toUpperCase()+y.slice(1);return{get:()=>R,set(A){this[T]=A}}});utils$1.freezeMethods(AxiosHeaders$1);function transformData(R,y){const T=this||defaults$2,A=y||T,O=AxiosHeaders$1.from(A.headers);let z=A.data;return utils$1.forEach(R,function(G){z=G.call(T,z,O.normalize(),y?y.status:void 0)}),O.normalize(),z}function isCancel$1(R){return!!(R&&R.__CANCEL__)}function CanceledError$1(R,y,T){AxiosError$1.call(this,R??"canceled",AxiosError$1.ERR_CANCELED,y,T),this.name="CanceledError"}utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(R,y,T){const A=T.config.validateStatus;!T.status||!A||A(T.status)?R(T):y(new AxiosError$1("Request failed with status code "+T.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(T.status/100)-4],T.config,T.request,T))}function parseProtocol(R){const y=/^([-+\w]{1,25})(:?\/\/|:)/.exec(R);return y&&y[1]||""}function speedometer(R,y){R=R||10;const T=new Array(R),A=new Array(R);let O=0,z=0,U;return y=y!==void 0?y:1e3,function(J){const ee=Date.now(),te=A[z];U||(U=ee),T[O]=J,A[O]=ee;let ae=z,oe=0;for(;ae!==O;)oe+=T[ae++],ae=ae%R;if(O=(O+1)%R,O===z&&(z=(z+1)%R),ee-U<y)return;const pe=te&&ee-te;return pe?Math.round(oe*1e3/pe):void 0}}function throttle(R,y){let T=0,A=1e3/y,O,z;const U=(ee,te=Date.now())=>{T=te,O=null,z&&(clearTimeout(z),z=null),R(...ee)};return[(...ee)=>{const te=Date.now(),ae=te-T;ae>=A?U(ee,te):(O=ee,z||(z=setTimeout(()=>{z=null,U(O)},A-ae)))},()=>O&&U(O)]}const progressEventReducer=(R,y,T=3)=>{let A=0;const O=speedometer(50,250);return throttle(z=>{const U=z.loaded,G=z.lengthComputable?z.total:void 0,J=U-A,ee=O(J),te=U<=G;A=U;const ae={loaded:U,total:G,progress:G?U/G:void 0,bytes:J,rate:ee||void 0,estimated:ee&&G&&te?(G-U)/ee:void 0,event:z,lengthComputable:G!=null,[y?"download":"upload"]:!0};R(ae)},T)},progressEventDecorator=(R,y)=>{const T=R!=null;return[A=>y[0]({lengthComputable:T,total:R,loaded:A}),y[1]]},asyncDecorator=R=>(...y)=>utils$1.asap(()=>R(...y)),isURLSameOrigin=platform.hasStandardBrowserEnv?((R,y)=>T=>(T=new URL(T,platform.origin),R.protocol===T.protocol&&R.host===T.host&&(y||R.port===T.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(R,y,T,A,O,z,U){if(typeof document>"u")return;const G=[`${R}=${encodeURIComponent(y)}`];utils$1.isNumber(T)&&G.push(`expires=${new Date(T).toUTCString()}`),utils$1.isString(A)&&G.push(`path=${A}`),utils$1.isString(O)&&G.push(`domain=${O}`),z===!0&&G.push("secure"),utils$1.isString(U)&&G.push(`SameSite=${U}`),document.cookie=G.join("; ")},read(R){if(typeof document>"u")return null;const y=document.cookie.match(new RegExp("(?:^|; )"+R+"=([^;]*)"));return y?decodeURIComponent(y[1]):null},remove(R){this.write(R,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(R){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(R)}function combineURLs(R,y){return y?R.replace(/\/?\/$/,"")+"/"+y.replace(/^\/+/,""):R}function buildFullPath(R,y,T){let A=!isAbsoluteURL(y);return R&&(A||T==!1)?combineURLs(R,y):y}const headersToObject=R=>R instanceof AxiosHeaders$1?{...R}:R;function mergeConfig$1(R,y){y=y||{};const T={};function A(ee,te,ae,oe){return utils$1.isPlainObject(ee)&&utils$1.isPlainObject(te)?utils$1.merge.call({caseless:oe},ee,te):utils$1.isPlainObject(te)?utils$1.merge({},te):utils$1.isArray(te)?te.slice():te}function O(ee,te,ae,oe){if(utils$1.isUndefined(te)){if(!utils$1.isUndefined(ee))return A(void 0,ee,ae,oe)}else return A(ee,te,ae,oe)}function z(ee,te){if(!utils$1.isUndefined(te))return A(void 0,te)}function U(ee,te){if(utils$1.isUndefined(te)){if(!utils$1.isUndefined(ee))return A(void 0,ee)}else return A(void 0,te)}function G(ee,te,ae){if(ae in y)return A(ee,te);if(ae in R)return A(void 0,ee)}const J={url:z,method:z,data:z,baseURL:U,transformRequest:U,transformResponse:U,paramsSerializer:U,timeout:U,timeoutMessage:U,withCredentials:U,withXSRFToken:U,adapter:U,responseType:U,xsrfCookieName:U,xsrfHeaderName:U,onUploadProgress:U,onDownloadProgress:U,decompress:U,maxContentLength:U,maxBodyLength:U,beforeRedirect:U,transport:U,httpAgent:U,httpsAgent:U,cancelToken:U,socketPath:U,responseEncoding:U,validateStatus:G,headers:(ee,te,ae)=>O(headersToObject(ee),headersToObject(te),ae,!0)};return utils$1.forEach(Object.keys({...R,...y}),function(te){const ae=J[te]||O,oe=ae(R[te],y[te],te);utils$1.isUndefined(oe)&&ae!==G||(T[te]=oe)}),T}const resolveConfig=R=>{const y=mergeConfig$1({},R);let{data:T,withXSRFToken:A,xsrfHeaderName:O,xsrfCookieName:z,headers:U,auth:G}=y;if(y.headers=U=AxiosHeaders$1.from(U),y.url=buildURL(buildFullPath(y.baseURL,y.url,y.allowAbsoluteUrls),R.params,R.paramsSerializer),G&&U.set("Authorization","Basic "+btoa((G.username||"")+":"+(G.password?unescape(encodeURIComponent(G.password)):""))),utils$1.isFormData(T)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)U.setContentType(void 0);else if(utils$1.isFunction(T.getHeaders)){const J=T.getHeaders(),ee=["content-type","content-length"];Object.entries(J).forEach(([te,ae])=>{ee.includes(te.toLowerCase())&&U.set(te,ae)})}}if(platform.hasStandardBrowserEnv&&(A&&utils$1.isFunction(A)&&(A=A(y)),A||A!==!1&&isURLSameOrigin(y.url))){const J=O&&z&&cookies.read(z);J&&U.set(O,J)}return y},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(R){return new Promise(function(T,A){const O=resolveConfig(R);let z=O.data;const U=AxiosHeaders$1.from(O.headers).normalize();let{responseType:G,onUploadProgress:J,onDownloadProgress:ee}=O,te,ae,oe,pe,fe;function xe(){pe&&pe(),fe&&fe(),O.cancelToken&&O.cancelToken.unsubscribe(te),O.signal&&O.signal.removeEventListener("abort",te)}let ye=new XMLHttpRequest;ye.open(O.method.toUpperCase(),O.url,!0),ye.timeout=O.timeout;function _e(){if(!ye)return;const je=AxiosHeaders$1.from("getAllResponseHeaders"in ye&&ye.getAllResponseHeaders()),$e={data:!G||G==="text"||G==="json"?ye.responseText:ye.response,status:ye.status,statusText:ye.statusText,headers:je,config:R,request:ye};settle(function(He){T(He),xe()},function(He){A(He),xe()},$e),ye=null}"onloadend"in ye?ye.onloadend=_e:ye.onreadystatechange=function(){!ye||ye.readyState!==4||ye.status===0&&!(ye.responseURL&&ye.responseURL.indexOf("file:")===0)||setTimeout(_e)},ye.onabort=function(){ye&&(A(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,R,ye)),ye=null)},ye.onerror=function(Ne){const $e=Ne&&Ne.message?Ne.message:"Network Error",Ue=new AxiosError$1($e,AxiosError$1.ERR_NETWORK,R,ye);Ue.event=Ne||null,A(Ue),ye=null},ye.ontimeout=function(){let Ne=O.timeout?"timeout of "+O.timeout+"ms exceeded":"timeout exceeded";const $e=O.transitional||transitionalDefaults;O.timeoutErrorMessage&&(Ne=O.timeoutErrorMessage),A(new AxiosError$1(Ne,$e.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,R,ye)),ye=null},z===void 0&&U.setContentType(null),"setRequestHeader"in ye&&utils$1.forEach(U.toJSON(),function(Ne,$e){ye.setRequestHeader($e,Ne)}),utils$1.isUndefined(O.withCredentials)||(ye.withCredentials=!!O.withCredentials),G&&G!=="json"&&(ye.responseType=O.responseType),ee&&([oe,fe]=progressEventReducer(ee,!0),ye.addEventListener("progress",oe)),J&&ye.upload&&([ae,pe]=progressEventReducer(J),ye.upload.addEventListener("progress",ae),ye.upload.addEventListener("loadend",pe)),(O.cancelToken||O.signal)&&(te=je=>{ye&&(A(!je||je.type?new CanceledError$1(null,R,ye):je),ye.abort(),ye=null)},O.cancelToken&&O.cancelToken.subscribe(te),O.signal&&(O.signal.aborted?te():O.signal.addEventListener("abort",te)));const Le=parseProtocol(O.url);if(Le&&platform.protocols.indexOf(Le)===-1){A(new AxiosError$1("Unsupported protocol "+Le+":",AxiosError$1.ERR_BAD_REQUEST,R));return}ye.send(z||null)})},composeSignals=(R,y)=>{const{length:T}=R=R?R.filter(Boolean):[];if(y||T){let A=new AbortController,O;const z=function(ee){if(!O){O=!0,G();const te=ee instanceof Error?ee:this.reason;A.abort(te instanceof AxiosError$1?te:new CanceledError$1(te instanceof Error?te.message:te))}};let U=y&&setTimeout(()=>{U=null,z(new AxiosError$1(`timeout ${y} of ms exceeded`,AxiosError$1.ETIMEDOUT))},y);const G=()=>{R&&(U&&clearTimeout(U),U=null,R.forEach(ee=>{ee.unsubscribe?ee.unsubscribe(z):ee.removeEventListener("abort",z)}),R=null)};R.forEach(ee=>ee.addEventListener("abort",z));const{signal:J}=A;return J.unsubscribe=()=>utils$1.asap(G),J}},streamChunk=function*(R,y){let T=R.byteLength;if(T<y){yield R;return}let A=0,O;for(;A<T;)O=A+y,yield R.slice(A,O),A=O},readBytes=async function*(R,y){for await(const T of readStream(R))yield*streamChunk(T,y)},readStream=async function*(R){if(R[Symbol.asyncIterator]){yield*R;return}const y=R.getReader();try{for(;;){const{done:T,value:A}=await y.read();if(T)break;yield A}}finally{await y.cancel()}},trackStream=(R,y,T,A)=>{const O=readBytes(R,y);let z=0,U,G=J=>{U||(U=!0,A&&A(J))};return new ReadableStream({async pull(J){try{const{done:ee,value:te}=await O.next();if(ee){G(),J.close();return}let ae=te.byteLength;if(T){let oe=z+=ae;T(oe)}J.enqueue(new Uint8Array(te))}catch(ee){throw G(ee),ee}},cancel(J){return G(J),O.return()}},{highWaterMark:2})},DEFAULT_CHUNK_SIZE=64*1024,{isFunction:isFunction$2}=utils$1,globalFetchAPI=(({Request:R,Response:y})=>({Request:R,Response:y}))(utils$1.global),{ReadableStream:ReadableStream$1,TextEncoder}=utils$1.global,test$1=(R,...y)=>{try{return!!R(...y)}catch{return!1}},factory=R=>{R=utils$1.merge.call({skipUndefined:!0},globalFetchAPI,R);const{fetch:y,Request:T,Response:A}=R,O=y?isFunction$2(y):typeof fetch=="function",z=isFunction$2(T),U=isFunction$2(A);if(!O)return!1;const G=O&&isFunction$2(ReadableStream$1),J=O&&(typeof TextEncoder=="function"?(fe=>xe=>fe.encode(xe))(new TextEncoder):async fe=>new Uint8Array(await new T(fe).arrayBuffer())),ee=z&&G&&test$1(()=>{let fe=!1;const xe=new T(platform.origin,{body:new ReadableStream$1,method:"POST",get duplex(){return fe=!0,"half"}}).headers.has("Content-Type");return fe&&!xe}),te=U&&G&&test$1(()=>utils$1.isReadableStream(new A("").body)),ae={stream:te&&(fe=>fe.body)};O&&["text","arrayBuffer","blob","formData","stream"].forEach(fe=>{!ae[fe]&&(ae[fe]=(xe,ye)=>{let _e=xe&&xe[fe];if(_e)return _e.call(xe);throw new AxiosError$1(`Response type '${fe}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,ye)})});const oe=async fe=>{if(fe==null)return 0;if(utils$1.isBlob(fe))return fe.size;if(utils$1.isSpecCompliantForm(fe))return(await new T(platform.origin,{method:"POST",body:fe}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(fe)||utils$1.isArrayBuffer(fe))return fe.byteLength;if(utils$1.isURLSearchParams(fe)&&(fe=fe+""),utils$1.isString(fe))return(await J(fe)).byteLength},pe=async(fe,xe)=>{const ye=utils$1.toFiniteNumber(fe.getContentLength());return ye??oe(xe)};return async fe=>{let{url:xe,method:ye,data:_e,signal:Le,cancelToken:je,timeout:Ne,onDownloadProgress:$e,onUploadProgress:Ue,responseType:He,headers:ze,withCredentials:Ke="same-origin",fetchOptions:Je}=resolveConfig(fe),Ze=y||fetch;He=He?(He+"").toLowerCase():"text";let rt=composeSignals([Le,je&&je.toAbortSignal()],Ne),nt=null;const at=rt&&rt.unsubscribe&&(()=>{rt.unsubscribe()});let ot;try{if(Ue&&ee&&ye!=="get"&&ye!=="head"&&(ot=await pe(ze,_e))!==0){let Ye=new T(xe,{method:"POST",body:_e,duplex:"half"}),st;if(utils$1.isFormData(_e)&&(st=Ye.headers.get("content-type"))&&ze.setContentType(st),Ye.body){const[ut,pt]=progressEventDecorator(ot,progressEventReducer(asyncDecorator(Ue)));_e=trackStream(Ye.body,DEFAULT_CHUNK_SIZE,ut,pt)}}utils$1.isString(Ke)||(Ke=Ke?"include":"omit");const qe=z&&"credentials"in T.prototype,Xe={...Je,signal:rt,method:ye.toUpperCase(),headers:ze.normalize().toJSON(),body:_e,duplex:"half",credentials:qe?Ke:void 0};nt=z&&new T(xe,Xe);let Ge=await(z?Ze(nt,Je):Ze(xe,Xe));const Qe=te&&(He==="stream"||He==="response");if(te&&($e||Qe&&at)){const Ye={};["status","statusText","headers"].forEach(yt=>{Ye[yt]=Ge[yt]});const st=utils$1.toFiniteNumber(Ge.headers.get("content-length")),[ut,pt]=$e&&progressEventDecorator(st,progressEventReducer(asyncDecorator($e),!0))||[];Ge=new A(trackStream(Ge.body,DEFAULT_CHUNK_SIZE,ut,()=>{pt&&pt(),at&&at()}),Ye)}He=He||"text";let it=await ae[utils$1.findKey(ae,He)||"text"](Ge,fe);return!Qe&&at&&at(),await new Promise((Ye,st)=>{settle(Ye,st,{data:it,headers:AxiosHeaders$1.from(Ge.headers),status:Ge.status,statusText:Ge.statusText,config:fe,request:nt})})}catch(qe){throw at&&at(),qe&&qe.name==="TypeError"&&/Load failed|fetch/i.test(qe.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,fe,nt),{cause:qe.cause||qe}):AxiosError$1.from(qe,qe&&qe.code,fe,nt)}}},seedCache=new Map,getFetch=R=>{let y=R&&R.env||{};const{fetch:T,Request:A,Response:O}=y,z=[A,O,T];let U=z.length,G=U,J,ee,te=seedCache;for(;G--;)J=z[G],ee=te.get(J),ee===void 0&&te.set(J,ee=G?new Map:factory(y)),te=ee;return ee};getFetch();const knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:{get:getFetch}};utils$1.forEach(knownAdapters,(R,y)=>{if(R){try{Object.defineProperty(R,"name",{value:y})}catch{}Object.defineProperty(R,"adapterName",{value:y})}});const renderReason=R=>`- ${R}`,isResolvedHandle=R=>utils$1.isFunction(R)||R===null||R===!1;function getAdapter$1(R,y){R=utils$1.isArray(R)?R:[R];const{length:T}=R;let A,O;const z={};for(let U=0;U<T;U++){A=R[U];let G;if(O=A,!isResolvedHandle(A)&&(O=knownAdapters[(G=String(A)).toLowerCase()],O===void 0))throw new AxiosError$1(`Unknown adapter '${G}'`);if(O&&(utils$1.isFunction(O)||(O=O.get(y))))break;z[G||"#"+U]=O}if(!O){const U=Object.entries(z).map(([J,ee])=>`adapter ${J} `+(ee===!1?"is not supported by the environment":"is not available in the build"));let G=T?U.length>1?`since :
`+U.map(renderReason).join(`
`):" "+renderReason(U[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+G,"ERR_NOT_SUPPORT")}return O}const adapters={getAdapter:getAdapter$1,adapters:knownAdapters};function throwIfCancellationRequested(R){if(R.cancelToken&&R.cancelToken.throwIfRequested(),R.signal&&R.signal.aborted)throw new CanceledError$1(null,R)}function dispatchRequest(R){return throwIfCancellationRequested(R),R.headers=AxiosHeaders$1.from(R.headers),R.data=transformData.call(R,R.transformRequest),["post","put","patch"].indexOf(R.method)!==-1&&R.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(R.adapter||defaults$2.adapter,R)(R).then(function(A){return throwIfCancellationRequested(R),A.data=transformData.call(R,R.transformResponse,A),A.headers=AxiosHeaders$1.from(A.headers),A},function(A){return isCancel$1(A)||(throwIfCancellationRequested(R),A&&A.response&&(A.response.data=transformData.call(R,R.transformResponse,A.response),A.response.headers=AxiosHeaders$1.from(A.response.headers))),Promise.reject(A)})}const VERSION$1="1.13.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((R,y)=>{validators$1[R]=function(A){return typeof A===R||"a"+(y<1?"n ":" ")+R}});const deprecatedWarnings={};validators$1.transitional=function(y,T,A){function O(z,U){return"[Axios v"+VERSION$1+"] Transitional option '"+z+"'"+U+(A?". "+A:"")}return(z,U,G)=>{if(y===!1)throw new AxiosError$1(O(U," has been removed"+(T?" in "+T:"")),AxiosError$1.ERR_DEPRECATED);return T&&!deprecatedWarnings[U]&&(deprecatedWarnings[U]=!0,console.warn(O(U," has been deprecated since v"+T+" and will be removed in the near future"))),y?y(z,U,G):!0}};validators$1.spelling=function(y){return(T,A)=>(console.warn(`${A} is likely a misspelling of ${y}`),!0)};function assertOptions(R,y,T){if(typeof R!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const A=Object.keys(R);let O=A.length;for(;O-- >0;){const z=A[O],U=y[z];if(U){const G=R[z],J=G===void 0||U(G,z,R);if(J!==!0)throw new AxiosError$1("option "+z+" must be "+J,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(T!==!0)throw new AxiosError$1("Unknown option "+z,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(y){this.defaults=y||{},this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(y,T){try{return await this._request(y,T)}catch(A){if(A instanceof Error){let O={};Error.captureStackTrace?Error.captureStackTrace(O):O=new Error;const z=O.stack?O.stack.replace(/^.+\n/,""):"";try{A.stack?z&&!String(A.stack).endsWith(z.replace(/^.+\n.+\n/,""))&&(A.stack+=`
`+z):A.stack=z}catch{}}throw A}}_request(y,T){typeof y=="string"?(T=T||{},T.url=y):T=y||{},T=mergeConfig$1(this.defaults,T);const{transitional:A,paramsSerializer:O,headers:z}=T;A!==void 0&&validator.assertOptions(A,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),O!=null&&(utils$1.isFunction(O)?T.paramsSerializer={serialize:O}:validator.assertOptions(O,{encode:validators.function,serialize:validators.function},!0)),T.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?T.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:T.allowAbsoluteUrls=!0),validator.assertOptions(T,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),T.method=(T.method||this.defaults.method||"get").toLowerCase();let U=z&&utils$1.merge(z.common,z[T.method]);z&&utils$1.forEach(["delete","get","head","post","put","patch","common"],fe=>{delete z[fe]}),T.headers=AxiosHeaders$1.concat(U,z);const G=[];let J=!0;this.interceptors.request.forEach(function(xe){typeof xe.runWhen=="function"&&xe.runWhen(T)===!1||(J=J&&xe.synchronous,G.unshift(xe.fulfilled,xe.rejected))});const ee=[];this.interceptors.response.forEach(function(xe){ee.push(xe.fulfilled,xe.rejected)});let te,ae=0,oe;if(!J){const fe=[dispatchRequest.bind(this),void 0];for(fe.unshift(...G),fe.push(...ee),oe=fe.length,te=Promise.resolve(T);ae<oe;)te=te.then(fe[ae++],fe[ae++]);return te}oe=G.length;let pe=T;for(;ae<oe;){const fe=G[ae++],xe=G[ae++];try{pe=fe(pe)}catch(ye){xe.call(this,ye);break}}try{te=dispatchRequest.call(this,pe)}catch(fe){return Promise.reject(fe)}for(ae=0,oe=ee.length;ae<oe;)te=te.then(ee[ae++],ee[ae++]);return te}getUri(y){y=mergeConfig$1(this.defaults,y);const T=buildFullPath(y.baseURL,y.url,y.allowAbsoluteUrls);return buildURL(T,y.params,y.paramsSerializer)}};utils$1.forEach(["delete","get","head","options"],function(y){Axios$1.prototype[y]=function(T,A){return this.request(mergeConfig$1(A||{},{method:y,url:T,data:(A||{}).data}))}});utils$1.forEach(["post","put","patch"],function(y){function T(A){return function(z,U,G){return this.request(mergeConfig$1(G||{},{method:y,headers:A?{"Content-Type":"multipart/form-data"}:{},url:z,data:U}))}}Axios$1.prototype[y]=T(),Axios$1.prototype[y+"Form"]=T(!0)});let CancelToken$1=class Ph{constructor(y){if(typeof y!="function")throw new TypeError("executor must be a function.");let T;this.promise=new Promise(function(z){T=z});const A=this;this.promise.then(O=>{if(!A._listeners)return;let z=A._listeners.length;for(;z-- >0;)A._listeners[z](O);A._listeners=null}),this.promise.then=O=>{let z;const U=new Promise(G=>{A.subscribe(G),z=G}).then(O);return U.cancel=function(){A.unsubscribe(z)},U},y(function(z,U,G){A.reason||(A.reason=new CanceledError$1(z,U,G),T(A.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(y){if(this.reason){y(this.reason);return}this._listeners?this._listeners.push(y):this._listeners=[y]}unsubscribe(y){if(!this._listeners)return;const T=this._listeners.indexOf(y);T!==-1&&this._listeners.splice(T,1)}toAbortSignal(){const y=new AbortController,T=A=>{y.abort(A)};return this.subscribe(T),y.signal.unsubscribe=()=>this.unsubscribe(T),y.signal}static source(){let y;return{token:new Ph(function(O){y=O}),cancel:y}}};function spread$1(R){return function(T){return R.apply(null,T)}}function isAxiosError$1(R){return utils$1.isObject(R)&&R.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(HttpStatusCode$1).forEach(([R,y])=>{HttpStatusCode$1[y]=R});function createInstance(R){const y=new Axios$1(R),T=bind$1(Axios$1.prototype.request,y);return utils$1.extend(T,Axios$1.prototype,y,{allOwnKeys:!0}),utils$1.extend(T,y,null,{allOwnKeys:!0}),T.create=function(O){return createInstance(mergeConfig$1(R,O))},T}const axios=createInstance(defaults$2);axios.Axios=Axios$1;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel$1;axios.VERSION=VERSION$1;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function(y){return Promise.all(y)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=R=>formDataToJSON(utils$1.isHTMLForm(R)?new FormData(R):R);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios;window.axios=axios;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const isString$1=R=>typeof R=="string",defer=()=>{let R,y;const T=new Promise((A,O)=>{R=A,y=O});return T.resolve=R,T.reject=y,T},makeString=R=>R==null?"":""+R,copy$1=(R,y,T)=>{R.forEach(A=>{y[A]&&(T[A]=y[A])})},lastOfPathSeparatorRegExp=/###/g,cleanKey=R=>R&&R.indexOf("###")>-1?R.replace(lastOfPathSeparatorRegExp,"."):R,canNotTraverseDeeper=R=>!R||isString$1(R),getLastOfPath=(R,y,T)=>{const A=isString$1(y)?y.split("."):y;let O=0;for(;O<A.length-1;){if(canNotTraverseDeeper(R))return{};const z=cleanKey(A[O]);!R[z]&&T&&(R[z]=new T),Object.prototype.hasOwnProperty.call(R,z)?R=R[z]:R={},++O}return canNotTraverseDeeper(R)?{}:{obj:R,k:cleanKey(A[O])}},setPath=(R,y,T)=>{const{obj:A,k:O}=getLastOfPath(R,y,Object);if(A!==void 0||y.length===1){A[O]=T;return}let z=y[y.length-1],U=y.slice(0,y.length-1),G=getLastOfPath(R,U,Object);for(;G.obj===void 0&&U.length;)z=`${U[U.length-1]}.${z}`,U=U.slice(0,U.length-1),G=getLastOfPath(R,U,Object),G?.obj&&typeof G.obj[`${G.k}.${z}`]<"u"&&(G.obj=void 0);G.obj[`${G.k}.${z}`]=T},pushPath=(R,y,T,A)=>{const{obj:O,k:z}=getLastOfPath(R,y,Object);O[z]=O[z]||[],O[z].push(T)},getPath=(R,y)=>{const{obj:T,k:A}=getLastOfPath(R,y);if(T&&Object.prototype.hasOwnProperty.call(T,A))return T[A]},getPathWithDefaults=(R,y,T)=>{const A=getPath(R,T);return A!==void 0?A:getPath(y,T)},deepExtend=(R,y,T)=>{for(const A in y)A!=="__proto__"&&A!=="constructor"&&(A in R?isString$1(R[A])||R[A]instanceof String||isString$1(y[A])||y[A]instanceof String?T&&(R[A]=y[A]):deepExtend(R[A],y[A],T):R[A]=y[A]);return R},regexEscape=R=>R.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const escape=R=>isString$1(R)?R.replace(/[&<>"'\/]/g,y=>_entityMap[y]):R;class RegExpCache{constructor(y){this.capacity=y,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(y){const T=this.regExpMap.get(y);if(T!==void 0)return T;const A=new RegExp(y);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(y,A),this.regExpQueue.push(y),A}}const chars=[" ",",","?","!",";"],looksLikeObjectPathRegExpCache=new RegExpCache(20),looksLikeObjectPath=(R,y,T)=>{y=y||"",T=T||"";const A=chars.filter(U=>y.indexOf(U)<0&&T.indexOf(U)<0);if(A.length===0)return!0;const O=looksLikeObjectPathRegExpCache.getRegExp(`(${A.map(U=>U==="?"?"\\?":U).join("|")})`);let z=!O.test(R);if(!z){const U=R.indexOf(T);U>0&&!O.test(R.substring(0,U))&&(z=!0)}return z},deepFind=(R,y,T=".")=>{if(!R)return;if(R[y])return Object.prototype.hasOwnProperty.call(R,y)?R[y]:void 0;const A=y.split(T);let O=R;for(let z=0;z<A.length;){if(!O||typeof O!="object")return;let U,G="";for(let J=z;J<A.length;++J)if(J!==z&&(G+=T),G+=A[J],U=O[G],U!==void 0){if(["string","number","boolean"].indexOf(typeof U)>-1&&J<A.length-1)continue;z+=J-z+1;break}O=U}return O},getCleanedCode=R=>R?.replace("_","-"),consoleLogger={type:"logger",log(R){this.output("log",R)},warn(R){this.output("warn",R)},error(R){this.output("error",R)},output(R,y){console?.[R]?.apply?.(console,y)}};class Logger{constructor(y,T={}){this.init(y,T)}init(y,T={}){this.prefix=T.prefix||"i18next:",this.logger=y||consoleLogger,this.options=T,this.debug=T.debug}log(...y){return this.forward(y,"log","",!0)}warn(...y){return this.forward(y,"warn","",!0)}error(...y){return this.forward(y,"error","")}deprecate(...y){return this.forward(y,"warn","WARNING DEPRECATED: ",!0)}forward(y,T,A,O){return O&&!this.debug?null:(isString$1(y[0])&&(y[0]=`${A}${this.prefix} ${y[0]}`),this.logger[T](y))}create(y){return new Logger(this.logger,{prefix:`${this.prefix}:${y}:`,...this.options})}clone(y){return y=y||this.options,y.prefix=y.prefix||this.prefix,new Logger(this.logger,y)}}var baseLogger=new Logger;let EventEmitter$1=class{constructor(){this.observers={}}on(y,T){return y.split(" ").forEach(A=>{this.observers[A]||(this.observers[A]=new Map);const O=this.observers[A].get(T)||0;this.observers[A].set(T,O+1)}),this}off(y,T){if(this.observers[y]){if(!T){delete this.observers[y];return}this.observers[y].delete(T)}}emit(y,...T){this.observers[y]&&Array.from(this.observers[y].entries()).forEach(([O,z])=>{for(let U=0;U<z;U++)O(...T)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([O,z])=>{for(let U=0;U<z;U++)O.apply(O,[y,...T])})}};class ResourceStore extends EventEmitter$1{constructor(y,T={ns:["translation"],defaultNS:"translation"}){super(),this.data=y||{},this.options=T,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(y){this.options.ns.indexOf(y)<0&&this.options.ns.push(y)}removeNamespaces(y){const T=this.options.ns.indexOf(y);T>-1&&this.options.ns.splice(T,1)}getResource(y,T,A,O={}){const z=O.keySeparator!==void 0?O.keySeparator:this.options.keySeparator,U=O.ignoreJSONStructure!==void 0?O.ignoreJSONStructure:this.options.ignoreJSONStructure;let G;y.indexOf(".")>-1?G=y.split("."):(G=[y,T],A&&(Array.isArray(A)?G.push(...A):isString$1(A)&&z?G.push(...A.split(z)):G.push(A)));const J=getPath(this.data,G);return!J&&!T&&!A&&y.indexOf(".")>-1&&(y=G[0],T=G[1],A=G.slice(2).join(".")),J||!U||!isString$1(A)?J:deepFind(this.data?.[y]?.[T],A,z)}addResource(y,T,A,O,z={silent:!1}){const U=z.keySeparator!==void 0?z.keySeparator:this.options.keySeparator;let G=[y,T];A&&(G=G.concat(U?A.split(U):A)),y.indexOf(".")>-1&&(G=y.split("."),O=T,T=G[1]),this.addNamespaces(T),setPath(this.data,G,O),z.silent||this.emit("added",y,T,A,O)}addResources(y,T,A,O={silent:!1}){for(const z in A)(isString$1(A[z])||Array.isArray(A[z]))&&this.addResource(y,T,z,A[z],{silent:!0});O.silent||this.emit("added",y,T,A)}addResourceBundle(y,T,A,O,z,U={silent:!1,skipCopy:!1}){let G=[y,T];y.indexOf(".")>-1&&(G=y.split("."),O=A,A=T,T=G[1]),this.addNamespaces(T);let J=getPath(this.data,G)||{};U.skipCopy||(A=JSON.parse(JSON.stringify(A))),O?deepExtend(J,A,z):J={...J,...A},setPath(this.data,G,J),U.silent||this.emit("added",y,T,A)}removeResourceBundle(y,T){this.hasResourceBundle(y,T)&&delete this.data[y][T],this.removeNamespaces(T),this.emit("removed",y,T)}hasResourceBundle(y,T){return this.getResource(y,T)!==void 0}getResourceBundle(y,T){return T||(T=this.options.defaultNS),this.getResource(y,T)}getDataByLanguage(y){return this.data[y]}hasLanguageSomeTranslations(y){const T=this.getDataByLanguage(y);return!!(T&&Object.keys(T)||[]).find(O=>T[O]&&Object.keys(T[O]).length>0)}toJSON(){return this.data}}var postProcessor={processors:{},addPostProcessor(R){this.processors[R.name]=R},handle(R,y,T,A,O){return R.forEach(z=>{y=this.processors[z]?.process(y,T,A,O)??y}),y}};const PATH_KEY=Symbol("i18next/PATH_KEY");function createProxy$1(){const R=[],y=Object.create(null);let T;return y.get=(A,O)=>(T?.revoke?.(),O===PATH_KEY?R:(R.push(O),T=Proxy.revocable(A,y),T.proxy)),Proxy.revocable(Object.create(null),y).proxy}function keysFromSelector(R,y){const{[PATH_KEY]:T}=R(createProxy$1());return T.join(y?.keySeparator??".")}const checkedLoadedFor={},shouldHandleAsObject=R=>!isString$1(R)&&typeof R!="boolean"&&typeof R!="number";class Translator extends EventEmitter$1{constructor(y,T={}){super(),copy$1(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],y,this),this.options=T,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=baseLogger.create("translator")}changeLanguage(y){y&&(this.language=y)}exists(y,T={interpolation:{}}){const A={...T};if(y==null)return!1;const O=this.resolve(y,A);if(O?.res===void 0)return!1;const z=shouldHandleAsObject(O.res);return!(A.returnObjects===!1&&z)}extractFromKey(y,T){let A=T.nsSeparator!==void 0?T.nsSeparator:this.options.nsSeparator;A===void 0&&(A=":");const O=T.keySeparator!==void 0?T.keySeparator:this.options.keySeparator;let z=T.ns||this.options.defaultNS||[];const U=A&&y.indexOf(A)>-1,G=!this.options.userDefinedKeySeparator&&!T.keySeparator&&!this.options.userDefinedNsSeparator&&!T.nsSeparator&&!looksLikeObjectPath(y,A,O);if(U&&!G){const J=y.match(this.interpolator.nestingRegexp);if(J&&J.length>0)return{key:y,namespaces:isString$1(z)?[z]:z};const ee=y.split(A);(A!==O||A===O&&this.options.ns.indexOf(ee[0])>-1)&&(z=ee.shift()),y=ee.join(O)}return{key:y,namespaces:isString$1(z)?[z]:z}}translate(y,T,A){let O=typeof T=="object"?{...T}:T;if(typeof O!="object"&&this.options.overloadTranslationOptionHandler&&(O=this.options.overloadTranslationOptionHandler(arguments)),typeof O=="object"&&(O={...O}),O||(O={}),y==null)return"";typeof y=="function"&&(y=keysFromSelector(y,{...this.options,...O})),Array.isArray(y)||(y=[String(y)]);const z=O.returnDetails!==void 0?O.returnDetails:this.options.returnDetails,U=O.keySeparator!==void 0?O.keySeparator:this.options.keySeparator,{key:G,namespaces:J}=this.extractFromKey(y[y.length-1],O),ee=J[J.length-1];let te=O.nsSeparator!==void 0?O.nsSeparator:this.options.nsSeparator;te===void 0&&(te=":");const ae=O.lng||this.language,oe=O.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(ae?.toLowerCase()==="cimode")return oe?z?{res:`${ee}${te}${G}`,usedKey:G,exactUsedKey:G,usedLng:ae,usedNS:ee,usedParams:this.getUsedParamsDetails(O)}:`${ee}${te}${G}`:z?{res:G,usedKey:G,exactUsedKey:G,usedLng:ae,usedNS:ee,usedParams:this.getUsedParamsDetails(O)}:G;const pe=this.resolve(y,O);let fe=pe?.res;const xe=pe?.usedKey||G,ye=pe?.exactUsedKey||G,_e=["[object Number]","[object Function]","[object RegExp]"],Le=O.joinArrays!==void 0?O.joinArrays:this.options.joinArrays,je=!this.i18nFormat||this.i18nFormat.handleAsObject,Ne=O.count!==void 0&&!isString$1(O.count),$e=Translator.hasDefaultValue(O),Ue=Ne?this.pluralResolver.getSuffix(ae,O.count,O):"",He=O.ordinal&&Ne?this.pluralResolver.getSuffix(ae,O.count,{ordinal:!1}):"",ze=Ne&&!O.ordinal&&O.count===0,Ke=ze&&O[`defaultValue${this.options.pluralSeparator}zero`]||O[`defaultValue${Ue}`]||O[`defaultValue${He}`]||O.defaultValue;let Je=fe;je&&!fe&&$e&&(Je=Ke);const Ze=shouldHandleAsObject(Je),rt=Object.prototype.toString.apply(Je);if(je&&Je&&Ze&&_e.indexOf(rt)<0&&!(isString$1(Le)&&Array.isArray(Je))){if(!O.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const nt=this.options.returnedObjectHandler?this.options.returnedObjectHandler(xe,Je,{...O,ns:J}):`key '${G} (${this.language})' returned an object instead of string.`;return z?(pe.res=nt,pe.usedParams=this.getUsedParamsDetails(O),pe):nt}if(U){const nt=Array.isArray(Je),at=nt?[]:{},ot=nt?ye:xe;for(const qe in Je)if(Object.prototype.hasOwnProperty.call(Je,qe)){const Xe=`${ot}${U}${qe}`;$e&&!fe?at[qe]=this.translate(Xe,{...O,defaultValue:shouldHandleAsObject(Ke)?Ke[qe]:void 0,joinArrays:!1,ns:J}):at[qe]=this.translate(Xe,{...O,joinArrays:!1,ns:J}),at[qe]===Xe&&(at[qe]=Je[qe])}fe=at}}else if(je&&isString$1(Le)&&Array.isArray(fe))fe=fe.join(Le),fe&&(fe=this.extendTranslation(fe,y,O,A));else{let nt=!1,at=!1;!this.isValidLookup(fe)&&$e&&(nt=!0,fe=Ke),this.isValidLookup(fe)||(at=!0,fe=G);const qe=(O.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&at?void 0:fe,Xe=$e&&Ke!==fe&&this.options.updateMissing;if(at||nt||Xe){if(this.logger.log(Xe?"updateKey":"missingKey",ae,ee,G,Xe?Ke:fe),U){const Ye=this.resolve(G,{...O,keySeparator:!1});Ye&&Ye.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Ge=[];const Qe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,O.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Qe&&Qe[0])for(let Ye=0;Ye<Qe.length;Ye++)Ge.push(Qe[Ye]);else this.options.saveMissingTo==="all"?Ge=this.languageUtils.toResolveHierarchy(O.lng||this.language):Ge.push(O.lng||this.language);const it=(Ye,st,ut)=>{const pt=$e&&ut!==fe?ut:qe;this.options.missingKeyHandler?this.options.missingKeyHandler(Ye,ee,st,pt,Xe,O):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(Ye,ee,st,pt,Xe,O),this.emit("missingKey",Ye,ee,st,fe)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Ne?Ge.forEach(Ye=>{const st=this.pluralResolver.getSuffixes(Ye,O);ze&&O[`defaultValue${this.options.pluralSeparator}zero`]&&st.indexOf(`${this.options.pluralSeparator}zero`)<0&&st.push(`${this.options.pluralSeparator}zero`),st.forEach(ut=>{it([Ye],G+ut,O[`defaultValue${ut}`]||Ke)})}):it(Ge,G,Ke))}fe=this.extendTranslation(fe,y,O,pe,A),at&&fe===G&&this.options.appendNamespaceToMissingKey&&(fe=`${ee}${te}${G}`),(at||nt)&&this.options.parseMissingKeyHandler&&(fe=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${ee}${te}${G}`:G,nt?fe:void 0,O))}return z?(pe.res=fe,pe.usedParams=this.getUsedParamsDetails(O),pe):fe}extendTranslation(y,T,A,O,z){if(this.i18nFormat?.parse)y=this.i18nFormat.parse(y,{...this.options.interpolation.defaultVariables,...A},A.lng||this.language||O.usedLng,O.usedNS,O.usedKey,{resolved:O});else if(!A.skipInterpolation){A.interpolation&&this.interpolator.init({...A,interpolation:{...this.options.interpolation,...A.interpolation}});const J=isString$1(y)&&(A?.interpolation?.skipOnVariables!==void 0?A.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let ee;if(J){const ae=y.match(this.interpolator.nestingRegexp);ee=ae&&ae.length}let te=A.replace&&!isString$1(A.replace)?A.replace:A;if(this.options.interpolation.defaultVariables&&(te={...this.options.interpolation.defaultVariables,...te}),y=this.interpolator.interpolate(y,te,A.lng||this.language||O.usedLng,A),J){const ae=y.match(this.interpolator.nestingRegexp),oe=ae&&ae.length;ee<oe&&(A.nest=!1)}!A.lng&&O&&O.res&&(A.lng=this.language||O.usedLng),A.nest!==!1&&(y=this.interpolator.nest(y,(...ae)=>z?.[0]===ae[0]&&!A.context?(this.logger.warn(`It seems you are nesting recursively key: ${ae[0]} in key: ${T[0]}`),null):this.translate(...ae,T),A)),A.interpolation&&this.interpolator.reset()}const U=A.postProcess||this.options.postProcess,G=isString$1(U)?[U]:U;return y!=null&&G?.length&&A.applyPostProcessor!==!1&&(y=postProcessor.handle(G,y,T,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...O,usedParams:this.getUsedParamsDetails(A)},...A}:A,this)),y}resolve(y,T={}){let A,O,z,U,G;return isString$1(y)&&(y=[y]),y.forEach(J=>{if(this.isValidLookup(A))return;const ee=this.extractFromKey(J,T),te=ee.key;O=te;let ae=ee.namespaces;this.options.fallbackNS&&(ae=ae.concat(this.options.fallbackNS));const oe=T.count!==void 0&&!isString$1(T.count),pe=oe&&!T.ordinal&&T.count===0,fe=T.context!==void 0&&(isString$1(T.context)||typeof T.context=="number")&&T.context!=="",xe=T.lngs?T.lngs:this.languageUtils.toResolveHierarchy(T.lng||this.language,T.fallbackLng);ae.forEach(ye=>{this.isValidLookup(A)||(G=ye,!checkedLoadedFor[`${xe[0]}-${ye}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(G)&&(checkedLoadedFor[`${xe[0]}-${ye}`]=!0,this.logger.warn(`key "${O}" for languages "${xe.join(", ")}" won't get resolved as namespace "${G}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),xe.forEach(_e=>{if(this.isValidLookup(A))return;U=_e;const Le=[te];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(Le,te,_e,ye,T);else{let Ne;oe&&(Ne=this.pluralResolver.getSuffix(_e,T.count,T));const $e=`${this.options.pluralSeparator}zero`,Ue=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(oe&&(T.ordinal&&Ne.indexOf(Ue)===0&&Le.push(te+Ne.replace(Ue,this.options.pluralSeparator)),Le.push(te+Ne),pe&&Le.push(te+$e)),fe){const He=`${te}${this.options.contextSeparator||"_"}${T.context}`;Le.push(He),oe&&(T.ordinal&&Ne.indexOf(Ue)===0&&Le.push(He+Ne.replace(Ue,this.options.pluralSeparator)),Le.push(He+Ne),pe&&Le.push(He+$e))}}let je;for(;je=Le.pop();)this.isValidLookup(A)||(z=je,A=this.getResource(_e,ye,je,T))}))})}),{res:A,usedKey:O,exactUsedKey:z,usedLng:U,usedNS:G}}isValidLookup(y){return y!==void 0&&!(!this.options.returnNull&&y===null)&&!(!this.options.returnEmptyString&&y==="")}getResource(y,T,A,O={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(y,T,A,O):this.resourceStore.getResource(y,T,A,O)}getUsedParamsDetails(y={}){const T=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],A=y.replace&&!isString$1(y.replace);let O=A?y.replace:y;if(A&&typeof y.count<"u"&&(O.count=y.count),this.options.interpolation.defaultVariables&&(O={...this.options.interpolation.defaultVariables,...O}),!A){O={...O};for(const z of T)delete O[z]}return O}static hasDefaultValue(y){const T="defaultValue";for(const A in y)if(Object.prototype.hasOwnProperty.call(y,A)&&T===A.substring(0,T.length)&&y[A]!==void 0)return!0;return!1}}class LanguageUtil{constructor(y){this.options=y,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}getScriptPartFromCode(y){if(y=getCleanedCode(y),!y||y.indexOf("-")<0)return null;const T=y.split("-");return T.length===2||(T.pop(),T[T.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(T.join("-"))}getLanguagePartFromCode(y){if(y=getCleanedCode(y),!y||y.indexOf("-")<0)return y;const T=y.split("-");return this.formatLanguageCode(T[0])}formatLanguageCode(y){if(isString$1(y)&&y.indexOf("-")>-1){let T;try{T=Intl.getCanonicalLocales(y)[0]}catch{}return T&&this.options.lowerCaseLng&&(T=T.toLowerCase()),T||(this.options.lowerCaseLng?y.toLowerCase():y)}return this.options.cleanCode||this.options.lowerCaseLng?y.toLowerCase():y}isSupportedCode(y){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(y=this.getLanguagePartFromCode(y)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(y)>-1}getBestMatchFromCodes(y){if(!y)return null;let T;return y.forEach(A=>{if(T)return;const O=this.formatLanguageCode(A);(!this.options.supportedLngs||this.isSupportedCode(O))&&(T=O)}),!T&&this.options.supportedLngs&&y.forEach(A=>{if(T)return;const O=this.getScriptPartFromCode(A);if(this.isSupportedCode(O))return T=O;const z=this.getLanguagePartFromCode(A);if(this.isSupportedCode(z))return T=z;T=this.options.supportedLngs.find(U=>{if(U===z)return U;if(!(U.indexOf("-")<0&&z.indexOf("-")<0)&&(U.indexOf("-")>0&&z.indexOf("-")<0&&U.substring(0,U.indexOf("-"))===z||U.indexOf(z)===0&&z.length>1))return U})}),T||(T=this.getFallbackCodes(this.options.fallbackLng)[0]),T}getFallbackCodes(y,T){if(!y)return[];if(typeof y=="function"&&(y=y(T)),isString$1(y)&&(y=[y]),Array.isArray(y))return y;if(!T)return y.default||[];let A=y[T];return A||(A=y[this.getScriptPartFromCode(T)]),A||(A=y[this.formatLanguageCode(T)]),A||(A=y[this.getLanguagePartFromCode(T)]),A||(A=y.default),A||[]}toResolveHierarchy(y,T){const A=this.getFallbackCodes((T===!1?[]:T)||this.options.fallbackLng||[],y),O=[],z=U=>{U&&(this.isSupportedCode(U)?O.push(U):this.logger.warn(`rejecting language code not found in supportedLngs: ${U}`))};return isString$1(y)&&(y.indexOf("-")>-1||y.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&z(this.formatLanguageCode(y)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&z(this.getScriptPartFromCode(y)),this.options.load!=="currentOnly"&&z(this.getLanguagePartFromCode(y))):isString$1(y)&&z(this.formatLanguageCode(y)),A.forEach(U=>{O.indexOf(U)<0&&z(this.formatLanguageCode(U))}),O}}const suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5},dummyRule={select:R=>R===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class PluralResolver{constructor(y,T={}){this.languageUtils=y,this.options=T,this.logger=baseLogger.create("pluralResolver"),this.pluralRulesCache={}}addRule(y,T){this.rules[y]=T}clearCache(){this.pluralRulesCache={}}getRule(y,T={}){const A=getCleanedCode(y==="dev"?"en":y),O=T.ordinal?"ordinal":"cardinal",z=JSON.stringify({cleanedCode:A,type:O});if(z in this.pluralRulesCache)return this.pluralRulesCache[z];let U;try{U=new Intl.PluralRules(A,{type:O})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),dummyRule;if(!y.match(/-|_/))return dummyRule;const J=this.languageUtils.getLanguagePartFromCode(y);U=this.getRule(J,T)}return this.pluralRulesCache[z]=U,U}needsPlural(y,T={}){let A=this.getRule(y,T);return A||(A=this.getRule("dev",T)),A?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(y,T,A={}){return this.getSuffixes(y,A).map(O=>`${T}${O}`)}getSuffixes(y,T={}){let A=this.getRule(y,T);return A||(A=this.getRule("dev",T)),A?A.resolvedOptions().pluralCategories.sort((O,z)=>suffixesOrder[O]-suffixesOrder[z]).map(O=>`${this.options.prepend}${T.ordinal?`ordinal${this.options.prepend}`:""}${O}`):[]}getSuffix(y,T,A={}){const O=this.getRule(y,A);return O?`${this.options.prepend}${A.ordinal?`ordinal${this.options.prepend}`:""}${O.select(T)}`:(this.logger.warn(`no plural rule found for: ${y}`),this.getSuffix("dev",T,A))}}const deepFindWithDefaults=(R,y,T,A=".",O=!0)=>{let z=getPathWithDefaults(R,y,T);return!z&&O&&isString$1(T)&&(z=deepFind(R,T,A),z===void 0&&(z=deepFind(y,T,A))),z},regexSafe=R=>R.replace(/\$/g,"$$$$");class Interpolator{constructor(y={}){this.logger=baseLogger.create("interpolator"),this.options=y,this.format=y?.interpolation?.format||(T=>T),this.init(y)}init(y={}){y.interpolation||(y.interpolation={escapeValue:!0});const{escape:T,escapeValue:A,useRawValueToEscape:O,prefix:z,prefixEscaped:U,suffix:G,suffixEscaped:J,formatSeparator:ee,unescapeSuffix:te,unescapePrefix:ae,nestingPrefix:oe,nestingPrefixEscaped:pe,nestingSuffix:fe,nestingSuffixEscaped:xe,nestingOptionsSeparator:ye,maxReplaces:_e,alwaysFormat:Le}=y.interpolation;this.escape=T!==void 0?T:escape,this.escapeValue=A!==void 0?A:!0,this.useRawValueToEscape=O!==void 0?O:!1,this.prefix=z?regexEscape(z):U||"{{",this.suffix=G?regexEscape(G):J||"}}",this.formatSeparator=ee||",",this.unescapePrefix=te?"":ae||"-",this.unescapeSuffix=this.unescapePrefix?"":te||"",this.nestingPrefix=oe?regexEscape(oe):pe||regexEscape("$t("),this.nestingSuffix=fe?regexEscape(fe):xe||regexEscape(")"),this.nestingOptionsSeparator=ye||",",this.maxReplaces=_e||1e3,this.alwaysFormat=Le!==void 0?Le:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const y=(T,A)=>T?.source===A?(T.lastIndex=0,T):new RegExp(A,"g");this.regexp=y(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=y(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=y(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(y,T,A,O){let z,U,G;const J=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},ee=pe=>{if(pe.indexOf(this.formatSeparator)<0){const _e=deepFindWithDefaults(T,J,pe,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(_e,void 0,A,{...O,...T,interpolationkey:pe}):_e}const fe=pe.split(this.formatSeparator),xe=fe.shift().trim(),ye=fe.join(this.formatSeparator).trim();return this.format(deepFindWithDefaults(T,J,xe,this.options.keySeparator,this.options.ignoreJSONStructure),ye,A,{...O,...T,interpolationkey:xe})};this.resetRegExp();const te=O?.missingInterpolationHandler||this.options.missingInterpolationHandler,ae=O?.interpolation?.skipOnVariables!==void 0?O.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:pe=>regexSafe(pe)},{regex:this.regexp,safeValue:pe=>this.escapeValue?regexSafe(this.escape(pe)):regexSafe(pe)}].forEach(pe=>{for(G=0;z=pe.regex.exec(y);){const fe=z[1].trim();if(U=ee(fe),U===void 0)if(typeof te=="function"){const ye=te(y,z,O);U=isString$1(ye)?ye:""}else if(O&&Object.prototype.hasOwnProperty.call(O,fe))U="";else if(ae){U=z[0];continue}else this.logger.warn(`missed to pass in variable ${fe} for interpolating ${y}`),U="";else!isString$1(U)&&!this.useRawValueToEscape&&(U=makeString(U));const xe=pe.safeValue(U);if(y=y.replace(z[0],xe),ae?(pe.regex.lastIndex+=U.length,pe.regex.lastIndex-=z[0].length):pe.regex.lastIndex=0,G++,G>=this.maxReplaces)break}}),y}nest(y,T,A={}){let O,z,U;const G=(J,ee)=>{const te=this.nestingOptionsSeparator;if(J.indexOf(te)<0)return J;const ae=J.split(new RegExp(`${te}[ ]*{`));let oe=`{${ae[1]}`;J=ae[0],oe=this.interpolate(oe,U);const pe=oe.match(/'/g),fe=oe.match(/"/g);((pe?.length??0)%2===0&&!fe||fe.length%2!==0)&&(oe=oe.replace(/'/g,'"'));try{U=JSON.parse(oe),ee&&(U={...ee,...U})}catch(xe){return this.logger.warn(`failed parsing options string in nesting for key ${J}`,xe),`${J}${te}${oe}`}return U.defaultValue&&U.defaultValue.indexOf(this.prefix)>-1&&delete U.defaultValue,J};for(;O=this.nestingRegexp.exec(y);){let J=[];U={...A},U=U.replace&&!isString$1(U.replace)?U.replace:U,U.applyPostProcessor=!1,delete U.defaultValue;const ee=/{.*}/.test(O[1])?O[1].lastIndexOf("}")+1:O[1].indexOf(this.formatSeparator);if(ee!==-1&&(J=O[1].slice(ee).split(this.formatSeparator).map(te=>te.trim()).filter(Boolean),O[1]=O[1].slice(0,ee)),z=T(G.call(this,O[1].trim(),U),U),z&&O[0]===y&&!isString$1(z))return z;isString$1(z)||(z=makeString(z)),z||(this.logger.warn(`missed to resolve ${O[1]} for nesting ${y}`),z=""),J.length&&(z=J.reduce((te,ae)=>this.format(te,ae,A.lng,{...A,interpolationkey:O[1].trim()}),z.trim())),y=y.replace(O[0],z),this.regexp.lastIndex=0}return y}}const parseFormatStr=R=>{let y=R.toLowerCase().trim();const T={};if(R.indexOf("(")>-1){const A=R.split("(");y=A[0].toLowerCase().trim();const O=A[1].substring(0,A[1].length-1);y==="currency"&&O.indexOf(":")<0?T.currency||(T.currency=O.trim()):y==="relativetime"&&O.indexOf(":")<0?T.range||(T.range=O.trim()):O.split(";").forEach(U=>{if(U){const[G,...J]=U.split(":"),ee=J.join(":").trim().replace(/^'+|'+$/g,""),te=G.trim();T[te]||(T[te]=ee),ee==="false"&&(T[te]=!1),ee==="true"&&(T[te]=!0),isNaN(ee)||(T[te]=parseInt(ee,10))}})}return{formatName:y,formatOptions:T}},createCachedFormatter=R=>{const y={};return(T,A,O)=>{let z=O;O&&O.interpolationkey&&O.formatParams&&O.formatParams[O.interpolationkey]&&O[O.interpolationkey]&&(z={...z,[O.interpolationkey]:void 0});const U=A+JSON.stringify(z);let G=y[U];return G||(G=R(getCleanedCode(A),O),y[U]=G),G(T)}},createNonCachedFormatter=R=>(y,T,A)=>R(getCleanedCode(T),A)(y);class Formatter{constructor(y={}){this.logger=baseLogger.create("formatter"),this.options=y,this.init(y)}init(y,T={interpolation:{}}){this.formatSeparator=T.interpolation.formatSeparator||",";const A=T.cacheInBuiltFormats?createCachedFormatter:createNonCachedFormatter;this.formats={number:A((O,z)=>{const U=new Intl.NumberFormat(O,{...z});return G=>U.format(G)}),currency:A((O,z)=>{const U=new Intl.NumberFormat(O,{...z,style:"currency"});return G=>U.format(G)}),datetime:A((O,z)=>{const U=new Intl.DateTimeFormat(O,{...z});return G=>U.format(G)}),relativetime:A((O,z)=>{const U=new Intl.RelativeTimeFormat(O,{...z});return G=>U.format(G,z.range||"day")}),list:A((O,z)=>{const U=new Intl.ListFormat(O,{...z});return G=>U.format(G)})}}add(y,T){this.formats[y.toLowerCase().trim()]=T}addCached(y,T){this.formats[y.toLowerCase().trim()]=createCachedFormatter(T)}format(y,T,A,O={}){const z=T.split(this.formatSeparator);if(z.length>1&&z[0].indexOf("(")>1&&z[0].indexOf(")")<0&&z.find(G=>G.indexOf(")")>-1)){const G=z.findIndex(J=>J.indexOf(")")>-1);z[0]=[z[0],...z.splice(1,G)].join(this.formatSeparator)}return z.reduce((G,J)=>{const{formatName:ee,formatOptions:te}=parseFormatStr(J);if(this.formats[ee]){let ae=G;try{const oe=O?.formatParams?.[O.interpolationkey]||{},pe=oe.locale||oe.lng||O.locale||O.lng||A;ae=this.formats[ee](G,pe,{...te,...O,...oe})}catch(oe){this.logger.warn(oe)}return ae}else this.logger.warn(`there was no format function for ${ee}`);return G},y)}}const removePending=(R,y)=>{R.pending[y]!==void 0&&(delete R.pending[y],R.pendingCount--)};class Connector extends EventEmitter$1{constructor(y,T,A,O={}){super(),this.backend=y,this.store=T,this.services=A,this.languageUtils=A.languageUtils,this.options=O,this.logger=baseLogger.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=O.maxParallelReads||10,this.readingCalls=0,this.maxRetries=O.maxRetries>=0?O.maxRetries:5,this.retryTimeout=O.retryTimeout>=1?O.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(A,O.backend,O)}queueLoad(y,T,A,O){const z={},U={},G={},J={};return y.forEach(ee=>{let te=!0;T.forEach(ae=>{const oe=`${ee}|${ae}`;!A.reload&&this.store.hasResourceBundle(ee,ae)?this.state[oe]=2:this.state[oe]<0||(this.state[oe]===1?U[oe]===void 0&&(U[oe]=!0):(this.state[oe]=1,te=!1,U[oe]===void 0&&(U[oe]=!0),z[oe]===void 0&&(z[oe]=!0),J[ae]===void 0&&(J[ae]=!0)))}),te||(G[ee]=!0)}),(Object.keys(z).length||Object.keys(U).length)&&this.queue.push({pending:U,pendingCount:Object.keys(U).length,loaded:{},errors:[],callback:O}),{toLoad:Object.keys(z),pending:Object.keys(U),toLoadLanguages:Object.keys(G),toLoadNamespaces:Object.keys(J)}}loaded(y,T,A){const O=y.split("|"),z=O[0],U=O[1];T&&this.emit("failedLoading",z,U,T),!T&&A&&this.store.addResourceBundle(z,U,A,void 0,void 0,{skipCopy:!0}),this.state[y]=T?-1:2,T&&A&&(this.state[y]=0);const G={};this.queue.forEach(J=>{pushPath(J.loaded,[z],U),removePending(J,y),T&&J.errors.push(T),J.pendingCount===0&&!J.done&&(Object.keys(J.loaded).forEach(ee=>{G[ee]||(G[ee]={});const te=J.loaded[ee];te.length&&te.forEach(ae=>{G[ee][ae]===void 0&&(G[ee][ae]=!0)})}),J.done=!0,J.errors.length?J.callback(J.errors):J.callback())}),this.emit("loaded",G),this.queue=this.queue.filter(J=>!J.done)}read(y,T,A,O=0,z=this.retryTimeout,U){if(!y.length)return U(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:y,ns:T,fcName:A,tried:O,wait:z,callback:U});return}this.readingCalls++;const G=(ee,te)=>{if(this.readingCalls--,this.waitingReads.length>0){const ae=this.waitingReads.shift();this.read(ae.lng,ae.ns,ae.fcName,ae.tried,ae.wait,ae.callback)}if(ee&&te&&O<this.maxRetries){setTimeout(()=>{this.read.call(this,y,T,A,O+1,z*2,U)},z);return}U(ee,te)},J=this.backend[A].bind(this.backend);if(J.length===2){try{const ee=J(y,T);ee&&typeof ee.then=="function"?ee.then(te=>G(null,te)).catch(G):G(null,ee)}catch(ee){G(ee)}return}return J(y,T,G)}prepareLoading(y,T,A={},O){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),O&&O();isString$1(y)&&(y=this.languageUtils.toResolveHierarchy(y)),isString$1(T)&&(T=[T]);const z=this.queueLoad(y,T,A,O);if(!z.toLoad.length)return z.pending.length||O(),null;z.toLoad.forEach(U=>{this.loadOne(U)})}load(y,T,A){this.prepareLoading(y,T,{},A)}reload(y,T,A){this.prepareLoading(y,T,{reload:!0},A)}loadOne(y,T=""){const A=y.split("|"),O=A[0],z=A[1];this.read(O,z,"read",void 0,void 0,(U,G)=>{U&&this.logger.warn(`${T}loading namespace ${z} for language ${O} failed`,U),!U&&G&&this.logger.log(`${T}loaded namespace ${z} for language ${O}`,G),this.loaded(y,U,G)})}saveMissing(y,T,A,O,z,U={},G=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(T)){this.logger.warn(`did not save key "${A}" as the namespace "${T}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(A==null||A==="")){if(this.backend?.create){const J={...U,isUpdate:z},ee=this.backend.create.bind(this.backend);if(ee.length<6)try{let te;ee.length===5?te=ee(y,T,A,O,J):te=ee(y,T,A,O),te&&typeof te.then=="function"?te.then(ae=>G(null,ae)).catch(G):G(null,te)}catch(te){G(te)}else ee(y,T,A,O,G,J)}!y||!y[0]||this.store.addResource(y[0],T,A,O)}}}const get$1=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:R=>{let y={};if(typeof R[1]=="object"&&(y=R[1]),isString$1(R[1])&&(y.defaultValue=R[1]),isString$1(R[2])&&(y.tDescription=R[2]),typeof R[2]=="object"||typeof R[3]=="object"){const T=R[3]||R[2];Object.keys(T).forEach(A=>{y[A]=T[A]})}return y},interpolation:{escapeValue:!0,format:R=>R,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),transformOptions=R=>(isString$1(R.ns)&&(R.ns=[R.ns]),isString$1(R.fallbackLng)&&(R.fallbackLng=[R.fallbackLng]),isString$1(R.fallbackNS)&&(R.fallbackNS=[R.fallbackNS]),R.supportedLngs?.indexOf?.("cimode")<0&&(R.supportedLngs=R.supportedLngs.concat(["cimode"])),typeof R.initImmediate=="boolean"&&(R.initAsync=R.initImmediate),R),noop$3=()=>{},bindMemberFunctions=R=>{Object.getOwnPropertyNames(Object.getPrototypeOf(R)).forEach(T=>{typeof R[T]=="function"&&(R[T]=R[T].bind(R))})};class I18n extends EventEmitter$1{constructor(y={},T){if(super(),this.options=transformOptions(y),this.services={},this.logger=baseLogger,this.modules={external:[]},bindMemberFunctions(this),T&&!this.isInitialized&&!y.isClone){if(!this.options.initAsync)return this.init(y,T),this;setTimeout(()=>{this.init(y,T)},0)}}init(y={},T){this.isInitializing=!0,typeof y=="function"&&(T=y,y={}),y.defaultNS==null&&y.ns&&(isString$1(y.ns)?y.defaultNS=y.ns:y.ns.indexOf("translation")<0&&(y.defaultNS=y.ns[0]));const A=get$1();this.options={...A,...this.options,...transformOptions(y)},this.options.interpolation={...A.interpolation,...this.options.interpolation},y.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=y.keySeparator),y.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=y.nsSeparator);const O=ee=>ee?typeof ee=="function"?new ee:ee:null;if(!this.options.isClone){this.modules.logger?baseLogger.init(O(this.modules.logger),this.options):baseLogger.init(null,this.options);let ee;this.modules.formatter?ee=this.modules.formatter:ee=Formatter;const te=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);const ae=this.services;ae.logger=baseLogger,ae.resourceStore=this.store,ae.languageUtils=te,ae.pluralResolver=new PluralResolver(te,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==A.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),ee&&(!this.options.interpolation.format||this.options.interpolation.format===A.interpolation.format)&&(ae.formatter=O(ee),ae.formatter.init&&ae.formatter.init(ae,this.options),this.options.interpolation.format=ae.formatter.format.bind(ae.formatter)),ae.interpolator=new Interpolator(this.options),ae.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},ae.backendConnector=new Connector(O(this.modules.backend),ae.resourceStore,ae,this.options),ae.backendConnector.on("*",(pe,...fe)=>{this.emit(pe,...fe)}),this.modules.languageDetector&&(ae.languageDetector=O(this.modules.languageDetector),ae.languageDetector.init&&ae.languageDetector.init(ae,this.options.detection,this.options)),this.modules.i18nFormat&&(ae.i18nFormat=O(this.modules.i18nFormat),ae.i18nFormat.init&&ae.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",(pe,...fe)=>{this.emit(pe,...fe)}),this.modules.external.forEach(pe=>{pe.init&&pe.init(this)})}if(this.format=this.options.interpolation.format,T||(T=noop$3),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const ee=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);ee.length>0&&ee[0]!=="dev"&&(this.options.lng=ee[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(ee=>{this[ee]=(...te)=>this.store[ee](...te)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(ee=>{this[ee]=(...te)=>(this.store[ee](...te),this)});const G=defer(),J=()=>{const ee=(te,ae)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),G.resolve(ae),T(te,ae)};if(this.languages&&!this.isInitialized)return ee(null,this.t.bind(this));this.changeLanguage(this.options.lng,ee)};return this.options.resources||!this.options.initAsync?J():setTimeout(J,0),G}loadResources(y,T=noop$3){let A=T;const O=isString$1(y)?y:this.language;if(typeof y=="function"&&(A=y),!this.options.resources||this.options.partialBundledLanguages){if(O?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return A();const z=[],U=G=>{if(!G||G==="cimode")return;this.services.languageUtils.toResolveHierarchy(G).forEach(ee=>{ee!=="cimode"&&z.indexOf(ee)<0&&z.push(ee)})};O?U(O):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(J=>U(J)),this.options.preload?.forEach?.(G=>U(G)),this.services.backendConnector.load(z,this.options.ns,G=>{!G&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),A(G)})}else A(null)}reloadResources(y,T,A){const O=defer();return typeof y=="function"&&(A=y,y=void 0),typeof T=="function"&&(A=T,T=void 0),y||(y=this.languages),T||(T=this.options.ns),A||(A=noop$3),this.services.backendConnector.reload(y,T,z=>{O.resolve(),A(z)}),O}use(y){if(!y)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!y.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return y.type==="backend"&&(this.modules.backend=y),(y.type==="logger"||y.log&&y.warn&&y.error)&&(this.modules.logger=y),y.type==="languageDetector"&&(this.modules.languageDetector=y),y.type==="i18nFormat"&&(this.modules.i18nFormat=y),y.type==="postProcessor"&&postProcessor.addPostProcessor(y),y.type==="formatter"&&(this.modules.formatter=y),y.type==="3rdParty"&&this.modules.external.push(y),this}setResolvedLanguage(y){if(!(!y||!this.languages)&&!(["cimode","dev"].indexOf(y)>-1)){for(let T=0;T<this.languages.length;T++){const A=this.languages[T];if(!(["cimode","dev"].indexOf(A)>-1)&&this.store.hasLanguageSomeTranslations(A)){this.resolvedLanguage=A;break}}!this.resolvedLanguage&&this.languages.indexOf(y)<0&&this.store.hasLanguageSomeTranslations(y)&&(this.resolvedLanguage=y,this.languages.unshift(y))}}changeLanguage(y,T){this.isLanguageChangingTo=y;const A=defer();this.emit("languageChanging",y);const O=G=>{this.language=G,this.languages=this.services.languageUtils.toResolveHierarchy(G),this.resolvedLanguage=void 0,this.setResolvedLanguage(G)},z=(G,J)=>{J?this.isLanguageChangingTo===y&&(O(J),this.translator.changeLanguage(J),this.isLanguageChangingTo=void 0,this.emit("languageChanged",J),this.logger.log("languageChanged",J)):this.isLanguageChangingTo=void 0,A.resolve((...ee)=>this.t(...ee)),T&&T(G,(...ee)=>this.t(...ee))},U=G=>{!y&&!G&&this.services.languageDetector&&(G=[]);const J=isString$1(G)?G:G&&G[0],ee=this.store.hasLanguageSomeTranslations(J)?J:this.services.languageUtils.getBestMatchFromCodes(isString$1(G)?[G]:G);ee&&(this.language||O(ee),this.translator.language||this.translator.changeLanguage(ee),this.services.languageDetector?.cacheUserLanguage?.(ee)),this.loadResources(ee,te=>{z(te,ee)})};return!y&&this.services.languageDetector&&!this.services.languageDetector.async?U(this.services.languageDetector.detect()):!y&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(U):this.services.languageDetector.detect(U):U(y),A}getFixedT(y,T,A){const O=(z,U,...G)=>{let J;typeof U!="object"?J=this.options.overloadTranslationOptionHandler([z,U].concat(G)):J={...U},J.lng=J.lng||O.lng,J.lngs=J.lngs||O.lngs,J.ns=J.ns||O.ns,J.keyPrefix!==""&&(J.keyPrefix=J.keyPrefix||A||O.keyPrefix);const ee=this.options.keySeparator||".";let te;return J.keyPrefix&&Array.isArray(z)?te=z.map(ae=>(typeof ae=="function"&&(ae=keysFromSelector(ae,{...this.options,...U})),`${J.keyPrefix}${ee}${ae}`)):(typeof z=="function"&&(z=keysFromSelector(z,{...this.options,...U})),te=J.keyPrefix?`${J.keyPrefix}${ee}${z}`:z),this.t(te,J)};return isString$1(y)?O.lng=y:O.lngs=y,O.ns=T,O.keyPrefix=A,O}t(...y){return this.translator?.translate(...y)}exists(...y){return this.translator?.exists(...y)}setDefaultNamespace(y){this.options.defaultNS=y}hasLoadedNamespace(y,T={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const A=T.lng||this.resolvedLanguage||this.languages[0],O=this.options?this.options.fallbackLng:!1,z=this.languages[this.languages.length-1];if(A.toLowerCase()==="cimode")return!0;const U=(G,J)=>{const ee=this.services.backendConnector.state[`${G}|${J}`];return ee===-1||ee===0||ee===2};if(T.precheck){const G=T.precheck(this,U);if(G!==void 0)return G}return!!(this.hasResourceBundle(A,y)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||U(A,y)&&(!O||U(z,y)))}loadNamespaces(y,T){const A=defer();return this.options.ns?(isString$1(y)&&(y=[y]),y.forEach(O=>{this.options.ns.indexOf(O)<0&&this.options.ns.push(O)}),this.loadResources(O=>{A.resolve(),T&&T(O)}),A):(T&&T(),Promise.resolve())}loadLanguages(y,T){const A=defer();isString$1(y)&&(y=[y]);const O=this.options.preload||[],z=y.filter(U=>O.indexOf(U)<0&&this.services.languageUtils.isSupportedCode(U));return z.length?(this.options.preload=O.concat(z),this.loadResources(U=>{A.resolve(),T&&T(U)}),A):(T&&T(),Promise.resolve())}dir(y){if(y||(y=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!y)return"rtl";try{const O=new Intl.Locale(y);if(O&&O.getTextInfo){const z=O.getTextInfo();if(z&&z.direction)return z.direction}}catch{}const T=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],A=this.services?.languageUtils||new LanguageUtil(get$1());return y.toLowerCase().indexOf("-latn")>1?"ltr":T.indexOf(A.getLanguagePartFromCode(y))>-1||y.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(y={},T){return new I18n(y,T)}cloneInstance(y={},T=noop$3){const A=y.forkResourceStore;A&&delete y.forkResourceStore;const O={...this.options,...y,isClone:!0},z=new I18n(O);if((y.debug!==void 0||y.prefix!==void 0)&&(z.logger=z.logger.clone(y)),["store","services","language"].forEach(G=>{z[G]=this[G]}),z.services={...this.services},z.services.utils={hasLoadedNamespace:z.hasLoadedNamespace.bind(z)},A){const G=Object.keys(this.store.data).reduce((J,ee)=>(J[ee]={...this.store.data[ee]},J[ee]=Object.keys(J[ee]).reduce((te,ae)=>(te[ae]={...J[ee][ae]},te),J[ee]),J),{});z.store=new ResourceStore(G,O),z.services.resourceStore=z.store}return z.translator=new Translator(z.services,O),z.translator.on("*",(G,...J)=>{z.emit(G,...J)}),z.init(O,T),z.translator.options=O,z.translator.backendConnector.services.utils={hasLoadedNamespace:z.hasLoadedNamespace.bind(z)},z}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const instance=I18n.createInstance();instance.createInstance=I18n.createInstance;instance.createInstance;instance.dir;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;var react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var R=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),U=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ee=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),oe=Symbol.iterator;function pe(Ye){return Ye===null||typeof Ye!="object"?null:(Ye=oe&&Ye[oe]||Ye["@@iterator"],typeof Ye=="function"?Ye:null)}var fe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xe=Object.assign,ye={};function _e(Ye,st,ut){this.props=Ye,this.context=st,this.refs=ye,this.updater=ut||fe}_e.prototype.isReactComponent={},_e.prototype.setState=function(Ye,st){if(typeof Ye!="object"&&typeof Ye!="function"&&Ye!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Ye,st,"setState")},_e.prototype.forceUpdate=function(Ye){this.updater.enqueueForceUpdate(this,Ye,"forceUpdate")};function Le(){}Le.prototype=_e.prototype;function je(Ye,st,ut){this.props=Ye,this.context=st,this.refs=ye,this.updater=ut||fe}var Ne=je.prototype=new Le;Ne.constructor=je,xe(Ne,_e.prototype),Ne.isPureReactComponent=!0;var $e=Array.isArray;function Ue(){}var He={H:null,A:null,T:null,S:null},ze=Object.prototype.hasOwnProperty;function Ke(Ye,st,ut){var pt=ut.ref;return{$$typeof:R,type:Ye,key:st,ref:pt!==void 0?pt:null,props:ut}}function Je(Ye,st){return Ke(Ye.type,st,Ye.props)}function Ze(Ye){return typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===R}function rt(Ye){var st={"=":"=0",":":"=2"};return"$"+Ye.replace(/[=:]/g,function(ut){return st[ut]})}var nt=/\/+/g;function at(Ye,st){return typeof Ye=="object"&&Ye!==null&&Ye.key!=null?rt(""+Ye.key):st.toString(36)}function ot(Ye){switch(Ye.status){case"fulfilled":return Ye.value;case"rejected":throw Ye.reason;default:switch(typeof Ye.status=="string"?Ye.then(Ue,Ue):(Ye.status="pending",Ye.then(function(st){Ye.status==="pending"&&(Ye.status="fulfilled",Ye.value=st)},function(st){Ye.status==="pending"&&(Ye.status="rejected",Ye.reason=st)})),Ye.status){case"fulfilled":return Ye.value;case"rejected":throw Ye.reason}}throw Ye}function qe(Ye,st,ut,pt,yt){var Et=typeof Ye;(Et==="undefined"||Et==="boolean")&&(Ye=null);var jt=!1;if(Ye===null)jt=!0;else switch(Et){case"bigint":case"string":case"number":jt=!0;break;case"object":switch(Ye.$$typeof){case R:case y:jt=!0;break;case te:return jt=Ye._init,qe(jt(Ye._payload),st,ut,pt,yt)}}if(jt)return yt=yt(Ye),jt=pt===""?"."+at(Ye,0):pt,$e(yt)?(ut="",jt!=null&&(ut=jt.replace(nt,"$&/")+"/"),qe(yt,st,ut,"",function(_t){return _t})):yt!=null&&(Ze(yt)&&(yt=Je(yt,ut+(yt.key==null||Ye&&Ye.key===yt.key?"":(""+yt.key).replace(nt,"$&/")+"/")+jt)),st.push(yt)),1;jt=0;var St=pt===""?".":pt+":";if($e(Ye))for(var Ct=0;Ct<Ye.length;Ct++)pt=Ye[Ct],Et=St+at(pt,Ct),jt+=qe(pt,st,ut,Et,yt);else if(Ct=pe(Ye),typeof Ct=="function")for(Ye=Ct.call(Ye),Ct=0;!(pt=Ye.next()).done;)pt=pt.value,Et=St+at(pt,Ct++),jt+=qe(pt,st,ut,Et,yt);else if(Et==="object"){if(typeof Ye.then=="function")return qe(ot(Ye),st,ut,pt,yt);throw st=String(Ye),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(Ye).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return jt}function Xe(Ye,st,ut){if(Ye==null)return Ye;var pt=[],yt=0;return qe(Ye,pt,"","",function(Et){return st.call(ut,Et,yt++)}),pt}function Ge(Ye){if(Ye._status===-1){var st=Ye._result;st=st(),st.then(function(ut){(Ye._status===0||Ye._status===-1)&&(Ye._status=1,Ye._result=ut)},function(ut){(Ye._status===0||Ye._status===-1)&&(Ye._status=2,Ye._result=ut)}),Ye._status===-1&&(Ye._status=0,Ye._result=st)}if(Ye._status===1)return Ye._result.default;throw Ye._result}var Qe=typeof reportError=="function"?reportError:function(Ye){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Ye=="object"&&Ye!==null&&typeof Ye.message=="string"?String(Ye.message):String(Ye),error:Ye});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Ye);return}console.error(Ye)},it={map:Xe,forEach:function(Ye,st,ut){Xe(Ye,function(){st.apply(this,arguments)},ut)},count:function(Ye){var st=0;return Xe(Ye,function(){st++}),st},toArray:function(Ye){return Xe(Ye,function(st){return st})||[]},only:function(Ye){if(!Ze(Ye))throw Error("React.Children.only expected to receive a single React element child.");return Ye}};return react_production.Activity=ae,react_production.Children=it,react_production.Component=_e,react_production.Fragment=T,react_production.Profiler=O,react_production.PureComponent=je,react_production.StrictMode=A,react_production.Suspense=J,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=He,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(Ye){return He.H.useMemoCache(Ye)}},react_production.cache=function(Ye){return function(){return Ye.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(Ye,st,ut){if(Ye==null)throw Error("The argument must be a React element, but you passed "+Ye+".");var pt=xe({},Ye.props),yt=Ye.key;if(st!=null)for(Et in st.key!==void 0&&(yt=""+st.key),st)!ze.call(st,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&st.ref===void 0||(pt[Et]=st[Et]);var Et=arguments.length-2;if(Et===1)pt.children=ut;else if(1<Et){for(var jt=Array(Et),St=0;St<Et;St++)jt[St]=arguments[St+2];pt.children=jt}return Ke(Ye.type,yt,pt)},react_production.createContext=function(Ye){return Ye={$$typeof:U,_currentValue:Ye,_currentValue2:Ye,_threadCount:0,Provider:null,Consumer:null},Ye.Provider=Ye,Ye.Consumer={$$typeof:z,_context:Ye},Ye},react_production.createElement=function(Ye,st,ut){var pt,yt={},Et=null;if(st!=null)for(pt in st.key!==void 0&&(Et=""+st.key),st)ze.call(st,pt)&&pt!=="key"&&pt!=="__self"&&pt!=="__source"&&(yt[pt]=st[pt]);var jt=arguments.length-2;if(jt===1)yt.children=ut;else if(1<jt){for(var St=Array(jt),Ct=0;Ct<jt;Ct++)St[Ct]=arguments[Ct+2];yt.children=St}if(Ye&&Ye.defaultProps)for(pt in jt=Ye.defaultProps,jt)yt[pt]===void 0&&(yt[pt]=jt[pt]);return Ke(Ye,Et,yt)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(Ye){return{$$typeof:G,render:Ye}},react_production.isValidElement=Ze,react_production.lazy=function(Ye){return{$$typeof:te,_payload:{_status:-1,_result:Ye},_init:Ge}},react_production.memo=function(Ye,st){return{$$typeof:ee,type:Ye,compare:st===void 0?null:st}},react_production.startTransition=function(Ye){var st=He.T,ut={};He.T=ut;try{var pt=Ye(),yt=He.S;yt!==null&&yt(ut,pt),typeof pt=="object"&&pt!==null&&typeof pt.then=="function"&&pt.then(Ue,Qe)}catch(Et){Qe(Et)}finally{st!==null&&ut.types!==null&&(st.types=ut.types),He.T=st}},react_production.unstable_useCacheRefresh=function(){return He.H.useCacheRefresh()},react_production.use=function(Ye){return He.H.use(Ye)},react_production.useActionState=function(Ye,st,ut){return He.H.useActionState(Ye,st,ut)},react_production.useCallback=function(Ye,st){return He.H.useCallback(Ye,st)},react_production.useContext=function(Ye){return He.H.useContext(Ye)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(Ye,st){return He.H.useDeferredValue(Ye,st)},react_production.useEffect=function(Ye,st){return He.H.useEffect(Ye,st)},react_production.useEffectEvent=function(Ye){return He.H.useEffectEvent(Ye)},react_production.useId=function(){return He.H.useId()},react_production.useImperativeHandle=function(Ye,st,ut){return He.H.useImperativeHandle(Ye,st,ut)},react_production.useInsertionEffect=function(Ye,st){return He.H.useInsertionEffect(Ye,st)},react_production.useLayoutEffect=function(Ye,st){return He.H.useLayoutEffect(Ye,st)},react_production.useMemo=function(Ye,st){return He.H.useMemo(Ye,st)},react_production.useOptimistic=function(Ye,st){return He.H.useOptimistic(Ye,st)},react_production.useReducer=function(Ye,st,ut){return He.H.useReducer(Ye,st,ut)},react_production.useRef=function(Ye){return He.H.useRef(Ye)},react_production.useState=function(Ye){return He.H.useState(Ye)},react_production.useSyncExternalStore=function(Ye,st,ut){return He.H.useSyncExternalStore(Ye,st,ut)},react_production.useTransition=function(){return He.H.useTransition()},react_production.version="19.2.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),warn$1=(R,y,T,A)=>{const O=[T,{code:y,...A||{}}];if(R?.services?.logger?.forward)return R.services.logger.forward(O,"warn","react-i18next::",!0);isString(O[0])&&(O[0]=`react-i18next:: ${O[0]}`),R?.services?.logger?.warn?R.services.logger.warn(...O):console?.warn&&console.warn(...O)},alreadyWarned$1={},warnOnce=(R,y,T,A)=>{isString(T)&&alreadyWarned$1[T]||(isString(T)&&(alreadyWarned$1[T]=new Date),warn$1(R,y,T,A))},loadedClb=(R,y)=>()=>{if(R.isInitialized)y();else{const T=()=>{setTimeout(()=>{R.off("initialized",T)},0),y()};R.on("initialized",T)}},loadNamespaces=(R,y,T)=>{R.loadNamespaces(y,loadedClb(R,T))},loadLanguages=(R,y,T,A)=>{if(isString(T)&&(T=[T]),R.options.preload&&R.options.preload.indexOf(y)>-1)return loadNamespaces(R,T,A);T.forEach(O=>{R.options.ns.indexOf(O)<0&&R.options.ns.push(O)}),R.loadLanguages(y,loadedClb(R,A))},hasLoadedNamespace=(R,y,T={})=>!y.languages||!y.languages.length?(warnOnce(y,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:y.languages}),!0):y.hasLoadedNamespace(R,{lng:T.lng,precheck:(A,O)=>{if(T.bindI18n&&T.bindI18n.indexOf("languageChanging")>-1&&A.services.backendConnector.backend&&A.isLanguageChangingTo&&!O(A.isLanguageChangingTo,R))return!1}}),isString=R=>typeof R=="string",isObject$1=R=>typeof R=="object"&&R!==null,matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=R=>htmlEntities[R],unescape$1=R=>R.replace(matchHtmlEntity,unescapeHtmlEntity);let defaultOptions={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:unescape$1};const setDefaults=(R={})=>{defaultOptions={...defaultOptions,...R}},getDefaults$2=()=>defaultOptions;let i18nInstance;const setI18n=R=>{i18nInstance=R},getI18n=()=>i18nInstance,initReactI18next={type:"3rdParty",init(R){setDefaults(R.options.react),setI18n(R)}},I18nContext=reactExports.createContext();class ReportNamespaces{constructor(){this.usedNamespaces={}}addUsedNamespaces(y){y.forEach(T=>{this.usedNamespaces[T]||(this.usedNamespaces[T]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var shim={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var R=requireReact();function y(ae,oe){return ae===oe&&(ae!==0||1/ae===1/oe)||ae!==ae&&oe!==oe}var T=typeof Object.is=="function"?Object.is:y,A=R.useState,O=R.useEffect,z=R.useLayoutEffect,U=R.useDebugValue;function G(ae,oe){var pe=oe(),fe=A({inst:{value:pe,getSnapshot:oe}}),xe=fe[0].inst,ye=fe[1];return z(function(){xe.value=pe,xe.getSnapshot=oe,J(xe)&&ye({inst:xe})},[ae,pe,oe]),O(function(){return J(xe)&&ye({inst:xe}),ae(function(){J(xe)&&ye({inst:xe})})},[ae]),U(pe),pe}function J(ae){var oe=ae.getSnapshot;ae=ae.value;try{var pe=oe();return!T(ae,pe)}catch{return!0}}function ee(ae,oe){return oe()}var te=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ee:G;return useSyncExternalStoreShim_production.useSyncExternalStore=R.useSyncExternalStore!==void 0?R.useSyncExternalStore:te,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}var shimExports=requireShim();const notReadyT=(R,y)=>isString(y)?y:isObject$1(y)&&isString(y.defaultValue)?y.defaultValue:Array.isArray(R)?R[R.length-1]:R,notReadySnapshot={t:notReadyT,ready:!1},dummySubscribe=()=>()=>{},useTranslation=(R,y={})=>{const{i18n:T}=y,{i18n:A,defaultNS:O}=reactExports.useContext(I18nContext)||{},z=T||A||getI18n();z&&!z.reportNamespaces&&(z.reportNamespaces=new ReportNamespaces),z||warnOnce(z,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const U=reactExports.useMemo(()=>({...getDefaults$2(),...z?.options?.react,...y}),[z,y]),{useSuspense:G,keyPrefix:J}=U,ee=reactExports.useMemo(()=>{const Ne=R||O||z?.options?.defaultNS;return isString(Ne)?[Ne]:Ne||["translation"]},[R,O,z]);z?.reportNamespaces?.addUsedNamespaces?.(ee);const te=reactExports.useRef(0),ae=reactExports.useCallback(Ne=>{if(!z)return dummySubscribe;const{bindI18n:$e,bindI18nStore:Ue}=U,He=()=>{te.current+=1,Ne()};return $e&&z.on($e,He),Ue&&z.store.on(Ue,He),()=>{$e&&$e.split(" ").forEach(ze=>z.off(ze,He)),Ue&&Ue.split(" ").forEach(ze=>z.store.off(ze,He))}},[z,U]),oe=reactExports.useRef(),pe=reactExports.useCallback(()=>{if(!z)return notReadySnapshot;const Ne=!!(z.isInitialized||z.initializedStoreOnce)&&ee.every(Je=>hasLoadedNamespace(Je,z,U)),$e=y.lng||z.language,Ue=te.current,He=oe.current;if(He&&He.ready===Ne&&He.lng===$e&&He.keyPrefix===J&&He.revision===Ue)return He;const Ke={t:z.getFixedT($e,U.nsMode==="fallback"?ee:ee[0],J),ready:Ne,lng:$e,keyPrefix:J,revision:Ue};return oe.current=Ke,Ke},[z,ee,J,U,y.lng]),[fe,xe]=reactExports.useState(0),{t:ye,ready:_e}=shimExports.useSyncExternalStore(ae,pe,pe);reactExports.useEffect(()=>{if(z&&!_e&&!G){const Ne=()=>xe($e=>$e+1);y.lng?loadLanguages(z,y.lng,ee,Ne):loadNamespaces(z,ee,Ne)}},[z,y.lng,ee,_e,G,fe]);const Le=z||{},je=reactExports.useMemo(()=>{const Ne=[ye,Le,_e];return Ne.t=ye,Ne.i18n=Le,Ne.ready=_e,Ne},[ye,Le,_e]);if(z&&G&&!_e)throw new Promise(Ne=>{const $e=()=>Ne();y.lng?loadLanguages(z,y.lng,ee,$e):loadNamespaces(z,ee,$e)});return je},{slice,forEach:forEach$1}=[];function defaults$1(R){return forEach$1.call(slice.call(arguments,1),y=>{if(y)for(const T in y)R[T]===void 0&&(R[T]=y[T])}),R}function hasXSS(R){return typeof R!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(T=>T.test(R))}const fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,serializeCookie=function(R,y){const A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},O=encodeURIComponent(y);let z=`${R}=${O}`;if(A.maxAge>0){const U=A.maxAge-0;if(Number.isNaN(U))throw new Error("maxAge should be a Number");z+=`; Max-Age=${Math.floor(U)}`}if(A.domain){if(!fieldContentRegExp.test(A.domain))throw new TypeError("option domain is invalid");z+=`; Domain=${A.domain}`}if(A.path){if(!fieldContentRegExp.test(A.path))throw new TypeError("option path is invalid");z+=`; Path=${A.path}`}if(A.expires){if(typeof A.expires.toUTCString!="function")throw new TypeError("option expires is invalid");z+=`; Expires=${A.expires.toUTCString()}`}if(A.httpOnly&&(z+="; HttpOnly"),A.secure&&(z+="; Secure"),A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"strict":z+="; SameSite=Strict";break;case"none":z+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return A.partitioned&&(z+="; Partitioned"),z},cookie={create(R,y,T,A){let O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};T&&(O.expires=new Date,O.expires.setTime(O.expires.getTime()+T*60*1e3)),A&&(O.domain=A),document.cookie=serializeCookie(R,y,O)},read(R){const y=`${R}=`,T=document.cookie.split(";");for(let A=0;A<T.length;A++){let O=T[A];for(;O.charAt(0)===" ";)O=O.substring(1,O.length);if(O.indexOf(y)===0)return O.substring(y.length,O.length)}return null},remove(R,y){this.create(R,"",-1,y)}};var cookie$1={name:"cookie",lookup(R){let{lookupCookie:y}=R;if(y&&typeof document<"u")return cookie.read(y)||void 0},cacheUserLanguage(R,y){let{lookupCookie:T,cookieMinutes:A,cookieDomain:O,cookieOptions:z}=y;T&&typeof document<"u"&&cookie.create(T,R,A,O,z)}},querystring={name:"querystring",lookup(R){let{lookupQuerystring:y}=R,T;if(typeof window<"u"){let{search:A}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(A=window.location.hash.substring(window.location.hash.indexOf("?")));const z=A.substring(1).split("&");for(let U=0;U<z.length;U++){const G=z[U].indexOf("=");G>0&&z[U].substring(0,G)===y&&(T=z[U].substring(G+1))}}return T}},hash={name:"hash",lookup(R){let{lookupHash:y,lookupFromHashIndex:T}=R,A;if(typeof window<"u"){const{hash:O}=window.location;if(O&&O.length>2){const z=O.substring(1);if(y){const U=z.split("&");for(let G=0;G<U.length;G++){const J=U[G].indexOf("=");J>0&&U[G].substring(0,J)===y&&(A=U[G].substring(J+1))}}if(A)return A;if(!A&&T>-1){const U=O.match(/\/([a-zA-Z-]*)/g);return Array.isArray(U)?U[typeof T=="number"?T:0]?.replace("/",""):void 0}}}return A}};let hasLocalStorageSupport=null;const localStorageAvailable=()=>{if(hasLocalStorageSupport!==null)return hasLocalStorageSupport;try{if(hasLocalStorageSupport=typeof window<"u"&&window.localStorage!==null,!hasLocalStorageSupport)return!1;const R="i18next.translate.boo";window.localStorage.setItem(R,"foo"),window.localStorage.removeItem(R)}catch{hasLocalStorageSupport=!1}return hasLocalStorageSupport};var localStorage$1={name:"localStorage",lookup(R){let{lookupLocalStorage:y}=R;if(y&&localStorageAvailable())return window.localStorage.getItem(y)||void 0},cacheUserLanguage(R,y){let{lookupLocalStorage:T}=y;T&&localStorageAvailable()&&window.localStorage.setItem(T,R)}};let hasSessionStorageSupport=null;const sessionStorageAvailable=()=>{if(hasSessionStorageSupport!==null)return hasSessionStorageSupport;try{if(hasSessionStorageSupport=typeof window<"u"&&window.sessionStorage!==null,!hasSessionStorageSupport)return!1;const R="i18next.translate.boo";window.sessionStorage.setItem(R,"foo"),window.sessionStorage.removeItem(R)}catch{hasSessionStorageSupport=!1}return hasSessionStorageSupport};var sessionStorage$1={name:"sessionStorage",lookup(R){let{lookupSessionStorage:y}=R;if(y&&sessionStorageAvailable())return window.sessionStorage.getItem(y)||void 0},cacheUserLanguage(R,y){let{lookupSessionStorage:T}=y;T&&sessionStorageAvailable()&&window.sessionStorage.setItem(T,R)}},navigator$1={name:"navigator",lookup(R){const y=[];if(typeof navigator<"u"){const{languages:T,userLanguage:A,language:O}=navigator;if(T)for(let z=0;z<T.length;z++)y.push(T[z]);A&&y.push(A),O&&y.push(O)}return y.length>0?y:void 0}},htmlTag={name:"htmlTag",lookup(R){let{htmlTag:y}=R,T;const A=y||(typeof document<"u"?document.documentElement:null);return A&&typeof A.getAttribute=="function"&&(T=A.getAttribute("lang")),T}},path={name:"path",lookup(R){let{lookupFromPathIndex:y}=R;if(typeof window>"u")return;const T=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(T)?T[typeof y=="number"?y:0]?.replace("/",""):void 0}},subdomain={name:"subdomain",lookup(R){let{lookupFromSubdomainIndex:y}=R;const T=typeof y=="number"?y+1:1,A=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(A)return A[T]}};let canCookies=!1;try{document.cookie,canCookies=!0}catch{}const order=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];canCookies||order.splice(1,1);const getDefaults$1=()=>({order,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:R=>R});class Browser{constructor(y){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(y,T)}init(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=y,this.options=defaults$1(T,this.options||{},getDefaults$1()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=O=>O.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=A,this.addDetector(cookie$1),this.addDetector(querystring),this.addDetector(localStorage$1),this.addDetector(sessionStorage$1),this.addDetector(navigator$1),this.addDetector(htmlTag),this.addDetector(path),this.addDetector(subdomain),this.addDetector(hash)}addDetector(y){return this.detectors[y.name]=y,this}detect(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,T=[];return y.forEach(A=>{if(this.detectors[A]){let O=this.detectors[A].lookup(this.options);O&&typeof O=="string"&&(O=[O]),O&&(T=T.concat(O))}}),T=T.filter(A=>A!=null&&!hasXSS(A)).map(A=>this.options.convertDetectedLanguage(A)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?T:T.length>0?T[0]:null}cacheUserLanguage(y){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;T&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(y)>-1||T.forEach(A=>{this.detectors[A]&&this.detectors[A].cacheUserLanguage(y,this.options)}))}}Browser.type="languageDetector";function _typeof$2(R){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},_typeof$2(R)}function hasXMLHttpRequest(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":_typeof$2(XMLHttpRequest))==="object"}function isPromise(R){return!!R&&typeof R.then=="function"}function makePromise(R){return isPromise(R)?R:Promise.resolve(R)}const scriptRel="modulepreload",assetsURL=function(R){return"/build/"+R},seen={},__vitePreload=function(y,T,A){let O=Promise.resolve();if(T&&T.length>0){let J=function(ee){return Promise.all(ee.map(te=>Promise.resolve(te).then(ae=>({status:"fulfilled",value:ae}),ae=>({status:"rejected",reason:ae}))))};document.getElementsByTagName("link");const U=document.querySelector("meta[property=csp-nonce]"),G=U?.nonce||U?.getAttribute("nonce");O=J(T.map(ee=>{if(ee=assetsURL(ee),ee in seen)return;seen[ee]=!0;const te=ee.endsWith(".css"),ae=te?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${ee}"]${ae}`))return;const oe=document.createElement("link");if(oe.rel=te?"stylesheet":scriptRel,te||(oe.as="script"),oe.crossOrigin="",oe.href=ee,G&&oe.setAttribute("nonce",G),document.head.appendChild(oe),te)return new Promise((pe,fe)=>{oe.addEventListener("load",pe),oe.addEventListener("error",()=>fe(new Error(`Unable to preload CSS for ${ee}`)))})}))}function z(U){const G=new Event("vite:preloadError",{cancelable:!0});if(G.payload=U,window.dispatchEvent(G),!G.defaultPrevented)throw U}return O.then(U=>{for(const G of U||[])G.status==="rejected"&&z(G.reason);return y().catch(z)})};function ownKeys$2(R,y){var T=Object.keys(R);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(R);y&&(A=A.filter(function(O){return Object.getOwnPropertyDescriptor(R,O).enumerable})),T.push.apply(T,A)}return T}function _objectSpread$1(R){for(var y=1;y<arguments.length;y++){var T=arguments[y]!=null?arguments[y]:{};y%2?ownKeys$2(Object(T),!0).forEach(function(A){_defineProperty$2(R,A,T[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(T)):ownKeys$2(Object(T)).forEach(function(A){Object.defineProperty(R,A,Object.getOwnPropertyDescriptor(T,A))})}return R}function _defineProperty$2(R,y,T){return(y=_toPropertyKey$2(y))in R?Object.defineProperty(R,y,{value:T,enumerable:!0,configurable:!0,writable:!0}):R[y]=T,R}function _toPropertyKey$2(R){var y=_toPrimitive$2(R,"string");return _typeof$1(y)=="symbol"?y:y+""}function _toPrimitive$2(R,y){if(_typeof$1(R)!="object"||!R)return R;var T=R[Symbol.toPrimitive];if(T!==void 0){var A=T.call(R,y);if(_typeof$1(A)!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(R)}function _typeof$1(R){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},_typeof$1(R)}var fetchApi=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?fetchApi=global.fetch:typeof window<"u"&&window.fetch&&(fetchApi=window.fetch);var XmlHttpRequestApi;hasXMLHttpRequest()&&(typeof global<"u"&&global.XMLHttpRequest?XmlHttpRequestApi=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(XmlHttpRequestApi=window.XMLHttpRequest));var ActiveXObjectApi;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?ActiveXObjectApi=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(ActiveXObjectApi=window.ActiveXObject));typeof fetchApi!="function"&&(fetchApi=void 0);if(!fetchApi&&!XmlHttpRequestApi&&!ActiveXObjectApi)try{__vitePreload(()=>import("./browser-ponyfill-C7sL68q2.js").then(R=>R.b),[]).then(function(R){fetchApi=R.default}).catch(function(){})}catch{}var addQueryString=function(y,T){if(T&&_typeof$1(T)==="object"){var A="";for(var O in T)A+="&"+encodeURIComponent(O)+"="+encodeURIComponent(T[O]);if(!A)return y;y=y+(y.indexOf("?")!==-1?"&":"?")+A.slice(1)}return y},fetchIt=function(y,T,A,O){var z=function(J){if(!J.ok)return A(J.statusText||"Error",{status:J.status});J.text().then(function(ee){A(null,{status:J.status,data:ee})}).catch(A)};if(O){var U=O(y,T);if(U instanceof Promise){U.then(z).catch(A);return}}typeof fetch=="function"?fetch(y,T).then(z).catch(A):fetchApi(y,T).then(z).catch(A)},omitFetchOptions=!1,requestWithFetch=function(y,T,A,O){y.queryStringParams&&(T=addQueryString(T,y.queryStringParams));var z=_objectSpread$1({},typeof y.customHeaders=="function"?y.customHeaders():y.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(z["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),A&&(z["Content-Type"]="application/json");var U=typeof y.requestOptions=="function"?y.requestOptions(A):y.requestOptions,G=_objectSpread$1({method:A?"POST":"GET",body:A?y.stringify(A):void 0,headers:z},omitFetchOptions?{}:U),J=typeof y.alternateFetch=="function"&&y.alternateFetch.length>=1?y.alternateFetch:void 0;try{fetchIt(T,G,O,J)}catch(ee){if(!U||Object.keys(U).length===0||!ee.message||ee.message.indexOf("not implemented")<0)return O(ee);try{Object.keys(U).forEach(function(te){delete G[te]}),fetchIt(T,G,O,J),omitFetchOptions=!0}catch(te){O(te)}}},requestWithXmlHttpRequest=function(y,T,A,O){A&&_typeof$1(A)==="object"&&(A=addQueryString("",A).slice(1)),y.queryStringParams&&(T=addQueryString(T,y.queryStringParams));try{var z=XmlHttpRequestApi?new XmlHttpRequestApi:new ActiveXObjectApi("MSXML2.XMLHTTP.3.0");z.open(A?"POST":"GET",T,1),y.crossDomain||z.setRequestHeader("X-Requested-With","XMLHttpRequest"),z.withCredentials=!!y.withCredentials,A&&z.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),z.overrideMimeType&&z.overrideMimeType("application/json");var U=y.customHeaders;if(U=typeof U=="function"?U():U,U)for(var G in U)z.setRequestHeader(G,U[G]);z.onreadystatechange=function(){z.readyState>3&&O(z.status>=400?z.statusText:null,{status:z.status,data:z.responseText})},z.send(A)}catch(J){console&&console.log(J)}},request=function(y,T,A,O){if(typeof A=="function"&&(O=A,A=void 0),O=O||function(){},fetchApi&&T.indexOf("file:")!==0)return requestWithFetch(y,T,A,O);if(hasXMLHttpRequest()||typeof ActiveXObject=="function")return requestWithXmlHttpRequest(y,T,A,O);O(new Error("No fetch and no xhr implementation found!"))};function _typeof(R){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},_typeof(R)}function ownKeys$1(R,y){var T=Object.keys(R);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(R);y&&(A=A.filter(function(O){return Object.getOwnPropertyDescriptor(R,O).enumerable})),T.push.apply(T,A)}return T}function _objectSpread(R){for(var y=1;y<arguments.length;y++){var T=arguments[y]!=null?arguments[y]:{};y%2?ownKeys$1(Object(T),!0).forEach(function(A){_defineProperty$1(R,A,T[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(T)):ownKeys$1(Object(T)).forEach(function(A){Object.defineProperty(R,A,Object.getOwnPropertyDescriptor(T,A))})}return R}function _classCallCheck(R,y){if(!(R instanceof y))throw new TypeError("Cannot call a class as a function")}function _defineProperties(R,y){for(var T=0;T<y.length;T++){var A=y[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(R,_toPropertyKey$1(A.key),A)}}function _createClass(R,y,T){return y&&_defineProperties(R.prototype,y),Object.defineProperty(R,"prototype",{writable:!1}),R}function _defineProperty$1(R,y,T){return(y=_toPropertyKey$1(y))in R?Object.defineProperty(R,y,{value:T,enumerable:!0,configurable:!0,writable:!0}):R[y]=T,R}function _toPropertyKey$1(R){var y=_toPrimitive$1(R,"string");return _typeof(y)=="symbol"?y:y+""}function _toPrimitive$1(R,y){if(_typeof(R)!="object"||!R)return R;var T=R[Symbol.toPrimitive];if(T!==void 0){var A=T.call(R,y);if(_typeof(A)!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(R)}var getDefaults=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(T){return JSON.parse(T)},stringify:JSON.stringify,parsePayload:function(T,A,O){return _defineProperty$1({},A,O||"")},parseLoadPayload:function(T,A){},request,reloadInterval:typeof window<"u"?!1:3600*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Backend=(function(){function R(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_classCallCheck(this,R),this.services=y,this.options=T,this.allOptions=A,this.type="backend",this.init(y,T,A)}return _createClass(R,[{key:"init",value:function(T){var A=this,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=T,this.options=_objectSpread(_objectSpread(_objectSpread({},getDefaults()),this.options||{}),O),this.allOptions=z,this.services&&this.options.reloadInterval){var U=setInterval(function(){return A.reload()},this.options.reloadInterval);_typeof(U)==="object"&&typeof U.unref=="function"&&U.unref()}}},{key:"readMulti",value:function(T,A,O){this._readAny(T,T,A,A,O)}},{key:"read",value:function(T,A,O){this._readAny([T],T,[A],A,O)}},{key:"_readAny",value:function(T,A,O,z,U){var G=this,J=this.options.loadPath;typeof this.options.loadPath=="function"&&(J=this.options.loadPath(T,O)),J=makePromise(J),J.then(function(ee){if(!ee)return U(null,{});var te=G.services.interpolator.interpolate(ee,{lng:T.join("+"),ns:O.join("+")});G.loadUrl(te,U,A,z)})}},{key:"loadUrl",value:function(T,A,O,z){var U=this,G=typeof O=="string"?[O]:O,J=typeof z=="string"?[z]:z,ee=this.options.parseLoadPayload(G,J);this.options.request(this.options,T,ee,function(te,ae){if(ae&&(ae.status>=500&&ae.status<600||!ae.status))return A("failed loading "+T+"; status code: "+ae.status,!0);if(ae&&ae.status>=400&&ae.status<500)return A("failed loading "+T+"; status code: "+ae.status,!1);if(!ae&&te&&te.message){var oe=te.message.toLowerCase(),pe=["failed","fetch","network","load"].find(function(ye){return oe.indexOf(ye)>-1});if(pe)return A("failed loading "+T+": "+te.message,!0)}if(te)return A(te,!1);var fe,xe;try{typeof ae.data=="string"?fe=U.options.parse(ae.data,O,z):fe=ae.data}catch{xe="failed parsing "+T+" to json"}if(xe)return A(xe,!1);A(null,fe)})}},{key:"create",value:function(T,A,O,z,U){var G=this;if(this.options.addPath){typeof T=="string"&&(T=[T]);var J=this.options.parsePayload(A,O,z),ee=0,te=[],ae=[];T.forEach(function(oe){var pe=G.options.addPath;typeof G.options.addPath=="function"&&(pe=G.options.addPath(oe,A));var fe=G.services.interpolator.interpolate(pe,{lng:oe,ns:A});G.options.request(G.options,fe,J,function(xe,ye){ee+=1,te.push(xe),ae.push(ye),ee===T.length&&typeof U=="function"&&U(te,ae)})})}}},{key:"reload",value:function(){var T=this,A=this.services,O=A.backendConnector,z=A.languageUtils,U=A.logger,G=O.language;if(!(G&&G.toLowerCase()==="cimode")){var J=[],ee=function(ae){var oe=z.toResolveHierarchy(ae);oe.forEach(function(pe){J.indexOf(pe)<0&&J.push(pe)})};ee(G),this.allOptions.preload&&this.allOptions.preload.forEach(function(te){return ee(te)}),J.forEach(function(te){T.allOptions.ns.forEach(function(ae){O.read(te,ae,"read",null,null,function(oe,pe){oe&&U.warn("loading namespace ".concat(ae," for language ").concat(te," failed"),oe),!oe&&pe&&U.log("loaded namespace ".concat(ae," for language ").concat(te),pe),O.loaded("".concat(te,"|").concat(ae),oe,pe)})})})}}}])})();Backend.type="backend";instance.use(Backend).use(Browser).use(initReactI18next).init({fallbackLng:"en",debug:!1,supportedLngs:["en","ar"],ns:["common","admin"],defaultNS:"common",backend:{loadPath:"/locales/{{lng}}/{{ns}}.json?v="+Date.now()},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"},interpolation:{escapeValue:!1},react:{useSuspense:!0}});var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(R){function y(qe,Xe){var Ge=qe.length;qe.push(Xe);e:for(;0<Ge;){var Qe=Ge-1>>>1,it=qe[Qe];if(0<O(it,Xe))qe[Qe]=Xe,qe[Ge]=it,Ge=Qe;else break e}}function T(qe){return qe.length===0?null:qe[0]}function A(qe){if(qe.length===0)return null;var Xe=qe[0],Ge=qe.pop();if(Ge!==Xe){qe[0]=Ge;e:for(var Qe=0,it=qe.length,Ye=it>>>1;Qe<Ye;){var st=2*(Qe+1)-1,ut=qe[st],pt=st+1,yt=qe[pt];if(0>O(ut,Ge))pt<it&&0>O(yt,ut)?(qe[Qe]=yt,qe[pt]=Ge,Qe=pt):(qe[Qe]=ut,qe[st]=Ge,Qe=st);else if(pt<it&&0>O(yt,Ge))qe[Qe]=yt,qe[pt]=Ge,Qe=pt;else break e}}return Xe}function O(qe,Xe){var Ge=qe.sortIndex-Xe.sortIndex;return Ge!==0?Ge:qe.id-Xe.id}if(R.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var z=performance;R.unstable_now=function(){return z.now()}}else{var U=Date,G=U.now();R.unstable_now=function(){return U.now()-G}}var J=[],ee=[],te=1,ae=null,oe=3,pe=!1,fe=!1,xe=!1,ye=!1,_e=typeof setTimeout=="function"?setTimeout:null,Le=typeof clearTimeout=="function"?clearTimeout:null,je=typeof setImmediate<"u"?setImmediate:null;function Ne(qe){for(var Xe=T(ee);Xe!==null;){if(Xe.callback===null)A(ee);else if(Xe.startTime<=qe)A(ee),Xe.sortIndex=Xe.expirationTime,y(J,Xe);else break;Xe=T(ee)}}function $e(qe){if(xe=!1,Ne(qe),!fe)if(T(J)!==null)fe=!0,Ue||(Ue=!0,rt());else{var Xe=T(ee);Xe!==null&&ot($e,Xe.startTime-qe)}}var Ue=!1,He=-1,ze=5,Ke=-1;function Je(){return ye?!0:!(R.unstable_now()-Ke<ze)}function Ze(){if(ye=!1,Ue){var qe=R.unstable_now();Ke=qe;var Xe=!0;try{e:{fe=!1,xe&&(xe=!1,Le(He),He=-1),pe=!0;var Ge=oe;try{t:{for(Ne(qe),ae=T(J);ae!==null&&!(ae.expirationTime>qe&&Je());){var Qe=ae.callback;if(typeof Qe=="function"){ae.callback=null,oe=ae.priorityLevel;var it=Qe(ae.expirationTime<=qe);if(qe=R.unstable_now(),typeof it=="function"){ae.callback=it,Ne(qe),Xe=!0;break t}ae===T(J)&&A(J),Ne(qe)}else A(J);ae=T(J)}if(ae!==null)Xe=!0;else{var Ye=T(ee);Ye!==null&&ot($e,Ye.startTime-qe),Xe=!1}}break e}finally{ae=null,oe=Ge,pe=!1}Xe=void 0}}finally{Xe?rt():Ue=!1}}}var rt;if(typeof je=="function")rt=function(){je(Ze)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,at=nt.port2;nt.port1.onmessage=Ze,rt=function(){at.postMessage(null)}}else rt=function(){_e(Ze,0)};function ot(qe,Xe){He=_e(function(){qe(R.unstable_now())},Xe)}R.unstable_IdlePriority=5,R.unstable_ImmediatePriority=1,R.unstable_LowPriority=4,R.unstable_NormalPriority=3,R.unstable_Profiling=null,R.unstable_UserBlockingPriority=2,R.unstable_cancelCallback=function(qe){qe.callback=null},R.unstable_forceFrameRate=function(qe){0>qe||125<qe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ze=0<qe?Math.floor(1e3/qe):5},R.unstable_getCurrentPriorityLevel=function(){return oe},R.unstable_next=function(qe){switch(oe){case 1:case 2:case 3:var Xe=3;break;default:Xe=oe}var Ge=oe;oe=Xe;try{return qe()}finally{oe=Ge}},R.unstable_requestPaint=function(){ye=!0},R.unstable_runWithPriority=function(qe,Xe){switch(qe){case 1:case 2:case 3:case 4:case 5:break;default:qe=3}var Ge=oe;oe=qe;try{return Xe()}finally{oe=Ge}},R.unstable_scheduleCallback=function(qe,Xe,Ge){var Qe=R.unstable_now();switch(typeof Ge=="object"&&Ge!==null?(Ge=Ge.delay,Ge=typeof Ge=="number"&&0<Ge?Qe+Ge:Qe):Ge=Qe,qe){case 1:var it=-1;break;case 2:it=250;break;case 5:it=1073741823;break;case 4:it=1e4;break;default:it=5e3}return it=Ge+it,qe={id:te++,callback:Xe,priorityLevel:qe,startTime:Ge,expirationTime:it,sortIndex:-1},Ge>Qe?(qe.sortIndex=Ge,y(ee,qe),T(J)===null&&qe===T(ee)&&(xe?(Le(He),He=-1):xe=!0,ot($e,Ge-Qe))):(qe.sortIndex=it,y(J,qe),fe||pe||(fe=!0,Ue||(Ue=!0,rt()))),qe},R.unstable_shouldYield=Je,R.unstable_wrapCallback=function(qe){var Xe=oe;return function(){var Ge=oe;oe=Xe;try{return qe.apply(this,arguments)}finally{oe=Ge}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var R=requireReact();function y(J){var ee="https://react.dev/errors/"+J;if(1<arguments.length){ee+="?args[]="+encodeURIComponent(arguments[1]);for(var te=2;te<arguments.length;te++)ee+="&args[]="+encodeURIComponent(arguments[te])}return"Minified React error #"+J+"; visit "+ee+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function T(){}var A={d:{f:T,r:function(){throw Error(y(522))},D:T,C:T,L:T,m:T,X:T,S:T,M:T},p:0,findDOMNode:null},O=Symbol.for("react.portal");function z(J,ee,te){var ae=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:ae==null?null:""+ae,children:J,containerInfo:ee,implementation:te}}var U=R.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function G(J,ee){if(J==="font")return"";if(typeof ee=="string")return ee==="use-credentials"?ee:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,reactDom_production.createPortal=function(J,ee){var te=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ee||ee.nodeType!==1&&ee.nodeType!==9&&ee.nodeType!==11)throw Error(y(299));return z(J,ee,null,te)},reactDom_production.flushSync=function(J){var ee=U.T,te=A.p;try{if(U.T=null,A.p=2,J)return J()}finally{U.T=ee,A.p=te,A.d.f()}},reactDom_production.preconnect=function(J,ee){typeof J=="string"&&(ee?(ee=ee.crossOrigin,ee=typeof ee=="string"?ee==="use-credentials"?ee:"":void 0):ee=null,A.d.C(J,ee))},reactDom_production.prefetchDNS=function(J){typeof J=="string"&&A.d.D(J)},reactDom_production.preinit=function(J,ee){if(typeof J=="string"&&ee&&typeof ee.as=="string"){var te=ee.as,ae=G(te,ee.crossOrigin),oe=typeof ee.integrity=="string"?ee.integrity:void 0,pe=typeof ee.fetchPriority=="string"?ee.fetchPriority:void 0;te==="style"?A.d.S(J,typeof ee.precedence=="string"?ee.precedence:void 0,{crossOrigin:ae,integrity:oe,fetchPriority:pe}):te==="script"&&A.d.X(J,{crossOrigin:ae,integrity:oe,fetchPriority:pe,nonce:typeof ee.nonce=="string"?ee.nonce:void 0})}},reactDom_production.preinitModule=function(J,ee){if(typeof J=="string")if(typeof ee=="object"&&ee!==null){if(ee.as==null||ee.as==="script"){var te=G(ee.as,ee.crossOrigin);A.d.M(J,{crossOrigin:te,integrity:typeof ee.integrity=="string"?ee.integrity:void 0,nonce:typeof ee.nonce=="string"?ee.nonce:void 0})}}else ee==null&&A.d.M(J)},reactDom_production.preload=function(J,ee){if(typeof J=="string"&&typeof ee=="object"&&ee!==null&&typeof ee.as=="string"){var te=ee.as,ae=G(te,ee.crossOrigin);A.d.L(J,te,{crossOrigin:ae,integrity:typeof ee.integrity=="string"?ee.integrity:void 0,nonce:typeof ee.nonce=="string"?ee.nonce:void 0,type:typeof ee.type=="string"?ee.type:void 0,fetchPriority:typeof ee.fetchPriority=="string"?ee.fetchPriority:void 0,referrerPolicy:typeof ee.referrerPolicy=="string"?ee.referrerPolicy:void 0,imageSrcSet:typeof ee.imageSrcSet=="string"?ee.imageSrcSet:void 0,imageSizes:typeof ee.imageSizes=="string"?ee.imageSizes:void 0,media:typeof ee.media=="string"?ee.media:void 0})}},reactDom_production.preloadModule=function(J,ee){if(typeof J=="string")if(ee){var te=G(ee.as,ee.crossOrigin);A.d.m(J,{as:typeof ee.as=="string"&&ee.as!=="script"?ee.as:void 0,crossOrigin:te,integrity:typeof ee.integrity=="string"?ee.integrity:void 0})}else A.d.m(J)},reactDom_production.requestFormReset=function(J){A.d.r(J)},reactDom_production.unstable_batchedUpdates=function(J,ee){return J(ee)},reactDom_production.useFormState=function(J,ee,te){return U.H.useFormState(J,ee,te)},reactDom_production.useFormStatus=function(){return U.H.useHostTransitionStatus()},reactDom_production.version="19.2.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function R(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R)}catch(y){console.error(y)}}return R(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var R=requireScheduler(),y=requireReact(),T=requireReactDom();function A(q){var K="https://react.dev/errors/"+q;if(1<arguments.length){K+="?args[]="+encodeURIComponent(arguments[1]);for(var ne=2;ne<arguments.length;ne++)K+="&args[]="+encodeURIComponent(arguments[ne])}return"Minified React error #"+q+"; visit "+K+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function O(q){return!(!q||q.nodeType!==1&&q.nodeType!==9&&q.nodeType!==11)}function z(q){var K=q,ne=q;if(q.alternate)for(;K.return;)K=K.return;else{q=K;do K=q,(K.flags&4098)!==0&&(ne=K.return),q=K.return;while(q)}return K.tag===3?ne:null}function U(q){if(q.tag===13){var K=q.memoizedState;if(K===null&&(q=q.alternate,q!==null&&(K=q.memoizedState)),K!==null)return K.dehydrated}return null}function G(q){if(q.tag===31){var K=q.memoizedState;if(K===null&&(q=q.alternate,q!==null&&(K=q.memoizedState)),K!==null)return K.dehydrated}return null}function J(q){if(z(q)!==q)throw Error(A(188))}function ee(q){var K=q.alternate;if(!K){if(K=z(q),K===null)throw Error(A(188));return K!==q?null:q}for(var ne=q,ue=K;;){var Be=ne.return;if(Be===null)break;var Ve=Be.alternate;if(Ve===null){if(ue=Be.return,ue!==null){ne=ue;continue}break}if(Be.child===Ve.child){for(Ve=Be.child;Ve;){if(Ve===ne)return J(Be),q;if(Ve===ue)return J(Be),K;Ve=Ve.sibling}throw Error(A(188))}if(ne.return!==ue.return)ne=Be,ue=Ve;else{for(var We=!1,et=Be.child;et;){if(et===ne){We=!0,ne=Be,ue=Ve;break}if(et===ue){We=!0,ue=Be,ne=Ve;break}et=et.sibling}if(!We){for(et=Ve.child;et;){if(et===ne){We=!0,ne=Ve,ue=Be;break}if(et===ue){We=!0,ue=Ve,ne=Be;break}et=et.sibling}if(!We)throw Error(A(189))}}if(ne.alternate!==ue)throw Error(A(190))}if(ne.tag!==3)throw Error(A(188));return ne.stateNode.current===ne?q:K}function te(q){var K=q.tag;if(K===5||K===26||K===27||K===6)return q;for(q=q.child;q!==null;){if(K=te(q),K!==null)return K;q=q.sibling}return null}var ae=Object.assign,oe=Symbol.for("react.element"),pe=Symbol.for("react.transitional.element"),fe=Symbol.for("react.portal"),xe=Symbol.for("react.fragment"),ye=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),Le=Symbol.for("react.consumer"),je=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),$e=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),He=Symbol.for("react.memo"),ze=Symbol.for("react.lazy"),Ke=Symbol.for("react.activity"),Je=Symbol.for("react.memo_cache_sentinel"),Ze=Symbol.iterator;function rt(q){return q===null||typeof q!="object"?null:(q=Ze&&q[Ze]||q["@@iterator"],typeof q=="function"?q:null)}var nt=Symbol.for("react.client.reference");function at(q){if(q==null)return null;if(typeof q=="function")return q.$$typeof===nt?null:q.displayName||q.name||null;if(typeof q=="string")return q;switch(q){case xe:return"Fragment";case _e:return"Profiler";case ye:return"StrictMode";case $e:return"Suspense";case Ue:return"SuspenseList";case Ke:return"Activity"}if(typeof q=="object")switch(q.$$typeof){case fe:return"Portal";case je:return q.displayName||"Context";case Le:return(q._context.displayName||"Context")+".Consumer";case Ne:var K=q.render;return q=q.displayName,q||(q=K.displayName||K.name||"",q=q!==""?"ForwardRef("+q+")":"ForwardRef"),q;case He:return K=q.displayName||null,K!==null?K:at(q.type)||"Memo";case ze:K=q._payload,q=q._init;try{return at(q(K))}catch{}}return null}var ot=Array.isArray,qe=y.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xe=T.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ge={pending:!1,data:null,method:null,action:null},Qe=[],it=-1;function Ye(q){return{current:q}}function st(q){0>it||(q.current=Qe[it],Qe[it]=null,it--)}function ut(q,K){it++,Qe[it]=q.current,q.current=K}var pt=Ye(null),yt=Ye(null),Et=Ye(null),jt=Ye(null);function St(q,K){switch(ut(Et,K),ut(yt,q),ut(pt,null),K.nodeType){case 9:case 11:q=(q=K.documentElement)&&(q=q.namespaceURI)?th(q):0;break;default:if(q=K.tagName,K=K.namespaceURI)K=th(K),q=rh(K,q);else switch(q){case"svg":q=1;break;case"math":q=2;break;default:q=0}}st(pt),ut(pt,q)}function Ct(){st(pt),st(yt),st(Et)}function _t(q){q.memoizedState!==null&&ut(jt,q);var K=pt.current,ne=rh(K,q.type);K!==ne&&(ut(yt,q),ut(pt,ne))}function Ht(q){yt.current===q&&(st(pt),st(yt)),jt.current===q&&(st(jt),Ji._currentValue=Ge)}var Yt,Pt;function Rt(q){if(Yt===void 0)try{throw Error()}catch(ne){var K=ne.stack.trim().match(/\n( *(at )?)/);Yt=K&&K[1]||"",Pt=-1<ne.stack.indexOf(`
    at`)?" (<anonymous>)":-1<ne.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yt+q+Pt}var rr=!1;function pr(q,K){if(!q||rr)return"";rr=!0;var ne=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var ue={DetermineComponentFrameRoot:function(){try{if(K){var bt=function(){throw Error()};if(Object.defineProperty(bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(bt,[])}catch(xt){var mt=xt}Reflect.construct(q,[],bt)}else{try{bt.call()}catch(xt){mt=xt}q.call(bt.prototype)}}else{try{throw Error()}catch(xt){mt=xt}(bt=q())&&typeof bt.catch=="function"&&bt.catch(function(){})}}catch(xt){if(xt&&mt&&typeof xt.stack=="string")return[xt.stack,mt.stack]}return[null,null]}};ue.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var Be=Object.getOwnPropertyDescriptor(ue.DetermineComponentFrameRoot,"name");Be&&Be.configurable&&Object.defineProperty(ue.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Ve=ue.DetermineComponentFrameRoot(),We=Ve[0],et=Ve[1];if(We&&et){var lt=We.split(`
`),ft=et.split(`
`);for(Be=ue=0;ue<lt.length&&!lt[ue].includes("DetermineComponentFrameRoot");)ue++;for(;Be<ft.length&&!ft[Be].includes("DetermineComponentFrameRoot");)Be++;if(ue===lt.length||Be===ft.length)for(ue=lt.length-1,Be=ft.length-1;1<=ue&&0<=Be&&lt[ue]!==ft[Be];)Be--;for(;1<=ue&&0<=Be;ue--,Be--)if(lt[ue]!==ft[Be]){if(ue!==1||Be!==1)do if(ue--,Be--,0>Be||lt[ue]!==ft[Be]){var gt=`
`+lt[ue].replace(" at new "," at ");return q.displayName&&gt.includes("<anonymous>")&&(gt=gt.replace("<anonymous>",q.displayName)),gt}while(1<=ue&&0<=Be);break}}}finally{rr=!1,Error.prepareStackTrace=ne}return(ne=q?q.displayName||q.name:"")?Rt(ne):""}function jr(q,K){switch(q.tag){case 26:case 27:case 5:return Rt(q.type);case 16:return Rt("Lazy");case 13:return q.child!==K&&K!==null?Rt("Suspense Fallback"):Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 15:return pr(q.type,!1);case 11:return pr(q.type.render,!1);case 1:return pr(q.type,!0);case 31:return Rt("Activity");default:return""}}function Rr(q){try{var K="",ne=null;do K+=jr(q,ne),ne=q,q=q.return;while(q);return K}catch(ue){return`
Error generating stack: `+ue.message+`
`+ue.stack}}var Er=Object.prototype.hasOwnProperty,Sr=R.unstable_scheduleCallback,hr=R.unstable_cancelCallback,ns=R.unstable_shouldYield,as=R.unstable_requestPaint,Xt=R.unstable_now,ls=R.unstable_getCurrentPriorityLevel,Cr=R.unstable_ImmediatePriority,cs=R.unstable_UserBlockingPriority,fs=R.unstable_NormalPriority,Sn=R.unstable_LowPriority,nn=R.unstable_IdlePriority,$h=R.log,Vh=R.unstable_setDisableYieldValue,ui=null,Dr=null;function Ps(q){if(typeof $h=="function"&&Vh(q),Dr&&typeof Dr.setStrictMode=="function")try{Dr.setStrictMode(ui,q)}catch{}}var Or=Math.clz32?Math.clz32:Uh,zh=Math.log,Hh=Math.LN2;function Uh(q){return q>>>=0,q===0?32:31-(zh(q)/Hh|0)|0}var na=256,ia=262144,aa=4194304;function an(q){var K=q&42;if(K!==0)return K;switch(q&-q){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return q&261888;case 262144:case 524288:case 1048576:case 2097152:return q&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return q&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return q}}function oa(q,K,ne){var ue=q.pendingLanes;if(ue===0)return 0;var Be=0,Ve=q.suspendedLanes,We=q.pingedLanes;q=q.warmLanes;var et=ue&134217727;return et!==0?(ue=et&~Ve,ue!==0?Be=an(ue):(We&=et,We!==0?Be=an(We):ne||(ne=et&~q,ne!==0&&(Be=an(ne))))):(et=ue&~Ve,et!==0?Be=an(et):We!==0?Be=an(We):ne||(ne=ue&~q,ne!==0&&(Be=an(ne)))),Be===0?0:K!==0&&K!==Be&&(K&Ve)===0&&(Ve=Be&-Be,ne=K&-K,Ve>=ne||Ve===32&&(ne&4194048)!==0)?K:Be}function di(q,K){return(q.pendingLanes&~(q.suspendedLanes&~q.pingedLanes)&K)===0}function qh(q,K){switch(q){case 1:case 2:case 4:case 8:case 64:return K+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return K+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oc(){var q=aa;return aa<<=1,(aa&62914560)===0&&(aa=4194304),q}function Eo(q){for(var K=[],ne=0;31>ne;ne++)K.push(q);return K}function pi(q,K){q.pendingLanes|=K,K!==268435456&&(q.suspendedLanes=0,q.pingedLanes=0,q.warmLanes=0)}function Gh(q,K,ne,ue,Be,Ve){var We=q.pendingLanes;q.pendingLanes=ne,q.suspendedLanes=0,q.pingedLanes=0,q.warmLanes=0,q.expiredLanes&=ne,q.entangledLanes&=ne,q.errorRecoveryDisabledLanes&=ne,q.shellSuspendCounter=0;var et=q.entanglements,lt=q.expirationTimes,ft=q.hiddenUpdates;for(ne=We&~ne;0<ne;){var gt=31-Or(ne),bt=1<<gt;et[gt]=0,lt[gt]=-1;var mt=ft[gt];if(mt!==null)for(ft[gt]=null,gt=0;gt<mt.length;gt++){var xt=mt[gt];xt!==null&&(xt.lane&=-536870913)}ne&=~bt}ue!==0&&Lc(q,ue,0),Ve!==0&&Be===0&&q.tag!==0&&(q.suspendedLanes|=Ve&~(We&~K))}function Lc(q,K,ne){q.pendingLanes|=K,q.suspendedLanes&=~K;var ue=31-Or(K);q.entangledLanes|=K,q.entanglements[ue]=q.entanglements[ue]|1073741824|ne&261930}function Ic(q,K){var ne=q.entangledLanes|=K;for(q=q.entanglements;ne;){var ue=31-Or(ne),Be=1<<ue;Be&K|q[ue]&K&&(q[ue]|=K),ne&=~Be}}function Fc(q,K){var ne=K&-K;return ne=(ne&42)!==0?1:jo(ne),(ne&(q.suspendedLanes|K))!==0?0:ne}function jo(q){switch(q){case 2:q=1;break;case 8:q=4;break;case 32:q=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:q=128;break;case 268435456:q=134217728;break;default:q=0}return q}function Ro(q){return q&=-q,2<q?8<q?(q&134217727)!==0?32:268435456:8:2}function Bc(){var q=Xe.p;return q!==0?q:(q=window.event,q===void 0?32:Ch(q.type))}function $c(q,K){var ne=Xe.p;try{return Xe.p=q,K()}finally{Xe.p=ne}}var Ds=Math.random().toString(36).slice(2),xr="__reactFiber$"+Ds,Nr="__reactProps$"+Ds,wn="__reactContainer$"+Ds,So="__reactEvents$"+Ds,Kh="__reactListeners$"+Ds,Wh="__reactHandles$"+Ds,Vc="__reactResources$"+Ds,hi="__reactMarker$"+Ds;function wo(q){delete q[xr],delete q[Nr],delete q[So],delete q[Kh],delete q[Wh]}function Cn(q){var K=q[xr];if(K)return K;for(var ne=q.parentNode;ne;){if(K=ne[wn]||ne[xr]){if(ne=K.alternate,K.child!==null||ne!==null&&ne.child!==null)for(q=ch(q);q!==null;){if(ne=q[xr])return ne;q=ch(q)}return K}q=ne,ne=q.parentNode}return null}function Nn(q){if(q=q[xr]||q[wn]){var K=q.tag;if(K===5||K===6||K===13||K===31||K===26||K===27||K===3)return q}return null}function fi(q){var K=q.tag;if(K===5||K===26||K===27||K===6)return q.stateNode;throw Error(A(33))}function Tn(q){var K=q[Vc];return K||(K=q[Vc]={hoistableStyles:new Map,hoistableScripts:new Map}),K}function fr(q){q[hi]=!0}var zc=new Set,Hc={};function on(q,K){kn(q,K),kn(q+"Capture",K)}function kn(q,K){for(Hc[q]=K,q=0;q<K.length;q++)zc.add(K[q])}var Qh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uc={},qc={};function Yh(q){return Er.call(qc,q)?!0:Er.call(Uc,q)?!1:Qh.test(q)?qc[q]=!0:(Uc[q]=!0,!1)}function la(q,K,ne){if(Yh(K))if(ne===null)q.removeAttribute(K);else{switch(typeof ne){case"undefined":case"function":case"symbol":q.removeAttribute(K);return;case"boolean":var ue=K.toLowerCase().slice(0,5);if(ue!=="data-"&&ue!=="aria-"){q.removeAttribute(K);return}}q.setAttribute(K,""+ne)}}function ca(q,K,ne){if(ne===null)q.removeAttribute(K);else{switch(typeof ne){case"undefined":case"function":case"symbol":case"boolean":q.removeAttribute(K);return}q.setAttribute(K,""+ne)}}function ms(q,K,ne,ue){if(ue===null)q.removeAttribute(ne);else{switch(typeof ue){case"undefined":case"function":case"symbol":case"boolean":q.removeAttribute(ne);return}q.setAttributeNS(K,ne,""+ue)}}function Hr(q){switch(typeof q){case"bigint":case"boolean":case"number":case"string":case"undefined":return q;case"object":return q;default:return""}}function Gc(q){var K=q.type;return(q=q.nodeName)&&q.toLowerCase()==="input"&&(K==="checkbox"||K==="radio")}function Xh(q,K,ne){var ue=Object.getOwnPropertyDescriptor(q.constructor.prototype,K);if(!q.hasOwnProperty(K)&&typeof ue<"u"&&typeof ue.get=="function"&&typeof ue.set=="function"){var Be=ue.get,Ve=ue.set;return Object.defineProperty(q,K,{configurable:!0,get:function(){return Be.call(this)},set:function(We){ne=""+We,Ve.call(this,We)}}),Object.defineProperty(q,K,{enumerable:ue.enumerable}),{getValue:function(){return ne},setValue:function(We){ne=""+We},stopTracking:function(){q._valueTracker=null,delete q[K]}}}}function Co(q){if(!q._valueTracker){var K=Gc(q)?"checked":"value";q._valueTracker=Xh(q,K,""+q[K])}}function Kc(q){if(!q)return!1;var K=q._valueTracker;if(!K)return!0;var ne=K.getValue(),ue="";return q&&(ue=Gc(q)?q.checked?"true":"false":q.value),q=ue,q!==ne?(K.setValue(q),!0):!1}function ua(q){if(q=q||(typeof document<"u"?document:void 0),typeof q>"u")return null;try{return q.activeElement||q.body}catch{return q.body}}var Jh=/[\n"\\]/g;function Ur(q){return q.replace(Jh,function(K){return"\\"+K.charCodeAt(0).toString(16)+" "})}function No(q,K,ne,ue,Be,Ve,We,et){q.name="",We!=null&&typeof We!="function"&&typeof We!="symbol"&&typeof We!="boolean"?q.type=We:q.removeAttribute("type"),K!=null?We==="number"?(K===0&&q.value===""||q.value!=K)&&(q.value=""+Hr(K)):q.value!==""+Hr(K)&&(q.value=""+Hr(K)):We!=="submit"&&We!=="reset"||q.removeAttribute("value"),K!=null?To(q,We,Hr(K)):ne!=null?To(q,We,Hr(ne)):ue!=null&&q.removeAttribute("value"),Be==null&&Ve!=null&&(q.defaultChecked=!!Ve),Be!=null&&(q.checked=Be&&typeof Be!="function"&&typeof Be!="symbol"),et!=null&&typeof et!="function"&&typeof et!="symbol"&&typeof et!="boolean"?q.name=""+Hr(et):q.removeAttribute("name")}function Wc(q,K,ne,ue,Be,Ve,We,et){if(Ve!=null&&typeof Ve!="function"&&typeof Ve!="symbol"&&typeof Ve!="boolean"&&(q.type=Ve),K!=null||ne!=null){if(!(Ve!=="submit"&&Ve!=="reset"||K!=null)){Co(q);return}ne=ne!=null?""+Hr(ne):"",K=K!=null?""+Hr(K):ne,et||K===q.value||(q.value=K),q.defaultValue=K}ue=ue??Be,ue=typeof ue!="function"&&typeof ue!="symbol"&&!!ue,q.checked=et?q.checked:!!ue,q.defaultChecked=!!ue,We!=null&&typeof We!="function"&&typeof We!="symbol"&&typeof We!="boolean"&&(q.name=We),Co(q)}function To(q,K,ne){K==="number"&&ua(q.ownerDocument)===q||q.defaultValue===""+ne||(q.defaultValue=""+ne)}function An(q,K,ne,ue){if(q=q.options,K){K={};for(var Be=0;Be<ne.length;Be++)K["$"+ne[Be]]=!0;for(ne=0;ne<q.length;ne++)Be=K.hasOwnProperty("$"+q[ne].value),q[ne].selected!==Be&&(q[ne].selected=Be),Be&&ue&&(q[ne].defaultSelected=!0)}else{for(ne=""+Hr(ne),K=null,Be=0;Be<q.length;Be++){if(q[Be].value===ne){q[Be].selected=!0,ue&&(q[Be].defaultSelected=!0);return}K!==null||q[Be].disabled||(K=q[Be])}K!==null&&(K.selected=!0)}}function Qc(q,K,ne){if(K!=null&&(K=""+Hr(K),K!==q.value&&(q.value=K),ne==null)){q.defaultValue!==K&&(q.defaultValue=K);return}q.defaultValue=ne!=null?""+Hr(ne):""}function Yc(q,K,ne,ue){if(K==null){if(ue!=null){if(ne!=null)throw Error(A(92));if(ot(ue)){if(1<ue.length)throw Error(A(93));ue=ue[0]}ne=ue}ne==null&&(ne=""),K=ne}ne=Hr(K),q.defaultValue=ne,ue=q.textContent,ue===ne&&ue!==""&&ue!==null&&(q.value=ue),Co(q)}function Mn(q,K){if(K){var ne=q.firstChild;if(ne&&ne===q.lastChild&&ne.nodeType===3){ne.nodeValue=K;return}}q.textContent=K}var Zh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xc(q,K,ne){var ue=K.indexOf("--")===0;ne==null||typeof ne=="boolean"||ne===""?ue?q.setProperty(K,""):K==="float"?q.cssFloat="":q[K]="":ue?q.setProperty(K,ne):typeof ne!="number"||ne===0||Zh.has(K)?K==="float"?q.cssFloat=ne:q[K]=(""+ne).trim():q[K]=ne+"px"}function Jc(q,K,ne){if(K!=null&&typeof K!="object")throw Error(A(62));if(q=q.style,ne!=null){for(var ue in ne)!ne.hasOwnProperty(ue)||K!=null&&K.hasOwnProperty(ue)||(ue.indexOf("--")===0?q.setProperty(ue,""):ue==="float"?q.cssFloat="":q[ue]="");for(var Be in K)ue=K[Be],K.hasOwnProperty(Be)&&ne[Be]!==ue&&Xc(q,Be,ue)}else for(var Ve in K)K.hasOwnProperty(Ve)&&Xc(q,Ve,K[Ve])}function ko(q){if(q.indexOf("-")===-1)return!1;switch(q){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(q){return tf.test(""+q)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":q}function xs(){}var Ao=null;function Mo(q){return q=q.target||q.srcElement||window,q.correspondingUseElement&&(q=q.correspondingUseElement),q.nodeType===3?q.parentNode:q}var _n=null,Pn=null;function Zc(q){var K=Nn(q);if(K&&(q=K.stateNode)){var ne=q[Nr]||null;e:switch(q=K.stateNode,K.type){case"input":if(No(q,ne.value,ne.defaultValue,ne.defaultValue,ne.checked,ne.defaultChecked,ne.type,ne.name),K=ne.name,ne.type==="radio"&&K!=null){for(ne=q;ne.parentNode;)ne=ne.parentNode;for(ne=ne.querySelectorAll('input[name="'+Ur(""+K)+'"][type="radio"]'),K=0;K<ne.length;K++){var ue=ne[K];if(ue!==q&&ue.form===q.form){var Be=ue[Nr]||null;if(!Be)throw Error(A(90));No(ue,Be.value,Be.defaultValue,Be.defaultValue,Be.checked,Be.defaultChecked,Be.type,Be.name)}}for(K=0;K<ne.length;K++)ue=ne[K],ue.form===q.form&&Kc(ue)}break e;case"textarea":Qc(q,ne.value,ne.defaultValue);break e;case"select":K=ne.value,K!=null&&An(q,!!ne.multiple,K,!1)}}}var _o=!1;function eu(q,K,ne){if(_o)return q(K,ne);_o=!0;try{var ue=q(K);return ue}finally{if(_o=!1,(_n!==null||Pn!==null)&&(Ja(),_n&&(K=_n,q=Pn,Pn=_n=null,Zc(K),q)))for(K=0;K<q.length;K++)Zc(q[K])}}function mi(q,K){var ne=q.stateNode;if(ne===null)return null;var ue=ne[Nr]||null;if(ue===null)return null;ne=ue[K];e:switch(K){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(ue=!ue.disabled)||(q=q.type,ue=!(q==="button"||q==="input"||q==="select"||q==="textarea")),q=!ue;break e;default:q=!1}if(q)return null;if(ne&&typeof ne!="function")throw Error(A(231,K,typeof ne));return ne}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Po=!1;if(gs)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){Po=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{Po=!1}var Os=null,Do=null,pa=null;function tu(){if(pa)return pa;var q,K=Do,ne=K.length,ue,Be="value"in Os?Os.value:Os.textContent,Ve=Be.length;for(q=0;q<ne&&K[q]===Be[q];q++);var We=ne-q;for(ue=1;ue<=We&&K[ne-ue]===Be[Ve-ue];ue++);return pa=Be.slice(q,1<ue?1-ue:void 0)}function ha(q){var K=q.keyCode;return"charCode"in q?(q=q.charCode,q===0&&K===13&&(q=13)):q=K,q===10&&(q=13),32<=q||q===13?q:0}function fa(){return!0}function ru(){return!1}function Tr(q){function K(ne,ue,Be,Ve,We){this._reactName=ne,this._targetInst=Be,this.type=ue,this.nativeEvent=Ve,this.target=We,this.currentTarget=null;for(var et in q)q.hasOwnProperty(et)&&(ne=q[et],this[et]=ne?ne(Ve):Ve[et]);return this.isDefaultPrevented=(Ve.defaultPrevented!=null?Ve.defaultPrevented:Ve.returnValue===!1)?fa:ru,this.isPropagationStopped=ru,this}return ae(K.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ne=this.nativeEvent;ne&&(ne.preventDefault?ne.preventDefault():typeof ne.returnValue!="unknown"&&(ne.returnValue=!1),this.isDefaultPrevented=fa)},stopPropagation:function(){var ne=this.nativeEvent;ne&&(ne.stopPropagation?ne.stopPropagation():typeof ne.cancelBubble!="unknown"&&(ne.cancelBubble=!0),this.isPropagationStopped=fa)},persist:function(){},isPersistent:fa}),K}var ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(q){return q.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ma=Tr(ln),gi=ae({},ln,{view:0,detail:0}),rf=Tr(gi),Oo,Lo,yi,xa=ae({},gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fo,button:0,buttons:0,relatedTarget:function(q){return q.relatedTarget===void 0?q.fromElement===q.srcElement?q.toElement:q.fromElement:q.relatedTarget},movementX:function(q){return"movementX"in q?q.movementX:(q!==yi&&(yi&&q.type==="mousemove"?(Oo=q.screenX-yi.screenX,Lo=q.screenY-yi.screenY):Lo=Oo=0,yi=q),Oo)},movementY:function(q){return"movementY"in q?q.movementY:Lo}}),su=Tr(xa),sf=ae({},xa,{dataTransfer:0}),nf=Tr(sf),af=ae({},gi,{relatedTarget:0}),Io=Tr(af),of=ae({},ln,{animationName:0,elapsedTime:0,pseudoElement:0}),lf=Tr(of),cf=ae({},ln,{clipboardData:function(q){return"clipboardData"in q?q.clipboardData:window.clipboardData}}),uf=Tr(cf),df=ae({},ln,{data:0}),nu=Tr(df),pf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ff={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mf(q){var K=this.nativeEvent;return K.getModifierState?K.getModifierState(q):(q=ff[q])?!!K[q]:!1}function Fo(){return mf}var xf=ae({},gi,{key:function(q){if(q.key){var K=pf[q.key]||q.key;if(K!=="Unidentified")return K}return q.type==="keypress"?(q=ha(q),q===13?"Enter":String.fromCharCode(q)):q.type==="keydown"||q.type==="keyup"?hf[q.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fo,charCode:function(q){return q.type==="keypress"?ha(q):0},keyCode:function(q){return q.type==="keydown"||q.type==="keyup"?q.keyCode:0},which:function(q){return q.type==="keypress"?ha(q):q.type==="keydown"||q.type==="keyup"?q.keyCode:0}}),gf=Tr(xf),yf=ae({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iu=Tr(yf),vf=ae({},gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fo}),bf=Tr(vf),Ef=ae({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),jf=Tr(Ef),Rf=ae({},xa,{deltaX:function(q){return"deltaX"in q?q.deltaX:"wheelDeltaX"in q?-q.wheelDeltaX:0},deltaY:function(q){return"deltaY"in q?q.deltaY:"wheelDeltaY"in q?-q.wheelDeltaY:"wheelDelta"in q?-q.wheelDelta:0},deltaZ:0,deltaMode:0}),Sf=Tr(Rf),wf=ae({},ln,{newState:0,oldState:0}),Cf=Tr(wf),Nf=[9,13,27,32],Bo=gs&&"CompositionEvent"in window,vi=null;gs&&"documentMode"in document&&(vi=document.documentMode);var Tf=gs&&"TextEvent"in window&&!vi,au=gs&&(!Bo||vi&&8<vi&&11>=vi),ou=" ",lu=!1;function cu(q,K){switch(q){case"keyup":return Nf.indexOf(K.keyCode)!==-1;case"keydown":return K.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uu(q){return q=q.detail,typeof q=="object"&&"data"in q?q.data:null}var Dn=!1;function kf(q,K){switch(q){case"compositionend":return uu(K);case"keypress":return K.which!==32?null:(lu=!0,ou);case"textInput":return q=K.data,q===ou&&lu?null:q;default:return null}}function Af(q,K){if(Dn)return q==="compositionend"||!Bo&&cu(q,K)?(q=tu(),pa=Do=Os=null,Dn=!1,q):null;switch(q){case"paste":return null;case"keypress":if(!(K.ctrlKey||K.altKey||K.metaKey)||K.ctrlKey&&K.altKey){if(K.char&&1<K.char.length)return K.char;if(K.which)return String.fromCharCode(K.which)}return null;case"compositionend":return au&&K.locale!=="ko"?null:K.data;default:return null}}var Mf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function du(q){var K=q&&q.nodeName&&q.nodeName.toLowerCase();return K==="input"?!!Mf[q.type]:K==="textarea"}function pu(q,K,ne,ue){_n?Pn?Pn.push(ue):Pn=[ue]:_n=ue,K=io(K,"onChange"),0<K.length&&(ne=new ma("onChange","change",null,ne,ue),q.push({event:ne,listeners:K}))}var bi=null,Ei=null;function _f(q){Qp(q,0)}function ga(q){var K=fi(q);if(Kc(K))return q}function hu(q,K){if(q==="change")return K}var fu=!1;if(gs){var $o;if(gs){var Vo="oninput"in document;if(!Vo){var mu=document.createElement("div");mu.setAttribute("oninput","return;"),Vo=typeof mu.oninput=="function"}$o=Vo}else $o=!1;fu=$o&&(!document.documentMode||9<document.documentMode)}function xu(){bi&&(bi.detachEvent("onpropertychange",gu),Ei=bi=null)}function gu(q){if(q.propertyName==="value"&&ga(Ei)){var K=[];pu(K,Ei,q,Mo(q)),eu(_f,K)}}function Pf(q,K,ne){q==="focusin"?(xu(),bi=K,Ei=ne,bi.attachEvent("onpropertychange",gu)):q==="focusout"&&xu()}function Df(q){if(q==="selectionchange"||q==="keyup"||q==="keydown")return ga(Ei)}function Of(q,K){if(q==="click")return ga(K)}function Lf(q,K){if(q==="input"||q==="change")return ga(K)}function If(q,K){return q===K&&(q!==0||1/q===1/K)||q!==q&&K!==K}var Lr=typeof Object.is=="function"?Object.is:If;function ji(q,K){if(Lr(q,K))return!0;if(typeof q!="object"||q===null||typeof K!="object"||K===null)return!1;var ne=Object.keys(q),ue=Object.keys(K);if(ne.length!==ue.length)return!1;for(ue=0;ue<ne.length;ue++){var Be=ne[ue];if(!Er.call(K,Be)||!Lr(q[Be],K[Be]))return!1}return!0}function yu(q){for(;q&&q.firstChild;)q=q.firstChild;return q}function vu(q,K){var ne=yu(q);q=0;for(var ue;ne;){if(ne.nodeType===3){if(ue=q+ne.textContent.length,q<=K&&ue>=K)return{node:ne,offset:K-q};q=ue}e:{for(;ne;){if(ne.nextSibling){ne=ne.nextSibling;break e}ne=ne.parentNode}ne=void 0}ne=yu(ne)}}function bu(q,K){return q&&K?q===K?!0:q&&q.nodeType===3?!1:K&&K.nodeType===3?bu(q,K.parentNode):"contains"in q?q.contains(K):q.compareDocumentPosition?!!(q.compareDocumentPosition(K)&16):!1:!1}function Eu(q){q=q!=null&&q.ownerDocument!=null&&q.ownerDocument.defaultView!=null?q.ownerDocument.defaultView:window;for(var K=ua(q.document);K instanceof q.HTMLIFrameElement;){try{var ne=typeof K.contentWindow.location.href=="string"}catch{ne=!1}if(ne)q=K.contentWindow;else break;K=ua(q.document)}return K}function zo(q){var K=q&&q.nodeName&&q.nodeName.toLowerCase();return K&&(K==="input"&&(q.type==="text"||q.type==="search"||q.type==="tel"||q.type==="url"||q.type==="password")||K==="textarea"||q.contentEditable==="true")}var Ff=gs&&"documentMode"in document&&11>=document.documentMode,On=null,Ho=null,Ri=null,Uo=!1;function ju(q,K,ne){var ue=ne.window===ne?ne.document:ne.nodeType===9?ne:ne.ownerDocument;Uo||On==null||On!==ua(ue)||(ue=On,"selectionStart"in ue&&zo(ue)?ue={start:ue.selectionStart,end:ue.selectionEnd}:(ue=(ue.ownerDocument&&ue.ownerDocument.defaultView||window).getSelection(),ue={anchorNode:ue.anchorNode,anchorOffset:ue.anchorOffset,focusNode:ue.focusNode,focusOffset:ue.focusOffset}),Ri&&ji(Ri,ue)||(Ri=ue,ue=io(Ho,"onSelect"),0<ue.length&&(K=new ma("onSelect","select",null,K,ne),q.push({event:K,listeners:ue}),K.target=On)))}function cn(q,K){var ne={};return ne[q.toLowerCase()]=K.toLowerCase(),ne["Webkit"+q]="webkit"+K,ne["Moz"+q]="moz"+K,ne}var Ln={animationend:cn("Animation","AnimationEnd"),animationiteration:cn("Animation","AnimationIteration"),animationstart:cn("Animation","AnimationStart"),transitionrun:cn("Transition","TransitionRun"),transitionstart:cn("Transition","TransitionStart"),transitioncancel:cn("Transition","TransitionCancel"),transitionend:cn("Transition","TransitionEnd")},qo={},Ru={};gs&&(Ru=document.createElement("div").style,"AnimationEvent"in window||(delete Ln.animationend.animation,delete Ln.animationiteration.animation,delete Ln.animationstart.animation),"TransitionEvent"in window||delete Ln.transitionend.transition);function un(q){if(qo[q])return qo[q];if(!Ln[q])return q;var K=Ln[q],ne;for(ne in K)if(K.hasOwnProperty(ne)&&ne in Ru)return qo[q]=K[ne];return q}var Su=un("animationend"),wu=un("animationiteration"),Cu=un("animationstart"),Bf=un("transitionrun"),$f=un("transitionstart"),Vf=un("transitioncancel"),Nu=un("transitionend"),Tu=new Map,Go="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Go.push("scrollEnd");function Zr(q,K){Tu.set(q,K),on(K,[q])}var ya=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},qr=[],In=0,Ko=0;function va(){for(var q=In,K=Ko=In=0;K<q;){var ne=qr[K];qr[K++]=null;var ue=qr[K];qr[K++]=null;var Be=qr[K];qr[K++]=null;var Ve=qr[K];if(qr[K++]=null,ue!==null&&Be!==null){var We=ue.pending;We===null?Be.next=Be:(Be.next=We.next,We.next=Be),ue.pending=Be}Ve!==0&&ku(ne,Be,Ve)}}function ba(q,K,ne,ue){qr[In++]=q,qr[In++]=K,qr[In++]=ne,qr[In++]=ue,Ko|=ue,q.lanes|=ue,q=q.alternate,q!==null&&(q.lanes|=ue)}function Wo(q,K,ne,ue){return ba(q,K,ne,ue),Ea(q)}function dn(q,K){return ba(q,null,null,K),Ea(q)}function ku(q,K,ne){q.lanes|=ne;var ue=q.alternate;ue!==null&&(ue.lanes|=ne);for(var Be=!1,Ve=q.return;Ve!==null;)Ve.childLanes|=ne,ue=Ve.alternate,ue!==null&&(ue.childLanes|=ne),Ve.tag===22&&(q=Ve.stateNode,q===null||q._visibility&1||(Be=!0)),q=Ve,Ve=Ve.return;return q.tag===3?(Ve=q.stateNode,Be&&K!==null&&(Be=31-Or(ne),q=Ve.hiddenUpdates,ue=q[Be],ue===null?q[Be]=[K]:ue.push(K),K.lane=ne|536870912),Ve):null}function Ea(q){if(50<qi)throw qi=0,nc=null,Error(A(185));for(var K=q.return;K!==null;)q=K,K=q.return;return q.tag===3?q.stateNode:null}var Fn={};function zf(q,K,ne,ue){this.tag=q,this.key=ne,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=K,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ue,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(q,K,ne,ue){return new zf(q,K,ne,ue)}function Qo(q){return q=q.prototype,!(!q||!q.isReactComponent)}function ys(q,K){var ne=q.alternate;return ne===null?(ne=Ir(q.tag,K,q.key,q.mode),ne.elementType=q.elementType,ne.type=q.type,ne.stateNode=q.stateNode,ne.alternate=q,q.alternate=ne):(ne.pendingProps=K,ne.type=q.type,ne.flags=0,ne.subtreeFlags=0,ne.deletions=null),ne.flags=q.flags&65011712,ne.childLanes=q.childLanes,ne.lanes=q.lanes,ne.child=q.child,ne.memoizedProps=q.memoizedProps,ne.memoizedState=q.memoizedState,ne.updateQueue=q.updateQueue,K=q.dependencies,ne.dependencies=K===null?null:{lanes:K.lanes,firstContext:K.firstContext},ne.sibling=q.sibling,ne.index=q.index,ne.ref=q.ref,ne.refCleanup=q.refCleanup,ne}function Au(q,K){q.flags&=65011714;var ne=q.alternate;return ne===null?(q.childLanes=0,q.lanes=K,q.child=null,q.subtreeFlags=0,q.memoizedProps=null,q.memoizedState=null,q.updateQueue=null,q.dependencies=null,q.stateNode=null):(q.childLanes=ne.childLanes,q.lanes=ne.lanes,q.child=ne.child,q.subtreeFlags=0,q.deletions=null,q.memoizedProps=ne.memoizedProps,q.memoizedState=ne.memoizedState,q.updateQueue=ne.updateQueue,q.type=ne.type,K=ne.dependencies,q.dependencies=K===null?null:{lanes:K.lanes,firstContext:K.firstContext}),q}function ja(q,K,ne,ue,Be,Ve){var We=0;if(ue=q,typeof q=="function")Qo(q)&&(We=1);else if(typeof q=="string")We=Wm(q,ne,pt.current)?26:q==="html"||q==="head"||q==="body"?27:5;else e:switch(q){case Ke:return q=Ir(31,ne,K,Be),q.elementType=Ke,q.lanes=Ve,q;case xe:return pn(ne.children,Be,Ve,K);case ye:We=8,Be|=24;break;case _e:return q=Ir(12,ne,K,Be|2),q.elementType=_e,q.lanes=Ve,q;case $e:return q=Ir(13,ne,K,Be),q.elementType=$e,q.lanes=Ve,q;case Ue:return q=Ir(19,ne,K,Be),q.elementType=Ue,q.lanes=Ve,q;default:if(typeof q=="object"&&q!==null)switch(q.$$typeof){case je:We=10;break e;case Le:We=9;break e;case Ne:We=11;break e;case He:We=14;break e;case ze:We=16,ue=null;break e}We=29,ne=Error(A(130,q===null?"null":typeof q,"")),ue=null}return K=Ir(We,ne,K,Be),K.elementType=q,K.type=ue,K.lanes=Ve,K}function pn(q,K,ne,ue){return q=Ir(7,q,ue,K),q.lanes=ne,q}function Yo(q,K,ne){return q=Ir(6,q,null,K),q.lanes=ne,q}function Mu(q){var K=Ir(18,null,null,0);return K.stateNode=q,K}function Xo(q,K,ne){return K=Ir(4,q.children!==null?q.children:[],q.key,K),K.lanes=ne,K.stateNode={containerInfo:q.containerInfo,pendingChildren:null,implementation:q.implementation},K}var _u=new WeakMap;function Gr(q,K){if(typeof q=="object"&&q!==null){var ne=_u.get(q);return ne!==void 0?ne:(K={value:q,source:K,stack:Rr(K)},_u.set(q,K),K)}return{value:q,source:K,stack:Rr(K)}}var Bn=[],$n=0,Ra=null,Si=0,Kr=[],Wr=0,Ls=null,us=1,ds="";function vs(q,K){Bn[$n++]=Si,Bn[$n++]=Ra,Ra=q,Si=K}function Pu(q,K,ne){Kr[Wr++]=us,Kr[Wr++]=ds,Kr[Wr++]=Ls,Ls=q;var ue=us;q=ds;var Be=32-Or(ue)-1;ue&=~(1<<Be),ne+=1;var Ve=32-Or(K)+Be;if(30<Ve){var We=Be-Be%5;Ve=(ue&(1<<We)-1).toString(32),ue>>=We,Be-=We,us=1<<32-Or(K)+Be|ne<<Be|ue,ds=Ve+q}else us=1<<Ve|ne<<Be|ue,ds=q}function Jo(q){q.return!==null&&(vs(q,1),Pu(q,1,0))}function Zo(q){for(;q===Ra;)Ra=Bn[--$n],Bn[$n]=null,Si=Bn[--$n],Bn[$n]=null;for(;q===Ls;)Ls=Kr[--Wr],Kr[Wr]=null,ds=Kr[--Wr],Kr[Wr]=null,us=Kr[--Wr],Kr[Wr]=null}function Du(q,K){Kr[Wr++]=us,Kr[Wr++]=ds,Kr[Wr++]=Ls,us=K.id,ds=K.overflow,Ls=q}var gr=null,Jt=null,Ft=!1,Is=null,Qr=!1,el=Error(A(519));function Fs(q){var K=Error(A(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wi(Gr(K,q)),el}function Ou(q){var K=q.stateNode,ne=q.type,ue=q.memoizedProps;switch(K[xr]=q,K[Nr]=ue,ne){case"dialog":Ot("cancel",K),Ot("close",K);break;case"iframe":case"object":case"embed":Ot("load",K);break;case"video":case"audio":for(ne=0;ne<Ki.length;ne++)Ot(Ki[ne],K);break;case"source":Ot("error",K);break;case"img":case"image":case"link":Ot("error",K),Ot("load",K);break;case"details":Ot("toggle",K);break;case"input":Ot("invalid",K),Wc(K,ue.value,ue.defaultValue,ue.checked,ue.defaultChecked,ue.type,ue.name,!0);break;case"select":Ot("invalid",K);break;case"textarea":Ot("invalid",K),Yc(K,ue.value,ue.defaultValue,ue.children)}ne=ue.children,typeof ne!="string"&&typeof ne!="number"&&typeof ne!="bigint"||K.textContent===""+ne||ue.suppressHydrationWarning===!0||Zp(K.textContent,ne)?(ue.popover!=null&&(Ot("beforetoggle",K),Ot("toggle",K)),ue.onScroll!=null&&Ot("scroll",K),ue.onScrollEnd!=null&&Ot("scrollend",K),ue.onClick!=null&&(K.onclick=xs),K=!0):K=!1,K||Fs(q,!0)}function Lu(q){for(gr=q.return;gr;)switch(gr.tag){case 5:case 31:case 13:Qr=!1;return;case 27:case 3:Qr=!0;return;default:gr=gr.return}}function Vn(q){if(q!==gr)return!1;if(!Ft)return Lu(q),Ft=!0,!1;var K=q.tag,ne;if((ne=K!==3&&K!==27)&&((ne=K===5)&&(ne=q.type,ne=!(ne!=="form"&&ne!=="button")||vc(q.type,q.memoizedProps)),ne=!ne),ne&&Jt&&Fs(q),Lu(q),K===13){if(q=q.memoizedState,q=q!==null?q.dehydrated:null,!q)throw Error(A(317));Jt=lh(q)}else if(K===31){if(q=q.memoizedState,q=q!==null?q.dehydrated:null,!q)throw Error(A(317));Jt=lh(q)}else K===27?(K=Jt,Js(q.type)?(q=Sc,Sc=null,Jt=q):Jt=K):Jt=gr?Xr(q.stateNode.nextSibling):null;return!0}function hn(){Jt=gr=null,Ft=!1}function tl(){var q=Is;return q!==null&&(_r===null?_r=q:_r.push.apply(_r,q),Is=null),q}function wi(q){Is===null?Is=[q]:Is.push(q)}var rl=Ye(null),fn=null,bs=null;function Bs(q,K,ne){ut(rl,K._currentValue),K._currentValue=ne}function Es(q){q._currentValue=rl.current,st(rl)}function sl(q,K,ne){for(;q!==null;){var ue=q.alternate;if((q.childLanes&K)!==K?(q.childLanes|=K,ue!==null&&(ue.childLanes|=K)):ue!==null&&(ue.childLanes&K)!==K&&(ue.childLanes|=K),q===ne)break;q=q.return}}function nl(q,K,ne,ue){var Be=q.child;for(Be!==null&&(Be.return=q);Be!==null;){var Ve=Be.dependencies;if(Ve!==null){var We=Be.child;Ve=Ve.firstContext;e:for(;Ve!==null;){var et=Ve;Ve=Be;for(var lt=0;lt<K.length;lt++)if(et.context===K[lt]){Ve.lanes|=ne,et=Ve.alternate,et!==null&&(et.lanes|=ne),sl(Ve.return,ne,q),ue||(We=null);break e}Ve=et.next}}else if(Be.tag===18){if(We=Be.return,We===null)throw Error(A(341));We.lanes|=ne,Ve=We.alternate,Ve!==null&&(Ve.lanes|=ne),sl(We,ne,q),We=null}else We=Be.child;if(We!==null)We.return=Be;else for(We=Be;We!==null;){if(We===q){We=null;break}if(Be=We.sibling,Be!==null){Be.return=We.return,We=Be;break}We=We.return}Be=We}}function zn(q,K,ne,ue){q=null;for(var Be=K,Ve=!1;Be!==null;){if(!Ve){if((Be.flags&524288)!==0)Ve=!0;else if((Be.flags&262144)!==0)break}if(Be.tag===10){var We=Be.alternate;if(We===null)throw Error(A(387));if(We=We.memoizedProps,We!==null){var et=Be.type;Lr(Be.pendingProps.value,We.value)||(q!==null?q.push(et):q=[et])}}else if(Be===jt.current){if(We=Be.alternate,We===null)throw Error(A(387));We.memoizedState.memoizedState!==Be.memoizedState.memoizedState&&(q!==null?q.push(Ji):q=[Ji])}Be=Be.return}q!==null&&nl(K,q,ne,ue),K.flags|=262144}function Sa(q){for(q=q.firstContext;q!==null;){if(!Lr(q.context._currentValue,q.memoizedValue))return!0;q=q.next}return!1}function mn(q){fn=q,bs=null,q=q.dependencies,q!==null&&(q.firstContext=null)}function yr(q){return Iu(fn,q)}function wa(q,K){return fn===null&&mn(q),Iu(q,K)}function Iu(q,K){var ne=K._currentValue;if(K={context:K,memoizedValue:ne,next:null},bs===null){if(q===null)throw Error(A(308));bs=K,q.dependencies={lanes:0,firstContext:K},q.flags|=524288}else bs=bs.next=K;return ne}var Hf=typeof AbortController<"u"?AbortController:function(){var q=[],K=this.signal={aborted:!1,addEventListener:function(ne,ue){q.push(ue)}};this.abort=function(){K.aborted=!0,q.forEach(function(ne){return ne()})}},Uf=R.unstable_scheduleCallback,qf=R.unstable_NormalPriority,or={$$typeof:je,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function il(){return{controller:new Hf,data:new Map,refCount:0}}function Ci(q){q.refCount--,q.refCount===0&&Uf(qf,function(){q.controller.abort()})}var Ni=null,al=0,Hn=0,Un=null;function Gf(q,K){if(Ni===null){var ne=Ni=[];al=0,Hn=uc(),Un={status:"pending",value:void 0,then:function(ue){ne.push(ue)}}}return al++,K.then(Fu,Fu),K}function Fu(){if(--al===0&&Ni!==null){Un!==null&&(Un.status="fulfilled");var q=Ni;Ni=null,Hn=0,Un=null;for(var K=0;K<q.length;K++)(0,q[K])()}}function Kf(q,K){var ne=[],ue={status:"pending",value:null,reason:null,then:function(Be){ne.push(Be)}};return q.then(function(){ue.status="fulfilled",ue.value=K;for(var Be=0;Be<ne.length;Be++)(0,ne[Be])(K)},function(Be){for(ue.status="rejected",ue.reason=Be,Be=0;Be<ne.length;Be++)(0,ne[Be])(void 0)}),ue}var Bu=qe.S;qe.S=function(q,K){Rp=Xt(),typeof K=="object"&&K!==null&&typeof K.then=="function"&&Gf(q,K),Bu!==null&&Bu(q,K)};var xn=Ye(null);function ol(){var q=xn.current;return q!==null?q:Qt.pooledCache}function Ca(q,K){K===null?ut(xn,xn.current):ut(xn,K.pool)}function $u(){var q=ol();return q===null?null:{parent:or._currentValue,pool:q}}var qn=Error(A(460)),ll=Error(A(474)),Na=Error(A(542)),Ta={then:function(){}};function Vu(q){return q=q.status,q==="fulfilled"||q==="rejected"}function zu(q,K,ne){switch(ne=q[ne],ne===void 0?q.push(K):ne!==K&&(K.then(xs,xs),K=ne),K.status){case"fulfilled":return K.value;case"rejected":throw q=K.reason,Uu(q),q;default:if(typeof K.status=="string")K.then(xs,xs);else{if(q=Qt,q!==null&&100<q.shellSuspendCounter)throw Error(A(482));q=K,q.status="pending",q.then(function(ue){if(K.status==="pending"){var Be=K;Be.status="fulfilled",Be.value=ue}},function(ue){if(K.status==="pending"){var Be=K;Be.status="rejected",Be.reason=ue}})}switch(K.status){case"fulfilled":return K.value;case"rejected":throw q=K.reason,Uu(q),q}throw yn=K,qn}}function gn(q){try{var K=q._init;return K(q._payload)}catch(ne){throw ne!==null&&typeof ne=="object"&&typeof ne.then=="function"?(yn=ne,qn):ne}}var yn=null;function Hu(){if(yn===null)throw Error(A(459));var q=yn;return yn=null,q}function Uu(q){if(q===qn||q===Na)throw Error(A(483))}var Gn=null,Ti=0;function ka(q){var K=Ti;return Ti+=1,Gn===null&&(Gn=[]),zu(Gn,q,K)}function ki(q,K){K=K.props.ref,q.ref=K!==void 0?K:null}function Aa(q,K){throw K.$$typeof===oe?Error(A(525)):(q=Object.prototype.toString.call(K),Error(A(31,q==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":q)))}function qu(q){function K(dt,ct){if(q){var ht=dt.deletions;ht===null?(dt.deletions=[ct],dt.flags|=16):ht.push(ct)}}function ne(dt,ct){if(!q)return null;for(;ct!==null;)K(dt,ct),ct=ct.sibling;return null}function ue(dt){for(var ct=new Map;dt!==null;)dt.key!==null?ct.set(dt.key,dt):ct.set(dt.index,dt),dt=dt.sibling;return ct}function Be(dt,ct){return dt=ys(dt,ct),dt.index=0,dt.sibling=null,dt}function Ve(dt,ct,ht){return dt.index=ht,q?(ht=dt.alternate,ht!==null?(ht=ht.index,ht<ct?(dt.flags|=67108866,ct):ht):(dt.flags|=67108866,ct)):(dt.flags|=1048576,ct)}function We(dt){return q&&dt.alternate===null&&(dt.flags|=67108866),dt}function et(dt,ct,ht,vt){return ct===null||ct.tag!==6?(ct=Yo(ht,dt.mode,vt),ct.return=dt,ct):(ct=Be(ct,ht),ct.return=dt,ct)}function lt(dt,ct,ht,vt){var Tt=ht.type;return Tt===xe?gt(dt,ct,ht.props.children,vt,ht.key):ct!==null&&(ct.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===ze&&gn(Tt)===ct.type)?(ct=Be(ct,ht.props),ki(ct,ht),ct.return=dt,ct):(ct=ja(ht.type,ht.key,ht.props,null,dt.mode,vt),ki(ct,ht),ct.return=dt,ct)}function ft(dt,ct,ht,vt){return ct===null||ct.tag!==4||ct.stateNode.containerInfo!==ht.containerInfo||ct.stateNode.implementation!==ht.implementation?(ct=Xo(ht,dt.mode,vt),ct.return=dt,ct):(ct=Be(ct,ht.children||[]),ct.return=dt,ct)}function gt(dt,ct,ht,vt,Tt){return ct===null||ct.tag!==7?(ct=pn(ht,dt.mode,vt,Tt),ct.return=dt,ct):(ct=Be(ct,ht),ct.return=dt,ct)}function bt(dt,ct,ht){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return ct=Yo(""+ct,dt.mode,ht),ct.return=dt,ct;if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case pe:return ht=ja(ct.type,ct.key,ct.props,null,dt.mode,ht),ki(ht,ct),ht.return=dt,ht;case fe:return ct=Xo(ct,dt.mode,ht),ct.return=dt,ct;case ze:return ct=gn(ct),bt(dt,ct,ht)}if(ot(ct)||rt(ct))return ct=pn(ct,dt.mode,ht,null),ct.return=dt,ct;if(typeof ct.then=="function")return bt(dt,ka(ct),ht);if(ct.$$typeof===je)return bt(dt,wa(dt,ct),ht);Aa(dt,ct)}return null}function mt(dt,ct,ht,vt){var Tt=ct!==null?ct.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return Tt!==null?null:et(dt,ct,""+ht,vt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case pe:return ht.key===Tt?lt(dt,ct,ht,vt):null;case fe:return ht.key===Tt?ft(dt,ct,ht,vt):null;case ze:return ht=gn(ht),mt(dt,ct,ht,vt)}if(ot(ht)||rt(ht))return Tt!==null?null:gt(dt,ct,ht,vt,null);if(typeof ht.then=="function")return mt(dt,ct,ka(ht),vt);if(ht.$$typeof===je)return mt(dt,ct,wa(dt,ht),vt);Aa(dt,ht)}return null}function xt(dt,ct,ht,vt,Tt){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return dt=dt.get(ht)||null,et(ct,dt,""+vt,Tt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case pe:return dt=dt.get(vt.key===null?ht:vt.key)||null,lt(ct,dt,vt,Tt);case fe:return dt=dt.get(vt.key===null?ht:vt.key)||null,ft(ct,dt,vt,Tt);case ze:return vt=gn(vt),xt(dt,ct,ht,vt,Tt)}if(ot(vt)||rt(vt))return dt=dt.get(ht)||null,gt(ct,dt,vt,Tt,null);if(typeof vt.then=="function")return xt(dt,ct,ht,ka(vt),Tt);if(vt.$$typeof===je)return xt(dt,ct,ht,wa(ct,vt),Tt);Aa(ct,vt)}return null}function wt(dt,ct,ht,vt){for(var Tt=null,Bt=null,Nt=ct,Mt=ct=0,It=null;Nt!==null&&Mt<ht.length;Mt++){Nt.index>Mt?(It=Nt,Nt=null):It=Nt.sibling;var $t=mt(dt,Nt,ht[Mt],vt);if($t===null){Nt===null&&(Nt=It);break}q&&Nt&&$t.alternate===null&&K(dt,Nt),ct=Ve($t,ct,Mt),Bt===null?Tt=$t:Bt.sibling=$t,Bt=$t,Nt=It}if(Mt===ht.length)return ne(dt,Nt),Ft&&vs(dt,Mt),Tt;if(Nt===null){for(;Mt<ht.length;Mt++)Nt=bt(dt,ht[Mt],vt),Nt!==null&&(ct=Ve(Nt,ct,Mt),Bt===null?Tt=Nt:Bt.sibling=Nt,Bt=Nt);return Ft&&vs(dt,Mt),Tt}for(Nt=ue(Nt);Mt<ht.length;Mt++)It=xt(Nt,dt,Mt,ht[Mt],vt),It!==null&&(q&&It.alternate!==null&&Nt.delete(It.key===null?Mt:It.key),ct=Ve(It,ct,Mt),Bt===null?Tt=It:Bt.sibling=It,Bt=It);return q&&Nt.forEach(function(sn){return K(dt,sn)}),Ft&&vs(dt,Mt),Tt}function kt(dt,ct,ht,vt){if(ht==null)throw Error(A(151));for(var Tt=null,Bt=null,Nt=ct,Mt=ct=0,It=null,$t=ht.next();Nt!==null&&!$t.done;Mt++,$t=ht.next()){Nt.index>Mt?(It=Nt,Nt=null):It=Nt.sibling;var sn=mt(dt,Nt,$t.value,vt);if(sn===null){Nt===null&&(Nt=It);break}q&&Nt&&sn.alternate===null&&K(dt,Nt),ct=Ve(sn,ct,Mt),Bt===null?Tt=sn:Bt.sibling=sn,Bt=sn,Nt=It}if($t.done)return ne(dt,Nt),Ft&&vs(dt,Mt),Tt;if(Nt===null){for(;!$t.done;Mt++,$t=ht.next())$t=bt(dt,$t.value,vt),$t!==null&&(ct=Ve($t,ct,Mt),Bt===null?Tt=$t:Bt.sibling=$t,Bt=$t);return Ft&&vs(dt,Mt),Tt}for(Nt=ue(Nt);!$t.done;Mt++,$t=ht.next())$t=xt(Nt,dt,Mt,$t.value,vt),$t!==null&&(q&&$t.alternate!==null&&Nt.delete($t.key===null?Mt:$t.key),ct=Ve($t,ct,Mt),Bt===null?Tt=$t:Bt.sibling=$t,Bt=$t);return q&&Nt.forEach(function(ix){return K(dt,ix)}),Ft&&vs(dt,Mt),Tt}function Wt(dt,ct,ht,vt){if(typeof ht=="object"&&ht!==null&&ht.type===xe&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case pe:e:{for(var Tt=ht.key;ct!==null;){if(ct.key===Tt){if(Tt=ht.type,Tt===xe){if(ct.tag===7){ne(dt,ct.sibling),vt=Be(ct,ht.props.children),vt.return=dt,dt=vt;break e}}else if(ct.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===ze&&gn(Tt)===ct.type){ne(dt,ct.sibling),vt=Be(ct,ht.props),ki(vt,ht),vt.return=dt,dt=vt;break e}ne(dt,ct);break}else K(dt,ct);ct=ct.sibling}ht.type===xe?(vt=pn(ht.props.children,dt.mode,vt,ht.key),vt.return=dt,dt=vt):(vt=ja(ht.type,ht.key,ht.props,null,dt.mode,vt),ki(vt,ht),vt.return=dt,dt=vt)}return We(dt);case fe:e:{for(Tt=ht.key;ct!==null;){if(ct.key===Tt)if(ct.tag===4&&ct.stateNode.containerInfo===ht.containerInfo&&ct.stateNode.implementation===ht.implementation){ne(dt,ct.sibling),vt=Be(ct,ht.children||[]),vt.return=dt,dt=vt;break e}else{ne(dt,ct);break}else K(dt,ct);ct=ct.sibling}vt=Xo(ht,dt.mode,vt),vt.return=dt,dt=vt}return We(dt);case ze:return ht=gn(ht),Wt(dt,ct,ht,vt)}if(ot(ht))return wt(dt,ct,ht,vt);if(rt(ht)){if(Tt=rt(ht),typeof Tt!="function")throw Error(A(150));return ht=Tt.call(ht),kt(dt,ct,ht,vt)}if(typeof ht.then=="function")return Wt(dt,ct,ka(ht),vt);if(ht.$$typeof===je)return Wt(dt,ct,wa(dt,ht),vt);Aa(dt,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint"?(ht=""+ht,ct!==null&&ct.tag===6?(ne(dt,ct.sibling),vt=Be(ct,ht),vt.return=dt,dt=vt):(ne(dt,ct),vt=Yo(ht,dt.mode,vt),vt.return=dt,dt=vt),We(dt)):ne(dt,ct)}return function(dt,ct,ht,vt){try{Ti=0;var Tt=Wt(dt,ct,ht,vt);return Gn=null,Tt}catch(Nt){if(Nt===qn||Nt===Na)throw Nt;var Bt=Ir(29,Nt,null,dt.mode);return Bt.lanes=vt,Bt.return=dt,Bt}finally{}}}var vn=qu(!0),Gu=qu(!1),$s=!1;function cl(q){q.updateQueue={baseState:q.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ul(q,K){q=q.updateQueue,K.updateQueue===q&&(K.updateQueue={baseState:q.baseState,firstBaseUpdate:q.firstBaseUpdate,lastBaseUpdate:q.lastBaseUpdate,shared:q.shared,callbacks:null})}function Vs(q){return{lane:q,tag:0,payload:null,callback:null,next:null}}function zs(q,K,ne){var ue=q.updateQueue;if(ue===null)return null;if(ue=ue.shared,(Vt&2)!==0){var Be=ue.pending;return Be===null?K.next=K:(K.next=Be.next,Be.next=K),ue.pending=K,K=Ea(q),ku(q,null,ne),K}return ba(q,ue,K,ne),Ea(q)}function Ai(q,K,ne){if(K=K.updateQueue,K!==null&&(K=K.shared,(ne&4194048)!==0)){var ue=K.lanes;ue&=q.pendingLanes,ne|=ue,K.lanes=ne,Ic(q,ne)}}function dl(q,K){var ne=q.updateQueue,ue=q.alternate;if(ue!==null&&(ue=ue.updateQueue,ne===ue)){var Be=null,Ve=null;if(ne=ne.firstBaseUpdate,ne!==null){do{var We={lane:ne.lane,tag:ne.tag,payload:ne.payload,callback:null,next:null};Ve===null?Be=Ve=We:Ve=Ve.next=We,ne=ne.next}while(ne!==null);Ve===null?Be=Ve=K:Ve=Ve.next=K}else Be=Ve=K;ne={baseState:ue.baseState,firstBaseUpdate:Be,lastBaseUpdate:Ve,shared:ue.shared,callbacks:ue.callbacks},q.updateQueue=ne;return}q=ne.lastBaseUpdate,q===null?ne.firstBaseUpdate=K:q.next=K,ne.lastBaseUpdate=K}var pl=!1;function Mi(){if(pl){var q=Un;if(q!==null)throw q}}function _i(q,K,ne,ue){pl=!1;var Be=q.updateQueue;$s=!1;var Ve=Be.firstBaseUpdate,We=Be.lastBaseUpdate,et=Be.shared.pending;if(et!==null){Be.shared.pending=null;var lt=et,ft=lt.next;lt.next=null,We===null?Ve=ft:We.next=ft,We=lt;var gt=q.alternate;gt!==null&&(gt=gt.updateQueue,et=gt.lastBaseUpdate,et!==We&&(et===null?gt.firstBaseUpdate=ft:et.next=ft,gt.lastBaseUpdate=lt))}if(Ve!==null){var bt=Be.baseState;We=0,gt=ft=lt=null,et=Ve;do{var mt=et.lane&-536870913,xt=mt!==et.lane;if(xt?(Lt&mt)===mt:(ue&mt)===mt){mt!==0&&mt===Hn&&(pl=!0),gt!==null&&(gt=gt.next={lane:0,tag:et.tag,payload:et.payload,callback:null,next:null});e:{var wt=q,kt=et;mt=K;var Wt=ne;switch(kt.tag){case 1:if(wt=kt.payload,typeof wt=="function"){bt=wt.call(Wt,bt,mt);break e}bt=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=kt.payload,mt=typeof wt=="function"?wt.call(Wt,bt,mt):wt,mt==null)break e;bt=ae({},bt,mt);break e;case 2:$s=!0}}mt=et.callback,mt!==null&&(q.flags|=64,xt&&(q.flags|=8192),xt=Be.callbacks,xt===null?Be.callbacks=[mt]:xt.push(mt))}else xt={lane:mt,tag:et.tag,payload:et.payload,callback:et.callback,next:null},gt===null?(ft=gt=xt,lt=bt):gt=gt.next=xt,We|=mt;if(et=et.next,et===null){if(et=Be.shared.pending,et===null)break;xt=et,et=xt.next,xt.next=null,Be.lastBaseUpdate=xt,Be.shared.pending=null}}while(!0);gt===null&&(lt=bt),Be.baseState=lt,Be.firstBaseUpdate=ft,Be.lastBaseUpdate=gt,Ve===null&&(Be.shared.lanes=0),Ks|=We,q.lanes=We,q.memoizedState=bt}}function Ku(q,K){if(typeof q!="function")throw Error(A(191,q));q.call(K)}function Wu(q,K){var ne=q.callbacks;if(ne!==null)for(q.callbacks=null,q=0;q<ne.length;q++)Ku(ne[q],K)}var Kn=Ye(null),Ma=Ye(0);function Qu(q,K){q=As,ut(Ma,q),ut(Kn,K),As=q|K.baseLanes}function hl(){ut(Ma,As),ut(Kn,Kn.current)}function fl(){As=Ma.current,st(Kn),st(Ma)}var Fr=Ye(null),Yr=null;function Hs(q){var K=q.alternate;ut(ir,ir.current&1),ut(Fr,q),Yr===null&&(K===null||Kn.current!==null||K.memoizedState!==null)&&(Yr=q)}function ml(q){ut(ir,ir.current),ut(Fr,q),Yr===null&&(Yr=q)}function Yu(q){q.tag===22?(ut(ir,ir.current),ut(Fr,q),Yr===null&&(Yr=q)):Us()}function Us(){ut(ir,ir.current),ut(Fr,Fr.current)}function Br(q){st(Fr),Yr===q&&(Yr=null),st(ir)}var ir=Ye(0);function _a(q){for(var K=q;K!==null;){if(K.tag===13){var ne=K.memoizedState;if(ne!==null&&(ne=ne.dehydrated,ne===null||jc(ne)||Rc(ne)))return K}else if(K.tag===19&&(K.memoizedProps.revealOrder==="forwards"||K.memoizedProps.revealOrder==="backwards"||K.memoizedProps.revealOrder==="unstable_legacy-backwards"||K.memoizedProps.revealOrder==="together")){if((K.flags&128)!==0)return K}else if(K.child!==null){K.child.return=K,K=K.child;continue}if(K===q)break;for(;K.sibling===null;){if(K.return===null||K.return===q)return null;K=K.return}K.sibling.return=K.return,K=K.sibling}return null}var js=0,At=null,Gt=null,lr=null,Pa=!1,Wn=!1,bn=!1,Da=0,Pi=0,Qn=null,Wf=0;function sr(){throw Error(A(321))}function xl(q,K){if(K===null)return!1;for(var ne=0;ne<K.length&&ne<q.length;ne++)if(!Lr(q[ne],K[ne]))return!1;return!0}function gl(q,K,ne,ue,Be,Ve){return js=Ve,At=K,K.memoizedState=null,K.updateQueue=null,K.lanes=0,qe.H=q===null||q.memoizedState===null?Dd:Pl,bn=!1,Ve=ne(ue,Be),bn=!1,Wn&&(Ve=Ju(K,ne,ue,Be)),Xu(q),Ve}function Xu(q){qe.H=Li;var K=Gt!==null&&Gt.next!==null;if(js=0,lr=Gt=At=null,Pa=!1,Pi=0,Qn=null,K)throw Error(A(300));q===null||cr||(q=q.dependencies,q!==null&&Sa(q)&&(cr=!0))}function Ju(q,K,ne,ue){At=q;var Be=0;do{if(Wn&&(Qn=null),Pi=0,Wn=!1,25<=Be)throw Error(A(301));if(Be+=1,lr=Gt=null,q.updateQueue!=null){var Ve=q.updateQueue;Ve.lastEffect=null,Ve.events=null,Ve.stores=null,Ve.memoCache!=null&&(Ve.memoCache.index=0)}qe.H=Od,Ve=K(ne,ue)}while(Wn);return Ve}function Qf(){var q=qe.H,K=q.useState()[0];return K=typeof K.then=="function"?Di(K):K,q=q.useState()[0],(Gt!==null?Gt.memoizedState:null)!==q&&(At.flags|=1024),K}function yl(){var q=Da!==0;return Da=0,q}function vl(q,K,ne){K.updateQueue=q.updateQueue,K.flags&=-2053,q.lanes&=~ne}function bl(q){if(Pa){for(q=q.memoizedState;q!==null;){var K=q.queue;K!==null&&(K.pending=null),q=q.next}Pa=!1}js=0,lr=Gt=At=null,Wn=!1,Pi=Da=0,Qn=null}function wr(){var q={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?At.memoizedState=lr=q:lr=lr.next=q,lr}function ar(){if(Gt===null){var q=At.alternate;q=q!==null?q.memoizedState:null}else q=Gt.next;var K=lr===null?At.memoizedState:lr.next;if(K!==null)lr=K,Gt=q;else{if(q===null)throw At.alternate===null?Error(A(467)):Error(A(310));Gt=q,q={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},lr===null?At.memoizedState=lr=q:lr=lr.next=q}return lr}function Oa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Di(q){var K=Pi;return Pi+=1,Qn===null&&(Qn=[]),q=zu(Qn,q,K),K=At,(lr===null?K.memoizedState:lr.next)===null&&(K=K.alternate,qe.H=K===null||K.memoizedState===null?Dd:Pl),q}function La(q){if(q!==null&&typeof q=="object"){if(typeof q.then=="function")return Di(q);if(q.$$typeof===je)return yr(q)}throw Error(A(438,String(q)))}function El(q){var K=null,ne=At.updateQueue;if(ne!==null&&(K=ne.memoCache),K==null){var ue=At.alternate;ue!==null&&(ue=ue.updateQueue,ue!==null&&(ue=ue.memoCache,ue!=null&&(K={data:ue.data.map(function(Be){return Be.slice()}),index:0})))}if(K==null&&(K={data:[],index:0}),ne===null&&(ne=Oa(),At.updateQueue=ne),ne.memoCache=K,ne=K.data[K.index],ne===void 0)for(ne=K.data[K.index]=Array(q),ue=0;ue<q;ue++)ne[ue]=Je;return K.index++,ne}function Rs(q,K){return typeof K=="function"?K(q):K}function Ia(q){var K=ar();return jl(K,Gt,q)}function jl(q,K,ne){var ue=q.queue;if(ue===null)throw Error(A(311));ue.lastRenderedReducer=ne;var Be=q.baseQueue,Ve=ue.pending;if(Ve!==null){if(Be!==null){var We=Be.next;Be.next=Ve.next,Ve.next=We}K.baseQueue=Be=Ve,ue.pending=null}if(Ve=q.baseState,Be===null)q.memoizedState=Ve;else{K=Be.next;var et=We=null,lt=null,ft=K,gt=!1;do{var bt=ft.lane&-536870913;if(bt!==ft.lane?(Lt&bt)===bt:(js&bt)===bt){var mt=ft.revertLane;if(mt===0)lt!==null&&(lt=lt.next={lane:0,revertLane:0,gesture:null,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null}),bt===Hn&&(gt=!0);else if((js&mt)===mt){ft=ft.next,mt===Hn&&(gt=!0);continue}else bt={lane:0,revertLane:ft.revertLane,gesture:null,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null},lt===null?(et=lt=bt,We=Ve):lt=lt.next=bt,At.lanes|=mt,Ks|=mt;bt=ft.action,bn&&ne(Ve,bt),Ve=ft.hasEagerState?ft.eagerState:ne(Ve,bt)}else mt={lane:bt,revertLane:ft.revertLane,gesture:ft.gesture,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null},lt===null?(et=lt=mt,We=Ve):lt=lt.next=mt,At.lanes|=bt,Ks|=bt;ft=ft.next}while(ft!==null&&ft!==K);if(lt===null?We=Ve:lt.next=et,!Lr(Ve,q.memoizedState)&&(cr=!0,gt&&(ne=Un,ne!==null)))throw ne;q.memoizedState=Ve,q.baseState=We,q.baseQueue=lt,ue.lastRenderedState=Ve}return Be===null&&(ue.lanes=0),[q.memoizedState,ue.dispatch]}function Rl(q){var K=ar(),ne=K.queue;if(ne===null)throw Error(A(311));ne.lastRenderedReducer=q;var ue=ne.dispatch,Be=ne.pending,Ve=K.memoizedState;if(Be!==null){ne.pending=null;var We=Be=Be.next;do Ve=q(Ve,We.action),We=We.next;while(We!==Be);Lr(Ve,K.memoizedState)||(cr=!0),K.memoizedState=Ve,K.baseQueue===null&&(K.baseState=Ve),ne.lastRenderedState=Ve}return[Ve,ue]}function Zu(q,K,ne){var ue=At,Be=ar(),Ve=Ft;if(Ve){if(ne===void 0)throw Error(A(407));ne=ne()}else ne=K();var We=!Lr((Gt||Be).memoizedState,ne);if(We&&(Be.memoizedState=ne,cr=!0),Be=Be.queue,Cl(rd.bind(null,ue,Be,q),[q]),Be.getSnapshot!==K||We||lr!==null&&lr.memoizedState.tag&1){if(ue.flags|=2048,Yn(9,{destroy:void 0},td.bind(null,ue,Be,ne,K),null),Qt===null)throw Error(A(349));Ve||(js&127)!==0||ed(ue,K,ne)}return ne}function ed(q,K,ne){q.flags|=16384,q={getSnapshot:K,value:ne},K=At.updateQueue,K===null?(K=Oa(),At.updateQueue=K,K.stores=[q]):(ne=K.stores,ne===null?K.stores=[q]:ne.push(q))}function td(q,K,ne,ue){K.value=ne,K.getSnapshot=ue,sd(K)&&nd(q)}function rd(q,K,ne){return ne(function(){sd(K)&&nd(q)})}function sd(q){var K=q.getSnapshot;q=q.value;try{var ne=K();return!Lr(q,ne)}catch{return!0}}function nd(q){var K=dn(q,2);K!==null&&Pr(K,q,2)}function Sl(q){var K=wr();if(typeof q=="function"){var ne=q;if(q=ne(),bn){Ps(!0);try{ne()}finally{Ps(!1)}}}return K.memoizedState=K.baseState=q,K.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:q},K}function ad(q,K,ne,ue){return q.baseState=ne,jl(q,Gt,typeof ue=="function"?ue:Rs)}function Yf(q,K,ne,ue,Be){if($a(q))throw Error(A(485));if(q=K.action,q!==null){var Ve={payload:Be,action:q,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(We){Ve.listeners.push(We)}};qe.T!==null?ne(!0):Ve.isTransition=!1,ue(Ve),ne=K.pending,ne===null?(Ve.next=K.pending=Ve,od(K,Ve)):(Ve.next=ne.next,K.pending=ne.next=Ve)}}function od(q,K){var ne=K.action,ue=K.payload,Be=q.state;if(K.isTransition){var Ve=qe.T,We={};qe.T=We;try{var et=ne(Be,ue),lt=qe.S;lt!==null&&lt(We,et),ld(q,K,et)}catch(ft){wl(q,K,ft)}finally{Ve!==null&&We.types!==null&&(Ve.types=We.types),qe.T=Ve}}else try{Ve=ne(Be,ue),ld(q,K,Ve)}catch(ft){wl(q,K,ft)}}function ld(q,K,ne){ne!==null&&typeof ne=="object"&&typeof ne.then=="function"?ne.then(function(ue){cd(q,K,ue)},function(ue){return wl(q,K,ue)}):cd(q,K,ne)}function cd(q,K,ne){K.status="fulfilled",K.value=ne,ud(K),q.state=ne,K=q.pending,K!==null&&(ne=K.next,ne===K?q.pending=null:(ne=ne.next,K.next=ne,od(q,ne)))}function wl(q,K,ne){var ue=q.pending;if(q.pending=null,ue!==null){ue=ue.next;do K.status="rejected",K.reason=ne,ud(K),K=K.next;while(K!==ue)}q.action=null}function ud(q){q=q.listeners;for(var K=0;K<q.length;K++)(0,q[K])()}function dd(q,K){return K}function pd(q,K){if(Ft){var ne=Qt.formState;if(ne!==null){e:{var ue=At;if(Ft){if(Jt){t:{for(var Be=Jt,Ve=Qr;Be.nodeType!==8;){if(!Ve){Be=null;break t}if(Be=Xr(Be.nextSibling),Be===null){Be=null;break t}}Ve=Be.data,Be=Ve==="F!"||Ve==="F"?Be:null}if(Be){Jt=Xr(Be.nextSibling),ue=Be.data==="F!";break e}}Fs(ue)}ue=!1}ue&&(K=ne[0])}}return ne=wr(),ne.memoizedState=ne.baseState=K,ue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dd,lastRenderedState:K},ne.queue=ue,ne=Md.bind(null,At,ue),ue.dispatch=ne,ue=Sl(!1),Ve=_l.bind(null,At,!1,ue.queue),ue=wr(),Be={state:K,dispatch:null,action:q,pending:null},ue.queue=Be,ne=Yf.bind(null,At,Be,Ve,ne),Be.dispatch=ne,ue.memoizedState=q,[K,ne,!1]}function hd(q){var K=ar();return fd(K,Gt,q)}function fd(q,K,ne){if(K=jl(q,K,dd)[0],q=Ia(Rs)[0],typeof K=="object"&&K!==null&&typeof K.then=="function")try{var ue=Di(K)}catch(We){throw We===qn?Na:We}else ue=K;K=ar();var Be=K.queue,Ve=Be.dispatch;return ne!==K.memoizedState&&(At.flags|=2048,Yn(9,{destroy:void 0},Xf.bind(null,Be,ne),null)),[ue,Ve,q]}function Xf(q,K){q.action=K}function md(q){var K=ar(),ne=Gt;if(ne!==null)return fd(K,ne,q);ar(),K=K.memoizedState,ne=ar();var ue=ne.queue.dispatch;return ne.memoizedState=q,[K,ue,!1]}function Yn(q,K,ne,ue){return q={tag:q,create:ne,deps:ue,inst:K,next:null},K=At.updateQueue,K===null&&(K=Oa(),At.updateQueue=K),ne=K.lastEffect,ne===null?K.lastEffect=q.next=q:(ue=ne.next,ne.next=q,q.next=ue,K.lastEffect=q),q}function xd(){return ar().memoizedState}function Fa(q,K,ne,ue){var Be=wr();At.flags|=q,Be.memoizedState=Yn(1|K,{destroy:void 0},ne,ue===void 0?null:ue)}function Ba(q,K,ne,ue){var Be=ar();ue=ue===void 0?null:ue;var Ve=Be.memoizedState.inst;Gt!==null&&ue!==null&&xl(ue,Gt.memoizedState.deps)?Be.memoizedState=Yn(K,Ve,ne,ue):(At.flags|=q,Be.memoizedState=Yn(1|K,Ve,ne,ue))}function gd(q,K){Fa(8390656,8,q,K)}function Cl(q,K){Ba(2048,8,q,K)}function Jf(q){At.flags|=4;var K=At.updateQueue;if(K===null)K=Oa(),At.updateQueue=K,K.events=[q];else{var ne=K.events;ne===null?K.events=[q]:ne.push(q)}}function yd(q){var K=ar().memoizedState;return Jf({ref:K,nextImpl:q}),function(){if((Vt&2)!==0)throw Error(A(440));return K.impl.apply(void 0,arguments)}}function vd(q,K){return Ba(4,2,q,K)}function bd(q,K){return Ba(4,4,q,K)}function Ed(q,K){if(typeof K=="function"){q=q();var ne=K(q);return function(){typeof ne=="function"?ne():K(null)}}if(K!=null)return q=q(),K.current=q,function(){K.current=null}}function jd(q,K,ne){ne=ne!=null?ne.concat([q]):null,Ba(4,4,Ed.bind(null,K,q),ne)}function Tl(){}function Rd(q,K){var ne=ar();K=K===void 0?null:K;var ue=ne.memoizedState;return K!==null&&xl(K,ue[1])?ue[0]:(ne.memoizedState=[q,K],q)}function Sd(q,K){var ne=ar();K=K===void 0?null:K;var ue=ne.memoizedState;if(K!==null&&xl(K,ue[1]))return ue[0];if(ue=q(),bn){Ps(!0);try{q()}finally{Ps(!1)}}return ne.memoizedState=[ue,K],ue}function kl(q,K,ne){return ne===void 0||(js&1073741824)!==0&&(Lt&261930)===0?q.memoizedState=K:(q.memoizedState=ne,q=wp(),At.lanes|=q,Ks|=q,ne)}function wd(q,K,ne,ue){return Lr(ne,K)?ne:Kn.current!==null?(q=kl(q,ne,ue),Lr(q,K)||(cr=!0),q):(js&42)===0||(js&1073741824)!==0&&(Lt&261930)===0?(cr=!0,q.memoizedState=ne):(q=wp(),At.lanes|=q,Ks|=q,K)}function Cd(q,K,ne,ue,Be){var Ve=Xe.p;Xe.p=Ve!==0&&8>Ve?Ve:8;var We=qe.T,et={};qe.T=et,_l(q,!1,K,ne);try{var lt=Be(),ft=qe.S;if(ft!==null&&ft(et,lt),lt!==null&&typeof lt=="object"&&typeof lt.then=="function"){var gt=Kf(lt,ue);Oi(q,K,gt,zr(q))}else Oi(q,K,ue,zr(q))}catch(bt){Oi(q,K,{then:function(){},status:"rejected",reason:bt},zr())}finally{Xe.p=Ve,We!==null&&et.types!==null&&(We.types=et.types),qe.T=We}}function Zf(){}function Al(q,K,ne,ue){if(q.tag!==5)throw Error(A(476));var Be=Nd(q).queue;Cd(q,Be,K,Ge,ne===null?Zf:function(){return Td(q),ne(ue)})}function Nd(q){var K=q.memoizedState;if(K!==null)return K;K={memoizedState:Ge,baseState:Ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:Ge},next:null};var ne={};return K.next={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:ne},next:null},q.memoizedState=K,q=q.alternate,q!==null&&(q.memoizedState=K),K}function Td(q){var K=Nd(q);K.next===null&&(K=q.alternate.memoizedState),Oi(q,K.next.queue,{},zr())}function Ml(){return yr(Ji)}function kd(){return ar().memoizedState}function Ad(){return ar().memoizedState}function em(q){for(var K=q.return;K!==null;){switch(K.tag){case 24:case 3:var ne=zr();q=Vs(ne);var ue=zs(K,q,ne);ue!==null&&(Pr(ue,K,ne),Ai(ue,K,ne)),K={cache:il()},q.payload=K;return}K=K.return}}function tm(q,K,ne){var ue=zr();ne={lane:ue,revertLane:0,gesture:null,action:ne,hasEagerState:!1,eagerState:null,next:null},$a(q)?_d(K,ne):(ne=Wo(q,K,ne,ue),ne!==null&&(Pr(ne,q,ue),Pd(ne,K,ue)))}function Md(q,K,ne){var ue=zr();Oi(q,K,ne,ue)}function Oi(q,K,ne,ue){var Be={lane:ue,revertLane:0,gesture:null,action:ne,hasEagerState:!1,eagerState:null,next:null};if($a(q))_d(K,Be);else{var Ve=q.alternate;if(q.lanes===0&&(Ve===null||Ve.lanes===0)&&(Ve=K.lastRenderedReducer,Ve!==null))try{var We=K.lastRenderedState,et=Ve(We,ne);if(Be.hasEagerState=!0,Be.eagerState=et,Lr(et,We))return ba(q,K,Be,0),Qt===null&&va(),!1}catch{}finally{}if(ne=Wo(q,K,Be,ue),ne!==null)return Pr(ne,q,ue),Pd(ne,K,ue),!0}return!1}function _l(q,K,ne,ue){if(ue={lane:2,revertLane:uc(),gesture:null,action:ue,hasEagerState:!1,eagerState:null,next:null},$a(q)){if(K)throw Error(A(479))}else K=Wo(q,ne,ue,2),K!==null&&Pr(K,q,2)}function $a(q){var K=q.alternate;return q===At||K!==null&&K===At}function _d(q,K){Wn=Pa=!0;var ne=q.pending;ne===null?K.next=K:(K.next=ne.next,ne.next=K),q.pending=K}function Pd(q,K,ne){if((ne&4194048)!==0){var ue=K.lanes;ue&=q.pendingLanes,ne|=ue,K.lanes=ne,Ic(q,ne)}}var Li={readContext:yr,use:La,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useLayoutEffect:sr,useInsertionEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useSyncExternalStore:sr,useId:sr,useHostTransitionStatus:sr,useFormState:sr,useActionState:sr,useOptimistic:sr,useMemoCache:sr,useCacheRefresh:sr};Li.useEffectEvent=sr;var Dd={readContext:yr,use:La,useCallback:function(q,K){return wr().memoizedState=[q,K===void 0?null:K],q},useContext:yr,useEffect:gd,useImperativeHandle:function(q,K,ne){ne=ne!=null?ne.concat([q]):null,Fa(4194308,4,Ed.bind(null,K,q),ne)},useLayoutEffect:function(q,K){return Fa(4194308,4,q,K)},useInsertionEffect:function(q,K){Fa(4,2,q,K)},useMemo:function(q,K){var ne=wr();K=K===void 0?null:K;var ue=q();if(bn){Ps(!0);try{q()}finally{Ps(!1)}}return ne.memoizedState=[ue,K],ue},useReducer:function(q,K,ne){var ue=wr();if(ne!==void 0){var Be=ne(K);if(bn){Ps(!0);try{ne(K)}finally{Ps(!1)}}}else Be=K;return ue.memoizedState=ue.baseState=Be,q={pending:null,lanes:0,dispatch:null,lastRenderedReducer:q,lastRenderedState:Be},ue.queue=q,q=q.dispatch=tm.bind(null,At,q),[ue.memoizedState,q]},useRef:function(q){var K=wr();return q={current:q},K.memoizedState=q},useState:function(q){q=Sl(q);var K=q.queue,ne=Md.bind(null,At,K);return K.dispatch=ne,[q.memoizedState,ne]},useDebugValue:Tl,useDeferredValue:function(q,K){var ne=wr();return kl(ne,q,K)},useTransition:function(){var q=Sl(!1);return q=Cd.bind(null,At,q.queue,!0,!1),wr().memoizedState=q,[!1,q]},useSyncExternalStore:function(q,K,ne){var ue=At,Be=wr();if(Ft){if(ne===void 0)throw Error(A(407));ne=ne()}else{if(ne=K(),Qt===null)throw Error(A(349));(Lt&127)!==0||ed(ue,K,ne)}Be.memoizedState=ne;var Ve={value:ne,getSnapshot:K};return Be.queue=Ve,gd(rd.bind(null,ue,Ve,q),[q]),ue.flags|=2048,Yn(9,{destroy:void 0},td.bind(null,ue,Ve,ne,K),null),ne},useId:function(){var q=wr(),K=Qt.identifierPrefix;if(Ft){var ne=ds,ue=us;ne=(ue&~(1<<32-Or(ue)-1)).toString(32)+ne,K="_"+K+"R_"+ne,ne=Da++,0<ne&&(K+="H"+ne.toString(32)),K+="_"}else ne=Wf++,K="_"+K+"r_"+ne.toString(32)+"_";return q.memoizedState=K},useHostTransitionStatus:Ml,useFormState:pd,useActionState:pd,useOptimistic:function(q){var K=wr();K.memoizedState=K.baseState=q;var ne={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return K.queue=ne,K=_l.bind(null,At,!0,ne),ne.dispatch=K,[q,K]},useMemoCache:El,useCacheRefresh:function(){return wr().memoizedState=em.bind(null,At)},useEffectEvent:function(q){var K=wr(),ne={impl:q};return K.memoizedState=ne,function(){if((Vt&2)!==0)throw Error(A(440));return ne.impl.apply(void 0,arguments)}}},Pl={readContext:yr,use:La,useCallback:Rd,useContext:yr,useEffect:Cl,useImperativeHandle:jd,useInsertionEffect:vd,useLayoutEffect:bd,useMemo:Sd,useReducer:Ia,useRef:xd,useState:function(){return Ia(Rs)},useDebugValue:Tl,useDeferredValue:function(q,K){var ne=ar();return wd(ne,Gt.memoizedState,q,K)},useTransition:function(){var q=Ia(Rs)[0],K=ar().memoizedState;return[typeof q=="boolean"?q:Di(q),K]},useSyncExternalStore:Zu,useId:kd,useHostTransitionStatus:Ml,useFormState:hd,useActionState:hd,useOptimistic:function(q,K){var ne=ar();return ad(ne,Gt,q,K)},useMemoCache:El,useCacheRefresh:Ad};Pl.useEffectEvent=yd;var Od={readContext:yr,use:La,useCallback:Rd,useContext:yr,useEffect:Cl,useImperativeHandle:jd,useInsertionEffect:vd,useLayoutEffect:bd,useMemo:Sd,useReducer:Rl,useRef:xd,useState:function(){return Rl(Rs)},useDebugValue:Tl,useDeferredValue:function(q,K){var ne=ar();return Gt===null?kl(ne,q,K):wd(ne,Gt.memoizedState,q,K)},useTransition:function(){var q=Rl(Rs)[0],K=ar().memoizedState;return[typeof q=="boolean"?q:Di(q),K]},useSyncExternalStore:Zu,useId:kd,useHostTransitionStatus:Ml,useFormState:md,useActionState:md,useOptimistic:function(q,K){var ne=ar();return Gt!==null?ad(ne,Gt,q,K):(ne.baseState=q,[q,ne.queue.dispatch])},useMemoCache:El,useCacheRefresh:Ad};Od.useEffectEvent=yd;function Dl(q,K,ne,ue){K=q.memoizedState,ne=ne(ue,K),ne=ne==null?K:ae({},K,ne),q.memoizedState=ne,q.lanes===0&&(q.updateQueue.baseState=ne)}var Ol={enqueueSetState:function(q,K,ne){q=q._reactInternals;var ue=zr(),Be=Vs(ue);Be.payload=K,ne!=null&&(Be.callback=ne),K=zs(q,Be,ue),K!==null&&(Pr(K,q,ue),Ai(K,q,ue))},enqueueReplaceState:function(q,K,ne){q=q._reactInternals;var ue=zr(),Be=Vs(ue);Be.tag=1,Be.payload=K,ne!=null&&(Be.callback=ne),K=zs(q,Be,ue),K!==null&&(Pr(K,q,ue),Ai(K,q,ue))},enqueueForceUpdate:function(q,K){q=q._reactInternals;var ne=zr(),ue=Vs(ne);ue.tag=2,K!=null&&(ue.callback=K),K=zs(q,ue,ne),K!==null&&(Pr(K,q,ne),Ai(K,q,ne))}};function Ld(q,K,ne,ue,Be,Ve,We){return q=q.stateNode,typeof q.shouldComponentUpdate=="function"?q.shouldComponentUpdate(ue,Ve,We):K.prototype&&K.prototype.isPureReactComponent?!ji(ne,ue)||!ji(Be,Ve):!0}function Id(q,K,ne,ue){q=K.state,typeof K.componentWillReceiveProps=="function"&&K.componentWillReceiveProps(ne,ue),typeof K.UNSAFE_componentWillReceiveProps=="function"&&K.UNSAFE_componentWillReceiveProps(ne,ue),K.state!==q&&Ol.enqueueReplaceState(K,K.state,null)}function En(q,K){var ne=K;if("ref"in K){ne={};for(var ue in K)ue!=="ref"&&(ne[ue]=K[ue])}if(q=q.defaultProps){ne===K&&(ne=ae({},ne));for(var Be in q)ne[Be]===void 0&&(ne[Be]=q[Be])}return ne}function Fd(q){ya(q)}function Bd(q){console.error(q)}function $d(q){ya(q)}function Va(q,K){try{var ne=q.onUncaughtError;ne(K.value,{componentStack:K.stack})}catch(ue){setTimeout(function(){throw ue})}}function Vd(q,K,ne){try{var ue=q.onCaughtError;ue(ne.value,{componentStack:ne.stack,errorBoundary:K.tag===1?K.stateNode:null})}catch(Be){setTimeout(function(){throw Be})}}function Ll(q,K,ne){return ne=Vs(ne),ne.tag=3,ne.payload={element:null},ne.callback=function(){Va(q,K)},ne}function zd(q){return q=Vs(q),q.tag=3,q}function Hd(q,K,ne,ue){var Be=ne.type.getDerivedStateFromError;if(typeof Be=="function"){var Ve=ue.value;q.payload=function(){return Be(Ve)},q.callback=function(){Vd(K,ne,ue)}}var We=ne.stateNode;We!==null&&typeof We.componentDidCatch=="function"&&(q.callback=function(){Vd(K,ne,ue),typeof Be!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var et=ue.stack;this.componentDidCatch(ue.value,{componentStack:et!==null?et:""})})}function sm(q,K,ne,ue,Be){if(ne.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){if(K=ne.alternate,K!==null&&zn(K,ne,Be,!0),ne=Fr.current,ne!==null){switch(ne.tag){case 31:case 13:return Yr===null?Za():ne.alternate===null&&nr===0&&(nr=3),ne.flags&=-257,ne.flags|=65536,ne.lanes=Be,ue===Ta?ne.flags|=16384:(K=ne.updateQueue,K===null?ne.updateQueue=new Set([ue]):K.add(ue),oc(q,ue,Be)),!1;case 22:return ne.flags|=65536,ue===Ta?ne.flags|=16384:(K=ne.updateQueue,K===null?(K={transitions:null,markerInstances:null,retryQueue:new Set([ue])},ne.updateQueue=K):(ne=K.retryQueue,ne===null?K.retryQueue=new Set([ue]):ne.add(ue)),oc(q,ue,Be)),!1}throw Error(A(435,ne.tag))}return oc(q,ue,Be),Za(),!1}if(Ft)return K=Fr.current,K!==null?((K.flags&65536)===0&&(K.flags|=256),K.flags|=65536,K.lanes=Be,ue!==el&&(q=Error(A(422),{cause:ue}),wi(Gr(q,ne)))):(ue!==el&&(K=Error(A(423),{cause:ue}),wi(Gr(K,ne))),q=q.current.alternate,q.flags|=65536,Be&=-Be,q.lanes|=Be,ue=Gr(ue,ne),Be=Ll(q.stateNode,ue,Be),dl(q,Be),nr!==4&&(nr=2)),!1;var Ve=Error(A(520),{cause:ue});if(Ve=Gr(Ve,ne),Ui===null?Ui=[Ve]:Ui.push(Ve),nr!==4&&(nr=2),K===null)return!0;ue=Gr(ue,ne),ne=K;do{switch(ne.tag){case 3:return ne.flags|=65536,q=Be&-Be,ne.lanes|=q,q=Ll(ne.stateNode,ue,q),dl(ne,q),!1;case 1:if(K=ne.type,Ve=ne.stateNode,(ne.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||Ve!==null&&typeof Ve.componentDidCatch=="function"&&(Ws===null||!Ws.has(Ve))))return ne.flags|=65536,Be&=-Be,ne.lanes|=Be,Be=zd(Be),Hd(Be,q,ne,ue),dl(ne,Be),!1}ne=ne.return}while(ne!==null);return!1}var Il=Error(A(461)),cr=!1;function vr(q,K,ne,ue){K.child=q===null?Gu(K,null,ne,ue):vn(K,q.child,ne,ue)}function Ud(q,K,ne,ue,Be){ne=ne.render;var Ve=K.ref;if("ref"in ue){var We={};for(var et in ue)et!=="ref"&&(We[et]=ue[et])}else We=ue;return mn(K),ue=gl(q,K,ne,We,Ve,Be),et=yl(),q!==null&&!cr?(vl(q,K,Be),Ss(q,K,Be)):(Ft&&et&&Jo(K),K.flags|=1,vr(q,K,ue,Be),K.child)}function qd(q,K,ne,ue,Be){if(q===null){var Ve=ne.type;return typeof Ve=="function"&&!Qo(Ve)&&Ve.defaultProps===void 0&&ne.compare===null?(K.tag=15,K.type=Ve,Gd(q,K,Ve,ue,Be)):(q=ja(ne.type,null,ue,K,K.mode,Be),q.ref=K.ref,q.return=K,K.child=q)}if(Ve=q.child,!ql(q,Be)){var We=Ve.memoizedProps;if(ne=ne.compare,ne=ne!==null?ne:ji,ne(We,ue)&&q.ref===K.ref)return Ss(q,K,Be)}return K.flags|=1,q=ys(Ve,ue),q.ref=K.ref,q.return=K,K.child=q}function Gd(q,K,ne,ue,Be){if(q!==null){var Ve=q.memoizedProps;if(ji(Ve,ue)&&q.ref===K.ref)if(cr=!1,K.pendingProps=ue=Ve,ql(q,Be))(q.flags&131072)!==0&&(cr=!0);else return K.lanes=q.lanes,Ss(q,K,Be)}return Fl(q,K,ne,ue,Be)}function Kd(q,K,ne,ue){var Be=ue.children,Ve=q!==null?q.memoizedState:null;if(q===null&&K.stateNode===null&&(K.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),ue.mode==="hidden"){if((K.flags&128)!==0){if(Ve=Ve!==null?Ve.baseLanes|ne:ne,q!==null){for(ue=K.child=q.child,Be=0;ue!==null;)Be=Be|ue.lanes|ue.childLanes,ue=ue.sibling;ue=Be&~Ve}else ue=0,K.child=null;return Wd(q,K,Ve,ne,ue)}if((ne&536870912)!==0)K.memoizedState={baseLanes:0,cachePool:null},q!==null&&Ca(K,Ve!==null?Ve.cachePool:null),Ve!==null?Qu(K,Ve):hl(),Yu(K);else return ue=K.lanes=536870912,Wd(q,K,Ve!==null?Ve.baseLanes|ne:ne,ne,ue)}else Ve!==null?(Ca(K,Ve.cachePool),Qu(K,Ve),Us(),K.memoizedState=null):(q!==null&&Ca(K,null),hl(),Us());return vr(q,K,Be,ne),K.child}function Ii(q,K){return q!==null&&q.tag===22||K.stateNode!==null||(K.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),K.sibling}function Wd(q,K,ne,ue,Be){var Ve=ol();return Ve=Ve===null?null:{parent:or._currentValue,pool:Ve},K.memoizedState={baseLanes:ne,cachePool:Ve},q!==null&&Ca(K,null),hl(),Yu(K),q!==null&&zn(q,K,ue,!0),K.childLanes=Be,null}function za(q,K){return K=Ua({mode:K.mode,children:K.children},q.mode),K.ref=q.ref,q.child=K,K.return=q,K}function Qd(q,K,ne){return vn(K,q.child,null,ne),q=za(K,K.pendingProps),q.flags|=2,Br(K),K.memoizedState=null,q}function nm(q,K,ne){var ue=K.pendingProps,Be=(K.flags&128)!==0;if(K.flags&=-129,q===null){if(Ft){if(ue.mode==="hidden")return q=za(K,ue),K.lanes=536870912,Ii(null,q);if(ml(K),(q=Jt)?(q=oh(q,Qr),q=q!==null&&q.data==="&"?q:null,q!==null&&(K.memoizedState={dehydrated:q,treeContext:Ls!==null?{id:us,overflow:ds}:null,retryLane:536870912,hydrationErrors:null},ne=Mu(q),ne.return=K,K.child=ne,gr=K,Jt=null)):q=null,q===null)throw Fs(K);return K.lanes=536870912,null}return za(K,ue)}var Ve=q.memoizedState;if(Ve!==null){var We=Ve.dehydrated;if(ml(K),Be)if(K.flags&256)K.flags&=-257,K=Qd(q,K,ne);else if(K.memoizedState!==null)K.child=q.child,K.flags|=128,K=null;else throw Error(A(558));else if(cr||zn(q,K,ne,!1),Be=(ne&q.childLanes)!==0,cr||Be){if(ue=Qt,ue!==null&&(We=Fc(ue,ne),We!==0&&We!==Ve.retryLane))throw Ve.retryLane=We,dn(q,We),Pr(ue,q,We),Il;Za(),K=Qd(q,K,ne)}else q=Ve.treeContext,Jt=Xr(We.nextSibling),gr=K,Ft=!0,Is=null,Qr=!1,q!==null&&Du(K,q),K=za(K,ue),K.flags|=4096;return K}return q=ys(q.child,{mode:ue.mode,children:ue.children}),q.ref=K.ref,K.child=q,q.return=K,q}function Ha(q,K){var ne=K.ref;if(ne===null)q!==null&&q.ref!==null&&(K.flags|=4194816);else{if(typeof ne!="function"&&typeof ne!="object")throw Error(A(284));(q===null||q.ref!==ne)&&(K.flags|=4194816)}}function Fl(q,K,ne,ue,Be){return mn(K),ne=gl(q,K,ne,ue,void 0,Be),ue=yl(),q!==null&&!cr?(vl(q,K,Be),Ss(q,K,Be)):(Ft&&ue&&Jo(K),K.flags|=1,vr(q,K,ne,Be),K.child)}function Yd(q,K,ne,ue,Be,Ve){return mn(K),K.updateQueue=null,ne=Ju(K,ue,ne,Be),Xu(q),ue=yl(),q!==null&&!cr?(vl(q,K,Ve),Ss(q,K,Ve)):(Ft&&ue&&Jo(K),K.flags|=1,vr(q,K,ne,Ve),K.child)}function Xd(q,K,ne,ue,Be){if(mn(K),K.stateNode===null){var Ve=Fn,We=ne.contextType;typeof We=="object"&&We!==null&&(Ve=yr(We)),Ve=new ne(ue,Ve),K.memoizedState=Ve.state!==null&&Ve.state!==void 0?Ve.state:null,Ve.updater=Ol,K.stateNode=Ve,Ve._reactInternals=K,Ve=K.stateNode,Ve.props=ue,Ve.state=K.memoizedState,Ve.refs={},cl(K),We=ne.contextType,Ve.context=typeof We=="object"&&We!==null?yr(We):Fn,Ve.state=K.memoizedState,We=ne.getDerivedStateFromProps,typeof We=="function"&&(Dl(K,ne,We,ue),Ve.state=K.memoizedState),typeof ne.getDerivedStateFromProps=="function"||typeof Ve.getSnapshotBeforeUpdate=="function"||typeof Ve.UNSAFE_componentWillMount!="function"&&typeof Ve.componentWillMount!="function"||(We=Ve.state,typeof Ve.componentWillMount=="function"&&Ve.componentWillMount(),typeof Ve.UNSAFE_componentWillMount=="function"&&Ve.UNSAFE_componentWillMount(),We!==Ve.state&&Ol.enqueueReplaceState(Ve,Ve.state,null),_i(K,ue,Ve,Be),Mi(),Ve.state=K.memoizedState),typeof Ve.componentDidMount=="function"&&(K.flags|=4194308),ue=!0}else if(q===null){Ve=K.stateNode;var et=K.memoizedProps,lt=En(ne,et);Ve.props=lt;var ft=Ve.context,gt=ne.contextType;We=Fn,typeof gt=="object"&&gt!==null&&(We=yr(gt));var bt=ne.getDerivedStateFromProps;gt=typeof bt=="function"||typeof Ve.getSnapshotBeforeUpdate=="function",et=K.pendingProps!==et,gt||typeof Ve.UNSAFE_componentWillReceiveProps!="function"&&typeof Ve.componentWillReceiveProps!="function"||(et||ft!==We)&&Id(K,Ve,ue,We),$s=!1;var mt=K.memoizedState;Ve.state=mt,_i(K,ue,Ve,Be),Mi(),ft=K.memoizedState,et||mt!==ft||$s?(typeof bt=="function"&&(Dl(K,ne,bt,ue),ft=K.memoizedState),(lt=$s||Ld(K,ne,lt,ue,mt,ft,We))?(gt||typeof Ve.UNSAFE_componentWillMount!="function"&&typeof Ve.componentWillMount!="function"||(typeof Ve.componentWillMount=="function"&&Ve.componentWillMount(),typeof Ve.UNSAFE_componentWillMount=="function"&&Ve.UNSAFE_componentWillMount()),typeof Ve.componentDidMount=="function"&&(K.flags|=4194308)):(typeof Ve.componentDidMount=="function"&&(K.flags|=4194308),K.memoizedProps=ue,K.memoizedState=ft),Ve.props=ue,Ve.state=ft,Ve.context=We,ue=lt):(typeof Ve.componentDidMount=="function"&&(K.flags|=4194308),ue=!1)}else{Ve=K.stateNode,ul(q,K),We=K.memoizedProps,gt=En(ne,We),Ve.props=gt,bt=K.pendingProps,mt=Ve.context,ft=ne.contextType,lt=Fn,typeof ft=="object"&&ft!==null&&(lt=yr(ft)),et=ne.getDerivedStateFromProps,(ft=typeof et=="function"||typeof Ve.getSnapshotBeforeUpdate=="function")||typeof Ve.UNSAFE_componentWillReceiveProps!="function"&&typeof Ve.componentWillReceiveProps!="function"||(We!==bt||mt!==lt)&&Id(K,Ve,ue,lt),$s=!1,mt=K.memoizedState,Ve.state=mt,_i(K,ue,Ve,Be),Mi();var xt=K.memoizedState;We!==bt||mt!==xt||$s||q!==null&&q.dependencies!==null&&Sa(q.dependencies)?(typeof et=="function"&&(Dl(K,ne,et,ue),xt=K.memoizedState),(gt=$s||Ld(K,ne,gt,ue,mt,xt,lt)||q!==null&&q.dependencies!==null&&Sa(q.dependencies))?(ft||typeof Ve.UNSAFE_componentWillUpdate!="function"&&typeof Ve.componentWillUpdate!="function"||(typeof Ve.componentWillUpdate=="function"&&Ve.componentWillUpdate(ue,xt,lt),typeof Ve.UNSAFE_componentWillUpdate=="function"&&Ve.UNSAFE_componentWillUpdate(ue,xt,lt)),typeof Ve.componentDidUpdate=="function"&&(K.flags|=4),typeof Ve.getSnapshotBeforeUpdate=="function"&&(K.flags|=1024)):(typeof Ve.componentDidUpdate!="function"||We===q.memoizedProps&&mt===q.memoizedState||(K.flags|=4),typeof Ve.getSnapshotBeforeUpdate!="function"||We===q.memoizedProps&&mt===q.memoizedState||(K.flags|=1024),K.memoizedProps=ue,K.memoizedState=xt),Ve.props=ue,Ve.state=xt,Ve.context=lt,ue=gt):(typeof Ve.componentDidUpdate!="function"||We===q.memoizedProps&&mt===q.memoizedState||(K.flags|=4),typeof Ve.getSnapshotBeforeUpdate!="function"||We===q.memoizedProps&&mt===q.memoizedState||(K.flags|=1024),ue=!1)}return Ve=ue,Ha(q,K),ue=(K.flags&128)!==0,Ve||ue?(Ve=K.stateNode,ne=ue&&typeof ne.getDerivedStateFromError!="function"?null:Ve.render(),K.flags|=1,q!==null&&ue?(K.child=vn(K,q.child,null,Be),K.child=vn(K,null,ne,Be)):vr(q,K,ne,Be),K.memoizedState=Ve.state,q=K.child):q=Ss(q,K,Be),q}function Jd(q,K,ne,ue){return hn(),K.flags|=256,vr(q,K,ne,ue),K.child}var Bl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $l(q){return{baseLanes:q,cachePool:$u()}}function Vl(q,K,ne){return q=q!==null?q.childLanes&~ne:0,K&&(q|=Vr),q}function Zd(q,K,ne){var ue=K.pendingProps,Be=!1,Ve=(K.flags&128)!==0,We;if((We=Ve)||(We=q!==null&&q.memoizedState===null?!1:(ir.current&2)!==0),We&&(Be=!0,K.flags&=-129),We=(K.flags&32)!==0,K.flags&=-33,q===null){if(Ft){if(Be?Hs(K):Us(),(q=Jt)?(q=oh(q,Qr),q=q!==null&&q.data!=="&"?q:null,q!==null&&(K.memoizedState={dehydrated:q,treeContext:Ls!==null?{id:us,overflow:ds}:null,retryLane:536870912,hydrationErrors:null},ne=Mu(q),ne.return=K,K.child=ne,gr=K,Jt=null)):q=null,q===null)throw Fs(K);return Rc(q)?K.lanes=32:K.lanes=536870912,null}var et=ue.children;return ue=ue.fallback,Be?(Us(),Be=K.mode,et=Ua({mode:"hidden",children:et},Be),ue=pn(ue,Be,ne,null),et.return=K,ue.return=K,et.sibling=ue,K.child=et,ue=K.child,ue.memoizedState=$l(ne),ue.childLanes=Vl(q,We,ne),K.memoizedState=Bl,Ii(null,ue)):(Hs(K),zl(K,et))}var lt=q.memoizedState;if(lt!==null&&(et=lt.dehydrated,et!==null)){if(Ve)K.flags&256?(Hs(K),K.flags&=-257,K=Hl(q,K,ne)):K.memoizedState!==null?(Us(),K.child=q.child,K.flags|=128,K=null):(Us(),et=ue.fallback,Be=K.mode,ue=Ua({mode:"visible",children:ue.children},Be),et=pn(et,Be,ne,null),et.flags|=2,ue.return=K,et.return=K,ue.sibling=et,K.child=ue,vn(K,q.child,null,ne),ue=K.child,ue.memoizedState=$l(ne),ue.childLanes=Vl(q,We,ne),K.memoizedState=Bl,K=Ii(null,ue));else if(Hs(K),Rc(et)){if(We=et.nextSibling&&et.nextSibling.dataset,We)var ft=We.dgst;We=ft,ue=Error(A(419)),ue.stack="",ue.digest=We,wi({value:ue,source:null,stack:null}),K=Hl(q,K,ne)}else if(cr||zn(q,K,ne,!1),We=(ne&q.childLanes)!==0,cr||We){if(We=Qt,We!==null&&(ue=Fc(We,ne),ue!==0&&ue!==lt.retryLane))throw lt.retryLane=ue,dn(q,ue),Pr(We,q,ue),Il;jc(et)||Za(),K=Hl(q,K,ne)}else jc(et)?(K.flags|=192,K.child=q.child,K=null):(q=lt.treeContext,Jt=Xr(et.nextSibling),gr=K,Ft=!0,Is=null,Qr=!1,q!==null&&Du(K,q),K=zl(K,ue.children),K.flags|=4096);return K}return Be?(Us(),et=ue.fallback,Be=K.mode,lt=q.child,ft=lt.sibling,ue=ys(lt,{mode:"hidden",children:ue.children}),ue.subtreeFlags=lt.subtreeFlags&65011712,ft!==null?et=ys(ft,et):(et=pn(et,Be,ne,null),et.flags|=2),et.return=K,ue.return=K,ue.sibling=et,K.child=ue,Ii(null,ue),ue=K.child,et=q.child.memoizedState,et===null?et=$l(ne):(Be=et.cachePool,Be!==null?(lt=or._currentValue,Be=Be.parent!==lt?{parent:lt,pool:lt}:Be):Be=$u(),et={baseLanes:et.baseLanes|ne,cachePool:Be}),ue.memoizedState=et,ue.childLanes=Vl(q,We,ne),K.memoizedState=Bl,Ii(q.child,ue)):(Hs(K),ne=q.child,q=ne.sibling,ne=ys(ne,{mode:"visible",children:ue.children}),ne.return=K,ne.sibling=null,q!==null&&(We=K.deletions,We===null?(K.deletions=[q],K.flags|=16):We.push(q)),K.child=ne,K.memoizedState=null,ne)}function zl(q,K){return K=Ua({mode:"visible",children:K},q.mode),K.return=q,q.child=K}function Ua(q,K){return q=Ir(22,q,null,K),q.lanes=0,q}function Hl(q,K,ne){return vn(K,q.child,null,ne),q=zl(K,K.pendingProps.children),q.flags|=2,K.memoizedState=null,q}function ep(q,K,ne){q.lanes|=K;var ue=q.alternate;ue!==null&&(ue.lanes|=K),sl(q.return,K,ne)}function Ul(q,K,ne,ue,Be,Ve){var We=q.memoizedState;We===null?q.memoizedState={isBackwards:K,rendering:null,renderingStartTime:0,last:ue,tail:ne,tailMode:Be,treeForkCount:Ve}:(We.isBackwards=K,We.rendering=null,We.renderingStartTime=0,We.last=ue,We.tail=ne,We.tailMode=Be,We.treeForkCount=Ve)}function tp(q,K,ne){var ue=K.pendingProps,Be=ue.revealOrder,Ve=ue.tail;ue=ue.children;var We=ir.current,et=(We&2)!==0;if(et?(We=We&1|2,K.flags|=128):We&=1,ut(ir,We),vr(q,K,ue,ne),ue=Ft?Si:0,!et&&q!==null&&(q.flags&128)!==0)e:for(q=K.child;q!==null;){if(q.tag===13)q.memoizedState!==null&&ep(q,ne,K);else if(q.tag===19)ep(q,ne,K);else if(q.child!==null){q.child.return=q,q=q.child;continue}if(q===K)break e;for(;q.sibling===null;){if(q.return===null||q.return===K)break e;q=q.return}q.sibling.return=q.return,q=q.sibling}switch(Be){case"forwards":for(ne=K.child,Be=null;ne!==null;)q=ne.alternate,q!==null&&_a(q)===null&&(Be=ne),ne=ne.sibling;ne=Be,ne===null?(Be=K.child,K.child=null):(Be=ne.sibling,ne.sibling=null),Ul(K,!1,Be,ne,Ve,ue);break;case"backwards":case"unstable_legacy-backwards":for(ne=null,Be=K.child,K.child=null;Be!==null;){if(q=Be.alternate,q!==null&&_a(q)===null){K.child=Be;break}q=Be.sibling,Be.sibling=ne,ne=Be,Be=q}Ul(K,!0,ne,null,Ve,ue);break;case"together":Ul(K,!1,null,null,void 0,ue);break;default:K.memoizedState=null}return K.child}function Ss(q,K,ne){if(q!==null&&(K.dependencies=q.dependencies),Ks|=K.lanes,(ne&K.childLanes)===0)if(q!==null){if(zn(q,K,ne,!1),(ne&K.childLanes)===0)return null}else return null;if(q!==null&&K.child!==q.child)throw Error(A(153));if(K.child!==null){for(q=K.child,ne=ys(q,q.pendingProps),K.child=ne,ne.return=K;q.sibling!==null;)q=q.sibling,ne=ne.sibling=ys(q,q.pendingProps),ne.return=K;ne.sibling=null}return K.child}function ql(q,K){return(q.lanes&K)!==0?!0:(q=q.dependencies,!!(q!==null&&Sa(q)))}function im(q,K,ne){switch(K.tag){case 3:St(K,K.stateNode.containerInfo),Bs(K,or,q.memoizedState.cache),hn();break;case 27:case 5:_t(K);break;case 4:St(K,K.stateNode.containerInfo);break;case 10:Bs(K,K.type,K.memoizedProps.value);break;case 31:if(K.memoizedState!==null)return K.flags|=128,ml(K),null;break;case 13:var ue=K.memoizedState;if(ue!==null)return ue.dehydrated!==null?(Hs(K),K.flags|=128,null):(ne&K.child.childLanes)!==0?Zd(q,K,ne):(Hs(K),q=Ss(q,K,ne),q!==null?q.sibling:null);Hs(K);break;case 19:var Be=(q.flags&128)!==0;if(ue=(ne&K.childLanes)!==0,ue||(zn(q,K,ne,!1),ue=(ne&K.childLanes)!==0),Be){if(ue)return tp(q,K,ne);K.flags|=128}if(Be=K.memoizedState,Be!==null&&(Be.rendering=null,Be.tail=null,Be.lastEffect=null),ut(ir,ir.current),ue)break;return null;case 22:return K.lanes=0,Kd(q,K,ne,K.pendingProps);case 24:Bs(K,or,q.memoizedState.cache)}return Ss(q,K,ne)}function rp(q,K,ne){if(q!==null)if(q.memoizedProps!==K.pendingProps)cr=!0;else{if(!ql(q,ne)&&(K.flags&128)===0)return cr=!1,im(q,K,ne);cr=(q.flags&131072)!==0}else cr=!1,Ft&&(K.flags&1048576)!==0&&Pu(K,Si,K.index);switch(K.lanes=0,K.tag){case 16:e:{var ue=K.pendingProps;if(q=gn(K.elementType),K.type=q,typeof q=="function")Qo(q)?(ue=En(q,ue),K.tag=1,K=Xd(null,K,q,ue,ne)):(K.tag=0,K=Fl(null,K,q,ue,ne));else{if(q!=null){var Be=q.$$typeof;if(Be===Ne){K.tag=11,K=Ud(null,K,q,ue,ne);break e}else if(Be===He){K.tag=14,K=qd(null,K,q,ue,ne);break e}}throw K=at(q)||q,Error(A(306,K,""))}}return K;case 0:return Fl(q,K,K.type,K.pendingProps,ne);case 1:return ue=K.type,Be=En(ue,K.pendingProps),Xd(q,K,ue,Be,ne);case 3:e:{if(St(K,K.stateNode.containerInfo),q===null)throw Error(A(387));ue=K.pendingProps;var Ve=K.memoizedState;Be=Ve.element,ul(q,K),_i(K,ue,null,ne);var We=K.memoizedState;if(ue=We.cache,Bs(K,or,ue),ue!==Ve.cache&&nl(K,[or],ne,!0),Mi(),ue=We.element,Ve.isDehydrated)if(Ve={element:ue,isDehydrated:!1,cache:We.cache},K.updateQueue.baseState=Ve,K.memoizedState=Ve,K.flags&256){K=Jd(q,K,ue,ne);break e}else if(ue!==Be){Be=Gr(Error(A(424)),K),wi(Be),K=Jd(q,K,ue,ne);break e}else{switch(q=K.stateNode.containerInfo,q.nodeType){case 9:q=q.body;break;default:q=q.nodeName==="HTML"?q.ownerDocument.body:q}for(Jt=Xr(q.firstChild),gr=K,Ft=!0,Is=null,Qr=!0,ne=Gu(K,null,ue,ne),K.child=ne;ne;)ne.flags=ne.flags&-3|4096,ne=ne.sibling}else{if(hn(),ue===Be){K=Ss(q,K,ne);break e}vr(q,K,ue,ne)}K=K.child}return K;case 26:return Ha(q,K),q===null?(ne=hh(K.type,null,K.pendingProps,null))?K.memoizedState=ne:Ft||(ne=K.type,q=K.pendingProps,ue=ao(Et.current).createElement(ne),ue[xr]=K,ue[Nr]=q,br(ue,ne,q),fr(ue),K.stateNode=ue):K.memoizedState=hh(K.type,q.memoizedProps,K.pendingProps,q.memoizedState),null;case 27:return _t(K),q===null&&Ft&&(ue=K.stateNode=uh(K.type,K.pendingProps,Et.current),gr=K,Qr=!0,Be=Jt,Js(K.type)?(Sc=Be,Jt=Xr(ue.firstChild)):Jt=Be),vr(q,K,K.pendingProps.children,ne),Ha(q,K),q===null&&(K.flags|=4194304),K.child;case 5:return q===null&&Ft&&((Be=ue=Jt)&&(ue=Om(ue,K.type,K.pendingProps,Qr),ue!==null?(K.stateNode=ue,gr=K,Jt=Xr(ue.firstChild),Qr=!1,Be=!0):Be=!1),Be||Fs(K)),_t(K),Be=K.type,Ve=K.pendingProps,We=q!==null?q.memoizedProps:null,ue=Ve.children,vc(Be,Ve)?ue=null:We!==null&&vc(Be,We)&&(K.flags|=32),K.memoizedState!==null&&(Be=gl(q,K,Qf,null,null,ne),Ji._currentValue=Be),Ha(q,K),vr(q,K,ue,ne),K.child;case 6:return q===null&&Ft&&((q=ne=Jt)&&(ne=Lm(ne,K.pendingProps,Qr),ne!==null?(K.stateNode=ne,gr=K,Jt=null,q=!0):q=!1),q||Fs(K)),null;case 13:return Zd(q,K,ne);case 4:return St(K,K.stateNode.containerInfo),ue=K.pendingProps,q===null?K.child=vn(K,null,ue,ne):vr(q,K,ue,ne),K.child;case 11:return Ud(q,K,K.type,K.pendingProps,ne);case 7:return vr(q,K,K.pendingProps,ne),K.child;case 8:return vr(q,K,K.pendingProps.children,ne),K.child;case 12:return vr(q,K,K.pendingProps.children,ne),K.child;case 10:return ue=K.pendingProps,Bs(K,K.type,ue.value),vr(q,K,ue.children,ne),K.child;case 9:return Be=K.type._context,ue=K.pendingProps.children,mn(K),Be=yr(Be),ue=ue(Be),K.flags|=1,vr(q,K,ue,ne),K.child;case 14:return qd(q,K,K.type,K.pendingProps,ne);case 15:return Gd(q,K,K.type,K.pendingProps,ne);case 19:return tp(q,K,ne);case 31:return nm(q,K,ne);case 22:return Kd(q,K,ne,K.pendingProps);case 24:return mn(K),ue=yr(or),q===null?(Be=ol(),Be===null&&(Be=Qt,Ve=il(),Be.pooledCache=Ve,Ve.refCount++,Ve!==null&&(Be.pooledCacheLanes|=ne),Be=Ve),K.memoizedState={parent:ue,cache:Be},cl(K),Bs(K,or,Be)):((q.lanes&ne)!==0&&(ul(q,K),_i(K,null,null,ne),Mi()),Be=q.memoizedState,Ve=K.memoizedState,Be.parent!==ue?(Be={parent:ue,cache:ue},K.memoizedState=Be,K.lanes===0&&(K.memoizedState=K.updateQueue.baseState=Be),Bs(K,or,ue)):(ue=Ve.cache,Bs(K,or,ue),ue!==Be.cache&&nl(K,[or],ne,!0))),vr(q,K,K.pendingProps.children,ne),K.child;case 29:throw K.pendingProps}throw Error(A(156,K.tag))}function ws(q){q.flags|=4}function Gl(q,K,ne,ue,Be){if((K=(q.mode&32)!==0)&&(K=!1),K){if(q.flags|=16777216,(Be&335544128)===Be)if(q.stateNode.complete)q.flags|=8192;else if(kp())q.flags|=8192;else throw yn=Ta,ll}else q.flags&=-16777217}function sp(q,K){if(K.type!=="stylesheet"||(K.state.loading&4)!==0)q.flags&=-16777217;else if(q.flags|=16777216,!yh(K))if(kp())q.flags|=8192;else throw yn=Ta,ll}function qa(q,K){K!==null&&(q.flags|=4),q.flags&16384&&(K=q.tag!==22?Oc():536870912,q.lanes|=K,ei|=K)}function Fi(q,K){if(!Ft)switch(q.tailMode){case"hidden":K=q.tail;for(var ne=null;K!==null;)K.alternate!==null&&(ne=K),K=K.sibling;ne===null?q.tail=null:ne.sibling=null;break;case"collapsed":ne=q.tail;for(var ue=null;ne!==null;)ne.alternate!==null&&(ue=ne),ne=ne.sibling;ue===null?K||q.tail===null?q.tail=null:q.tail.sibling=null:ue.sibling=null}}function Zt(q){var K=q.alternate!==null&&q.alternate.child===q.child,ne=0,ue=0;if(K)for(var Be=q.child;Be!==null;)ne|=Be.lanes|Be.childLanes,ue|=Be.subtreeFlags&65011712,ue|=Be.flags&65011712,Be.return=q,Be=Be.sibling;else for(Be=q.child;Be!==null;)ne|=Be.lanes|Be.childLanes,ue|=Be.subtreeFlags,ue|=Be.flags,Be.return=q,Be=Be.sibling;return q.subtreeFlags|=ue,q.childLanes=ne,K}function am(q,K,ne){var ue=K.pendingProps;switch(Zo(K),K.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(K),null;case 1:return Zt(K),null;case 3:return ne=K.stateNode,ue=null,q!==null&&(ue=q.memoizedState.cache),K.memoizedState.cache!==ue&&(K.flags|=2048),Es(or),Ct(),ne.pendingContext&&(ne.context=ne.pendingContext,ne.pendingContext=null),(q===null||q.child===null)&&(Vn(K)?ws(K):q===null||q.memoizedState.isDehydrated&&(K.flags&256)===0||(K.flags|=1024,tl())),Zt(K),null;case 26:var Be=K.type,Ve=K.memoizedState;return q===null?(ws(K),Ve!==null?(Zt(K),sp(K,Ve)):(Zt(K),Gl(K,Be,null,ue,ne))):Ve?Ve!==q.memoizedState?(ws(K),Zt(K),sp(K,Ve)):(Zt(K),K.flags&=-16777217):(q=q.memoizedProps,q!==ue&&ws(K),Zt(K),Gl(K,Be,q,ue,ne)),null;case 27:if(Ht(K),ne=Et.current,Be=K.type,q!==null&&K.stateNode!=null)q.memoizedProps!==ue&&ws(K);else{if(!ue){if(K.stateNode===null)throw Error(A(166));return Zt(K),null}q=pt.current,Vn(K)?Ou(K):(q=uh(Be,ue,ne),K.stateNode=q,ws(K))}return Zt(K),null;case 5:if(Ht(K),Be=K.type,q!==null&&K.stateNode!=null)q.memoizedProps!==ue&&ws(K);else{if(!ue){if(K.stateNode===null)throw Error(A(166));return Zt(K),null}if(Ve=pt.current,Vn(K))Ou(K);else{var We=ao(Et.current);switch(Ve){case 1:Ve=We.createElementNS("http://www.w3.org/2000/svg",Be);break;case 2:Ve=We.createElementNS("http://www.w3.org/1998/Math/MathML",Be);break;default:switch(Be){case"svg":Ve=We.createElementNS("http://www.w3.org/2000/svg",Be);break;case"math":Ve=We.createElementNS("http://www.w3.org/1998/Math/MathML",Be);break;case"script":Ve=We.createElement("div"),Ve.innerHTML="<script><\/script>",Ve=Ve.removeChild(Ve.firstChild);break;case"select":Ve=typeof ue.is=="string"?We.createElement("select",{is:ue.is}):We.createElement("select"),ue.multiple?Ve.multiple=!0:ue.size&&(Ve.size=ue.size);break;default:Ve=typeof ue.is=="string"?We.createElement(Be,{is:ue.is}):We.createElement(Be)}}Ve[xr]=K,Ve[Nr]=ue;e:for(We=K.child;We!==null;){if(We.tag===5||We.tag===6)Ve.appendChild(We.stateNode);else if(We.tag!==4&&We.tag!==27&&We.child!==null){We.child.return=We,We=We.child;continue}if(We===K)break e;for(;We.sibling===null;){if(We.return===null||We.return===K)break e;We=We.return}We.sibling.return=We.return,We=We.sibling}K.stateNode=Ve;e:switch(br(Ve,Be,ue),Be){case"button":case"input":case"select":case"textarea":ue=!!ue.autoFocus;break e;case"img":ue=!0;break e;default:ue=!1}ue&&ws(K)}}return Zt(K),Gl(K,K.type,q===null?null:q.memoizedProps,K.pendingProps,ne),null;case 6:if(q&&K.stateNode!=null)q.memoizedProps!==ue&&ws(K);else{if(typeof ue!="string"&&K.stateNode===null)throw Error(A(166));if(q=Et.current,Vn(K)){if(q=K.stateNode,ne=K.memoizedProps,ue=null,Be=gr,Be!==null)switch(Be.tag){case 27:case 5:ue=Be.memoizedProps}q[xr]=K,q=!!(q.nodeValue===ne||ue!==null&&ue.suppressHydrationWarning===!0||Zp(q.nodeValue,ne)),q||Fs(K,!0)}else q=ao(q).createTextNode(ue),q[xr]=K,K.stateNode=q}return Zt(K),null;case 31:if(ne=K.memoizedState,q===null||q.memoizedState!==null){if(ue=Vn(K),ne!==null){if(q===null){if(!ue)throw Error(A(318));if(q=K.memoizedState,q=q!==null?q.dehydrated:null,!q)throw Error(A(557));q[xr]=K}else hn(),(K.flags&128)===0&&(K.memoizedState=null),K.flags|=4;Zt(K),q=!1}else ne=tl(),q!==null&&q.memoizedState!==null&&(q.memoizedState.hydrationErrors=ne),q=!0;if(!q)return K.flags&256?(Br(K),K):(Br(K),null);if((K.flags&128)!==0)throw Error(A(558))}return Zt(K),null;case 13:if(ue=K.memoizedState,q===null||q.memoizedState!==null&&q.memoizedState.dehydrated!==null){if(Be=Vn(K),ue!==null&&ue.dehydrated!==null){if(q===null){if(!Be)throw Error(A(318));if(Be=K.memoizedState,Be=Be!==null?Be.dehydrated:null,!Be)throw Error(A(317));Be[xr]=K}else hn(),(K.flags&128)===0&&(K.memoizedState=null),K.flags|=4;Zt(K),Be=!1}else Be=tl(),q!==null&&q.memoizedState!==null&&(q.memoizedState.hydrationErrors=Be),Be=!0;if(!Be)return K.flags&256?(Br(K),K):(Br(K),null)}return Br(K),(K.flags&128)!==0?(K.lanes=ne,K):(ne=ue!==null,q=q!==null&&q.memoizedState!==null,ne&&(ue=K.child,Be=null,ue.alternate!==null&&ue.alternate.memoizedState!==null&&ue.alternate.memoizedState.cachePool!==null&&(Be=ue.alternate.memoizedState.cachePool.pool),Ve=null,ue.memoizedState!==null&&ue.memoizedState.cachePool!==null&&(Ve=ue.memoizedState.cachePool.pool),Ve!==Be&&(ue.flags|=2048)),ne!==q&&ne&&(K.child.flags|=8192),qa(K,K.updateQueue),Zt(K),null);case 4:return Ct(),q===null&&fc(K.stateNode.containerInfo),Zt(K),null;case 10:return Es(K.type),Zt(K),null;case 19:if(st(ir),ue=K.memoizedState,ue===null)return Zt(K),null;if(Be=(K.flags&128)!==0,Ve=ue.rendering,Ve===null)if(Be)Fi(ue,!1);else{if(nr!==0||q!==null&&(q.flags&128)!==0)for(q=K.child;q!==null;){if(Ve=_a(q),Ve!==null){for(K.flags|=128,Fi(ue,!1),q=Ve.updateQueue,K.updateQueue=q,qa(K,q),K.subtreeFlags=0,q=ne,ne=K.child;ne!==null;)Au(ne,q),ne=ne.sibling;return ut(ir,ir.current&1|2),Ft&&vs(K,ue.treeForkCount),K.child}q=q.sibling}ue.tail!==null&&Xt()>Ya&&(K.flags|=128,Be=!0,Fi(ue,!1),K.lanes=4194304)}else{if(!Be)if(q=_a(Ve),q!==null){if(K.flags|=128,Be=!0,q=q.updateQueue,K.updateQueue=q,qa(K,q),Fi(ue,!0),ue.tail===null&&ue.tailMode==="hidden"&&!Ve.alternate&&!Ft)return Zt(K),null}else 2*Xt()-ue.renderingStartTime>Ya&&ne!==536870912&&(K.flags|=128,Be=!0,Fi(ue,!1),K.lanes=4194304);ue.isBackwards?(Ve.sibling=K.child,K.child=Ve):(q=ue.last,q!==null?q.sibling=Ve:K.child=Ve,ue.last=Ve)}return ue.tail!==null?(q=ue.tail,ue.rendering=q,ue.tail=q.sibling,ue.renderingStartTime=Xt(),q.sibling=null,ne=ir.current,ut(ir,Be?ne&1|2:ne&1),Ft&&vs(K,ue.treeForkCount),q):(Zt(K),null);case 22:case 23:return Br(K),fl(),ue=K.memoizedState!==null,q!==null?q.memoizedState!==null!==ue&&(K.flags|=8192):ue&&(K.flags|=8192),ue?(ne&536870912)!==0&&(K.flags&128)===0&&(Zt(K),K.subtreeFlags&6&&(K.flags|=8192)):Zt(K),ne=K.updateQueue,ne!==null&&qa(K,ne.retryQueue),ne=null,q!==null&&q.memoizedState!==null&&q.memoizedState.cachePool!==null&&(ne=q.memoizedState.cachePool.pool),ue=null,K.memoizedState!==null&&K.memoizedState.cachePool!==null&&(ue=K.memoizedState.cachePool.pool),ue!==ne&&(K.flags|=2048),q!==null&&st(xn),null;case 24:return ne=null,q!==null&&(ne=q.memoizedState.cache),K.memoizedState.cache!==ne&&(K.flags|=2048),Es(or),Zt(K),null;case 25:return null;case 30:return null}throw Error(A(156,K.tag))}function om(q,K){switch(Zo(K),K.tag){case 1:return q=K.flags,q&65536?(K.flags=q&-65537|128,K):null;case 3:return Es(or),Ct(),q=K.flags,(q&65536)!==0&&(q&128)===0?(K.flags=q&-65537|128,K):null;case 26:case 27:case 5:return Ht(K),null;case 31:if(K.memoizedState!==null){if(Br(K),K.alternate===null)throw Error(A(340));hn()}return q=K.flags,q&65536?(K.flags=q&-65537|128,K):null;case 13:if(Br(K),q=K.memoizedState,q!==null&&q.dehydrated!==null){if(K.alternate===null)throw Error(A(340));hn()}return q=K.flags,q&65536?(K.flags=q&-65537|128,K):null;case 19:return st(ir),null;case 4:return Ct(),null;case 10:return Es(K.type),null;case 22:case 23:return Br(K),fl(),q!==null&&st(xn),q=K.flags,q&65536?(K.flags=q&-65537|128,K):null;case 24:return Es(or),null;case 25:return null;default:return null}}function np(q,K){switch(Zo(K),K.tag){case 3:Es(or),Ct();break;case 26:case 27:case 5:Ht(K);break;case 4:Ct();break;case 31:K.memoizedState!==null&&Br(K);break;case 13:Br(K);break;case 19:st(ir);break;case 10:Es(K.type);break;case 22:case 23:Br(K),fl(),q!==null&&st(xn);break;case 24:Es(or)}}function Bi(q,K){try{var ne=K.updateQueue,ue=ne!==null?ne.lastEffect:null;if(ue!==null){var Be=ue.next;ne=Be;do{if((ne.tag&q)===q){ue=void 0;var Ve=ne.create,We=ne.inst;ue=Ve(),We.destroy=ue}ne=ne.next}while(ne!==Be)}}catch(et){qt(K,K.return,et)}}function qs(q,K,ne){try{var ue=K.updateQueue,Be=ue!==null?ue.lastEffect:null;if(Be!==null){var Ve=Be.next;ue=Ve;do{if((ue.tag&q)===q){var We=ue.inst,et=We.destroy;if(et!==void 0){We.destroy=void 0,Be=K;var lt=ne,ft=et;try{ft()}catch(gt){qt(Be,lt,gt)}}}ue=ue.next}while(ue!==Ve)}}catch(gt){qt(K,K.return,gt)}}function ip(q){var K=q.updateQueue;if(K!==null){var ne=q.stateNode;try{Wu(K,ne)}catch(ue){qt(q,q.return,ue)}}}function ap(q,K,ne){ne.props=En(q.type,q.memoizedProps),ne.state=q.memoizedState;try{ne.componentWillUnmount()}catch(ue){qt(q,K,ue)}}function $i(q,K){try{var ne=q.ref;if(ne!==null){switch(q.tag){case 26:case 27:case 5:var ue=q.stateNode;break;case 30:ue=q.stateNode;break;default:ue=q.stateNode}typeof ne=="function"?q.refCleanup=ne(ue):ne.current=ue}}catch(Be){qt(q,K,Be)}}function ps(q,K){var ne=q.ref,ue=q.refCleanup;if(ne!==null)if(typeof ue=="function")try{ue()}catch(Be){qt(q,K,Be)}finally{q.refCleanup=null,q=q.alternate,q!=null&&(q.refCleanup=null)}else if(typeof ne=="function")try{ne(null)}catch(Be){qt(q,K,Be)}else ne.current=null}function op(q){var K=q.type,ne=q.memoizedProps,ue=q.stateNode;try{e:switch(K){case"button":case"input":case"select":case"textarea":ne.autoFocus&&ue.focus();break e;case"img":ne.src?ue.src=ne.src:ne.srcSet&&(ue.srcset=ne.srcSet)}}catch(Be){qt(q,q.return,Be)}}function Kl(q,K,ne){try{var ue=q.stateNode;km(ue,q.type,ne,K),ue[Nr]=K}catch(Be){qt(q,q.return,Be)}}function lp(q){return q.tag===5||q.tag===3||q.tag===26||q.tag===27&&Js(q.type)||q.tag===4}function Wl(q){e:for(;;){for(;q.sibling===null;){if(q.return===null||lp(q.return))return null;q=q.return}for(q.sibling.return=q.return,q=q.sibling;q.tag!==5&&q.tag!==6&&q.tag!==18;){if(q.tag===27&&Js(q.type)||q.flags&2||q.child===null||q.tag===4)continue e;q.child.return=q,q=q.child}if(!(q.flags&2))return q.stateNode}}function Ql(q,K,ne){var ue=q.tag;if(ue===5||ue===6)q=q.stateNode,K?(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).insertBefore(q,K):(K=ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne,K.appendChild(q),ne=ne._reactRootContainer,ne!=null||K.onclick!==null||(K.onclick=xs));else if(ue!==4&&(ue===27&&Js(q.type)&&(ne=q.stateNode,K=null),q=q.child,q!==null))for(Ql(q,K,ne),q=q.sibling;q!==null;)Ql(q,K,ne),q=q.sibling}function Ga(q,K,ne){var ue=q.tag;if(ue===5||ue===6)q=q.stateNode,K?ne.insertBefore(q,K):ne.appendChild(q);else if(ue!==4&&(ue===27&&Js(q.type)&&(ne=q.stateNode),q=q.child,q!==null))for(Ga(q,K,ne),q=q.sibling;q!==null;)Ga(q,K,ne),q=q.sibling}function cp(q){var K=q.stateNode,ne=q.memoizedProps;try{for(var ue=q.type,Be=K.attributes;Be.length;)K.removeAttributeNode(Be[0]);br(K,ue,ne),K[xr]=q,K[Nr]=ne}catch(Ve){qt(q,q.return,Ve)}}var Cs=!1,ur=!1,Yl=!1,up=typeof WeakSet=="function"?WeakSet:Set,mr=null;function lm(q,K){if(q=q.containerInfo,gc=fo,q=Eu(q),zo(q)){if("selectionStart"in q)var ne={start:q.selectionStart,end:q.selectionEnd};else e:{ne=(ne=q.ownerDocument)&&ne.defaultView||window;var ue=ne.getSelection&&ne.getSelection();if(ue&&ue.rangeCount!==0){ne=ue.anchorNode;var Be=ue.anchorOffset,Ve=ue.focusNode;ue=ue.focusOffset;try{ne.nodeType,Ve.nodeType}catch{ne=null;break e}var We=0,et=-1,lt=-1,ft=0,gt=0,bt=q,mt=null;t:for(;;){for(var xt;bt!==ne||Be!==0&&bt.nodeType!==3||(et=We+Be),bt!==Ve||ue!==0&&bt.nodeType!==3||(lt=We+ue),bt.nodeType===3&&(We+=bt.nodeValue.length),(xt=bt.firstChild)!==null;)mt=bt,bt=xt;for(;;){if(bt===q)break t;if(mt===ne&&++ft===Be&&(et=We),mt===Ve&&++gt===ue&&(lt=We),(xt=bt.nextSibling)!==null)break;bt=mt,mt=bt.parentNode}bt=xt}ne=et===-1||lt===-1?null:{start:et,end:lt}}else ne=null}ne=ne||{start:0,end:0}}else ne=null;for(yc={focusedElem:q,selectionRange:ne},fo=!1,mr=K;mr!==null;)if(K=mr,q=K.child,(K.subtreeFlags&1028)!==0&&q!==null)q.return=K,mr=q;else for(;mr!==null;){switch(K=mr,Ve=K.alternate,q=K.flags,K.tag){case 0:if((q&4)!==0&&(q=K.updateQueue,q=q!==null?q.events:null,q!==null))for(ne=0;ne<q.length;ne++)Be=q[ne],Be.ref.impl=Be.nextImpl;break;case 11:case 15:break;case 1:if((q&1024)!==0&&Ve!==null){q=void 0,ne=K,Be=Ve.memoizedProps,Ve=Ve.memoizedState,ue=ne.stateNode;try{var wt=En(ne.type,Be);q=ue.getSnapshotBeforeUpdate(wt,Ve),ue.__reactInternalSnapshotBeforeUpdate=q}catch(kt){qt(ne,ne.return,kt)}}break;case 3:if((q&1024)!==0){if(q=K.stateNode.containerInfo,ne=q.nodeType,ne===9)Ec(q);else if(ne===1)switch(q.nodeName){case"HEAD":case"HTML":case"BODY":Ec(q);break;default:q.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((q&1024)!==0)throw Error(A(163))}if(q=K.sibling,q!==null){q.return=K.return,mr=q;break}mr=K.return}}function dp(q,K,ne){var ue=ne.flags;switch(ne.tag){case 0:case 11:case 15:Ts(q,ne),ue&4&&Bi(5,ne);break;case 1:if(Ts(q,ne),ue&4)if(q=ne.stateNode,K===null)try{q.componentDidMount()}catch(We){qt(ne,ne.return,We)}else{var Be=En(ne.type,K.memoizedProps);K=K.memoizedState;try{q.componentDidUpdate(Be,K,q.__reactInternalSnapshotBeforeUpdate)}catch(We){qt(ne,ne.return,We)}}ue&64&&ip(ne),ue&512&&$i(ne,ne.return);break;case 3:if(Ts(q,ne),ue&64&&(q=ne.updateQueue,q!==null)){if(K=null,ne.child!==null)switch(ne.child.tag){case 27:case 5:K=ne.child.stateNode;break;case 1:K=ne.child.stateNode}try{Wu(q,K)}catch(We){qt(ne,ne.return,We)}}break;case 27:K===null&&ue&4&&cp(ne);case 26:case 5:Ts(q,ne),K===null&&ue&4&&op(ne),ue&512&&$i(ne,ne.return);break;case 12:Ts(q,ne);break;case 31:Ts(q,ne),ue&4&&fp(q,ne);break;case 13:Ts(q,ne),ue&4&&mp(q,ne),ue&64&&(q=ne.memoizedState,q!==null&&(q=q.dehydrated,q!==null&&(ne=gm.bind(null,ne),Im(q,ne))));break;case 22:if(ue=ne.memoizedState!==null||Cs,!ue){K=K!==null&&K.memoizedState!==null||ur,Be=Cs;var Ve=ur;Cs=ue,(ur=K)&&!Ve?ks(q,ne,(ne.subtreeFlags&8772)!==0):Ts(q,ne),Cs=Be,ur=Ve}break;case 30:break;default:Ts(q,ne)}}function pp(q){var K=q.alternate;K!==null&&(q.alternate=null,pp(K)),q.child=null,q.deletions=null,q.sibling=null,q.tag===5&&(K=q.stateNode,K!==null&&wo(K)),q.stateNode=null,q.return=null,q.dependencies=null,q.memoizedProps=null,q.memoizedState=null,q.pendingProps=null,q.stateNode=null,q.updateQueue=null}var er=null,kr=!1;function Ns(q,K,ne){for(ne=ne.child;ne!==null;)hp(q,K,ne),ne=ne.sibling}function hp(q,K,ne){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(ui,ne)}catch{}switch(ne.tag){case 26:ur||ps(ne,K),Ns(q,K,ne),ne.memoizedState?ne.memoizedState.count--:ne.stateNode&&(ne=ne.stateNode,ne.parentNode.removeChild(ne));break;case 27:ur||ps(ne,K);var ue=er,Be=kr;Js(ne.type)&&(er=ne.stateNode,kr=!1),Ns(q,K,ne),Qi(ne.stateNode),er=ue,kr=Be;break;case 5:ur||ps(ne,K);case 6:if(ue=er,Be=kr,er=null,Ns(q,K,ne),er=ue,kr=Be,er!==null)if(kr)try{(er.nodeType===9?er.body:er.nodeName==="HTML"?er.ownerDocument.body:er).removeChild(ne.stateNode)}catch(Ve){qt(ne,K,Ve)}else try{er.removeChild(ne.stateNode)}catch(Ve){qt(ne,K,Ve)}break;case 18:er!==null&&(kr?(q=er,ih(q.nodeType===9?q.body:q.nodeName==="HTML"?q.ownerDocument.body:q,ne.stateNode),li(q)):ih(er,ne.stateNode));break;case 4:ue=er,Be=kr,er=ne.stateNode.containerInfo,kr=!0,Ns(q,K,ne),er=ue,kr=Be;break;case 0:case 11:case 14:case 15:qs(2,ne,K),ur||qs(4,ne,K),Ns(q,K,ne);break;case 1:ur||(ps(ne,K),ue=ne.stateNode,typeof ue.componentWillUnmount=="function"&&ap(ne,K,ue)),Ns(q,K,ne);break;case 21:Ns(q,K,ne);break;case 22:ur=(ue=ur)||ne.memoizedState!==null,Ns(q,K,ne),ur=ue;break;default:Ns(q,K,ne)}}function fp(q,K){if(K.memoizedState===null&&(q=K.alternate,q!==null&&(q=q.memoizedState,q!==null))){q=q.dehydrated;try{li(q)}catch(ne){qt(K,K.return,ne)}}}function mp(q,K){if(K.memoizedState===null&&(q=K.alternate,q!==null&&(q=q.memoizedState,q!==null&&(q=q.dehydrated,q!==null))))try{li(q)}catch(ne){qt(K,K.return,ne)}}function cm(q){switch(q.tag){case 31:case 13:case 19:var K=q.stateNode;return K===null&&(K=q.stateNode=new up),K;case 22:return q=q.stateNode,K=q._retryCache,K===null&&(K=q._retryCache=new up),K;default:throw Error(A(435,q.tag))}}function Ka(q,K){var ne=cm(q);K.forEach(function(ue){if(!ne.has(ue)){ne.add(ue);var Be=ym.bind(null,q,ue);ue.then(Be,Be)}})}function Ar(q,K){var ne=K.deletions;if(ne!==null)for(var ue=0;ue<ne.length;ue++){var Be=ne[ue],Ve=q,We=K,et=We;e:for(;et!==null;){switch(et.tag){case 27:if(Js(et.type)){er=et.stateNode,kr=!1;break e}break;case 5:er=et.stateNode,kr=!1;break e;case 3:case 4:er=et.stateNode.containerInfo,kr=!0;break e}et=et.return}if(er===null)throw Error(A(160));hp(Ve,We,Be),er=null,kr=!1,Ve=Be.alternate,Ve!==null&&(Ve.return=null),Be.return=null}if(K.subtreeFlags&13886)for(K=K.child;K!==null;)xp(K,q),K=K.sibling}var es=null;function xp(q,K){var ne=q.alternate,ue=q.flags;switch(q.tag){case 0:case 11:case 14:case 15:Ar(K,q),Mr(q),ue&4&&(qs(3,q,q.return),Bi(3,q),qs(5,q,q.return));break;case 1:Ar(K,q),Mr(q),ue&512&&(ur||ne===null||ps(ne,ne.return)),ue&64&&Cs&&(q=q.updateQueue,q!==null&&(ue=q.callbacks,ue!==null&&(ne=q.shared.hiddenCallbacks,q.shared.hiddenCallbacks=ne===null?ue:ne.concat(ue))));break;case 26:var Be=es;if(Ar(K,q),Mr(q),ue&512&&(ur||ne===null||ps(ne,ne.return)),ue&4){var Ve=ne!==null?ne.memoizedState:null;if(ue=q.memoizedState,ne===null)if(ue===null)if(q.stateNode===null){e:{ue=q.type,ne=q.memoizedProps,Be=Be.ownerDocument||Be;t:switch(ue){case"title":Ve=Be.getElementsByTagName("title")[0],(!Ve||Ve[hi]||Ve[xr]||Ve.namespaceURI==="http://www.w3.org/2000/svg"||Ve.hasAttribute("itemprop"))&&(Ve=Be.createElement(ue),Be.head.insertBefore(Ve,Be.querySelector("head > title"))),br(Ve,ue,ne),Ve[xr]=q,fr(Ve),ue=Ve;break e;case"link":var We=xh("link","href",Be).get(ue+(ne.href||""));if(We){for(var et=0;et<We.length;et++)if(Ve=We[et],Ve.getAttribute("href")===(ne.href==null||ne.href===""?null:ne.href)&&Ve.getAttribute("rel")===(ne.rel==null?null:ne.rel)&&Ve.getAttribute("title")===(ne.title==null?null:ne.title)&&Ve.getAttribute("crossorigin")===(ne.crossOrigin==null?null:ne.crossOrigin)){We.splice(et,1);break t}}Ve=Be.createElement(ue),br(Ve,ue,ne),Be.head.appendChild(Ve);break;case"meta":if(We=xh("meta","content",Be).get(ue+(ne.content||""))){for(et=0;et<We.length;et++)if(Ve=We[et],Ve.getAttribute("content")===(ne.content==null?null:""+ne.content)&&Ve.getAttribute("name")===(ne.name==null?null:ne.name)&&Ve.getAttribute("property")===(ne.property==null?null:ne.property)&&Ve.getAttribute("http-equiv")===(ne.httpEquiv==null?null:ne.httpEquiv)&&Ve.getAttribute("charset")===(ne.charSet==null?null:ne.charSet)){We.splice(et,1);break t}}Ve=Be.createElement(ue),br(Ve,ue,ne),Be.head.appendChild(Ve);break;default:throw Error(A(468,ue))}Ve[xr]=q,fr(Ve),ue=Ve}q.stateNode=ue}else gh(Be,q.type,q.stateNode);else q.stateNode=mh(Be,ue,q.memoizedProps);else Ve!==ue?(Ve===null?ne.stateNode!==null&&(ne=ne.stateNode,ne.parentNode.removeChild(ne)):Ve.count--,ue===null?gh(Be,q.type,q.stateNode):mh(Be,ue,q.memoizedProps)):ue===null&&q.stateNode!==null&&Kl(q,q.memoizedProps,ne.memoizedProps)}break;case 27:Ar(K,q),Mr(q),ue&512&&(ur||ne===null||ps(ne,ne.return)),ne!==null&&ue&4&&Kl(q,q.memoizedProps,ne.memoizedProps);break;case 5:if(Ar(K,q),Mr(q),ue&512&&(ur||ne===null||ps(ne,ne.return)),q.flags&32){Be=q.stateNode;try{Mn(Be,"")}catch(wt){qt(q,q.return,wt)}}ue&4&&q.stateNode!=null&&(Be=q.memoizedProps,Kl(q,Be,ne!==null?ne.memoizedProps:Be)),ue&1024&&(Yl=!0);break;case 6:if(Ar(K,q),Mr(q),ue&4){if(q.stateNode===null)throw Error(A(162));ue=q.memoizedProps,ne=q.stateNode;try{ne.nodeValue=ue}catch(wt){qt(q,q.return,wt)}}break;case 3:if(co=null,Be=es,es=oo(K.containerInfo),Ar(K,q),es=Be,Mr(q),ue&4&&ne!==null&&ne.memoizedState.isDehydrated)try{li(K.containerInfo)}catch(wt){qt(q,q.return,wt)}Yl&&(Yl=!1,gp(q));break;case 4:ue=es,es=oo(q.stateNode.containerInfo),Ar(K,q),Mr(q),es=ue;break;case 12:Ar(K,q),Mr(q);break;case 31:Ar(K,q),Mr(q),ue&4&&(ue=q.updateQueue,ue!==null&&(q.updateQueue=null,Ka(q,ue)));break;case 13:Ar(K,q),Mr(q),q.child.flags&8192&&q.memoizedState!==null!=(ne!==null&&ne.memoizedState!==null)&&(Qa=Xt()),ue&4&&(ue=q.updateQueue,ue!==null&&(q.updateQueue=null,Ka(q,ue)));break;case 22:Be=q.memoizedState!==null;var lt=ne!==null&&ne.memoizedState!==null,ft=Cs,gt=ur;if(Cs=ft||Be,ur=gt||lt,Ar(K,q),ur=gt,Cs=ft,Mr(q),ue&8192)e:for(K=q.stateNode,K._visibility=Be?K._visibility&-2:K._visibility|1,Be&&(ne===null||lt||Cs||ur||jn(q)),ne=null,K=q;;){if(K.tag===5||K.tag===26){if(ne===null){lt=ne=K;try{if(Ve=lt.stateNode,Be)We=Ve.style,typeof We.setProperty=="function"?We.setProperty("display","none","important"):We.display="none";else{et=lt.stateNode;var bt=lt.memoizedProps.style,mt=bt!=null&&bt.hasOwnProperty("display")?bt.display:null;et.style.display=mt==null||typeof mt=="boolean"?"":(""+mt).trim()}}catch(wt){qt(lt,lt.return,wt)}}}else if(K.tag===6){if(ne===null){lt=K;try{lt.stateNode.nodeValue=Be?"":lt.memoizedProps}catch(wt){qt(lt,lt.return,wt)}}}else if(K.tag===18){if(ne===null){lt=K;try{var xt=lt.stateNode;Be?ah(xt,!0):ah(lt.stateNode,!1)}catch(wt){qt(lt,lt.return,wt)}}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===q)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===q)break e;for(;K.sibling===null;){if(K.return===null||K.return===q)break e;ne===K&&(ne=null),K=K.return}ne===K&&(ne=null),K.sibling.return=K.return,K=K.sibling}ue&4&&(ue=q.updateQueue,ue!==null&&(ne=ue.retryQueue,ne!==null&&(ue.retryQueue=null,Ka(q,ne))));break;case 19:Ar(K,q),Mr(q),ue&4&&(ue=q.updateQueue,ue!==null&&(q.updateQueue=null,Ka(q,ue)));break;case 30:break;case 21:break;default:Ar(K,q),Mr(q)}}function Mr(q){var K=q.flags;if(K&2){try{for(var ne,ue=q.return;ue!==null;){if(lp(ue)){ne=ue;break}ue=ue.return}if(ne==null)throw Error(A(160));switch(ne.tag){case 27:var Be=ne.stateNode,Ve=Wl(q);Ga(q,Ve,Be);break;case 5:var We=ne.stateNode;ne.flags&32&&(Mn(We,""),ne.flags&=-33);var et=Wl(q);Ga(q,et,We);break;case 3:case 4:var lt=ne.stateNode.containerInfo,ft=Wl(q);Ql(q,ft,lt);break;default:throw Error(A(161))}}catch(gt){qt(q,q.return,gt)}q.flags&=-3}K&4096&&(q.flags&=-4097)}function gp(q){if(q.subtreeFlags&1024)for(q=q.child;q!==null;){var K=q;gp(K),K.tag===5&&K.flags&1024&&K.stateNode.reset(),q=q.sibling}}function Ts(q,K){if(K.subtreeFlags&8772)for(K=K.child;K!==null;)dp(q,K.alternate,K),K=K.sibling}function jn(q){for(q=q.child;q!==null;){var K=q;switch(K.tag){case 0:case 11:case 14:case 15:qs(4,K,K.return),jn(K);break;case 1:ps(K,K.return);var ne=K.stateNode;typeof ne.componentWillUnmount=="function"&&ap(K,K.return,ne),jn(K);break;case 27:Qi(K.stateNode);case 26:case 5:ps(K,K.return),jn(K);break;case 22:K.memoizedState===null&&jn(K);break;case 30:jn(K);break;default:jn(K)}q=q.sibling}}function ks(q,K,ne){for(ne=ne&&(K.subtreeFlags&8772)!==0,K=K.child;K!==null;){var ue=K.alternate,Be=q,Ve=K,We=Ve.flags;switch(Ve.tag){case 0:case 11:case 15:ks(Be,Ve,ne),Bi(4,Ve);break;case 1:if(ks(Be,Ve,ne),ue=Ve,Be=ue.stateNode,typeof Be.componentDidMount=="function")try{Be.componentDidMount()}catch(ft){qt(ue,ue.return,ft)}if(ue=Ve,Be=ue.updateQueue,Be!==null){var et=ue.stateNode;try{var lt=Be.shared.hiddenCallbacks;if(lt!==null)for(Be.shared.hiddenCallbacks=null,Be=0;Be<lt.length;Be++)Ku(lt[Be],et)}catch(ft){qt(ue,ue.return,ft)}}ne&&We&64&&ip(Ve),$i(Ve,Ve.return);break;case 27:cp(Ve);case 26:case 5:ks(Be,Ve,ne),ne&&ue===null&&We&4&&op(Ve),$i(Ve,Ve.return);break;case 12:ks(Be,Ve,ne);break;case 31:ks(Be,Ve,ne),ne&&We&4&&fp(Be,Ve);break;case 13:ks(Be,Ve,ne),ne&&We&4&&mp(Be,Ve);break;case 22:Ve.memoizedState===null&&ks(Be,Ve,ne),$i(Ve,Ve.return);break;case 30:break;default:ks(Be,Ve,ne)}K=K.sibling}}function Xl(q,K){var ne=null;q!==null&&q.memoizedState!==null&&q.memoizedState.cachePool!==null&&(ne=q.memoizedState.cachePool.pool),q=null,K.memoizedState!==null&&K.memoizedState.cachePool!==null&&(q=K.memoizedState.cachePool.pool),q!==ne&&(q!=null&&q.refCount++,ne!=null&&Ci(ne))}function Jl(q,K){q=null,K.alternate!==null&&(q=K.alternate.memoizedState.cache),K=K.memoizedState.cache,K!==q&&(K.refCount++,q!=null&&Ci(q))}function rs(q,K,ne,ue){if(K.subtreeFlags&10256)for(K=K.child;K!==null;)yp(q,K,ne,ue),K=K.sibling}function yp(q,K,ne,ue){var Be=K.flags;switch(K.tag){case 0:case 11:case 15:rs(q,K,ne,ue),Be&2048&&Bi(9,K);break;case 1:rs(q,K,ne,ue);break;case 3:rs(q,K,ne,ue),Be&2048&&(q=null,K.alternate!==null&&(q=K.alternate.memoizedState.cache),K=K.memoizedState.cache,K!==q&&(K.refCount++,q!=null&&Ci(q)));break;case 12:if(Be&2048){rs(q,K,ne,ue),q=K.stateNode;try{var Ve=K.memoizedProps,We=Ve.id,et=Ve.onPostCommit;typeof et=="function"&&et(We,K.alternate===null?"mount":"update",q.passiveEffectDuration,-0)}catch(lt){qt(K,K.return,lt)}}else rs(q,K,ne,ue);break;case 31:rs(q,K,ne,ue);break;case 13:rs(q,K,ne,ue);break;case 23:break;case 22:Ve=K.stateNode,We=K.alternate,K.memoizedState!==null?Ve._visibility&2?rs(q,K,ne,ue):Vi(q,K):Ve._visibility&2?rs(q,K,ne,ue):(Ve._visibility|=2,Xn(q,K,ne,ue,(K.subtreeFlags&10256)!==0||!1)),Be&2048&&Xl(We,K);break;case 24:rs(q,K,ne,ue),Be&2048&&Jl(K.alternate,K);break;default:rs(q,K,ne,ue)}}function Xn(q,K,ne,ue,Be){for(Be=Be&&((K.subtreeFlags&10256)!==0||!1),K=K.child;K!==null;){var Ve=q,We=K,et=ne,lt=ue,ft=We.flags;switch(We.tag){case 0:case 11:case 15:Xn(Ve,We,et,lt,Be),Bi(8,We);break;case 23:break;case 22:var gt=We.stateNode;We.memoizedState!==null?gt._visibility&2?Xn(Ve,We,et,lt,Be):Vi(Ve,We):(gt._visibility|=2,Xn(Ve,We,et,lt,Be)),Be&&ft&2048&&Xl(We.alternate,We);break;case 24:Xn(Ve,We,et,lt,Be),Be&&ft&2048&&Jl(We.alternate,We);break;default:Xn(Ve,We,et,lt,Be)}K=K.sibling}}function Vi(q,K){if(K.subtreeFlags&10256)for(K=K.child;K!==null;){var ne=q,ue=K,Be=ue.flags;switch(ue.tag){case 22:Vi(ne,ue),Be&2048&&Xl(ue.alternate,ue);break;case 24:Vi(ne,ue),Be&2048&&Jl(ue.alternate,ue);break;default:Vi(ne,ue)}K=K.sibling}}var zi=8192;function Jn(q,K,ne){if(q.subtreeFlags&zi)for(q=q.child;q!==null;)vp(q,K,ne),q=q.sibling}function vp(q,K,ne){switch(q.tag){case 26:Jn(q,K,ne),q.flags&zi&&q.memoizedState!==null&&Qm(ne,es,q.memoizedState,q.memoizedProps);break;case 5:Jn(q,K,ne);break;case 3:case 4:var ue=es;es=oo(q.stateNode.containerInfo),Jn(q,K,ne),es=ue;break;case 22:q.memoizedState===null&&(ue=q.alternate,ue!==null&&ue.memoizedState!==null?(ue=zi,zi=16777216,Jn(q,K,ne),zi=ue):Jn(q,K,ne));break;default:Jn(q,K,ne)}}function bp(q){var K=q.alternate;if(K!==null&&(q=K.child,q!==null)){K.child=null;do K=q.sibling,q.sibling=null,q=K;while(q!==null)}}function Hi(q){var K=q.deletions;if((q.flags&16)!==0){if(K!==null)for(var ne=0;ne<K.length;ne++){var ue=K[ne];mr=ue,jp(ue,q)}bp(q)}if(q.subtreeFlags&10256)for(q=q.child;q!==null;)Ep(q),q=q.sibling}function Ep(q){switch(q.tag){case 0:case 11:case 15:Hi(q),q.flags&2048&&qs(9,q,q.return);break;case 3:Hi(q);break;case 12:Hi(q);break;case 22:var K=q.stateNode;q.memoizedState!==null&&K._visibility&2&&(q.return===null||q.return.tag!==13)?(K._visibility&=-3,Wa(q)):Hi(q);break;default:Hi(q)}}function Wa(q){var K=q.deletions;if((q.flags&16)!==0){if(K!==null)for(var ne=0;ne<K.length;ne++){var ue=K[ne];mr=ue,jp(ue,q)}bp(q)}for(q=q.child;q!==null;){switch(K=q,K.tag){case 0:case 11:case 15:qs(8,K,K.return),Wa(K);break;case 22:ne=K.stateNode,ne._visibility&2&&(ne._visibility&=-3,Wa(K));break;default:Wa(K)}q=q.sibling}}function jp(q,K){for(;mr!==null;){var ne=mr;switch(ne.tag){case 0:case 11:case 15:qs(8,ne,K);break;case 23:case 22:if(ne.memoizedState!==null&&ne.memoizedState.cachePool!==null){var ue=ne.memoizedState.cachePool.pool;ue!=null&&ue.refCount++}break;case 24:Ci(ne.memoizedState.cache)}if(ue=ne.child,ue!==null)ue.return=ne,mr=ue;else e:for(ne=q;mr!==null;){ue=mr;var Be=ue.sibling,Ve=ue.return;if(pp(ue),ue===ne){mr=null;break e}if(Be!==null){Be.return=Ve,mr=Be;break e}mr=Ve}}}var um={getCacheForType:function(q){var K=yr(or),ne=K.data.get(q);return ne===void 0&&(ne=q(),K.data.set(q,ne)),ne},cacheSignal:function(){return yr(or).controller.signal}},dm=typeof WeakMap=="function"?WeakMap:Map,Vt=0,Qt=null,Dt=null,Lt=0,Ut=0,$r=null,Gs=!1,Zn=!1,Zl=!1,As=0,nr=0,Ks=0,Rn=0,ec=0,Vr=0,ei=0,Ui=null,_r=null,tc=!1,Qa=0,Rp=0,Ya=1/0,Xa=null,Ws=null,dr=0,Qs=null,ti=null,Ms=0,rc=0,sc=null,Sp=null,qi=0,nc=null;function zr(){return(Vt&2)!==0&&Lt!==0?Lt&-Lt:qe.T!==null?uc():Bc()}function wp(){if(Vr===0)if((Lt&536870912)===0||Ft){var q=ia;ia<<=1,(ia&3932160)===0&&(ia=262144),Vr=q}else Vr=536870912;return q=Fr.current,q!==null&&(q.flags|=32),Vr}function Pr(q,K,ne){(q===Qt&&(Ut===2||Ut===9)||q.cancelPendingCommit!==null)&&(ri(q,0),Ys(q,Lt,Vr,!1)),pi(q,ne),((Vt&2)===0||q!==Qt)&&(q===Qt&&((Vt&2)===0&&(Rn|=ne),nr===4&&Ys(q,Lt,Vr,!1)),hs(q))}function Cp(q,K,ne){if((Vt&6)!==0)throw Error(A(327));var ue=!ne&&(K&127)===0&&(K&q.expiredLanes)===0||di(q,K),Be=ue?fm(q,K):ac(q,K,!0),Ve=ue;do{if(Be===0){Zn&&!ue&&Ys(q,K,0,!1);break}else{if(ne=q.current.alternate,Ve&&!pm(ne)){Be=ac(q,K,!1),Ve=!1;continue}if(Be===2){if(Ve=K,q.errorRecoveryDisabledLanes&Ve)var We=0;else We=q.pendingLanes&-536870913,We=We!==0?We:We&536870912?536870912:0;if(We!==0){K=We;e:{var et=q;Be=Ui;var lt=et.current.memoizedState.isDehydrated;if(lt&&(ri(et,We).flags|=256),We=ac(et,We,!1),We!==2){if(Zl&&!lt){et.errorRecoveryDisabledLanes|=Ve,Rn|=Ve,Be=4;break e}Ve=_r,_r=Be,Ve!==null&&(_r===null?_r=Ve:_r.push.apply(_r,Ve))}Be=We}if(Ve=!1,Be!==2)continue}}if(Be===1){ri(q,0),Ys(q,K,0,!0);break}e:{switch(ue=q,Ve=Be,Ve){case 0:case 1:throw Error(A(345));case 4:if((K&4194048)!==K)break;case 6:Ys(ue,K,Vr,!Gs);break e;case 2:_r=null;break;case 3:case 5:break;default:throw Error(A(329))}if((K&62914560)===K&&(Be=Qa+300-Xt(),10<Be)){if(Ys(ue,K,Vr,!Gs),oa(ue,0,!0)!==0)break e;Ms=K,ue.timeoutHandle=sh(Np.bind(null,ue,ne,_r,Xa,tc,K,Vr,Rn,ei,Gs,Ve,"Throttled",-0,0),Be);break e}Np(ue,ne,_r,Xa,tc,K,Vr,Rn,ei,Gs,Ve,null,-0,0)}}break}while(!0);hs(q)}function Np(q,K,ne,ue,Be,Ve,We,et,lt,ft,gt,bt,mt,xt){if(q.timeoutHandle=-1,bt=K.subtreeFlags,bt&8192||(bt&16785408)===16785408){bt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xs},vp(K,Ve,bt);var wt=(Ve&62914560)===Ve?Qa-Xt():(Ve&4194048)===Ve?Rp-Xt():0;if(wt=Ym(bt,wt),wt!==null){Ms=Ve,q.cancelPendingCommit=wt(Op.bind(null,q,K,Ve,ne,ue,Be,We,et,lt,gt,bt,null,mt,xt)),Ys(q,Ve,We,!ft);return}}Op(q,K,Ve,ne,ue,Be,We,et,lt)}function pm(q){for(var K=q;;){var ne=K.tag;if((ne===0||ne===11||ne===15)&&K.flags&16384&&(ne=K.updateQueue,ne!==null&&(ne=ne.stores,ne!==null)))for(var ue=0;ue<ne.length;ue++){var Be=ne[ue],Ve=Be.getSnapshot;Be=Be.value;try{if(!Lr(Ve(),Be))return!1}catch{return!1}}if(ne=K.child,K.subtreeFlags&16384&&ne!==null)ne.return=K,K=ne;else{if(K===q)break;for(;K.sibling===null;){if(K.return===null||K.return===q)return!0;K=K.return}K.sibling.return=K.return,K=K.sibling}}return!0}function Ys(q,K,ne,ue){K&=~ec,K&=~Rn,q.suspendedLanes|=K,q.pingedLanes&=~K,ue&&(q.warmLanes|=K),ue=q.expirationTimes;for(var Be=K;0<Be;){var Ve=31-Or(Be),We=1<<Ve;ue[Ve]=-1,Be&=~We}ne!==0&&Lc(q,ne,K)}function Ja(){return(Vt&6)===0?(Gi(0),!1):!0}function ic(){if(Dt!==null){if(Ut===0)var q=Dt.return;else q=Dt,bs=fn=null,bl(q),Gn=null,Ti=0,q=Dt;for(;q!==null;)np(q.alternate,q),q=q.return;Dt=null}}function ri(q,K){var ne=q.timeoutHandle;ne!==-1&&(q.timeoutHandle=-1,_m(ne)),ne=q.cancelPendingCommit,ne!==null&&(q.cancelPendingCommit=null,ne()),Ms=0,ic(),Qt=q,Dt=ne=ys(q.current,null),Lt=K,Ut=0,$r=null,Gs=!1,Zn=di(q,K),Zl=!1,ei=Vr=ec=Rn=Ks=nr=0,_r=Ui=null,tc=!1,(K&8)!==0&&(K|=K&32);var ue=q.entangledLanes;if(ue!==0)for(q=q.entanglements,ue&=K;0<ue;){var Be=31-Or(ue),Ve=1<<Be;K|=q[Be],ue&=~Ve}return As=K,va(),ne}function Tp(q,K){At=null,qe.H=Li,K===qn||K===Na?(K=Hu(),Ut=3):K===ll?(K=Hu(),Ut=4):Ut=K===Il?8:K!==null&&typeof K=="object"&&typeof K.then=="function"?6:1,$r=K,Dt===null&&(nr=1,Va(q,Gr(K,q.current)))}function kp(){var q=Fr.current;return q===null?!0:(Lt&4194048)===Lt?Yr===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?q===Yr:!1}function Ap(){var q=qe.H;return qe.H=Li,q===null?Li:q}function Mp(){var q=qe.A;return qe.A=um,q}function Za(){nr=4,Gs||(Lt&4194048)!==Lt&&Fr.current!==null||(Zn=!0),(Ks&134217727)===0&&(Rn&134217727)===0||Qt===null||Ys(Qt,Lt,Vr,!1)}function ac(q,K,ne){var ue=Vt;Vt|=2;var Be=Ap(),Ve=Mp();(Qt!==q||Lt!==K)&&(Xa=null,ri(q,K)),K=!1;var We=nr;e:do try{if(Ut!==0&&Dt!==null){var et=Dt,lt=$r;switch(Ut){case 8:ic(),We=6;break e;case 3:case 2:case 9:case 6:Fr.current===null&&(K=!0);var ft=Ut;if(Ut=0,$r=null,si(q,et,lt,ft),ne&&Zn){We=0;break e}break;default:ft=Ut,Ut=0,$r=null,si(q,et,lt,ft)}}hm(),We=nr;break}catch(gt){Tp(q,gt)}while(!0);return K&&q.shellSuspendCounter++,bs=fn=null,Vt=ue,qe.H=Be,qe.A=Ve,Dt===null&&(Qt=null,Lt=0,va()),We}function hm(){for(;Dt!==null;)_p(Dt)}function fm(q,K){var ne=Vt;Vt|=2;var ue=Ap(),Be=Mp();Qt!==q||Lt!==K?(Xa=null,Ya=Xt()+500,ri(q,K)):Zn=di(q,K);e:do try{if(Ut!==0&&Dt!==null){K=Dt;var Ve=$r;t:switch(Ut){case 1:Ut=0,$r=null,si(q,K,Ve,1);break;case 2:case 9:if(Vu(Ve)){Ut=0,$r=null,Pp(K);break}K=function(){Ut!==2&&Ut!==9||Qt!==q||(Ut=7),hs(q)},Ve.then(K,K);break e;case 3:Ut=7;break e;case 4:Ut=5;break e;case 7:Vu(Ve)?(Ut=0,$r=null,Pp(K)):(Ut=0,$r=null,si(q,K,Ve,7));break;case 5:var We=null;switch(Dt.tag){case 26:We=Dt.memoizedState;case 5:case 27:var et=Dt;if(We?yh(We):et.stateNode.complete){Ut=0,$r=null;var lt=et.sibling;if(lt!==null)Dt=lt;else{var ft=et.return;ft!==null?(Dt=ft,eo(ft)):Dt=null}break t}}Ut=0,$r=null,si(q,K,Ve,5);break;case 6:Ut=0,$r=null,si(q,K,Ve,6);break;case 8:ic(),nr=6;break e;default:throw Error(A(462))}}mm();break}catch(gt){Tp(q,gt)}while(!0);return bs=fn=null,qe.H=ue,qe.A=Be,Vt=ne,Dt!==null?0:(Qt=null,Lt=0,va(),nr)}function mm(){for(;Dt!==null&&!ns();)_p(Dt)}function _p(q){var K=rp(q.alternate,q,As);q.memoizedProps=q.pendingProps,K===null?eo(q):Dt=K}function Pp(q){var K=q,ne=K.alternate;switch(K.tag){case 15:case 0:K=Yd(ne,K,K.pendingProps,K.type,void 0,Lt);break;case 11:K=Yd(ne,K,K.pendingProps,K.type.render,K.ref,Lt);break;case 5:bl(K);default:np(ne,K),K=Dt=Au(K,As),K=rp(ne,K,As)}q.memoizedProps=q.pendingProps,K===null?eo(q):Dt=K}function si(q,K,ne,ue){bs=fn=null,bl(K),Gn=null,Ti=0;var Be=K.return;try{if(sm(q,Be,K,ne,Lt)){nr=1,Va(q,Gr(ne,q.current)),Dt=null;return}}catch(Ve){if(Be!==null)throw Dt=Be,Ve;nr=1,Va(q,Gr(ne,q.current)),Dt=null;return}K.flags&32768?(Ft||ue===1?q=!0:Zn||(Lt&536870912)!==0?q=!1:(Gs=q=!0,(ue===2||ue===9||ue===3||ue===6)&&(ue=Fr.current,ue!==null&&ue.tag===13&&(ue.flags|=16384))),Dp(K,q)):eo(K)}function eo(q){var K=q;do{if((K.flags&32768)!==0){Dp(K,Gs);return}q=K.return;var ne=am(K.alternate,K,As);if(ne!==null){Dt=ne;return}if(K=K.sibling,K!==null){Dt=K;return}Dt=K=q}while(K!==null);nr===0&&(nr=5)}function Dp(q,K){do{var ne=om(q.alternate,q);if(ne!==null){ne.flags&=32767,Dt=ne;return}if(ne=q.return,ne!==null&&(ne.flags|=32768,ne.subtreeFlags=0,ne.deletions=null),!K&&(q=q.sibling,q!==null)){Dt=q;return}Dt=q=ne}while(q!==null);nr=6,Dt=null}function Op(q,K,ne,ue,Be,Ve,We,et,lt){q.cancelPendingCommit=null;do to();while(dr!==0);if((Vt&6)!==0)throw Error(A(327));if(K!==null){if(K===q.current)throw Error(A(177));if(Ve=K.lanes|K.childLanes,Ve|=Ko,Gh(q,ne,Ve,We,et,lt),q===Qt&&(Dt=Qt=null,Lt=0),ti=K,Qs=q,Ms=ne,rc=Ve,sc=Be,Sp=ue,(K.subtreeFlags&10256)!==0||(K.flags&10256)!==0?(q.callbackNode=null,q.callbackPriority=0,vm(fs,function(){return $p(),null})):(q.callbackNode=null,q.callbackPriority=0),ue=(K.flags&13878)!==0,(K.subtreeFlags&13878)!==0||ue){ue=qe.T,qe.T=null,Be=Xe.p,Xe.p=2,We=Vt,Vt|=4;try{lm(q,K,ne)}finally{Vt=We,Xe.p=Be,qe.T=ue}}dr=1,Lp(),Ip(),Fp()}}function Lp(){if(dr===1){dr=0;var q=Qs,K=ti,ne=(K.flags&13878)!==0;if((K.subtreeFlags&13878)!==0||ne){ne=qe.T,qe.T=null;var ue=Xe.p;Xe.p=2;var Be=Vt;Vt|=4;try{xp(K,q);var Ve=yc,We=Eu(q.containerInfo),et=Ve.focusedElem,lt=Ve.selectionRange;if(We!==et&&et&&et.ownerDocument&&bu(et.ownerDocument.documentElement,et)){if(lt!==null&&zo(et)){var ft=lt.start,gt=lt.end;if(gt===void 0&&(gt=ft),"selectionStart"in et)et.selectionStart=ft,et.selectionEnd=Math.min(gt,et.value.length);else{var bt=et.ownerDocument||document,mt=bt&&bt.defaultView||window;if(mt.getSelection){var xt=mt.getSelection(),wt=et.textContent.length,kt=Math.min(lt.start,wt),Wt=lt.end===void 0?kt:Math.min(lt.end,wt);!xt.extend&&kt>Wt&&(We=Wt,Wt=kt,kt=We);var dt=vu(et,kt),ct=vu(et,Wt);if(dt&&ct&&(xt.rangeCount!==1||xt.anchorNode!==dt.node||xt.anchorOffset!==dt.offset||xt.focusNode!==ct.node||xt.focusOffset!==ct.offset)){var ht=bt.createRange();ht.setStart(dt.node,dt.offset),xt.removeAllRanges(),kt>Wt?(xt.addRange(ht),xt.extend(ct.node,ct.offset)):(ht.setEnd(ct.node,ct.offset),xt.addRange(ht))}}}}for(bt=[],xt=et;xt=xt.parentNode;)xt.nodeType===1&&bt.push({element:xt,left:xt.scrollLeft,top:xt.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<bt.length;et++){var vt=bt[et];vt.element.scrollLeft=vt.left,vt.element.scrollTop=vt.top}}fo=!!gc,yc=gc=null}finally{Vt=Be,Xe.p=ue,qe.T=ne}}q.current=K,dr=2}}function Ip(){if(dr===2){dr=0;var q=Qs,K=ti,ne=(K.flags&8772)!==0;if((K.subtreeFlags&8772)!==0||ne){ne=qe.T,qe.T=null;var ue=Xe.p;Xe.p=2;var Be=Vt;Vt|=4;try{dp(q,K.alternate,K)}finally{Vt=Be,Xe.p=ue,qe.T=ne}}dr=3}}function Fp(){if(dr===4||dr===3){dr=0,as();var q=Qs,K=ti,ne=Ms,ue=Sp;(K.subtreeFlags&10256)!==0||(K.flags&10256)!==0?dr=5:(dr=0,ti=Qs=null,Bp(q,q.pendingLanes));var Be=q.pendingLanes;if(Be===0&&(Ws=null),Ro(ne),K=K.stateNode,Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(ui,K,void 0,(K.current.flags&128)===128)}catch{}if(ue!==null){K=qe.T,Be=Xe.p,Xe.p=2,qe.T=null;try{for(var Ve=q.onRecoverableError,We=0;We<ue.length;We++){var et=ue[We];Ve(et.value,{componentStack:et.stack})}}finally{qe.T=K,Xe.p=Be}}(Ms&3)!==0&&to(),hs(q),Be=q.pendingLanes,(ne&261930)!==0&&(Be&42)!==0?q===nc?qi++:(qi=0,nc=q):qi=0,Gi(0)}}function Bp(q,K){(q.pooledCacheLanes&=K)===0&&(K=q.pooledCache,K!=null&&(q.pooledCache=null,Ci(K)))}function to(){return Lp(),Ip(),Fp(),$p()}function $p(){if(dr!==5)return!1;var q=Qs,K=rc;rc=0;var ne=Ro(Ms),ue=qe.T,Be=Xe.p;try{Xe.p=32>ne?32:ne,qe.T=null,ne=sc,sc=null;var Ve=Qs,We=Ms;if(dr=0,ti=Qs=null,Ms=0,(Vt&6)!==0)throw Error(A(331));var et=Vt;if(Vt|=4,Ep(Ve.current),yp(Ve,Ve.current,We,ne),Vt=et,Gi(0,!1),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(ui,Ve)}catch{}return!0}finally{Xe.p=Be,qe.T=ue,Bp(q,K)}}function Vp(q,K,ne){K=Gr(ne,K),K=Ll(q.stateNode,K,2),q=zs(q,K,2),q!==null&&(pi(q,2),hs(q))}function qt(q,K,ne){if(q.tag===3)Vp(q,q,ne);else for(;K!==null;){if(K.tag===3){Vp(K,q,ne);break}else if(K.tag===1){var ue=K.stateNode;if(typeof K.type.getDerivedStateFromError=="function"||typeof ue.componentDidCatch=="function"&&(Ws===null||!Ws.has(ue))){q=Gr(ne,q),ne=zd(2),ue=zs(K,ne,2),ue!==null&&(Hd(ne,ue,K,q),pi(ue,2),hs(ue));break}}K=K.return}}function oc(q,K,ne){var ue=q.pingCache;if(ue===null){ue=q.pingCache=new dm;var Be=new Set;ue.set(K,Be)}else Be=ue.get(K),Be===void 0&&(Be=new Set,ue.set(K,Be));Be.has(ne)||(Zl=!0,Be.add(ne),q=xm.bind(null,q,K,ne),K.then(q,q))}function xm(q,K,ne){var ue=q.pingCache;ue!==null&&ue.delete(K),q.pingedLanes|=q.suspendedLanes&ne,q.warmLanes&=~ne,Qt===q&&(Lt&ne)===ne&&(nr===4||nr===3&&(Lt&62914560)===Lt&&300>Xt()-Qa?(Vt&2)===0&&ri(q,0):ec|=ne,ei===Lt&&(ei=0)),hs(q)}function zp(q,K){K===0&&(K=Oc()),q=dn(q,K),q!==null&&(pi(q,K),hs(q))}function gm(q){var K=q.memoizedState,ne=0;K!==null&&(ne=K.retryLane),zp(q,ne)}function ym(q,K){var ne=0;switch(q.tag){case 31:case 13:var ue=q.stateNode,Be=q.memoizedState;Be!==null&&(ne=Be.retryLane);break;case 19:ue=q.stateNode;break;case 22:ue=q.stateNode._retryCache;break;default:throw Error(A(314))}ue!==null&&ue.delete(K),zp(q,ne)}function vm(q,K){return Sr(q,K)}var ro=null,ni=null,lc=!1,so=!1,cc=!1,Xs=0;function hs(q){q!==ni&&q.next===null&&(ni===null?ro=ni=q:ni=ni.next=q),so=!0,lc||(lc=!0,Em())}function Gi(q,K){if(!cc&&so){cc=!0;do for(var ne=!1,ue=ro;ue!==null;){if(q!==0){var Be=ue.pendingLanes;if(Be===0)var Ve=0;else{var We=ue.suspendedLanes,et=ue.pingedLanes;Ve=(1<<31-Or(42|q)+1)-1,Ve&=Be&~(We&~et),Ve=Ve&201326741?Ve&201326741|1:Ve?Ve|2:0}Ve!==0&&(ne=!0,Gp(ue,Ve))}else Ve=Lt,Ve=oa(ue,ue===Qt?Ve:0,ue.cancelPendingCommit!==null||ue.timeoutHandle!==-1),(Ve&3)===0||di(ue,Ve)||(ne=!0,Gp(ue,Ve));ue=ue.next}while(ne);cc=!1}}function bm(){Hp()}function Hp(){so=lc=!1;var q=0;Xs!==0&&Mm()&&(q=Xs);for(var K=Xt(),ne=null,ue=ro;ue!==null;){var Be=ue.next,Ve=Up(ue,K);Ve===0?(ue.next=null,ne===null?ro=Be:ne.next=Be,Be===null&&(ni=ne)):(ne=ue,(q!==0||(Ve&3)!==0)&&(so=!0)),ue=Be}dr!==0&&dr!==5||Gi(q),Xs!==0&&(Xs=0)}function Up(q,K){for(var ne=q.suspendedLanes,ue=q.pingedLanes,Be=q.expirationTimes,Ve=q.pendingLanes&-62914561;0<Ve;){var We=31-Or(Ve),et=1<<We,lt=Be[We];lt===-1?((et&ne)===0||(et&ue)!==0)&&(Be[We]=qh(et,K)):lt<=K&&(q.expiredLanes|=et),Ve&=~et}if(K=Qt,ne=Lt,ne=oa(q,q===K?ne:0,q.cancelPendingCommit!==null||q.timeoutHandle!==-1),ue=q.callbackNode,ne===0||q===K&&(Ut===2||Ut===9)||q.cancelPendingCommit!==null)return ue!==null&&ue!==null&&hr(ue),q.callbackNode=null,q.callbackPriority=0;if((ne&3)===0||di(q,ne)){if(K=ne&-ne,K===q.callbackPriority)return K;switch(ue!==null&&hr(ue),Ro(ne)){case 2:case 8:ne=cs;break;case 32:ne=fs;break;case 268435456:ne=nn;break;default:ne=fs}return ue=qp.bind(null,q),ne=Sr(ne,ue),q.callbackPriority=K,q.callbackNode=ne,K}return ue!==null&&ue!==null&&hr(ue),q.callbackPriority=2,q.callbackNode=null,2}function qp(q,K){if(dr!==0&&dr!==5)return q.callbackNode=null,q.callbackPriority=0,null;var ne=q.callbackNode;if(to()&&q.callbackNode!==ne)return null;var ue=Lt;return ue=oa(q,q===Qt?ue:0,q.cancelPendingCommit!==null||q.timeoutHandle!==-1),ue===0?null:(Cp(q,ue,K),Up(q,Xt()),q.callbackNode!=null&&q.callbackNode===ne?qp.bind(null,q):null)}function Gp(q,K){if(to())return null;Cp(q,K,!0)}function Em(){Pm(function(){(Vt&6)!==0?Sr(Cr,bm):Hp()})}function uc(){if(Xs===0){var q=Hn;q===0&&(q=na,na<<=1,(na&261888)===0&&(na=256)),Xs=q}return Xs}function Kp(q){return q==null||typeof q=="symbol"||typeof q=="boolean"?null:typeof q=="function"?q:da(""+q)}function Wp(q,K){var ne=K.ownerDocument.createElement("input");return ne.name=K.name,ne.value=K.value,q.id&&ne.setAttribute("form",q.id),K.parentNode.insertBefore(ne,K),q=new FormData(q),ne.parentNode.removeChild(ne),q}function jm(q,K,ne,ue,Be){if(K==="submit"&&ne&&ne.stateNode===Be){var Ve=Kp((Be[Nr]||null).action),We=ue.submitter;We&&(K=(K=We[Nr]||null)?Kp(K.formAction):We.getAttribute("formAction"),K!==null&&(Ve=K,We=null));var et=new ma("action","action",null,ue,Be);q.push({event:et,listeners:[{instance:null,listener:function(){if(ue.defaultPrevented){if(Xs!==0){var lt=We?Wp(Be,We):new FormData(Be);Al(ne,{pending:!0,data:lt,method:Be.method,action:Ve},null,lt)}}else typeof Ve=="function"&&(et.preventDefault(),lt=We?Wp(Be,We):new FormData(Be),Al(ne,{pending:!0,data:lt,method:Be.method,action:Ve},Ve,lt))},currentTarget:Be}]})}}for(var dc=0;dc<Go.length;dc++){var pc=Go[dc],Rm=pc.toLowerCase(),Sm=pc[0].toUpperCase()+pc.slice(1);Zr(Rm,"on"+Sm)}Zr(Su,"onAnimationEnd"),Zr(wu,"onAnimationIteration"),Zr(Cu,"onAnimationStart"),Zr("dblclick","onDoubleClick"),Zr("focusin","onFocus"),Zr("focusout","onBlur"),Zr(Bf,"onTransitionRun"),Zr($f,"onTransitionStart"),Zr(Vf,"onTransitionCancel"),Zr(Nu,"onTransitionEnd"),kn("onMouseEnter",["mouseout","mouseover"]),kn("onMouseLeave",["mouseout","mouseover"]),kn("onPointerEnter",["pointerout","pointerover"]),kn("onPointerLeave",["pointerout","pointerover"]),on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),on("onBeforeInput",["compositionend","keypress","textInput","paste"]),on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ki));function Qp(q,K){K=(K&4)!==0;for(var ne=0;ne<q.length;ne++){var ue=q[ne],Be=ue.event;ue=ue.listeners;e:{var Ve=void 0;if(K)for(var We=ue.length-1;0<=We;We--){var et=ue[We],lt=et.instance,ft=et.currentTarget;if(et=et.listener,lt!==Ve&&Be.isPropagationStopped())break e;Ve=et,Be.currentTarget=ft;try{Ve(Be)}catch(gt){ya(gt)}Be.currentTarget=null,Ve=lt}else for(We=0;We<ue.length;We++){if(et=ue[We],lt=et.instance,ft=et.currentTarget,et=et.listener,lt!==Ve&&Be.isPropagationStopped())break e;Ve=et,Be.currentTarget=ft;try{Ve(Be)}catch(gt){ya(gt)}Be.currentTarget=null,Ve=lt}}}}function Ot(q,K){var ne=K[So];ne===void 0&&(ne=K[So]=new Set);var ue=q+"__bubble";ne.has(ue)||(Yp(K,q,2,!1),ne.add(ue))}function hc(q,K,ne){var ue=0;K&&(ue|=4),Yp(ne,q,ue,K)}var no="_reactListening"+Math.random().toString(36).slice(2);function fc(q){if(!q[no]){q[no]=!0,zc.forEach(function(ne){ne!=="selectionchange"&&(wm.has(ne)||hc(ne,!1,q),hc(ne,!0,q))});var K=q.nodeType===9?q:q.ownerDocument;K===null||K[no]||(K[no]=!0,hc("selectionchange",!1,K))}}function Yp(q,K,ne,ue){switch(Ch(K)){case 2:var Be=Zm;break;case 8:Be=ex;break;default:Be=kc}ne=Be.bind(null,K,ne,q),Be=void 0,!Po||K!=="touchstart"&&K!=="touchmove"&&K!=="wheel"||(Be=!0),ue?Be!==void 0?q.addEventListener(K,ne,{capture:!0,passive:Be}):q.addEventListener(K,ne,!0):Be!==void 0?q.addEventListener(K,ne,{passive:Be}):q.addEventListener(K,ne,!1)}function mc(q,K,ne,ue,Be){var Ve=ue;if((K&1)===0&&(K&2)===0&&ue!==null)e:for(;;){if(ue===null)return;var We=ue.tag;if(We===3||We===4){var et=ue.stateNode.containerInfo;if(et===Be)break;if(We===4)for(We=ue.return;We!==null;){var lt=We.tag;if((lt===3||lt===4)&&We.stateNode.containerInfo===Be)return;We=We.return}for(;et!==null;){if(We=Cn(et),We===null)return;if(lt=We.tag,lt===5||lt===6||lt===26||lt===27){ue=Ve=We;continue e}et=et.parentNode}}ue=ue.return}eu(function(){var ft=Ve,gt=Mo(ne),bt=[];e:{var mt=Tu.get(q);if(mt!==void 0){var xt=ma,wt=q;switch(q){case"keypress":if(ha(ne)===0)break e;case"keydown":case"keyup":xt=gf;break;case"focusin":wt="focus",xt=Io;break;case"focusout":wt="blur",xt=Io;break;case"beforeblur":case"afterblur":xt=Io;break;case"click":if(ne.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xt=su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xt=nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xt=bf;break;case Su:case wu:case Cu:xt=lf;break;case Nu:xt=jf;break;case"scroll":case"scrollend":xt=rf;break;case"wheel":xt=Sf;break;case"copy":case"cut":case"paste":xt=uf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xt=iu;break;case"toggle":case"beforetoggle":xt=Cf}var kt=(K&4)!==0,Wt=!kt&&(q==="scroll"||q==="scrollend"),dt=kt?mt!==null?mt+"Capture":null:mt;kt=[];for(var ct=ft,ht;ct!==null;){var vt=ct;if(ht=vt.stateNode,vt=vt.tag,vt!==5&&vt!==26&&vt!==27||ht===null||dt===null||(vt=mi(ct,dt),vt!=null&&kt.push(Wi(ct,vt,ht))),Wt)break;ct=ct.return}0<kt.length&&(mt=new xt(mt,wt,null,ne,gt),bt.push({event:mt,listeners:kt}))}}if((K&7)===0){e:{if(mt=q==="mouseover"||q==="pointerover",xt=q==="mouseout"||q==="pointerout",mt&&ne!==Ao&&(wt=ne.relatedTarget||ne.fromElement)&&(Cn(wt)||wt[wn]))break e;if((xt||mt)&&(mt=gt.window===gt?gt:(mt=gt.ownerDocument)?mt.defaultView||mt.parentWindow:window,xt?(wt=ne.relatedTarget||ne.toElement,xt=ft,wt=wt?Cn(wt):null,wt!==null&&(Wt=z(wt),kt=wt.tag,wt!==Wt||kt!==5&&kt!==27&&kt!==6)&&(wt=null)):(xt=null,wt=ft),xt!==wt)){if(kt=su,vt="onMouseLeave",dt="onMouseEnter",ct="mouse",(q==="pointerout"||q==="pointerover")&&(kt=iu,vt="onPointerLeave",dt="onPointerEnter",ct="pointer"),Wt=xt==null?mt:fi(xt),ht=wt==null?mt:fi(wt),mt=new kt(vt,ct+"leave",xt,ne,gt),mt.target=Wt,mt.relatedTarget=ht,vt=null,Cn(gt)===ft&&(kt=new kt(dt,ct+"enter",wt,ne,gt),kt.target=ht,kt.relatedTarget=Wt,vt=kt),Wt=vt,xt&&wt)t:{for(kt=Cm,dt=xt,ct=wt,ht=0,vt=dt;vt;vt=kt(vt))ht++;vt=0;for(var Tt=ct;Tt;Tt=kt(Tt))vt++;for(;0<ht-vt;)dt=kt(dt),ht--;for(;0<vt-ht;)ct=kt(ct),vt--;for(;ht--;){if(dt===ct||ct!==null&&dt===ct.alternate){kt=dt;break t}dt=kt(dt),ct=kt(ct)}kt=null}else kt=null;xt!==null&&Xp(bt,mt,xt,kt,!1),wt!==null&&Wt!==null&&Xp(bt,Wt,wt,kt,!0)}}e:{if(mt=ft?fi(ft):window,xt=mt.nodeName&&mt.nodeName.toLowerCase(),xt==="select"||xt==="input"&&mt.type==="file")var Bt=hu;else if(du(mt))if(fu)Bt=Lf;else{Bt=Df;var Nt=Pf}else xt=mt.nodeName,!xt||xt.toLowerCase()!=="input"||mt.type!=="checkbox"&&mt.type!=="radio"?ft&&ko(ft.elementType)&&(Bt=hu):Bt=Of;if(Bt&&(Bt=Bt(q,ft))){pu(bt,Bt,ne,gt);break e}Nt&&Nt(q,mt,ft),q==="focusout"&&ft&&mt.type==="number"&&ft.memoizedProps.value!=null&&To(mt,"number",mt.value)}switch(Nt=ft?fi(ft):window,q){case"focusin":(du(Nt)||Nt.contentEditable==="true")&&(On=Nt,Ho=ft,Ri=null);break;case"focusout":Ri=Ho=On=null;break;case"mousedown":Uo=!0;break;case"contextmenu":case"mouseup":case"dragend":Uo=!1,ju(bt,ne,gt);break;case"selectionchange":if(Ff)break;case"keydown":case"keyup":ju(bt,ne,gt)}var Mt;if(Bo)e:{switch(q){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else Dn?cu(q,ne)&&(It="onCompositionEnd"):q==="keydown"&&ne.keyCode===229&&(It="onCompositionStart");It&&(au&&ne.locale!=="ko"&&(Dn||It!=="onCompositionStart"?It==="onCompositionEnd"&&Dn&&(Mt=tu()):(Os=gt,Do="value"in Os?Os.value:Os.textContent,Dn=!0)),Nt=io(ft,It),0<Nt.length&&(It=new nu(It,q,null,ne,gt),bt.push({event:It,listeners:Nt}),Mt?It.data=Mt:(Mt=uu(ne),Mt!==null&&(It.data=Mt)))),(Mt=Tf?kf(q,ne):Af(q,ne))&&(It=io(ft,"onBeforeInput"),0<It.length&&(Nt=new nu("onBeforeInput","beforeinput",null,ne,gt),bt.push({event:Nt,listeners:It}),Nt.data=Mt)),jm(bt,q,ft,ne,gt)}Qp(bt,K)})}function Wi(q,K,ne){return{instance:q,listener:K,currentTarget:ne}}function io(q,K){for(var ne=K+"Capture",ue=[];q!==null;){var Be=q,Ve=Be.stateNode;if(Be=Be.tag,Be!==5&&Be!==26&&Be!==27||Ve===null||(Be=mi(q,ne),Be!=null&&ue.unshift(Wi(q,Be,Ve)),Be=mi(q,K),Be!=null&&ue.push(Wi(q,Be,Ve))),q.tag===3)return ue;q=q.return}return[]}function Cm(q){if(q===null)return null;do q=q.return;while(q&&q.tag!==5&&q.tag!==27);return q||null}function Xp(q,K,ne,ue,Be){for(var Ve=K._reactName,We=[];ne!==null&&ne!==ue;){var et=ne,lt=et.alternate,ft=et.stateNode;if(et=et.tag,lt!==null&&lt===ue)break;et!==5&&et!==26&&et!==27||ft===null||(lt=ft,Be?(ft=mi(ne,Ve),ft!=null&&We.unshift(Wi(ne,ft,lt))):Be||(ft=mi(ne,Ve),ft!=null&&We.push(Wi(ne,ft,lt)))),ne=ne.return}We.length!==0&&q.push({event:K,listeners:We})}var Nm=/\r\n?/g,Tm=/\u0000|\uFFFD/g;function Jp(q){return(typeof q=="string"?q:""+q).replace(Nm,`
`).replace(Tm,"")}function Zp(q,K){return K=Jp(K),Jp(q)===K}function Kt(q,K,ne,ue,Be,Ve){switch(ne){case"children":typeof ue=="string"?K==="body"||K==="textarea"&&ue===""||Mn(q,ue):(typeof ue=="number"||typeof ue=="bigint")&&K!=="body"&&Mn(q,""+ue);break;case"className":ca(q,"class",ue);break;case"tabIndex":ca(q,"tabindex",ue);break;case"dir":case"role":case"viewBox":case"width":case"height":ca(q,ne,ue);break;case"style":Jc(q,ue,Ve);break;case"data":if(K!=="object"){ca(q,"data",ue);break}case"src":case"href":if(ue===""&&(K!=="a"||ne!=="href")){q.removeAttribute(ne);break}if(ue==null||typeof ue=="function"||typeof ue=="symbol"||typeof ue=="boolean"){q.removeAttribute(ne);break}ue=da(""+ue),q.setAttribute(ne,ue);break;case"action":case"formAction":if(typeof ue=="function"){q.setAttribute(ne,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Ve=="function"&&(ne==="formAction"?(K!=="input"&&Kt(q,K,"name",Be.name,Be,null),Kt(q,K,"formEncType",Be.formEncType,Be,null),Kt(q,K,"formMethod",Be.formMethod,Be,null),Kt(q,K,"formTarget",Be.formTarget,Be,null)):(Kt(q,K,"encType",Be.encType,Be,null),Kt(q,K,"method",Be.method,Be,null),Kt(q,K,"target",Be.target,Be,null)));if(ue==null||typeof ue=="symbol"||typeof ue=="boolean"){q.removeAttribute(ne);break}ue=da(""+ue),q.setAttribute(ne,ue);break;case"onClick":ue!=null&&(q.onclick=xs);break;case"onScroll":ue!=null&&Ot("scroll",q);break;case"onScrollEnd":ue!=null&&Ot("scrollend",q);break;case"dangerouslySetInnerHTML":if(ue!=null){if(typeof ue!="object"||!("__html"in ue))throw Error(A(61));if(ne=ue.__html,ne!=null){if(Be.children!=null)throw Error(A(60));q.innerHTML=ne}}break;case"multiple":q.multiple=ue&&typeof ue!="function"&&typeof ue!="symbol";break;case"muted":q.muted=ue&&typeof ue!="function"&&typeof ue!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(ue==null||typeof ue=="function"||typeof ue=="boolean"||typeof ue=="symbol"){q.removeAttribute("xlink:href");break}ne=da(""+ue),q.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",ne);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":ue!=null&&typeof ue!="function"&&typeof ue!="symbol"?q.setAttribute(ne,""+ue):q.removeAttribute(ne);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":ue&&typeof ue!="function"&&typeof ue!="symbol"?q.setAttribute(ne,""):q.removeAttribute(ne);break;case"capture":case"download":ue===!0?q.setAttribute(ne,""):ue!==!1&&ue!=null&&typeof ue!="function"&&typeof ue!="symbol"?q.setAttribute(ne,ue):q.removeAttribute(ne);break;case"cols":case"rows":case"size":case"span":ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&!isNaN(ue)&&1<=ue?q.setAttribute(ne,ue):q.removeAttribute(ne);break;case"rowSpan":case"start":ue==null||typeof ue=="function"||typeof ue=="symbol"||isNaN(ue)?q.removeAttribute(ne):q.setAttribute(ne,ue);break;case"popover":Ot("beforetoggle",q),Ot("toggle",q),la(q,"popover",ue);break;case"xlinkActuate":ms(q,"http://www.w3.org/1999/xlink","xlink:actuate",ue);break;case"xlinkArcrole":ms(q,"http://www.w3.org/1999/xlink","xlink:arcrole",ue);break;case"xlinkRole":ms(q,"http://www.w3.org/1999/xlink","xlink:role",ue);break;case"xlinkShow":ms(q,"http://www.w3.org/1999/xlink","xlink:show",ue);break;case"xlinkTitle":ms(q,"http://www.w3.org/1999/xlink","xlink:title",ue);break;case"xlinkType":ms(q,"http://www.w3.org/1999/xlink","xlink:type",ue);break;case"xmlBase":ms(q,"http://www.w3.org/XML/1998/namespace","xml:base",ue);break;case"xmlLang":ms(q,"http://www.w3.org/XML/1998/namespace","xml:lang",ue);break;case"xmlSpace":ms(q,"http://www.w3.org/XML/1998/namespace","xml:space",ue);break;case"is":la(q,"is",ue);break;case"innerText":case"textContent":break;default:(!(2<ne.length)||ne[0]!=="o"&&ne[0]!=="O"||ne[1]!=="n"&&ne[1]!=="N")&&(ne=ef.get(ne)||ne,la(q,ne,ue))}}function xc(q,K,ne,ue,Be,Ve){switch(ne){case"style":Jc(q,ue,Ve);break;case"dangerouslySetInnerHTML":if(ue!=null){if(typeof ue!="object"||!("__html"in ue))throw Error(A(61));if(ne=ue.__html,ne!=null){if(Be.children!=null)throw Error(A(60));q.innerHTML=ne}}break;case"children":typeof ue=="string"?Mn(q,ue):(typeof ue=="number"||typeof ue=="bigint")&&Mn(q,""+ue);break;case"onScroll":ue!=null&&Ot("scroll",q);break;case"onScrollEnd":ue!=null&&Ot("scrollend",q);break;case"onClick":ue!=null&&(q.onclick=xs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hc.hasOwnProperty(ne))e:{if(ne[0]==="o"&&ne[1]==="n"&&(Be=ne.endsWith("Capture"),K=ne.slice(2,Be?ne.length-7:void 0),Ve=q[Nr]||null,Ve=Ve!=null?Ve[ne]:null,typeof Ve=="function"&&q.removeEventListener(K,Ve,Be),typeof ue=="function")){typeof Ve!="function"&&Ve!==null&&(ne in q?q[ne]=null:q.hasAttribute(ne)&&q.removeAttribute(ne)),q.addEventListener(K,ue,Be);break e}ne in q?q[ne]=ue:ue===!0?q.setAttribute(ne,""):la(q,ne,ue)}}}function br(q,K,ne){switch(K){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",q),Ot("load",q);var ue=!1,Be=!1,Ve;for(Ve in ne)if(ne.hasOwnProperty(Ve)){var We=ne[Ve];if(We!=null)switch(Ve){case"src":ue=!0;break;case"srcSet":Be=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(A(137,K));default:Kt(q,K,Ve,We,ne,null)}}Be&&Kt(q,K,"srcSet",ne.srcSet,ne,null),ue&&Kt(q,K,"src",ne.src,ne,null);return;case"input":Ot("invalid",q);var et=Ve=We=Be=null,lt=null,ft=null;for(ue in ne)if(ne.hasOwnProperty(ue)){var gt=ne[ue];if(gt!=null)switch(ue){case"name":Be=gt;break;case"type":We=gt;break;case"checked":lt=gt;break;case"defaultChecked":ft=gt;break;case"value":Ve=gt;break;case"defaultValue":et=gt;break;case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(A(137,K));break;default:Kt(q,K,ue,gt,ne,null)}}Wc(q,Ve,et,lt,ft,We,Be,!1);return;case"select":Ot("invalid",q),ue=We=Ve=null;for(Be in ne)if(ne.hasOwnProperty(Be)&&(et=ne[Be],et!=null))switch(Be){case"value":Ve=et;break;case"defaultValue":We=et;break;case"multiple":ue=et;default:Kt(q,K,Be,et,ne,null)}K=Ve,ne=We,q.multiple=!!ue,K!=null?An(q,!!ue,K,!1):ne!=null&&An(q,!!ue,ne,!0);return;case"textarea":Ot("invalid",q),Ve=Be=ue=null;for(We in ne)if(ne.hasOwnProperty(We)&&(et=ne[We],et!=null))switch(We){case"value":ue=et;break;case"defaultValue":Be=et;break;case"children":Ve=et;break;case"dangerouslySetInnerHTML":if(et!=null)throw Error(A(91));break;default:Kt(q,K,We,et,ne,null)}Yc(q,ue,Be,Ve);return;case"option":for(lt in ne)if(ne.hasOwnProperty(lt)&&(ue=ne[lt],ue!=null))switch(lt){case"selected":q.selected=ue&&typeof ue!="function"&&typeof ue!="symbol";break;default:Kt(q,K,lt,ue,ne,null)}return;case"dialog":Ot("beforetoggle",q),Ot("toggle",q),Ot("cancel",q),Ot("close",q);break;case"iframe":case"object":Ot("load",q);break;case"video":case"audio":for(ue=0;ue<Ki.length;ue++)Ot(Ki[ue],q);break;case"image":Ot("error",q),Ot("load",q);break;case"details":Ot("toggle",q);break;case"embed":case"source":case"link":Ot("error",q),Ot("load",q);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ft in ne)if(ne.hasOwnProperty(ft)&&(ue=ne[ft],ue!=null))switch(ft){case"children":case"dangerouslySetInnerHTML":throw Error(A(137,K));default:Kt(q,K,ft,ue,ne,null)}return;default:if(ko(K)){for(gt in ne)ne.hasOwnProperty(gt)&&(ue=ne[gt],ue!==void 0&&xc(q,K,gt,ue,ne,void 0));return}}for(et in ne)ne.hasOwnProperty(et)&&(ue=ne[et],ue!=null&&Kt(q,K,et,ue,ne,null))}function km(q,K,ne,ue){switch(K){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var Be=null,Ve=null,We=null,et=null,lt=null,ft=null,gt=null;for(xt in ne){var bt=ne[xt];if(ne.hasOwnProperty(xt)&&bt!=null)switch(xt){case"checked":break;case"value":break;case"defaultValue":lt=bt;default:ue.hasOwnProperty(xt)||Kt(q,K,xt,null,ue,bt)}}for(var mt in ue){var xt=ue[mt];if(bt=ne[mt],ue.hasOwnProperty(mt)&&(xt!=null||bt!=null))switch(mt){case"type":Ve=xt;break;case"name":Be=xt;break;case"checked":ft=xt;break;case"defaultChecked":gt=xt;break;case"value":We=xt;break;case"defaultValue":et=xt;break;case"children":case"dangerouslySetInnerHTML":if(xt!=null)throw Error(A(137,K));break;default:xt!==bt&&Kt(q,K,mt,xt,ue,bt)}}No(q,We,et,lt,ft,gt,Ve,Be);return;case"select":xt=We=et=mt=null;for(Ve in ne)if(lt=ne[Ve],ne.hasOwnProperty(Ve)&&lt!=null)switch(Ve){case"value":break;case"multiple":xt=lt;default:ue.hasOwnProperty(Ve)||Kt(q,K,Ve,null,ue,lt)}for(Be in ue)if(Ve=ue[Be],lt=ne[Be],ue.hasOwnProperty(Be)&&(Ve!=null||lt!=null))switch(Be){case"value":mt=Ve;break;case"defaultValue":et=Ve;break;case"multiple":We=Ve;default:Ve!==lt&&Kt(q,K,Be,Ve,ue,lt)}K=et,ne=We,ue=xt,mt!=null?An(q,!!ne,mt,!1):!!ue!=!!ne&&(K!=null?An(q,!!ne,K,!0):An(q,!!ne,ne?[]:"",!1));return;case"textarea":xt=mt=null;for(et in ne)if(Be=ne[et],ne.hasOwnProperty(et)&&Be!=null&&!ue.hasOwnProperty(et))switch(et){case"value":break;case"children":break;default:Kt(q,K,et,null,ue,Be)}for(We in ue)if(Be=ue[We],Ve=ne[We],ue.hasOwnProperty(We)&&(Be!=null||Ve!=null))switch(We){case"value":mt=Be;break;case"defaultValue":xt=Be;break;case"children":break;case"dangerouslySetInnerHTML":if(Be!=null)throw Error(A(91));break;default:Be!==Ve&&Kt(q,K,We,Be,ue,Ve)}Qc(q,mt,xt);return;case"option":for(var wt in ne)if(mt=ne[wt],ne.hasOwnProperty(wt)&&mt!=null&&!ue.hasOwnProperty(wt))switch(wt){case"selected":q.selected=!1;break;default:Kt(q,K,wt,null,ue,mt)}for(lt in ue)if(mt=ue[lt],xt=ne[lt],ue.hasOwnProperty(lt)&&mt!==xt&&(mt!=null||xt!=null))switch(lt){case"selected":q.selected=mt&&typeof mt!="function"&&typeof mt!="symbol";break;default:Kt(q,K,lt,mt,ue,xt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kt in ne)mt=ne[kt],ne.hasOwnProperty(kt)&&mt!=null&&!ue.hasOwnProperty(kt)&&Kt(q,K,kt,null,ue,mt);for(ft in ue)if(mt=ue[ft],xt=ne[ft],ue.hasOwnProperty(ft)&&mt!==xt&&(mt!=null||xt!=null))switch(ft){case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(A(137,K));break;default:Kt(q,K,ft,mt,ue,xt)}return;default:if(ko(K)){for(var Wt in ne)mt=ne[Wt],ne.hasOwnProperty(Wt)&&mt!==void 0&&!ue.hasOwnProperty(Wt)&&xc(q,K,Wt,void 0,ue,mt);for(gt in ue)mt=ue[gt],xt=ne[gt],!ue.hasOwnProperty(gt)||mt===xt||mt===void 0&&xt===void 0||xc(q,K,gt,mt,ue,xt);return}}for(var dt in ne)mt=ne[dt],ne.hasOwnProperty(dt)&&mt!=null&&!ue.hasOwnProperty(dt)&&Kt(q,K,dt,null,ue,mt);for(bt in ue)mt=ue[bt],xt=ne[bt],!ue.hasOwnProperty(bt)||mt===xt||mt==null&&xt==null||Kt(q,K,bt,mt,ue,xt)}function eh(q){switch(q){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Am(){if(typeof performance.getEntriesByType=="function"){for(var q=0,K=0,ne=performance.getEntriesByType("resource"),ue=0;ue<ne.length;ue++){var Be=ne[ue],Ve=Be.transferSize,We=Be.initiatorType,et=Be.duration;if(Ve&&et&&eh(We)){for(We=0,et=Be.responseEnd,ue+=1;ue<ne.length;ue++){var lt=ne[ue],ft=lt.startTime;if(ft>et)break;var gt=lt.transferSize,bt=lt.initiatorType;gt&&eh(bt)&&(lt=lt.responseEnd,We+=gt*(lt<et?1:(et-ft)/(lt-ft)))}if(--ue,K+=8*(Ve+We)/(Be.duration/1e3),q++,10<q)break}}if(0<q)return K/q/1e6}return navigator.connection&&(q=navigator.connection.downlink,typeof q=="number")?q:5}var gc=null,yc=null;function ao(q){return q.nodeType===9?q:q.ownerDocument}function th(q){switch(q){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rh(q,K){if(q===0)switch(K){case"svg":return 1;case"math":return 2;default:return 0}return q===1&&K==="foreignObject"?0:q}function vc(q,K){return q==="textarea"||q==="noscript"||typeof K.children=="string"||typeof K.children=="number"||typeof K.children=="bigint"||typeof K.dangerouslySetInnerHTML=="object"&&K.dangerouslySetInnerHTML!==null&&K.dangerouslySetInnerHTML.__html!=null}var bc=null;function Mm(){var q=window.event;return q&&q.type==="popstate"?q===bc?!1:(bc=q,!0):(bc=null,!1)}var sh=typeof setTimeout=="function"?setTimeout:void 0,_m=typeof clearTimeout=="function"?clearTimeout:void 0,nh=typeof Promise=="function"?Promise:void 0,Pm=typeof queueMicrotask=="function"?queueMicrotask:typeof nh<"u"?function(q){return nh.resolve(null).then(q).catch(Dm)}:sh;function Dm(q){setTimeout(function(){throw q})}function Js(q){return q==="head"}function ih(q,K){var ne=K,ue=0;do{var Be=ne.nextSibling;if(q.removeChild(ne),Be&&Be.nodeType===8)if(ne=Be.data,ne==="/$"||ne==="/&"){if(ue===0){q.removeChild(Be),li(K);return}ue--}else if(ne==="$"||ne==="$?"||ne==="$~"||ne==="$!"||ne==="&")ue++;else if(ne==="html")Qi(q.ownerDocument.documentElement);else if(ne==="head"){ne=q.ownerDocument.head,Qi(ne);for(var Ve=ne.firstChild;Ve;){var We=Ve.nextSibling,et=Ve.nodeName;Ve[hi]||et==="SCRIPT"||et==="STYLE"||et==="LINK"&&Ve.rel.toLowerCase()==="stylesheet"||ne.removeChild(Ve),Ve=We}}else ne==="body"&&Qi(q.ownerDocument.body);ne=Be}while(ne);li(K)}function ah(q,K){var ne=q;q=0;do{var ue=ne.nextSibling;if(ne.nodeType===1?K?(ne._stashedDisplay=ne.style.display,ne.style.display="none"):(ne.style.display=ne._stashedDisplay||"",ne.getAttribute("style")===""&&ne.removeAttribute("style")):ne.nodeType===3&&(K?(ne._stashedText=ne.nodeValue,ne.nodeValue=""):ne.nodeValue=ne._stashedText||""),ue&&ue.nodeType===8)if(ne=ue.data,ne==="/$"){if(q===0)break;q--}else ne!=="$"&&ne!=="$?"&&ne!=="$~"&&ne!=="$!"||q++;ne=ue}while(ne)}function Ec(q){var K=q.firstChild;for(K&&K.nodeType===10&&(K=K.nextSibling);K;){var ne=K;switch(K=K.nextSibling,ne.nodeName){case"HTML":case"HEAD":case"BODY":Ec(ne),wo(ne);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(ne.rel.toLowerCase()==="stylesheet")continue}q.removeChild(ne)}}function Om(q,K,ne,ue){for(;q.nodeType===1;){var Be=ne;if(q.nodeName.toLowerCase()!==K.toLowerCase()){if(!ue&&(q.nodeName!=="INPUT"||q.type!=="hidden"))break}else if(ue){if(!q[hi])switch(K){case"meta":if(!q.hasAttribute("itemprop"))break;return q;case"link":if(Ve=q.getAttribute("rel"),Ve==="stylesheet"&&q.hasAttribute("data-precedence"))break;if(Ve!==Be.rel||q.getAttribute("href")!==(Be.href==null||Be.href===""?null:Be.href)||q.getAttribute("crossorigin")!==(Be.crossOrigin==null?null:Be.crossOrigin)||q.getAttribute("title")!==(Be.title==null?null:Be.title))break;return q;case"style":if(q.hasAttribute("data-precedence"))break;return q;case"script":if(Ve=q.getAttribute("src"),(Ve!==(Be.src==null?null:Be.src)||q.getAttribute("type")!==(Be.type==null?null:Be.type)||q.getAttribute("crossorigin")!==(Be.crossOrigin==null?null:Be.crossOrigin))&&Ve&&q.hasAttribute("async")&&!q.hasAttribute("itemprop"))break;return q;default:return q}}else if(K==="input"&&q.type==="hidden"){var Ve=Be.name==null?null:""+Be.name;if(Be.type==="hidden"&&q.getAttribute("name")===Ve)return q}else return q;if(q=Xr(q.nextSibling),q===null)break}return null}function Lm(q,K,ne){if(K==="")return null;for(;q.nodeType!==3;)if((q.nodeType!==1||q.nodeName!=="INPUT"||q.type!=="hidden")&&!ne||(q=Xr(q.nextSibling),q===null))return null;return q}function oh(q,K){for(;q.nodeType!==8;)if((q.nodeType!==1||q.nodeName!=="INPUT"||q.type!=="hidden")&&!K||(q=Xr(q.nextSibling),q===null))return null;return q}function jc(q){return q.data==="$?"||q.data==="$~"}function Rc(q){return q.data==="$!"||q.data==="$?"&&q.ownerDocument.readyState!=="loading"}function Im(q,K){var ne=q.ownerDocument;if(q.data==="$~")q._reactRetry=K;else if(q.data!=="$?"||ne.readyState!=="loading")K();else{var ue=function(){K(),ne.removeEventListener("DOMContentLoaded",ue)};ne.addEventListener("DOMContentLoaded",ue),q._reactRetry=ue}}function Xr(q){for(;q!=null;q=q.nextSibling){var K=q.nodeType;if(K===1||K===3)break;if(K===8){if(K=q.data,K==="$"||K==="$!"||K==="$?"||K==="$~"||K==="&"||K==="F!"||K==="F")break;if(K==="/$"||K==="/&")return null}}return q}var Sc=null;function lh(q){q=q.nextSibling;for(var K=0;q;){if(q.nodeType===8){var ne=q.data;if(ne==="/$"||ne==="/&"){if(K===0)return Xr(q.nextSibling);K--}else ne!=="$"&&ne!=="$!"&&ne!=="$?"&&ne!=="$~"&&ne!=="&"||K++}q=q.nextSibling}return null}function ch(q){q=q.previousSibling;for(var K=0;q;){if(q.nodeType===8){var ne=q.data;if(ne==="$"||ne==="$!"||ne==="$?"||ne==="$~"||ne==="&"){if(K===0)return q;K--}else ne!=="/$"&&ne!=="/&"||K++}q=q.previousSibling}return null}function uh(q,K,ne){switch(K=ao(ne),q){case"html":if(q=K.documentElement,!q)throw Error(A(452));return q;case"head":if(q=K.head,!q)throw Error(A(453));return q;case"body":if(q=K.body,!q)throw Error(A(454));return q;default:throw Error(A(451))}}function Qi(q){for(var K=q.attributes;K.length;)q.removeAttributeNode(K[0]);wo(q)}var Jr=new Map,dh=new Set;function oo(q){return typeof q.getRootNode=="function"?q.getRootNode():q.nodeType===9?q:q.ownerDocument}var _s=Xe.d;Xe.d={f:Fm,r:Bm,D:$m,C:Vm,L:zm,m:Hm,X:qm,S:Um,M:Gm};function Fm(){var q=_s.f(),K=Ja();return q||K}function Bm(q){var K=Nn(q);K!==null&&K.tag===5&&K.type==="form"?Td(K):_s.r(q)}var ii=typeof document>"u"?null:document;function ph(q,K,ne){var ue=ii;if(ue&&typeof K=="string"&&K){var Be=Ur(K);Be='link[rel="'+q+'"][href="'+Be+'"]',typeof ne=="string"&&(Be+='[crossorigin="'+ne+'"]'),dh.has(Be)||(dh.add(Be),q={rel:q,crossOrigin:ne,href:K},ue.querySelector(Be)===null&&(K=ue.createElement("link"),br(K,"link",q),fr(K),ue.head.appendChild(K)))}}function $m(q){_s.D(q),ph("dns-prefetch",q,null)}function Vm(q,K){_s.C(q,K),ph("preconnect",q,K)}function zm(q,K,ne){_s.L(q,K,ne);var ue=ii;if(ue&&q&&K){var Be='link[rel="preload"][as="'+Ur(K)+'"]';K==="image"&&ne&&ne.imageSrcSet?(Be+='[imagesrcset="'+Ur(ne.imageSrcSet)+'"]',typeof ne.imageSizes=="string"&&(Be+='[imagesizes="'+Ur(ne.imageSizes)+'"]')):Be+='[href="'+Ur(q)+'"]';var Ve=Be;switch(K){case"style":Ve=ai(q);break;case"script":Ve=oi(q)}Jr.has(Ve)||(q=ae({rel:"preload",href:K==="image"&&ne&&ne.imageSrcSet?void 0:q,as:K},ne),Jr.set(Ve,q),ue.querySelector(Be)!==null||K==="style"&&ue.querySelector(Yi(Ve))||K==="script"&&ue.querySelector(Xi(Ve))||(K=ue.createElement("link"),br(K,"link",q),fr(K),ue.head.appendChild(K)))}}function Hm(q,K){_s.m(q,K);var ne=ii;if(ne&&q){var ue=K&&typeof K.as=="string"?K.as:"script",Be='link[rel="modulepreload"][as="'+Ur(ue)+'"][href="'+Ur(q)+'"]',Ve=Be;switch(ue){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Ve=oi(q)}if(!Jr.has(Ve)&&(q=ae({rel:"modulepreload",href:q},K),Jr.set(Ve,q),ne.querySelector(Be)===null)){switch(ue){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(ne.querySelector(Xi(Ve)))return}ue=ne.createElement("link"),br(ue,"link",q),fr(ue),ne.head.appendChild(ue)}}}function Um(q,K,ne){_s.S(q,K,ne);var ue=ii;if(ue&&q){var Be=Tn(ue).hoistableStyles,Ve=ai(q);K=K||"default";var We=Be.get(Ve);if(!We){var et={loading:0,preload:null};if(We=ue.querySelector(Yi(Ve)))et.loading=5;else{q=ae({rel:"stylesheet",href:q,"data-precedence":K},ne),(ne=Jr.get(Ve))&&wc(q,ne);var lt=We=ue.createElement("link");fr(lt),br(lt,"link",q),lt._p=new Promise(function(ft,gt){lt.onload=ft,lt.onerror=gt}),lt.addEventListener("load",function(){et.loading|=1}),lt.addEventListener("error",function(){et.loading|=2}),et.loading|=4,lo(We,K,ue)}We={type:"stylesheet",instance:We,count:1,state:et},Be.set(Ve,We)}}}function qm(q,K){_s.X(q,K);var ne=ii;if(ne&&q){var ue=Tn(ne).hoistableScripts,Be=oi(q),Ve=ue.get(Be);Ve||(Ve=ne.querySelector(Xi(Be)),Ve||(q=ae({src:q,async:!0},K),(K=Jr.get(Be))&&Cc(q,K),Ve=ne.createElement("script"),fr(Ve),br(Ve,"link",q),ne.head.appendChild(Ve)),Ve={type:"script",instance:Ve,count:1,state:null},ue.set(Be,Ve))}}function Gm(q,K){_s.M(q,K);var ne=ii;if(ne&&q){var ue=Tn(ne).hoistableScripts,Be=oi(q),Ve=ue.get(Be);Ve||(Ve=ne.querySelector(Xi(Be)),Ve||(q=ae({src:q,async:!0,type:"module"},K),(K=Jr.get(Be))&&Cc(q,K),Ve=ne.createElement("script"),fr(Ve),br(Ve,"link",q),ne.head.appendChild(Ve)),Ve={type:"script",instance:Ve,count:1,state:null},ue.set(Be,Ve))}}function hh(q,K,ne,ue){var Be=(Be=Et.current)?oo(Be):null;if(!Be)throw Error(A(446));switch(q){case"meta":case"title":return null;case"style":return typeof ne.precedence=="string"&&typeof ne.href=="string"?(K=ai(ne.href),ne=Tn(Be).hoistableStyles,ue=ne.get(K),ue||(ue={type:"style",instance:null,count:0,state:null},ne.set(K,ue)),ue):{type:"void",instance:null,count:0,state:null};case"link":if(ne.rel==="stylesheet"&&typeof ne.href=="string"&&typeof ne.precedence=="string"){q=ai(ne.href);var Ve=Tn(Be).hoistableStyles,We=Ve.get(q);if(We||(Be=Be.ownerDocument||Be,We={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Ve.set(q,We),(Ve=Be.querySelector(Yi(q)))&&!Ve._p&&(We.instance=Ve,We.state.loading=5),Jr.has(q)||(ne={rel:"preload",as:"style",href:ne.href,crossOrigin:ne.crossOrigin,integrity:ne.integrity,media:ne.media,hrefLang:ne.hrefLang,referrerPolicy:ne.referrerPolicy},Jr.set(q,ne),Ve||Km(Be,q,ne,We.state))),K&&ue===null)throw Error(A(528,""));return We}if(K&&ue!==null)throw Error(A(529,""));return null;case"script":return K=ne.async,ne=ne.src,typeof ne=="string"&&K&&typeof K!="function"&&typeof K!="symbol"?(K=oi(ne),ne=Tn(Be).hoistableScripts,ue=ne.get(K),ue||(ue={type:"script",instance:null,count:0,state:null},ne.set(K,ue)),ue):{type:"void",instance:null,count:0,state:null};default:throw Error(A(444,q))}}function ai(q){return'href="'+Ur(q)+'"'}function Yi(q){return'link[rel="stylesheet"]['+q+"]"}function fh(q){return ae({},q,{"data-precedence":q.precedence,precedence:null})}function Km(q,K,ne,ue){q.querySelector('link[rel="preload"][as="style"]['+K+"]")?ue.loading=1:(K=q.createElement("link"),ue.preload=K,K.addEventListener("load",function(){return ue.loading|=1}),K.addEventListener("error",function(){return ue.loading|=2}),br(K,"link",ne),fr(K),q.head.appendChild(K))}function oi(q){return'[src="'+Ur(q)+'"]'}function Xi(q){return"script[async]"+q}function mh(q,K,ne){if(K.count++,K.instance===null)switch(K.type){case"style":var ue=q.querySelector('style[data-href~="'+Ur(ne.href)+'"]');if(ue)return K.instance=ue,fr(ue),ue;var Be=ae({},ne,{"data-href":ne.href,"data-precedence":ne.precedence,href:null,precedence:null});return ue=(q.ownerDocument||q).createElement("style"),fr(ue),br(ue,"style",Be),lo(ue,ne.precedence,q),K.instance=ue;case"stylesheet":Be=ai(ne.href);var Ve=q.querySelector(Yi(Be));if(Ve)return K.state.loading|=4,K.instance=Ve,fr(Ve),Ve;ue=fh(ne),(Be=Jr.get(Be))&&wc(ue,Be),Ve=(q.ownerDocument||q).createElement("link"),fr(Ve);var We=Ve;return We._p=new Promise(function(et,lt){We.onload=et,We.onerror=lt}),br(Ve,"link",ue),K.state.loading|=4,lo(Ve,ne.precedence,q),K.instance=Ve;case"script":return Ve=oi(ne.src),(Be=q.querySelector(Xi(Ve)))?(K.instance=Be,fr(Be),Be):(ue=ne,(Be=Jr.get(Ve))&&(ue=ae({},ne),Cc(ue,Be)),q=q.ownerDocument||q,Be=q.createElement("script"),fr(Be),br(Be,"link",ue),q.head.appendChild(Be),K.instance=Be);case"void":return null;default:throw Error(A(443,K.type))}else K.type==="stylesheet"&&(K.state.loading&4)===0&&(ue=K.instance,K.state.loading|=4,lo(ue,ne.precedence,q));return K.instance}function lo(q,K,ne){for(var ue=ne.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),Be=ue.length?ue[ue.length-1]:null,Ve=Be,We=0;We<ue.length;We++){var et=ue[We];if(et.dataset.precedence===K)Ve=et;else if(Ve!==Be)break}Ve?Ve.parentNode.insertBefore(q,Ve.nextSibling):(K=ne.nodeType===9?ne.head:ne,K.insertBefore(q,K.firstChild))}function wc(q,K){q.crossOrigin==null&&(q.crossOrigin=K.crossOrigin),q.referrerPolicy==null&&(q.referrerPolicy=K.referrerPolicy),q.title==null&&(q.title=K.title)}function Cc(q,K){q.crossOrigin==null&&(q.crossOrigin=K.crossOrigin),q.referrerPolicy==null&&(q.referrerPolicy=K.referrerPolicy),q.integrity==null&&(q.integrity=K.integrity)}var co=null;function xh(q,K,ne){if(co===null){var ue=new Map,Be=co=new Map;Be.set(ne,ue)}else Be=co,ue=Be.get(ne),ue||(ue=new Map,Be.set(ne,ue));if(ue.has(q))return ue;for(ue.set(q,null),ne=ne.getElementsByTagName(q),Be=0;Be<ne.length;Be++){var Ve=ne[Be];if(!(Ve[hi]||Ve[xr]||q==="link"&&Ve.getAttribute("rel")==="stylesheet")&&Ve.namespaceURI!=="http://www.w3.org/2000/svg"){var We=Ve.getAttribute(K)||"";We=q+We;var et=ue.get(We);et?et.push(Ve):ue.set(We,[Ve])}}return ue}function gh(q,K,ne){q=q.ownerDocument||q,q.head.insertBefore(ne,K==="title"?q.querySelector("head > title"):null)}function Wm(q,K,ne){if(ne===1||K.itemProp!=null)return!1;switch(q){case"meta":case"title":return!0;case"style":if(typeof K.precedence!="string"||typeof K.href!="string"||K.href==="")break;return!0;case"link":if(typeof K.rel!="string"||typeof K.href!="string"||K.href===""||K.onLoad||K.onError)break;switch(K.rel){case"stylesheet":return q=K.disabled,typeof K.precedence=="string"&&q==null;default:return!0}case"script":if(K.async&&typeof K.async!="function"&&typeof K.async!="symbol"&&!K.onLoad&&!K.onError&&K.src&&typeof K.src=="string")return!0}return!1}function yh(q){return!(q.type==="stylesheet"&&(q.state.loading&3)===0)}function Qm(q,K,ne,ue){if(ne.type==="stylesheet"&&(typeof ue.media!="string"||matchMedia(ue.media).matches!==!1)&&(ne.state.loading&4)===0){if(ne.instance===null){var Be=ai(ue.href),Ve=K.querySelector(Yi(Be));if(Ve){K=Ve._p,K!==null&&typeof K=="object"&&typeof K.then=="function"&&(q.count++,q=uo.bind(q),K.then(q,q)),ne.state.loading|=4,ne.instance=Ve,fr(Ve);return}Ve=K.ownerDocument||K,ue=fh(ue),(Be=Jr.get(Be))&&wc(ue,Be),Ve=Ve.createElement("link"),fr(Ve);var We=Ve;We._p=new Promise(function(et,lt){We.onload=et,We.onerror=lt}),br(Ve,"link",ue),ne.instance=Ve}q.stylesheets===null&&(q.stylesheets=new Map),q.stylesheets.set(ne,K),(K=ne.state.preload)&&(ne.state.loading&3)===0&&(q.count++,ne=uo.bind(q),K.addEventListener("load",ne),K.addEventListener("error",ne))}}var Nc=0;function Ym(q,K){return q.stylesheets&&q.count===0&&ho(q,q.stylesheets),0<q.count||0<q.imgCount?function(ne){var ue=setTimeout(function(){if(q.stylesheets&&ho(q,q.stylesheets),q.unsuspend){var Ve=q.unsuspend;q.unsuspend=null,Ve()}},6e4+K);0<q.imgBytes&&Nc===0&&(Nc=62500*Am());var Be=setTimeout(function(){if(q.waitingForImages=!1,q.count===0&&(q.stylesheets&&ho(q,q.stylesheets),q.unsuspend)){var Ve=q.unsuspend;q.unsuspend=null,Ve()}},(q.imgBytes>Nc?50:800)+K);return q.unsuspend=ne,function(){q.unsuspend=null,clearTimeout(ue),clearTimeout(Be)}}:null}function uo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ho(this,this.stylesheets);else if(this.unsuspend){var q=this.unsuspend;this.unsuspend=null,q()}}}var po=null;function ho(q,K){q.stylesheets=null,q.unsuspend!==null&&(q.count++,po=new Map,K.forEach(Xm,q),po=null,uo.call(q))}function Xm(q,K){if(!(K.state.loading&4)){var ne=po.get(q);if(ne)var ue=ne.get(null);else{ne=new Map,po.set(q,ne);for(var Be=q.querySelectorAll("link[data-precedence],style[data-precedence]"),Ve=0;Ve<Be.length;Ve++){var We=Be[Ve];(We.nodeName==="LINK"||We.getAttribute("media")!=="not all")&&(ne.set(We.dataset.precedence,We),ue=We)}ue&&ne.set(null,ue)}Be=K.instance,We=Be.getAttribute("data-precedence"),Ve=ne.get(We)||ue,Ve===ue&&ne.set(null,Be),ne.set(We,Be),this.count++,ue=uo.bind(this),Be.addEventListener("load",ue),Be.addEventListener("error",ue),Ve?Ve.parentNode.insertBefore(Be,Ve.nextSibling):(q=q.nodeType===9?q.head:q,q.insertBefore(Be,q.firstChild)),K.state.loading|=4}}var Ji={$$typeof:je,Provider:null,Consumer:null,_currentValue:Ge,_currentValue2:Ge,_threadCount:0};function Jm(q,K,ne,ue,Be,Ve,We,et,lt){this.tag=1,this.containerInfo=q,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Eo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eo(0),this.hiddenUpdates=Eo(null),this.identifierPrefix=ue,this.onUncaughtError=Be,this.onCaughtError=Ve,this.onRecoverableError=We,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=lt,this.incompleteTransitions=new Map}function bh(q,K,ne,ue,Be,Ve,We,et,lt,ft,gt,bt){return q=new Jm(q,K,ne,We,lt,ft,gt,bt,et),K=1,Ve===!0&&(K|=24),Ve=Ir(3,null,null,K),q.current=Ve,Ve.stateNode=q,K=il(),K.refCount++,q.pooledCache=K,K.refCount++,Ve.memoizedState={element:ue,isDehydrated:ne,cache:K},cl(Ve),q}function Eh(q){return q?(q=Fn,q):Fn}function jh(q,K,ne,ue,Be,Ve){Be=Eh(Be),ue.context===null?ue.context=Be:ue.pendingContext=Be,ue=Vs(K),ue.payload={element:ne},Ve=Ve===void 0?null:Ve,Ve!==null&&(ue.callback=Ve),ne=zs(q,ue,K),ne!==null&&(Pr(ne,q,K),Ai(ne,q,K))}function Rh(q,K){if(q=q.memoizedState,q!==null&&q.dehydrated!==null){var ne=q.retryLane;q.retryLane=ne!==0&&ne<K?ne:K}}function Tc(q,K){Rh(q,K),(q=q.alternate)&&Rh(q,K)}function Sh(q){if(q.tag===13||q.tag===31){var K=dn(q,67108864);K!==null&&Pr(K,q,67108864),Tc(q,67108864)}}function wh(q){if(q.tag===13||q.tag===31){var K=zr();K=jo(K);var ne=dn(q,K);ne!==null&&Pr(ne,q,K),Tc(q,K)}}var fo=!0;function Zm(q,K,ne,ue){var Be=qe.T;qe.T=null;var Ve=Xe.p;try{Xe.p=2,kc(q,K,ne,ue)}finally{Xe.p=Ve,qe.T=Be}}function ex(q,K,ne,ue){var Be=qe.T;qe.T=null;var Ve=Xe.p;try{Xe.p=8,kc(q,K,ne,ue)}finally{Xe.p=Ve,qe.T=Be}}function kc(q,K,ne,ue){if(fo){var Be=Ac(ue);if(Be===null)mc(q,K,ue,mo,ne),Nh(q,ue);else if(rx(Be,q,K,ne,ue))ue.stopPropagation();else if(Nh(q,ue),K&4&&-1<tx.indexOf(q)){for(;Be!==null;){var Ve=Nn(Be);if(Ve!==null)switch(Ve.tag){case 3:if(Ve=Ve.stateNode,Ve.current.memoizedState.isDehydrated){var We=an(Ve.pendingLanes);if(We!==0){var et=Ve;for(et.pendingLanes|=2,et.entangledLanes|=2;We;){var lt=1<<31-Or(We);et.entanglements[1]|=lt,We&=~lt}hs(Ve),(Vt&6)===0&&(Ya=Xt()+500,Gi(0))}}break;case 31:case 13:et=dn(Ve,2),et!==null&&Pr(et,Ve,2),Ja(),Tc(Ve,2)}if(Ve=Ac(ue),Ve===null&&mc(q,K,ue,mo,ne),Ve===Be)break;Be=Ve}Be!==null&&ue.stopPropagation()}else mc(q,K,ue,null,ne)}}function Ac(q){return q=Mo(q),Mc(q)}var mo=null;function Mc(q){if(mo=null,q=Cn(q),q!==null){var K=z(q);if(K===null)q=null;else{var ne=K.tag;if(ne===13){if(q=U(K),q!==null)return q;q=null}else if(ne===31){if(q=G(K),q!==null)return q;q=null}else if(ne===3){if(K.stateNode.current.memoizedState.isDehydrated)return K.tag===3?K.stateNode.containerInfo:null;q=null}else K!==q&&(q=null)}}return mo=q,null}function Ch(q){switch(q){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ls()){case Cr:return 2;case cs:return 8;case fs:case Sn:return 32;case nn:return 268435456;default:return 32}default:return 32}}var _c=!1,Zs=null,en=null,tn=null,Zi=new Map,ea=new Map,rn=[],tx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nh(q,K){switch(q){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":Zi.delete(K.pointerId);break;case"gotpointercapture":case"lostpointercapture":ea.delete(K.pointerId)}}function ra(q,K,ne,ue,Be,Ve){return q===null||q.nativeEvent!==Ve?(q={blockedOn:K,domEventName:ne,eventSystemFlags:ue,nativeEvent:Ve,targetContainers:[Be]},K!==null&&(K=Nn(K),K!==null&&Sh(K)),q):(q.eventSystemFlags|=ue,K=q.targetContainers,Be!==null&&K.indexOf(Be)===-1&&K.push(Be),q)}function rx(q,K,ne,ue,Be){switch(K){case"focusin":return Zs=ra(Zs,q,K,ne,ue,Be),!0;case"dragenter":return en=ra(en,q,K,ne,ue,Be),!0;case"mouseover":return tn=ra(tn,q,K,ne,ue,Be),!0;case"pointerover":var Ve=Be.pointerId;return Zi.set(Ve,ra(Zi.get(Ve)||null,q,K,ne,ue,Be)),!0;case"gotpointercapture":return Ve=Be.pointerId,ea.set(Ve,ra(ea.get(Ve)||null,q,K,ne,ue,Be)),!0}return!1}function Th(q){var K=Cn(q.target);if(K!==null){var ne=z(K);if(ne!==null){if(K=ne.tag,K===13){if(K=U(ne),K!==null){q.blockedOn=K,$c(q.priority,function(){wh(ne)});return}}else if(K===31){if(K=G(ne),K!==null){q.blockedOn=K,$c(q.priority,function(){wh(ne)});return}}else if(K===3&&ne.stateNode.current.memoizedState.isDehydrated){q.blockedOn=ne.tag===3?ne.stateNode.containerInfo:null;return}}}q.blockedOn=null}function xo(q){if(q.blockedOn!==null)return!1;for(var K=q.targetContainers;0<K.length;){var ne=Ac(q.nativeEvent);if(ne===null){ne=q.nativeEvent;var ue=new ne.constructor(ne.type,ne);Ao=ue,ne.target.dispatchEvent(ue),Ao=null}else return K=Nn(ne),K!==null&&Sh(K),q.blockedOn=ne,!1;K.shift()}return!0}function kh(q,K,ne){xo(q)&&ne.delete(K)}function sx(){_c=!1,Zs!==null&&xo(Zs)&&(Zs=null),en!==null&&xo(en)&&(en=null),tn!==null&&xo(tn)&&(tn=null),Zi.forEach(kh),ea.forEach(kh)}function go(q,K){q.blockedOn===K&&(q.blockedOn=null,_c||(_c=!0,R.unstable_scheduleCallback(R.unstable_NormalPriority,sx)))}var yo=null;function Ah(q){yo!==q&&(yo=q,R.unstable_scheduleCallback(R.unstable_NormalPriority,function(){yo===q&&(yo=null);for(var K=0;K<q.length;K+=3){var ne=q[K],ue=q[K+1],Be=q[K+2];if(typeof ue!="function"){if(Mc(ue||ne)===null)continue;break}var Ve=Nn(ne);Ve!==null&&(q.splice(K,3),K-=3,Al(Ve,{pending:!0,data:Be,method:ne.method,action:ue},ue,Be))}}))}function li(q){function K(lt){return go(lt,q)}Zs!==null&&go(Zs,q),en!==null&&go(en,q),tn!==null&&go(tn,q),Zi.forEach(K),ea.forEach(K);for(var ne=0;ne<rn.length;ne++){var ue=rn[ne];ue.blockedOn===q&&(ue.blockedOn=null)}for(;0<rn.length&&(ne=rn[0],ne.blockedOn===null);)Th(ne),ne.blockedOn===null&&rn.shift();if(ne=(q.ownerDocument||q).$$reactFormReplay,ne!=null)for(ue=0;ue<ne.length;ue+=3){var Be=ne[ue],Ve=ne[ue+1],We=Be[Nr]||null;if(typeof Ve=="function")We||Ah(ne);else if(We){var et=null;if(Ve&&Ve.hasAttribute("formAction")){if(Be=Ve,We=Ve[Nr]||null)et=We.formAction;else if(Mc(Be)!==null)continue}else et=We.action;typeof et=="function"?ne[ue+1]=et:(ne.splice(ue,3),ue-=3),Ah(ne)}}}function Mh(){function q(Ve){Ve.canIntercept&&Ve.info==="react-transition"&&Ve.intercept({handler:function(){return new Promise(function(We){return Be=We})},focusReset:"manual",scroll:"manual"})}function K(){Be!==null&&(Be(),Be=null),ue||setTimeout(ne,20)}function ne(){if(!ue&&!navigation.transition){var Ve=navigation.currentEntry;Ve&&Ve.url!=null&&navigation.navigate(Ve.url,{state:Ve.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var ue=!1,Be=null;return navigation.addEventListener("navigate",q),navigation.addEventListener("navigatesuccess",K),navigation.addEventListener("navigateerror",K),setTimeout(ne,100),function(){ue=!0,navigation.removeEventListener("navigate",q),navigation.removeEventListener("navigatesuccess",K),navigation.removeEventListener("navigateerror",K),Be!==null&&(Be(),Be=null)}}}function Pc(q){this._internalRoot=q}vo.prototype.render=Pc.prototype.render=function(q){var K=this._internalRoot;if(K===null)throw Error(A(409));var ne=K.current,ue=zr();jh(ne,ue,q,K,null,null)},vo.prototype.unmount=Pc.prototype.unmount=function(){var q=this._internalRoot;if(q!==null){this._internalRoot=null;var K=q.containerInfo;jh(q.current,2,null,q,null,null),Ja(),K[wn]=null}};function vo(q){this._internalRoot=q}vo.prototype.unstable_scheduleHydration=function(q){if(q){var K=Bc();q={blockedOn:null,target:q,priority:K};for(var ne=0;ne<rn.length&&K!==0&&K<rn[ne].priority;ne++);rn.splice(ne,0,q),ne===0&&Th(q)}};var _h=y.version;if(_h!=="19.2.0")throw Error(A(527,_h,"19.2.0"));Xe.findDOMNode=function(q){var K=q._reactInternals;if(K===void 0)throw typeof q.render=="function"?Error(A(188)):(q=Object.keys(q).join(","),Error(A(268,q)));return q=ee(K),q=q!==null?te(q):null,q=q===null?null:q.stateNode,q};var nx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:qe,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bo.isDisabled&&bo.supportsFiber)try{ui=bo.inject(nx),Dr=bo}catch{}}return reactDomClient_production.createRoot=function(q,K){if(!O(q))throw Error(A(299));var ne=!1,ue="",Be=Fd,Ve=Bd,We=$d;return K!=null&&(K.unstable_strictMode===!0&&(ne=!0),K.identifierPrefix!==void 0&&(ue=K.identifierPrefix),K.onUncaughtError!==void 0&&(Be=K.onUncaughtError),K.onCaughtError!==void 0&&(Ve=K.onCaughtError),K.onRecoverableError!==void 0&&(We=K.onRecoverableError)),K=bh(q,1,!1,null,null,ne,ue,null,Be,Ve,We,Mh),q[wn]=K.current,fc(q),new Pc(K)},reactDomClient_production.hydrateRoot=function(q,K,ne){if(!O(q))throw Error(A(299));var ue=!1,Be="",Ve=Fd,We=Bd,et=$d,lt=null;return ne!=null&&(ne.unstable_strictMode===!0&&(ue=!0),ne.identifierPrefix!==void 0&&(Be=ne.identifierPrefix),ne.onUncaughtError!==void 0&&(Ve=ne.onUncaughtError),ne.onCaughtError!==void 0&&(We=ne.onCaughtError),ne.onRecoverableError!==void 0&&(et=ne.onRecoverableError),ne.formState!==void 0&&(lt=ne.formState)),K=bh(q,1,!0,K,ne??null,ue,Be,lt,Ve,We,et,Mh),K.context=Eh(null),ne=K.current,ue=zr(),ue=jo(ue),Be=Vs(ue),Be.callback=null,zs(ne,Be,ue),ne=ue,K.current.lanes=ne,pi(K,ne),hs(K),q[wn]=K.current,fc(q),new vo(K)},reactDomClient_production.version="19.2.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function R(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R)}catch(y){console.error(y)}}return R(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient(),withSelector$1={exports:{}},useSyncExternalStoreWithSelector_production={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreWithSelector_production;function requireUseSyncExternalStoreWithSelector_production(){if(hasRequiredUseSyncExternalStoreWithSelector_production)return useSyncExternalStoreWithSelector_production;hasRequiredUseSyncExternalStoreWithSelector_production=1;var R=requireReact();function y(J,ee){return J===ee&&(J!==0||1/J===1/ee)||J!==J&&ee!==ee}var T=typeof Object.is=="function"?Object.is:y,A=R.useSyncExternalStore,O=R.useRef,z=R.useEffect,U=R.useMemo,G=R.useDebugValue;return useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(J,ee,te,ae,oe){var pe=O(null);if(pe.current===null){var fe={hasValue:!1,value:null};pe.current=fe}else fe=pe.current;pe=U(function(){function ye($e){if(!_e){if(_e=!0,Le=$e,$e=ae($e),oe!==void 0&&fe.hasValue){var Ue=fe.value;if(oe(Ue,$e))return je=Ue}return je=$e}if(Ue=je,T(Le,$e))return Ue;var He=ae($e);return oe!==void 0&&oe(Ue,He)?(Le=$e,Ue):(Le=$e,je=He)}var _e=!1,Le,je,Ne=te===void 0?null:te;return[function(){return ye(ee())},Ne===null?void 0:function(){return ye(Ne())}]},[ee,te,ae,oe]);var xe=A(J,pe[0],pe[1]);return z(function(){fe.hasValue=!0,fe.value=xe},[xe]),G(xe),xe},useSyncExternalStoreWithSelector_production}var hasRequiredWithSelector$1;function requireWithSelector$1(){return hasRequiredWithSelector$1||(hasRequiredWithSelector$1=1,withSelector$1.exports=requireUseSyncExternalStoreWithSelector_production()),withSelector$1.exports}var withSelectorExports$1=requireWithSelector$1();function defaultNoopBatch(R){R()}function createListenerCollection(){let R=null,y=null;return{clear(){R=null,y=null},notify(){defaultNoopBatch(()=>{let T=R;for(;T;)T.callback(),T=T.next})},get(){const T=[];let A=R;for(;A;)T.push(A),A=A.next;return T},subscribe(T){let A=!0;const O=y={callback:T,next:null,prev:y};return O.prev?O.prev.next=O:R=O,function(){!A||R===null||(A=!1,O.next?O.next.prev=O.prev:y=O.prev,O.prev?O.prev.next=O.next:R=O.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(R,y){let T,A=nullListeners,O=0,z=!1;function U(xe){te();const ye=A.subscribe(xe);let _e=!1;return()=>{_e||(_e=!0,ye(),ae())}}function G(){A.notify()}function J(){fe.onStateChange&&fe.onStateChange()}function ee(){return z}function te(){O++,T||(T=R.subscribe(J),A=createListenerCollection())}function ae(){O--,T&&O===0&&(T(),T=void 0,A.clear(),A=nullListeners)}function oe(){z||(z=!0,te())}function pe(){z&&(z=!1,ae())}const fe={addNestedSub:U,notifyNestedSubs:G,handleChangeWrapper:J,isSubscribed:ee,trySubscribe:oe,tryUnsubscribe:pe,getListeners:()=>A};return fe}var canUseDOM$1=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM$1=canUseDOM$1(),isRunningInReactNative$1=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative$1=isRunningInReactNative$1(),getUseIsomorphicLayoutEffect$1=()=>isDOM$1||isReactNative$1?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect$4=getUseIsomorphicLayoutEffect$1();function is$1(R,y){return R===y?R!==0||y!==0||1/R===1/y:R!==R&&y!==y}function shallowEqual(R,y){if(is$1(R,y))return!0;if(typeof R!="object"||R===null||typeof y!="object"||y===null)return!1;const T=Object.keys(R),A=Object.keys(y);if(T.length!==A.length)return!1;for(let O=0;O<T.length;O++)if(!Object.prototype.hasOwnProperty.call(y,T[O])||!is$1(R[T[O]],y[T[O]]))return!1;return!0}var ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!reactExports.createContext)return{};const R=gT[ContextKey]??=new Map;let y=R.get(reactExports.createContext);return y||(y=reactExports.createContext(null),R.set(reactExports.createContext,y)),y}var ReactReduxContext=getContext();function Provider(R){const{children:y,context:T,serverState:A,store:O}=R,z=reactExports.useMemo(()=>{const J=createSubscription(O);return{store:O,subscription:J,getServerState:A?()=>A:void 0}},[O,A]),U=reactExports.useMemo(()=>O.getState(),[O]);useIsomorphicLayoutEffect$4(()=>{const{subscription:J}=z;return J.onStateChange=J.notifyNestedSubs,J.trySubscribe(),U!==O.getState()&&J.notifyNestedSubs(),()=>{J.tryUnsubscribe(),J.onStateChange=void 0}},[z,U]);const G=T||ReactReduxContext;return reactExports.createElement(G.Provider,{value:z},y)}var Provider_default=Provider;function createReduxContextHook(R=ReactReduxContext){return function(){return reactExports.useContext(R)}}var useReduxContext=createReduxContextHook();function createStoreHook(R=ReactReduxContext){const y=R===ReactReduxContext?useReduxContext:createReduxContextHook(R),T=()=>{const{store:A}=y();return A};return Object.assign(T,{withTypes:()=>T}),T}var useStore=createStoreHook();function createDispatchHook(R=ReactReduxContext){const y=R===ReactReduxContext?useStore:createStoreHook(R),T=()=>y().dispatch;return Object.assign(T,{withTypes:()=>T}),T}var useDispatch=createDispatchHook(),refEquality=(R,y)=>R===y;function createSelectorHook(R=ReactReduxContext){const y=R===ReactReduxContext?useReduxContext:createReduxContextHook(R),T=(A,O={})=>{const{equalityFn:z=refEquality}=typeof O=="function"?{equalityFn:O}:O,U=y(),{store:G,subscription:J,getServerState:ee}=U;reactExports.useRef(!0);const te=reactExports.useCallback({[A.name](oe){return A(oe)}}[A.name],[A]),ae=withSelectorExports$1.useSyncExternalStoreWithSelector(J.addNestedSub,G.getState,ee||G.getState,te,z);return reactExports.useDebugValue(ae),ae};return Object.assign(T,{withTypes:()=>T}),T}var useSelector=createSelectorHook(),batch=defaultNoopBatch;function formatProdErrorMessage$1(R){return`Minified Redux error #${R}; visit https://redux.js.org/Errors?code=${R} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$2(R){if(typeof R!="object"||R===null)return!1;let y=R;for(;Object.getPrototypeOf(y)!==null;)y=Object.getPrototypeOf(y);return Object.getPrototypeOf(R)===y||Object.getPrototypeOf(R)===null}function createStore(R,y,T){if(typeof R!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof y=="function"&&typeof T=="function"||typeof T=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof y=="function"&&typeof T>"u"&&(T=y,y=void 0),typeof T<"u"){if(typeof T!="function")throw new Error(formatProdErrorMessage$1(1));return T(createStore)(R,y)}let A=R,O=y,z=new Map,U=z,G=0,J=!1;function ee(){U===z&&(U=new Map,z.forEach((ye,_e)=>{U.set(_e,ye)}))}function te(){if(J)throw new Error(formatProdErrorMessage$1(3));return O}function ae(ye){if(typeof ye!="function")throw new Error(formatProdErrorMessage$1(4));if(J)throw new Error(formatProdErrorMessage$1(5));let _e=!0;ee();const Le=G++;return U.set(Le,ye),function(){if(_e){if(J)throw new Error(formatProdErrorMessage$1(6));_e=!1,ee(),U.delete(Le),z=null}}}function oe(ye){if(!isPlainObject$2(ye))throw new Error(formatProdErrorMessage$1(7));if(typeof ye.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof ye.type!="string")throw new Error(formatProdErrorMessage$1(17));if(J)throw new Error(formatProdErrorMessage$1(9));try{J=!0,O=A(O,ye)}finally{J=!1}return(z=U).forEach(Le=>{Le()}),ye}function pe(ye){if(typeof ye!="function")throw new Error(formatProdErrorMessage$1(10));A=ye,oe({type:actionTypes_default.REPLACE})}function fe(){const ye=ae;return{subscribe(_e){if(typeof _e!="object"||_e===null)throw new Error(formatProdErrorMessage$1(11));function Le(){const Ne=_e;Ne.next&&Ne.next(te())}return Le(),{unsubscribe:ye(Le)}},[symbol_observable_default](){return this}}}return oe({type:actionTypes_default.INIT}),{dispatch:oe,subscribe:ae,getState:te,replaceReducer:pe,[symbol_observable_default]:fe}}function assertReducerShape(R){Object.keys(R).forEach(y=>{const T=R[y];if(typeof T(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof T(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(R){const y=Object.keys(R),T={};for(let z=0;z<y.length;z++){const U=y[z];typeof R[U]=="function"&&(T[U]=R[U])}const A=Object.keys(T);let O;try{assertReducerShape(T)}catch(z){O=z}return function(U={},G){if(O)throw O;let J=!1;const ee={};for(let te=0;te<A.length;te++){const ae=A[te],oe=T[ae],pe=U[ae],fe=oe(pe,G);if(typeof fe>"u")throw G&&G.type,new Error(formatProdErrorMessage$1(14));ee[ae]=fe,J=J||fe!==pe}return J=J||A.length!==Object.keys(U).length,J?ee:U}}function compose(...R){return R.length===0?y=>y:R.length===1?R[0]:R.reduce((y,T)=>(...A)=>y(T(...A)))}function applyMiddleware(...R){return y=>(T,A)=>{const O=y(T,A);let z=()=>{throw new Error(formatProdErrorMessage$1(15))};const U={getState:O.getState,dispatch:(J,...ee)=>z(J,...ee)},G=R.map(J=>J(U));return z=compose(...G)(O.dispatch),{...O,dispatch:z}}}function isAction(R){return isPlainObject$2(R)&&"type"in R&&typeof R.type=="string"}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(R,...y){throw new Error(`[Immer] minified error nr: ${R}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(R){return!!R&&!!R[DRAFT_STATE]}function isDraftable(R){return R?isPlainObject$1(R)||Array.isArray(R)||!!R[DRAFTABLE]||!!R.constructor?.[DRAFTABLE]||isMap(R)||isSet(R):!1}var objectCtorString=Object.prototype.constructor.toString(),cachedCtorStrings=new WeakMap;function isPlainObject$1(R){if(!R||typeof R!="object")return!1;const y=Object.getPrototypeOf(R);if(y===null||y===Object.prototype)return!0;const T=Object.hasOwnProperty.call(y,"constructor")&&y.constructor;if(T===Object)return!0;if(typeof T!="function")return!1;let A=cachedCtorStrings.get(T);return A===void 0&&(A=Function.toString.call(T),cachedCtorStrings.set(T,A)),A===objectCtorString}function original(R){return isDraft(R)||die(15,R),R[DRAFT_STATE].base_}function each(R,y,T=!0){getArchtype(R)===0?(T?Reflect.ownKeys(R):Object.keys(R)).forEach(O=>{y(O,R[O],R)}):R.forEach((A,O)=>y(O,A,R))}function getArchtype(R){const y=R[DRAFT_STATE];return y?y.type_:Array.isArray(R)?1:isMap(R)?2:isSet(R)?3:0}function has(R,y){return getArchtype(R)===2?R.has(y):Object.prototype.hasOwnProperty.call(R,y)}function get(R,y){return getArchtype(R)===2?R.get(y):R[y]}function set(R,y,T){const A=getArchtype(R);A===2?R.set(y,T):A===3?R.add(T):R[y]=T}function is(R,y){return R===y?R!==0||1/R===1/y:R!==R&&y!==y}function isMap(R){return R instanceof Map}function isSet(R){return R instanceof Set}function latest(R){return R.copy_||R.base_}function shallowCopy(R,y){if(isMap(R))return new Map(R);if(isSet(R))return new Set(R);if(Array.isArray(R))return Array.prototype.slice.call(R);const T=isPlainObject$1(R);if(y===!0||y==="class_only"&&!T){const A=Object.getOwnPropertyDescriptors(R);delete A[DRAFT_STATE];let O=Reflect.ownKeys(A);for(let z=0;z<O.length;z++){const U=O[z],G=A[U];G.writable===!1&&(G.writable=!0,G.configurable=!0),(G.get||G.set)&&(A[U]={configurable:!0,writable:!0,enumerable:G.enumerable,value:R[U]})}return Object.create(getPrototypeOf(R),A)}else{const A=getPrototypeOf(R);if(A!==null&&T)return{...R};const O=Object.create(A);return Object.assign(O,R)}}function freeze(R,y=!1){return isFrozen(R)||isDraft(R)||!isDraftable(R)||(getArchtype(R)>1&&Object.defineProperties(R,{set:dontMutateMethodOverride,add:dontMutateMethodOverride,clear:dontMutateMethodOverride,delete:dontMutateMethodOverride}),Object.freeze(R),y&&Object.values(R).forEach(T=>freeze(T,!0))),R}function dontMutateFrozenCollections(){die(2)}var dontMutateMethodOverride={value:dontMutateFrozenCollections};function isFrozen(R){return R===null||typeof R!="object"?!0:Object.isFrozen(R)}var plugins={};function getPlugin(R){const y=plugins[R];return y||die(0,R),y}function loadPlugin(R,y){plugins[R]||(plugins[R]=y)}var currentScope;function getCurrentScope(){return currentScope}function createScope(R,y){return{drafts_:[],parent_:R,immer_:y,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(R,y){y&&(getPlugin("Patches"),R.patches_=[],R.inversePatches_=[],R.patchListener_=y)}function revokeScope(R){leaveScope(R),R.drafts_.forEach(revokeDraft),R.drafts_=null}function leaveScope(R){R===currentScope&&(currentScope=R.parent_)}function enterScope(R){return currentScope=createScope(currentScope,R)}function revokeDraft(R){const y=R[DRAFT_STATE];y.type_===0||y.type_===1?y.revoke_():y.revoked_=!0}function processResult(R,y){y.unfinalizedDrafts_=y.drafts_.length;const T=y.drafts_[0];return R!==void 0&&R!==T?(T[DRAFT_STATE].modified_&&(revokeScope(y),die(4)),isDraftable(R)&&(R=finalize(y,R),y.parent_||maybeFreeze(y,R)),y.patches_&&getPlugin("Patches").generateReplacementPatches_(T[DRAFT_STATE].base_,R,y.patches_,y.inversePatches_)):R=finalize(y,T,[]),revokeScope(y),y.patches_&&y.patchListener_(y.patches_,y.inversePatches_),R!==NOTHING?R:void 0}function finalize(R,y,T){if(isFrozen(y))return y;const A=R.immer_.shouldUseStrictIteration(),O=y[DRAFT_STATE];if(!O)return each(y,(z,U)=>finalizeProperty(R,O,y,z,U,T),A),y;if(O.scope_!==R)return y;if(!O.modified_)return maybeFreeze(R,O.base_,!0),O.base_;if(!O.finalized_){O.finalized_=!0,O.scope_.unfinalizedDrafts_--;const z=O.copy_;let U=z,G=!1;O.type_===3&&(U=new Set(z),z.clear(),G=!0),each(U,(J,ee)=>finalizeProperty(R,O,z,J,ee,T,G),A),maybeFreeze(R,z,!1),T&&R.patches_&&getPlugin("Patches").generatePatches_(O,T,R.patches_,R.inversePatches_)}return O.copy_}function finalizeProperty(R,y,T,A,O,z,U){if(O==null||typeof O!="object"&&!U)return;const G=isFrozen(O);if(!(G&&!U)){if(isDraft(O)){const J=z&&y&&y.type_!==3&&!has(y.assigned_,A)?z.concat(A):void 0,ee=finalize(R,O,J);if(set(T,A,ee),isDraft(ee))R.canAutoFreeze_=!1;else return}else U&&T.add(O);if(isDraftable(O)&&!G){if(!R.immer_.autoFreeze_&&R.unfinalizedDrafts_<1||y&&y.base_&&y.base_[A]===O&&G)return;finalize(R,O),(!y||!y.scope_.parent_)&&typeof A!="symbol"&&(isMap(T)?T.has(A):Object.prototype.propertyIsEnumerable.call(T,A))&&maybeFreeze(R,O)}}}function maybeFreeze(R,y,T=!1){!R.parent_&&R.immer_.autoFreeze_&&R.canAutoFreeze_&&freeze(y,T)}function createProxyProxy(R,y){const T=Array.isArray(R),A={type_:T?1:0,scope_:y?y.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:y,base_:R,draft_:null,copy_:null,revoke_:null,isManual_:!1};let O=A,z=objectTraps;T&&(O=[A],z=arrayTraps);const{revoke:U,proxy:G}=Proxy.revocable(O,z);return A.draft_=G,A.revoke_=U,G}var objectTraps={get(R,y){if(y===DRAFT_STATE)return R;const T=latest(R);if(!has(T,y))return readPropFromProto(R,T,y);const A=T[y];return R.finalized_||!isDraftable(A)?A:A===peek(R.base_,y)?(prepareCopy(R),R.copy_[y]=createProxy(A,R)):A},has(R,y){return y in latest(R)},ownKeys(R){return Reflect.ownKeys(latest(R))},set(R,y,T){const A=getDescriptorFromProto(latest(R),y);if(A?.set)return A.set.call(R.draft_,T),!0;if(!R.modified_){const O=peek(latest(R),y),z=O?.[DRAFT_STATE];if(z&&z.base_===T)return R.copy_[y]=T,R.assigned_[y]=!1,!0;if(is(T,O)&&(T!==void 0||has(R.base_,y)))return!0;prepareCopy(R),markChanged(R)}return R.copy_[y]===T&&(T!==void 0||y in R.copy_)||Number.isNaN(T)&&Number.isNaN(R.copy_[y])||(R.copy_[y]=T,R.assigned_[y]=!0),!0},deleteProperty(R,y){return peek(R.base_,y)!==void 0||y in R.base_?(R.assigned_[y]=!1,prepareCopy(R),markChanged(R)):delete R.assigned_[y],R.copy_&&delete R.copy_[y],!0},getOwnPropertyDescriptor(R,y){const T=latest(R),A=Reflect.getOwnPropertyDescriptor(T,y);return A&&{writable:!0,configurable:R.type_!==1||y!=="length",enumerable:A.enumerable,value:T[y]}},defineProperty(){die(11)},getPrototypeOf(R){return getPrototypeOf(R.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(R,y)=>{arrayTraps[R]=function(){return arguments[0]=arguments[0][0],y.apply(this,arguments)}});arrayTraps.deleteProperty=function(R,y){return arrayTraps.set.call(this,R,y,void 0)};arrayTraps.set=function(R,y,T){return objectTraps.set.call(this,R[0],y,T,R[0])};function peek(R,y){const T=R[DRAFT_STATE];return(T?latest(T):R)[y]}function readPropFromProto(R,y,T){const A=getDescriptorFromProto(y,T);return A?"value"in A?A.value:A.get?.call(R.draft_):void 0}function getDescriptorFromProto(R,y){if(!(y in R))return;let T=getPrototypeOf(R);for(;T;){const A=Object.getOwnPropertyDescriptor(T,y);if(A)return A;T=getPrototypeOf(T)}}function markChanged(R){R.modified_||(R.modified_=!0,R.parent_&&markChanged(R.parent_))}function prepareCopy(R){R.copy_||(R.copy_=shallowCopy(R.base_,R.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(R){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(y,T,A)=>{if(typeof y=="function"&&typeof T!="function"){const z=T;T=y;const U=this;return function(J=z,...ee){return U.produce(J,te=>T.call(this,te,...ee))}}typeof T!="function"&&die(6),A!==void 0&&typeof A!="function"&&die(7);let O;if(isDraftable(y)){const z=enterScope(this),U=createProxy(y,void 0);let G=!0;try{O=T(U),G=!1}finally{G?revokeScope(z):leaveScope(z)}return usePatchesInScope(z,A),processResult(O,z)}else if(!y||typeof y!="object"){if(O=T(y),O===void 0&&(O=y),O===NOTHING&&(O=void 0),this.autoFreeze_&&freeze(O,!0),A){const z=[],U=[];getPlugin("Patches").generateReplacementPatches_(y,O,z,U),A(z,U)}return O}else die(1,y)},this.produceWithPatches=(y,T)=>{if(typeof y=="function")return(U,...G)=>this.produceWithPatches(U,J=>y(J,...G));let A,O;return[this.produce(y,T,(U,G)=>{A=U,O=G}),A,O]},typeof R?.autoFreeze=="boolean"&&this.setAutoFreeze(R.autoFreeze),typeof R?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(R.useStrictShallowCopy),typeof R?.useStrictIteration=="boolean"&&this.setUseStrictIteration(R.useStrictIteration)}createDraft(R){isDraftable(R)||die(8),isDraft(R)&&(R=current(R));const y=enterScope(this),T=createProxy(R,void 0);return T[DRAFT_STATE].isManual_=!0,leaveScope(y),T}finishDraft(R,y){const T=R&&R[DRAFT_STATE];(!T||!T.isManual_)&&die(9);const{scope_:A}=T;return usePatchesInScope(A,y),processResult(void 0,A)}setAutoFreeze(R){this.autoFreeze_=R}setUseStrictShallowCopy(R){this.useStrictShallowCopy_=R}setUseStrictIteration(R){this.useStrictIteration_=R}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(R,y){let T;for(T=y.length-1;T>=0;T--){const O=y[T];if(O.path.length===0&&O.op==="replace"){R=O.value;break}}T>-1&&(y=y.slice(T+1));const A=getPlugin("Patches").applyPatches_;return isDraft(R)?A(R,y):this.produce(R,O=>A(O,y))}};function createProxy(R,y){const T=isMap(R)?getPlugin("MapSet").proxyMap_(R,y):isSet(R)?getPlugin("MapSet").proxySet_(R,y):createProxyProxy(R,y);return(y?y.scope_:getCurrentScope()).drafts_.push(T),T}function current(R){return isDraft(R)||die(10,R),currentImpl(R)}function currentImpl(R){if(!isDraftable(R)||isFrozen(R))return R;const y=R[DRAFT_STATE];let T,A=!0;if(y){if(!y.modified_)return y.base_;y.finalized_=!0,T=shallowCopy(R,y.scope_.immer_.useStrictShallowCopy_),A=y.scope_.immer_.shouldUseStrictIteration()}else T=shallowCopy(R,!0);return each(T,(O,z)=>{set(T,O,currentImpl(z))},A),y&&(y.finalized_=!1),T}function enablePatches(){const y="replace",A="remove";function O(oe,pe,fe,xe){switch(oe.type_){case 0:case 2:return U(oe,pe,fe,xe);case 1:return z(oe,pe,fe,xe);case 3:return G(oe,pe,fe,xe)}}function z(oe,pe,fe,xe){let{base_:ye,assigned_:_e}=oe,Le=oe.copy_;Le.length<ye.length&&([ye,Le]=[Le,ye],[fe,xe]=[xe,fe]);for(let je=0;je<ye.length;je++)if(_e[je]&&Le[je]!==ye[je]){const Ne=pe.concat([je]);fe.push({op:y,path:Ne,value:ae(Le[je])}),xe.push({op:y,path:Ne,value:ae(ye[je])})}for(let je=ye.length;je<Le.length;je++){const Ne=pe.concat([je]);fe.push({op:"add",path:Ne,value:ae(Le[je])})}for(let je=Le.length-1;ye.length<=je;--je){const Ne=pe.concat([je]);xe.push({op:A,path:Ne})}}function U(oe,pe,fe,xe){const{base_:ye,copy_:_e}=oe;each(oe.assigned_,(Le,je)=>{const Ne=get(ye,Le),$e=get(_e,Le),Ue=je?has(ye,Le)?y:"add":A;if(Ne===$e&&Ue===y)return;const He=pe.concat(Le);fe.push(Ue===A?{op:Ue,path:He}:{op:Ue,path:He,value:$e}),xe.push(Ue==="add"?{op:A,path:He}:Ue===A?{op:"add",path:He,value:ae(Ne)}:{op:y,path:He,value:ae(Ne)})})}function G(oe,pe,fe,xe){let{base_:ye,copy_:_e}=oe,Le=0;ye.forEach(je=>{if(!_e.has(je)){const Ne=pe.concat([Le]);fe.push({op:A,path:Ne,value:je}),xe.unshift({op:"add",path:Ne,value:je})}Le++}),Le=0,_e.forEach(je=>{if(!ye.has(je)){const Ne=pe.concat([Le]);fe.push({op:"add",path:Ne,value:je}),xe.unshift({op:A,path:Ne,value:je})}Le++})}function J(oe,pe,fe,xe){fe.push({op:y,path:[],value:pe===NOTHING?void 0:pe}),xe.push({op:y,path:[],value:oe})}function ee(oe,pe){return pe.forEach(fe=>{const{path:xe,op:ye}=fe;let _e=oe;for(let $e=0;$e<xe.length-1;$e++){const Ue=getArchtype(_e);let He=xe[$e];typeof He!="string"&&typeof He!="number"&&(He=""+He),(Ue===0||Ue===1)&&(He==="__proto__"||He==="constructor")&&die(19),typeof _e=="function"&&He==="prototype"&&die(19),_e=get(_e,He),typeof _e!="object"&&die(18,xe.join("/"))}const Le=getArchtype(_e),je=te(fe.value),Ne=xe[xe.length-1];switch(ye){case y:switch(Le){case 2:return _e.set(Ne,je);case 3:die(16);default:return _e[Ne]=je}case"add":switch(Le){case 1:return Ne==="-"?_e.push(je):_e.splice(Ne,0,je);case 2:return _e.set(Ne,je);case 3:return _e.add(je);default:return _e[Ne]=je}case A:switch(Le){case 1:return _e.splice(Ne,1);case 2:return _e.delete(Ne);case 3:return _e.delete(fe.value);default:return delete _e[Ne]}default:die(17,ye)}}),oe}function te(oe){if(!isDraftable(oe))return oe;if(Array.isArray(oe))return oe.map(te);if(isMap(oe))return new Map(Array.from(oe.entries()).map(([fe,xe])=>[fe,te(xe)]));if(isSet(oe))return new Set(Array.from(oe).map(te));const pe=Object.create(getPrototypeOf(oe));for(const fe in oe)pe[fe]=te(oe[fe]);return has(oe,DRAFTABLE)&&(pe[DRAFTABLE]=oe[DRAFTABLE]),pe}function ae(oe){return isDraft(oe)?te(oe):oe}loadPlugin("Patches",{applyPatches_:ee,generatePatches_:O,generateReplacementPatches_:J})}var immer=new Immer2,produce=immer.produce,produceWithPatches=immer.produceWithPatches.bind(immer),applyPatches=immer.applyPatches.bind(immer);function assertIsFunction(R,y=`expected a function, instead received ${typeof R}`){if(typeof R!="function")throw new TypeError(y)}function assertIsObject(R,y=`expected an object, instead received ${typeof R}`){if(typeof R!="object")throw new TypeError(y)}function assertIsArrayOfFunctions(R,y="expected all items to be functions, instead received the following types: "){if(!R.every(T=>typeof T=="function")){const T=R.map(A=>typeof A=="function"?`function ${A.name||"unnamed"}()`:typeof A).join(", ");throw new TypeError(`${y}[${T}]`)}}var ensureIsArray=R=>Array.isArray(R)?R:[R];function getDependencies(R){const y=Array.isArray(R[0])?R[0]:R;return assertIsArrayOfFunctions(y,"createSelector expects all input-selectors to be functions, but received the following types: "),y}function collectInputSelectorResults(R,y){const T=[],{length:A}=R;for(let O=0;O<A;O++)T.push(R[O].apply(null,y));return T}var StrongRef=class{constructor(R){this.value=R}deref(){return this.value}},Ref=typeof WeakRef<"u"?WeakRef:StrongRef,UNTERMINATED=0,TERMINATED=1;function createCacheNode(){return{s:UNTERMINATED,v:void 0,o:null,p:null}}function weakMapMemoize(R,y={}){let T=createCacheNode();const{resultEqualityCheck:A}=y;let O,z=0;function U(){let G=T;const{length:J}=arguments;for(let ae=0,oe=J;ae<oe;ae++){const pe=arguments[ae];if(typeof pe=="function"||typeof pe=="object"&&pe!==null){let fe=G.o;fe===null&&(G.o=fe=new WeakMap);const xe=fe.get(pe);xe===void 0?(G=createCacheNode(),fe.set(pe,G)):G=xe}else{let fe=G.p;fe===null&&(G.p=fe=new Map);const xe=fe.get(pe);xe===void 0?(G=createCacheNode(),fe.set(pe,G)):G=xe}}const ee=G;let te;if(G.s===TERMINATED)te=G.v;else if(te=R.apply(null,arguments),z++,A){const ae=O?.deref?.()??O;ae!=null&&A(ae,te)&&(te=ae,z!==0&&z--),O=typeof te=="object"&&te!==null||typeof te=="function"?new Ref(te):te}return ee.s=TERMINATED,ee.v=te,te}return U.clearCache=()=>{T=createCacheNode(),U.resetResultsCount()},U.resultsCount=()=>z,U.resetResultsCount=()=>{z=0},U}function createSelectorCreator(R,...y){const T=typeof R=="function"?{memoize:R,memoizeOptions:y}:R,A=(...O)=>{let z=0,U=0,G,J={},ee=O.pop();typeof ee=="object"&&(J=ee,ee=O.pop()),assertIsFunction(ee,`createSelector expects an output function after the inputs, but received: [${typeof ee}]`);const te={...T,...J},{memoize:ae,memoizeOptions:oe=[],argsMemoize:pe=weakMapMemoize,argsMemoizeOptions:fe=[]}=te,xe=ensureIsArray(oe),ye=ensureIsArray(fe),_e=getDependencies(O),Le=ae(function(){return z++,ee.apply(null,arguments)},...xe),je=pe(function(){U++;const $e=collectInputSelectorResults(_e,arguments);return G=Le.apply(null,$e),G},...ye);return Object.assign(je,{resultFunc:ee,memoizedResultFunc:Le,dependencies:_e,dependencyRecomputations:()=>U,resetDependencyRecomputations:()=>{U=0},lastResult:()=>G,recomputations:()=>z,resetRecomputations:()=>{z=0},memoize:ae,argsMemoize:pe})};return Object.assign(A,{withTypes:()=>A}),A}var createSelector=createSelectorCreator(weakMapMemoize),createStructuredSelector=Object.assign((R,y=createSelector)=>{assertIsObject(R,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof R}`);const T=Object.keys(R),A=T.map(z=>R[z]);return y(A,(...z)=>z.reduce((U,G,J)=>(U[T[J]]=G,U),{}))},{withTypes:()=>createStructuredSelector});function createThunkMiddleware(R){return({dispatch:T,getState:A})=>O=>z=>typeof z=="function"?z(T,A,R):O(z)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose:compose.apply(null,arguments)},hasMatchFunction=R=>R&&typeof R.match=="function";function createAction(R,y){function T(...A){if(y){let O=y(...A);if(!O)throw new Error(formatProdErrorMessage(0));return{type:R,payload:O.payload,..."meta"in O&&{meta:O.meta},..."error"in O&&{error:O.error}}}return{type:R,payload:A[0]}}return T.toString=()=>`${R}`,T.type=R,T.match=A=>isAction(A)&&A.type===R,T}var Tuple=class sa extends Array{constructor(...y){super(...y),Object.setPrototypeOf(this,sa.prototype)}static get[Symbol.species](){return sa}concat(...y){return super.concat.apply(this,y)}prepend(...y){return y.length===1&&Array.isArray(y[0])?new sa(...y[0].concat(this)):new sa(...y.concat(this))}};function freezeDraftable(R){return isDraftable(R)?produce(R,()=>{}):R}function getOrInsertComputed$1(R,y,T){return R.has(y)?R.get(y):R.set(y,T(y)).get(y)}function isBoolean(R){return typeof R=="boolean"}var buildGetDefaultMiddleware=()=>function(y){const{thunk:T=!0,immutableCheck:A=!0,serializableCheck:O=!0,actionCreatorCheck:z=!0}=y??{};let U=new Tuple;return T&&(isBoolean(T)?U.push(thunk):U.push(withExtraArgument(T.extraArgument))),U},SHOULD_AUTOBATCH="RTK_autoBatch",prepareAutoBatched=()=>R=>({payload:R,meta:{[SHOULD_AUTOBATCH]:!0}}),createQueueWithTimer=R=>y=>{setTimeout(y,R)},autoBatchEnhancer=(R={type:"raf"})=>y=>(...T)=>{const A=y(...T);let O=!0,z=!1,U=!1;const G=new Set,J=R.type==="tick"?queueMicrotask:R.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10):R.type==="callback"?R.queueNotification:createQueueWithTimer(R.timeout),ee=()=>{U=!1,z&&(z=!1,G.forEach(te=>te()))};return Object.assign({},A,{subscribe(te){const ae=()=>O&&te(),oe=A.subscribe(ae);return G.add(te),()=>{oe(),G.delete(te)}},dispatch(te){try{return O=!te?.meta?.[SHOULD_AUTOBATCH],z=!O,z&&(U||(U=!0,J(ee))),A.dispatch(te)}finally{O=!0}}})},buildGetDefaultEnhancers=R=>function(T){const{autoBatch:A=!0}=T??{};let O=new Tuple(R);return A&&O.push(autoBatchEnhancer(typeof A=="object"?A:void 0)),O};function configureStore(R){const y=buildGetDefaultMiddleware(),{reducer:T=void 0,middleware:A,devTools:O=!0,preloadedState:z=void 0,enhancers:U=void 0}=R||{};let G;if(typeof T=="function")G=T;else if(isPlainObject$2(T))G=combineReducers(T);else throw new Error(formatProdErrorMessage(1));let J;typeof A=="function"?J=A(y):J=y();let ee=compose;O&&(ee=composeWithDevTools({trace:!1,...typeof O=="object"&&O}));const te=applyMiddleware(...J),ae=buildGetDefaultEnhancers(te);let oe=typeof U=="function"?U(ae):ae();const pe=ee(...oe);return createStore(G,z,pe)}function executeReducerBuilderCallback(R){const y={},T=[];let A;const O={addCase(z,U){const G=typeof z=="string"?z:z.type;if(!G)throw new Error(formatProdErrorMessage(28));if(G in y)throw new Error(formatProdErrorMessage(29));return y[G]=U,O},addAsyncThunk(z,U){return U.pending&&(y[z.pending.type]=U.pending),U.rejected&&(y[z.rejected.type]=U.rejected),U.fulfilled&&(y[z.fulfilled.type]=U.fulfilled),U.settled&&T.push({matcher:z.settled,reducer:U.settled}),O},addMatcher(z,U){return T.push({matcher:z,reducer:U}),O},addDefaultCase(z){return A=z,O}};return R(O),[y,T,A]}function isStateFunction(R){return typeof R=="function"}function createReducer(R,y){let[T,A,O]=executeReducerBuilderCallback(y),z;if(isStateFunction(R))z=()=>freezeDraftable(R());else{const G=freezeDraftable(R);z=()=>G}function U(G=z(),J){let ee=[T[J.type],...A.filter(({matcher:te})=>te(J)).map(({reducer:te})=>te)];return ee.filter(te=>!!te).length===0&&(ee=[O]),ee.reduce((te,ae)=>{if(ae)if(isDraft(te)){const pe=ae(te,J);return pe===void 0?te:pe}else{if(isDraftable(te))return produce(te,oe=>ae(oe,J));{const oe=ae(te,J);if(oe===void 0){if(te===null)return te;throw Error("A case reducer on a non-draftable value must not return undefined")}return oe}}return te},G)}return U.getInitialState=z,U}var matches$1=(R,y)=>hasMatchFunction(R)?R.match(y):R(y);function isAnyOf(...R){return y=>R.some(T=>matches$1(T,y))}function isAllOf(...R){return y=>R.every(T=>matches$1(T,y))}function hasExpectedRequestMetadata(R,y){if(!R||!R.meta)return!1;const T=typeof R.meta.requestId=="string",A=y.indexOf(R.meta.requestStatus)>-1;return T&&A}function isAsyncThunkArray(R){return typeof R[0]=="function"&&"pending"in R[0]&&"fulfilled"in R[0]&&"rejected"in R[0]}function isPending(...R){return R.length===0?y=>hasExpectedRequestMetadata(y,["pending"]):isAsyncThunkArray(R)?isAnyOf(...R.map(y=>y.pending)):isPending()(R[0])}function isRejected(...R){return R.length===0?y=>hasExpectedRequestMetadata(y,["rejected"]):isAsyncThunkArray(R)?isAnyOf(...R.map(y=>y.rejected)):isRejected()(R[0])}function isRejectedWithValue(...R){const y=T=>T&&T.meta&&T.meta.rejectedWithValue;return R.length===0?isAllOf(isRejected(...R),y):isAsyncThunkArray(R)?isAllOf(isRejected(...R),y):isRejectedWithValue()(R[0])}function isFulfilled(...R){return R.length===0?y=>hasExpectedRequestMetadata(y,["fulfilled"]):isAsyncThunkArray(R)?isAnyOf(...R.map(y=>y.fulfilled)):isFulfilled()(R[0])}function isAsyncThunkAction(...R){return R.length===0?y=>hasExpectedRequestMetadata(y,["pending","fulfilled","rejected"]):isAsyncThunkArray(R)?isAnyOf(...R.flatMap(y=>[y.pending,y.rejected,y.fulfilled])):isAsyncThunkAction()(R[0])}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=(R=21)=>{let y="",T=R;for(;T--;)y+=urlAlphabet[Math.random()*64|0];return y},commonProperties=["name","message","stack","code"],RejectWithValue=class{constructor(R,y){this.payload=R,this.meta=y}_type},FulfillWithMeta=class{constructor(R,y){this.payload=R,this.meta=y}_type},miniSerializeError=R=>{if(typeof R=="object"&&R!==null){const y={};for(const T of commonProperties)typeof R[T]=="string"&&(y[T]=R[T]);return y}return{message:String(R)}},externalAbortMessage="External signal was aborted",createAsyncThunk=(()=>{function R(y,T,A){const O=createAction(y+"/fulfilled",(J,ee,te,ae)=>({payload:J,meta:{...ae||{},arg:te,requestId:ee,requestStatus:"fulfilled"}})),z=createAction(y+"/pending",(J,ee,te)=>({payload:void 0,meta:{...te||{},arg:ee,requestId:J,requestStatus:"pending"}})),U=createAction(y+"/rejected",(J,ee,te,ae,oe)=>({payload:ae,error:(A&&A.serializeError||miniSerializeError)(J||"Rejected"),meta:{...oe||{},arg:te,requestId:ee,rejectedWithValue:!!ae,requestStatus:"rejected",aborted:J?.name==="AbortError",condition:J?.name==="ConditionError"}}));function G(J,{signal:ee}={}){return(te,ae,oe)=>{const pe=A?.idGenerator?A.idGenerator(J):nanoid(),fe=new AbortController;let xe,ye;function _e(je){ye=je,fe.abort()}ee&&(ee.aborted?_e(externalAbortMessage):ee.addEventListener("abort",()=>_e(externalAbortMessage),{once:!0}));const Le=(async function(){let je;try{let $e=A?.condition?.(J,{getState:ae,extra:oe});if(isThenable($e)&&($e=await $e),$e===!1||fe.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const Ue=new Promise((He,ze)=>{xe=()=>{ze({name:"AbortError",message:ye||"Aborted"})},fe.signal.addEventListener("abort",xe)});te(z(pe,J,A?.getPendingMeta?.({requestId:pe,arg:J},{getState:ae,extra:oe}))),je=await Promise.race([Ue,Promise.resolve(T(J,{dispatch:te,getState:ae,extra:oe,requestId:pe,signal:fe.signal,abort:_e,rejectWithValue:(He,ze)=>new RejectWithValue(He,ze),fulfillWithValue:(He,ze)=>new FulfillWithMeta(He,ze)})).then(He=>{if(He instanceof RejectWithValue)throw He;return He instanceof FulfillWithMeta?O(He.payload,pe,J,He.meta):O(He,pe,J)})])}catch($e){je=$e instanceof RejectWithValue?U(null,pe,J,$e.payload,$e.meta):U($e,pe,J)}finally{xe&&fe.signal.removeEventListener("abort",xe)}return A&&!A.dispatchConditionRejection&&U.match(je)&&je.meta.condition||te(je),je})();return Object.assign(Le,{abort:_e,requestId:pe,arg:J,unwrap(){return Le.then(unwrapResult)}})}}return Object.assign(G,{pending:z,rejected:U,fulfilled:O,settled:isAnyOf(U,O),typePrefix:y})}return R.withTypes=()=>R,R})();function unwrapResult(R){if(R.meta&&R.meta.rejectedWithValue)throw R.payload;if(R.error)throw R.error;return R.payload}function isThenable(R){return R!==null&&typeof R=="object"&&typeof R.then=="function"}var asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType$1(R,y){return`${R}/${y}`}function buildCreateSlice({creators:R}={}){const y=R?.asyncThunk?.[asyncThunkSymbol];return function(A){const{name:O,reducerPath:z=O}=A;if(!O)throw new Error(formatProdErrorMessage(11));const U=(typeof A.reducers=="function"?A.reducers(buildReducerCreators()):A.reducers)||{},G=Object.keys(U),J={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},ee={addCase(je,Ne){const $e=typeof je=="string"?je:je.type;if(!$e)throw new Error(formatProdErrorMessage(12));if($e in J.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return J.sliceCaseReducersByType[$e]=Ne,ee},addMatcher(je,Ne){return J.sliceMatchers.push({matcher:je,reducer:Ne}),ee},exposeAction(je,Ne){return J.actionCreators[je]=Ne,ee},exposeCaseReducer(je,Ne){return J.sliceCaseReducersByName[je]=Ne,ee}};G.forEach(je=>{const Ne=U[je],$e={reducerName:je,type:getType$1(O,je),createNotation:typeof A.reducers=="function"};isAsyncThunkSliceReducerDefinition(Ne)?handleThunkCaseReducerDefinition($e,Ne,ee,y):handleNormalReducerDefinition($e,Ne,ee)});function te(){const[je={},Ne=[],$e=void 0]=typeof A.extraReducers=="function"?executeReducerBuilderCallback(A.extraReducers):[A.extraReducers],Ue={...je,...J.sliceCaseReducersByType};return createReducer(A.initialState,He=>{for(let ze in Ue)He.addCase(ze,Ue[ze]);for(let ze of J.sliceMatchers)He.addMatcher(ze.matcher,ze.reducer);for(let ze of Ne)He.addMatcher(ze.matcher,ze.reducer);$e&&He.addDefaultCase($e)})}const ae=je=>je,oe=new Map,pe=new WeakMap;let fe;function xe(je,Ne){return fe||(fe=te()),fe(je,Ne)}function ye(){return fe||(fe=te()),fe.getInitialState()}function _e(je,Ne=!1){function $e(He){let ze=He[je];return typeof ze>"u"&&Ne&&(ze=getOrInsertComputed$1(pe,$e,ye)),ze}function Ue(He=ae){const ze=getOrInsertComputed$1(oe,Ne,()=>new WeakMap);return getOrInsertComputed$1(ze,He,()=>{const Ke={};for(const[Je,Ze]of Object.entries(A.selectors??{}))Ke[Je]=wrapSelector(Ze,He,()=>getOrInsertComputed$1(pe,He,ye),Ne);return Ke})}return{reducerPath:je,getSelectors:Ue,get selectors(){return Ue($e)},selectSlice:$e}}const Le={name:O,reducer:xe,actions:J.actionCreators,caseReducers:J.sliceCaseReducersByName,getInitialState:ye,..._e(z),injectInto(je,{reducerPath:Ne,...$e}={}){const Ue=Ne??z;return je.inject({reducerPath:Ue,reducer:xe},$e),{...Le,..._e(Ue,!0)}}};return Le}}function wrapSelector(R,y,T,A){function O(z,...U){let G=y(z);return typeof G>"u"&&A&&(G=T()),R(G,...U)}return O.unwrapped=R,O}var createSlice=buildCreateSlice();function buildReducerCreators(){function R(y,T){return{_reducerDefinitionType:"asyncThunk",payloadCreator:y,...T}}return R.withTypes=()=>R,{reducer(y){return Object.assign({[y.name](...T){return y(...T)}}[y.name],{_reducerDefinitionType:"reducer"})},preparedReducer(y,T){return{_reducerDefinitionType:"reducerWithPrepare",prepare:y,reducer:T}},asyncThunk:R}}function handleNormalReducerDefinition({type:R,reducerName:y,createNotation:T},A,O){let z,U;if("reducer"in A){if(T&&!isCaseReducerWithPrepareDefinition(A))throw new Error(formatProdErrorMessage(17));z=A.reducer,U=A.prepare}else z=A;O.addCase(R,z).exposeCaseReducer(y,z).exposeAction(y,U?createAction(R,U):createAction(R))}function isAsyncThunkSliceReducerDefinition(R){return R._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(R){return R._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:R,reducerName:y},T,A,O){if(!O)throw new Error(formatProdErrorMessage(18));const{payloadCreator:z,fulfilled:U,pending:G,rejected:J,settled:ee,options:te}=T,ae=O(R,z,te);A.exposeAction(y,ae),U&&A.addCase(ae.fulfilled,U),G&&A.addCase(ae.pending,G),J&&A.addCase(ae.rejected,J),ee&&A.addMatcher(ae.settled,ee),A.exposeCaseReducer(y,{fulfilled:U||noop$2,pending:G||noop$2,rejected:J||noop$2,settled:ee||noop$2})}function noop$2(){}function formatProdErrorMessage(R){return`Minified Redux Toolkit error #${R}; visit https://redux-toolkit.js.org/Errors?code=${R} for the full message or use the non-minified dev environment for full errors. `}var SchemaError=class extends Error{issues;constructor(R){super(R[0].message),this.name="SchemaError",this.issues=R}},QueryStatus=(R=>(R.uninitialized="uninitialized",R.pending="pending",R.fulfilled="fulfilled",R.rejected="rejected",R))(QueryStatus||{});function getRequestStatusFlags(R){return{status:R,isUninitialized:R==="uninitialized",isLoading:R==="pending",isSuccess:R==="fulfilled",isError:R==="rejected"}}var isPlainObject2=isPlainObject$2;function copyWithStructuralSharing(R,y){if(R===y||!(isPlainObject2(R)&&isPlainObject2(y)||Array.isArray(R)&&Array.isArray(y)))return y;const T=Object.keys(y),A=Object.keys(R);let O=T.length===A.length;const z=Array.isArray(y)?[]:{};for(const U of T)z[U]=copyWithStructuralSharing(R[U],y[U]),O&&(O=R[U]===z[U]);return O?R:z}var flatten=R=>[].concat(...R);function isAbsoluteUrl(R){return new RegExp("(^|:)//").test(R)}function isDocumentVisible(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function isNotNullish(R){return R!=null}function filterNullishValues(R){return[...R?.values()??[]].filter(isNotNullish)}function isOnline(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var withoutTrailingSlash=R=>R.replace(/\/$/,""),withoutLeadingSlash=R=>R.replace(/^\//,"");function joinUrls(R,y){if(!R)return y;if(!y)return R;if(isAbsoluteUrl(y))return y;const T=R.endsWith("/")||!y.startsWith("?")?"/":"";return R=withoutTrailingSlash(R),y=withoutLeadingSlash(y),`${R}${T}${y}`}function getOrInsertComputed(R,y,T){return R.has(y)?R.get(y):R.set(y,T(y)).get(y)}var createNewMap=()=>new Map,defaultFetchFn=(...R)=>fetch(...R),defaultValidateStatus=R=>R.status>=200&&R.status<=299,defaultIsJsonContentType=R=>/ion\/(vnd\.api\+)?json/.test(R.get("content-type")||"");function stripUndefined(R){if(!isPlainObject$2(R))return R;const y={...R};for(const[T,A]of Object.entries(y))A===void 0&&delete y[T];return y}var isJsonifiable=R=>typeof R=="object"&&(isPlainObject$2(R)||Array.isArray(R)||typeof R.toJSON=="function");function fetchBaseQuery({baseUrl:R,prepareHeaders:y=ae=>ae,fetchFn:T=defaultFetchFn,paramsSerializer:A,isJsonContentType:O=defaultIsJsonContentType,jsonContentType:z="application/json",jsonReplacer:U,timeout:G,responseHandler:J,validateStatus:ee,...te}={}){return typeof fetch>"u"&&T===defaultFetchFn&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(oe,pe,fe)=>{const{getState:xe,extra:ye,endpoint:_e,forced:Le,type:je}=pe;let Ne,{url:$e,headers:Ue=new Headers(te.headers),params:He=void 0,responseHandler:ze=J??"json",validateStatus:Ke=ee??defaultValidateStatus,timeout:Je=G,...Ze}=typeof oe=="string"?{url:oe}:oe,rt,nt=pe.signal;Je&&(rt=new AbortController,pe.signal.addEventListener("abort",rt.abort),nt=rt.signal);let at={...te,signal:nt,...Ze};Ue=new Headers(stripUndefined(Ue)),at.headers=await y(Ue,{getState:xe,arg:oe,extra:ye,endpoint:_e,forced:Le,type:je,extraOptions:fe})||Ue;const ot=isJsonifiable(at.body);if(at.body!=null&&!ot&&typeof at.body!="string"&&at.headers.delete("content-type"),!at.headers.has("content-type")&&ot&&at.headers.set("content-type",z),ot&&O(at.headers)&&(at.body=JSON.stringify(at.body,U)),at.headers.has("accept")||(ze==="json"?at.headers.set("accept","application/json"):ze==="text"&&at.headers.set("accept","text/plain, text/html, */*")),He){const pt=~$e.indexOf("?")?"&":"?",yt=A?A(He):new URLSearchParams(stripUndefined(He));$e+=pt+yt}$e=joinUrls(R,$e);const qe=new Request($e,at);Ne={request:new Request($e,at)};let Ge,Qe=!1,it=rt&&setTimeout(()=>{Qe=!0,rt.abort()},Je);try{Ge=await T(qe)}catch(pt){return{error:{status:Qe?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(pt)},meta:Ne}}finally{it&&clearTimeout(it),rt?.signal.removeEventListener("abort",rt.abort)}const Ye=Ge.clone();Ne.response=Ye;let st,ut="";try{let pt;if(await Promise.all([ae(Ge,ze).then(yt=>st=yt,yt=>pt=yt),Ye.text().then(yt=>ut=yt,()=>{})]),pt)throw pt}catch(pt){return{error:{status:"PARSING_ERROR",originalStatus:Ge.status,data:ut,error:String(pt)},meta:Ne}}return Ke(Ge,st)?{data:st,meta:Ne}:{error:{status:Ge.status,data:st},meta:Ne}};async function ae(oe,pe){if(typeof pe=="function")return pe(oe);if(pe==="content-type"&&(pe=O(oe.headers)?"json":"text"),pe==="json"){const fe=await oe.text();return fe.length?JSON.parse(fe):null}return oe.text()}}var HandledError=class{constructor(R,y=void 0){this.value=R,this.meta=y}},onFocus=createAction("__rtkq/focused"),onFocusLost=createAction("__rtkq/unfocused"),onOnline=createAction("__rtkq/online"),onOffline=createAction("__rtkq/offline"),initialized=!1;function setupListeners(R,y){function T(){const A=()=>R(onFocus()),O=()=>R(onFocusLost()),z=()=>R(onOnline()),U=()=>R(onOffline()),G=()=>{window.document.visibilityState==="visible"?A():O()};return initialized||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",G,!1),window.addEventListener("focus",A,!1),window.addEventListener("online",z,!1),window.addEventListener("offline",U,!1),initialized=!0),()=>{window.removeEventListener("focus",A),window.removeEventListener("visibilitychange",G),window.removeEventListener("online",z),window.removeEventListener("offline",U),initialized=!1}}return T()}function isQueryDefinition$1(R){return R.type==="query"}function isMutationDefinition$1(R){return R.type==="mutation"}function isInfiniteQueryDefinition$1(R){return R.type==="infinitequery"}function isAnyQueryDefinition(R){return isQueryDefinition$1(R)||isInfiniteQueryDefinition$1(R)}function calculateProvidedBy(R,y,T,A,O,z){return isFunction$1(R)?R(y,T,A,O).filter(isNotNullish).map(expandTagDescription).map(z):Array.isArray(R)?R.map(expandTagDescription).map(z):[]}function isFunction$1(R){return typeof R=="function"}function expandTagDescription(R){return typeof R=="string"?{type:R}:R}function asSafePromise(R,y){return R.catch(y)}var forceQueryFnSymbol=Symbol("forceQueryFn"),isUpsertQuery=R=>typeof R[forceQueryFnSymbol]=="function";function buildInitiate({serializeQueryArgs:R,queryThunk:y,infiniteQueryThunk:T,mutationThunk:A,api:O,context:z,getInternalState:U}){const G=Ne=>U(Ne)?.runningQueries,J=Ne=>U(Ne)?.runningMutations,{unsubscribeQueryResult:ee,removeMutationResult:te,updateSubscriptionOptions:ae}=O.internalActions;return{buildInitiateQuery:_e,buildInitiateInfiniteQuery:Le,buildInitiateMutation:je,getRunningQueryThunk:oe,getRunningMutationThunk:pe,getRunningQueriesThunk:fe,getRunningMutationsThunk:xe};function oe(Ne,$e){return Ue=>{const He=z.endpointDefinitions[Ne],ze=R({queryArgs:$e,endpointDefinition:He,endpointName:Ne});return G(Ue)?.get(ze)}}function pe(Ne,$e){return Ue=>J(Ue)?.get($e)}function fe(){return Ne=>filterNullishValues(G(Ne))}function xe(){return Ne=>filterNullishValues(J(Ne))}function ye(Ne,$e){const Ue=(He,{subscribe:ze=!0,forceRefetch:Ke,subscriptionOptions:Je,[forceQueryFnSymbol]:Ze,...rt}={})=>(nt,at)=>{const ot=R({queryArgs:He,endpointDefinition:$e,endpointName:Ne});let qe;const Xe={...rt,type:"query",subscribe:ze,forceRefetch:Ke,subscriptionOptions:Je,endpointName:Ne,originalArgs:He,queryCacheKey:ot,[forceQueryFnSymbol]:Ze};if(isQueryDefinition$1($e))qe=y(Xe);else{const{direction:jt,initialPageParam:St}=rt;qe=T({...Xe,direction:jt,initialPageParam:St})}const Ge=O.endpoints[Ne].select(He),Qe=nt(qe),it=Ge(at()),{requestId:Ye,abort:st}=Qe,ut=it.requestId!==Ye,pt=G(nt)?.get(ot),yt=()=>Ge(at()),Et=Object.assign(Ze?Qe.then(yt):ut&&!pt?Promise.resolve(it):Promise.all([pt,Qe]).then(yt),{arg:He,requestId:Ye,subscriptionOptions:Je,queryCacheKey:ot,abort:st,async unwrap(){const jt=await Et;if(jt.isError)throw jt.error;return jt.data},refetch:()=>nt(Ue(He,{subscribe:!1,forceRefetch:!0})),unsubscribe(){ze&&nt(ee({queryCacheKey:ot,requestId:Ye}))},updateSubscriptionOptions(jt){Et.subscriptionOptions=jt,nt(ae({endpointName:Ne,requestId:Ye,queryCacheKey:ot,options:jt}))}});if(!pt&&!ut&&!Ze){const jt=G(nt);jt.set(ot,Et),Et.then(()=>{jt.delete(ot)})}return Et};return Ue}function _e(Ne,$e){return ye(Ne,$e)}function Le(Ne,$e){return ye(Ne,$e)}function je(Ne){return($e,{track:Ue=!0,fixedCacheKey:He}={})=>(ze,Ke)=>{const Je=A({type:"mutation",endpointName:Ne,originalArgs:$e,track:Ue,fixedCacheKey:He}),Ze=ze(Je),{requestId:rt,abort:nt,unwrap:at}=Ze,ot=asSafePromise(Ze.unwrap().then(Qe=>({data:Qe})),Qe=>({error:Qe})),qe=()=>{ze(te({requestId:rt,fixedCacheKey:He}))},Xe=Object.assign(ot,{arg:Ze.arg,requestId:rt,abort:nt,unwrap:at,reset:qe}),Ge=J(ze);return Ge.set(rt,Xe),Xe.then(()=>{Ge.delete(rt)}),He&&(Ge.set(He,Xe),Xe.then(()=>{Ge.get(He)===Xe&&Ge.delete(He)})),Xe}}}var NamedSchemaError=class extends SchemaError{constructor(R,y,T,A){super(R),this.value=y,this.schemaName=T,this._bqMeta=A}},shouldSkip=(R,y)=>Array.isArray(R)?R.includes(y):!!R;async function parseWithSchema(R,y,T,A){const O=await R["~standard"].validate(y);if(O.issues)throw new NamedSchemaError(O.issues,y,T,A);return O.value}function defaultTransformResponse(R){return R}var addShouldAutoBatch=(R={})=>({...R,[SHOULD_AUTOBATCH]:!0});function buildThunks({reducerPath:R,baseQuery:y,context:{endpointDefinitions:T},serializeQueryArgs:A,api:O,assertTagType:z,selectors:U,onSchemaFailure:G,catchSchemaFailure:J,skipSchemaValidation:ee}){const te=(Ze,rt,nt,at)=>(ot,qe)=>{const Xe=T[Ze],Ge=A({queryArgs:rt,endpointDefinition:Xe,endpointName:Ze});if(ot(O.internalActions.queryResultPatched({queryCacheKey:Ge,patches:nt})),!at)return;const Qe=O.endpoints[Ze].select(rt)(qe()),it=calculateProvidedBy(Xe.providesTags,Qe.data,void 0,rt,{},z);ot(O.internalActions.updateProvidedBy([{queryCacheKey:Ge,providedTags:it}]))};function ae(Ze,rt,nt=0){const at=[rt,...Ze];return nt&&at.length>nt?at.slice(0,-1):at}function oe(Ze,rt,nt=0){const at=[...Ze,rt];return nt&&at.length>nt?at.slice(1):at}const pe=(Ze,rt,nt,at=!0)=>(ot,qe)=>{const Ge=O.endpoints[Ze].select(rt)(qe()),Qe={patches:[],inversePatches:[],undo:()=>ot(O.util.patchQueryData(Ze,rt,Qe.inversePatches,at))};if(Ge.status==="uninitialized")return Qe;let it;if("data"in Ge)if(isDraftable(Ge.data)){const[Ye,st,ut]=produceWithPatches(Ge.data,nt);Qe.patches.push(...st),Qe.inversePatches.push(...ut),it=Ye}else it=nt(Ge.data),Qe.patches.push({op:"replace",path:[],value:it}),Qe.inversePatches.push({op:"replace",path:[],value:Ge.data});return Qe.patches.length===0||ot(O.util.patchQueryData(Ze,rt,Qe.patches,at)),Qe},fe=(Ze,rt,nt)=>at=>at(O.endpoints[Ze].initiate(rt,{subscribe:!1,forceRefetch:!0,[forceQueryFnSymbol]:()=>({data:nt})})),xe=(Ze,rt)=>Ze.query&&Ze[rt]?Ze[rt]:defaultTransformResponse,ye=async(Ze,{signal:rt,abort:nt,rejectWithValue:at,fulfillWithValue:ot,dispatch:qe,getState:Xe,extra:Ge})=>{const Qe=T[Ze.endpointName],{metaSchema:it,skipSchemaValidation:Ye=ee}=Qe;try{let st=defaultTransformResponse;const ut={signal:rt,abort:nt,dispatch:qe,getState:Xe,extra:Ge,endpoint:Ze.endpointName,type:Ze.type,forced:Ze.type==="query"?_e(Ze,Xe()):void 0,queryCacheKey:Ze.type==="query"?Ze.queryCacheKey:void 0},pt=Ze.type==="query"?Ze[forceQueryFnSymbol]:void 0;let yt;const Et=async(St,Ct,_t,Ht)=>{if(Ct==null&&St.pages.length)return Promise.resolve({data:St});const Yt={queryArg:Ze.originalArgs,pageParam:Ct},Pt=await jt(Yt),Rt=Ht?ae:oe;return{data:{pages:Rt(St.pages,Pt.data,_t),pageParams:Rt(St.pageParams,Ct,_t)},meta:Pt.meta}};async function jt(St){let Ct;const{extraOptions:_t,argSchema:Ht,rawResponseSchema:Yt,responseSchema:Pt}=Qe;if(Ht&&!shouldSkip(Ye,"arg")&&(St=await parseWithSchema(Ht,St,"argSchema",{})),pt?Ct=pt():Qe.query?(st=xe(Qe,"transformResponse"),Ct=await y(Qe.query(St),ut,_t)):Ct=await Qe.queryFn(St,ut,_t,pr=>y(pr,ut,_t)),typeof process<"u",Ct.error)throw new HandledError(Ct.error,Ct.meta);let{data:Rt}=Ct;Yt&&!shouldSkip(Ye,"rawResponse")&&(Rt=await parseWithSchema(Yt,Ct.data,"rawResponseSchema",Ct.meta));let rr=await st(Rt,Ct.meta,St);return Pt&&!shouldSkip(Ye,"response")&&(rr=await parseWithSchema(Pt,rr,"responseSchema",Ct.meta)),{...Ct,data:rr}}if(Ze.type==="query"&&"infiniteQueryOptions"in Qe){const{infiniteQueryOptions:St}=Qe,{maxPages:Ct=1/0}=St;let _t;const Ht={pages:[],pageParams:[]},Yt=U.selectQueryEntry(Xe(),Ze.queryCacheKey)?.data,Rt=_e(Ze,Xe())&&!Ze.direction||!Yt?Ht:Yt;if("direction"in Ze&&Ze.direction&&Rt.pages.length){const rr=Ze.direction==="backward",jr=(rr?getPreviousPageParam:getNextPageParam)(St,Rt,Ze.originalArgs);_t=await Et(Rt,jr,Ct,rr)}else{const{initialPageParam:rr=St.initialPageParam}=Ze,pr=Yt?.pageParams??[],jr=pr[0]??rr,Rr=pr.length;_t=await Et(Rt,jr,Ct),pt&&(_t={data:_t.data.pages[0]});for(let Er=1;Er<Rr;Er++){const Sr=getNextPageParam(St,_t.data,Ze.originalArgs);_t=await Et(_t.data,Sr,Ct)}}yt=_t}else yt=await jt(Ze.originalArgs);return it&&!shouldSkip(Ye,"meta")&&yt.meta&&(yt.meta=await parseWithSchema(it,yt.meta,"metaSchema",yt.meta)),ot(yt.data,addShouldAutoBatch({fulfilledTimeStamp:Date.now(),baseQueryMeta:yt.meta}))}catch(st){let ut=st;if(ut instanceof HandledError){let pt=xe(Qe,"transformErrorResponse");const{rawErrorResponseSchema:yt,errorResponseSchema:Et}=Qe;let{value:jt,meta:St}=ut;try{yt&&!shouldSkip(Ye,"rawErrorResponse")&&(jt=await parseWithSchema(yt,jt,"rawErrorResponseSchema",St)),it&&!shouldSkip(Ye,"meta")&&(St=await parseWithSchema(it,St,"metaSchema",St));let Ct=await pt(jt,St,Ze.originalArgs);return Et&&!shouldSkip(Ye,"errorResponse")&&(Ct=await parseWithSchema(Et,Ct,"errorResponseSchema",St)),at(Ct,addShouldAutoBatch({baseQueryMeta:St}))}catch(Ct){ut=Ct}}try{if(ut instanceof NamedSchemaError){const pt={endpoint:Ze.endpointName,arg:Ze.originalArgs,type:Ze.type,queryCacheKey:Ze.type==="query"?Ze.queryCacheKey:void 0};Qe.onSchemaFailure?.(ut,pt),G?.(ut,pt);const{catchSchemaFailure:yt=J}=Qe;if(yt)return at(yt(ut,pt),addShouldAutoBatch({baseQueryMeta:ut._bqMeta}))}}catch(pt){ut=pt}throw console.error(ut),ut}};function _e(Ze,rt){const nt=U.selectQueryEntry(rt,Ze.queryCacheKey),at=U.selectConfig(rt).refetchOnMountOrArgChange,ot=nt?.fulfilledTimeStamp,qe=Ze.forceRefetch??(Ze.subscribe&&at);return qe?qe===!0||(Number(new Date)-Number(ot))/1e3>=qe:!1}const Le=()=>createAsyncThunk(`${R}/executeQuery`,ye,{getPendingMeta({arg:rt}){const nt=T[rt.endpointName];return addShouldAutoBatch({startedTimeStamp:Date.now(),...isInfiniteQueryDefinition$1(nt)?{direction:rt.direction}:{}})},condition(rt,{getState:nt}){const at=nt(),ot=U.selectQueryEntry(at,rt.queryCacheKey),qe=ot?.fulfilledTimeStamp,Xe=rt.originalArgs,Ge=ot?.originalArgs,Qe=T[rt.endpointName],it=rt.direction;return isUpsertQuery(rt)?!0:ot?.status==="pending"?!1:_e(rt,at)||isQueryDefinition$1(Qe)&&Qe?.forceRefetch?.({currentArg:Xe,previousArg:Ge,endpointState:ot,state:at})?!0:!(qe&&!it)},dispatchConditionRejection:!0}),je=Le(),Ne=Le(),$e=createAsyncThunk(`${R}/executeMutation`,ye,{getPendingMeta(){return addShouldAutoBatch({startedTimeStamp:Date.now()})}}),Ue=Ze=>"force"in Ze,He=Ze=>"ifOlderThan"in Ze,ze=(Ze,rt,nt={})=>(at,ot)=>{const qe=Ue(nt)&&nt.force,Xe=He(nt)&&nt.ifOlderThan,Ge=(it=!0)=>{const Ye={forceRefetch:it,subscribe:!1};return O.endpoints[Ze].initiate(rt,Ye)},Qe=O.endpoints[Ze].select(rt)(ot());if(qe)at(Ge());else if(Xe){const it=Qe?.fulfilledTimeStamp;if(!it){at(Ge());return}(Number(new Date)-Number(new Date(it)))/1e3>=Xe&&at(Ge())}else at(Ge(!1))};function Ke(Ze){return rt=>rt?.meta?.arg?.endpointName===Ze}function Je(Ze,rt){return{matchPending:isAllOf(isPending(Ze),Ke(rt)),matchFulfilled:isAllOf(isFulfilled(Ze),Ke(rt)),matchRejected:isAllOf(isRejected(Ze),Ke(rt))}}return{queryThunk:je,mutationThunk:$e,infiniteQueryThunk:Ne,prefetch:ze,updateQueryData:pe,upsertQueryData:fe,patchQueryData:te,buildMatchThunkActions:Je}}function getNextPageParam(R,{pages:y,pageParams:T},A){const O=y.length-1;return R.getNextPageParam(y[O],y,T[O],T,A)}function getPreviousPageParam(R,{pages:y,pageParams:T},A){return R.getPreviousPageParam?.(y[0],y,T[0],T,A)}function calculateProvidedByThunk(R,y,T,A){return calculateProvidedBy(T[R.meta.arg.endpointName][y],isFulfilled(R)?R.payload:void 0,isRejectedWithValue(R)?R.payload:void 0,R.meta.arg.originalArgs,"baseQueryMeta"in R.meta?R.meta.baseQueryMeta:void 0,A)}function updateQuerySubstateIfExists(R,y,T){const A=R[y];A&&T(A)}function getMutationCacheKey(R){return("arg"in R?R.arg.fixedCacheKey:R.fixedCacheKey)??R.requestId}function updateMutationSubstateIfExists(R,y,T){const A=R[getMutationCacheKey(y)];A&&T(A)}var initialState={};function buildSlice({reducerPath:R,queryThunk:y,mutationThunk:T,serializeQueryArgs:A,context:{endpointDefinitions:O,apiUid:z,extractRehydrationInfo:U,hasRehydrationInfo:G},assertTagType:J,config:ee}){const te=createAction(`${R}/resetApiState`);function ae(Ke,Je,Ze,rt){Ke[Je.queryCacheKey]??={status:"uninitialized",endpointName:Je.endpointName},updateQuerySubstateIfExists(Ke,Je.queryCacheKey,nt=>{nt.status="pending",nt.requestId=Ze&&nt.requestId?nt.requestId:rt.requestId,Je.originalArgs!==void 0&&(nt.originalArgs=Je.originalArgs),nt.startedTimeStamp=rt.startedTimeStamp;const at=O[rt.arg.endpointName];isInfiniteQueryDefinition$1(at)&&"direction"in Je&&(nt.direction=Je.direction)})}function oe(Ke,Je,Ze,rt){updateQuerySubstateIfExists(Ke,Je.arg.queryCacheKey,nt=>{if(nt.requestId!==Je.requestId&&!rt)return;const{merge:at}=O[Je.arg.endpointName];if(nt.status="fulfilled",at)if(nt.data!==void 0){const{fulfilledTimeStamp:ot,arg:qe,baseQueryMeta:Xe,requestId:Ge}=Je;let Qe=produce(nt.data,it=>at(it,Ze,{arg:qe.originalArgs,baseQueryMeta:Xe,fulfilledTimeStamp:ot,requestId:Ge}));nt.data=Qe}else nt.data=Ze;else nt.data=O[Je.arg.endpointName].structuralSharing??!0?copyWithStructuralSharing(isDraft(nt.data)?original(nt.data):nt.data,Ze):Ze;delete nt.error,nt.fulfilledTimeStamp=Je.fulfilledTimeStamp})}const pe=createSlice({name:`${R}/queries`,initialState,reducers:{removeQueryResult:{reducer(Ke,{payload:{queryCacheKey:Je}}){delete Ke[Je]},prepare:prepareAutoBatched()},cacheEntriesUpserted:{reducer(Ke,Je){for(const Ze of Je.payload){const{queryDescription:rt,value:nt}=Ze;ae(Ke,rt,!0,{arg:rt,requestId:Je.meta.requestId,startedTimeStamp:Je.meta.timestamp}),oe(Ke,{arg:rt,requestId:Je.meta.requestId,fulfilledTimeStamp:Je.meta.timestamp,baseQueryMeta:{}},nt,!0)}},prepare:Ke=>({payload:Ke.map(rt=>{const{endpointName:nt,arg:at,value:ot}=rt,qe=O[nt];return{queryDescription:{type:"query",endpointName:nt,originalArgs:rt.arg,queryCacheKey:A({queryArgs:at,endpointDefinition:qe,endpointName:nt})},value:ot}}),meta:{[SHOULD_AUTOBATCH]:!0,requestId:nanoid(),timestamp:Date.now()}})},queryResultPatched:{reducer(Ke,{payload:{queryCacheKey:Je,patches:Ze}}){updateQuerySubstateIfExists(Ke,Je,rt=>{rt.data=applyPatches(rt.data,Ze.concat())})},prepare:prepareAutoBatched()}},extraReducers(Ke){Ke.addCase(y.pending,(Je,{meta:Ze,meta:{arg:rt}})=>{const nt=isUpsertQuery(rt);ae(Je,rt,nt,Ze)}).addCase(y.fulfilled,(Je,{meta:Ze,payload:rt})=>{const nt=isUpsertQuery(Ze.arg);oe(Je,Ze,rt,nt)}).addCase(y.rejected,(Je,{meta:{condition:Ze,arg:rt,requestId:nt},error:at,payload:ot})=>{updateQuerySubstateIfExists(Je,rt.queryCacheKey,qe=>{if(!Ze){if(qe.requestId!==nt)return;qe.status="rejected",qe.error=ot??at}})}).addMatcher(G,(Je,Ze)=>{const{queries:rt}=U(Ze);for(const[nt,at]of Object.entries(rt))(at?.status==="fulfilled"||at?.status==="rejected")&&(Je[nt]=at)})}}),fe=createSlice({name:`${R}/mutations`,initialState,reducers:{removeMutationResult:{reducer(Ke,{payload:Je}){const Ze=getMutationCacheKey(Je);Ze in Ke&&delete Ke[Ze]},prepare:prepareAutoBatched()}},extraReducers(Ke){Ke.addCase(T.pending,(Je,{meta:Ze,meta:{requestId:rt,arg:nt,startedTimeStamp:at}})=>{nt.track&&(Je[getMutationCacheKey(Ze)]={requestId:rt,status:"pending",endpointName:nt.endpointName,startedTimeStamp:at})}).addCase(T.fulfilled,(Je,{payload:Ze,meta:rt})=>{rt.arg.track&&updateMutationSubstateIfExists(Je,rt,nt=>{nt.requestId===rt.requestId&&(nt.status="fulfilled",nt.data=Ze,nt.fulfilledTimeStamp=rt.fulfilledTimeStamp)})}).addCase(T.rejected,(Je,{payload:Ze,error:rt,meta:nt})=>{nt.arg.track&&updateMutationSubstateIfExists(Je,nt,at=>{at.requestId===nt.requestId&&(at.status="rejected",at.error=Ze??rt)})}).addMatcher(G,(Je,Ze)=>{const{mutations:rt}=U(Ze);for(const[nt,at]of Object.entries(rt))(at?.status==="fulfilled"||at?.status==="rejected")&&nt!==at?.requestId&&(Je[nt]=at)})}}),xe={tags:{},keys:{}},ye=createSlice({name:`${R}/invalidation`,initialState:xe,reducers:{updateProvidedBy:{reducer(Ke,Je){for(const{queryCacheKey:Ze,providedTags:rt}of Je.payload){_e(Ke,Ze);for(const{type:nt,id:at}of rt){const ot=(Ke.tags[nt]??={})[at||"__internal_without_id"]??=[];ot.includes(Ze)||ot.push(Ze)}Ke.keys[Ze]=rt}},prepare:prepareAutoBatched()}},extraReducers(Ke){Ke.addCase(pe.actions.removeQueryResult,(Je,{payload:{queryCacheKey:Ze}})=>{_e(Je,Ze)}).addMatcher(G,(Je,Ze)=>{const{provided:rt}=U(Ze);for(const[nt,at]of Object.entries(rt.tags??{}))for(const[ot,qe]of Object.entries(at)){const Xe=(Je.tags[nt]??={})[ot||"__internal_without_id"]??=[];for(const Ge of qe)Xe.includes(Ge)||Xe.push(Ge),Je.keys[Ge]=rt.keys[Ge]}}).addMatcher(isAnyOf(isFulfilled(y),isRejectedWithValue(y)),(Je,Ze)=>{Le(Je,[Ze])}).addMatcher(pe.actions.cacheEntriesUpserted.match,(Je,Ze)=>{const rt=Ze.payload.map(({queryDescription:nt,value:at})=>({type:"UNKNOWN",payload:at,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:nt}}));Le(Je,rt)})}});function _e(Ke,Je){const Ze=Ke.keys[Je]??[];for(const rt of Ze){const nt=rt.type,at=rt.id??"__internal_without_id",ot=Ke.tags[nt]?.[at];ot&&(Ke.tags[nt][at]=ot.filter(qe=>qe!==Je))}delete Ke.keys[Je]}function Le(Ke,Je){const Ze=Je.map(rt=>{const nt=calculateProvidedByThunk(rt,"providesTags",O,J),{queryCacheKey:at}=rt.meta.arg;return{queryCacheKey:at,providedTags:nt}});ye.caseReducers.updateProvidedBy(Ke,ye.actions.updateProvidedBy(Ze))}const je=createSlice({name:`${R}/subscriptions`,initialState,reducers:{updateSubscriptionOptions(Ke,Je){},unsubscribeQueryResult(Ke,Je){},internal_getRTKQSubscriptions(){}}}),Ne=createSlice({name:`${R}/internalSubscriptions`,initialState,reducers:{subscriptionsUpdated:{reducer(Ke,Je){return applyPatches(Ke,Je.payload)},prepare:prepareAutoBatched()}}}),$e=createSlice({name:`${R}/config`,initialState:{online:isOnline(),focused:isDocumentVisible(),middlewareRegistered:!1,...ee},reducers:{middlewareRegistered(Ke,{payload:Je}){Ke.middlewareRegistered=Ke.middlewareRegistered==="conflict"||z!==Je?"conflict":!0}},extraReducers:Ke=>{Ke.addCase(onOnline,Je=>{Je.online=!0}).addCase(onOffline,Je=>{Je.online=!1}).addCase(onFocus,Je=>{Je.focused=!0}).addCase(onFocusLost,Je=>{Je.focused=!1}).addMatcher(G,Je=>({...Je}))}}),Ue=combineReducers({queries:pe.reducer,mutations:fe.reducer,provided:ye.reducer,subscriptions:Ne.reducer,config:$e.reducer}),He=(Ke,Je)=>Ue(te.match(Je)?void 0:Ke,Je),ze={...$e.actions,...pe.actions,...je.actions,...Ne.actions,...fe.actions,...ye.actions,resetApiState:te};return{reducer:He,actions:ze}}var skipToken=Symbol.for("RTKQ/skipToken"),initialSubState={status:"uninitialized"},defaultQuerySubState=produce(initialSubState,()=>{}),defaultMutationSubState=produce(initialSubState,()=>{});function buildSelectors({serializeQueryArgs:R,reducerPath:y,createSelector:T}){const A=je=>defaultQuerySubState,O=je=>defaultMutationSubState;return{buildQuerySelector:oe,buildInfiniteQuerySelector:pe,buildMutationSelector:fe,selectInvalidatedBy:xe,selectCachedArgsForQuery:ye,selectApiState:U,selectQueries:G,selectMutations:ee,selectQueryEntry:J,selectConfig:te};function z(je){return{...je,...getRequestStatusFlags(je.status)}}function U(je){return je[y]}function G(je){return U(je)?.queries}function J(je,Ne){return G(je)?.[Ne]}function ee(je){return U(je)?.mutations}function te(je){return U(je)?.config}function ae(je,Ne,$e){return Ue=>{if(Ue===skipToken)return T(A,$e);const He=R({queryArgs:Ue,endpointDefinition:Ne,endpointName:je});return T(Ke=>J(Ke,He)??defaultQuerySubState,$e)}}function oe(je,Ne){return ae(je,Ne,z)}function pe(je,Ne){const{infiniteQueryOptions:$e}=Ne;function Ue(He){const ze={...He,...getRequestStatusFlags(He.status)},{isLoading:Ke,isError:Je,direction:Ze}=ze,rt=Ze==="forward",nt=Ze==="backward";return{...ze,hasNextPage:_e($e,ze.data,ze.originalArgs),hasPreviousPage:Le($e,ze.data,ze.originalArgs),isFetchingNextPage:Ke&&rt,isFetchingPreviousPage:Ke&&nt,isFetchNextPageError:Je&&rt,isFetchPreviousPageError:Je&&nt}}return ae(je,Ne,Ue)}function fe(){return je=>{let Ne;return typeof je=="object"?Ne=getMutationCacheKey(je)??skipToken:Ne=je,T(Ne===skipToken?O:He=>U(He)?.mutations?.[Ne]??defaultMutationSubState,z)}}function xe(je,Ne){const $e=je[y],Ue=new Set;for(const He of Ne.filter(isNotNullish).map(expandTagDescription)){const ze=$e.provided.tags[He.type];if(!ze)continue;let Ke=(He.id!==void 0?ze[He.id]:flatten(Object.values(ze)))??[];for(const Je of Ke)Ue.add(Je)}return flatten(Array.from(Ue.values()).map(He=>{const ze=$e.queries[He];return ze?[{queryCacheKey:He,endpointName:ze.endpointName,originalArgs:ze.originalArgs}]:[]}))}function ye(je,Ne){return Object.values(G(je)).filter($e=>$e?.endpointName===Ne&&$e.status!=="uninitialized").map($e=>$e.originalArgs)}function _e(je,Ne,$e){return Ne?getNextPageParam(je,Ne,$e)!=null:!1}function Le(je,Ne,$e){return!Ne||!je.getPreviousPageParam?!1:getPreviousPageParam(je,Ne,$e)!=null}}var cache=WeakMap?new WeakMap:void 0,defaultSerializeQueryArgs=({endpointName:R,queryArgs:y})=>{let T="";const A=cache?.get(y);if(typeof A=="string")T=A;else{const O=JSON.stringify(y,(z,U)=>(U=typeof U=="bigint"?{$bigint:U.toString()}:U,U=isPlainObject$2(U)?Object.keys(U).sort().reduce((G,J)=>(G[J]=U[J],G),{}):U,U));isPlainObject$2(y)&&cache?.set(y,O),T=O}return`${R}(${T})`};function buildCreateApi(...R){return function(T){const A=weakMapMemoize(ee=>T.extractRehydrationInfo?.(ee,{reducerPath:T.reducerPath??"api"})),O={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...T,extractRehydrationInfo:A,serializeQueryArgs(ee){let te=defaultSerializeQueryArgs;if("serializeQueryArgs"in ee.endpointDefinition){const ae=ee.endpointDefinition.serializeQueryArgs;te=oe=>{const pe=ae(oe);return typeof pe=="string"?pe:defaultSerializeQueryArgs({...oe,queryArgs:pe})}}else T.serializeQueryArgs&&(te=T.serializeQueryArgs);return te(ee)},tagTypes:[...T.tagTypes||[]]},z={endpointDefinitions:{},batch(ee){ee()},apiUid:nanoid(),extractRehydrationInfo:A,hasRehydrationInfo:weakMapMemoize(ee=>A(ee)!=null)},U={injectEndpoints:J,enhanceEndpoints({addTagTypes:ee,endpoints:te}){if(ee)for(const ae of ee)O.tagTypes.includes(ae)||O.tagTypes.push(ae);if(te)for(const[ae,oe]of Object.entries(te))typeof oe=="function"?oe(z.endpointDefinitions[ae]):Object.assign(z.endpointDefinitions[ae]||{},oe);return U}},G=R.map(ee=>ee.init(U,O,z));function J(ee){const te=ee.endpoints({query:ae=>({...ae,type:"query"}),mutation:ae=>({...ae,type:"mutation"}),infiniteQuery:ae=>({...ae,type:"infinitequery"})});for(const[ae,oe]of Object.entries(te)){if(ee.overrideExisting!==!0&&ae in z.endpointDefinitions){if(ee.overrideExisting==="throw")throw new Error(formatProdErrorMessage(39));continue}z.endpointDefinitions[ae]=oe;for(const pe of G)pe.injectEndpoint(ae,oe)}return U}return U.injectEndpoints({endpoints:T.endpoints})}}function safeAssign$1(R,...y){return Object.assign(R,...y)}var buildBatchedActionsHandler=({api:R,queryThunk:y,internalState:T,mwApi:A})=>{const O=`${R.reducerPath}/subscriptions`;let z=null,U=null;const{updateSubscriptionOptions:G,unsubscribeQueryResult:J}=R.internalActions,ee=(xe,ye)=>{if(G.match(ye)){const{queryCacheKey:Le,requestId:je,options:Ne}=ye.payload,$e=xe.get(Le);return $e?.has(je)&&$e.set(je,Ne),!0}if(J.match(ye)){const{queryCacheKey:Le,requestId:je}=ye.payload,Ne=xe.get(Le);return Ne&&Ne.delete(je),!0}if(R.internalActions.removeQueryResult.match(ye))return xe.delete(ye.payload.queryCacheKey),!0;if(y.pending.match(ye)){const{meta:{arg:Le,requestId:je}}=ye,Ne=getOrInsertComputed(xe,Le.queryCacheKey,createNewMap);return Le.subscribe&&Ne.set(je,Le.subscriptionOptions??Ne.get(je)??{}),!0}let _e=!1;if(y.rejected.match(ye)){const{meta:{condition:Le,arg:je,requestId:Ne}}=ye;if(Le&&je.subscribe){const $e=getOrInsertComputed(xe,je.queryCacheKey,createNewMap);$e.set(Ne,je.subscriptionOptions??$e.get(Ne)??{}),_e=!0}}return _e},te=()=>T.currentSubscriptions,pe={getSubscriptions:te,getSubscriptionCount:xe=>te().get(xe)?.size??0,isRequestSubscribed:(xe,ye)=>!!te()?.get(xe)?.get(ye)};function fe(xe){return JSON.parse(JSON.stringify(Object.fromEntries([...xe].map(([ye,_e])=>[ye,Object.fromEntries(_e)]))))}return(xe,ye)=>{if(z||(z=fe(T.currentSubscriptions)),R.util.resetApiState.match(xe))return z={},T.currentSubscriptions.clear(),U=null,[!0,!1];if(R.internalActions.internal_getRTKQSubscriptions.match(xe))return[!1,pe];const _e=ee(T.currentSubscriptions,xe);let Le=!0;if(_e){U||(U=setTimeout(()=>{const $e=fe(T.currentSubscriptions),[,Ue]=produceWithPatches(z,()=>$e);ye.next(R.internalActions.subscriptionsUpdated(Ue)),z=$e,U=null},500));const je=typeof xe.type=="string"&&!!xe.type.startsWith(O),Ne=y.rejected.match(xe)&&xe.meta.condition&&!!xe.meta.arg.subscribe;Le=!je&&!Ne}return[Le,!1]}},THIRTY_TWO_BIT_MAX_TIMER_SECONDS=2147483647/1e3-1,buildCacheCollectionHandler=({reducerPath:R,api:y,queryThunk:T,context:A,internalState:O,selectors:{selectQueryEntry:z,selectConfig:U},getRunningQueryThunk:G,mwApi:J})=>{const{removeQueryResult:ee,unsubscribeQueryResult:te,cacheEntriesUpserted:ae}=y.internalActions,oe=isAnyOf(te.match,T.fulfilled,T.rejected,ae.match);function pe(je){const Ne=O.currentSubscriptions.get(je);return Ne?Ne.size>0:!1}const fe={};function xe(je){for(const Ne of je.values())Ne?.abort?.()}const ye=(je,Ne)=>{const $e=Ne.getState(),Ue=U($e);if(oe(je)){let He;if(ae.match(je))He=je.payload.map(ze=>ze.queryDescription.queryCacheKey);else{const{queryCacheKey:ze}=te.match(je)?je.payload:je.meta.arg;He=[ze]}_e(He,Ne,Ue)}if(y.util.resetApiState.match(je)){for(const[He,ze]of Object.entries(fe))ze&&clearTimeout(ze),delete fe[He];xe(O.runningQueries),xe(O.runningMutations)}if(A.hasRehydrationInfo(je)){const{queries:He}=A.extractRehydrationInfo(je);_e(Object.keys(He),Ne,Ue)}};function _e(je,Ne,$e){const Ue=Ne.getState();for(const He of je){const ze=z(Ue,He);ze?.endpointName&&Le(He,ze.endpointName,Ne,$e)}}function Le(je,Ne,$e,Ue){const ze=A.endpointDefinitions[Ne]?.keepUnusedDataFor??Ue.keepUnusedDataFor;if(ze===1/0)return;const Ke=Math.max(0,Math.min(ze,THIRTY_TWO_BIT_MAX_TIMER_SECONDS));if(!pe(je)){const Je=fe[je];Je&&clearTimeout(Je),fe[je]=setTimeout(()=>{if(!pe(je)){const Ze=z($e.getState(),je);Ze?.endpointName&&$e.dispatch(G(Ze.endpointName,Ze.originalArgs))?.abort(),$e.dispatch(ee({queryCacheKey:je}))}delete fe[je]},Ke*1e3)}}return ye},neverResolvedError=new Error("Promise never resolved before cacheEntryRemoved."),buildCacheLifecycleHandler=({api:R,reducerPath:y,context:T,queryThunk:A,mutationThunk:O,internalState:z,selectors:{selectQueryEntry:U,selectApiState:G}})=>{const J=isAsyncThunkAction(A),ee=isAsyncThunkAction(O),te=isFulfilled(A,O),ae={};function oe(_e,Le,je){const Ne=ae[_e];Ne?.valueResolved&&(Ne.valueResolved({data:Le,meta:je}),delete Ne.valueResolved)}function pe(_e){const Le=ae[_e];Le&&(delete ae[_e],Le.cacheEntryRemoved())}const fe=(_e,Le,je)=>{const Ne=xe(_e);function $e(Ue,He,ze,Ke){const Je=U(je,He),Ze=U(Le.getState(),He);!Je&&Ze&&ye(Ue,Ke,He,Le,ze)}if(A.pending.match(_e))$e(_e.meta.arg.endpointName,Ne,_e.meta.requestId,_e.meta.arg.originalArgs);else if(R.internalActions.cacheEntriesUpserted.match(_e))for(const{queryDescription:Ue,value:He}of _e.payload){const{endpointName:ze,originalArgs:Ke,queryCacheKey:Je}=Ue;$e(ze,Je,_e.meta.requestId,Ke),oe(Je,He,{})}else if(O.pending.match(_e))Le.getState()[y].mutations[Ne]&&ye(_e.meta.arg.endpointName,_e.meta.arg.originalArgs,Ne,Le,_e.meta.requestId);else if(te(_e))oe(Ne,_e.payload,_e.meta.baseQueryMeta);else if(R.internalActions.removeQueryResult.match(_e)||R.internalActions.removeMutationResult.match(_e))pe(Ne);else if(R.util.resetApiState.match(_e))for(const Ue of Object.keys(ae))pe(Ue)};function xe(_e){return J(_e)?_e.meta.arg.queryCacheKey:ee(_e)?_e.meta.arg.fixedCacheKey??_e.meta.requestId:R.internalActions.removeQueryResult.match(_e)?_e.payload.queryCacheKey:R.internalActions.removeMutationResult.match(_e)?getMutationCacheKey(_e.payload):""}function ye(_e,Le,je,Ne,$e){const Ue=T.endpointDefinitions[_e],He=Ue?.onCacheEntryAdded;if(!He)return;const ze={},Ke=new Promise(ot=>{ze.cacheEntryRemoved=ot}),Je=Promise.race([new Promise(ot=>{ze.valueResolved=ot}),Ke.then(()=>{throw neverResolvedError})]);Je.catch(()=>{}),ae[je]=ze;const Ze=R.endpoints[_e].select(isAnyQueryDefinition(Ue)?Le:je),rt=Ne.dispatch((ot,qe,Xe)=>Xe),nt={...Ne,getCacheEntry:()=>Ze(Ne.getState()),requestId:$e,extra:rt,updateCachedData:isAnyQueryDefinition(Ue)?ot=>Ne.dispatch(R.util.updateQueryData(_e,Le,ot)):void 0,cacheDataLoaded:Je,cacheEntryRemoved:Ke},at=He(Le,nt);Promise.resolve(at).catch(ot=>{if(ot!==neverResolvedError)throw ot})}return fe},buildDevCheckHandler=({api:R,context:{apiUid:y},reducerPath:T})=>(A,O)=>{R.util.resetApiState.match(A)&&O.dispatch(R.internalActions.middlewareRegistered(y))},buildInvalidationByTagsHandler=({reducerPath:R,context:y,context:{endpointDefinitions:T},mutationThunk:A,queryThunk:O,api:z,assertTagType:U,refetchQuery:G,internalState:J})=>{const{removeQueryResult:ee}=z.internalActions,te=isAnyOf(isFulfilled(A),isRejectedWithValue(A)),ae=isAnyOf(isFulfilled(A,O),isRejected(A,O));let oe=[];const pe=(ye,_e)=>{te(ye)?xe(calculateProvidedByThunk(ye,"invalidatesTags",T,U),_e):ae(ye)?xe([],_e):z.util.invalidateTags.match(ye)&&xe(calculateProvidedBy(ye.payload,void 0,void 0,void 0,void 0,U),_e)};function fe(ye){const{queries:_e,mutations:Le}=ye;for(const je of[_e,Le])for(const Ne in je)if(je[Ne]?.status==="pending")return!0;return!1}function xe(ye,_e){const Le=_e.getState(),je=Le[R];if(oe.push(...ye),je.config.invalidationBehavior==="delayed"&&fe(je))return;const Ne=oe;if(oe=[],Ne.length===0)return;const $e=z.util.selectInvalidatedBy(Le,Ne);y.batch(()=>{const Ue=Array.from($e.values());for(const{queryCacheKey:He}of Ue){const ze=je.queries[He],Ke=getOrInsertComputed(J.currentSubscriptions,He,createNewMap);ze&&(Ke.size===0?_e.dispatch(ee({queryCacheKey:He})):ze.status!=="uninitialized"&&_e.dispatch(G(ze)))}})}return pe},buildPollingHandler=({reducerPath:R,queryThunk:y,api:T,refetchQuery:A,internalState:O})=>{const{currentPolls:z,currentSubscriptions:U}=O,G=new Set;let J=null;const ee=(ye,_e)=>{(T.internalActions.updateSubscriptionOptions.match(ye)||T.internalActions.unsubscribeQueryResult.match(ye))&&te(ye.payload.queryCacheKey,_e),(y.pending.match(ye)||y.rejected.match(ye)&&ye.meta.condition)&&te(ye.meta.arg.queryCacheKey,_e),(y.fulfilled.match(ye)||y.rejected.match(ye)&&!ye.meta.condition)&&ae(ye.meta.arg,_e),T.util.resetApiState.match(ye)&&(fe(),J&&(clearTimeout(J),J=null),G.clear())};function te(ye,_e){G.add(ye),J||(J=setTimeout(()=>{for(const Le of G)oe({queryCacheKey:Le},_e);G.clear(),J=null},0))}function ae({queryCacheKey:ye},_e){const Le=_e.getState()[R],je=Le.queries[ye],Ne=U.get(ye);if(!je||je.status==="uninitialized")return;const{lowestPollingInterval:$e,skipPollingIfUnfocused:Ue}=xe(Ne);if(!Number.isFinite($e))return;const He=z.get(ye);He?.timeout&&(clearTimeout(He.timeout),He.timeout=void 0);const ze=Date.now()+$e;z.set(ye,{nextPollTimestamp:ze,pollingInterval:$e,timeout:setTimeout(()=>{(Le.config.focused||!Ue)&&_e.dispatch(A(je)),ae({queryCacheKey:ye},_e)},$e)})}function oe({queryCacheKey:ye},_e){const je=_e.getState()[R].queries[ye],Ne=U.get(ye);if(!je||je.status==="uninitialized")return;const{lowestPollingInterval:$e}=xe(Ne);if(!Number.isFinite($e)){pe(ye);return}const Ue=z.get(ye),He=Date.now()+$e;(!Ue||He<Ue.nextPollTimestamp)&&ae({queryCacheKey:ye},_e)}function pe(ye){const _e=z.get(ye);_e?.timeout&&clearTimeout(_e.timeout),z.delete(ye)}function fe(){for(const ye of z.keys())pe(ye)}function xe(ye=new Map){let _e=!1,Le=Number.POSITIVE_INFINITY;for(const je of ye.values())je.pollingInterval&&(Le=Math.min(je.pollingInterval,Le),_e=je.skipPollingIfUnfocused||_e);return{lowestPollingInterval:Le,skipPollingIfUnfocused:_e}}return ee},buildQueryLifecycleHandler=({api:R,context:y,queryThunk:T,mutationThunk:A})=>{const O=isPending(T,A),z=isRejected(T,A),U=isFulfilled(T,A),G={};return(ee,te)=>{if(O(ee)){const{requestId:ae,arg:{endpointName:oe,originalArgs:pe}}=ee.meta,fe=y.endpointDefinitions[oe],xe=fe?.onQueryStarted;if(xe){const ye={},_e=new Promise(($e,Ue)=>{ye.resolve=$e,ye.reject=Ue});_e.catch(()=>{}),G[ae]=ye;const Le=R.endpoints[oe].select(isAnyQueryDefinition(fe)?pe:ae),je=te.dispatch(($e,Ue,He)=>He),Ne={...te,getCacheEntry:()=>Le(te.getState()),requestId:ae,extra:je,updateCachedData:isAnyQueryDefinition(fe)?$e=>te.dispatch(R.util.updateQueryData(oe,pe,$e)):void 0,queryFulfilled:_e};xe(pe,Ne)}}else if(U(ee)){const{requestId:ae,baseQueryMeta:oe}=ee.meta;G[ae]?.resolve({data:ee.payload,meta:oe}),delete G[ae]}else if(z(ee)){const{requestId:ae,rejectedWithValue:oe,baseQueryMeta:pe}=ee.meta;G[ae]?.reject({error:ee.payload??ee.error,isUnhandledError:!oe,meta:pe}),delete G[ae]}}},buildWindowEventHandler=({reducerPath:R,context:y,api:T,refetchQuery:A,internalState:O})=>{const{removeQueryResult:z}=T.internalActions,U=(J,ee)=>{onFocus.match(J)&&G(ee,"refetchOnFocus"),onOnline.match(J)&&G(ee,"refetchOnReconnect")};function G(J,ee){const te=J.getState()[R],ae=te.queries,oe=O.currentSubscriptions;y.batch(()=>{for(const pe of oe.keys()){const fe=ae[pe],xe=oe.get(pe);if(!xe||!fe)continue;const ye=[...xe.values()];(ye.some(Le=>Le[ee]===!0)||ye.every(Le=>Le[ee]===void 0)&&te.config[ee])&&(xe.size===0?J.dispatch(z({queryCacheKey:pe})):fe.status!=="uninitialized"&&J.dispatch(A(fe)))}})}return U};function buildMiddleware(R){const{reducerPath:y,queryThunk:T,api:A,context:O,getInternalState:z}=R,{apiUid:U}=O,G={invalidateTags:createAction(`${y}/invalidateTags`)},J=oe=>oe.type.startsWith(`${y}/`),ee=[buildDevCheckHandler,buildCacheCollectionHandler,buildInvalidationByTagsHandler,buildPollingHandler,buildCacheLifecycleHandler,buildQueryLifecycleHandler];return{middleware:oe=>{let pe=!1;const fe=z(oe.dispatch),xe={...R,internalState:fe,refetchQuery:ae,isThisApiSliceAction:J,mwApi:oe},ye=ee.map(je=>je(xe)),_e=buildBatchedActionsHandler(xe),Le=buildWindowEventHandler(xe);return je=>Ne=>{if(!isAction(Ne))return je(Ne);pe||(pe=!0,oe.dispatch(A.internalActions.middlewareRegistered(U)));const $e={...oe,next:je},Ue=oe.getState(),[He,ze]=_e(Ne,$e,Ue);let Ke;if(He?Ke=je(Ne):Ke=ze,oe.getState()[y]&&(Le(Ne,$e,Ue),J(Ne)||O.hasRehydrationInfo(Ne)))for(const Je of ye)Je(Ne,$e,Ue);return Ke}},actions:G};function ae(oe){return R.api.endpoints[oe.endpointName].initiate(oe.originalArgs,{subscribe:!1,forceRefetch:!0})}}var coreModuleName=Symbol(),coreModule=({createSelector:R=createSelector}={})=>({name:coreModuleName,init(y,{baseQuery:T,tagTypes:A,reducerPath:O,serializeQueryArgs:z,keepUnusedDataFor:U,refetchOnMountOrArgChange:G,refetchOnFocus:J,refetchOnReconnect:ee,invalidationBehavior:te,onSchemaFailure:ae,catchSchemaFailure:oe,skipSchemaValidation:pe},fe){enablePatches();const xe=jt=>jt;Object.assign(y,{reducerPath:O,endpoints:{},internalActions:{onOnline,onOffline,onFocus,onFocusLost},util:{}});const ye=buildSelectors({serializeQueryArgs:z,reducerPath:O,createSelector:R}),{selectInvalidatedBy:_e,selectCachedArgsForQuery:Le,buildQuerySelector:je,buildInfiniteQuerySelector:Ne,buildMutationSelector:$e}=ye;safeAssign$1(y.util,{selectInvalidatedBy:_e,selectCachedArgsForQuery:Le});const{queryThunk:Ue,infiniteQueryThunk:He,mutationThunk:ze,patchQueryData:Ke,updateQueryData:Je,upsertQueryData:Ze,prefetch:rt,buildMatchThunkActions:nt}=buildThunks({baseQuery:T,reducerPath:O,context:fe,api:y,serializeQueryArgs:z,assertTagType:xe,selectors:ye,onSchemaFailure:ae,catchSchemaFailure:oe,skipSchemaValidation:pe}),{reducer:at,actions:ot}=buildSlice({context:fe,queryThunk:Ue,mutationThunk:ze,serializeQueryArgs:z,reducerPath:O,assertTagType:xe,config:{refetchOnFocus:J,refetchOnReconnect:ee,refetchOnMountOrArgChange:G,keepUnusedDataFor:U,reducerPath:O,invalidationBehavior:te}});safeAssign$1(y.util,{patchQueryData:Ke,updateQueryData:Je,upsertQueryData:Ze,prefetch:rt,resetApiState:ot.resetApiState,upsertQueryEntries:ot.cacheEntriesUpserted}),safeAssign$1(y.internalActions,ot);const qe=new WeakMap,Xe=jt=>getOrInsertComputed(qe,jt,()=>({currentSubscriptions:new Map,currentPolls:new Map,runningQueries:new Map,runningMutations:new Map})),{buildInitiateQuery:Ge,buildInitiateInfiniteQuery:Qe,buildInitiateMutation:it,getRunningMutationThunk:Ye,getRunningMutationsThunk:st,getRunningQueriesThunk:ut,getRunningQueryThunk:pt}=buildInitiate({queryThunk:Ue,mutationThunk:ze,infiniteQueryThunk:He,api:y,serializeQueryArgs:z,context:fe,getInternalState:Xe});safeAssign$1(y.util,{getRunningMutationThunk:Ye,getRunningMutationsThunk:st,getRunningQueryThunk:pt,getRunningQueriesThunk:ut});const{middleware:yt,actions:Et}=buildMiddleware({reducerPath:O,context:fe,queryThunk:Ue,mutationThunk:ze,infiniteQueryThunk:He,api:y,assertTagType:xe,selectors:ye,getRunningQueryThunk:pt,getInternalState:Xe});return safeAssign$1(y.util,Et),safeAssign$1(y,{reducer:at,middleware:yt}),{name:coreModuleName,injectEndpoint(jt,St){const Ct=y,_t=Ct.endpoints[jt]??={};isQueryDefinition$1(St)&&safeAssign$1(_t,{name:jt,select:je(jt,St),initiate:Ge(jt,St)},nt(Ue,jt)),isMutationDefinition$1(St)&&safeAssign$1(_t,{name:jt,select:$e(),initiate:it(jt)},nt(ze,jt)),isInfiniteQueryDefinition$1(St)&&safeAssign$1(_t,{name:jt,select:Ne(jt,St),initiate:Qe(jt,St)},nt(Ue,jt))}}}});coreModule();function capitalize(R){return R.replace(R[0],R[0].toUpperCase())}function isQueryDefinition(R){return R.type==="query"}function isMutationDefinition(R){return R.type==="mutation"}function isInfiniteQueryDefinition(R){return R.type==="infinitequery"}function safeAssign(R,...y){return Object.assign(R,...y)}var UNINITIALIZED_VALUE=Symbol();function useStableQueryArgs(R){const y=reactExports.useRef(R),T=reactExports.useMemo(()=>copyWithStructuralSharing(y.current,R),[R]);return reactExports.useEffect(()=>{y.current!==T&&(y.current=T)},[T]),T}function useShallowStableValue(R){const y=reactExports.useRef(R);return reactExports.useEffect(()=>{shallowEqual(y.current,R)||(y.current=R)},[R]),shallowEqual(y.current,R)?y.current:R}var canUseDOM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect$3=getUseIsomorphicLayoutEffect(),noPendingQueryStateSelector=R=>R.isUninitialized?{...R,isUninitialized:!1,isFetching:!0,isLoading:R.data===void 0,status:QueryStatus.pending}:R;function pick(R,...y){const T={};return y.forEach(A=>{T[A]=R[A]}),T}var COMMON_HOOK_DEBUG_FIELDS=["data","status","isLoading","isSuccess","isError","error"];function buildHooks({api:R,moduleOptions:{batch:y,hooks:{useDispatch:T,useSelector:A,useStore:O},unstable__sideEffectsInRender:z,createSelector:U},serializeQueryArgs:G,context:J}){const ee=z?Ne=>Ne():reactExports.useEffect;return{buildQueryHooks:_e,buildInfiniteQueryHooks:Le,buildMutationHook:je,usePrefetch:oe};function te(Ne,$e,Ue){if($e?.endpointName&&Ne.isUninitialized){const{endpointName:rt}=$e,nt=J.endpointDefinitions[rt];Ue!==skipToken&&G({queryArgs:$e.originalArgs,endpointDefinition:nt,endpointName:rt})===G({queryArgs:Ue,endpointDefinition:nt,endpointName:rt})&&($e=void 0)}let He=Ne.isSuccess?Ne.data:$e?.data;He===void 0&&(He=Ne.data);const ze=He!==void 0,Ke=Ne.isLoading,Je=(!$e||$e.isLoading||$e.isUninitialized)&&!ze&&Ke,Ze=Ne.isSuccess||ze&&(Ke&&!$e?.isError||Ne.isUninitialized);return{...Ne,data:He,currentData:Ne.data,isFetching:Ke,isLoading:Je,isSuccess:Ze}}function ae(Ne,$e,Ue){if($e?.endpointName&&Ne.isUninitialized){const{endpointName:rt}=$e,nt=J.endpointDefinitions[rt];Ue!==skipToken&&G({queryArgs:$e.originalArgs,endpointDefinition:nt,endpointName:rt})===G({queryArgs:Ue,endpointDefinition:nt,endpointName:rt})&&($e=void 0)}let He=Ne.isSuccess?Ne.data:$e?.data;He===void 0&&(He=Ne.data);const ze=He!==void 0,Ke=Ne.isLoading,Je=(!$e||$e.isLoading||$e.isUninitialized)&&!ze&&Ke,Ze=Ne.isSuccess||Ke&&ze;return{...Ne,data:He,currentData:Ne.data,isFetching:Ke,isLoading:Je,isSuccess:Ze}}function oe(Ne,$e){const Ue=T(),He=useShallowStableValue($e);return reactExports.useCallback((ze,Ke)=>Ue(R.util.prefetch(Ne,ze,{...He,...Ke})),[Ne,Ue,He])}function pe(Ne,$e,{refetchOnReconnect:Ue,refetchOnFocus:He,refetchOnMountOrArgChange:ze,skip:Ke=!1,pollingInterval:Je=0,skipPollingIfUnfocused:Ze=!1,...rt}={}){const{initiate:nt}=R.endpoints[Ne],at=T(),ot=reactExports.useRef(void 0);if(!ot.current){const yt=at(R.internalActions.internal_getRTKQSubscriptions());ot.current=yt}const qe=useStableQueryArgs(Ke?skipToken:$e),Xe=useShallowStableValue({refetchOnReconnect:Ue,refetchOnFocus:He,pollingInterval:Je,skipPollingIfUnfocused:Ze}),Ge=rt.initialPageParam,Qe=useShallowStableValue(Ge),it=reactExports.useRef(void 0);let{queryCacheKey:Ye,requestId:st}=it.current||{},ut=!1;Ye&&st&&(ut=ot.current.isRequestSubscribed(Ye,st));const pt=!ut&&it.current!==void 0;return ee(()=>{pt&&(it.current=void 0)},[pt]),ee(()=>{const yt=it.current;if(qe===skipToken){yt?.unsubscribe(),it.current=void 0;return}const Et=it.current?.subscriptionOptions;if(!yt||yt.arg!==qe){yt?.unsubscribe();const jt=at(nt(qe,{subscriptionOptions:Xe,forceRefetch:ze,...isInfiniteQueryDefinition(J.endpointDefinitions[Ne])?{initialPageParam:Qe}:{}}));it.current=jt}else Xe!==Et&&yt.updateSubscriptionOptions(Xe)},[at,nt,ze,qe,Xe,pt,Qe,Ne]),[it,at,nt,Xe]}function fe(Ne,$e){return(He,{skip:ze=!1,selectFromResult:Ke}={})=>{const{select:Je}=R.endpoints[Ne],Ze=useStableQueryArgs(ze?skipToken:He),rt=reactExports.useRef(void 0),nt=reactExports.useMemo(()=>U([Je(Ze),(Ge,Qe)=>Qe,Ge=>Ze],$e,{memoizeOptions:{resultEqualityCheck:shallowEqual}}),[Je,Ze]),at=reactExports.useMemo(()=>Ke?U([nt],Ke,{devModeChecks:{identityFunctionCheck:"never"}}):nt,[nt,Ke]),ot=A(Ge=>at(Ge,rt.current),shallowEqual),qe=O(),Xe=nt(qe.getState(),rt.current);return useIsomorphicLayoutEffect$3(()=>{rt.current=Xe},[Xe]),ot}}function xe(Ne){reactExports.useEffect(()=>()=>{Ne.current?.unsubscribe?.(),Ne.current=void 0},[Ne])}function ye(Ne){if(!Ne.current)throw new Error(formatProdErrorMessage(38));return Ne.current.refetch()}function _e(Ne){const $e=(ze,Ke={})=>{const[Je]=pe(Ne,ze,Ke);return xe(Je),reactExports.useMemo(()=>({refetch:()=>ye(Je)}),[Je])},Ue=({refetchOnReconnect:ze,refetchOnFocus:Ke,pollingInterval:Je=0,skipPollingIfUnfocused:Ze=!1}={})=>{const{initiate:rt}=R.endpoints[Ne],nt=T(),[at,ot]=reactExports.useState(UNINITIALIZED_VALUE),qe=reactExports.useRef(void 0),Xe=useShallowStableValue({refetchOnReconnect:ze,refetchOnFocus:Ke,pollingInterval:Je,skipPollingIfUnfocused:Ze});ee(()=>{const Ye=qe.current?.subscriptionOptions;Xe!==Ye&&qe.current?.updateSubscriptionOptions(Xe)},[Xe]);const Ge=reactExports.useRef(Xe);ee(()=>{Ge.current=Xe},[Xe]);const Qe=reactExports.useCallback(function(Ye,st=!1){let ut;return y(()=>{qe.current?.unsubscribe(),qe.current=ut=nt(rt(Ye,{subscriptionOptions:Ge.current,forceRefetch:!st})),ot(Ye)}),ut},[nt,rt]),it=reactExports.useCallback(()=>{qe.current?.queryCacheKey&&nt(R.internalActions.removeQueryResult({queryCacheKey:qe.current?.queryCacheKey}))},[nt]);return reactExports.useEffect(()=>()=>{qe?.current?.unsubscribe()},[]),reactExports.useEffect(()=>{at!==UNINITIALIZED_VALUE&&!qe.current&&Qe(at,!0)},[at,Qe]),reactExports.useMemo(()=>[Qe,at,{reset:it}],[Qe,at,it])},He=fe(Ne,te);return{useQueryState:He,useQuerySubscription:$e,useLazyQuerySubscription:Ue,useLazyQuery(ze){const[Ke,Je,{reset:Ze}]=Ue(ze),rt=He(Je,{...ze,skip:Je===UNINITIALIZED_VALUE}),nt=reactExports.useMemo(()=>({lastArg:Je}),[Je]);return reactExports.useMemo(()=>[Ke,{...rt,reset:Ze},nt],[Ke,rt,Ze,nt])},useQuery(ze,Ke){const Je=$e(ze,Ke),Ze=He(ze,{selectFromResult:ze===skipToken||Ke?.skip?void 0:noPendingQueryStateSelector,...Ke}),rt=pick(Ze,...COMMON_HOOK_DEBUG_FIELDS);return reactExports.useDebugValue(rt),reactExports.useMemo(()=>({...Ze,...Je}),[Ze,Je])}}}function Le(Ne){const $e=(He,ze={})=>{const[Ke,Je,Ze,rt]=pe(Ne,He,ze),nt=reactExports.useRef(rt);ee(()=>{nt.current=rt},[rt]);const at=reactExports.useCallback(function(Xe,Ge){let Qe;return y(()=>{Ke.current?.unsubscribe(),Ke.current=Qe=Je(Ze(Xe,{subscriptionOptions:nt.current,direction:Ge}))}),Qe},[Ke,Je,Ze]);xe(Ke);const ot=useStableQueryArgs(ze.skip?skipToken:He),qe=reactExports.useCallback(()=>ye(Ke),[Ke]);return reactExports.useMemo(()=>({trigger:at,refetch:qe,fetchNextPage:()=>at(ot,"forward"),fetchPreviousPage:()=>at(ot,"backward")}),[qe,at,ot])},Ue=fe(Ne,ae);return{useInfiniteQueryState:Ue,useInfiniteQuerySubscription:$e,useInfiniteQuery(He,ze){const{refetch:Ke,fetchNextPage:Je,fetchPreviousPage:Ze}=$e(He,ze),rt=Ue(He,{selectFromResult:He===skipToken||ze?.skip?void 0:noPendingQueryStateSelector,...ze}),nt=pick(rt,...COMMON_HOOK_DEBUG_FIELDS,"hasNextPage","hasPreviousPage");return reactExports.useDebugValue(nt),reactExports.useMemo(()=>({...rt,fetchNextPage:Je,fetchPreviousPage:Ze,refetch:Ke}),[rt,Je,Ze,Ke])}}}function je(Ne){return({selectFromResult:$e,fixedCacheKey:Ue}={})=>{const{select:He,initiate:ze}=R.endpoints[Ne],Ke=T(),[Je,Ze]=reactExports.useState();reactExports.useEffect(()=>()=>{Je?.arg.fixedCacheKey||Je?.reset()},[Je]);const rt=reactExports.useCallback(function(Ye){const st=Ke(ze(Ye,{fixedCacheKey:Ue}));return Ze(st),st},[Ke,ze,Ue]),{requestId:nt}=Je||{},at=reactExports.useMemo(()=>He({fixedCacheKey:Ue,requestId:Je?.requestId}),[Ue,Je,He]),ot=reactExports.useMemo(()=>$e?U([at],$e):at,[$e,at]),qe=A(ot,shallowEqual),Xe=Ue==null?Je?.arg.originalArgs:void 0,Ge=reactExports.useCallback(()=>{y(()=>{Je&&Ze(void 0),Ue&&Ke(R.internalActions.removeMutationResult({requestId:nt,fixedCacheKey:Ue}))})},[Ke,Ue,Je,nt]),Qe=pick(qe,...COMMON_HOOK_DEBUG_FIELDS,"endpointName");reactExports.useDebugValue(Qe);const it=reactExports.useMemo(()=>({...qe,originalArgs:Xe,reset:Ge}),[qe,Xe,Ge]);return reactExports.useMemo(()=>[rt,it],[rt,it])}}}var reactHooksModuleName=Symbol(),reactHooksModule=({batch:R=batch,hooks:y={useDispatch,useSelector,useStore},createSelector:T=createSelector,unstable__sideEffectsInRender:A=!1,...O}={})=>({name:reactHooksModuleName,init(z,{serializeQueryArgs:U},G){const J=z,{buildQueryHooks:ee,buildInfiniteQueryHooks:te,buildMutationHook:ae,usePrefetch:oe}=buildHooks({api:z,moduleOptions:{batch:R,hooks:y,unstable__sideEffectsInRender:A,createSelector:T},serializeQueryArgs:U,context:G});return safeAssign(J,{usePrefetch:oe}),safeAssign(G,{batch:R}),{injectEndpoint(pe,fe){if(isQueryDefinition(fe)){const{useQuery:xe,useLazyQuery:ye,useLazyQuerySubscription:_e,useQueryState:Le,useQuerySubscription:je}=ee(pe);safeAssign(J.endpoints[pe],{useQuery:xe,useLazyQuery:ye,useLazyQuerySubscription:_e,useQueryState:Le,useQuerySubscription:je}),z[`use${capitalize(pe)}Query`]=xe,z[`useLazy${capitalize(pe)}Query`]=ye}if(isMutationDefinition(fe)){const xe=ae(pe);safeAssign(J.endpoints[pe],{useMutation:xe}),z[`use${capitalize(pe)}Mutation`]=xe}else if(isInfiniteQueryDefinition(fe)){const{useInfiniteQuery:xe,useInfiniteQuerySubscription:ye,useInfiniteQueryState:_e}=te(pe);safeAssign(J.endpoints[pe],{useInfiniteQuery:xe,useInfiniteQuerySubscription:ye,useInfiniteQueryState:_e}),z[`use${capitalize(pe)}InfiniteQuery`]=xe}}}}}),createApi=buildCreateApi(coreModule(),reactHooksModule());const api=createApi({reducerPath:"api",baseQuery:fetchBaseQuery({baseUrl:"/api",prepareHeaders:R=>{const y=localStorage.getItem("auth_token");y&&R.set("authorization",`Bearer ${y}`);const T=localStorage.getItem("i18nextLng")||"en";return R.set("Accept-Language",T),R}}),tagTypes:["Course","CourseImage","Trip","TripImage","Product","BlogPost","SocialInitiative","Event","TeamMember","Category","Setting","Banner","FooterLink","Booking"],endpoints:R=>({getCourses:R.query({query:y=>({url:"/courses",params:y}),providesTags:["Course"]}),getCourse:R.query({query:y=>`/courses/${y}`,providesTags:["Course"]}),createCourse:R.mutation({query:y=>({url:"/courses",method:"POST",body:y}),invalidatesTags:["Course"]}),updateCourse:R.mutation({query:({id:y,data:T})=>({url:`/courses/${y}`,method:"POST",body:T}),invalidatesTags:["Course"]}),deleteCourse:R.mutation({query:y=>({url:`/courses/${y}`,method:"DELETE"}),invalidatesTags:["Course"]}),uploadCourseImages:R.mutation({query:({courseId:y,files:T})=>({url:`/courses/${y}/images`,method:"POST",body:T}),invalidatesTags:["Course","CourseImage"]}),deleteCourseImage:R.mutation({query:({courseId:y,imageId:T})=>({url:`/courses/${y}/images/${T}`,method:"DELETE"}),invalidatesTags:["Course","CourseImage"]}),setCourseMainImage:R.mutation({query:({courseId:y,imageId:T})=>({url:`/courses/${y}/images/${T}/set-main`,method:"PUT"}),invalidatesTags:["Course","CourseImage"]}),reorderCourseImages:R.mutation({query:({courseId:y,order:T})=>({url:`/courses/${y}/images/reorder`,method:"PUT",body:{order:T}}),invalidatesTags:["CourseImage"]}),getTrips:R.query({query:y=>({url:"/trips",params:y}),providesTags:["Trip"]}),getTrip:R.query({query:y=>`/trips/${y}`,providesTags:["Trip"]}),createTrip:R.mutation({query:y=>({url:"/trips",method:"POST",body:y}),invalidatesTags:["Trip"]}),updateTrip:R.mutation({query:({id:y,data:T})=>({url:`/trips/${y}`,method:"POST",body:T}),invalidatesTags:["Trip"]}),deleteTrip:R.mutation({query:y=>({url:`/trips/${y}`,method:"DELETE"}),invalidatesTags:["Trip"]}),uploadTripImages:R.mutation({query:({tripId:y,files:T})=>({url:`/trips/${y}/images`,method:"POST",body:T}),invalidatesTags:["Trip","TripImage"]}),deleteTripImage:R.mutation({query:({tripId:y,imageId:T})=>({url:`/trips/${y}/images/${T}`,method:"DELETE"}),invalidatesTags:["Trip","TripImage"]}),setTripMainImage:R.mutation({query:({tripId:y,imageId:T})=>({url:`/trips/${y}/images/${T}/set-main`,method:"PUT"}),invalidatesTags:["Trip","TripImage"]}),reorderTripImages:R.mutation({query:({tripId:y,order:T})=>({url:`/trips/${y}/images/reorder`,method:"PUT",body:{order:T}}),invalidatesTags:["TripImage"]}),getProducts:R.query({query:y=>({url:"/products",params:y}),providesTags:["Product"]}),getProduct:R.query({query:y=>`/products/${y}`,providesTags:["Product"]}),createProduct:R.mutation({query:y=>({url:"/products",method:"POST",body:y}),invalidatesTags:["Product"]}),updateProduct:R.mutation({query:({id:y,data:T})=>({url:`/products/${y}`,method:"POST",body:T}),invalidatesTags:["Product"]}),deleteProduct:R.mutation({query:y=>({url:`/products/${y}`,method:"DELETE"}),invalidatesTags:["Product"]}),getBlogPosts:R.query({query:y=>({url:"/blog-posts",params:y}),providesTags:["BlogPost"]}),getBlogPost:R.query({query:y=>`/blog-posts/${y}`,providesTags:["BlogPost"]}),createBlogPost:R.mutation({query:y=>({url:"/blog-posts",method:"POST",body:y}),invalidatesTags:["BlogPost"]}),updateBlogPost:R.mutation({query:({id:y,data:T})=>({url:`/blog-posts/${y}`,method:"POST",body:T}),invalidatesTags:["BlogPost"]}),deleteBlogPost:R.mutation({query:y=>({url:`/blog-posts/${y}`,method:"DELETE"}),invalidatesTags:["BlogPost"]}),getSocialInitiatives:R.query({query:y=>({url:"/social-initiatives",params:y}),providesTags:["SocialInitiative"]}),getSocialInitiative:R.query({query:y=>`/social-initiatives/${y}`,providesTags:["SocialInitiative"]}),createSocialInitiative:R.mutation({query:y=>({url:"/social-initiatives",method:"POST",body:y}),invalidatesTags:["SocialInitiative"]}),updateSocialInitiative:R.mutation({query:({id:y,data:T})=>({url:`/social-initiatives/${y}`,method:"POST",body:T}),invalidatesTags:["SocialInitiative"]}),deleteSocialInitiative:R.mutation({query:y=>({url:`/social-initiatives/${y}`,method:"DELETE"}),invalidatesTags:["SocialInitiative"]}),getEvents:R.query({query:y=>({url:"/events",params:y}),providesTags:["Event"]}),getEvent:R.query({query:y=>`/events/${y}`,providesTags:["Event"]}),createEvent:R.mutation({query:y=>({url:"/events",method:"POST",body:y}),invalidatesTags:["Event"]}),updateEvent:R.mutation({query:({id:y,data:T})=>({url:`/events/${y}`,method:"PUT",body:T}),invalidatesTags:["Event"]}),deleteEvent:R.mutation({query:y=>({url:`/events/${y}`,method:"DELETE"}),invalidatesTags:["Event"]}),getTeamMembers:R.query({query:y=>({url:"/team-members",params:y}),providesTags:["TeamMember"]}),getTeamMember:R.query({query:y=>`/team-members/${y}`,providesTags:["TeamMember"]}),getFeaturedInstructor:R.query({query:()=>"/team-members-featured",providesTags:["TeamMember","Setting"]}),createTeamMember:R.mutation({query:y=>({url:"/team-members",method:"POST",body:y}),invalidatesTags:["TeamMember"]}),updateTeamMember:R.mutation({query:({id:y,data:T})=>({url:`/team-members/${y}`,method:"POST",body:T}),invalidatesTags:["TeamMember"]}),deleteTeamMember:R.mutation({query:y=>({url:`/team-members/${y}`,method:"DELETE"}),invalidatesTags:["TeamMember"]}),getCategories:R.query({query:y=>({url:"/categories",params:y}),providesTags:["Category"]}),getCategory:R.query({query:y=>`/categories/${y}`,providesTags:["Category"]}),createCategory:R.mutation({query:y=>({url:"/categories",method:"POST",body:y}),invalidatesTags:["Category"]}),updateCategory:R.mutation({query:({id:y,data:T})=>({url:`/categories/${y}`,method:"PUT",body:T}),invalidatesTags:["Category"]}),deleteCategory:R.mutation({query:y=>({url:`/categories/${y}`,method:"DELETE"}),invalidatesTags:["Category"]}),getSettings:R.query({query:y=>({url:"/settings",params:y}),providesTags:["Setting"]}),getSetting:R.query({query:y=>`/settings/${y}`,providesTags:["Setting"]}),createSetting:R.mutation({query:y=>({url:"/settings",method:"POST",body:y}),invalidatesTags:["Setting"]}),updateSetting:R.mutation({query:({id:y,data:T})=>({url:`/settings/${y}`,method:"PUT",body:T}),invalidatesTags:["Setting"]}),deleteSetting:R.mutation({query:y=>({url:`/settings/${y}`,method:"DELETE"}),invalidatesTags:["Setting"]}),getBanners:R.query({query:y=>({url:"/banners",params:y}),providesTags:["Banner"]}),getBanner:R.query({query:y=>`/banners/${y}`,providesTags:["Banner"]}),createBanner:R.mutation({query:y=>({url:"/banners",method:"POST",body:y}),invalidatesTags:["Banner"]}),updateBanner:R.mutation({query:({id:y,data:T})=>({url:`/banners/${y}`,method:"POST",body:T}),invalidatesTags:["Banner"]}),deleteBanner:R.mutation({query:y=>({url:`/banners/${y}`,method:"DELETE"}),invalidatesTags:["Banner"]}),getFooterLinks:R.query({query:y=>({url:"/footer-links",params:y}),providesTags:["FooterLink"]}),getFooterLink:R.query({query:y=>`/footer-links/${y}`,providesTags:["FooterLink"]}),getFooterLinkBySlug:R.query({query:y=>`/footer-links/${y}`,providesTags:["FooterLink"]}),createFooterLink:R.mutation({query:y=>({url:"/footer-links",method:"POST",body:y}),invalidatesTags:["FooterLink"]}),updateFooterLink:R.mutation({query:({id:y,data:T})=>({url:`/footer-links/${y}`,method:"PUT",body:T}),invalidatesTags:["FooterLink"]}),deleteFooterLink:R.mutation({query:y=>({url:`/footer-links/${y}`,method:"DELETE"}),invalidatesTags:["FooterLink"]}),getBookings:R.query({query:y=>({url:"/bookings",params:y}),providesTags:["Booking"]}),getBooking:R.query({query:y=>`/bookings/${y}`,providesTags:["Booking"]}),createBooking:R.mutation({query:y=>({url:"/bookings",method:"POST",body:y}),invalidatesTags:["Booking"]}),updateBooking:R.mutation({query:({id:y,data:T})=>({url:`/bookings/${y}`,method:"PUT",body:T}),invalidatesTags:["Booking"]}),deleteBooking:R.mutation({query:y=>({url:`/bookings/${y}`,method:"DELETE"}),invalidatesTags:["Booking"]}),sendContactMessage:R.mutation({query:y=>({url:"/contact",method:"POST",body:y})})})}),{useGetCoursesQuery,useGetCourseQuery,useCreateCourseMutation,useUpdateCourseMutation,useDeleteCourseMutation,useUploadCourseImagesMutation,useDeleteCourseImageMutation,useSetCourseMainImageMutation,useReorderCourseImagesMutation,useGetTripsQuery,useGetTripQuery,useCreateTripMutation,useUpdateTripMutation,useDeleteTripMutation,useUploadTripImagesMutation,useDeleteTripImageMutation,useSetTripMainImageMutation,useReorderTripImagesMutation,useGetProductsQuery,useGetProductQuery,useCreateProductMutation,useUpdateProductMutation,useDeleteProductMutation,useGetBlogPostsQuery,useGetBlogPostQuery,useCreateBlogPostMutation,useUpdateBlogPostMutation,useDeleteBlogPostMutation,useGetSocialInitiativesQuery,useGetSocialInitiativeQuery,useCreateSocialInitiativeMutation,useUpdateSocialInitiativeMutation,useDeleteSocialInitiativeMutation,useGetEventsQuery,useGetEventQuery,useCreateEventMutation,useUpdateEventMutation,useDeleteEventMutation,useGetTeamMembersQuery,useGetTeamMemberQuery,useGetFeaturedInstructorQuery,useCreateTeamMemberMutation,useUpdateTeamMemberMutation,useDeleteTeamMemberMutation,useGetCategoriesQuery,useGetCategoryQuery,useCreateCategoryMutation,useUpdateCategoryMutation,useDeleteCategoryMutation,useGetSettingsQuery,useCreateSettingMutation,useUpdateSettingMutation,useGetBannersQuery,useGetBannerQuery,useCreateBannerMutation,useUpdateBannerMutation,useDeleteBannerMutation,useGetFooterLinksQuery,useGetFooterLinkQuery,useGetFooterLinkBySlugQuery,useCreateFooterLinkMutation,useUpdateFooterLinkMutation,useDeleteFooterLinkMutation,useGetBookingsQuery,useCreateBookingMutation,useUpdateBookingMutation,useDeleteBookingMutation,useSendContactMessageMutation}=api,store=configureStore({reducer:{[api.reducerPath]:api.reducer},middleware:R=>R().concat(api.middleware)});setupListeners(store.dispatch);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory(R={}){function y(A,O){let{pathname:z,search:U,hash:G}=A.location;return createLocation("",{pathname:z,search:U,hash:G},O.state&&O.state.usr||null,O.state&&O.state.key||"default")}function T(A,O){return typeof O=="string"?O:createPath(O)}return getUrlBasedHistory(y,T,null,R)}function invariant$1(R,y){if(R===!1||R===null||typeof R>"u")throw new Error(y)}function warning(R,y){if(!R){typeof console<"u"&&console.warn(y);try{throw new Error(y)}catch{}}}function createKey$1(){return Math.random().toString(36).substring(2,10)}function getHistoryState(R,y){return{usr:R.state,key:R.key,idx:y}}function createLocation(R,y,T=null,A){return{pathname:typeof R=="string"?R:R.pathname,search:"",hash:"",...typeof y=="string"?parsePath(y):y,state:T,key:y&&y.key||A||createKey$1()}}function createPath({pathname:R="/",search:y="",hash:T=""}){return y&&y!=="?"&&(R+=y.charAt(0)==="?"?y:"?"+y),T&&T!=="#"&&(R+=T.charAt(0)==="#"?T:"#"+T),R}function parsePath(R){let y={};if(R){let T=R.indexOf("#");T>=0&&(y.hash=R.substring(T),R=R.substring(0,T));let A=R.indexOf("?");A>=0&&(y.search=R.substring(A),R=R.substring(0,A)),R&&(y.pathname=R)}return y}function getUrlBasedHistory(R,y,T,A={}){let{window:O=document.defaultView,v5Compat:z=!1}=A,U=O.history,G="POP",J=null,ee=te();ee==null&&(ee=0,U.replaceState({...U.state,idx:ee},""));function te(){return(U.state||{idx:null}).idx}function ae(){G="POP";let ye=te(),_e=ye==null?null:ye-ee;ee=ye,J&&J({action:G,location:xe.location,delta:_e})}function oe(ye,_e){G="PUSH";let Le=createLocation(xe.location,ye,_e);ee=te()+1;let je=getHistoryState(Le,ee),Ne=xe.createHref(Le);try{U.pushState(je,"",Ne)}catch($e){if($e instanceof DOMException&&$e.name==="DataCloneError")throw $e;O.location.assign(Ne)}z&&J&&J({action:G,location:xe.location,delta:1})}function pe(ye,_e){G="REPLACE";let Le=createLocation(xe.location,ye,_e);ee=te();let je=getHistoryState(Le,ee),Ne=xe.createHref(Le);U.replaceState(je,"",Ne),z&&J&&J({action:G,location:xe.location,delta:0})}function fe(ye){return createBrowserURLImpl(ye)}let xe={get action(){return G},get location(){return R(O,U)},listen(ye){if(J)throw new Error("A history only accepts one active listener");return O.addEventListener(PopStateEventType,ae),J=ye,()=>{O.removeEventListener(PopStateEventType,ae),J=null}},createHref(ye){return y(O,ye)},createURL:fe,encodeLocation(ye){let _e=fe(ye);return{pathname:_e.pathname,search:_e.search,hash:_e.hash}},push:oe,replace:pe,go(ye){return U.go(ye)}};return xe}function createBrowserURLImpl(R,y=!1){let T="http://localhost";typeof window<"u"&&(T=window.location.origin!=="null"?window.location.origin:window.location.href),invariant$1(T,"No window.location.(origin|href) available to create URL");let A=typeof R=="string"?R:createPath(R);return A=A.replace(/ $/,"%20"),!y&&A.startsWith("//")&&(A=T+A),new URL(A,T)}function matchRoutes(R,y,T="/"){return matchRoutesImpl(R,y,T,!1)}function matchRoutesImpl(R,y,T,A){let O=typeof y=="string"?parsePath(y):y,z=stripBasename(O.pathname||"/",T);if(z==null)return null;let U=flattenRoutes(R);rankRouteBranches(U);let G=null;for(let J=0;G==null&&J<U.length;++J){let ee=decodePath(z);G=matchRouteBranch(U[J],ee,A)}return G}function flattenRoutes(R,y=[],T=[],A="",O=!1){let z=(U,G,J=O,ee)=>{let te={relativePath:ee===void 0?U.path||"":ee,caseSensitive:U.caseSensitive===!0,childrenIndex:G,route:U};if(te.relativePath.startsWith("/")){if(!te.relativePath.startsWith(A)&&J)return;invariant$1(te.relativePath.startsWith(A),`Absolute route path "${te.relativePath}" nested under path "${A}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),te.relativePath=te.relativePath.slice(A.length)}let ae=joinPaths([A,te.relativePath]),oe=T.concat(te);U.children&&U.children.length>0&&(invariant$1(U.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${ae}".`),flattenRoutes(U.children,y,oe,ae,J)),!(U.path==null&&!U.index)&&y.push({path:ae,score:computeScore(ae,U.index),routesMeta:oe})};return R.forEach((U,G)=>{if(U.path===""||!U.path?.includes("?"))z(U,G);else for(let J of explodeOptionalSegments(U.path))z(U,G,!0,J)}),y}function explodeOptionalSegments(R){let y=R.split("/");if(y.length===0)return[];let[T,...A]=y,O=T.endsWith("?"),z=T.replace(/\?$/,"");if(A.length===0)return O?[z,""]:[z];let U=explodeOptionalSegments(A.join("/")),G=[];return G.push(...U.map(J=>J===""?z:[z,J].join("/"))),O&&G.push(...U),G.map(J=>R.startsWith("/")&&J===""?"/":J)}function rankRouteBranches(R){R.sort((y,T)=>y.score!==T.score?T.score-y.score:compareIndexes(y.routesMeta.map(A=>A.childrenIndex),T.routesMeta.map(A=>A.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=R=>R==="*";function computeScore(R,y){let T=R.split("/"),A=T.length;return T.some(isSplat)&&(A+=splatPenalty),y&&(A+=indexRouteValue),T.filter(O=>!isSplat(O)).reduce((O,z)=>O+(paramRe.test(z)?dynamicSegmentValue:z===""?emptySegmentValue:staticSegmentValue),A)}function compareIndexes(R,y){return R.length===y.length&&R.slice(0,-1).every((A,O)=>A===y[O])?R[R.length-1]-y[y.length-1]:0}function matchRouteBranch(R,y,T=!1){let{routesMeta:A}=R,O={},z="/",U=[];for(let G=0;G<A.length;++G){let J=A[G],ee=G===A.length-1,te=z==="/"?y:y.slice(z.length)||"/",ae=matchPath({path:J.relativePath,caseSensitive:J.caseSensitive,end:ee},te),oe=J.route;if(!ae&&ee&&T&&!A[A.length-1].route.index&&(ae=matchPath({path:J.relativePath,caseSensitive:J.caseSensitive,end:!1},te)),!ae)return null;Object.assign(O,ae.params),U.push({params:O,pathname:joinPaths([z,ae.pathname]),pathnameBase:normalizePathname(joinPaths([z,ae.pathnameBase])),route:oe}),ae.pathnameBase!=="/"&&(z=joinPaths([z,ae.pathnameBase]))}return U}function matchPath(R,y){typeof R=="string"&&(R={path:R,caseSensitive:!1,end:!0});let[T,A]=compilePath(R.path,R.caseSensitive,R.end),O=y.match(T);if(!O)return null;let z=O[0],U=z.replace(/(.)\/+$/,"$1"),G=O.slice(1);return{params:A.reduce((ee,{paramName:te,isOptional:ae},oe)=>{if(te==="*"){let fe=G[oe]||"";U=z.slice(0,z.length-fe.length).replace(/(.)\/+$/,"$1")}const pe=G[oe];return ae&&!pe?ee[te]=void 0:ee[te]=(pe||"").replace(/%2F/g,"/"),ee},{}),pathname:z,pathnameBase:U,pattern:R}}function compilePath(R,y=!1,T=!0){warning(R==="*"||!R.endsWith("*")||R.endsWith("/*"),`Route path "${R}" will be treated as if it were "${R.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${R.replace(/\*$/,"/*")}".`);let A=[],O="^"+R.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(U,G,J)=>(A.push({paramName:G,isOptional:J!=null}),J?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return R.endsWith("*")?(A.push({paramName:"*"}),O+=R==="*"||R==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):T?O+="\\/*$":R!==""&&R!=="/"&&(O+="(?:(?=\\/|$))"),[new RegExp(O,y?void 0:"i"),A]}function decodePath(R){try{return R.split("/").map(y=>decodeURIComponent(y).replace(/\//g,"%2F")).join("/")}catch(y){return warning(!1,`The URL path "${R}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${y}).`),R}}function stripBasename(R,y){if(y==="/")return R;if(!R.toLowerCase().startsWith(y.toLowerCase()))return null;let T=y.endsWith("/")?y.length-1:y.length,A=R.charAt(T);return A&&A!=="/"?null:R.slice(T)||"/"}function resolvePath(R,y="/"){let{pathname:T,search:A="",hash:O=""}=typeof R=="string"?parsePath(R):R;return{pathname:T?T.startsWith("/")?T:resolvePathname(T,y):y,search:normalizeSearch(A),hash:normalizeHash(O)}}function resolvePathname(R,y){let T=y.replace(/\/+$/,"").split("/");return R.split("/").forEach(O=>{O===".."?T.length>1&&T.pop():O!=="."&&T.push(O)}),T.length>1?T.join("/"):"/"}function getInvalidPathError(R,y,T,A){return`Cannot include a '${R}' character in a manually specified \`to.${y}\` field [${JSON.stringify(A)}].  Please separate it out to the \`to.${T}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(R){return R.filter((y,T)=>T===0||y.route.path&&y.route.path.length>0)}function getResolveToMatches(R){let y=getPathContributingMatches(R);return y.map((T,A)=>A===y.length-1?T.pathname:T.pathnameBase)}function resolveTo(R,y,T,A=!1){let O;typeof R=="string"?O=parsePath(R):(O={...R},invariant$1(!O.pathname||!O.pathname.includes("?"),getInvalidPathError("?","pathname","search",O)),invariant$1(!O.pathname||!O.pathname.includes("#"),getInvalidPathError("#","pathname","hash",O)),invariant$1(!O.search||!O.search.includes("#"),getInvalidPathError("#","search","hash",O)));let z=R===""||O.pathname==="",U=z?"/":O.pathname,G;if(U==null)G=T;else{let ae=y.length-1;if(!A&&U.startsWith("..")){let oe=U.split("/");for(;oe[0]==="..";)oe.shift(),ae-=1;O.pathname=oe.join("/")}G=ae>=0?y[ae]:"/"}let J=resolvePath(O,G),ee=U&&U!=="/"&&U.endsWith("/"),te=(z||U===".")&&T.endsWith("/");return!J.pathname.endsWith("/")&&(ee||te)&&(J.pathname+="/"),J}var joinPaths=R=>R.join("/").replace(/\/\/+/g,"/"),normalizePathname=R=>R.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=R=>!R||R==="?"?"":R.startsWith("?")?R:"?"+R,normalizeHash=R=>!R||R==="#"?"":R.startsWith("#")?R:"#"+R;function isRouteErrorResponse(R){return R!=null&&typeof R.status=="number"&&typeof R.statusText=="string"&&typeof R.internal=="boolean"&&"data"in R}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";reactExports.createContext(!1);var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(R,{relative:y}={}){invariant$1(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:T,navigator:A}=reactExports.useContext(NavigationContext),{hash:O,pathname:z,search:U}=useResolvedPath(R,{relative:y}),G=z;return T!=="/"&&(G=z==="/"?T:joinPaths([T,z])),A.createHref({pathname:G,search:U,hash:O})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$1(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$2(R){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(R)}function useNavigate(){let{isDataRoute:R}=reactExports.useContext(RouteContext);return R?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$1(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let R=reactExports.useContext(DataRouterContext),{basename:y,navigator:T}=reactExports.useContext(NavigationContext),{matches:A}=reactExports.useContext(RouteContext),{pathname:O}=useLocation(),z=JSON.stringify(getResolveToMatches(A)),U=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{U.current=!0}),reactExports.useCallback((J,ee={})=>{if(warning(U.current,navigateEffectWarning),!U.current)return;if(typeof J=="number"){T.go(J);return}let te=resolveTo(J,JSON.parse(z),O,ee.relative==="path");R==null&&y!=="/"&&(te.pathname=te.pathname==="/"?y:joinPaths([y,te.pathname])),(ee.replace?T.replace:T.push)(te,ee.state,ee)},[y,T,z,O,R])}var OutletContext=reactExports.createContext(null);function useOutlet(R){let y=reactExports.useContext(RouteContext).outlet;return reactExports.useMemo(()=>y&&reactExports.createElement(OutletContext.Provider,{value:R},y),[y,R])}function useParams(){let{matches:R}=reactExports.useContext(RouteContext),y=R[R.length-1];return y?y.params:{}}function useResolvedPath(R,{relative:y}={}){let{matches:T}=reactExports.useContext(RouteContext),{pathname:A}=useLocation(),O=JSON.stringify(getResolveToMatches(T));return reactExports.useMemo(()=>resolveTo(R,JSON.parse(O),A,y==="path"),[R,O,A,y])}function useRoutes(R,y){return useRoutesImpl(R,y)}function useRoutesImpl(R,y,T,A,O){invariant$1(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:z}=reactExports.useContext(NavigationContext),{matches:U}=reactExports.useContext(RouteContext),G=U[U.length-1],J=G?G.params:{},ee=G?G.pathname:"/",te=G?G.pathnameBase:"/",ae=G&&G.route;{let Le=ae&&ae.path||"";warningOnce(ee,!ae||Le.endsWith("*")||Le.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${ee}" (under <Route path="${Le}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Le}"> to <Route path="${Le==="/"?"*":`${Le}/*`}">.`)}let oe=useLocation(),pe;if(y){let Le=typeof y=="string"?parsePath(y):y;invariant$1(te==="/"||Le.pathname?.startsWith(te),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${te}" but pathname "${Le.pathname}" was given in the \`location\` prop.`),pe=Le}else pe=oe;let fe=pe.pathname||"/",xe=fe;if(te!=="/"){let Le=te.replace(/^\//,"").split("/");xe="/"+fe.replace(/^\//,"").split("/").slice(Le.length).join("/")}let ye=matchRoutes(R,{pathname:xe});warning(ae||ye!=null,`No routes matched location "${pe.pathname}${pe.search}${pe.hash}" `),warning(ye==null||ye[ye.length-1].route.element!==void 0||ye[ye.length-1].route.Component!==void 0||ye[ye.length-1].route.lazy!==void 0,`Matched leaf route at location "${pe.pathname}${pe.search}${pe.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _e=_renderMatches(ye&&ye.map(Le=>Object.assign({},Le,{params:Object.assign({},J,Le.params),pathname:joinPaths([te,z.encodeLocation?z.encodeLocation(Le.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Le.pathname]),pathnameBase:Le.pathnameBase==="/"?te:joinPaths([te,z.encodeLocation?z.encodeLocation(Le.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Le.pathnameBase])})),U,T,A,O);return y&&_e?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...pe},navigationType:"POP"}},_e):_e}function DefaultErrorComponent(){let R=useRouteError(),y=isRouteErrorResponse(R)?`${R.status} ${R.statusText}`:R instanceof Error?R.message:JSON.stringify(R),T=R instanceof Error?R.stack:null,A="rgba(200,200,200, 0.5)",O={padding:"0.5rem",backgroundColor:A},z={padding:"2px 4px",backgroundColor:A},U=null;return console.error("Error handled by React Router default ErrorBoundary:",R),U=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:z},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:z},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},y),T?reactExports.createElement("pre",{style:O},T):null,U)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(R){super(R),this.state={location:R.location,revalidation:R.revalidation,error:R.error}}static getDerivedStateFromError(R){return{error:R}}static getDerivedStateFromProps(R,y){return y.location!==R.location||y.revalidation!=="idle"&&R.revalidation==="idle"?{error:R.error,location:R.location,revalidation:R.revalidation}:{error:R.error!==void 0?R.error:y.error,location:y.location,revalidation:R.revalidation||y.revalidation}}componentDidCatch(R,y){this.props.unstable_onError?this.props.unstable_onError(R,y):console.error("React Router caught the following error during render",R)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:R,match:y,children:T}){let A=reactExports.useContext(DataRouterContext);return A&&A.static&&A.staticContext&&(y.route.errorElement||y.route.ErrorBoundary)&&(A.staticContext._deepestRenderedBoundaryId=y.route.id),reactExports.createElement(RouteContext.Provider,{value:R},T)}function _renderMatches(R,y=[],T=null,A=null,O=null){if(R==null){if(!T)return null;if(T.errors)R=T.matches;else if(y.length===0&&!T.initialized&&T.matches.length>0)R=T.matches;else return null}let z=R,U=T?.errors;if(U!=null){let ee=z.findIndex(te=>te.route.id&&U?.[te.route.id]!==void 0);invariant$1(ee>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(U).join(",")}`),z=z.slice(0,Math.min(z.length,ee+1))}let G=!1,J=-1;if(T)for(let ee=0;ee<z.length;ee++){let te=z[ee];if((te.route.HydrateFallback||te.route.hydrateFallbackElement)&&(J=ee),te.route.id){let{loaderData:ae,errors:oe}=T,pe=te.route.loader&&!ae.hasOwnProperty(te.route.id)&&(!oe||oe[te.route.id]===void 0);if(te.route.lazy||pe){G=!0,J>=0?z=z.slice(0,J+1):z=[z[0]];break}}}return z.reduceRight((ee,te,ae)=>{let oe,pe=!1,fe=null,xe=null;T&&(oe=U&&te.route.id?U[te.route.id]:void 0,fe=te.route.errorElement||defaultErrorElement,G&&(J<0&&ae===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),pe=!0,xe=null):J===ae&&(pe=!0,xe=te.route.hydrateFallbackElement||null)));let ye=y.concat(z.slice(0,ae+1)),_e=()=>{let Le;return oe?Le=fe:pe?Le=xe:te.route.Component?Le=reactExports.createElement(te.route.Component,null):te.route.element?Le=te.route.element:Le=ee,reactExports.createElement(RenderedRoute,{match:te,routeContext:{outlet:ee,matches:ye,isDataRoute:T!=null},children:Le})};return T&&(te.route.ErrorBoundary||te.route.errorElement||ae===0)?reactExports.createElement(RenderErrorBoundary,{location:T.location,revalidation:T.revalidation,component:fe,error:oe,children:_e(),routeContext:{outlet:null,matches:ye,isDataRoute:!0},unstable_onError:A}):_e()},null)}function getDataRouterConsoleError(R){return`${R} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(R){let y=reactExports.useContext(DataRouterContext);return invariant$1(y,getDataRouterConsoleError(R)),y}function useDataRouterState(R){let y=reactExports.useContext(DataRouterStateContext);return invariant$1(y,getDataRouterConsoleError(R)),y}function useRouteContext(R){let y=reactExports.useContext(RouteContext);return invariant$1(y,getDataRouterConsoleError(R)),y}function useCurrentRouteId(R){let y=useRouteContext(R),T=y.matches[y.matches.length-1];return invariant$1(T.route.id,`${R} can only be used on routes that contain a unique "id"`),T.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){let R=reactExports.useContext(RouteErrorContext),y=useDataRouterState("useRouteError"),T=useCurrentRouteId("useRouteError");return R!==void 0?R:y.errors?.[T]}function useNavigateStable(){let{router:R}=useDataRouterContext("useNavigate"),y=useCurrentRouteId("useNavigate"),T=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{T.current=!0}),reactExports.useCallback(async(O,z={})=>{warning(T.current,navigateEffectWarning),T.current&&(typeof O=="number"?R.navigate(O):await R.navigate(O,{fromRouteId:y,...z}))},[R,y])}var alreadyWarned={};function warningOnce(R,y,T){!y&&!alreadyWarned[R]&&(alreadyWarned[R]=!0,warning(!1,T))}reactExports.memo(DataRoutes);function DataRoutes({routes:R,future:y,state:T,unstable_onError:A}){return useRoutesImpl(R,void 0,T,A,y)}function Outlet(R){return useOutlet(R.context)}function Route(R){invariant$1(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:R="/",children:y=null,location:T,navigationType:A="POP",navigator:O,static:z=!1}){invariant$1(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let U=R.replace(/^\/*/,"/"),G=reactExports.useMemo(()=>({basename:U,navigator:O,static:z,future:{}}),[U,O,z]);typeof T=="string"&&(T=parsePath(T));let{pathname:J="/",search:ee="",hash:te="",state:ae=null,key:oe="default"}=T,pe=reactExports.useMemo(()=>{let fe=stripBasename(J,U);return fe==null?null:{location:{pathname:fe,search:ee,hash:te,state:ae,key:oe},navigationType:A}},[U,J,ee,te,ae,oe,A]);return warning(pe!=null,`<Router basename="${U}"> is not able to match the URL "${J}${ee}${te}" because it does not start with the basename, so the <Router> won't render anything.`),pe==null?null:reactExports.createElement(NavigationContext.Provider,{value:G},reactExports.createElement(LocationContext.Provider,{children:y,value:pe}))}function Routes({children:R,location:y}){return useRoutes(createRoutesFromChildren(R),y)}function createRoutesFromChildren(R,y=[]){let T=[];return reactExports.Children.forEach(R,(A,O)=>{if(!reactExports.isValidElement(A))return;let z=[...y,O];if(A.type===reactExports.Fragment){T.push.apply(T,createRoutesFromChildren(A.props.children,z));return}invariant$1(A.type===Route,`[${typeof A.type=="string"?A.type:A.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$1(!A.props.index||!A.props.children,"An index route cannot have child routes.");let U={id:A.props.id||z.join("-"),caseSensitive:A.props.caseSensitive,element:A.props.element,Component:A.props.Component,index:A.props.index,path:A.props.path,middleware:A.props.middleware,loader:A.props.loader,action:A.props.action,hydrateFallbackElement:A.props.hydrateFallbackElement,HydrateFallback:A.props.HydrateFallback,errorElement:A.props.errorElement,ErrorBoundary:A.props.ErrorBoundary,hasErrorBoundary:A.props.hasErrorBoundary===!0||A.props.ErrorBoundary!=null||A.props.errorElement!=null,shouldRevalidate:A.props.shouldRevalidate,handle:A.props.handle,lazy:A.props.lazy};A.props.children&&(U.children=createRoutesFromChildren(A.props.children,z)),T.push(U)}),T}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(R){return R!=null&&typeof R.tagName=="string"}function isButtonElement(R){return isHtmlElement(R)&&R.tagName.toLowerCase()==="button"}function isFormElement(R){return isHtmlElement(R)&&R.tagName.toLowerCase()==="form"}function isInputElement(R){return isHtmlElement(R)&&R.tagName.toLowerCase()==="input"}function isModifiedEvent(R){return!!(R.metaKey||R.altKey||R.ctrlKey||R.shiftKey)}function shouldProcessLinkClick(R,y){return R.button===0&&(!y||y==="_self")&&!isModifiedEvent(R)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(R){return R!=null&&!supportedFormEncTypes.has(R)?(warning(!1,`"${R}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):R}function getFormSubmissionInfo(R,y){let T,A,O,z,U;if(isFormElement(R)){let G=R.getAttribute("action");A=G?stripBasename(G,y):null,T=R.getAttribute("method")||defaultMethod,O=getFormEncType(R.getAttribute("enctype"))||defaultEncType,z=new FormData(R)}else if(isButtonElement(R)||isInputElement(R)&&(R.type==="submit"||R.type==="image")){let G=R.form;if(G==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let J=R.getAttribute("formaction")||G.getAttribute("action");if(A=J?stripBasename(J,y):null,T=R.getAttribute("formmethod")||G.getAttribute("method")||defaultMethod,O=getFormEncType(R.getAttribute("formenctype"))||getFormEncType(G.getAttribute("enctype"))||defaultEncType,z=new FormData(G,R),!isFormDataSubmitterSupported()){let{name:ee,type:te,value:ae}=R;if(te==="image"){let oe=ee?`${ee}.`:"";z.append(`${oe}x`,"0"),z.append(`${oe}y`,"0")}else ee&&z.append(ee,ae)}}else{if(isHtmlElement(R))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');T=defaultMethod,A=null,O=defaultEncType,U=R}return z&&O==="text/plain"&&(U=z,z=void 0),{action:A,method:T.toLowerCase(),encType:O,formData:z,body:U}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(R,y){if(R===!1||R===null||typeof R>"u")throw new Error(y)}function singleFetchUrl(R,y,T){let A=typeof R=="string"?new URL(R,typeof window>"u"?"server://singlefetch/":window.location.origin):R;return A.pathname==="/"?A.pathname=`_root.${T}`:y&&stripBasename(A.pathname,y)==="/"?A.pathname=`${y.replace(/\/$/,"")}/_root.${T}`:A.pathname=`${A.pathname.replace(/\/$/,"")}.${T}`,A}async function loadRouteModule(R,y){if(R.id in y)return y[R.id];try{let T=await import(R.module);return y[R.id]=T,T}catch(T){return console.error(`Error loading route module \`${R.module}\`, reloading page...`),console.error(T),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(R){return R==null?!1:R.href==null?R.rel==="preload"&&typeof R.imageSrcSet=="string"&&typeof R.imageSizes=="string":typeof R.rel=="string"&&typeof R.href=="string"}async function getKeyedPrefetchLinks(R,y,T){let A=await Promise.all(R.map(async O=>{let z=y.routes[O.route.id];if(z){let U=await loadRouteModule(z,T);return U.links?U.links():[]}return[]}));return dedupeLinkDescriptors(A.flat(1).filter(isHtmlLinkDescriptor).filter(O=>O.rel==="stylesheet"||O.rel==="preload").map(O=>O.rel==="stylesheet"?{...O,rel:"prefetch",as:"style"}:{...O,rel:"prefetch"}))}function getNewMatchesForLinks(R,y,T,A,O,z){let U=(J,ee)=>T[ee]?J.route.id!==T[ee].route.id:!0,G=(J,ee)=>T[ee].pathname!==J.pathname||T[ee].route.path?.endsWith("*")&&T[ee].params["*"]!==J.params["*"];return z==="assets"?y.filter((J,ee)=>U(J,ee)||G(J,ee)):z==="data"?y.filter((J,ee)=>{let te=A.routes[J.route.id];if(!te||!te.hasLoader)return!1;if(U(J,ee)||G(J,ee))return!0;if(J.route.shouldRevalidate){let ae=J.route.shouldRevalidate({currentUrl:new URL(O.pathname+O.search+O.hash,window.origin),currentParams:T[0]?.params||{},nextUrl:new URL(R,window.origin),nextParams:J.params,defaultShouldRevalidate:!0});if(typeof ae=="boolean")return ae}return!0}):[]}function getModuleLinkHrefs(R,y,{includeHydrateFallback:T}={}){return dedupeHrefs(R.map(A=>{let O=y.routes[A.route.id];if(!O)return[];let z=[O.module];return O.clientActionModule&&(z=z.concat(O.clientActionModule)),O.clientLoaderModule&&(z=z.concat(O.clientLoaderModule)),T&&O.hydrateFallbackModule&&(z=z.concat(O.hydrateFallbackModule)),O.imports&&(z=z.concat(O.imports)),z}).flat(1))}function dedupeHrefs(R){return[...new Set(R)]}function sortKeys(R){let y={},T=Object.keys(R).sort();for(let A of T)y[A]=R[A];return y}function dedupeLinkDescriptors(R,y){let T=new Set;return new Set(y),R.reduce((A,O)=>{let z=JSON.stringify(sortKeys(O));return T.has(z)||(T.add(z),A.push({key:z,link:O})),A},[])}function useDataRouterContext2(){let R=reactExports.useContext(DataRouterContext);return invariant2(R,"You must render this element inside a <DataRouterContext.Provider> element"),R}function useDataRouterStateContext(){let R=reactExports.useContext(DataRouterStateContext);return invariant2(R,"You must render this element inside a <DataRouterStateContext.Provider> element"),R}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let R=reactExports.useContext(FrameworkContext);return invariant2(R,"You must render this element inside a <HydratedRouter> element"),R}function usePrefetchBehavior(R,y){let T=reactExports.useContext(FrameworkContext),[A,O]=reactExports.useState(!1),[z,U]=reactExports.useState(!1),{onFocus:G,onBlur:J,onMouseEnter:ee,onMouseLeave:te,onTouchStart:ae}=y,oe=reactExports.useRef(null);reactExports.useEffect(()=>{if(R==="render"&&U(!0),R==="viewport"){let xe=_e=>{_e.forEach(Le=>{U(Le.isIntersecting)})},ye=new IntersectionObserver(xe,{threshold:.5});return oe.current&&ye.observe(oe.current),()=>{ye.disconnect()}}},[R]),reactExports.useEffect(()=>{if(A){let xe=setTimeout(()=>{U(!0)},100);return()=>{clearTimeout(xe)}}},[A]);let pe=()=>{O(!0)},fe=()=>{O(!1),U(!1)};return T?R!=="intent"?[z,oe,{}]:[z,oe,{onFocus:composeEventHandlers(G,pe),onBlur:composeEventHandlers(J,fe),onMouseEnter:composeEventHandlers(ee,pe),onMouseLeave:composeEventHandlers(te,fe),onTouchStart:composeEventHandlers(ae,pe)}]:[!1,oe,{}]}function composeEventHandlers(R,y){return T=>{R&&R(T),T.defaultPrevented||y(T)}}function PrefetchPageLinks({page:R,...y}){let{router:T}=useDataRouterContext2(),A=reactExports.useMemo(()=>matchRoutes(T.routes,R,T.basename),[T.routes,R,T.basename]);return A?reactExports.createElement(PrefetchPageLinksImpl,{page:R,matches:A,...y}):null}function useKeyedPrefetchLinks(R){let{manifest:y,routeModules:T}=useFrameworkContext(),[A,O]=reactExports.useState([]);return reactExports.useEffect(()=>{let z=!1;return getKeyedPrefetchLinks(R,y,T).then(U=>{z||O(U)}),()=>{z=!0}},[R,y,T]),A}function PrefetchPageLinksImpl({page:R,matches:y,...T}){let A=useLocation(),{manifest:O,routeModules:z}=useFrameworkContext(),{basename:U}=useDataRouterContext2(),{loaderData:G,matches:J}=useDataRouterStateContext(),ee=reactExports.useMemo(()=>getNewMatchesForLinks(R,y,J,O,A,"data"),[R,y,J,O,A]),te=reactExports.useMemo(()=>getNewMatchesForLinks(R,y,J,O,A,"assets"),[R,y,J,O,A]),ae=reactExports.useMemo(()=>{if(R===A.pathname+A.search+A.hash)return[];let fe=new Set,xe=!1;if(y.forEach(_e=>{let Le=O.routes[_e.route.id];!Le||!Le.hasLoader||(!ee.some(je=>je.route.id===_e.route.id)&&_e.route.id in G&&z[_e.route.id]?.shouldRevalidate||Le.hasClientLoader?xe=!0:fe.add(_e.route.id))}),fe.size===0)return[];let ye=singleFetchUrl(R,U,"data");return xe&&fe.size>0&&ye.searchParams.set("_routes",y.filter(_e=>fe.has(_e.route.id)).map(_e=>_e.route.id).join(",")),[ye.pathname+ye.search]},[U,G,A,O,ee,y,R,z]),oe=reactExports.useMemo(()=>getModuleLinkHrefs(te,O),[te,O]),pe=useKeyedPrefetchLinks(te);return reactExports.createElement(reactExports.Fragment,null,ae.map(fe=>reactExports.createElement("link",{key:fe,rel:"prefetch",as:"fetch",href:fe,...T})),oe.map(fe=>reactExports.createElement("link",{key:fe,rel:"modulepreload",href:fe,...T})),pe.map(({key:fe,link:xe})=>reactExports.createElement("link",{key:fe,nonce:T.nonce,...xe})))}function mergeRefs$1(...R){return y=>{R.forEach(T=>{typeof T=="function"?T(y):T!=null&&(T.current=y)})}}var isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser$1&&(window.__reactRouterVersion="7.9.4")}catch{}function BrowserRouter({basename:R,children:y,window:T}){let A=reactExports.useRef();A.current==null&&(A.current=createBrowserHistory({window:T,v5Compat:!0}));let O=A.current,[z,U]=reactExports.useState({action:O.action,location:O.location}),G=reactExports.useCallback(J=>{reactExports.startTransition(()=>U(J))},[U]);return reactExports.useLayoutEffect(()=>O.listen(G),[O,G]),reactExports.createElement(Router,{basename:R,children:y,location:z.location,navigationType:z.action,navigator:O})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$2=reactExports.forwardRef(function({onClick:y,discover:T="render",prefetch:A="none",relative:O,reloadDocument:z,replace:U,state:G,target:J,to:ee,preventScrollReset:te,viewTransition:ae,...oe},pe){let{basename:fe}=reactExports.useContext(NavigationContext),xe=typeof ee=="string"&&ABSOLUTE_URL_REGEX2.test(ee),ye,_e=!1;if(typeof ee=="string"&&xe&&(ye=ee,isBrowser$1))try{let Ke=new URL(window.location.href),Je=ee.startsWith("//")?new URL(Ke.protocol+ee):new URL(ee),Ze=stripBasename(Je.pathname,fe);Je.origin===Ke.origin&&Ze!=null?ee=Ze+Je.search+Je.hash:_e=!0}catch{warning(!1,`<Link to="${ee}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Le=useHref(ee,{relative:O}),[je,Ne,$e]=usePrefetchBehavior(A,oe),Ue=useLinkClickHandler(ee,{replace:U,state:G,target:J,preventScrollReset:te,relative:O,viewTransition:ae});function He(Ke){y&&y(Ke),Ke.defaultPrevented||Ue(Ke)}let ze=reactExports.createElement("a",{...oe,...$e,href:ye||Le,onClick:_e||z?y:He,ref:mergeRefs$1(pe,Ne),target:J,"data-discover":!xe&&T==="render"?"true":void 0});return je&&!xe?reactExports.createElement(reactExports.Fragment,null,ze,reactExports.createElement(PrefetchPageLinks,{page:Le})):ze});Link$2.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":y="page",caseSensitive:T=!1,className:A="",end:O=!1,style:z,to:U,viewTransition:G,children:J,...ee},te){let ae=useResolvedPath(U,{relative:ee.relative}),oe=useLocation(),pe=reactExports.useContext(DataRouterStateContext),{navigator:fe,basename:xe}=reactExports.useContext(NavigationContext),ye=pe!=null&&useViewTransitionState(ae)&&G===!0,_e=fe.encodeLocation?fe.encodeLocation(ae).pathname:ae.pathname,Le=oe.pathname,je=pe&&pe.navigation&&pe.navigation.location?pe.navigation.location.pathname:null;T||(Le=Le.toLowerCase(),je=je?je.toLowerCase():null,_e=_e.toLowerCase()),je&&xe&&(je=stripBasename(je,xe)||je);const Ne=_e!=="/"&&_e.endsWith("/")?_e.length-1:_e.length;let $e=Le===_e||!O&&Le.startsWith(_e)&&Le.charAt(Ne)==="/",Ue=je!=null&&(je===_e||!O&&je.startsWith(_e)&&je.charAt(_e.length)==="/"),He={isActive:$e,isPending:Ue,isTransitioning:ye},ze=$e?y:void 0,Ke;typeof A=="function"?Ke=A(He):Ke=[A,$e?"active":null,Ue?"pending":null,ye?"transitioning":null].filter(Boolean).join(" ");let Je=typeof z=="function"?z(He):z;return reactExports.createElement(Link$2,{...ee,"aria-current":ze,className:Ke,ref:te,style:Je,to:U,viewTransition:G},typeof J=="function"?J(He):J)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:R="render",fetcherKey:y,navigate:T,reloadDocument:A,replace:O,state:z,method:U=defaultMethod,action:G,onSubmit:J,relative:ee,preventScrollReset:te,viewTransition:ae,...oe},pe)=>{let fe=useSubmit(),xe=useFormAction(G,{relative:ee}),ye=U.toLowerCase()==="get"?"get":"post",_e=typeof G=="string"&&ABSOLUTE_URL_REGEX2.test(G),Le=je=>{if(J&&J(je),je.defaultPrevented)return;je.preventDefault();let Ne=je.nativeEvent.submitter,$e=Ne?.getAttribute("formmethod")||U;fe(Ne||je.currentTarget,{fetcherKey:y,method:$e,navigate:T,replace:O,state:z,relative:ee,preventScrollReset:te,viewTransition:ae})};return reactExports.createElement("form",{ref:pe,method:ye,action:xe,onSubmit:A?J:Le,...oe,"data-discover":!_e&&R==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(R){return`${R} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(R){let y=reactExports.useContext(DataRouterContext);return invariant$1(y,getDataRouterConsoleError2(R)),y}function useLinkClickHandler(R,{target:y,replace:T,state:A,preventScrollReset:O,relative:z,viewTransition:U}={}){let G=useNavigate(),J=useLocation(),ee=useResolvedPath(R,{relative:z});return reactExports.useCallback(te=>{if(shouldProcessLinkClick(te,y)){te.preventDefault();let ae=T!==void 0?T:createPath(J)===createPath(ee);G(R,{replace:ae,state:A,preventScrollReset:O,relative:z,viewTransition:U})}},[J,G,ee,T,A,y,R,O,z,U])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:R}=useDataRouterContext3("useSubmit"),{basename:y}=reactExports.useContext(NavigationContext),T=useRouteId();return reactExports.useCallback(async(A,O={})=>{let{action:z,method:U,encType:G,formData:J,body:ee}=getFormSubmissionInfo(A,y);if(O.navigate===!1){let te=O.fetcherKey||getUniqueFetcherId();await R.fetch(te,T,O.action||z,{preventScrollReset:O.preventScrollReset,formData:J,body:ee,formMethod:O.method||U,formEncType:O.encType||G,flushSync:O.flushSync})}else await R.navigate(O.action||z,{preventScrollReset:O.preventScrollReset,formData:J,body:ee,formMethod:O.method||U,formEncType:O.encType||G,replace:O.replace,state:O.state,fromRouteId:T,flushSync:O.flushSync,viewTransition:O.viewTransition})},[R,y,T])}function useFormAction(R,{relative:y}={}){let{basename:T}=reactExports.useContext(NavigationContext),A=reactExports.useContext(RouteContext);invariant$1(A,"useFormAction must be used inside a RouteContext");let[O]=A.matches.slice(-1),z={...useResolvedPath(R||".",{relative:y})},U=useLocation();if(R==null){z.search=U.search;let G=new URLSearchParams(z.search),J=G.getAll("index");if(J.some(te=>te==="")){G.delete("index"),J.filter(ae=>ae).forEach(ae=>G.append("index",ae));let te=G.toString();z.search=te?`?${te}`:""}}return(!R||R===".")&&O.route.index&&(z.search=z.search?z.search.replace(/^\?/,"?index&"):"?index"),T!=="/"&&(z.pathname=z.pathname==="/"?T:joinPaths([T,z.pathname])),createPath(z)}function useViewTransitionState(R,{relative:y}={}){let T=reactExports.useContext(ViewTransitionContext);invariant$1(T!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:A}=useDataRouterContext3("useViewTransitionState"),O=useResolvedPath(R,{relative:y});if(!T.isTransitioning)return!1;let z=stripBasename(T.currentLocation.pathname,A)||T.currentLocation.pathname,U=stripBasename(T.nextLocation.pathname,A)||T.nextLocation.pathname;return matchPath(O.pathname,U)!=null||matchPath(O.pathname,z)!=null}var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);let e={data:""},t=R=>{if(typeof window=="object"){let y=(R?R.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return y.nonce=window.__nonce__,y.parentNode||(R||document.head).appendChild(y),y.firstChild}return R||e},l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,n$1=/\n+/g,o=(R,y)=>{let T="",A="",O="";for(let z in R){let U=R[z];z[0]=="@"?z[1]=="i"?T=z+" "+U+";":A+=z[1]=="f"?o(U,z):z+"{"+o(U,z[1]=="k"?"":y)+"}":typeof U=="object"?A+=o(U,y?y.replace(/([^,])+/g,G=>z.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,J=>/&/.test(J)?J.replace(/&/g,G):G?G+" "+J:J)):z):U!=null&&(z=/^--/.test(z)?z:z.replace(/[A-Z]/g,"-$&").toLowerCase(),O+=o.p?o.p(z,U):z+":"+U+";")}return T+(y&&O?y+"{"+O+"}":O)+A},c={},s=R=>{if(typeof R=="object"){let y="";for(let T in R)y+=T+s(R[T]);return y}return R},i$1=(R,y,T,A,O)=>{let z=s(R),U=c[z]||(c[z]=(J=>{let ee=0,te=11;for(;ee<J.length;)te=101*te+J.charCodeAt(ee++)>>>0;return"go"+te})(z));if(!c[U]){let J=z!==R?R:(ee=>{let te,ae,oe=[{}];for(;te=l.exec(ee.replace(a,""));)te[4]?oe.shift():te[3]?(ae=te[3].replace(n$1," ").trim(),oe.unshift(oe[0][ae]=oe[0][ae]||{})):oe[0][te[1]]=te[2].replace(n$1," ").trim();return oe[0]})(R);c[U]=o(O?{["@keyframes "+U]:J}:J,T?"":"."+U)}let G=T&&c.g?c.g:null;return T&&(c.g=c[U]),((J,ee,te,ae)=>{ae?ee.data=ee.data.replace(ae,J):ee.data.indexOf(J)===-1&&(ee.data=te?J+ee.data:ee.data+J)})(c[U],y,A,G),U},p=(R,y,T)=>R.reduce((A,O,z)=>{let U=y[z];if(U&&U.call){let G=U(T),J=G&&G.props&&G.props.className||/^go/.test(G)&&G;U=J?"."+J:G&&typeof G=="object"?G.props?"":o(G,""):G===!1?"":G}return A+O+(U??"")},"");function u(R){let y=this||{},T=R.call?R(y.p):R;return i$1(T.unshift?T.raw?p(T,[].slice.call(arguments,1),y.p):T.reduce((A,O)=>Object.assign(A,O&&O.call?O(y.p):O),{}):T,t(y.target),y.g,y.o,y.k)}let d,f$1,g;u.bind({g:1});let h$2=u.bind({k:1});function m$1(R,y,T,A){o.p=y,d=R,f$1=T,g=A}function w$1(R,y){let T=this||{};return function(){let A=arguments;function O(z,U){let G=Object.assign({},z),J=G.className||O.className;T.p=Object.assign({theme:f$1&&f$1()},G),T.o=/ *go\d+/.test(J),G.className=u.apply(T,A)+(J?" "+J:"");let ee=R;return R[0]&&(ee=G.as||R,delete G.as),g&&ee[0]&&g(G),d(ee,G)}return O}}var Z=R=>typeof R=="function",h$1=(R,y)=>Z(R)?R(y):R,W=(()=>{let R=0;return()=>(++R).toString()})(),E$1=(()=>{let R;return()=>{if(R===void 0&&typeof window<"u"){let y=matchMedia("(prefers-reduced-motion: reduce)");R=!y||y.matches}return R}})(),re=20,k$1="default",H$1=(R,y)=>{let{toastLimit:T}=R.settings;switch(y.type){case 0:return{...R,toasts:[y.toast,...R.toasts].slice(0,T)};case 1:return{...R,toasts:R.toasts.map(U=>U.id===y.toast.id?{...U,...y.toast}:U)};case 2:let{toast:A}=y;return H$1(R,{type:R.toasts.find(U=>U.id===A.id)?1:0,toast:A});case 3:let{toastId:O}=y;return{...R,toasts:R.toasts.map(U=>U.id===O||O===void 0?{...U,dismissed:!0,visible:!1}:U)};case 4:return y.toastId===void 0?{...R,toasts:[]}:{...R,toasts:R.toasts.filter(U=>U.id!==y.toastId)};case 5:return{...R,pausedAt:y.time};case 6:let z=y.time-(R.pausedAt||0);return{...R,pausedAt:void 0,toasts:R.toasts.map(U=>({...U,pauseDuration:U.pauseDuration+z}))}}},v$1=[],j={toasts:[],pausedAt:void 0,settings:{toastLimit:re}},f={},Y=(R,y=k$1)=>{f[y]=H$1(f[y]||j,R),v$1.forEach(([T,A])=>{T===y&&A(f[y])})},_$1=R=>Object.keys(f).forEach(y=>Y(R,y)),Q=R=>Object.keys(f).find(y=>f[y].toasts.some(T=>T.id===R)),S$1=(R=k$1)=>y=>{Y(y,R)},se={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},V=(R={},y=k$1)=>{let[T,A]=reactExports.useState(f[y]||j),O=reactExports.useRef(f[y]);reactExports.useEffect(()=>(O.current!==f[y]&&A(f[y]),v$1.push([y,A]),()=>{let U=v$1.findIndex(([G])=>G===y);U>-1&&v$1.splice(U,1)}),[y]);let z=T.toasts.map(U=>{var G,J,ee;return{...R,...R[U.type],...U,removeDelay:U.removeDelay||((G=R[U.type])==null?void 0:G.removeDelay)||R?.removeDelay,duration:U.duration||((J=R[U.type])==null?void 0:J.duration)||R?.duration||se[U.type],style:{...R.style,...(ee=R[U.type])==null?void 0:ee.style,...U.style}}});return{...T,toasts:z}},ie$2=(R,y="blank",T)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:y,ariaProps:{role:"status","aria-live":"polite"},message:R,pauseDuration:0,...T,id:T?.id||W()}),P=R=>(y,T)=>{let A=ie$2(y,R,T);return S$1(A.toasterId||Q(A.id))({type:2,toast:A}),A.id},n=(R,y)=>P("blank")(R,y);n.error=P("error");n.success=P("success");n.loading=P("loading");n.custom=P("custom");n.dismiss=(R,y)=>{let T={type:3,toastId:R};y?S$1(y)(T):_$1(T)};n.dismissAll=R=>n.dismiss(void 0,R);n.remove=(R,y)=>{let T={type:4,toastId:R};y?S$1(y)(T):_$1(T)};n.removeAll=R=>n.remove(void 0,R);n.promise=(R,y,T)=>{let A=n.loading(y.loading,{...T,...T?.loading});return typeof R=="function"&&(R=R()),R.then(O=>{let z=y.success?h$1(y.success,O):void 0;return z?n.success(z,{id:A,...T,...T?.success}):n.dismiss(A),O}).catch(O=>{let z=y.error?h$1(y.error,O):void 0;z?n.error(z,{id:A,...T,...T?.error}):n.dismiss(A)}),R};var ce=1e3,w=(R,y="default")=>{let{toasts:T,pausedAt:A}=V(R,y),O=reactExports.useRef(new Map).current,z=reactExports.useCallback((ae,oe=ce)=>{if(O.has(ae))return;let pe=setTimeout(()=>{O.delete(ae),U({type:4,toastId:ae})},oe);O.set(ae,pe)},[]);reactExports.useEffect(()=>{if(A)return;let ae=Date.now(),oe=T.map(pe=>{if(pe.duration===1/0)return;let fe=(pe.duration||0)+pe.pauseDuration-(ae-pe.createdAt);if(fe<0){pe.visible&&n.dismiss(pe.id);return}return setTimeout(()=>n.dismiss(pe.id,y),fe)});return()=>{oe.forEach(pe=>pe&&clearTimeout(pe))}},[T,A,y]);let U=reactExports.useCallback(S$1(y),[y]),G=reactExports.useCallback(()=>{U({type:5,time:Date.now()})},[U]),J=reactExports.useCallback((ae,oe)=>{U({type:1,toast:{id:ae,height:oe}})},[U]),ee=reactExports.useCallback(()=>{A&&U({type:6,time:Date.now()})},[A,U]),te=reactExports.useCallback((ae,oe)=>{let{reverseOrder:pe=!1,gutter:fe=8,defaultPosition:xe}=oe||{},ye=T.filter(je=>(je.position||xe)===(ae.position||xe)&&je.height),_e=ye.findIndex(je=>je.id===ae.id),Le=ye.filter((je,Ne)=>Ne<_e&&je.visible).length;return ye.filter(je=>je.visible).slice(...pe?[Le+1]:[0,Le]).reduce((je,Ne)=>je+(Ne.height||0)+fe,0)},[T]);return reactExports.useEffect(()=>{T.forEach(ae=>{if(ae.dismissed)z(ae.id,ae.removeDelay);else{let oe=O.get(ae.id);oe&&(clearTimeout(oe),O.delete(ae.id))}})},[T,z]),{toasts:T,handlers:{updateHeight:J,startPause:G,endPause:ee,calculateOffset:te}}},de=h$2`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,me=h$2`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,le=h$2`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,C=w$1("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${R=>R.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${de} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${me} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${R=>R.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${le} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Te=h$2`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,F=w$1("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${R=>R.secondary||"#e0e0e0"};
  border-right-color: ${R=>R.primary||"#616161"};
  animation: ${Te} 1s linear infinite;
`,ge=h$2`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,he=h$2`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,L$1=w$1("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${R=>R.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ge} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${he} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${R=>R.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,be=w$1("div")`
  position: absolute;
`,Se=w$1("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ae=h$2`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Pe=w$1("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ae} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$$1=({toast:R})=>{let{icon:y,type:T,iconTheme:A}=R;return y!==void 0?typeof y=="string"?reactExports.createElement(Pe,null,y):y:T==="blank"?null:reactExports.createElement(Se,null,reactExports.createElement(F,{...A}),T!=="loading"&&reactExports.createElement(be,null,T==="error"?reactExports.createElement(C,{...A}):reactExports.createElement(L$1,{...A})))},Re=R=>`
0% {transform: translate3d(0,${R*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ee=R=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${R*-150}%,-1px) scale(.6); opacity:0;}
`,ve="0%{opacity:0;} 100%{opacity:1;}",De="0%{opacity:1;} 100%{opacity:0;}",Oe=w$1("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ie=w$1("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ke=(R,y)=>{let T=R.includes("top")?1:-1,[A,O]=E$1()?[ve,De]:[Re(T),Ee(T)];return{animation:y?`${h$2(A)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${h$2(O)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},N$1=reactExports.memo(({toast:R,position:y,style:T,children:A})=>{let O=R.height?ke(R.position||y||"top-center",R.visible):{opacity:0},z=reactExports.createElement($$1,{toast:R}),U=reactExports.createElement(Ie,{...R.ariaProps},h$1(R.message,R));return reactExports.createElement(Oe,{className:R.className,style:{...O,...T,...R.style}},typeof A=="function"?A({icon:z,message:U}):reactExports.createElement(reactExports.Fragment,null,z,U))});m$1(reactExports.createElement);var we=({id:R,className:y,style:T,onHeightUpdate:A,children:O})=>{let z=reactExports.useCallback(U=>{if(U){let G=()=>{let J=U.getBoundingClientRect().height;A(R,J)};G(),new MutationObserver(G).observe(U,{subtree:!0,childList:!0,characterData:!0})}},[R,A]);return reactExports.createElement("div",{ref:z,className:y,style:T},O)},Me=(R,y)=>{let T=R.includes("top"),A=T?{top:0}:{bottom:0},O=R.includes("center")?{justifyContent:"center"}:R.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:E$1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${y*(T?1:-1)}px)`,...A,...O}},Ce=u`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,D$1=16,Fe=({reverseOrder:R,position:y="top-center",toastOptions:T,gutter:A,children:O,toasterId:z,containerStyle:U,containerClassName:G})=>{let{toasts:J,handlers:ee}=w(T,z);return reactExports.createElement("div",{"data-rht-toaster":z||"",style:{position:"fixed",zIndex:9999,top:D$1,left:D$1,right:D$1,bottom:D$1,pointerEvents:"none",...U},className:G,onMouseEnter:ee.startPause,onMouseLeave:ee.endPause},J.map(te=>{let ae=te.position||y,oe=ee.calculateOffset(te,{reverseOrder:R,gutter:A,defaultPosition:y}),pe=Me(ae,oe);return reactExports.createElement(we,{id:te.id,key:te.id,onHeightUpdate:ee.updateHeight,className:te.visible?Ce:"",style:pe},te.type==="custom"?h$1(te.message,te):O?O(te):reactExports.createElement(N$1,{toast:te,position:ae}))}))},zt=n;const LayoutGroupContext=reactExports.createContext({});function useConstant(R){const y=reactExports.useRef(null);return y.current===null&&(y.current=R()),y.current}const isBrowser=typeof window<"u",useIsomorphicLayoutEffect$1=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext=reactExports.createContext(null);function addUniqueItem(R,y){R.indexOf(y)===-1&&R.push(y)}function removeItem(R,y){const T=R.indexOf(y);T>-1&&R.splice(T,1)}const clamp=(R,y,T)=>T>y?y:T<R?R:T;let invariant=()=>{};const MotionGlobalConfig={},isNumericalString=R=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(R);function isObject(R){return typeof R=="object"&&R!==null}const isZeroValueString=R=>/^0[^.\s]+$/u.test(R);function memo(R){let y;return()=>(y===void 0&&(y=R()),y)}const noop$1=R=>R,combineFunctions=(R,y)=>T=>y(R(T)),pipe=(...R)=>R.reduce(combineFunctions),progress=(R,y,T)=>{const A=y-R;return A===0?1:(T-R)/A};class SubscriptionManager{constructor(){this.subscriptions=[]}add(y){return addUniqueItem(this.subscriptions,y),()=>removeItem(this.subscriptions,y)}notify(y,T,A){const O=this.subscriptions.length;if(O)if(O===1)this.subscriptions[0](y,T,A);else for(let z=0;z<O;z++){const U=this.subscriptions[z];U&&U(y,T,A)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=R=>R*1e3,millisecondsToSeconds=R=>R/1e3;function velocityPerSecond(R,y){return y?R*(1e3/y):0}const calcBezier=(R,y,T)=>(((1-3*T+3*y)*R+(3*T-6*y))*R+3*y)*R,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(R,y,T,A,O){let z,U,G=0;do U=y+(T-y)/2,z=calcBezier(U,A,O)-R,z>0?T=U:y=U;while(Math.abs(z)>subdivisionPrecision&&++G<subdivisionMaxIterations);return U}function cubicBezier(R,y,T,A){if(R===y&&T===A)return noop$1;const O=z=>binarySubdivide(z,0,1,R,T);return z=>z===0||z===1?z:calcBezier(O(z),y,A)}const mirrorEasing=R=>y=>y<=.5?R(2*y)/2:(2-R(2*(1-y)))/2,reverseEasing=R=>y=>1-R(1-y),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=R=>(R*=2)<1?.5*backIn(R):.5*(2-Math.pow(2,-10*(R-1))),circIn=R=>1-Math.sin(Math.acos(R)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=R=>Array.isArray(R)&&typeof R[0]!="number",isBezierDefinition=R=>Array.isArray(R)&&typeof R[0]=="number",easingLookup={linear:noop$1,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},isValidEasing=R=>typeof R=="string",easingDefinitionToFunction=R=>{if(isBezierDefinition(R)){invariant(R.length===4);const[y,T,A,O]=R;return cubicBezier(y,T,A,O)}else if(isValidEasing(R))return easingLookup[R];return R},stepsOrder=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function createRenderStep(R,y){let T=new Set,A=new Set,O=!1,z=!1;const U=new WeakSet;let G={delta:0,timestamp:0,isProcessing:!1};function J(te){U.has(te)&&(ee.schedule(te),R()),te(G)}const ee={schedule:(te,ae=!1,oe=!1)=>{const fe=oe&&O?T:A;return ae&&U.add(te),fe.has(te)||fe.add(te),te},cancel:te=>{A.delete(te),U.delete(te)},process:te=>{if(G=te,O){z=!0;return}O=!0,[T,A]=[A,T],T.forEach(J),T.clear(),O=!1,z&&(z=!1,ee.process(te))}};return ee}const maxElapsed=40;function createRenderBatcher(R,y){let T=!1,A=!0;const O={delta:0,timestamp:0,isProcessing:!1},z=()=>T=!0,U=stepsOrder.reduce((je,Ne)=>(je[Ne]=createRenderStep(z),je),{}),{setup:G,read:J,resolveKeyframes:ee,preUpdate:te,update:ae,preRender:oe,render:pe,postRender:fe}=U,xe=()=>{const je=MotionGlobalConfig.useManualTiming?O.timestamp:performance.now();T=!1,MotionGlobalConfig.useManualTiming||(O.delta=A?1e3/60:Math.max(Math.min(je-O.timestamp,maxElapsed),1)),O.timestamp=je,O.isProcessing=!0,G.process(O),J.process(O),ee.process(O),te.process(O),ae.process(O),oe.process(O),pe.process(O),fe.process(O),O.isProcessing=!1,T&&y&&(A=!1,R(xe))},ye=()=>{T=!0,A=!0,O.isProcessing||R(xe)};return{schedule:stepsOrder.reduce((je,Ne)=>{const $e=U[Ne];return je[Ne]=(Ue,He=!1,ze=!1)=>(T||ye(),$e.schedule(Ue,He,ze)),je},{}),cancel:je=>{for(let Ne=0;Ne<stepsOrder.length;Ne++)U[stepsOrder[Ne]].cancel(je)},state:O,steps:U}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$1,!0);let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:R=>{now=R,queueMicrotask(clearTime)}},checkStringStartsWith=R=>y=>typeof y=="string"&&y.startsWith(R),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=R=>startsAsVariableToken(R)?singleCssVariableRegex.test(R.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,number={test:R=>typeof R=="number",parse:parseFloat,transform:R=>R},alpha$1={...number,transform:R=>clamp(0,1,R)},scale={...number,default:1},sanitize=R=>Math.round(R*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(R){return R==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(R,y)=>T=>!!(typeof T=="string"&&singleColorRegex.test(T)&&T.startsWith(R)||y&&!isNullish(T)&&Object.prototype.hasOwnProperty.call(T,y)),splitColor=(R,y,T)=>A=>{if(typeof A!="string")return A;const[O,z,U,G]=A.match(floatRegex);return{[R]:parseFloat(O),[y]:parseFloat(z),[T]:parseFloat(U),alpha:G!==void 0?parseFloat(G):1}},clampRgbUnit=R=>clamp(0,255,R),rgbUnit={...number,transform:R=>Math.round(clampRgbUnit(R))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:R,green:y,blue:T,alpha:A=1})=>"rgba("+rgbUnit.transform(R)+", "+rgbUnit.transform(y)+", "+rgbUnit.transform(T)+", "+sanitize(alpha$1.transform(A))+")"};function parseHex(R){let y="",T="",A="",O="";return R.length>5?(y=R.substring(1,3),T=R.substring(3,5),A=R.substring(5,7),O=R.substring(7,9)):(y=R.substring(1,2),T=R.substring(2,3),A=R.substring(3,4),O=R.substring(4,5),y+=y,T+=T,A+=A,O+=O),{red:parseInt(y,16),green:parseInt(T,16),blue:parseInt(A,16),alpha:O?parseInt(O,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},createUnitType=R=>({test:y=>typeof y=="string"&&y.endsWith(R)&&y.split(" ").length===1,parse:parseFloat,transform:y=>`${y}${R}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:R=>percent.parse(R)/100,transform:R=>percent.transform(R*100)},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:R,saturation:y,lightness:T,alpha:A=1})=>"hsla("+Math.round(R)+", "+percent.transform(sanitize(y))+", "+percent.transform(sanitize(T))+", "+sanitize(alpha$1.transform(A))+")"},color={test:R=>rgba.test(R)||hex.test(R)||hsla.test(R),parse:R=>rgba.test(R)?rgba.parse(R):hsla.test(R)?hsla.parse(R):hex.parse(R),transform:R=>typeof R=="string"?R:R.hasOwnProperty("red")?rgba.transform(R):hsla.transform(R),getAnimatableNone:R=>{const y=color.parse(R);return y.alpha=0,color.transform(y)}},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(R){return isNaN(R)&&typeof R=="string"&&(R.match(floatRegex)?.length||0)+(R.match(colorRegex)?.length||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(R){const y=R.toString(),T=[],A={color:[],number:[],var:[]},O=[];let z=0;const G=y.replace(complexRegex,J=>(color.test(J)?(A.color.push(z),O.push(COLOR_TOKEN),T.push(color.parse(J))):J.startsWith(VAR_FUNCTION_TOKEN)?(A.var.push(z),O.push(VAR_TOKEN),T.push(J)):(A.number.push(z),O.push(NUMBER_TOKEN),T.push(parseFloat(J))),++z,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:T,split:G,indexes:A,types:O}}function parseComplexValue(R){return analyseComplexValue(R).values}function createTransformer(R){const{split:y,types:T}=analyseComplexValue(R),A=y.length;return O=>{let z="";for(let U=0;U<A;U++)if(z+=y[U],O[U]!==void 0){const G=T[U];G===NUMBER_TOKEN?z+=sanitize(O[U]):G===COLOR_TOKEN?z+=color.transform(O[U]):z+=O[U]}return z}}const convertNumbersToZero=R=>typeof R=="number"?0:color.test(R)?color.getAnimatableNone(R):R;function getAnimatableNone$1(R){const y=parseComplexValue(R);return createTransformer(R)(y.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1};function hueToRgb(R,y,T){return T<0&&(T+=1),T>1&&(T-=1),T<1/6?R+(y-R)*6*T:T<1/2?y:T<2/3?R+(y-R)*(2/3-T)*6:R}function hslaToRgba({hue:R,saturation:y,lightness:T,alpha:A}){R/=360,y/=100,T/=100;let O=0,z=0,U=0;if(!y)O=z=U=T;else{const G=T<.5?T*(1+y):T+y-T*y,J=2*T-G;O=hueToRgb(J,G,R+1/3),z=hueToRgb(J,G,R),U=hueToRgb(J,G,R-1/3)}return{red:Math.round(O*255),green:Math.round(z*255),blue:Math.round(U*255),alpha:A}}function mixImmediate(R,y){return T=>T>0?y:R}const mixNumber$1=(R,y,T)=>R+(y-R)*T,mixLinearColor=(R,y,T)=>{const A=R*R,O=T*(y*y-A)+A;return O<0?0:Math.sqrt(O)},colorTypes=[hex,rgba,hsla],getColorType=R=>colorTypes.find(y=>y.test(R));function asRGBA(R){const y=getColorType(R);if(!y)return!1;let T=y.parse(R);return y===hsla&&(T=hslaToRgba(T)),T}const mixColor=(R,y)=>{const T=asRGBA(R),A=asRGBA(y);if(!T||!A)return mixImmediate(R,y);const O={...T};return z=>(O.red=mixLinearColor(T.red,A.red,z),O.green=mixLinearColor(T.green,A.green,z),O.blue=mixLinearColor(T.blue,A.blue,z),O.alpha=mixNumber$1(T.alpha,A.alpha,z),rgba.transform(O))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(R,y){return invisibleValues.has(R)?T=>T<=0?R:y:T=>T>=1?y:R}function mixNumber(R,y){return T=>mixNumber$1(R,y,T)}function getMixer(R){return typeof R=="number"?mixNumber:typeof R=="string"?isCSSVariableToken(R)?mixImmediate:color.test(R)?mixColor:mixComplex:Array.isArray(R)?mixArray:typeof R=="object"?color.test(R)?mixColor:mixObject:mixImmediate}function mixArray(R,y){const T=[...R],A=T.length,O=R.map((z,U)=>getMixer(z)(z,y[U]));return z=>{for(let U=0;U<A;U++)T[U]=O[U](z);return T}}function mixObject(R,y){const T={...R,...y},A={};for(const O in T)R[O]!==void 0&&y[O]!==void 0&&(A[O]=getMixer(R[O])(R[O],y[O]));return O=>{for(const z in A)T[z]=A[z](O);return T}}function matchOrder(R,y){const T=[],A={color:0,var:0,number:0};for(let O=0;O<y.values.length;O++){const z=y.types[O],U=R.indexes[z][A[z]],G=R.values[U]??0;T[O]=G,A[z]++}return T}const mixComplex=(R,y)=>{const T=complex.createTransformer(y),A=analyseComplexValue(R),O=analyseComplexValue(y);return A.indexes.var.length===O.indexes.var.length&&A.indexes.color.length===O.indexes.color.length&&A.indexes.number.length>=O.indexes.number.length?invisibleValues.has(R)&&!O.values.length||invisibleValues.has(y)&&!A.values.length?mixVisibility(R,y):pipe(mixArray(matchOrder(A,O),O.values),T):mixImmediate(R,y)};function mix(R,y,T){return typeof R=="number"&&typeof y=="number"&&typeof T=="number"?mixNumber$1(R,y,T):getMixer(R)(R,y)}const frameloopDriver=R=>{const y=({timestamp:T})=>R(T);return{start:(T=!0)=>frame.update(y,T),stop:()=>cancelFrame(y),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generateLinearEasing=(R,y,T=10)=>{let A="";const O=Math.max(Math.round(y/T),2);for(let z=0;z<O;z++)A+=Math.round(R(z/(O-1))*1e4)/1e4+", ";return`linear(${A.substring(0,A.length-2)})`},maxGeneratorDuration=2e4;function calcGeneratorDuration(R){let y=0;const T=50;let A=R.next(y);for(;!A.done&&y<maxGeneratorDuration;)y+=T,A=R.next(y);return y>=maxGeneratorDuration?1/0:y}function createGeneratorEasing(R,y=100,T){const A=T({...R,keyframes:[0,y]}),O=Math.min(calcGeneratorDuration(A),maxGeneratorDuration);return{type:"keyframes",ease:z=>A.next(O*z).value/y,duration:millisecondsToSeconds(O)}}const velocitySampleDuration=5;function calcGeneratorVelocity(R,y,T){const A=Math.max(y-velocitySampleDuration,0);return velocityPerSecond(T-R(A),y-A)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:R=springDefaults.duration,bounce:y=springDefaults.bounce,velocity:T=springDefaults.velocity,mass:A=springDefaults.mass}){let O,z,U=1-y;U=clamp(springDefaults.minDamping,springDefaults.maxDamping,U),R=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(R)),U<1?(O=ee=>{const te=ee*U,ae=te*R,oe=te-T,pe=calcAngularFreq(ee,U),fe=Math.exp(-ae);return safeMin-oe/pe*fe},z=ee=>{const ae=ee*U*R,oe=ae*T+T,pe=Math.pow(U,2)*Math.pow(ee,2)*R,fe=Math.exp(-ae),xe=calcAngularFreq(Math.pow(ee,2),U);return(-O(ee)+safeMin>0?-1:1)*((oe-pe)*fe)/xe}):(O=ee=>{const te=Math.exp(-ee*R),ae=(ee-T)*R+1;return-safeMin+te*ae},z=ee=>{const te=Math.exp(-ee*R),ae=(T-ee)*(R*R);return te*ae});const G=5/R,J=approximateRoot(O,z,G);if(R=secondsToMilliseconds(R),isNaN(J))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:R};{const ee=Math.pow(J,2)*A;return{stiffness:ee,damping:U*2*Math.sqrt(A*ee),duration:R}}}const rootIterations=12;function approximateRoot(R,y,T){let A=T;for(let O=1;O<rootIterations;O++)A=A-R(A)/y(A);return A}function calcAngularFreq(R,y){return R*Math.sqrt(1-y*y)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(R,y){return y.some(T=>R[T]!==void 0)}function getSpringOptions(R){let y={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...R};if(!isSpringType(R,physicsKeys)&&isSpringType(R,durationKeys))if(R.visualDuration){const T=R.visualDuration,A=2*Math.PI/(T*1.2),O=A*A,z=2*clamp(.05,1,1-(R.bounce||0))*Math.sqrt(O);y={...y,mass:springDefaults.mass,stiffness:O,damping:z}}else{const T=findSpring(R);y={...y,...T,mass:springDefaults.mass},y.isResolvedFromDuration=!0}return y}function spring(R=springDefaults.visualDuration,y=springDefaults.bounce){const T=typeof R!="object"?{visualDuration:R,keyframes:[0,1],bounce:y}:R;let{restSpeed:A,restDelta:O}=T;const z=T.keyframes[0],U=T.keyframes[T.keyframes.length-1],G={done:!1,value:z},{stiffness:J,damping:ee,mass:te,duration:ae,velocity:oe,isResolvedFromDuration:pe}=getSpringOptions({...T,velocity:-millisecondsToSeconds(T.velocity||0)}),fe=oe||0,xe=ee/(2*Math.sqrt(J*te)),ye=U-z,_e=millisecondsToSeconds(Math.sqrt(J/te)),Le=Math.abs(ye)<5;A||(A=Le?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),O||(O=Le?springDefaults.restDelta.granular:springDefaults.restDelta.default);let je;if(xe<1){const $e=calcAngularFreq(_e,xe);je=Ue=>{const He=Math.exp(-xe*_e*Ue);return U-He*((fe+xe*_e*ye)/$e*Math.sin($e*Ue)+ye*Math.cos($e*Ue))}}else if(xe===1)je=$e=>U-Math.exp(-_e*$e)*(ye+(fe+_e*ye)*$e);else{const $e=_e*Math.sqrt(xe*xe-1);je=Ue=>{const He=Math.exp(-xe*_e*Ue),ze=Math.min($e*Ue,300);return U-He*((fe+xe*_e*ye)*Math.sinh(ze)+$e*ye*Math.cosh(ze))/$e}}const Ne={calculatedDuration:pe&&ae||null,next:$e=>{const Ue=je($e);if(pe)G.done=$e>=ae;else{let He=$e===0?fe:0;xe<1&&(He=$e===0?secondsToMilliseconds(fe):calcGeneratorVelocity(je,$e,Ue));const ze=Math.abs(He)<=A,Ke=Math.abs(U-Ue)<=O;G.done=ze&&Ke}return G.value=G.done?U:Ue,G},toString:()=>{const $e=Math.min(calcGeneratorDuration(Ne),maxGeneratorDuration),Ue=generateLinearEasing(He=>Ne.next($e*He).value,$e,30);return $e+"ms "+Ue},toTransition:()=>{}};return Ne}spring.applyToOptions=R=>{const y=createGeneratorEasing(R,100,spring);return R.ease=y.ease,R.duration=secondsToMilliseconds(y.duration),R.type="keyframes",R};function inertia({keyframes:R,velocity:y=0,power:T=.8,timeConstant:A=325,bounceDamping:O=10,bounceStiffness:z=500,modifyTarget:U,min:G,max:J,restDelta:ee=.5,restSpeed:te}){const ae=R[0],oe={done:!1,value:ae},pe=ze=>G!==void 0&&ze<G||J!==void 0&&ze>J,fe=ze=>G===void 0?J:J===void 0||Math.abs(G-ze)<Math.abs(J-ze)?G:J;let xe=T*y;const ye=ae+xe,_e=U===void 0?ye:U(ye);_e!==ye&&(xe=_e-ae);const Le=ze=>-xe*Math.exp(-ze/A),je=ze=>_e+Le(ze),Ne=ze=>{const Ke=Le(ze),Je=je(ze);oe.done=Math.abs(Ke)<=ee,oe.value=oe.done?_e:Je};let $e,Ue;const He=ze=>{pe(oe.value)&&($e=ze,Ue=spring({keyframes:[oe.value,fe(oe.value)],velocity:calcGeneratorVelocity(je,ze,oe.value),damping:O,stiffness:z,restDelta:ee,restSpeed:te}))};return He(0),{calculatedDuration:null,next:ze=>{let Ke=!1;return!Ue&&$e===void 0&&(Ke=!0,Ne(ze),He(ze)),$e!==void 0&&ze>=$e?Ue.next(ze-$e):(!Ke&&Ne(ze),oe)}}}function createMixers(R,y,T){const A=[],O=T||MotionGlobalConfig.mix||mix,z=R.length-1;for(let U=0;U<z;U++){let G=O(R[U],R[U+1]);if(y){const J=Array.isArray(y)?y[U]||noop$1:y;G=pipe(J,G)}A.push(G)}return A}function interpolate(R,y,{clamp:T=!0,ease:A,mixer:O}={}){const z=R.length;if(invariant(z===y.length),z===1)return()=>y[0];if(z===2&&y[0]===y[1])return()=>y[1];const U=R[0]===R[1];R[0]>R[z-1]&&(R=[...R].reverse(),y=[...y].reverse());const G=createMixers(y,A,O),J=G.length,ee=te=>{if(U&&te<R[0])return y[0];let ae=0;if(J>1)for(;ae<R.length-2&&!(te<R[ae+1]);ae++);const oe=progress(R[ae],R[ae+1],te);return G[ae](oe)};return T?te=>ee(clamp(R[0],R[z-1],te)):ee}function fillOffset(R,y){const T=R[R.length-1];for(let A=1;A<=y;A++){const O=progress(0,y,A);R.push(mixNumber$1(T,1,O))}}function defaultOffset(R){const y=[0];return fillOffset(y,R.length-1),y}function convertOffsetToTimes(R,y){return R.map(T=>T*y)}function defaultEasing(R,y){return R.map(()=>y||easeInOut).splice(0,R.length-1)}function keyframes({duration:R=300,keyframes:y,times:T,ease:A="easeInOut"}){const O=isEasingArray(A)?A.map(easingDefinitionToFunction):easingDefinitionToFunction(A),z={done:!1,value:y[0]},U=convertOffsetToTimes(T&&T.length===y.length?T:defaultOffset(y),R),G=interpolate(U,y,{ease:Array.isArray(O)?O:defaultEasing(y,O)});return{calculatedDuration:R,next:J=>(z.value=G(J),z.done=J>=R,z)}}const isNotNull$1=R=>R!==null;function getFinalKeyframe$1(R,{repeat:y,repeatType:T="loop"},A,O=1){const z=R.filter(isNotNull$1),G=O<0||y&&T!=="loop"&&y%2===1?0:z.length-1;return!G||A===void 0?z[G]:A}const transitionTypeMap={decay:inertia,inertia,tween:keyframes,keyframes,spring};function replaceTransitionType(R){typeof R.type=="string"&&(R.type=transitionTypeMap[R.type])}class WithPromise{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(y=>{this.resolve=y})}notifyFinished(){this.resolve()}then(y,T){return this.finished.then(y,T)}}const percentToProgress=R=>R/100;class JSAnimation extends WithPromise{constructor(y){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:T}=this.options;T&&T.updatedAt!==time.now()&&this.tick(time.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=y,this.initAnimation(),this.play(),y.autoplay===!1&&this.pause()}initAnimation(){const{options:y}=this;replaceTransitionType(y);const{type:T=keyframes,repeat:A=0,repeatDelay:O=0,repeatType:z,velocity:U=0}=y;let{keyframes:G}=y;const J=T||keyframes;J!==keyframes&&typeof G[0]!="number"&&(this.mixKeyframes=pipe(percentToProgress,mix(G[0],G[1])),G=[0,100]);const ee=J({...y,keyframes:G});z==="mirror"&&(this.mirroredGenerator=J({...y,keyframes:[...G].reverse(),velocity:-U})),ee.calculatedDuration===null&&(ee.calculatedDuration=calcGeneratorDuration(ee));const{calculatedDuration:te}=ee;this.calculatedDuration=te,this.resolvedDuration=te+O,this.totalDuration=this.resolvedDuration*(A+1)-O,this.generator=ee}updateTime(y){const T=Math.round(y-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=T}tick(y,T=!1){const{generator:A,totalDuration:O,mixKeyframes:z,mirroredGenerator:U,resolvedDuration:G,calculatedDuration:J}=this;if(this.startTime===null)return A.next(0);const{delay:ee=0,keyframes:te,repeat:ae,repeatType:oe,repeatDelay:pe,type:fe,onUpdate:xe,finalKeyframe:ye}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,y):this.speed<0&&(this.startTime=Math.min(y-O/this.speed,this.startTime)),T?this.currentTime=y:this.updateTime(y);const _e=this.currentTime-ee*(this.playbackSpeed>=0?1:-1),Le=this.playbackSpeed>=0?_e<0:_e>O;this.currentTime=Math.max(_e,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=O);let je=this.currentTime,Ne=A;if(ae){const ze=Math.min(this.currentTime,O)/G;let Ke=Math.floor(ze),Je=ze%1;!Je&&ze>=1&&(Je=1),Je===1&&Ke--,Ke=Math.min(Ke,ae+1),!!(Ke%2)&&(oe==="reverse"?(Je=1-Je,pe&&(Je-=pe/G)):oe==="mirror"&&(Ne=U)),je=clamp(0,1,Je)*G}const $e=Le?{done:!1,value:te[0]}:Ne.next(je);z&&($e.value=z($e.value));let{done:Ue}=$e;!Le&&J!==null&&(Ue=this.playbackSpeed>=0?this.currentTime>=O:this.currentTime<=0);const He=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Ue);return He&&fe!==inertia&&($e.value=getFinalKeyframe$1(te,this.options,ye,this.speed)),xe&&xe($e.value),He&&this.finish(),$e}then(y,T){return this.finished.then(y,T)}get duration(){return millisecondsToSeconds(this.calculatedDuration)}get iterationDuration(){const{delay:y=0}=this.options||{};return this.duration+millisecondsToSeconds(y)}get time(){return millisecondsToSeconds(this.currentTime)}set time(y){y=secondsToMilliseconds(y),this.currentTime=y,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=y:this.driver&&(this.startTime=this.driver.now()-y/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(y){this.updateTime(time.now());const T=this.playbackSpeed!==y;this.playbackSpeed=y,T&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.isStopped)return;const{driver:y=frameloopDriver,startTime:T}=this.options;this.driver||(this.driver=y(O=>this.tick(O))),this.options.onPlay?.();const A=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=A):this.holdTime!==null?this.startTime=A-this.holdTime:this.startTime||(this.startTime=T??A),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(time.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(y){return this.startTime=0,this.tick(y,!0)}attachTimeline(y){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),y.observe(this)}}function fillWildcards(R){for(let y=1;y<R.length;y++)R[y]??(R[y]=R[y-1])}const radToDeg=R=>R*180/Math.PI,rotate=R=>{const y=radToDeg(Math.atan2(R[1],R[0]));return rebaseAngle(y)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:R=>(Math.abs(R[0])+Math.abs(R[3]))/2,rotate,rotateZ:rotate,skewX:R=>radToDeg(Math.atan(R[1])),skewY:R=>radToDeg(Math.atan(R[2])),skew:R=>(Math.abs(R[1])+Math.abs(R[2]))/2},rebaseAngle=R=>(R=R%360,R<0&&(R+=360),R),rotateZ=rotate,scaleX=R=>Math.sqrt(R[0]*R[0]+R[1]*R[1]),scaleY=R=>Math.sqrt(R[4]*R[4]+R[5]*R[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:R=>(scaleX(R)+scaleY(R))/2,rotateX:R=>rebaseAngle(radToDeg(Math.atan2(R[6],R[5]))),rotateY:R=>rebaseAngle(radToDeg(Math.atan2(-R[2],R[0]))),rotateZ,rotate:rotateZ,skewX:R=>radToDeg(Math.atan(R[4])),skewY:R=>radToDeg(Math.atan(R[1])),skew:R=>(Math.abs(R[1])+Math.abs(R[4]))/2};function defaultTransformValue(R){return R.includes("scale")?1:0}function parseValueFromTransform(R,y){if(!R||R==="none")return defaultTransformValue(y);const T=R.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let A,O;if(T)A=matrix3dParsers,O=T;else{const G=R.match(/^matrix\(([-\d.e\s,]+)\)$/u);A=matrix2dParsers,O=G}if(!O)return defaultTransformValue(y);const z=A[y],U=O[1].split(",").map(convertTransformToNumber);return typeof z=="function"?z(U):U[z]}const readTransformValue=(R,y)=>{const{transform:T="none"}=getComputedStyle(R);return parseValueFromTransform(T,y)};function convertTransformToNumber(R){return parseFloat(R.trim())}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),isNumOrPxType=R=>R===number||R===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(R=>!transformKeys.has(R));function removeNonTranslationalTransform(R){const y=[];return nonTranslationalTransformKeys.forEach(T=>{const A=R.getValue(T);A!==void 0&&(y.push([T,A.get()]),A.set(T.startsWith("scale")?1:0))}),y}const positionalValues={width:({x:R},{paddingLeft:y="0",paddingRight:T="0"})=>R.max-R.min-parseFloat(y)-parseFloat(T),height:({y:R},{paddingTop:y="0",paddingBottom:T="0"})=>R.max-R.min-parseFloat(y)-parseFloat(T),top:(R,{top:y})=>parseFloat(y),left:(R,{left:y})=>parseFloat(y),bottom:({y:R},{top:y})=>parseFloat(y)+(R.max-R.min),right:({x:R},{left:y})=>parseFloat(y)+(R.max-R.min),x:(R,{transform:y})=>parseValueFromTransform(y,"x"),y:(R,{transform:y})=>parseValueFromTransform(y,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1,isForced=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const R=Array.from(toResolve).filter(A=>A.needsMeasurement),y=new Set(R.map(A=>A.element)),T=new Map;y.forEach(A=>{const O=removeNonTranslationalTransform(A);O.length&&(T.set(A,O),A.render())}),R.forEach(A=>A.measureInitialState()),y.forEach(A=>{A.render();const O=T.get(A);O&&O.forEach(([z,U])=>{A.getValue(z)?.set(U)})}),R.forEach(A=>A.measureEndState()),R.forEach(A=>{A.suspendedScrollY!==void 0&&window.scrollTo(0,A.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(R=>R.complete(isForced)),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(R=>{R.readKeyframes(),R.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){isForced=!0,readAllKeyframes(),measureAllKeyframes(),isForced=!1}class KeyframeResolver{constructor(y,T,A,O,z,U=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...y],this.onComplete=T,this.name=A,this.motionValue=O,this.element=z,this.isAsync=U}scheduleResolve(){this.state="scheduled",this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:y,name:T,element:A,motionValue:O}=this;if(y[0]===null){const z=O?.get(),U=y[y.length-1];if(z!==void 0)y[0]=z;else if(A&&T){const G=A.readValue(T,U);G!=null&&(y[0]=G)}y[0]===void 0&&(y[0]=U),O&&z===void 0&&O.set(y[0])}fillWildcards(y)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(y=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,y),toResolve.delete(this)}cancel(){this.state==="scheduled"&&(toResolve.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const isCSSVar=R=>R.startsWith("--");function setStyle(R,y,T){isCSSVar(y)?R.style.setProperty(y,T):R.style[y]=T}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0),supportsFlags={};function memoSupports(R,y){const T=memo(R);return()=>supportsFlags[y]??T()}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cubicBezierAsString=([R,y,T,A])=>`cubic-bezier(${R}, ${y}, ${T}, ${A})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(R,y){if(R)return typeof R=="function"?supportsLinearEasing()?generateLinearEasing(R,y):"ease-out":isBezierDefinition(R)?cubicBezierAsString(R):Array.isArray(R)?R.map(T=>mapEasingToNativeEasing(T,y)||supportedWaapiEasing.easeOut):supportedWaapiEasing[R]}function startWaapiAnimation(R,y,T,{delay:A=0,duration:O=300,repeat:z=0,repeatType:U="loop",ease:G="easeOut",times:J}={},ee=void 0){const te={[y]:T};J&&(te.offset=J);const ae=mapEasingToNativeEasing(G,O);Array.isArray(ae)&&(te.easing=ae);const oe={delay:A,duration:O,easing:Array.isArray(ae)?"linear":ae,fill:"both",iterations:z+1,direction:U==="reverse"?"alternate":"normal"};return ee&&(oe.pseudoElement=ee),R.animate(te,oe)}function isGenerator(R){return typeof R=="function"&&"applyToOptions"in R}function applyGeneratorOptions({type:R,...y}){return isGenerator(R)&&supportsLinearEasing()?R.applyToOptions(y):(y.duration??(y.duration=300),y.ease??(y.ease="easeOut"),y)}class NativeAnimation extends WithPromise{constructor(y){if(super(),this.finishedTime=null,this.isStopped=!1,!y)return;const{element:T,name:A,keyframes:O,pseudoElement:z,allowFlatten:U=!1,finalKeyframe:G,onComplete:J}=y;this.isPseudoElement=!!z,this.allowFlatten=U,this.options=y,invariant(typeof y.type!="string");const ee=applyGeneratorOptions(y);this.animation=startWaapiAnimation(T,A,O,ee,z),ee.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!z){const te=getFinalKeyframe$1(O,this.options,G,this.speed);this.updateMotionValue?this.updateMotionValue(te):setStyle(T,A,te),this.animation.cancel()}J?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:y}=this;y==="idle"||y==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const y=this.animation.effect?.getComputedTiming?.().duration||0;return millisecondsToSeconds(Number(y))}get iterationDuration(){const{delay:y=0}=this.options||{};return this.duration+millisecondsToSeconds(y)}get time(){return millisecondsToSeconds(Number(this.animation.currentTime)||0)}set time(y){this.finishedTime=null,this.animation.currentTime=secondsToMilliseconds(y)}get speed(){return this.animation.playbackRate}set speed(y){y<0&&(this.finishedTime=null),this.animation.playbackRate=y}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(y){this.animation.startTime=y}attachTimeline({timeline:y,observe:T}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,y&&supportsScrollTimeline()?(this.animation.timeline=y,noop$1):T(this)}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(R){return R in unsupportedEasingFunctions}function replaceStringEasing(R){typeof R.ease=="string"&&isUnsupportedEase(R.ease)&&(R.ease=unsupportedEasingFunctions[R.ease])}const sampleDelta=10;class NativeAnimationExtended extends NativeAnimation{constructor(y){replaceStringEasing(y),replaceTransitionType(y),super(y),y.startTime&&(this.startTime=y.startTime),this.options=y}updateMotionValue(y){const{motionValue:T,onUpdate:A,onComplete:O,element:z,...U}=this.options;if(!T)return;if(y!==void 0){T.set(y);return}const G=new JSAnimation({...U,autoplay:!1}),J=secondsToMilliseconds(this.finishedTime??this.time);T.setWithVelocity(G.sample(J-sampleDelta).value,G.sample(J).value,sampleDelta),G.stop()}}const isAnimatable=(R,y)=>y==="zIndex"?!1:!!(typeof R=="number"||Array.isArray(R)||typeof R=="string"&&(complex.test(R)||R==="0")&&!R.startsWith("url("));function hasKeyframesChanged(R){const y=R[0];if(R.length===1)return!0;for(let T=0;T<R.length;T++)if(R[T]!==y)return!0}function canAnimate(R,y,T,A){const O=R[0];if(O===null)return!1;if(y==="display"||y==="visibility")return!0;const z=R[R.length-1],U=isAnimatable(O,y),G=isAnimatable(z,y);return!U||!G?!1:hasKeyframesChanged(R)||(T==="spring"||isGenerator(T))&&A}function makeAnimationInstant(R){R.duration=0,R.type="keyframes"}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function supportsBrowserAnimation(R){const{motionValue:y,name:T,repeatDelay:A,repeatType:O,damping:z,type:U}=R;if(!(y?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:J,transformTemplate:ee}=y.owner.getProps();return supportsWaapi()&&T&&acceleratedValues.has(T)&&(T!=="transform"||!ee)&&!J&&!A&&O!=="mirror"&&z!==0&&U!=="inertia"}const MAX_RESOLVE_DELAY=40;class AsyncMotionValueAnimation extends WithPromise{constructor({autoplay:y=!0,delay:T=0,type:A="keyframes",repeat:O=0,repeatDelay:z=0,repeatType:U="loop",keyframes:G,name:J,motionValue:ee,element:te,...ae}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=time.now();const oe={autoplay:y,delay:T,type:A,repeat:O,repeatDelay:z,repeatType:U,name:J,motionValue:ee,element:te,...ae},pe=te?.KeyframeResolver||KeyframeResolver;this.keyframeResolver=new pe(G,(fe,xe,ye)=>this.onKeyframesResolved(fe,xe,oe,!ye),J,ee,te),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(y,T,A,O){this.keyframeResolver=void 0;const{name:z,type:U,velocity:G,delay:J,isHandoff:ee,onUpdate:te}=A;this.resolvedAt=time.now(),canAnimate(y,z,U,G)||((MotionGlobalConfig.instantAnimations||!J)&&te?.(getFinalKeyframe$1(y,A,T)),y[0]=y[y.length-1],makeAnimationInstant(A),A.repeat=0);const oe={startTime:O?this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:T,...A,keyframes:y},pe=!ee&&supportsBrowserAnimation(oe)?new NativeAnimationExtended({...oe,element:oe.motionValue.owner.current}):new JSAnimation(oe);pe.finished.then(()=>this.notifyFinished()).catch(noop$1),this.pendingTimeline&&(this.stopTimeline=pe.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=pe}get finished(){return this._animation?this.animation.finished:this._finished}then(y,T){return this.finished.finally(y).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),flushKeyframeResolvers()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(y){this.animation.time=y}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(y){this.animation.speed=y}get startTime(){return this.animation.startTime}attachTimeline(y){return this._animation?this.stopTimeline=this.animation.attachTimeline(y):this.pendingTimeline=y,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(R){const y=splitCSSVariableRegex.exec(R);if(!y)return[,];const[,T,A,O]=y;return[`--${T??A}`,O]}function getVariableValue(R,y,T=1){const[A,O]=parseCSSVariable(R);if(!A)return;const z=window.getComputedStyle(y).getPropertyValue(A);if(z){const U=z.trim();return isNumericalString(U)?parseFloat(U):U}return isCSSVariableToken(O)?getVariableValue(O,y,T+1):O}function getValueTransition(R,y){return R?.[y]??R?.default??R}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]),auto={test:R=>R==="auto",parse:R=>R},testValueType=R=>y=>y.test(R),dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=R=>dimensionValueTypes.find(testValueType(R));function isNone(R){return typeof R=="number"?R===0:R!==null?R==="none"||R==="0"||isZeroValueString(R):!0}const maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(R){const[y,T]=R.slice(0,-1).split("(");if(y==="drop-shadow")return R;const[A]=T.match(floatRegex)||[];if(!A)return R;const O=T.replace(A,"");let z=maxDefaults.has(y)?1:0;return A!==T&&(z*=100),y+"("+z+O+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:R=>{const y=R.match(functionRegex);return y?y.map(applyDefaultFilter).join(" "):R}},int={...number,transform:Math.round},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha$1,originX:progressPercentage,originY:progressPercentage,originZ:px},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px,...transformValueTypes,zIndex:int,fillOpacity:alpha$1,strokeOpacity:alpha$1,numOctaves:int},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=R=>defaultValueTypes[R];function getAnimatableNone(R,y){let T=getDefaultValueType(R);return T!==filter&&(T=complex),T.getAnimatableNone?T.getAnimatableNone(y):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(R,y,T){let A=0,O;for(;A<R.length&&!O;){const z=R[A];typeof z=="string"&&!invalidTemplates.has(z)&&analyseComplexValue(z).values.length&&(O=R[A]),A++}if(O&&T)for(const z of y)R[z]=getAnimatableNone(T,O)}class DOMKeyframesResolver extends KeyframeResolver{constructor(y,T,A,O,z){super(y,T,A,O,z,!0)}readKeyframes(){const{unresolvedKeyframes:y,element:T,name:A}=this;if(!T||!T.current)return;super.readKeyframes();for(let J=0;J<y.length;J++){let ee=y[J];if(typeof ee=="string"&&(ee=ee.trim(),isCSSVariableToken(ee))){const te=getVariableValue(ee,T.current);te!==void 0&&(y[J]=te),J===y.length-1&&(this.finalKeyframe=ee)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(A)||y.length!==2)return;const[O,z]=y,U=findDimensionValueType(O),G=findDimensionValueType(z);if(U!==G)if(isNumOrPxType(U)&&isNumOrPxType(G))for(let J=0;J<y.length;J++){const ee=y[J];typeof ee=="string"&&(y[J]=parseFloat(ee))}else positionalValues[A]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:y,name:T}=this,A=[];for(let O=0;O<y.length;O++)(y[O]===null||isNone(y[O]))&&A.push(O);A.length&&makeNoneKeyframesAnimatable(y,A,T)}measureInitialState(){const{element:y,unresolvedKeyframes:T,name:A}=this;if(!y||!y.current)return;A==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[A](y.measureViewportBox(),window.getComputedStyle(y.current)),T[0]=this.measuredOrigin;const O=T[T.length-1];O!==void 0&&y.getValue(A,O).jump(O,!1)}measureEndState(){const{element:y,name:T,unresolvedKeyframes:A}=this;if(!y||!y.current)return;const O=y.getValue(T);O&&O.jump(this.measuredOrigin,!1);const z=A.length-1,U=A[z];A[z]=positionalValues[T](y.measureViewportBox(),window.getComputedStyle(y.current)),U!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=U),this.removedTransforms?.length&&this.removedTransforms.forEach(([G,J])=>{y.getValue(G).set(J)}),this.resolveNoneKeyframes()}}function resolveElements(R,y,T){if(R instanceof EventTarget)return[R];if(typeof R=="string"){const O=document.querySelectorAll(R);return O?Array.from(O):[]}return Array.from(R)}const getValueAsType=(R,y)=>y&&typeof R=="number"?y.transform(R):R;function isHTMLElement(R){return isObject(R)&&"offsetHeight"in R}const MAX_VELOCITY_DELTA=30,isFloat=R=>!isNaN(parseFloat(R));class MotionValue{constructor(y,T={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=A=>{const O=time.now();if(this.updatedAt!==O&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(A),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const z of this.dependents)z.dirty()},this.hasAnimated=!1,this.setCurrent(y),this.owner=T.owner}setCurrent(y){this.current=y,this.updatedAt=time.now(),this.canTrackVelocity===null&&y!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(y=this.current){this.prevFrameValue=y,this.prevUpdatedAt=this.updatedAt}onChange(y){return this.on("change",y)}on(y,T){this.events[y]||(this.events[y]=new SubscriptionManager);const A=this.events[y].add(T);return y==="change"?()=>{A(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:A}clearListeners(){for(const y in this.events)this.events[y].clear()}attach(y,T){this.passiveEffect=y,this.stopPassiveEffect=T}set(y){this.passiveEffect?this.passiveEffect(y,this.updateAndNotify):this.updateAndNotify(y)}setWithVelocity(y,T,A){this.set(T),this.prev=void 0,this.prevFrameValue=y,this.prevUpdatedAt=this.updatedAt-A}jump(y,T=!0){this.updateAndNotify(y),this.prev=y,this.prevUpdatedAt=this.prevFrameValue=void 0,T&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(y){this.dependents||(this.dependents=new Set),this.dependents.add(y)}removeDependent(y){this.dependents&&this.dependents.delete(y)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const y=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||y-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const T=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),T)}start(y){return this.stop(),new Promise(T=>{this.hasAnimated=!0,this.animation=y(T),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(R,y){return new MotionValue(R,y)}const{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock(R){return R==="x"||R==="y"?isDragging[R]?null:(isDragging[R]=!0,()=>{isDragging[R]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function setupGesture(R,y){const T=resolveElements(R),A=new AbortController,O={passive:!0,...y,signal:A.signal};return[T,O,()=>A.abort()]}function isValidHover(R){return!(R.pointerType==="touch"||isDragActive())}function hover(R,y,T={}){const[A,O,z]=setupGesture(R,T),U=G=>{if(!isValidHover(G))return;const{target:J}=G,ee=y(J,G);if(typeof ee!="function"||!J)return;const te=ae=>{isValidHover(ae)&&(ee(ae),J.removeEventListener("pointerleave",te))};J.addEventListener("pointerleave",te,O)};return A.forEach(G=>{G.addEventListener("pointerenter",U,O)}),z}const isNodeOrChild=(R,y)=>y?R===y?!0:isNodeOrChild(R,y.parentElement):!1,isPrimaryPointer=R=>R.pointerType==="mouse"?typeof R.button!="number"||R.button<=0:R.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(R){return focusableElements.has(R.tagName)||R.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(R){return y=>{y.key==="Enter"&&R(y)}}function firePointerEvent(R,y){R.dispatchEvent(new PointerEvent("pointer"+y,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(R,y)=>{const T=R.currentTarget;if(!T)return;const A=filterEvents(()=>{if(isPressing.has(T))return;firePointerEvent(T,"down");const O=filterEvents(()=>{firePointerEvent(T,"up")}),z=()=>firePointerEvent(T,"cancel");T.addEventListener("keyup",O,y),T.addEventListener("blur",z,y)});T.addEventListener("keydown",A,y),T.addEventListener("blur",()=>T.removeEventListener("keydown",A),y)};function isValidPressEvent(R){return isPrimaryPointer(R)&&!isDragActive()}function press(R,y,T={}){const[A,O,z]=setupGesture(R,T),U=G=>{const J=G.currentTarget;if(!isValidPressEvent(G))return;isPressing.add(J);const ee=y(J,G),te=(pe,fe)=>{window.removeEventListener("pointerup",ae),window.removeEventListener("pointercancel",oe),isPressing.has(J)&&isPressing.delete(J),isValidPressEvent(pe)&&typeof ee=="function"&&ee(pe,{success:fe})},ae=pe=>{te(pe,J===window||J===document||T.useGlobalTarget||isNodeOrChild(J,pe.target))},oe=pe=>{te(pe,!1)};window.addEventListener("pointerup",ae,O),window.addEventListener("pointercancel",oe,O)};return A.forEach(G=>{(T.useGlobalTarget?window:G).addEventListener("pointerdown",U,O),isHTMLElement(G)&&(G.addEventListener("focus",ee=>enableKeyboardPress(ee,O)),!isElementKeyboardAccessible(G)&&!G.hasAttribute("tabindex")&&(G.tabIndex=0))}),z}function isSVGElement(R){return isObject(R)&&"ownerSVGElement"in R}function isSVGSVGElement(R){return isSVGElement(R)&&R.tagName==="svg"}const isMotionValue=R=>!!(R&&R.getVelocity),valueTypes=[...dimensionValueTypes,color,complex],findValueType=R=>valueTypes.find(testValueType(R)),MotionConfigContext=reactExports.createContext({transformPagePoint:R=>R,isStatic:!1,reducedMotion:"never"});function setRef(R,y){if(typeof R=="function")return R(y);R!=null&&(R.current=y)}function composeRefs(...R){return y=>{let T=!1;const A=R.map(O=>{const z=setRef(O,y);return!T&&typeof z=="function"&&(T=!0),z});if(T)return()=>{for(let O=0;O<A.length;O++){const z=A[O];typeof z=="function"?z():setRef(R[O],null)}}}}function useComposedRefs(...R){return reactExports.useCallback(composeRefs(...R),R)}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(y){const T=this.props.childRef.current;if(T&&y.isPresent&&!this.props.isPresent){const A=T.offsetParent,O=isHTMLElement(A)&&A.offsetWidth||0,z=this.props.sizeRef.current;z.height=T.offsetHeight||0,z.width=T.offsetWidth||0,z.top=T.offsetTop,z.left=T.offsetLeft,z.right=O-z.width-z.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:R,isPresent:y,anchorX:T,root:A}){const O=reactExports.useId(),z=reactExports.useRef(null),U=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:G}=reactExports.useContext(MotionConfigContext),J=useComposedRefs(z,R?.ref);return reactExports.useInsertionEffect(()=>{const{width:ee,height:te,top:ae,left:oe,right:pe}=U.current;if(y||!z.current||!ee||!te)return;const fe=T==="left"?`left: ${oe}`:`right: ${pe}`;z.current.dataset.motionPopId=O;const xe=document.createElement("style");G&&(xe.nonce=G);const ye=A??document.head;return ye.appendChild(xe),xe.sheet&&xe.sheet.insertRule(`
          [data-motion-pop-id="${O}"] {
            position: absolute !important;
            width: ${ee}px !important;
            height: ${te}px !important;
            ${fe}px !important;
            top: ${ae}px !important;
          }
        `),()=>{ye.contains(xe)&&ye.removeChild(xe)}},[y]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:y,childRef:z,sizeRef:U,children:reactExports.cloneElement(R,{ref:J})})}const PresenceChild=({children:R,initial:y,isPresent:T,onExitComplete:A,custom:O,presenceAffectsLayout:z,mode:U,anchorX:G,root:J})=>{const ee=useConstant(newChildrenMap),te=reactExports.useId();let ae=!0,oe=reactExports.useMemo(()=>(ae=!1,{id:te,initial:y,isPresent:T,custom:O,onExitComplete:pe=>{ee.set(pe,!0);for(const fe of ee.values())if(!fe)return;A&&A()},register:pe=>(ee.set(pe,!1),()=>ee.delete(pe))}),[T,ee,A]);return z&&ae&&(oe={...oe}),reactExports.useMemo(()=>{ee.forEach((pe,fe)=>ee.set(fe,!1))},[T]),reactExports.useEffect(()=>{!T&&!ee.size&&A&&A()},[T]),U==="popLayout"&&(R=jsxRuntimeExports.jsx(PopChild,{isPresent:T,anchorX:G,root:J,children:R})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:oe,children:R})};function newChildrenMap(){return new Map}function usePresence(R=!0){const y=reactExports.useContext(PresenceContext);if(y===null)return[!0,null];const{isPresent:T,onExitComplete:A,register:O}=y,z=reactExports.useId();reactExports.useEffect(()=>{if(R)return O(z)},[R]);const U=reactExports.useCallback(()=>R&&A&&A(z),[z,A,R]);return!T&&A?[!1,U]:[!0]}const getChildKey=R=>R.key||"";function onlyElements(R){const y=[];return reactExports.Children.forEach(R,T=>{reactExports.isValidElement(T)&&y.push(T)}),y}const AnimatePresence=({children:R,custom:y,initial:T=!0,onExitComplete:A,presenceAffectsLayout:O=!0,mode:z="sync",propagate:U=!1,anchorX:G="left",root:J})=>{const[ee,te]=usePresence(U),ae=reactExports.useMemo(()=>onlyElements(R),[R]),oe=U&&!ee?[]:ae.map(getChildKey),pe=reactExports.useRef(!0),fe=reactExports.useRef(ae),xe=useConstant(()=>new Map),[ye,_e]=reactExports.useState(ae),[Le,je]=reactExports.useState(ae);useIsomorphicLayoutEffect$1(()=>{pe.current=!1,fe.current=ae;for(let Ue=0;Ue<Le.length;Ue++){const He=getChildKey(Le[Ue]);oe.includes(He)?xe.delete(He):xe.get(He)!==!0&&xe.set(He,!1)}},[Le,oe.length,oe.join("-")]);const Ne=[];if(ae!==ye){let Ue=[...ae];for(let He=0;He<Le.length;He++){const ze=Le[He],Ke=getChildKey(ze);oe.includes(Ke)||(Ue.splice(He,0,ze),Ne.push(ze))}return z==="wait"&&Ne.length&&(Ue=Ne),je(onlyElements(Ue)),_e(ae),null}const{forceRender:$e}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Le.map(Ue=>{const He=getChildKey(Ue),ze=U&&!ee?!1:ae===Le||oe.includes(He),Ke=()=>{if(xe.has(He))xe.set(He,!0);else return;let Je=!0;xe.forEach(Ze=>{Ze||(Je=!1)}),Je&&($e?.(),je(fe.current),U&&te?.(),A&&A())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:ze,initial:!pe.current||T?void 0:!1,custom:y,presenceAffectsLayout:O,mode:z,root:J,onExitComplete:ze?void 0:Ke,anchorX:G,children:Ue},He)})})},LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const R in featureProps)featureDefinitions[R]={isEnabled:y=>featureProps[R].some(T=>!!y[T])};function loadFeatures(R){for(const y in R)featureDefinitions[y]={...featureDefinitions[y],...R[y]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(R){return R.startsWith("while")||R.startsWith("drag")&&R!=="draggable"||R.startsWith("layout")||R.startsWith("onTap")||R.startsWith("onPan")||R.startsWith("onLayout")||validMotionProps.has(R)}let shouldForward=R=>!isValidMotionProp(R);function loadExternalIsValidProp(R){typeof R=="function"&&(shouldForward=y=>y.startsWith("on")?!isValidMotionProp(y):R(y))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(R,y,T){const A={};for(const O in R)O==="values"&&typeof R.values=="object"||(shouldForward(O)||T===!0&&isValidMotionProp(O)||!y&&!isValidMotionProp(O)||R.draggable&&O.startsWith("onDrag"))&&(A[O]=R[O]);return A}const MotionContext=reactExports.createContext({});function isAnimationControls(R){return R!==null&&typeof R=="object"&&typeof R.start=="function"}function isVariantLabel(R){return typeof R=="string"||Array.isArray(R)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(R){return isAnimationControls(R.animate)||variantProps.some(y=>isVariantLabel(R[y]))}function isVariantNode(R){return!!(isControllingVariants(R)||R.variants)}function getCurrentTreeVariants(R,y){if(isControllingVariants(R)){const{initial:T,animate:A}=R;return{initial:T===!1||isVariantLabel(T)?T:void 0,animate:isVariantLabel(A)?A:void 0}}return R.inherit!==!1?y:{}}function useCreateMotionContext(R){const{initial:y,animate:T}=getCurrentTreeVariants(R,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:y,animate:T}),[variantLabelsAsDependency(y),variantLabelsAsDependency(T)])}function variantLabelsAsDependency(R){return Array.isArray(R)?R.join(" "):R}const scaleCorrectors={};function addScaleCorrector(R){for(const y in R)scaleCorrectors[y]=R[y],isCSSVariableName(y)&&(scaleCorrectors[y].isCSSVariable=!0)}function isForcedMotionValue(R,{layout:y,layoutId:T}){return transformProps.has(R)||R.startsWith("origin")||(y||T!==void 0)&&(!!scaleCorrectors[R]||R==="opacity")}const translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(R,y,T){let A="",O=!0;for(let z=0;z<numTransforms;z++){const U=transformPropOrder[z],G=R[U];if(G===void 0)continue;let J=!0;if(typeof G=="number"?J=G===(U.startsWith("scale")?1:0):J=parseFloat(G)===0,!J||T){const ee=getValueAsType(G,numberValueTypes[U]);if(!J){O=!1;const te=translateAlias[U]||U;A+=`${te}(${ee}) `}T&&(y[U]=ee)}}return A=A.trim(),T?A=T(y,O?"":A):O&&(A="none"),A}function buildHTMLStyles(R,y,T){const{style:A,vars:O,transformOrigin:z}=R;let U=!1,G=!1;for(const J in y){const ee=y[J];if(transformProps.has(J)){U=!0;continue}else if(isCSSVariableName(J)){O[J]=ee;continue}else{const te=getValueAsType(ee,numberValueTypes[J]);J.startsWith("origin")?(G=!0,z[J]=te):A[J]=te}}if(y.transform||(U||T?A.transform=buildTransform(y,R.transform,T):A.transform&&(A.transform="none")),G){const{originX:J="50%",originY:ee="50%",originZ:te=0}=z;A.transformOrigin=`${J} ${ee} ${te}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(R,y,T){for(const A in y)!isMotionValue(y[A])&&!isForcedMotionValue(A,T)&&(R[A]=y[A])}function useInitialMotionValues({transformTemplate:R},y){return reactExports.useMemo(()=>{const T=createHtmlRenderState();return buildHTMLStyles(T,y,R),Object.assign({},T.vars,T.style)},[y])}function useStyle(R,y){const T=R.style||{},A={};return copyRawValuesOnly(A,T,R),Object.assign(A,useInitialMotionValues(R,y)),A}function useHTMLProps(R,y){const T={},A=useStyle(R,y);return R.drag&&R.dragListener!==!1&&(T.draggable=!1,A.userSelect=A.WebkitUserSelect=A.WebkitTouchCallout="none",A.touchAction=R.drag===!0?"none":`pan-${R.drag==="x"?"y":"x"}`),R.tabIndex===void 0&&(R.onTap||R.onTapStart||R.whileTap)&&(T.tabIndex=0),T.style=A,T}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(R,y,T=1,A=0,O=!0){R.pathLength=1;const z=O?dashKeys:camelKeys;R[z.offset]=px.transform(-A);const U=px.transform(y),G=px.transform(T);R[z.array]=`${U} ${G}`}function buildSVGAttrs(R,{attrX:y,attrY:T,attrScale:A,pathLength:O,pathSpacing:z=1,pathOffset:U=0,...G},J,ee,te){if(buildHTMLStyles(R,G,ee),J){R.style.viewBox&&(R.attrs.viewBox=R.style.viewBox);return}R.attrs=R.style,R.style={};const{attrs:ae,style:oe}=R;ae.transform&&(oe.transform=ae.transform,delete ae.transform),(oe.transform||ae.transformOrigin)&&(oe.transformOrigin=ae.transformOrigin??"50% 50%",delete ae.transformOrigin),oe.transform&&(oe.transformBox=te?.transformBox??"fill-box",delete ae.transformBox),y!==void 0&&(ae.x=y),T!==void 0&&(ae.y=T),A!==void 0&&(ae.scale=A),O!==void 0&&buildSVGPath(ae,O,z,U,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=R=>typeof R=="string"&&R.toLowerCase()==="svg";function useSVGProps(R,y,T,A){const O=reactExports.useMemo(()=>{const z=createSvgRenderState();return buildSVGAttrs(z,y,isSVGTag(A),R.transformTemplate,R.style),{...z.attrs,style:{...z.style}}},[y]);if(R.style){const z={};copyRawValuesOnly(z,R.style,R),O.style={...z,...O.style}}return O}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(R){return typeof R!="string"||R.includes("-")?!1:!!(lowercaseSVGElements.indexOf(R)>-1||/[A-Z]/u.test(R))}function useRender(R,y,T,{latestValues:A},O,z=!1){const G=(isSVGComponent(R)?useSVGProps:useHTMLProps)(y,A,O,R),J=filterProps(y,typeof R=="string",z),ee=R!==reactExports.Fragment?{...J,...G,ref:T}:{},{children:te}=y,ae=reactExports.useMemo(()=>isMotionValue(te)?te.get():te,[te]);return reactExports.createElement(R,{...ee,children:ae})}function getValueState(R){const y=[{},{}];return R?.values.forEach((T,A)=>{y[0][A]=T.get(),y[1][A]=T.getVelocity()}),y}function resolveVariantFromProps(R,y,T,A){if(typeof y=="function"){const[O,z]=getValueState(A);y=y(T!==void 0?T:R.custom,O,z)}if(typeof y=="string"&&(y=R.variants&&R.variants[y]),typeof y=="function"){const[O,z]=getValueState(A);y=y(T!==void 0?T:R.custom,O,z)}return y}function resolveMotionValue(R){return isMotionValue(R)?R.get():R}function makeState$1({scrapeMotionValuesFromProps:R,createRenderState:y},T,A,O){return{latestValues:makeLatestValues(T,A,O,R),renderState:y()}}function makeLatestValues(R,y,T,A){const O={},z=A(R,{});for(const oe in z)O[oe]=resolveMotionValue(z[oe]);let{initial:U,animate:G}=R;const J=isControllingVariants(R),ee=isVariantNode(R);y&&ee&&!J&&R.inherit!==!1&&(U===void 0&&(U=y.initial),G===void 0&&(G=y.animate));let te=T?T.initial===!1:!1;te=te||U===!1;const ae=te?G:U;if(ae&&typeof ae!="boolean"&&!isAnimationControls(ae)){const oe=Array.isArray(ae)?ae:[ae];for(let pe=0;pe<oe.length;pe++){const fe=resolveVariantFromProps(R,oe[pe]);if(fe){const{transitionEnd:xe,transition:ye,..._e}=fe;for(const Le in _e){let je=_e[Le];if(Array.isArray(je)){const Ne=te?je.length-1:0;je=je[Ne]}je!==null&&(O[Le]=je)}for(const Le in xe)O[Le]=xe[Le]}}}return O}const makeUseVisualState=R=>(y,T)=>{const A=reactExports.useContext(MotionContext),O=reactExports.useContext(PresenceContext),z=()=>makeState$1(R,y,A,O);return T?z():useConstant(z)};function scrapeMotionValuesFromProps$1(R,y,T){const{style:A}=R,O={};for(const z in A)(isMotionValue(A[z])||y.style&&isMotionValue(y.style[z])||isForcedMotionValue(z,R)||T?.getValue(z)?.liveStyle!==void 0)&&(O[z]=A[z]);return O}const useHTMLVisualState=makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState});function scrapeMotionValuesFromProps(R,y,T){const A=scrapeMotionValuesFromProps$1(R,y,T);for(const O in R)if(isMotionValue(R[O])||isMotionValue(y[O])){const z=transformPropOrder.indexOf(O)!==-1?"attr"+O.charAt(0).toUpperCase()+O.substring(1):O;A[z]=R[O]}return A}const useSVGVisualState=makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(R){return R&&typeof R=="object"&&Object.prototype.hasOwnProperty.call(R,"current")}function useMotionRef(R,y,T){return reactExports.useCallback(A=>{A&&R.onMount&&R.onMount(A),y&&(A?y.mount(A):y.unmount()),T&&(typeof T=="function"?T(A):isRefObject(T)&&(T.current=A))},[y])}const camelToDash=R=>R.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(R,y,T,A,O){const{visualElement:z}=reactExports.useContext(MotionContext),U=reactExports.useContext(LazyContext),G=reactExports.useContext(PresenceContext),J=reactExports.useContext(MotionConfigContext).reducedMotion,ee=reactExports.useRef(null);A=A||U.renderer,!ee.current&&A&&(ee.current=A(R,{visualState:y,parent:z,props:T,presenceContext:G,blockInitialAnimation:G?G.initial===!1:!1,reducedMotionConfig:J}));const te=ee.current,ae=reactExports.useContext(SwitchLayoutGroupContext);te&&!te.projection&&O&&(te.type==="html"||te.type==="svg")&&createProjectionNode$1(ee.current,T,O,ae);const oe=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{te&&oe.current&&te.update(T,G)});const pe=T[optimizedAppearDataAttribute],fe=reactExports.useRef(!!pe&&!window.MotionHandoffIsComplete?.(pe)&&window.MotionHasOptimisedAnimation?.(pe));return useIsomorphicLayoutEffect$1(()=>{te&&(oe.current=!0,window.MotionIsMounted=!0,te.updateFeatures(),te.scheduleRenderMicrotask(),fe.current&&te.animationState&&te.animationState.animateChanges())}),reactExports.useEffect(()=>{te&&(!fe.current&&te.animationState&&te.animationState.animateChanges(),fe.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(pe)}),fe.current=!1),te.enteringChildren=void 0)}),te}function createProjectionNode$1(R,y,T,A){const{layoutId:O,layout:z,drag:U,dragConstraints:G,layoutScroll:J,layoutRoot:ee,layoutCrossfade:te}=y;R.projection=new T(R.latestValues,y["data-framer-portal-id"]?void 0:getClosestProjectingNode(R.parent)),R.projection.setOptions({layoutId:O,layout:z,alwaysMeasureLayout:!!U||G&&isRefObject(G),visualElement:R,animationType:typeof z=="string"?z:"both",initialPromotionConfig:A,crossfade:te,layoutScroll:J,layoutRoot:ee})}function getClosestProjectingNode(R){if(R)return R.options.allowProjection!==!1?R.projection:getClosestProjectingNode(R.parent)}function createMotionComponent(R,{forwardMotionProps:y=!1}={},T,A){T&&loadFeatures(T);const O=isSVGComponent(R)?useSVGVisualState:useHTMLVisualState;function z(G,J){let ee;const te={...reactExports.useContext(MotionConfigContext),...G,layoutId:useLayoutId(G)},{isStatic:ae}=te,oe=useCreateMotionContext(G),pe=O(G,ae);if(!ae&&isBrowser){useStrictMode();const fe=getProjectionFunctionality(te);ee=fe.MeasureLayout,oe.visualElement=useVisualElement(R,pe,te,A,fe.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:oe,children:[ee&&oe.visualElement?jsxRuntimeExports.jsx(ee,{visualElement:oe.visualElement,...te}):null,useRender(R,G,useMotionRef(pe,oe.visualElement,J),pe,ae,y)]})}z.displayName=`motion.${typeof R=="string"?R:`create(${R.displayName??R.name??""})`}`;const U=reactExports.forwardRef(z);return U[motionComponentSymbol]=R,U}function useLayoutId({layoutId:R}){const y=reactExports.useContext(LayoutGroupContext).id;return y&&R!==void 0?y+"-"+R:R}function useStrictMode(R,y){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(R){const{drag:y,layout:T}=featureDefinitions;if(!y&&!T)return{};const A={...y,...T};return{MeasureLayout:y?.isEnabled(R)||T?.isEnabled(R)?A.MeasureLayout:void 0,ProjectionNode:A.ProjectionNode}}function createMotionProxy(R,y){if(typeof Proxy>"u")return createMotionComponent;const T=new Map,A=(z,U)=>createMotionComponent(z,U,R,y),O=(z,U)=>A(z,U);return new Proxy(O,{get:(z,U)=>U==="create"?A:(T.has(U)||T.set(U,createMotionComponent(U,void 0,R,y)),T.get(U))})}function convertBoundingBoxToBox({top:R,left:y,right:T,bottom:A}){return{x:{min:y,max:T},y:{min:R,max:A}}}function convertBoxToBoundingBox({x:R,y}){return{top:y.min,right:R.max,bottom:y.max,left:R.min}}function transformBoxPoints(R,y){if(!y)return R;const T=y({x:R.left,y:R.top}),A=y({x:R.right,y:R.bottom});return{top:T.y,left:T.x,bottom:A.y,right:A.x}}function isIdentityScale(R){return R===void 0||R===1}function hasScale({scale:R,scaleX:y,scaleY:T}){return!isIdentityScale(R)||!isIdentityScale(y)||!isIdentityScale(T)}function hasTransform(R){return hasScale(R)||has2DTranslate(R)||R.z||R.rotate||R.rotateX||R.rotateY||R.skewX||R.skewY}function has2DTranslate(R){return is2DTranslate(R.x)||is2DTranslate(R.y)}function is2DTranslate(R){return R&&R!=="0%"}function scalePoint(R,y,T){const A=R-T,O=y*A;return T+O}function applyPointDelta(R,y,T,A,O){return O!==void 0&&(R=scalePoint(R,O,A)),scalePoint(R,T,A)+y}function applyAxisDelta(R,y=0,T=1,A,O){R.min=applyPointDelta(R.min,y,T,A,O),R.max=applyPointDelta(R.max,y,T,A,O)}function applyBoxDelta(R,{x:y,y:T}){applyAxisDelta(R.x,y.translate,y.scale,y.originPoint),applyAxisDelta(R.y,T.translate,T.scale,T.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(R,y,T,A=!1){const O=T.length;if(!O)return;y.x=y.y=1;let z,U;for(let G=0;G<O;G++){z=T[G],U=z.projectionDelta;const{visualElement:J}=z.options;J&&J.props.style&&J.props.style.display==="contents"||(A&&z.options.layoutScroll&&z.scroll&&z!==z.root&&transformBox(R,{x:-z.scroll.offset.x,y:-z.scroll.offset.y}),U&&(y.x*=U.x.scale,y.y*=U.y.scale,applyBoxDelta(R,U)),A&&hasTransform(z.latestValues)&&transformBox(R,z.latestValues))}y.x<TREE_SCALE_SNAP_MAX&&y.x>TREE_SCALE_SNAP_MIN&&(y.x=1),y.y<TREE_SCALE_SNAP_MAX&&y.y>TREE_SCALE_SNAP_MIN&&(y.y=1)}function translateAxis(R,y){R.min=R.min+y,R.max=R.max+y}function transformAxis(R,y,T,A,O=.5){const z=mixNumber$1(R.min,R.max,O);applyAxisDelta(R,y,T,z,A)}function transformBox(R,y){transformAxis(R.x,y.x,y.scaleX,y.scale,y.originX),transformAxis(R.y,y.y,y.scaleY,y.scale,y.originY)}function measureViewportBox(R,y){return convertBoundingBoxToBox(transformBoxPoints(R.getBoundingClientRect(),y))}function measurePageBox(R,y,T){const A=measureViewportBox(R,T),{scroll:O}=y;return O&&(translateAxis(A.x,O.offset.x),translateAxis(A.y,O.offset.y)),A}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()}),prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const R=window.matchMedia("(prefers-reduced-motion)"),y=()=>prefersReducedMotion.current=R.matches;R.addEventListener("change",y),y()}else prefersReducedMotion.current=!1}const visualElementStore=new WeakMap;function updateMotionValuesFromProps(R,y,T){for(const A in y){const O=y[A],z=T[A];if(isMotionValue(O))R.addValue(A,O);else if(isMotionValue(z))R.addValue(A,motionValue(O,{owner:R}));else if(z!==O)if(R.hasValue(A)){const U=R.getValue(A);U.liveStyle===!0?U.jump(O):U.hasAnimated||U.set(O)}else{const U=R.getStaticValue(A);R.addValue(A,motionValue(U!==void 0?U:O,{owner:R}))}}for(const A in T)y[A]===void 0&&R.removeValue(A);return y}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(y,T,A){return{}}constructor({parent:y,props:T,presenceContext:A,reducedMotionConfig:O,blockInitialAnimation:z,visualState:U},G={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const oe=time.now();this.renderScheduledAt<oe&&(this.renderScheduledAt=oe,frame.render(this.render,!1,!0))};const{latestValues:J,renderState:ee}=U;this.latestValues=J,this.baseTarget={...J},this.initialValues=T.initial?{...J}:{},this.renderState=ee,this.parent=y,this.props=T,this.presenceContext=A,this.depth=y?y.depth+1:0,this.reducedMotionConfig=O,this.options=G,this.blockInitialAnimation=!!z,this.isControllingVariants=isControllingVariants(T),this.isVariantNode=isVariantNode(T),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(y&&y.current);const{willChange:te,...ae}=this.scrapeMotionValuesFromProps(T,{},this);for(const oe in ae){const pe=ae[oe];J[oe]!==void 0&&isMotionValue(pe)&&pe.set(J[oe])}}mount(y){this.current=y,visualElementStore.set(y,this),this.projection&&!this.projection.instance&&this.projection.mount(y),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((T,A)=>this.bindToMotionValue(A,T)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(y=>y()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const y in this.events)this.events[y].clear();for(const y in this.features){const T=this.features[y];T&&(T.unmount(),T.isMounted=!1)}this.current=null}addChild(y){this.children.add(y),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(y)}removeChild(y){this.children.delete(y),this.enteringChildren&&this.enteringChildren.delete(y)}bindToMotionValue(y,T){this.valueSubscriptions.has(y)&&this.valueSubscriptions.get(y)();const A=transformProps.has(y);A&&this.onBindTransform&&this.onBindTransform();const O=T.on("change",U=>{this.latestValues[y]=U,this.props.onUpdate&&frame.preRender(this.notifyUpdate),A&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let z;window.MotionCheckAppearSync&&(z=window.MotionCheckAppearSync(this,y,T)),this.valueSubscriptions.set(y,()=>{O(),z&&z(),T.owner&&T.stop()})}sortNodePosition(y){return!this.current||!this.sortInstanceNodePosition||this.type!==y.type?0:this.sortInstanceNodePosition(this.current,y.current)}updateFeatures(){let y="animation";for(y in featureDefinitions){const T=featureDefinitions[y];if(!T)continue;const{isEnabled:A,Feature:O}=T;if(!this.features[y]&&O&&A(this.props)&&(this.features[y]=new O(this)),this.features[y]){const z=this.features[y];z.isMounted?z.update():(z.mount(),z.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(y){return this.latestValues[y]}setStaticValue(y,T){this.latestValues[y]=T}update(y,T){(y.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=y,this.prevPresenceContext=this.presenceContext,this.presenceContext=T;for(let A=0;A<propEventHandlers.length;A++){const O=propEventHandlers[A];this.propEventSubscriptions[O]&&(this.propEventSubscriptions[O](),delete this.propEventSubscriptions[O]);const z="on"+O,U=y[z];U&&(this.propEventSubscriptions[O]=this.on(O,U))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(y,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(y){return this.props.variants?this.props.variants[y]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(y){const T=this.getClosestVariantNode();if(T)return T.variantChildren&&T.variantChildren.add(y),()=>T.variantChildren.delete(y)}addValue(y,T){const A=this.values.get(y);T!==A&&(A&&this.removeValue(y),this.bindToMotionValue(y,T),this.values.set(y,T),this.latestValues[y]=T.get())}removeValue(y){this.values.delete(y);const T=this.valueSubscriptions.get(y);T&&(T(),this.valueSubscriptions.delete(y)),delete this.latestValues[y],this.removeValueFromRenderState(y,this.renderState)}hasValue(y){return this.values.has(y)}getValue(y,T){if(this.props.values&&this.props.values[y])return this.props.values[y];let A=this.values.get(y);return A===void 0&&T!==void 0&&(A=motionValue(T===null?void 0:T,{owner:this}),this.addValue(y,A)),A}readValue(y,T){let A=this.latestValues[y]!==void 0||!this.current?this.latestValues[y]:this.getBaseTargetFromProps(this.props,y)??this.readValueFromInstance(this.current,y,this.options);return A!=null&&(typeof A=="string"&&(isNumericalString(A)||isZeroValueString(A))?A=parseFloat(A):!findValueType(A)&&complex.test(T)&&(A=getAnimatableNone(y,T)),this.setBaseTarget(y,isMotionValue(A)?A.get():A)),isMotionValue(A)?A.get():A}setBaseTarget(y,T){this.baseTarget[y]=T}getBaseTarget(y){const{initial:T}=this.props;let A;if(typeof T=="string"||typeof T=="object"){const z=resolveVariantFromProps(this.props,T,this.presenceContext?.custom);z&&(A=z[y])}if(T&&A!==void 0)return A;const O=this.getBaseTargetFromProps(this.props,y);return O!==void 0&&!isMotionValue(O)?O:this.initialValues[y]!==void 0&&A===void 0?void 0:this.baseTarget[y]}on(y,T){return this.events[y]||(this.events[y]=new SubscriptionManager),this.events[y].add(T)}notify(y,...T){this.events[y]&&this.events[y].notify(...T)}scheduleRenderMicrotask(){microtask.render(this.render)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(y,T){return y.compareDocumentPosition(T)&2?1:-1}getBaseTargetFromProps(y,T){return y.style?y.style[T]:void 0}removeValueFromRenderState(y,{vars:T,style:A}){delete T[y],delete A[y]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:y}=this.props;isMotionValue(y)&&(this.childSubscription=y.on("change",T=>{this.current&&(this.current.textContent=`${T}`)}))}}function renderHTML(R,{style:y,vars:T},A,O){const z=R.style;let U;for(U in y)z[U]=y[U];O?.applyProjectionStyles(z,A);for(U in T)z.setProperty(U,T[U])}function getComputedStyle$1(R){return window.getComputedStyle(R)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(y,T){if(transformProps.has(T))return this.projection?.isProjecting?defaultTransformValue(T):readTransformValue(y,T);{const A=getComputedStyle$1(y),O=(isCSSVariableName(T)?A.getPropertyValue(T):A[T])||0;return typeof O=="string"?O.trim():O}}measureInstanceViewportBox(y,{transformPagePoint:T}){return measureViewportBox(y,T)}build(y,T,A){buildHTMLStyles(y,T,A.transformTemplate)}scrapeMotionValuesFromProps(y,T,A){return scrapeMotionValuesFromProps$1(y,T,A)}}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(R,y,T,A){renderHTML(R,y,void 0,A);for(const O in y.attrs)R.setAttribute(camelCaseAttributes.has(O)?O:camelToDash(O),y.attrs[O])}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(y,T){return y[T]}readValueFromInstance(y,T){if(transformProps.has(T)){const A=getDefaultValueType(T);return A&&A.default||0}return T=camelCaseAttributes.has(T)?T:camelToDash(T),y.getAttribute(T)}scrapeMotionValuesFromProps(y,T,A){return scrapeMotionValuesFromProps(y,T,A)}build(y,T,A){buildSVGAttrs(y,T,this.isSVGTag,A.transformTemplate,A.style)}renderInstance(y,T,A,O){renderSVG(y,T,A,O)}mount(y){this.isSVGTag=isSVGTag(y.tagName),super.mount(y)}}const createDomVisualElement=(R,y)=>isSVGComponent(R)?new SVGVisualElement(y):new HTMLVisualElement(y,{allowProjection:R!==reactExports.Fragment});function resolveVariant(R,y,T){const A=R.getProps();return resolveVariantFromProps(A,y,T!==void 0?T:A.custom,R)}const isKeyframesTarget=R=>Array.isArray(R);function setMotionValue(R,y,T){R.hasValue(y)?R.getValue(y).set(T):R.addValue(y,motionValue(T))}function resolveFinalValueInKeyframes(R){return isKeyframesTarget(R)?R[R.length-1]||0:R}function setTarget(R,y){const T=resolveVariant(R,y);let{transitionEnd:A={},transition:O={},...z}=T||{};z={...z,...A};for(const U in z){const G=resolveFinalValueInKeyframes(z[U]);setMotionValue(R,U,G)}}function isWillChangeMotionValue(R){return!!(isMotionValue(R)&&R.add)}function addValueToWillChange(R,y){const T=R.getValue("willChange");if(isWillChangeMotionValue(T))return T.add(y);if(!T&&MotionGlobalConfig.WillChange){const A=new MotionGlobalConfig.WillChange("auto");R.addValue("willChange",A),A.add(y)}}function getOptimisedAppearId(R){return R.props[optimizedAppearDataAttribute]}const isNotNull=R=>R!==null;function getFinalKeyframe(R,{repeat:y,repeatType:T="loop"},A){const O=R.filter(isNotNull),z=y&&T!=="loop"&&y%2===1?0:O.length-1;return O[z]}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=R=>({type:"spring",stiffness:550,damping:R===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(R,{keyframes:y})=>y.length>2?keyframesTransition:transformProps.has(R)?R.startsWith("scale")?criticallyDampedSpring(y[1]):underDampedSpring:ease;function isTransitionDefined({when:R,delay:y,delayChildren:T,staggerChildren:A,staggerDirection:O,repeat:z,repeatType:U,repeatDelay:G,from:J,elapsed:ee,...te}){return!!Object.keys(te).length}const animateMotionValue=(R,y,T,A={},O,z)=>U=>{const G=getValueTransition(A,R)||{},J=G.delay||A.delay||0;let{elapsed:ee=0}=A;ee=ee-secondsToMilliseconds(J);const te={keyframes:Array.isArray(T)?T:[null,T],ease:"easeOut",velocity:y.getVelocity(),...G,delay:-ee,onUpdate:oe=>{y.set(oe),G.onUpdate&&G.onUpdate(oe)},onComplete:()=>{U(),G.onComplete&&G.onComplete()},name:R,motionValue:y,element:z?void 0:O};isTransitionDefined(G)||Object.assign(te,getDefaultTransition(R,te)),te.duration&&(te.duration=secondsToMilliseconds(te.duration)),te.repeatDelay&&(te.repeatDelay=secondsToMilliseconds(te.repeatDelay)),te.from!==void 0&&(te.keyframes[0]=te.from);let ae=!1;if((te.type===!1||te.duration===0&&!te.repeatDelay)&&(makeAnimationInstant(te),te.delay===0&&(ae=!0)),(MotionGlobalConfig.instantAnimations||MotionGlobalConfig.skipAnimations)&&(ae=!0,makeAnimationInstant(te),te.delay=0),te.allowFlatten=!G.type&&!G.ease,ae&&!z&&y.get()!==void 0){const oe=getFinalKeyframe(te.keyframes,G);if(oe!==void 0){frame.update(()=>{te.onUpdate(oe),te.onComplete()});return}}return G.isSync?new JSAnimation(te):new AsyncMotionValueAnimation(te)};function shouldBlockAnimation({protectedKeys:R,needsAnimating:y},T){const A=R.hasOwnProperty(T)&&y[T]!==!0;return y[T]=!1,A}function animateTarget(R,y,{delay:T=0,transitionOverride:A,type:O}={}){let{transition:z=R.getDefaultTransition(),transitionEnd:U,...G}=y;A&&(z=A);const J=[],ee=O&&R.animationState&&R.animationState.getState()[O];for(const te in G){const ae=R.getValue(te,R.latestValues[te]??null),oe=G[te];if(oe===void 0||ee&&shouldBlockAnimation(ee,te))continue;const pe={delay:T,...getValueTransition(z||{},te)},fe=ae.get();if(fe!==void 0&&!ae.isAnimating&&!Array.isArray(oe)&&oe===fe&&!pe.velocity)continue;let xe=!1;if(window.MotionHandoffAnimation){const _e=getOptimisedAppearId(R);if(_e){const Le=window.MotionHandoffAnimation(_e,te,frame);Le!==null&&(pe.startTime=Le,xe=!0)}}addValueToWillChange(R,te),ae.start(animateMotionValue(te,ae,oe,R.shouldReduceMotion&&positionalKeys.has(te)?{type:!1}:pe,R,xe));const ye=ae.animation;ye&&J.push(ye)}return U&&Promise.all(J).then(()=>{frame.update(()=>{U&&setTarget(R,U)})}),J}function calcChildStagger(R,y,T,A=0,O=1){const z=Array.from(R).sort((ee,te)=>ee.sortNodePosition(te)).indexOf(y),U=R.size,G=(U-1)*A;return typeof T=="function"?T(z,U):O===1?z*A:G-z*A}function animateVariant(R,y,T={}){const A=resolveVariant(R,y,T.type==="exit"?R.presenceContext?.custom:void 0);let{transition:O=R.getDefaultTransition()||{}}=A||{};T.transitionOverride&&(O=T.transitionOverride);const z=A?()=>Promise.all(animateTarget(R,A,T)):()=>Promise.resolve(),U=R.variantChildren&&R.variantChildren.size?(J=0)=>{const{delayChildren:ee=0,staggerChildren:te,staggerDirection:ae}=O;return animateChildren(R,y,J,ee,te,ae,T)}:()=>Promise.resolve(),{when:G}=O;if(G){const[J,ee]=G==="beforeChildren"?[z,U]:[U,z];return J().then(()=>ee())}else return Promise.all([z(),U(T.delay)])}function animateChildren(R,y,T=0,A=0,O=0,z=1,U){const G=[];for(const J of R.variantChildren)J.notify("AnimationStart",y),G.push(animateVariant(J,y,{...U,delay:T+(typeof A=="function"?0:A)+calcChildStagger(R.variantChildren,J,A,O,z)}).then(()=>J.notify("AnimationComplete",y)));return Promise.all(G)}function animateVisualElement(R,y,T={}){R.notify("AnimationStart",y);let A;if(Array.isArray(y)){const O=y.map(z=>animateVariant(R,z,T));A=Promise.all(O)}else if(typeof y=="string")A=animateVariant(R,y,T);else{const O=typeof y=="function"?resolveVariant(R,y,T.custom):y;A=Promise.all(animateTarget(R,O,T))}return A.then(()=>{R.notify("AnimationComplete",y)})}function shallowCompare(R,y){if(!Array.isArray(y))return!1;const T=y.length;if(T!==R.length)return!1;for(let A=0;A<T;A++)if(y[A]!==R[A])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(R){if(!R)return;if(!R.isControllingVariants){const T=R.parent?getVariantContext(R.parent)||{}:{};return R.props.initial!==void 0&&(T.initial=R.props.initial),T}const y={};for(let T=0;T<numVariantProps;T++){const A=variantProps[T],O=R.props[A];(isVariantLabel(O)||O===!1)&&(y[A]=O)}return y}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(R){return y=>Promise.all(y.map(({animation:T,options:A})=>animateVisualElement(R,T,A)))}function createAnimationState(R){let y=animateList(R),T=createState(),A=!0;const O=J=>(ee,te)=>{const ae=resolveVariant(R,te,J==="exit"?R.presenceContext?.custom:void 0);if(ae){const{transition:oe,transitionEnd:pe,...fe}=ae;ee={...ee,...fe,...pe}}return ee};function z(J){y=J(R)}function U(J){const{props:ee}=R,te=getVariantContext(R.parent)||{},ae=[],oe=new Set;let pe={},fe=1/0;for(let ye=0;ye<numAnimationTypes;ye++){const _e=reversePriorityOrder[ye],Le=T[_e],je=ee[_e]!==void 0?ee[_e]:te[_e],Ne=isVariantLabel(je),$e=_e===J?Le.isActive:null;$e===!1&&(fe=ye);let Ue=je===te[_e]&&je!==ee[_e]&&Ne;if(Ue&&A&&R.manuallyAnimateOnMount&&(Ue=!1),Le.protectedKeys={...pe},!Le.isActive&&$e===null||!je&&!Le.prevProp||isAnimationControls(je)||typeof je=="boolean")continue;const He=checkVariantsDidChange(Le.prevProp,je);let ze=He||_e===J&&Le.isActive&&!Ue&&Ne||ye>fe&&Ne,Ke=!1;const Je=Array.isArray(je)?je:[je];let Ze=Je.reduce(O(_e),{});$e===!1&&(Ze={});const{prevResolvedValues:rt={}}=Le,nt={...rt,...Ze},at=Xe=>{ze=!0,oe.has(Xe)&&(Ke=!0,oe.delete(Xe)),Le.needsAnimating[Xe]=!0;const Ge=R.getValue(Xe);Ge&&(Ge.liveStyle=!1)};for(const Xe in nt){const Ge=Ze[Xe],Qe=rt[Xe];if(pe.hasOwnProperty(Xe))continue;let it=!1;isKeyframesTarget(Ge)&&isKeyframesTarget(Qe)?it=!shallowCompare(Ge,Qe):it=Ge!==Qe,it?Ge!=null?at(Xe):oe.add(Xe):Ge!==void 0&&oe.has(Xe)?at(Xe):Le.protectedKeys[Xe]=!0}Le.prevProp=je,Le.prevResolvedValues=Ze,Le.isActive&&(pe={...pe,...Ze}),A&&R.blockInitialAnimation&&(ze=!1);const ot=Ue&&He;ze&&(!ot||Ke)&&ae.push(...Je.map(Xe=>{const Ge={type:_e};if(typeof Xe=="string"&&A&&!ot&&R.manuallyAnimateOnMount&&R.parent){const{parent:Qe}=R,it=resolveVariant(Qe,Xe);if(Qe.enteringChildren&&it){const{delayChildren:Ye}=it.transition||{};Ge.delay=calcChildStagger(Qe.enteringChildren,R,Ye)}}return{animation:Xe,options:Ge}}))}if(oe.size){const ye={};if(typeof ee.initial!="boolean"){const _e=resolveVariant(R,Array.isArray(ee.initial)?ee.initial[0]:ee.initial);_e&&_e.transition&&(ye.transition=_e.transition)}oe.forEach(_e=>{const Le=R.getBaseTarget(_e),je=R.getValue(_e);je&&(je.liveStyle=!0),ye[_e]=Le??null}),ae.push({animation:ye})}let xe=!!ae.length;return A&&(ee.initial===!1||ee.initial===ee.animate)&&!R.manuallyAnimateOnMount&&(xe=!1),A=!1,xe?y(ae):Promise.resolve()}function G(J,ee){if(T[J].isActive===ee)return Promise.resolve();R.variantChildren?.forEach(ae=>ae.animationState?.setActive(J,ee)),T[J].isActive=ee;const te=U(J);for(const ae in T)T[ae].protectedKeys={};return te}return{animateChanges:U,setActive:G,setAnimateFunction:z,getState:()=>T,reset:()=>{T=createState()}}}function checkVariantsDidChange(R,y){return typeof y=="string"?y!==R:Array.isArray(y)?!shallowCompare(y,R):!1}function createTypeState(R=!1){return{isActive:R,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(y){this.isMounted=!1,this.node=y}update(){}}class AnimationFeature extends Feature{constructor(y){super(y),y.animationState||(y.animationState=createAnimationState(y))}updateAnimationControlsSubscription(){const{animate:y}=this.node.getProps();isAnimationControls(y)&&(this.unmountControls=y.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:y}=this.node.getProps(),{animate:T}=this.node.prevProps||{};y!==T&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:y,onExitComplete:T}=this.node.presenceContext,{isPresent:A}=this.node.prevPresenceContext||{};if(!this.node.animationState||y===A)return;const O=this.node.animationState.setActive("exit",!y);T&&!y&&O.then(()=>{T(this.id)})}mount(){const{register:y,onExitComplete:T}=this.node.presenceContext||{};T&&T(this.id),y&&(this.unmount=y(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(R,y,T,A={passive:!0}){return R.addEventListener(y,T,A),()=>R.removeEventListener(y,T)}function extractEventInfo(R){return{point:{x:R.pageX,y:R.pageY}}}const addPointerInfo=R=>y=>isPrimaryPointer(y)&&R(y,extractEventInfo(y));function addPointerEvent(R,y,T,A){return addDomEvent(R,y,addPointerInfo(T),A)}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(R){return R.max-R.min}function isNear$1(R,y,T){return Math.abs(R-y)<=T}function calcAxisDelta(R,y,T,A=.5){R.origin=A,R.originPoint=mixNumber$1(y.min,y.max,R.origin),R.scale=calcLength(T)/calcLength(y),R.translate=mixNumber$1(T.min,T.max,R.origin)-R.originPoint,(R.scale>=SCALE_MIN&&R.scale<=SCALE_MAX||isNaN(R.scale))&&(R.scale=1),(R.translate>=TRANSLATE_MIN&&R.translate<=TRANSLATE_MAX||isNaN(R.translate))&&(R.translate=0)}function calcBoxDelta(R,y,T,A){calcAxisDelta(R.x,y.x,T.x,A?A.originX:void 0),calcAxisDelta(R.y,y.y,T.y,A?A.originY:void 0)}function calcRelativeAxis(R,y,T){R.min=T.min+y.min,R.max=R.min+calcLength(y)}function calcRelativeBox(R,y,T){calcRelativeAxis(R.x,y.x,T.x),calcRelativeAxis(R.y,y.y,T.y)}function calcRelativeAxisPosition(R,y,T){R.min=y.min-T.min,R.max=R.min+calcLength(y)}function calcRelativePosition(R,y,T){calcRelativeAxisPosition(R.x,y.x,T.x),calcRelativeAxisPosition(R.y,y.y,T.y)}function eachAxis(R){return[R("x"),R("y")]}const getContextWindow=({current:R})=>R?R.ownerDocument.defaultView:null,distance=(R,y)=>Math.abs(R-y);function distance2D(R,y){const T=distance(R.x,y.x),A=distance(R.y,y.y);return Math.sqrt(T**2+A**2)}class PanSession{constructor(y,T,{transformPagePoint:A,contextWindow:O=window,dragSnapToOrigin:z=!1,distanceThreshold:U=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const oe=getPanInfo(this.lastMoveEventInfo,this.history),pe=this.startEvent!==null,fe=distance2D(oe.offset,{x:0,y:0})>=this.distanceThreshold;if(!pe&&!fe)return;const{point:xe}=oe,{timestamp:ye}=frameData;this.history.push({...xe,timestamp:ye});const{onStart:_e,onMove:Le}=this.handlers;pe||(_e&&_e(this.lastMoveEvent,oe),this.startEvent=this.lastMoveEvent),Le&&Le(this.lastMoveEvent,oe)},this.handlePointerMove=(oe,pe)=>{this.lastMoveEvent=oe,this.lastMoveEventInfo=transformPoint(pe,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(oe,pe)=>{this.end();const{onEnd:fe,onSessionEnd:xe,resumeAnimation:ye}=this.handlers;if(this.dragSnapToOrigin&&ye&&ye(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _e=getPanInfo(oe.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(pe,this.transformPagePoint),this.history);this.startEvent&&fe&&fe(oe,_e),xe&&xe(oe,_e)},!isPrimaryPointer(y))return;this.dragSnapToOrigin=z,this.handlers=T,this.transformPagePoint=A,this.distanceThreshold=U,this.contextWindow=O||window;const G=extractEventInfo(y),J=transformPoint(G,this.transformPagePoint),{point:ee}=J,{timestamp:te}=frameData;this.history=[{...ee,timestamp:te}];const{onSessionStart:ae}=T;ae&&ae(y,getPanInfo(J,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(y){this.handlers=y}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(R,y){return y?{point:y(R.point)}:R}function subtractPoint(R,y){return{x:R.x-y.x,y:R.y-y.y}}function getPanInfo({point:R},y){return{point:R,delta:subtractPoint(R,lastDevicePoint(y)),offset:subtractPoint(R,startDevicePoint(y)),velocity:getVelocity(y,.1)}}function startDevicePoint(R){return R[0]}function lastDevicePoint(R){return R[R.length-1]}function getVelocity(R,y){if(R.length<2)return{x:0,y:0};let T=R.length-1,A=null;const O=lastDevicePoint(R);for(;T>=0&&(A=R[T],!(O.timestamp-A.timestamp>secondsToMilliseconds(y)));)T--;if(!A)return{x:0,y:0};const z=millisecondsToSeconds(O.timestamp-A.timestamp);if(z===0)return{x:0,y:0};const U={x:(O.x-A.x)/z,y:(O.y-A.y)/z};return U.x===1/0&&(U.x=0),U.y===1/0&&(U.y=0),U}function applyConstraints(R,{min:y,max:T},A){return y!==void 0&&R<y?R=A?mixNumber$1(y,R,A.min):Math.max(R,y):T!==void 0&&R>T&&(R=A?mixNumber$1(T,R,A.max):Math.min(R,T)),R}function calcRelativeAxisConstraints(R,y,T){return{min:y!==void 0?R.min+y:void 0,max:T!==void 0?R.max+T-(R.max-R.min):void 0}}function calcRelativeConstraints(R,{top:y,left:T,bottom:A,right:O}){return{x:calcRelativeAxisConstraints(R.x,T,O),y:calcRelativeAxisConstraints(R.y,y,A)}}function calcViewportAxisConstraints(R,y){let T=y.min-R.min,A=y.max-R.max;return y.max-y.min<R.max-R.min&&([T,A]=[A,T]),{min:T,max:A}}function calcViewportConstraints(R,y){return{x:calcViewportAxisConstraints(R.x,y.x),y:calcViewportAxisConstraints(R.y,y.y)}}function calcOrigin(R,y){let T=.5;const A=calcLength(R),O=calcLength(y);return O>A?T=progress(y.min,y.max-A,R.min):A>O&&(T=progress(R.min,R.max-O,y.min)),clamp(0,1,T)}function rebaseAxisConstraints(R,y){const T={};return y.min!==void 0&&(T.min=y.min-R.min),y.max!==void 0&&(T.max=y.max-R.min),T}const defaultElastic=.35;function resolveDragElastic(R=defaultElastic){return R===!1?R=0:R===!0&&(R=defaultElastic),{x:resolveAxisElastic(R,"left","right"),y:resolveAxisElastic(R,"top","bottom")}}function resolveAxisElastic(R,y,T){return{min:resolvePointElastic(R,y),max:resolvePointElastic(R,T)}}function resolvePointElastic(R,y){return typeof R=="number"?R:R[y]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(y){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=y}start(y,{snapToCursor:T=!1,distanceThreshold:A}={}){const{presenceContext:O}=this.visualElement;if(O&&O.isPresent===!1)return;const z=ae=>{const{dragSnapToOrigin:oe}=this.getProps();oe?this.pauseAnimation():this.stopAnimation(),T&&this.snapToCursor(extractEventInfo(ae).point)},U=(ae,oe)=>{const{drag:pe,dragPropagation:fe,onDragStart:xe}=this.getProps();if(pe&&!fe&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(pe),!this.openDragLock))return;this.latestPointerEvent=ae,this.latestPanInfo=oe,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(_e=>{let Le=this.getAxisMotionValue(_e).get()||0;if(percent.test(Le)){const{projection:je}=this.visualElement;if(je&&je.layout){const Ne=je.layout.layoutBox[_e];Ne&&(Le=calcLength(Ne)*(parseFloat(Le)/100))}}this.originPoint[_e]=Le}),xe&&frame.postRender(()=>xe(ae,oe)),addValueToWillChange(this.visualElement,"transform");const{animationState:ye}=this.visualElement;ye&&ye.setActive("whileDrag",!0)},G=(ae,oe)=>{this.latestPointerEvent=ae,this.latestPanInfo=oe;const{dragPropagation:pe,dragDirectionLock:fe,onDirectionLock:xe,onDrag:ye}=this.getProps();if(!pe&&!this.openDragLock)return;const{offset:_e}=oe;if(fe&&this.currentDirection===null){this.currentDirection=getCurrentDirection(_e),this.currentDirection!==null&&xe&&xe(this.currentDirection);return}this.updateAxis("x",oe.point,_e),this.updateAxis("y",oe.point,_e),this.visualElement.render(),ye&&ye(ae,oe)},J=(ae,oe)=>{this.latestPointerEvent=ae,this.latestPanInfo=oe,this.stop(ae,oe),this.latestPointerEvent=null,this.latestPanInfo=null},ee=()=>eachAxis(ae=>this.getAnimationState(ae)==="paused"&&this.getAxisMotionValue(ae).animation?.play()),{dragSnapToOrigin:te}=this.getProps();this.panSession=new PanSession(y,{onSessionStart:z,onStart:U,onMove:G,onSessionEnd:J,resumeAnimation:ee},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:te,distanceThreshold:A,contextWindow:getContextWindow(this.visualElement)})}stop(y,T){const A=y||this.latestPointerEvent,O=T||this.latestPanInfo,z=this.isDragging;if(this.cancel(),!z||!O||!A)return;const{velocity:U}=O;this.startAnimation(U);const{onDragEnd:G}=this.getProps();G&&frame.postRender(()=>G(A,O))}cancel(){this.isDragging=!1;const{projection:y,animationState:T}=this.visualElement;y&&(y.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:A}=this.getProps();!A&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),T&&T.setActive("whileDrag",!1)}updateAxis(y,T,A){const{drag:O}=this.getProps();if(!A||!shouldDrag(y,O,this.currentDirection))return;const z=this.getAxisMotionValue(y);let U=this.originPoint[y]+A[y];this.constraints&&this.constraints[y]&&(U=applyConstraints(U,this.constraints[y],this.elastic[y])),z.set(U)}resolveConstraints(){const{dragConstraints:y,dragElastic:T}=this.getProps(),A=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,O=this.constraints;y&&isRefObject(y)?this.constraints||(this.constraints=this.resolveRefConstraints()):y&&A?this.constraints=calcRelativeConstraints(A.layoutBox,y):this.constraints=!1,this.elastic=resolveDragElastic(T),O!==this.constraints&&A&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(z=>{this.constraints!==!1&&this.getAxisMotionValue(z)&&(this.constraints[z]=rebaseAxisConstraints(A.layoutBox[z],this.constraints[z]))})}resolveRefConstraints(){const{dragConstraints:y,onMeasureDragConstraints:T}=this.getProps();if(!y||!isRefObject(y))return!1;const A=y.current,{projection:O}=this.visualElement;if(!O||!O.layout)return!1;const z=measurePageBox(A,O.root,this.visualElement.getTransformPagePoint());let U=calcViewportConstraints(O.layout.layoutBox,z);if(T){const G=T(convertBoxToBoundingBox(U));this.hasMutatedConstraints=!!G,G&&(U=convertBoundingBoxToBox(G))}return U}startAnimation(y){const{drag:T,dragMomentum:A,dragElastic:O,dragTransition:z,dragSnapToOrigin:U,onDragTransitionEnd:G}=this.getProps(),J=this.constraints||{},ee=eachAxis(te=>{if(!shouldDrag(te,T,this.currentDirection))return;let ae=J&&J[te]||{};U&&(ae={min:0,max:0});const oe=O?200:1e6,pe=O?40:1e7,fe={type:"inertia",velocity:A?y[te]:0,bounceStiffness:oe,bounceDamping:pe,timeConstant:750,restDelta:1,restSpeed:10,...z,...ae};return this.startAxisValueAnimation(te,fe)});return Promise.all(ee).then(G)}startAxisValueAnimation(y,T){const A=this.getAxisMotionValue(y);return addValueToWillChange(this.visualElement,y),A.start(animateMotionValue(y,A,0,T,this.visualElement,!1))}stopAnimation(){eachAxis(y=>this.getAxisMotionValue(y).stop())}pauseAnimation(){eachAxis(y=>this.getAxisMotionValue(y).animation?.pause())}getAnimationState(y){return this.getAxisMotionValue(y).animation?.state}getAxisMotionValue(y){const T=`_drag${y.toUpperCase()}`,A=this.visualElement.getProps(),O=A[T];return O||this.visualElement.getValue(y,(A.initial?A.initial[y]:void 0)||0)}snapToCursor(y){eachAxis(T=>{const{drag:A}=this.getProps();if(!shouldDrag(T,A,this.currentDirection))return;const{projection:O}=this.visualElement,z=this.getAxisMotionValue(T);if(O&&O.layout){const{min:U,max:G}=O.layout.layoutBox[T];z.set(y[T]-mixNumber$1(U,G,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:y,dragConstraints:T}=this.getProps(),{projection:A}=this.visualElement;if(!isRefObject(T)||!A||!this.constraints)return;this.stopAnimation();const O={x:0,y:0};eachAxis(U=>{const G=this.getAxisMotionValue(U);if(G&&this.constraints!==!1){const J=G.get();O[U]=calcOrigin({min:J,max:J},this.constraints[U])}});const{transformTemplate:z}=this.visualElement.getProps();this.visualElement.current.style.transform=z?z({},""):"none",A.root&&A.root.updateScroll(),A.updateLayout(),this.resolveConstraints(),eachAxis(U=>{if(!shouldDrag(U,y,null))return;const G=this.getAxisMotionValue(U),{min:J,max:ee}=this.constraints[U];G.set(mixNumber$1(J,ee,O[U]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const y=this.visualElement.current,T=addPointerEvent(y,"pointerdown",J=>{const{drag:ee,dragListener:te=!0}=this.getProps();ee&&te&&this.start(J)}),A=()=>{const{dragConstraints:J}=this.getProps();isRefObject(J)&&J.current&&(this.constraints=this.resolveRefConstraints())},{projection:O}=this.visualElement,z=O.addEventListener("measure",A);O&&!O.layout&&(O.root&&O.root.updateScroll(),O.updateLayout()),frame.read(A);const U=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),G=O.addEventListener("didUpdate",(({delta:J,hasLayoutChanged:ee})=>{this.isDragging&&ee&&(eachAxis(te=>{const ae=this.getAxisMotionValue(te);ae&&(this.originPoint[te]+=J[te].translate,ae.set(ae.get()+J[te].translate))}),this.visualElement.render())}));return()=>{U(),T(),z(),G&&G()}}getProps(){const y=this.visualElement.getProps(),{drag:T=!1,dragDirectionLock:A=!1,dragPropagation:O=!1,dragConstraints:z=!1,dragElastic:U=defaultElastic,dragMomentum:G=!0}=y;return{...y,drag:T,dragDirectionLock:A,dragPropagation:O,dragConstraints:z,dragElastic:U,dragMomentum:G}}}function shouldDrag(R,y,T){return(y===!0||y===R)&&(T===null||T===R)}function getCurrentDirection(R,y=10){let T=null;return Math.abs(R.y)>y?T="y":Math.abs(R.x)>y&&(T="x"),T}class DragGesture extends Feature{constructor(y){super(y),this.removeGroupControls=noop$1,this.removeListeners=noop$1,this.controls=new VisualElementDragControls(y)}mount(){const{dragControls:y}=this.node.getProps();y&&(this.removeGroupControls=y.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$1}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=R=>(y,T)=>{R&&frame.postRender(()=>R(y,T))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$1}onPointerDown(y){this.session=new PanSession(y,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:y,onPanStart:T,onPan:A,onPanEnd:O}=this.node.getProps();return{onSessionStart:asyncHandler(y),onStart:asyncHandler(T),onMove:A,onEnd:(z,U)=>{delete this.session,O&&frame.postRender(()=>O(z,U))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",y=>this.onPointerDown(y))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(R,y){return y.max===y.min?0:R/(y.max-y.min)*100}const correctBorderRadius={correct:(R,y)=>{if(!y.target)return R;if(typeof R=="string")if(px.test(R))R=parseFloat(R);else return R;const T=pixelsToPercent(R,y.target.x),A=pixelsToPercent(R,y.target.y);return`${T}% ${A}%`}},correctBoxShadow={correct:(R,{treeScale:y,projectionDelta:T})=>{const A=R,O=complex.parse(R);if(O.length>5)return A;const z=complex.createTransformer(R),U=typeof O[0]!="number"?1:0,G=T.x.scale*y.x,J=T.y.scale*y.y;O[0+U]/=G,O[1+U]/=J;const ee=mixNumber$1(G,J,.5);return typeof O[2+U]=="number"&&(O[2+U]/=ee),typeof O[3+U]=="number"&&(O[3+U]/=ee),z(O)}};let hasTakenAnySnapshot=!1;class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:y,layoutGroup:T,switchLayoutGroup:A,layoutId:O}=this.props,{projection:z}=y;addScaleCorrector(defaultScaleCorrectors),z&&(T.group&&T.group.add(z),A&&A.register&&O&&A.register(z),hasTakenAnySnapshot&&z.root.didUpdate(),z.addEventListener("animationComplete",()=>{this.safeToRemove()}),z.setOptions({...z.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(y){const{layoutDependency:T,visualElement:A,drag:O,isPresent:z}=this.props,{projection:U}=A;return U&&(U.isPresent=z,hasTakenAnySnapshot=!0,O||y.layoutDependency!==T||T===void 0||y.isPresent!==z?U.willUpdate():this.safeToRemove(),y.isPresent!==z&&(z?U.promote():U.relegate()||frame.postRender(()=>{const G=U.getStack();(!G||!G.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:y}=this.props.visualElement;y&&(y.root.didUpdate(),microtask.postRender(()=>{!y.currentAnimation&&y.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:y,layoutGroup:T,switchLayoutGroup:A}=this.props,{projection:O}=y;hasTakenAnySnapshot=!0,O&&(O.scheduleCheckAfterUnmount(),T&&T.group&&T.group.remove(O),A&&A.deregister&&A.deregister(O))}safeToRemove(){const{safeToRemove:y}=this.props;y&&y()}render(){return null}}function MeasureLayout(R){const[y,T]=usePresence(),A=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...R,layoutGroup:A,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:y,safeToRemove:T})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(R,y,T){const A=isMotionValue(R)?R:motionValue(R);return A.start(animateMotionValue("",A,y,T)),A.animation}const compareByDepth=(R,y)=>R.depth-y.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(y){addUniqueItem(this.children,y),this.isDirty=!0}remove(y){removeItem(this.children,y),this.isDirty=!0}forEach(y){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(y)}}function delay(R,y){const T=time.now(),A=({timestamp:O})=>{const z=O-T;z>=y&&(cancelFrame(A),R(z-y))};return frame.setup(A,!0),()=>cancelFrame(A)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=R=>typeof R=="string"?parseFloat(R):R,isPx=R=>typeof R=="number"||px.test(R);function mixValues(R,y,T,A,O,z){O?(R.opacity=mixNumber$1(0,T.opacity??1,easeCrossfadeIn(A)),R.opacityExit=mixNumber$1(y.opacity??1,0,easeCrossfadeOut(A))):z&&(R.opacity=mixNumber$1(y.opacity??1,T.opacity??1,A));for(let U=0;U<numBorders;U++){const G=`border${borders[U]}Radius`;let J=getRadius(y,G),ee=getRadius(T,G);if(J===void 0&&ee===void 0)continue;J||(J=0),ee||(ee=0),J===0||ee===0||isPx(J)===isPx(ee)?(R[G]=Math.max(mixNumber$1(asNumber(J),asNumber(ee),A),0),(percent.test(ee)||percent.test(J))&&(R[G]+="%")):R[G]=ee}(y.rotate||T.rotate)&&(R.rotate=mixNumber$1(y.rotate||0,T.rotate||0,A))}function getRadius(R,y){return R[y]!==void 0?R[y]:R.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$1);function compress(R,y,T){return A=>A<R?0:A>y?1:T(progress(R,y,A))}function copyAxisInto(R,y){R.min=y.min,R.max=y.max}function copyBoxInto(R,y){copyAxisInto(R.x,y.x),copyAxisInto(R.y,y.y)}function copyAxisDeltaInto(R,y){R.translate=y.translate,R.scale=y.scale,R.originPoint=y.originPoint,R.origin=y.origin}function removePointDelta(R,y,T,A,O){return R-=y,R=scalePoint(R,1/T,A),O!==void 0&&(R=scalePoint(R,1/O,A)),R}function removeAxisDelta(R,y=0,T=1,A=.5,O,z=R,U=R){if(percent.test(y)&&(y=parseFloat(y),y=mixNumber$1(U.min,U.max,y/100)-U.min),typeof y!="number")return;let G=mixNumber$1(z.min,z.max,A);R===z&&(G-=y),R.min=removePointDelta(R.min,y,T,G,O),R.max=removePointDelta(R.max,y,T,G,O)}function removeAxisTransforms(R,y,[T,A,O],z,U){removeAxisDelta(R,y[T],y[A],y[O],y.scale,z,U)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(R,y,T,A){removeAxisTransforms(R.x,y,xKeys,T?T.x:void 0,A?A.x:void 0),removeAxisTransforms(R.y,y,yKeys,T?T.y:void 0,A?A.y:void 0)}function isAxisDeltaZero(R){return R.translate===0&&R.scale===1}function isDeltaZero(R){return isAxisDeltaZero(R.x)&&isAxisDeltaZero(R.y)}function axisEquals(R,y){return R.min===y.min&&R.max===y.max}function boxEquals(R,y){return axisEquals(R.x,y.x)&&axisEquals(R.y,y.y)}function axisEqualsRounded(R,y){return Math.round(R.min)===Math.round(y.min)&&Math.round(R.max)===Math.round(y.max)}function boxEqualsRounded(R,y){return axisEqualsRounded(R.x,y.x)&&axisEqualsRounded(R.y,y.y)}function aspectRatio(R){return calcLength(R.x)/calcLength(R.y)}function axisDeltaEquals(R,y){return R.translate===y.translate&&R.scale===y.scale&&R.originPoint===y.originPoint}class NodeStack{constructor(){this.members=[]}add(y){addUniqueItem(this.members,y),y.scheduleRender()}remove(y){if(removeItem(this.members,y),y===this.prevLead&&(this.prevLead=void 0),y===this.lead){const T=this.members[this.members.length-1];T&&this.promote(T)}}relegate(y){const T=this.members.findIndex(O=>y===O);if(T===0)return!1;let A;for(let O=T;O>=0;O--){const z=this.members[O];if(z.isPresent!==!1){A=z;break}}return A?(this.promote(A),!0):!1}promote(y,T){const A=this.lead;if(y!==A&&(this.prevLead=A,this.lead=y,y.show(),A)){A.instance&&A.scheduleRender(),y.scheduleRender(),y.resumeFrom=A,T&&(y.resumeFrom.preserveOpacity=!0),A.snapshot&&(y.snapshot=A.snapshot,y.snapshot.latestValues=A.animationValues||A.latestValues),y.root&&y.root.isUpdating&&(y.isLayoutDirty=!0);const{crossfade:O}=y.options;O===!1&&A.hide()}}exitAnimationComplete(){this.members.forEach(y=>{const{options:T,resumingFrom:A}=y;T.onExitComplete&&T.onExitComplete(),A&&A.options.onExitComplete&&A.options.onExitComplete()})}scheduleRender(){this.members.forEach(y=>{y.instance&&y.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(R,y,T){let A="";const O=R.x.translate/y.x,z=R.y.translate/y.y,U=T?.z||0;if((O||z||U)&&(A=`translate3d(${O}px, ${z}px, ${U}px) `),(y.x!==1||y.y!==1)&&(A+=`scale(${1/y.x}, ${1/y.y}) `),T){const{transformPerspective:ee,rotate:te,rotateX:ae,rotateY:oe,skewX:pe,skewY:fe}=T;ee&&(A=`perspective(${ee}px) ${A}`),te&&(A+=`rotate(${te}deg) `),ae&&(A+=`rotateX(${ae}deg) `),oe&&(A+=`rotateY(${oe}deg) `),pe&&(A+=`skewX(${pe}deg) `),fe&&(A+=`skewY(${fe}deg) `)}const G=R.x.scale*y.x,J=R.y.scale*y.y;return(G!==1||J!==1)&&(A+=`scale(${G}, ${J})`),A||"none"}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id=0;function resetDistortingTransform(R,y,T,A){const{latestValues:O}=y;O[R]&&(T[R]=O[R],y.setStaticValue(R,0),A&&(A[R]=0))}function cancelTreeOptimisedTransformAnimations(R){if(R.hasCheckedOptimisedAppear=!0,R.root===R)return;const{visualElement:y}=R.options;if(!y)return;const T=getOptimisedAppearId(y);if(window.MotionHasOptimisedAnimation(T,"transform")){const{layout:O,layoutId:z}=R.options;window.MotionCancelOptimisedAnimation(T,"transform",frame,!(O||z))}const{parent:A}=R;A&&!A.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(A)}function createProjectionNode({attachResizeListener:R,defaultParent:y,measureScroll:T,checkIsScrollRoot:A,resetTransform:O}){return class{constructor(U={},G=y?.()){this.id=id++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=U,this.root=G?G.root||G:this,this.path=G?[...G.path,G]:[],this.parent=G,this.depth=G?G.depth+1:0;for(let J=0;J<this.path.length;J++)this.path[J].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(U,G){return this.eventHandlers.has(U)||this.eventHandlers.set(U,new SubscriptionManager),this.eventHandlers.get(U).add(G)}notifyListeners(U,...G){const J=this.eventHandlers.get(U);J&&J.notify(...G)}hasListeners(U){return this.eventHandlers.has(U)}mount(U){if(this.instance)return;this.isSVG=isSVGElement(U)&&!isSVGSVGElement(U),this.instance=U;const{layoutId:G,layout:J,visualElement:ee}=this.options;if(ee&&!ee.current&&ee.mount(U),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(J||G)&&(this.isLayoutDirty=!0),R){let te,ae=0;const oe=()=>this.root.updateBlockedByResize=!1;frame.read(()=>{ae=window.innerWidth}),R(U,()=>{const pe=window.innerWidth;pe!==ae&&(ae=pe,this.root.updateBlockedByResize=!0,te&&te(),te=delay(oe,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation)))})}G&&this.root.registerSharedNode(G,this),this.options.animate!==!1&&ee&&(G||J)&&this.addEventListener("didUpdate",({delta:te,hasLayoutChanged:ae,hasRelativeLayoutChanged:oe,layout:pe})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const fe=this.options.transition||ee.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:xe,onLayoutAnimationComplete:ye}=ee.getProps(),_e=!this.targetLayout||!boxEqualsRounded(this.targetLayout,pe),Le=!ae&&oe;if(this.options.layoutRoot||this.resumeFrom||Le||ae&&(_e||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const je={...getValueTransition(fe,"layout"),onPlay:xe,onComplete:ye};(ee.shouldReduceMotion||this.options.layoutRoot)&&(je.delay=0,je.type=!1),this.startAnimation(je),this.setAnimationOrigin(te,Le)}else ae||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=pe})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const U=this.getStack();U&&U.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:U}=this.options;return U&&U.getProps().transformTemplate}willUpdate(U=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let te=0;te<this.path.length;te++){const ae=this.path[te];ae.shouldResetTransform=!0,ae.updateScroll("snapshot"),ae.options.layoutRoot&&ae.willUpdate(!1)}const{layoutId:G,layout:J}=this.options;if(G===void 0&&!J)return;const ee=this.getTransformTemplate();this.prevTransformTemplateValue=ee?ee(this.latestValues,""):void 0,this.updateSnapshot(),U&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(clearIsLayoutDirty);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate)):this.nodes.forEach(clearIsLayoutDirty),this.clearAllSnapshots();const G=time.now();frameData.delta=clamp(0,1e3/60,G-frameData.timestamp),frameData.timestamp=G,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let J=0;J<this.path.length;J++)this.path[J].updateScroll();const U=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:G}=this.options;G&&G.notify("LayoutMeasure",this.layout.layoutBox,U?U.layoutBox:void 0)}updateScroll(U="measure"){let G=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===U&&(G=!1),G&&this.instance){const J=A(this.instance);this.scroll={animationId:this.root.animationId,phase:U,isRoot:J,offset:T(this.instance),wasRoot:this.scroll?this.scroll.isRoot:J}}}resetTransform(){if(!O)return;const U=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,G=this.projectionDelta&&!isDeltaZero(this.projectionDelta),J=this.getTransformTemplate(),ee=J?J(this.latestValues,""):void 0,te=ee!==this.prevTransformTemplateValue;U&&this.instance&&(G||hasTransform(this.latestValues)||te)&&(O(this.instance,ee),this.shouldResetTransform=!1,this.scheduleRender())}measure(U=!0){const G=this.measurePageBox();let J=this.removeElementScroll(G);return U&&(J=this.removeTransform(J)),roundBox(J),{animationId:this.root.animationId,measuredBox:G,layoutBox:J,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:U}=this.options;if(!U)return createBox();const G=U.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(checkNodeWasScrollRoot))){const{scroll:ee}=this.root;ee&&(translateAxis(G.x,ee.offset.x),translateAxis(G.y,ee.offset.y))}return G}removeElementScroll(U){const G=createBox();if(copyBoxInto(G,U),this.scroll?.wasRoot)return G;for(let J=0;J<this.path.length;J++){const ee=this.path[J],{scroll:te,options:ae}=ee;ee!==this.root&&te&&ae.layoutScroll&&(te.wasRoot&&copyBoxInto(G,U),translateAxis(G.x,te.offset.x),translateAxis(G.y,te.offset.y))}return G}applyTransform(U,G=!1){const J=createBox();copyBoxInto(J,U);for(let ee=0;ee<this.path.length;ee++){const te=this.path[ee];!G&&te.options.layoutScroll&&te.scroll&&te!==te.root&&transformBox(J,{x:-te.scroll.offset.x,y:-te.scroll.offset.y}),hasTransform(te.latestValues)&&transformBox(J,te.latestValues)}return hasTransform(this.latestValues)&&transformBox(J,this.latestValues),J}removeTransform(U){const G=createBox();copyBoxInto(G,U);for(let J=0;J<this.path.length;J++){const ee=this.path[J];if(!ee.instance||!hasTransform(ee.latestValues))continue;hasScale(ee.latestValues)&&ee.updateSnapshot();const te=createBox(),ae=ee.measurePageBox();copyBoxInto(te,ae),removeBoxTransforms(G,ee.latestValues,ee.snapshot?ee.snapshot.layoutBox:void 0,te)}return hasTransform(this.latestValues)&&removeBoxTransforms(G,this.latestValues),G}setTargetDelta(U){this.targetDelta=U,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(U){this.options={...this.options,...U,crossfade:U.crossfade!==void 0?U.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(U=!1){const G=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=G.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=G.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=G.isSharedProjectionDirty);const J=!!this.resumingFrom||this!==G;if(!(U||J&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:te,layoutId:ae}=this.options;if(!(!this.layout||!(te||ae))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const oe=this.getClosestProjectingParent();oe&&oe.layout&&this.animationProgress!==1?(this.relativeParent=oe,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,oe.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const oe=this.getClosestProjectingParent();oe&&!!oe.resumingFrom==!!this.resumingFrom&&!oe.options.layoutScroll&&oe.target&&this.animationProgress!==1?(this.relativeParent=oe,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,oe.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const U=this.getLead(),G=!!this.resumingFrom||this!==U;let J=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(J=!1),G&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(J=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(J=!1),J)return;const{layout:ee,layoutId:te}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(ee||te))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const ae=this.treeScale.x,oe=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,G),U.layout&&!U.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(U.target=U.layout.layoutBox,U.targetWithTransforms=createBox());const{target:pe}=U;if(!pe){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,pe,this.latestValues),(this.treeScale.x!==ae||this.treeScale.y!==oe||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",pe))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(U=!0){if(this.options.visualElement?.scheduleRender(),U){const G=this.getStack();G&&G.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(U,G=!1){const J=this.snapshot,ee=J?J.latestValues:{},te={...this.latestValues},ae=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!G;const oe=createBox(),pe=J?J.source:void 0,fe=this.layout?this.layout.source:void 0,xe=pe!==fe,ye=this.getStack(),_e=!ye||ye.members.length<=1,Le=!!(xe&&!_e&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let je;this.mixTargetDelta=Ne=>{const $e=Ne/1e3;mixAxisDelta(ae.x,U.x,$e),mixAxisDelta(ae.y,U.y,$e),this.setTargetDelta(ae),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(oe,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,oe,$e),je&&boxEquals(this.relativeTarget,je)&&(this.isProjectionDirty=!1),je||(je=createBox()),copyBoxInto(je,this.relativeTarget)),xe&&(this.animationValues=te,mixValues(te,ee,this.latestValues,$e,Le,_e)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$e},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(U){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=motionValue(0)),this.currentAnimation=animateSingleValue(this.motionValue,[0,1e3],{...U,velocity:0,isSync:!0,onUpdate:G=>{this.mixTargetDelta(G),U.onUpdate&&U.onUpdate(G)},onStop:()=>{},onComplete:()=>{U.onComplete&&U.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const U=this.getStack();U&&U.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const U=this.getLead();let{targetWithTransforms:G,target:J,layout:ee,latestValues:te}=U;if(!(!G||!J||!ee)){if(this!==U&&this.layout&&ee&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,ee.layoutBox)){J=this.target||createBox();const ae=calcLength(this.layout.layoutBox.x);J.x.min=U.target.x.min,J.x.max=J.x.min+ae;const oe=calcLength(this.layout.layoutBox.y);J.y.min=U.target.y.min,J.y.max=J.y.min+oe}copyBoxInto(G,J),transformBox(G,te),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,G,te)}}registerSharedNode(U,G){this.sharedNodes.has(U)||this.sharedNodes.set(U,new NodeStack),this.sharedNodes.get(U).add(G);const ee=G.options.initialPromotionConfig;G.promote({transition:ee?ee.transition:void 0,preserveFollowOpacity:ee&&ee.shouldPreserveFollowOpacity?ee.shouldPreserveFollowOpacity(G):void 0})}isLead(){const U=this.getStack();return U?U.lead===this:!0}getLead(){const{layoutId:U}=this.options;return U?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:U}=this.options;return U?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:U}=this.options;if(U)return this.root.sharedNodes.get(U)}promote({needsReset:U,transition:G,preserveFollowOpacity:J}={}){const ee=this.getStack();ee&&ee.promote(this,J),U&&(this.projectionDelta=void 0,this.needsReset=!0),G&&this.setOptions({transition:G})}relegate(){const U=this.getStack();return U?U.relegate(this):!1}resetSkewAndRotation(){const{visualElement:U}=this.options;if(!U)return;let G=!1;const{latestValues:J}=U;if((J.z||J.rotate||J.rotateX||J.rotateY||J.rotateZ||J.skewX||J.skewY)&&(G=!0),!G)return;const ee={};J.z&&resetDistortingTransform("z",U,ee,this.animationValues);for(let te=0;te<transformAxes.length;te++)resetDistortingTransform(`rotate${transformAxes[te]}`,U,ee,this.animationValues),resetDistortingTransform(`skew${transformAxes[te]}`,U,ee,this.animationValues);U.render();for(const te in ee)U.setStaticValue(te,ee[te]),this.animationValues&&(this.animationValues[te]=ee[te]);U.scheduleRender()}applyProjectionStyles(U,G){if(!this.instance||this.isSVG)return;if(!this.isVisible){U.visibility="hidden";return}const J=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,U.visibility="",U.opacity="",U.pointerEvents=resolveMotionValue(G?.pointerEvents)||"",U.transform=J?J(this.latestValues,""):"none";return}const ee=this.getLead();if(!this.projectionDelta||!this.layout||!ee.target){this.options.layoutId&&(U.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,U.pointerEvents=resolveMotionValue(G?.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(U.transform=J?J({},""):"none",this.hasProjected=!1);return}U.visibility="";const te=ee.animationValues||ee.latestValues;this.applyTransformsToTarget();let ae=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,te);J&&(ae=J(te,ae)),U.transform=ae;const{x:oe,y:pe}=this.projectionDelta;U.transformOrigin=`${oe.origin*100}% ${pe.origin*100}% 0`,ee.animationValues?U.opacity=ee===this?te.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:te.opacityExit:U.opacity=ee===this?te.opacity!==void 0?te.opacity:"":te.opacityExit!==void 0?te.opacityExit:0;for(const fe in scaleCorrectors){if(te[fe]===void 0)continue;const{correct:xe,applyTo:ye,isCSSVariable:_e}=scaleCorrectors[fe],Le=ae==="none"?te[fe]:xe(te[fe],ee);if(ye){const je=ye.length;for(let Ne=0;Ne<je;Ne++)U[ye[Ne]]=Le}else _e?this.options.visualElement.renderState.vars[fe]=Le:U[fe]=Le}this.options.layoutId&&(U.pointerEvents=ee===this?resolveMotionValue(G?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(U=>U.currentAnimation?.stop()),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(R){R.updateLayout()}function notifyLayoutUpdate(R){const y=R.resumeFrom?.snapshot||R.snapshot;if(R.isLead()&&R.layout&&y&&R.hasListeners("didUpdate")){const{layoutBox:T,measuredBox:A}=R.layout,{animationType:O}=R.options,z=y.source!==R.layout.source;O==="size"?eachAxis(te=>{const ae=z?y.measuredBox[te]:y.layoutBox[te],oe=calcLength(ae);ae.min=T[te].min,ae.max=ae.min+oe}):shouldAnimatePositionOnly(O,y.layoutBox,T)&&eachAxis(te=>{const ae=z?y.measuredBox[te]:y.layoutBox[te],oe=calcLength(T[te]);ae.max=ae.min+oe,R.relativeTarget&&!R.currentAnimation&&(R.isProjectionDirty=!0,R.relativeTarget[te].max=R.relativeTarget[te].min+oe)});const U=createDelta();calcBoxDelta(U,T,y.layoutBox);const G=createDelta();z?calcBoxDelta(G,R.applyTransform(A,!0),y.measuredBox):calcBoxDelta(G,T,y.layoutBox);const J=!isDeltaZero(U);let ee=!1;if(!R.resumeFrom){const te=R.getClosestProjectingParent();if(te&&!te.resumeFrom){const{snapshot:ae,layout:oe}=te;if(ae&&oe){const pe=createBox();calcRelativePosition(pe,y.layoutBox,ae.layoutBox);const fe=createBox();calcRelativePosition(fe,T,oe.layoutBox),boxEqualsRounded(pe,fe)||(ee=!0),te.options.layoutRoot&&(R.relativeTarget=fe,R.relativeTargetOrigin=pe,R.relativeParent=te)}}}R.notifyListeners("didUpdate",{layout:T,snapshot:y,delta:G,layoutDelta:U,hasLayoutChanged:J,hasRelativeLayoutChanged:ee})}else if(R.isLead()){const{onExitComplete:T}=R.options;T&&T()}R.options.transition=void 0}function propagateDirtyNodes(R){R.parent&&(R.isProjecting()||(R.isProjectionDirty=R.parent.isProjectionDirty),R.isSharedProjectionDirty||(R.isSharedProjectionDirty=!!(R.isProjectionDirty||R.parent.isProjectionDirty||R.parent.isSharedProjectionDirty)),R.isTransformDirty||(R.isTransformDirty=R.parent.isTransformDirty))}function cleanDirtyNodes(R){R.isProjectionDirty=R.isSharedProjectionDirty=R.isTransformDirty=!1}function clearSnapshot(R){R.clearSnapshot()}function clearMeasurements(R){R.clearMeasurements()}function clearIsLayoutDirty(R){R.isLayoutDirty=!1}function resetTransformStyle(R){const{visualElement:y}=R.options;y&&y.getProps().onBeforeLayoutMeasure&&y.notify("BeforeLayoutMeasure"),R.resetTransform()}function finishAnimation(R){R.finishAnimation(),R.targetDelta=R.relativeTarget=R.target=void 0,R.isProjectionDirty=!0}function resolveTargetDelta(R){R.resolveTargetDelta()}function calcProjection(R){R.calcProjection()}function resetSkewAndRotation(R){R.resetSkewAndRotation()}function removeLeadSnapshots(R){R.removeLeadSnapshot()}function mixAxisDelta(R,y,T){R.translate=mixNumber$1(y.translate,0,T),R.scale=mixNumber$1(y.scale,1,T),R.origin=y.origin,R.originPoint=y.originPoint}function mixAxis(R,y,T,A){R.min=mixNumber$1(y.min,T.min,A),R.max=mixNumber$1(y.max,T.max,A)}function mixBox(R,y,T,A){mixAxis(R.x,y.x,T.x,A),mixAxis(R.y,y.y,T.y,A)}function hasOpacityCrossfade(R){return R.animationValues&&R.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=R=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(R),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$1;function roundAxis(R){R.min=roundPoint(R.min),R.max=roundPoint(R.max)}function roundBox(R){roundAxis(R.x),roundAxis(R.y)}function shouldAnimatePositionOnly(R,y,T){return R==="position"||R==="preserve-aspect"&&!isNear$1(aspectRatio(y),aspectRatio(T),.2)}function checkNodeWasScrollRoot(R){return R!==R.root&&R.scroll?.wasRoot}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(R,y)=>addDomEvent(R,"resize",y),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:R=>({x:R.scrollLeft,y:R.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const R=new DocumentProjectionNode({});R.mount(window),R.setOptions({layoutScroll:!0}),rootProjectionNode.current=R}return rootProjectionNode.current},resetTransform:(R,y)=>{R.style.transform=y!==void 0?y:"none"},checkIsScrollRoot:R=>window.getComputedStyle(R).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(R,y,T){const{props:A}=R;R.animationState&&A.whileHover&&R.animationState.setActive("whileHover",T==="Start");const O="onHover"+T,z=A[O];z&&frame.postRender(()=>z(y,extractEventInfo(y)))}class HoverGesture extends Feature{mount(){const{current:y}=this.node;y&&(this.unmount=hover(y,(T,A)=>(handleHoverEvent(this.node,A,"Start"),O=>handleHoverEvent(this.node,O,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let y=!1;try{y=this.node.current.matches(":focus-visible")}catch{y=!0}!y||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(R,y,T){const{props:A}=R;if(R.current instanceof HTMLButtonElement&&R.current.disabled)return;R.animationState&&A.whileTap&&R.animationState.setActive("whileTap",T==="Start");const O="onTap"+(T==="End"?"":T),z=A[O];z&&frame.postRender(()=>z(y,extractEventInfo(y)))}class PressGesture extends Feature{mount(){const{current:y}=this.node;y&&(this.unmount=press(y,(T,A)=>(handlePressEvent(this.node,A,"Start"),(O,{success:z})=>handlePressEvent(this.node,O,z?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=R=>{const y=observerCallbacks.get(R.target);y&&y(R)},fireAllObserverCallbacks=R=>{R.forEach(fireObserverCallback)};function initIntersectionObserver({root:R,...y}){const T=R||document;observers.has(T)||observers.set(T,{});const A=observers.get(T),O=JSON.stringify(y);return A[O]||(A[O]=new IntersectionObserver(fireAllObserverCallbacks,{root:R,...y})),A[O]}function observeIntersection(R,y,T){const A=initIntersectionObserver(y);return observerCallbacks.set(R,T),A.observe(R),()=>{observerCallbacks.delete(R),A.unobserve(R)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:y={}}=this.node.getProps(),{root:T,margin:A,amount:O="some",once:z}=y,U={root:T?T.current:void 0,rootMargin:A,threshold:typeof O=="number"?O:thresholdNames[O]},G=J=>{const{isIntersecting:ee}=J;if(this.isInView===ee||(this.isInView=ee,z&&!ee&&this.hasEnteredView))return;ee&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",ee);const{onViewportEnter:te,onViewportLeave:ae}=this.node.getProps(),oe=ee?te:ae;oe&&oe(J)};return observeIntersection(this.node.current,U,G)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:y,prevProps:T}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(y,T))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:R={}},{viewport:y={}}={}){return T=>R[T]!==y[T]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},featureBundle={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy(featureBundle,createDomVisualElement),thresholds={some:0,all:1};function inView(R,y,{root:T,margin:A,amount:O="some"}={}){const z=resolveElements(R),U=new WeakMap,G=ee=>{ee.forEach(te=>{const ae=U.get(te.target);if(te.isIntersecting!==!!ae)if(te.isIntersecting){const oe=y(te.target,te);typeof oe=="function"?U.set(te.target,oe):J.unobserve(te.target)}else typeof ae=="function"&&(ae(te),U.delete(te.target))})},J=new IntersectionObserver(G,{root:T,rootMargin:A,threshold:typeof O=="number"?O:thresholds[O]});return z.forEach(ee=>J.observe(ee)),()=>J.disconnect()}function useInView(R,{root:y,margin:T,amount:A,once:O=!1,initial:z=!1}={}){const[U,G]=reactExports.useState(z);return reactExports.useEffect(()=>{if(!R.current||O&&U)return;const J=()=>(G(!0),O?void 0:()=>G(!1)),ee={root:y&&y.current||void 0,margin:T,amount:A};return inView(R.current,J,ee)},[y,R,T,O,A]),U}/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=R=>R.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=R=>R.replace(/^([A-Z])|[\s-_]+(\w)/g,(y,T,A)=>A?A.toUpperCase():T.toLowerCase()),toPascalCase=R=>{const y=toCamelCase(R);return y.charAt(0).toUpperCase()+y.slice(1)},mergeClasses=(...R)=>R.filter((y,T,A)=>!!y&&y.trim()!==""&&A.indexOf(y)===T).join(" ").trim(),hasA11yProp=R=>{for(const y in R)if(y.startsWith("aria-")||y==="role"||y==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:R="currentColor",size:y=24,strokeWidth:T=2,absoluteStrokeWidth:A,className:O="",children:z,iconNode:U,...G},J)=>reactExports.createElement("svg",{ref:J,...defaultAttributes,width:y,height:y,stroke:R,strokeWidth:A?Number(T)*24/Number(y):T,className:mergeClasses("lucide",O),...!z&&!hasA11yProp(G)&&{"aria-hidden":"true"},...G},[...U.map(([ee,te])=>reactExports.createElement(ee,te)),...Array.isArray(z)?z:[z]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(R,y)=>{const T=reactExports.forwardRef(({className:A,...O},z)=>reactExports.createElement(Icon,{ref:z,iconNode:y,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(R))}`,`lucide-${R}`,A),...O}));return T.displayName=toPascalCase(R),T};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1b=[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]],Anchor=createLucideIcon("anchor",__iconNode$1b);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1a=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ArrowLeft=createLucideIcon("arrow-left",__iconNode$1a);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$19=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ArrowRight=createLucideIcon("arrow-right",__iconNode$19);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$18=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Award=createLucideIcon("award",__iconNode$18);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$17=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Bell=createLucideIcon("bell",__iconNode$17);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$16=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Bold$1=createLucideIcon("bold",__iconNode$16);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$15=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],BookOpen=createLucideIcon("book-open",__iconNode$15);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$14=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],CalendarCheck=createLucideIcon("calendar-check",__iconNode$14);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$13=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],CalendarDays=createLucideIcon("calendar-days",__iconNode$13);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$12=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Calendar=createLucideIcon("calendar",__iconNode$12);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$11=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("check",__iconNode$11);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$10=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("chevron-down",__iconNode$10);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$$=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ChevronLeft=createLucideIcon("chevron-left",__iconNode$$);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$_=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ChevronRight=createLucideIcon("chevron-right",__iconNode$_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Z=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CircleCheckBig=createLucideIcon("circle-check-big",__iconNode$Z);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],CircleQuestionMark=createLucideIcon("circle-question-mark",__iconNode$Y);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$X=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ClipboardList=createLucideIcon("clipboard-list",__iconNode$X);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$W=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Clock=createLucideIcon("clock",__iconNode$W);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$V=[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]],Cog=createLucideIcon("cog",__iconNode$V);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$U=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Compass=createLucideIcon("compass",__iconNode$U);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$T=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],Crop=createLucideIcon("crop",__iconNode$T);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$S=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ExternalLink=createLucideIcon("external-link",__iconNode$S);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$R=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Eye=createLucideIcon("eye",__iconNode$R);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Q=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Facebook=createLucideIcon("facebook",__iconNode$Q);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$P=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FileText=createLucideIcon("file-text",__iconNode$P);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$O=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Funnel=createLucideIcon("funnel",__iconNode$O);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$N=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],Ghost=createLucideIcon("ghost",__iconNode$N);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$M=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Gift=createLucideIcon("gift",__iconNode$M);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$L=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Globe=createLucideIcon("globe",__iconNode$L);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$K=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],GraduationCap=createLucideIcon("graduation-cap",__iconNode$K);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$J=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Grid3x3=createLucideIcon("grid-3x3",__iconNode$J);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$I=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],Heading2=createLucideIcon("heading-2",__iconNode$I);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$H=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],Heading3=createLucideIcon("heading-3",__iconNode$H);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$G=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Heart=createLucideIcon("heart",__iconNode$G);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$F=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],House=createLucideIcon("house",__iconNode$F);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$E=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Image$1=createLucideIcon("image",__iconNode$E);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$D=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Info=createLucideIcon("info",__iconNode$D);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$C=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Instagram=createLucideIcon("instagram",__iconNode$C);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$B=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Italic$1=createLucideIcon("italic",__iconNode$B);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$A=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],LayoutDashboard=createLucideIcon("layout-dashboard",__iconNode$A);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$z=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Link$1=createLucideIcon("link",__iconNode$z);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$y=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],Linkedin=createLucideIcon("linkedin",__iconNode$y);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$x=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],ListOrdered=createLucideIcon("list-ordered",__iconNode$x);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$w=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],List=createLucideIcon("list",__iconNode$w);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$v=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LoaderCircle=createLucideIcon("loader-circle",__iconNode$v);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$u=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Mail=createLucideIcon("mail",__iconNode$u);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$t=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],MapPin=createLucideIcon("map-pin",__iconNode$t);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$s=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Megaphone=createLucideIcon("megaphone",__iconNode$s);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$r=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Menu=createLucideIcon("menu",__iconNode$r);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$q=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],MessageCircle=createLucideIcon("message-circle",__iconNode$q);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$p=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Package=createLucideIcon("package",__iconNode$p);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$o=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Phone=createLucideIcon("phone",__iconNode$o);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$n=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Plus=createLucideIcon("plus",__iconNode$n);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$m=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],Redo=createLucideIcon("redo",__iconNode$m);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$l=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],RotateCcw=createLucideIcon("rotate-ccw",__iconNode$l);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$k=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Save=createLucideIcon("save",__iconNode$k);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$j=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Search=createLucideIcon("search",__iconNode$j);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$i=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Send=createLucideIcon("send",__iconNode$i);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$h=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Settings$1=createLucideIcon("settings",__iconNode$h);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$g=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Share2=createLucideIcon("share-2",__iconNode$g);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$f=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Shield=createLucideIcon("shield",__iconNode$f);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$e=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],ShoppingBag=createLucideIcon("shopping-bag",__iconNode$e);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$d=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],SquarePen=createLucideIcon("square-pen",__iconNode$d);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$c=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Star=createLucideIcon("star",__iconNode$c);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$b=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Tag=createLucideIcon("tag",__iconNode$b);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$a=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Target=createLucideIcon("target",__iconNode$a);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Trash2=createLucideIcon("trash-2",__iconNode$9);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$8=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],TrendingUp=createLucideIcon("trending-up",__iconNode$8);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$7=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Twitter=createLucideIcon("twitter",__iconNode$7);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$6=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],Undo=createLucideIcon("undo",__iconNode$6);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$5=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Upload=createLucideIcon("upload",__iconNode$5);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],User=createLucideIcon("user",__iconNode$4);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Users=createLucideIcon("users",__iconNode$3);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],Waves=createLucideIcon("waves",__iconNode$2);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X$1=createLucideIcon("x",__iconNode$1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zap=createLucideIcon("zap",__iconNode);function r(R){var y,T,A="";if(typeof R=="string"||typeof R=="number")A+=R;else if(typeof R=="object")if(Array.isArray(R)){var O=R.length;for(y=0;y<O;y++)R[y]&&(T=r(R[y]))&&(A&&(A+=" "),A+=T)}else for(T in R)R[T]&&(A&&(A+=" "),A+=T);return A}function clsx(){for(var R,y,T=0,A="",O=arguments.length;T<O;T++)(R=arguments[T])&&(y=r(R))&&(A&&(A+=" "),A+=y);return A}const Button=({variant:R="primary",size:y="md",children:T,className:A,...O})=>{const z="font-semibold rounded-lg transition-all duration-200 inline-flex items-center justify-center gap-2",U={primary:"bg-gradient-to-r from-primary-600 to-primary-500 text-white hover:from-primary-700 hover:to-primary-600 shadow-lg shadow-primary-500/30",secondary:"bg-gradient-to-r from-accent-600 to-accent-500 text-white hover:from-accent-700 hover:to-accent-600 shadow-lg shadow-accent-500/30",outline:"border-2 border-primary-600 text-primary-600 hover:bg-primary-50",ghost:"text-gray-700 hover:bg-gray-100"},G={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"};return jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.02,transition:{duration:.2,ease:"easeOut"}},whileTap:{scale:.95},initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{opacity:{duration:.3},y:{duration:.3,ease:[.6,-.05,.01,.99]}},className:clsx(z,U[R],G[y],A),...O,children:jsxRuntimeExports.jsx(motion.span,{className:"inline-flex items-center gap-2",whileHover:{x:2},transition:{duration:.2},children:T})})},Card=({children:R,className:y,hover:T=!0})=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,ease:[.6,-.05,.01,.99]},whileHover:T?{y:-8,scale:1.02,transition:{duration:.3,ease:"easeOut"}}:void 0,className:clsx("bg-white rounded-2xl shadow-xl p-6 border border-gray-100 overflow-hidden relative",T&&"hover:shadow-2xl transition-shadow duration-300",y),children:[T&&jsxRuntimeExports.jsx(motion.div,{className:"absolute inset-0 bg-gradient-to-br from-primary-500/5 to-accent-500/5 opacity-0",whileHover:{opacity:1},transition:{duration:.3}}),jsxRuntimeExports.jsx("div",{className:"relative z-10",children:R})]}),Container=({children:R,className:y,size:T="lg"})=>{const A={sm:"max-w-4xl",md:"max-w-6xl",lg:"max-w-7xl",full:"max-w-full"};return jsxRuntimeExports.jsx("div",{className:clsx("mx-auto px-4 sm:px-6 lg:px-8",A[T],y),children:R})},Section=({children:R,className:y,containerSize:T="lg",background:A="none",id:O})=>{const z={white:"bg-white",gray:"bg-gray-50",gradient:"bg-gradient-to-br from-primary-50 via-white to-accent-50",none:""};return jsxRuntimeExports.jsx("section",{id:O,className:clsx("py-16 sm:py-20 lg:py-24",z[A],y),children:jsxRuntimeExports.jsx(Container,{size:T,children:R})})},Skeleton=({className:R,variant:y="rectangular",width:T,height:A,animate:O=!0})=>{const z={text:"rounded h-4",circular:"rounded-full",rectangular:"rounded-lg"},U=O?{backgroundPosition:["200% 0","-200% 0"]}:{};return jsxRuntimeExports.jsx(motion.div,{className:clsx("bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 bg-[length:200%_100%]",z[y],R),style:{width:T||"100%",height:A||(y==="text"?"1rem":"100%")},animate:U,transition:{duration:1.5,repeat:1/0,ease:"linear"}})},CardSkeleton=()=>jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 border border-gray-100",children:[jsxRuntimeExports.jsx(Skeleton,{variant:"rectangular",height:"200px",className:"mb-4"}),jsxRuntimeExports.jsx(Skeleton,{variant:"text",width:"60%",height:"24px",className:"mb-2"}),jsxRuntimeExports.jsx(Skeleton,{variant:"text",width:"100%",className:"mb-1"}),jsxRuntimeExports.jsx(Skeleton,{variant:"text",width:"80%",className:"mb-4"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Skeleton,{variant:"rectangular",width:"100px",height:"40px"}),jsxRuntimeExports.jsx(Skeleton,{variant:"rectangular",width:"100px",height:"40px"})]})]}),GridSkeleton=({count:R=6})=>jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:Array.from({length:R}).map((y,T)=>jsxRuntimeExports.jsx(CardSkeleton,{},T))}),HorizontalScroll=({children:R,className:y="",itemCount:T})=>{const{t:A}=useTranslation(),O=reactExports.useRef(null),[z,U]=reactExports.useState(0),G=()=>{if(O.current){const{scrollLeft:J}=O.current,ee=O.current.firstElementChild?.clientWidth||0,ae=Math.round(J/(ee+24));U(Math.min(ae,T-1))}};return reactExports.useEffect(()=>{const J=O.current;if(J)return J.addEventListener("scroll",G),G(),window.addEventListener("resize",G),()=>{J.removeEventListener("scroll",G),window.removeEventListener("resize",G)}},[T]),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"sm:hidden flex items-center justify-center gap-2 mb-3 text-sm text-gray-500",children:jsxRuntimeExports.jsxs(motion.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{children:A("ui.swipeToSeeMore")}),jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"})]})}),jsxRuntimeExports.jsx("div",{ref:O,className:`flex overflow-x-auto pb-4 gap-6 snap-x snap-mandatory scrollbar-hide sm:grid sm:gap-8 sm:overflow-visible sm:pb-0 ${y}`,children:R}),T>1&&jsxRuntimeExports.jsx("div",{className:"sm:hidden flex justify-center gap-2 mt-4",children:Array.from({length:T}).map((J,ee)=>jsxRuntimeExports.jsx("button",{onClick:()=>{if(O.current){const te=O.current.firstElementChild?.clientWidth||0;O.current.scrollTo({left:ee*(te+24),behavior:"smooth"})}},className:`transition-all duration-300 rounded-full ${z===ee?"w-6 h-2 bg-primary-600":"w-2 h-2 bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to item ${ee+1}`},ee))})]})},SaudiRiyalPrice=({amount:R,className:y="",showSymbol:T=!0})=>{const O=(z=>{const U=typeof z=="string"?parseFloat(z):z;return isNaN(U)?String(z):U%1===0?U.toLocaleString("en-US",{maximumFractionDigits:0}):U.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:2}).replace(/\.?0+$/,"")})(R);return jsxRuntimeExports.jsxs("span",{className:y,children:[T&&jsxRuntimeExports.jsx("span",{className:"icon-saudi_riyal",style:{marginInlineEnd:"0.25em"},"aria-label":"SAR",children:""}),O]})},languages=[{code:"en",name:"English",nativeName:"English",flag:""},{code:"ar",name:"Arabic",nativeName:"",flag:""}],LanguageSwitcher=()=>{const{i18n:R}=useTranslation(),[y,T]=React.useState(!1),A=languages.find(z=>z.code===R.language)||languages[0],O=z=>{R.changeLanguage(z),T(!1)};return reactExports.useEffect(()=>{const z=R.language==="ar";document.documentElement.dir=z?"rtl":"ltr",document.documentElement.lang=R.language},[R.language]),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>T(!y),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Change language",children:[jsxRuntimeExports.jsx(Globe,{className:"w-5 h-5"}),jsxRuntimeExports.jsxs("span",{className:"hidden sm:inline text-sm font-medium",children:[A.flag," ",A.nativeName]})]}),y&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>T(!1)}),jsxRuntimeExports.jsx("div",{className:"absolute top-full mt-2 right-0 z-50 min-w-[200px] bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:languages.map(z=>jsxRuntimeExports.jsxs("button",{onClick:()=>O(z.code),className:`w-full px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center gap-3 ${R.language===z.code?"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400":"text-gray-700 dark:text-gray-300"}`,children:[jsxRuntimeExports.jsx("span",{className:"text-2xl",children:z.flag}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:z.nativeName}),jsxRuntimeExports.jsx("div",{className:"text-xs opacity-70",children:z.name})]}),R.language===z.code&&jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 ml-auto",fill:"currentColor",viewBox:"0 0 20 20",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},z.code))})]})]})},Navbar=()=>{const{t:R}=useTranslation(),[y,T]=reactExports.useState(!1),[A,O]=reactExports.useState(!1),z=useLocation(),U=useNavigate(),G=()=>{if(z.pathname==="/"){const te=document.getElementById("calendar");te&&te.scrollIntoView({behavior:"smooth"})}else sessionStorage.setItem("scrollToCalendar","true"),U("/")};reactExports.useEffect(()=>{z.pathname==="/"&&sessionStorage.getItem("scrollToCalendar")==="true"&&(sessionStorage.removeItem("scrollToCalendar"),setTimeout(()=>{const te=document.getElementById("calendar");te&&te.scrollIntoView({behavior:"smooth"})},500))},[z.pathname]);const J=[{name:R("nav.home"),href:"/"},{name:R("nav.about"),href:"/about"},{name:R("nav.blog"),href:"/blog"},{name:R("nav.initiatives"),href:"/initiatives"},{name:R("nav.contact"),href:"/contact"}],ee=[{name:R("nav.shop"),href:"https://coralsandshells.sa",external:!0},{name:R("courses.allCourses"),href:"/shop/courses"},{name:R("trips.allTrips"),href:"/shop/trips"}];return reactExports.useEffect(()=>{const te=()=>{O(window.scrollY>20)};return window.addEventListener("scroll",te),()=>window.removeEventListener("scroll",te)},[]),reactExports.useEffect(()=>{T(!1)},[z]),jsxRuntimeExports.jsxs(motion.nav,{initial:{y:-100},animate:{y:0},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${A?"bg-white/95 backdrop-blur-lg shadow-lg":"bg-white/90 backdrop-blur-sm"}`,children:[jsxRuntimeExports.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-12",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between h-20",children:[jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsxs(Link$2,{to:"/",className:"flex items-center gap-3 group",children:[jsxRuntimeExports.jsx(motion.div,{whileHover:{scale:1.05,rotate:5},transition:{duration:.3},className:"bg-gradient-to-br from-primary-600 to-accent-600 p-2.5 rounded-xl shadow-lg",children:jsxRuntimeExports.jsx(Waves,{className:"w-7 h-7 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent",children:R("brand.name")}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-600",children:R("brand.subtitle")})]})]})}),jsxRuntimeExports.jsxs("div",{className:"hidden lg:flex items-center gap-1 flex-1 justify-center",children:[J.map(te=>jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs(Link$2,{to:te.href,className:"relative px-4 py-2 text-sm font-medium text-gray-700 hover:text-primary-600 transition-colors rounded-lg hover:bg-primary-50",children:[te.name,z.pathname===te.href&&jsxRuntimeExports.jsx(motion.div,{layoutId:"navbar-indicator",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-primary-600 to-accent-600",transition:{type:"spring",bounce:.2,duration:.6}})]})},te.name)),jsxRuntimeExports.jsx("div",{className:"w-px h-5 bg-gray-300 mx-2"}),ee.map(te=>jsxRuntimeExports.jsx("div",{className:"relative",children:te.external?jsxRuntimeExports.jsxs("a",{href:te.href,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-4 py-2 text-sm font-medium text-primary-600 hover:text-primary-700 transition-colors rounded-lg hover:bg-primary-50",children:[te.name,jsxRuntimeExports.jsx(ExternalLink,{className:"w-3 h-3 opacity-50"})]}):jsxRuntimeExports.jsxs(Link$2,{to:te.href,className:"relative px-4 py-2 text-sm font-medium text-primary-600 hover:text-primary-700 transition-colors rounded-lg hover:bg-primary-50",children:[te.name,z.pathname===te.href&&jsxRuntimeExports.jsx(motion.div,{layoutId:"navbar-indicator",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-primary-600 to-accent-600",transition:{type:"spring",bounce:.2,duration:.6}})]})},te.name))]}),jsxRuntimeExports.jsxs("div",{className:"hidden lg:flex items-center gap-3 flex-shrink-0",children:[jsxRuntimeExports.jsx("button",{onClick:G,className:"p-2 rounded-lg text-gray-700 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:R("brand.viewCalendar"),children:jsxRuntimeExports.jsx(CalendarDays,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx(LanguageSwitcher,{}),jsxRuntimeExports.jsx(Link$2,{to:"/contact",children:jsxRuntimeExports.jsx(Button,{size:"sm",children:R("common.bookNow")})})]}),jsxRuntimeExports.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:G,className:"p-2 rounded-lg text-gray-700 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:R("brand.viewCalendar"),children:jsxRuntimeExports.jsx(CalendarDays,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:()=>T(!y),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:y?jsxRuntimeExports.jsx(X$1,{className:"w-6 h-6"}):jsxRuntimeExports.jsx(Menu,{className:"w-6 h-6"})})]})]})}),jsxRuntimeExports.jsx(AnimatePresence,{children:y&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"lg:hidden bg-white border-t border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"px-4 py-4 space-y-2",children:[J.map(te=>jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Link$2,{to:te.href,className:`block px-4 py-3 rounded-lg transition-colors ${z.pathname===te.href?"bg-primary-50 text-primary-600 font-medium":"text-gray-700 hover:bg-primary-50"}`,children:te.name})},te.name)),jsxRuntimeExports.jsx("div",{className:"h-px bg-gray-200 mx-4"}),ee.map(te=>jsxRuntimeExports.jsx("div",{children:te.external?jsxRuntimeExports.jsxs("a",{href:te.href,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between px-4 py-3 rounded-lg text-primary-600 hover:bg-primary-50 transition-colors",children:[te.name,jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4 opacity-50"})]}):jsxRuntimeExports.jsx(Link$2,{to:te.href,className:`block px-4 py-3 rounded-lg transition-colors ${z.pathname===te.href?"bg-primary-50 text-primary-600 font-medium":"text-primary-600 hover:bg-primary-50"}`,children:te.name})},te.name)),jsxRuntimeExports.jsxs("div",{className:"pt-2 space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"px-4",children:jsxRuntimeExports.jsx(LanguageSwitcher,{})}),jsxRuntimeExports.jsx(Link$2,{to:"/contact",children:jsxRuntimeExports.jsx(Button,{className:"w-full",size:"sm",children:R("common.bookNow")})})]})]})})})]})},socialLinks=[{Icon:Instagram,href:"https://www.instagram.com/OSHYS_OCEANS",label:"Instagram"},{Icon:Twitter,href:"https://twitter.com/OSHYS_OCEANS",label:"Twitter"},{Icon:Ghost,href:"https://www.snapchat.com/add/OSHYS_OCEANS",label:"Snapchat"},{Icon:MessageCircle,href:"https://wa.me/966541000233",label:"WhatsApp"}],Footer=()=>{const{t:R}=useTranslation(),{data:y=[]}=useGetFooterLinksQuery({active:!0}),T={company:[{name:R("footer.aboutUs"),href:"/about"},{name:R("footer.ourTeam"),href:"/about#team"},{name:R("footer.contact"),href:"/contact"},{name:R("nav.blog"),href:"/blog"}],services:[{name:R("footer.divingCourses"),href:"/shop/courses"},{name:R("footer.divingTrips"),href:"/shop/trips"},{name:R("footer.equipment"),href:"https://coralsandshells.sa"}]},A=(O,z)=>O.href.startsWith("http")||O.openInNewTab?jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:O.href,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-primary-400 transition-colors text-sm inline-block hover:translate-x-1 duration-200",children:O.name})},z):jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$2,{to:O.href,className:"text-gray-400 hover:text-primary-400 transition-colors text-sm inline-block hover:translate-x-1 duration-200",children:O.name})},z);return jsxRuntimeExports.jsxs("footer",{className:"bg-gradient-to-b from-gray-900 to-black text-gray-300",children:[jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-12 mb-12",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2",children:[jsxRuntimeExports.jsxs(Link$2,{to:"/",className:"flex items-center gap-3 mb-6 group",children:[jsxRuntimeExports.jsx(motion.div,{whileHover:{rotate:360},transition:{duration:.5},className:"bg-gradient-to-br from-primary-600 to-accent-600 p-2.5 rounded-xl shadow-lg",children:jsxRuntimeExports.jsx(Waves,{className:"w-7 h-7 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold text-white block",children:R("brand.name")}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-400",children:R("brand.subtitle")})]})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:R("footer.tagline")}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4 text-primary-400"}),jsxRuntimeExports.jsx("span",{dir:"ltr",children:"+966 54 100 0233"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 text-primary-400"}),jsxRuntimeExports.jsx("span",{children:"oshysoceans@gmail.com"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4 text-primary-400"}),jsxRuntimeExports.jsx("span",{children:R("footer.location")})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-white font-bold mb-4 text-lg",children:R("footer.company")}),jsxRuntimeExports.jsx("ul",{className:"space-y-3",children:T.company.map(O=>A(O,O.name))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-white font-bold mb-4 text-lg",children:R("footer.services")}),jsxRuntimeExports.jsx("ul",{className:"space-y-3",children:T.services.map(O=>A(O,O.name))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-white font-bold mb-4 text-lg",children:R("footer.support")}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3",children:[A({name:R("footer.faqs"),href:"/faqs"},"faqs"),y.map(O=>A({name:O.title,href:O.url,openInNewTab:O.open_in_new_tab},O.id))]})]})]}),jsxRuntimeExports.jsx("div",{className:"pt-8 border-t border-gray-800",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-6",children:[jsxRuntimeExports.jsx("div",{className:"flex gap-4",children:socialLinks.map(({Icon:O,href:z,label:U})=>jsxRuntimeExports.jsx(motion.a,{href:z,target:"_blank",rel:"noopener noreferrer",whileHover:{y:-3},className:"bg-gray-800 hover:bg-gradient-to-br hover:from-primary-600 hover:to-accent-600 p-3 rounded-lg transition-all","aria-label":U,children:jsxRuntimeExports.jsx(O,{className:"w-5 h-5"})},U))}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400 text-center sm:text-right",children:[" ",new Date().getFullYear()," ",R("footer.copyright")]})]})})]}),jsxRuntimeExports.jsx("div",{className:"h-2 bg-gradient-to-r from-primary-600 via-accent-600 to-secondary-600"})]})},WhatsAppButton=()=>{const{t:R}=useTranslation(),y="+966541000233",T=R("whatsapp.defaultMessage"),A=()=>{const O=`https://wa.me/${y}?text=${encodeURIComponent(T)}`;window.open(O,"_blank")};return jsxRuntimeExports.jsxs(motion.button,{onClick:A,className:"fixed bottom-6 right-6 z-50 bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.95},initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:1},children:[jsxRuntimeExports.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),jsxRuntimeExports.jsx(motion.span,{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0}})]})};var lottie$2={exports:{}},lottie$1=lottie$2.exports,hasRequiredLottie;function requireLottie(){return hasRequiredLottie||(hasRequiredLottie=1,(function(module,exports){typeof document<"u"&&typeof navigator<"u"&&(function(R,y){module.exports=y()})(lottie$1,(function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(y){_useWebWorker=!!y},getWebWorker=function(){return _useWebWorker},setLocationHref=function(y){locationHref=y},getLocationHref=function(){return locationHref};function createTag(R){return document.createElement(R)}function extendPrototype(R,y){var T,A=R.length,O;for(T=0;T<A;T+=1){O=R[T].prototype;for(var z in O)Object.prototype.hasOwnProperty.call(O,z)&&(y.prototype[z]=O[z])}}function getDescriptor(R,y){return Object.getOwnPropertyDescriptor(R,y)}function createProxyFunction(R){function y(){}return y.prototype=R,y}var audioControllerFactory=(function(){function R(y){this.audios=[],this.audioFactory=y,this._volume=1,this._isMuted=!1}return R.prototype={addAudio:function(T){this.audios.push(T)},pause:function(){var T,A=this.audios.length;for(T=0;T<A;T+=1)this.audios[T].pause()},resume:function(){var T,A=this.audios.length;for(T=0;T<A;T+=1)this.audios[T].resume()},setRate:function(T){var A,O=this.audios.length;for(A=0;A<O;A+=1)this.audios[A].setRate(T)},createAudio:function(T){return this.audioFactory?this.audioFactory(T):window.Howl?new window.Howl({src:[T]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(T){this.audioFactory=T},setVolume:function(T){this._volume=T,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var T,A=this.audios.length;for(T=0;T<A;T+=1)this.audios[T].volume(this._volume*(this._isMuted?0:1))}},function(){return new R}})(),createTypedArray=(function(){function R(T,A){var O=0,z=[],U;switch(T){case"int16":case"uint8c":U=1;break;default:U=1.1;break}for(O=0;O<A;O+=1)z.push(U);return z}function y(T,A){return T==="float32"?new Float32Array(A):T==="int16"?new Int16Array(A):T==="uint8c"?new Uint8ClampedArray(A):R(T,A)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?y:R})();function createSizedArray(R){return Array.apply(null,{length:R})}function _typeof$6(R){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},_typeof$6(R)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var R=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],y,T=R.length;for(y=0;y<T;y+=1)BMMath[R[y]]=Math[R[y]]})(),BMMath.random=Math.random,BMMath.abs=function(R){var y=_typeof$6(R);if(y==="object"&&R.length){var T=createSizedArray(R.length),A,O=R.length;for(A=0;A<O;A+=1)T[A]=Math.abs(R[A]);return T}return Math.abs(R)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(R){R.style.position="absolute",R.style.top=0,R.style.left=0,R.style.display="block",R.style.transformOrigin="0 0",R.style.webkitTransformOrigin="0 0",R.style.backfaceVisibility="visible",R.style.webkitBackfaceVisibility="visible",R.style.transformStyle="preserve-3d",R.style.webkitTransformStyle="preserve-3d",R.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(R,y,T,A){this.type=R,this.currentTime=y,this.totalTime=T,this.direction=A<0?-1:1}function BMCompleteEvent(R,y){this.type=R,this.direction=y<0?-1:1}function BMCompleteLoopEvent(R,y,T,A){this.type=R,this.currentLoop=T,this.totalLoops=y,this.direction=A<0?-1:1}function BMSegmentStartEvent(R,y,T){this.type=R,this.firstFrame=y,this.totalFrames=T}function BMDestroyEvent(R,y){this.type=R,this.target=y}function BMRenderFrameErrorEvent(R,y){this.type="renderFrameError",this.nativeError=R,this.currentTime=y}function BMConfigErrorEvent(R){this.type="configError",this.nativeError=R}var createElementID=(function(){var R=0;return function(){return R+=1,idPrefix$1+"__lottie_element_"+R}})();function HSVtoRGB(R,y,T){var A,O,z,U,G,J,ee,te;switch(U=Math.floor(R*6),G=R*6-U,J=T*(1-y),ee=T*(1-G*y),te=T*(1-(1-G)*y),U%6){case 0:A=T,O=te,z=J;break;case 1:A=ee,O=T,z=J;break;case 2:A=J,O=T,z=te;break;case 3:A=J,O=ee,z=T;break;case 4:A=te,O=J,z=T;break;case 5:A=T,O=J,z=ee;break}return[A,O,z]}function RGBtoHSV(R,y,T){var A=Math.max(R,y,T),O=Math.min(R,y,T),z=A-O,U,G=A===0?0:z/A,J=A/255;switch(A){case O:U=0;break;case R:U=y-T+z*(y<T?6:0),U/=6*z;break;case y:U=T-R+z*2,U/=6*z;break;case T:U=R-y+z*4,U/=6*z;break}return[U,G,J]}function addSaturationToRGB(R,y){var T=RGBtoHSV(R[0]*255,R[1]*255,R[2]*255);return T[1]+=y,T[1]>1?T[1]=1:T[1]<=0&&(T[1]=0),HSVtoRGB(T[0],T[1],T[2])}function addBrightnessToRGB(R,y){var T=RGBtoHSV(R[0]*255,R[1]*255,R[2]*255);return T[2]+=y,T[2]>1?T[2]=1:T[2]<0&&(T[2]=0),HSVtoRGB(T[0],T[1],T[2])}function addHueToRGB(R,y){var T=RGBtoHSV(R[0]*255,R[1]*255,R[2]*255);return T[0]+=y/360,T[0]>1?T[0]-=1:T[0]<0&&(T[0]+=1),HSVtoRGB(T[0],T[1],T[2])}var rgbToHex=(function(){var R=[],y,T;for(y=0;y<256;y+=1)T=y.toString(16),R[y]=T.length===1?"0"+T:T;return function(A,O,z){return A<0&&(A=0),O<0&&(O=0),z<0&&(z=0),"#"+R[A]+R[O]+R[z]}})(),setSubframeEnabled=function(y){subframeEnabled=!!y},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(y){expressionsPlugin=y},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(y){expressionsInterfaces=y},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(y){defaultCurveSegments=y},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(y){idPrefix$1=y};function createNS(R){return document.createElementNS(svgNS,R)}function _typeof$5(R){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},_typeof$5(R)}var dataManager=(function(){var R=1,y=[],T,A,O={onmessage:function(){},postMessage:function(pe){T({data:pe})}},z={postMessage:function(pe){O.onmessage({data:pe})}};function U(oe){if(window.Worker&&window.Blob&&getWebWorker()){var pe=new Blob(["var _workerSelf = self; self.onmessage = ",oe.toString()],{type:"text/javascript"}),fe=URL.createObjectURL(pe);return new Worker(fe)}return T=oe,O}function G(){A||(A=U(function(pe){function fe(){function ye(ot,qe){var Xe,Ge,Qe=ot.length,it,Ye,st,ut;for(Ge=0;Ge<Qe;Ge+=1)if(Xe=ot[Ge],"ks"in Xe&&!Xe.completed){if(Xe.completed=!0,Xe.hasMask){var pt=Xe.masksProperties;for(Ye=pt.length,it=0;it<Ye;it+=1)if(pt[it].pt.k.i)$e(pt[it].pt.k);else for(ut=pt[it].pt.k.length,st=0;st<ut;st+=1)pt[it].pt.k[st].s&&$e(pt[it].pt.k[st].s[0]),pt[it].pt.k[st].e&&$e(pt[it].pt.k[st].e[0])}Xe.ty===0?(Xe.layers=je(Xe.refId,qe),ye(Xe.layers,qe)):Xe.ty===4?Ne(Xe.shapes):Xe.ty===5&&nt(Xe)}}function _e(ot,qe){if(ot){var Xe=0,Ge=ot.length;for(Xe=0;Xe<Ge;Xe+=1)ot[Xe].t===1&&(ot[Xe].data.layers=je(ot[Xe].data.refId,qe),ye(ot[Xe].data.layers,qe))}}function Le(ot,qe){for(var Xe=0,Ge=qe.length;Xe<Ge;){if(qe[Xe].id===ot)return qe[Xe];Xe+=1}return null}function je(ot,qe){var Xe=Le(ot,qe);return Xe?Xe.layers.__used?JSON.parse(JSON.stringify(Xe.layers)):(Xe.layers.__used=!0,Xe.layers):null}function Ne(ot){var qe,Xe=ot.length,Ge,Qe;for(qe=Xe-1;qe>=0;qe-=1)if(ot[qe].ty==="sh")if(ot[qe].ks.k.i)$e(ot[qe].ks.k);else for(Qe=ot[qe].ks.k.length,Ge=0;Ge<Qe;Ge+=1)ot[qe].ks.k[Ge].s&&$e(ot[qe].ks.k[Ge].s[0]),ot[qe].ks.k[Ge].e&&$e(ot[qe].ks.k[Ge].e[0]);else ot[qe].ty==="gr"&&Ne(ot[qe].it)}function $e(ot){var qe,Xe=ot.i.length;for(qe=0;qe<Xe;qe+=1)ot.i[qe][0]+=ot.v[qe][0],ot.i[qe][1]+=ot.v[qe][1],ot.o[qe][0]+=ot.v[qe][0],ot.o[qe][1]+=ot.v[qe][1]}function Ue(ot,qe){var Xe=qe?qe.split("."):[100,100,100];return ot[0]>Xe[0]?!0:Xe[0]>ot[0]?!1:ot[1]>Xe[1]?!0:Xe[1]>ot[1]?!1:ot[2]>Xe[2]?!0:Xe[2]>ot[2]?!1:null}var He=(function(){var ot=[4,4,14];function qe(Ge){var Qe=Ge.t.d;Ge.t.d={k:[{s:Qe,t:0}]}}function Xe(Ge){var Qe,it=Ge.length;for(Qe=0;Qe<it;Qe+=1)Ge[Qe].ty===5&&qe(Ge[Qe])}return function(Ge){if(Ue(ot,Ge.v)&&(Xe(Ge.layers),Ge.assets)){var Qe,it=Ge.assets.length;for(Qe=0;Qe<it;Qe+=1)Ge.assets[Qe].layers&&Xe(Ge.assets[Qe].layers)}}})(),ze=(function(){var ot=[4,7,99];return function(qe){if(qe.chars&&!Ue(ot,qe.v)){var Xe,Ge=qe.chars.length;for(Xe=0;Xe<Ge;Xe+=1){var Qe=qe.chars[Xe];Qe.data&&Qe.data.shapes&&(Ne(Qe.data.shapes),Qe.data.ip=0,Qe.data.op=99999,Qe.data.st=0,Qe.data.sr=1,Qe.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},qe.chars[Xe].t||(Qe.data.shapes.push({ty:"no"}),Qe.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}})(),Ke=(function(){var ot=[5,7,15];function qe(Ge){var Qe=Ge.t.p;typeof Qe.a=="number"&&(Qe.a={a:0,k:Qe.a}),typeof Qe.p=="number"&&(Qe.p={a:0,k:Qe.p}),typeof Qe.r=="number"&&(Qe.r={a:0,k:Qe.r})}function Xe(Ge){var Qe,it=Ge.length;for(Qe=0;Qe<it;Qe+=1)Ge[Qe].ty===5&&qe(Ge[Qe])}return function(Ge){if(Ue(ot,Ge.v)&&(Xe(Ge.layers),Ge.assets)){var Qe,it=Ge.assets.length;for(Qe=0;Qe<it;Qe+=1)Ge.assets[Qe].layers&&Xe(Ge.assets[Qe].layers)}}})(),Je=(function(){var ot=[4,1,9];function qe(Ge){var Qe,it=Ge.length,Ye,st;for(Qe=0;Qe<it;Qe+=1)if(Ge[Qe].ty==="gr")qe(Ge[Qe].it);else if(Ge[Qe].ty==="fl"||Ge[Qe].ty==="st")if(Ge[Qe].c.k&&Ge[Qe].c.k[0].i)for(st=Ge[Qe].c.k.length,Ye=0;Ye<st;Ye+=1)Ge[Qe].c.k[Ye].s&&(Ge[Qe].c.k[Ye].s[0]/=255,Ge[Qe].c.k[Ye].s[1]/=255,Ge[Qe].c.k[Ye].s[2]/=255,Ge[Qe].c.k[Ye].s[3]/=255),Ge[Qe].c.k[Ye].e&&(Ge[Qe].c.k[Ye].e[0]/=255,Ge[Qe].c.k[Ye].e[1]/=255,Ge[Qe].c.k[Ye].e[2]/=255,Ge[Qe].c.k[Ye].e[3]/=255);else Ge[Qe].c.k[0]/=255,Ge[Qe].c.k[1]/=255,Ge[Qe].c.k[2]/=255,Ge[Qe].c.k[3]/=255}function Xe(Ge){var Qe,it=Ge.length;for(Qe=0;Qe<it;Qe+=1)Ge[Qe].ty===4&&qe(Ge[Qe].shapes)}return function(Ge){if(Ue(ot,Ge.v)&&(Xe(Ge.layers),Ge.assets)){var Qe,it=Ge.assets.length;for(Qe=0;Qe<it;Qe+=1)Ge.assets[Qe].layers&&Xe(Ge.assets[Qe].layers)}}})(),Ze=(function(){var ot=[4,4,18];function qe(Ge){var Qe,it=Ge.length,Ye,st;for(Qe=it-1;Qe>=0;Qe-=1)if(Ge[Qe].ty==="sh")if(Ge[Qe].ks.k.i)Ge[Qe].ks.k.c=Ge[Qe].closed;else for(st=Ge[Qe].ks.k.length,Ye=0;Ye<st;Ye+=1)Ge[Qe].ks.k[Ye].s&&(Ge[Qe].ks.k[Ye].s[0].c=Ge[Qe].closed),Ge[Qe].ks.k[Ye].e&&(Ge[Qe].ks.k[Ye].e[0].c=Ge[Qe].closed);else Ge[Qe].ty==="gr"&&qe(Ge[Qe].it)}function Xe(Ge){var Qe,it,Ye=Ge.length,st,ut,pt,yt;for(it=0;it<Ye;it+=1){if(Qe=Ge[it],Qe.hasMask){var Et=Qe.masksProperties;for(ut=Et.length,st=0;st<ut;st+=1)if(Et[st].pt.k.i)Et[st].pt.k.c=Et[st].cl;else for(yt=Et[st].pt.k.length,pt=0;pt<yt;pt+=1)Et[st].pt.k[pt].s&&(Et[st].pt.k[pt].s[0].c=Et[st].cl),Et[st].pt.k[pt].e&&(Et[st].pt.k[pt].e[0].c=Et[st].cl)}Qe.ty===4&&qe(Qe.shapes)}}return function(Ge){if(Ue(ot,Ge.v)&&(Xe(Ge.layers),Ge.assets)){var Qe,it=Ge.assets.length;for(Qe=0;Qe<it;Qe+=1)Ge.assets[Qe].layers&&Xe(Ge.assets[Qe].layers)}}})();function rt(ot){ot.__complete||(Je(ot),He(ot),ze(ot),Ke(ot),Ze(ot),ye(ot.layers,ot.assets),_e(ot.chars,ot.assets),ot.__complete=!0)}function nt(ot){ot.t.a.length===0&&"m"in ot.t.p}var at={};return at.completeData=rt,at.checkColors=Je,at.checkChars=ze,at.checkPathProperties=Ke,at.checkShapes=Ze,at.completeLayers=ye,at}if(z.dataManager||(z.dataManager=fe()),z.assetLoader||(z.assetLoader=(function(){function ye(Le){var je=Le.getResponseHeader("content-type");return je&&Le.responseType==="json"&&je.indexOf("json")!==-1||Le.response&&_typeof$5(Le.response)==="object"?Le.response:Le.response&&typeof Le.response=="string"?JSON.parse(Le.response):Le.responseText?JSON.parse(Le.responseText):null}function _e(Le,je,Ne,$e){var Ue,He=new XMLHttpRequest;try{He.responseType="json"}catch{}He.onreadystatechange=function(){if(He.readyState===4)if(He.status===200)Ue=ye(He),Ne(Ue);else try{Ue=ye(He),Ne(Ue)}catch(ze){$e&&$e(ze)}};try{He.open(["G","E","T"].join(""),Le,!0)}catch{He.open(["G","E","T"].join(""),je+"/"+Le,!0)}He.send()}return{load:_e}})()),pe.data.type==="loadAnimation")z.assetLoader.load(pe.data.path,pe.data.fullPath,function(ye){z.dataManager.completeData(ye),z.postMessage({id:pe.data.id,payload:ye,status:"success"})},function(){z.postMessage({id:pe.data.id,status:"error"})});else if(pe.data.type==="complete"){var xe=pe.data.animation;z.dataManager.completeData(xe),z.postMessage({id:pe.data.id,payload:xe,status:"success"})}else pe.data.type==="loadData"&&z.assetLoader.load(pe.data.path,pe.data.fullPath,function(ye){z.postMessage({id:pe.data.id,payload:ye,status:"success"})},function(){z.postMessage({id:pe.data.id,status:"error"})})}),A.onmessage=function(oe){var pe=oe.data,fe=pe.id,xe=y[fe];y[fe]=null,pe.status==="success"?xe.onComplete(pe.payload):xe.onError&&xe.onError()})}function J(oe,pe){R+=1;var fe="processId_"+R;return y[fe]={onComplete:oe,onError:pe},fe}function ee(oe,pe,fe){G();var xe=J(pe,fe);A.postMessage({type:"loadAnimation",path:oe,fullPath:window.location.origin+window.location.pathname,id:xe})}function te(oe,pe,fe){G();var xe=J(pe,fe);A.postMessage({type:"loadData",path:oe,fullPath:window.location.origin+window.location.pathname,id:xe})}function ae(oe,pe,fe){G();var xe=J(pe,fe);A.postMessage({type:"complete",animation:oe,id:xe})}return{loadAnimation:ee,loadData:te,completeAnimation:ae}})(),ImagePreloader=(function(){var R=(function(){var _e=createTag("canvas");_e.width=1,_e.height=1;var Le=_e.getContext("2d");return Le.fillStyle="rgba(0,0,0,0)",Le.fillRect(0,0,1,1),_e})();function y(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function T(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function A(_e,Le,je){var Ne="";if(_e.e)Ne=_e.p;else if(Le){var $e=_e.p;$e.indexOf("images/")!==-1&&($e=$e.split("/")[1]),Ne=Le+$e}else Ne=je,Ne+=_e.u?_e.u:"",Ne+=_e.p;return Ne}function O(_e){var Le=0,je=setInterval((function(){var Ne=_e.getBBox();(Ne.width||Le>500)&&(this._imageLoaded(),clearInterval(je)),Le+=1}).bind(this),50)}function z(_e){var Le=A(_e,this.assetsPath,this.path),je=createNS("image");isSafari?this.testImageLoaded(je):je.addEventListener("load",this._imageLoaded,!1),je.addEventListener("error",(function(){Ne.img=R,this._imageLoaded()}).bind(this),!1),je.setAttributeNS("http://www.w3.org/1999/xlink","href",Le),this._elementHelper.append?this._elementHelper.append(je):this._elementHelper.appendChild(je);var Ne={img:je,assetData:_e};return Ne}function U(_e){var Le=A(_e,this.assetsPath,this.path),je=createTag("img");je.crossOrigin="anonymous",je.addEventListener("load",this._imageLoaded,!1),je.addEventListener("error",(function(){Ne.img=R,this._imageLoaded()}).bind(this),!1),je.src=Le;var Ne={img:je,assetData:_e};return Ne}function G(_e){var Le={assetData:_e},je=A(_e,this.assetsPath,this.path);return dataManager.loadData(je,(function(Ne){Le.img=Ne,this._footageLoaded()}).bind(this),(function(){Le.img={},this._footageLoaded()}).bind(this)),Le}function J(_e,Le){this.imagesLoadedCb=Le;var je,Ne=_e.length;for(je=0;je<Ne;je+=1)_e[je].layers||(!_e[je].t||_e[je].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(_e[je]))):_e[je].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(_e[je]))))}function ee(_e){this.path=_e||""}function te(_e){this.assetsPath=_e||""}function ae(_e){for(var Le=0,je=this.images.length;Le<je;){if(this.images[Le].assetData===_e)return this.images[Le].img;Le+=1}return null}function oe(){this.imagesLoadedCb=null,this.images.length=0}function pe(){return this.totalImages===this.loadedAssets}function fe(){return this.totalFootages===this.loadedFootagesCount}function xe(_e,Le){_e==="svg"?(this._elementHelper=Le,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function ye(){this._imageLoaded=y.bind(this),this._footageLoaded=T.bind(this),this.testImageLoaded=O.bind(this),this.createFootageData=G.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return ye.prototype={loadAssets:J,setAssetsPath:te,setPath:ee,loadedImages:pe,loadedFootages:fe,destroy:oe,getAsset:ae,createImgData:U,createImageData:z,imageLoaded:y,footageLoaded:T,setCacheType:xe},ye})();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(y,T){if(this._cbs[y])for(var A=this._cbs[y],O=0;O<A.length;O+=1)A[O](T)},addEventListener:function(y,T){return this._cbs[y]||(this._cbs[y]=[]),this._cbs[y].push(T),(function(){this.removeEventListener(y,T)}).bind(this)},removeEventListener:function(y,T){if(!T)this._cbs[y]=null;else if(this._cbs[y]){for(var A=0,O=this._cbs[y].length;A<O;)this._cbs[y][A]===T&&(this._cbs[y].splice(A,1),A-=1,O-=1),A+=1;this._cbs[y].length||(this._cbs[y]=null)}}};var markerParser=(function(){function R(y){for(var T=y.split(`\r
`),A={},O,z=0,U=0;U<T.length;U+=1)O=T[U].split(":"),O.length===2&&(A[O[0]]=O[1].trim(),z+=1);if(z===0)throw new Error;return A}return function(y){for(var T=[],A=0;A<y.length;A+=1){var O=y[A],z={time:O.tm,duration:O.dr};try{z.payload=JSON.parse(y[A].cm)}catch{try{z.payload=R(y[A].cm)}catch{z.payload={name:y[A].cm}}}T.push(z)}return T}})(),ProjectInterface=(function(){function R(y){this.compositions.push(y)}return function(){function y(T){for(var A=0,O=this.compositions.length;A<O;){if(this.compositions[A].data&&this.compositions[A].data.nm===T)return this.compositions[A].prepareFrame&&this.compositions[A].data.xt&&this.compositions[A].prepareFrame(this.currentFrame),this.compositions[A].compInterface;A+=1}return null}return y.compositions=[],y.currentFrame=0,y.registerComposition=R,y}})(),renderers={},registerRenderer=function(y,T){renderers[y]=T};function getRenderer(R){return renderers[R]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var R in renderers)if(renderers[R])return R;return""}function _typeof$4(R){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},_typeof$4(R)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(R){(R.wrapper||R.container)&&(this.wrapper=R.wrapper||R.container);var y="svg";R.animType?y=R.animType:R.renderer&&(y=R.renderer);var T=getRenderer(y);this.renderer=new T(this,R.rendererSettings),this.imagePreloader.setCacheType(y,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=y,R.loop===""||R.loop===null||R.loop===void 0||R.loop===!0?this.loop=!0:R.loop===!1?this.loop=!1:this.loop=parseInt(R.loop,10),this.autoplay="autoplay"in R?R.autoplay:!0,this.name=R.name?R.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(R,"autoloadSegments")?R.autoloadSegments:!0,this.assetsPath=R.assetsPath,this.initialSegment=R.initialSegment,R.audioFactory&&this.audioController.setAudioFactory(R.audioFactory),R.animationData?this.setupAnimation(R.animationData):R.path&&(R.path.lastIndexOf("\\")!==-1?this.path=R.path.substr(0,R.path.lastIndexOf("\\")+1):this.path=R.path.substr(0,R.path.lastIndexOf("/")+1),this.fileName=R.path.substr(R.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(R.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(R){dataManager.completeAnimation(R,this.configAnimation)},AnimationItem.prototype.setData=function(R,y){y&&_typeof$4(y)!=="object"&&(y=JSON.parse(y));var T={wrapper:R,animationData:y},A=R.attributes;T.path=A.getNamedItem("data-animation-path")?A.getNamedItem("data-animation-path").value:A.getNamedItem("data-bm-path")?A.getNamedItem("data-bm-path").value:A.getNamedItem("bm-path")?A.getNamedItem("bm-path").value:"",T.animType=A.getNamedItem("data-anim-type")?A.getNamedItem("data-anim-type").value:A.getNamedItem("data-bm-type")?A.getNamedItem("data-bm-type").value:A.getNamedItem("bm-type")?A.getNamedItem("bm-type").value:A.getNamedItem("data-bm-renderer")?A.getNamedItem("data-bm-renderer").value:A.getNamedItem("bm-renderer")?A.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var O=A.getNamedItem("data-anim-loop")?A.getNamedItem("data-anim-loop").value:A.getNamedItem("data-bm-loop")?A.getNamedItem("data-bm-loop").value:A.getNamedItem("bm-loop")?A.getNamedItem("bm-loop").value:"";O==="false"?T.loop=!1:O==="true"?T.loop=!0:O!==""&&(T.loop=parseInt(O,10));var z=A.getNamedItem("data-anim-autoplay")?A.getNamedItem("data-anim-autoplay").value:A.getNamedItem("data-bm-autoplay")?A.getNamedItem("data-bm-autoplay").value:A.getNamedItem("bm-autoplay")?A.getNamedItem("bm-autoplay").value:!0;T.autoplay=z!=="false",T.name=A.getNamedItem("data-name")?A.getNamedItem("data-name").value:A.getNamedItem("data-bm-name")?A.getNamedItem("data-bm-name").value:A.getNamedItem("bm-name")?A.getNamedItem("bm-name").value:"";var U=A.getNamedItem("data-anim-prerender")?A.getNamedItem("data-anim-prerender").value:A.getNamedItem("data-bm-prerender")?A.getNamedItem("data-bm-prerender").value:A.getNamedItem("bm-prerender")?A.getNamedItem("bm-prerender").value:"";U==="false"&&(T.prerender=!1),T.path?this.setParams(T):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(R){R.op>this.animationData.op&&(this.animationData.op=R.op,this.totalFrames=Math.floor(R.op-this.animationData.ip));var y=this.animationData.layers,T,A=y.length,O=R.layers,z,U=O.length;for(z=0;z<U;z+=1)for(T=0;T<A;){if(y[T].id===O[z].id){y[T]=O[z];break}T+=1}if((R.chars||R.fonts)&&(this.renderer.globalData.fontManager.addChars(R.chars),this.renderer.globalData.fontManager.addFonts(R.fonts,this.renderer.globalData.defs)),R.assets)for(A=R.assets.length,T=0;T<A;T+=1)this.animationData.assets.push(R.assets[T]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(R){this.animationData=R;var y=getExpressionsPlugin();y&&y.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var R=this.animationData.segments;if(!R||R.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var y=R.shift();this.timeCompleted=y.time*this.frameRate;var T=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(T,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var R=this.animationData.segments;R||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(R){if(this.renderer)try{this.animationData=R,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(R),R.assets||(R.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(R.assets),this.markers=markerParser(R.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(y){this.triggerConfigError(y)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var R=getExpressionsPlugin();R&&R.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(R,y){var T=typeof R=="number"?R:void 0,A=typeof y=="number"?y:void 0;this.renderer.updateContainerSize(T,A)},AnimationItem.prototype.setSubframe=function(R){this.isSubframeEnabled=!!R},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(R){this.triggerRenderFrameError(R)}},AnimationItem.prototype.play=function(R){R&&this.name!==R||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(R){R&&this.name!==R||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(R){R&&this.name!==R||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(R){R&&this.name!==R||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(R){for(var y,T=0;T<this.markers.length;T+=1)if(y=this.markers[T],y.payload&&y.payload.name===R)return y;return null},AnimationItem.prototype.goToAndStop=function(R,y,T){if(!(T&&this.name!==T)){var A=Number(R);if(isNaN(A)){var O=this.getMarkerData(R);O&&this.goToAndStop(O.time,!0)}else y?this.setCurrentRawFrameValue(R):this.setCurrentRawFrameValue(R*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(R,y,T){if(!(T&&this.name!==T)){var A=Number(R);if(isNaN(A)){var O=this.getMarkerData(R);O&&(O.duration?this.playSegments([O.time,O.time+O.duration],!0):this.goToAndStop(O.time,!0))}else this.goToAndStop(A,y,T);this.play()}},AnimationItem.prototype.advanceTime=function(R){if(!(this.isPaused===!0||this.isLoaded===!1)){var y=this.currentRawFrame+R*this.frameModifier,T=!1;y>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(y>this.totalFrames?y%this.totalFrames:0)||(T=!0,y=this.totalFrames-1):y>=this.totalFrames?(this.playCount+=1,this.checkSegments(y%this.totalFrames)||(this.setCurrentRawFrameValue(y%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(y):y<0?this.checkSegments(y%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+y%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(T=!0,y=0)):this.setCurrentRawFrameValue(y),T&&(this.setCurrentRawFrameValue(y),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(R,y){this.playCount=0,R[1]<R[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=R[0]-R[1],this.timeCompleted=this.totalFrames,this.firstFrame=R[1],this.setCurrentRawFrameValue(this.totalFrames-.001-y)):R[1]>R[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=R[1]-R[0],this.timeCompleted=this.totalFrames,this.firstFrame=R[0],this.setCurrentRawFrameValue(.001+y)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(R,y){var T=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<R?T=R:this.currentRawFrame+this.firstFrame>y&&(T=y-R)),this.firstFrame=R,this.totalFrames=y-R,this.timeCompleted=this.totalFrames,T!==-1&&this.goToAndStop(T,!0)},AnimationItem.prototype.playSegments=function(R,y){if(y&&(this.segments.length=0),_typeof$4(R[0])==="object"){var T,A=R.length;for(T=0;T<A;T+=1)this.segments.push(R[T])}else this.segments.push(R);this.segments.length&&y&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(R){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),R&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(R){return this.segments.length?(this.adjustSegment(this.segments.shift(),R),!0):!1},AnimationItem.prototype.destroy=function(R){R&&this.name!==R||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(R){this.currentRawFrame=R,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(R){this.playSpeed=R,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(R){this.playDirection=R<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(R){this.loop=R},AnimationItem.prototype.setVolume=function(R,y){y&&this.name!==y||this.audioController.setVolume(R)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(R){R&&this.name!==R||this.audioController.mute()},AnimationItem.prototype.unmute=function(R){R&&this.name!==R||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(R){var y="";if(R.e)y=R.p;else if(this.assetsPath){var T=R.p;T.indexOf("images/")!==-1&&(T=T.split("/")[1]),y=this.assetsPath+T}else y=this.path,y+=R.u?R.u:"",y+=R.p;return y},AnimationItem.prototype.getAssetData=function(R){for(var y=0,T=this.assets.length;y<T;){if(R===this.assets[y].id)return this.assets[y];y+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(R){return R?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(R,y,T){try{var A=this.renderer.getElementByPath(R);A.updateDocumentData(y,T)}catch{}},AnimationItem.prototype.trigger=function(R){if(this._cbs&&this._cbs[R])switch(R){case"enterFrame":this.triggerEvent(R,new BMEnterFrameEvent(R,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(R,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(R,new BMCompleteLoopEvent(R,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(R,new BMCompleteEvent(R,this.frameMult));break;case"segmentStart":this.triggerEvent(R,new BMSegmentStartEvent(R,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(R,new BMDestroyEvent(R,this));break;default:this.triggerEvent(R)}R==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(R,this.currentFrame,this.totalFrames,this.frameMult)),R==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(R,this.loop,this.playCount,this.frameMult)),R==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(R,this.frameMult)),R==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(R,this.firstFrame,this.totalFrames)),R==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(R,this))},AnimationItem.prototype.triggerRenderFrameError=function(R){var y=new BMRenderFrameErrorEvent(R,this.currentFrame);this.triggerEvent("error",y),this.onError&&this.onError.call(this,y)},AnimationItem.prototype.triggerConfigError=function(R){var y=new BMConfigErrorEvent(R,this.currentFrame);this.triggerEvent("error",y),this.onError&&this.onError.call(this,y)};var animationManager=(function(){var R={},y=[],T=0,A=0,O=0,z=!0,U=!1;function G(qe){for(var Xe=0,Ge=qe.target;Xe<A;)y[Xe].animation===Ge&&(y.splice(Xe,1),Xe-=1,A-=1,Ge.isPaused||ae()),Xe+=1}function J(qe,Xe){if(!qe)return null;for(var Ge=0;Ge<A;){if(y[Ge].elem===qe&&y[Ge].elem!==null)return y[Ge].animation;Ge+=1}var Qe=new AnimationItem;return oe(Qe,qe),Qe.setData(qe,Xe),Qe}function ee(){var qe,Xe=y.length,Ge=[];for(qe=0;qe<Xe;qe+=1)Ge.push(y[qe].animation);return Ge}function te(){O+=1,Je()}function ae(){O-=1}function oe(qe,Xe){qe.addEventListener("destroy",G),qe.addEventListener("_active",te),qe.addEventListener("_idle",ae),y.push({elem:Xe,animation:qe}),A+=1}function pe(qe){var Xe=new AnimationItem;return oe(Xe,null),Xe.setParams(qe),Xe}function fe(qe,Xe){var Ge;for(Ge=0;Ge<A;Ge+=1)y[Ge].animation.setSpeed(qe,Xe)}function xe(qe,Xe){var Ge;for(Ge=0;Ge<A;Ge+=1)y[Ge].animation.setDirection(qe,Xe)}function ye(qe){var Xe;for(Xe=0;Xe<A;Xe+=1)y[Xe].animation.play(qe)}function _e(qe){var Xe=qe-T,Ge;for(Ge=0;Ge<A;Ge+=1)y[Ge].animation.advanceTime(Xe);T=qe,O&&!U?window.requestAnimationFrame(_e):z=!0}function Le(qe){T=qe,window.requestAnimationFrame(_e)}function je(qe){var Xe;for(Xe=0;Xe<A;Xe+=1)y[Xe].animation.pause(qe)}function Ne(qe,Xe,Ge){var Qe;for(Qe=0;Qe<A;Qe+=1)y[Qe].animation.goToAndStop(qe,Xe,Ge)}function $e(qe){var Xe;for(Xe=0;Xe<A;Xe+=1)y[Xe].animation.stop(qe)}function Ue(qe){var Xe;for(Xe=0;Xe<A;Xe+=1)y[Xe].animation.togglePause(qe)}function He(qe){var Xe;for(Xe=A-1;Xe>=0;Xe-=1)y[Xe].animation.destroy(qe)}function ze(qe,Xe,Ge){var Qe=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),it,Ye=Qe.length;for(it=0;it<Ye;it+=1)Ge&&Qe[it].setAttribute("data-bm-type",Ge),J(Qe[it],qe);if(Xe&&Ye===0){Ge||(Ge="svg");var st=document.getElementsByTagName("body")[0];st.innerText="";var ut=createTag("div");ut.style.width="100%",ut.style.height="100%",ut.setAttribute("data-bm-type",Ge),st.appendChild(ut),J(ut,qe)}}function Ke(){var qe;for(qe=0;qe<A;qe+=1)y[qe].animation.resize()}function Je(){!U&&O&&z&&(window.requestAnimationFrame(Le),z=!1)}function Ze(){U=!0}function rt(){U=!1,Je()}function nt(qe,Xe){var Ge;for(Ge=0;Ge<A;Ge+=1)y[Ge].animation.setVolume(qe,Xe)}function at(qe){var Xe;for(Xe=0;Xe<A;Xe+=1)y[Xe].animation.mute(qe)}function ot(qe){var Xe;for(Xe=0;Xe<A;Xe+=1)y[Xe].animation.unmute(qe)}return R.registerAnimation=J,R.loadAnimation=pe,R.setSpeed=fe,R.setDirection=xe,R.play=ye,R.pause=je,R.stop=$e,R.togglePause=Ue,R.searchAnimations=ze,R.resize=Ke,R.goToAndStop=Ne,R.destroy=He,R.freeze=Ze,R.unfreeze=rt,R.setVolume=nt,R.mute=at,R.unmute=ot,R.getRegisteredAnimations=ee,R})(),BezierFactory=(function(){var R={};R.getBezierEasing=T;var y={};function T(Le,je,Ne,$e,Ue){var He=Ue||("bez_"+Le+"_"+je+"_"+Ne+"_"+$e).replace(/\./g,"p");if(y[He])return y[He];var ze=new _e([Le,je,Ne,$e]);return y[He]=ze,ze}var A=4,O=.001,z=1e-7,U=10,G=11,J=1/(G-1),ee=typeof Float32Array=="function";function te(Le,je){return 1-3*je+3*Le}function ae(Le,je){return 3*je-6*Le}function oe(Le){return 3*Le}function pe(Le,je,Ne){return((te(je,Ne)*Le+ae(je,Ne))*Le+oe(je))*Le}function fe(Le,je,Ne){return 3*te(je,Ne)*Le*Le+2*ae(je,Ne)*Le+oe(je)}function xe(Le,je,Ne,$e,Ue){var He,ze,Ke=0;do ze=je+(Ne-je)/2,He=pe(ze,$e,Ue)-Le,He>0?Ne=ze:je=ze;while(Math.abs(He)>z&&++Ke<U);return ze}function ye(Le,je,Ne,$e){for(var Ue=0;Ue<A;++Ue){var He=fe(je,Ne,$e);if(He===0)return je;var ze=pe(je,Ne,$e)-Le;je-=ze/He}return je}function _e(Le){this._p=Le,this._mSampleValues=ee?new Float32Array(G):new Array(G),this._precomputed=!1,this.get=this.get.bind(this)}return _e.prototype={get:function(je){var Ne=this._p[0],$e=this._p[1],Ue=this._p[2],He=this._p[3];return this._precomputed||this._precompute(),Ne===$e&&Ue===He?je:je===0?0:je===1?1:pe(this._getTForX(je),$e,He)},_precompute:function(){var je=this._p[0],Ne=this._p[1],$e=this._p[2],Ue=this._p[3];this._precomputed=!0,(je!==Ne||$e!==Ue)&&this._calcSampleValues()},_calcSampleValues:function(){for(var je=this._p[0],Ne=this._p[2],$e=0;$e<G;++$e)this._mSampleValues[$e]=pe($e*J,je,Ne)},_getTForX:function(je){for(var Ne=this._p[0],$e=this._p[2],Ue=this._mSampleValues,He=0,ze=1,Ke=G-1;ze!==Ke&&Ue[ze]<=je;++ze)He+=J;--ze;var Je=(je-Ue[ze])/(Ue[ze+1]-Ue[ze]),Ze=He+Je*J,rt=fe(Ze,Ne,$e);return rt>=O?ye(je,Ze,Ne,$e):rt===0?Ze:xe(je,He,He+J,Ne,$e)}},R})(),pooling=(function(){function R(y){return y.concat(createSizedArray(y.length))}return{double:R}})(),poolFactory=(function(){return function(R,y,T){var A=0,O=R,z=createSizedArray(O),U={newElement:G,release:J};function G(){var ee;return A?(A-=1,ee=z[A]):ee=y(),ee}function J(ee){A===O&&(z=pooling.double(z),O*=2),T&&T(ee),z[A]=ee,A+=1}return U}})(),bezierLengthPool=(function(){function R(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,R)})(),segmentsLengthPool=(function(){function R(){return{lengths:[],totalLength:0}}function y(T){var A,O=T.lengths.length;for(A=0;A<O;A+=1)bezierLengthPool.release(T.lengths[A]);T.lengths.length=0}return poolFactory(8,R,y)})();function bezFunction(){var R=Math;function y(oe,pe,fe,xe,ye,_e){var Le=oe*xe+pe*ye+fe*_e-ye*xe-_e*oe-fe*pe;return Le>-.001&&Le<.001}function T(oe,pe,fe,xe,ye,_e,Le,je,Ne){if(fe===0&&_e===0&&Ne===0)return y(oe,pe,xe,ye,Le,je);var $e=R.sqrt(R.pow(xe-oe,2)+R.pow(ye-pe,2)+R.pow(_e-fe,2)),Ue=R.sqrt(R.pow(Le-oe,2)+R.pow(je-pe,2)+R.pow(Ne-fe,2)),He=R.sqrt(R.pow(Le-xe,2)+R.pow(je-ye,2)+R.pow(Ne-_e,2)),ze;return $e>Ue?$e>He?ze=$e-Ue-He:ze=He-Ue-$e:He>Ue?ze=He-Ue-$e:ze=Ue-$e-He,ze>-1e-4&&ze<1e-4}var A=(function(){return function(oe,pe,fe,xe){var ye=getDefaultCurveSegments(),_e,Le,je,Ne,$e,Ue=0,He,ze=[],Ke=[],Je=bezierLengthPool.newElement();for(je=fe.length,_e=0;_e<ye;_e+=1){for($e=_e/(ye-1),He=0,Le=0;Le<je;Le+=1)Ne=bmPow(1-$e,3)*oe[Le]+3*bmPow(1-$e,2)*$e*fe[Le]+3*(1-$e)*bmPow($e,2)*xe[Le]+bmPow($e,3)*pe[Le],ze[Le]=Ne,Ke[Le]!==null&&(He+=bmPow(ze[Le]-Ke[Le],2)),Ke[Le]=ze[Le];He&&(He=bmSqrt(He),Ue+=He),Je.percents[_e]=$e,Je.lengths[_e]=Ue}return Je.addedLength=Ue,Je}})();function O(oe){var pe=segmentsLengthPool.newElement(),fe=oe.c,xe=oe.v,ye=oe.o,_e=oe.i,Le,je=oe._length,Ne=pe.lengths,$e=0;for(Le=0;Le<je-1;Le+=1)Ne[Le]=A(xe[Le],xe[Le+1],ye[Le],_e[Le+1]),$e+=Ne[Le].addedLength;return fe&&je&&(Ne[Le]=A(xe[Le],xe[0],ye[Le],_e[0]),$e+=Ne[Le].addedLength),pe.totalLength=$e,pe}function z(oe){this.segmentLength=0,this.points=new Array(oe)}function U(oe,pe){this.partialLength=oe,this.point=pe}var G=(function(){var oe={};return function(pe,fe,xe,ye){var _e=(pe[0]+"_"+pe[1]+"_"+fe[0]+"_"+fe[1]+"_"+xe[0]+"_"+xe[1]+"_"+ye[0]+"_"+ye[1]).replace(/\./g,"p");if(!oe[_e]){var Le=getDefaultCurveSegments(),je,Ne,$e,Ue,He,ze=0,Ke,Je,Ze=null;pe.length===2&&(pe[0]!==fe[0]||pe[1]!==fe[1])&&y(pe[0],pe[1],fe[0],fe[1],pe[0]+xe[0],pe[1]+xe[1])&&y(pe[0],pe[1],fe[0],fe[1],fe[0]+ye[0],fe[1]+ye[1])&&(Le=2);var rt=new z(Le);for($e=xe.length,je=0;je<Le;je+=1){for(Je=createSizedArray($e),He=je/(Le-1),Ke=0,Ne=0;Ne<$e;Ne+=1)Ue=bmPow(1-He,3)*pe[Ne]+3*bmPow(1-He,2)*He*(pe[Ne]+xe[Ne])+3*(1-He)*bmPow(He,2)*(fe[Ne]+ye[Ne])+bmPow(He,3)*fe[Ne],Je[Ne]=Ue,Ze!==null&&(Ke+=bmPow(Je[Ne]-Ze[Ne],2));Ke=bmSqrt(Ke),ze+=Ke,rt.points[je]=new U(Ke,Je),Ze=Je}rt.segmentLength=ze,oe[_e]=rt}return oe[_e]}})();function J(oe,pe){var fe=pe.percents,xe=pe.lengths,ye=fe.length,_e=bmFloor((ye-1)*oe),Le=oe*pe.addedLength,je=0;if(_e===ye-1||_e===0||Le===xe[_e])return fe[_e];for(var Ne=xe[_e]>Le?-1:1,$e=!0;$e;)if(xe[_e]<=Le&&xe[_e+1]>Le?(je=(Le-xe[_e])/(xe[_e+1]-xe[_e]),$e=!1):_e+=Ne,_e<0||_e>=ye-1){if(_e===ye-1)return fe[_e];$e=!1}return fe[_e]+(fe[_e+1]-fe[_e])*je}function ee(oe,pe,fe,xe,ye,_e){var Le=J(ye,_e),je=1-Le,Ne=R.round((je*je*je*oe[0]+(Le*je*je+je*Le*je+je*je*Le)*fe[0]+(Le*Le*je+je*Le*Le+Le*je*Le)*xe[0]+Le*Le*Le*pe[0])*1e3)/1e3,$e=R.round((je*je*je*oe[1]+(Le*je*je+je*Le*je+je*je*Le)*fe[1]+(Le*Le*je+je*Le*Le+Le*je*Le)*xe[1]+Le*Le*Le*pe[1])*1e3)/1e3;return[Ne,$e]}var te=createTypedArray("float32",8);function ae(oe,pe,fe,xe,ye,_e,Le){ye<0?ye=0:ye>1&&(ye=1);var je=J(ye,Le);_e=_e>1?1:_e;var Ne=J(_e,Le),$e,Ue=oe.length,He=1-je,ze=1-Ne,Ke=He*He*He,Je=je*He*He*3,Ze=je*je*He*3,rt=je*je*je,nt=He*He*ze,at=je*He*ze+He*je*ze+He*He*Ne,ot=je*je*ze+He*je*Ne+je*He*Ne,qe=je*je*Ne,Xe=He*ze*ze,Ge=je*ze*ze+He*Ne*ze+He*ze*Ne,Qe=je*Ne*ze+He*Ne*Ne+je*ze*Ne,it=je*Ne*Ne,Ye=ze*ze*ze,st=Ne*ze*ze+ze*Ne*ze+ze*ze*Ne,ut=Ne*Ne*ze+ze*Ne*Ne+Ne*ze*Ne,pt=Ne*Ne*Ne;for($e=0;$e<Ue;$e+=1)te[$e*4]=R.round((Ke*oe[$e]+Je*fe[$e]+Ze*xe[$e]+rt*pe[$e])*1e3)/1e3,te[$e*4+1]=R.round((nt*oe[$e]+at*fe[$e]+ot*xe[$e]+qe*pe[$e])*1e3)/1e3,te[$e*4+2]=R.round((Xe*oe[$e]+Ge*fe[$e]+Qe*xe[$e]+it*pe[$e])*1e3)/1e3,te[$e*4+3]=R.round((Ye*oe[$e]+st*fe[$e]+ut*xe[$e]+pt*pe[$e])*1e3)/1e3;return te}return{getSegmentsLength:O,getNewSegment:ae,getPointInSegment:ee,buildBezierData:G,pointOnLine2D:y,pointOnLine3D:T}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(R,y){var T=this.offsetTime,A;this.propType==="multidimensional"&&(A=createTypedArray("float32",this.pv.length));for(var O=y.lastIndex,z=O,U=this.keyframes.length-1,G=!0,J,ee,te;G;){if(J=this.keyframes[z],ee=this.keyframes[z+1],z===U-1&&R>=ee.t-T){J.h&&(J=ee),O=0;break}if(ee.t-T>R){O=z;break}z<U-1?z+=1:(O=0,G=!1)}te=this.keyframesMetadata[z]||{};var ae,oe,pe,fe,xe,ye,_e=ee.t-T,Le=J.t-T,je;if(J.to){te.bezierData||(te.bezierData=bez.buildBezierData(J.s,ee.s||J.e,J.to,J.ti));var Ne=te.bezierData;if(R>=_e||R<Le){var $e=R>=_e?Ne.points.length-1:0;for(oe=Ne.points[$e].point.length,ae=0;ae<oe;ae+=1)A[ae]=Ne.points[$e].point[ae]}else{te.__fnct?ye=te.__fnct:(ye=BezierFactory.getBezierEasing(J.o.x,J.o.y,J.i.x,J.i.y,J.n).get,te.__fnct=ye),pe=ye((R-Le)/(_e-Le));var Ue=Ne.segmentLength*pe,He,ze=y.lastFrame<R&&y._lastKeyframeIndex===z?y._lastAddedLength:0;for(xe=y.lastFrame<R&&y._lastKeyframeIndex===z?y._lastPoint:0,G=!0,fe=Ne.points.length;G;){if(ze+=Ne.points[xe].partialLength,Ue===0||pe===0||xe===Ne.points.length-1){for(oe=Ne.points[xe].point.length,ae=0;ae<oe;ae+=1)A[ae]=Ne.points[xe].point[ae];break}else if(Ue>=ze&&Ue<ze+Ne.points[xe+1].partialLength){for(He=(Ue-ze)/Ne.points[xe+1].partialLength,oe=Ne.points[xe].point.length,ae=0;ae<oe;ae+=1)A[ae]=Ne.points[xe].point[ae]+(Ne.points[xe+1].point[ae]-Ne.points[xe].point[ae])*He;break}xe<fe-1?xe+=1:G=!1}y._lastPoint=xe,y._lastAddedLength=ze-Ne.points[xe].partialLength,y._lastKeyframeIndex=z}}else{var Ke,Je,Ze,rt,nt;if(U=J.s.length,je=ee.s||J.e,this.sh&&J.h!==1)if(R>=_e)A[0]=je[0],A[1]=je[1],A[2]=je[2];else if(R<=Le)A[0]=J.s[0],A[1]=J.s[1],A[2]=J.s[2];else{var at=createQuaternion(J.s),ot=createQuaternion(je),qe=(R-Le)/(_e-Le);quaternionToEuler(A,slerp(at,ot,qe))}else for(z=0;z<U;z+=1)J.h!==1&&(R>=_e?pe=1:R<Le?pe=0:(J.o.x.constructor===Array?(te.__fnct||(te.__fnct=[]),te.__fnct[z]?ye=te.__fnct[z]:(Ke=J.o.x[z]===void 0?J.o.x[0]:J.o.x[z],Je=J.o.y[z]===void 0?J.o.y[0]:J.o.y[z],Ze=J.i.x[z]===void 0?J.i.x[0]:J.i.x[z],rt=J.i.y[z]===void 0?J.i.y[0]:J.i.y[z],ye=BezierFactory.getBezierEasing(Ke,Je,Ze,rt).get,te.__fnct[z]=ye)):te.__fnct?ye=te.__fnct:(Ke=J.o.x,Je=J.o.y,Ze=J.i.x,rt=J.i.y,ye=BezierFactory.getBezierEasing(Ke,Je,Ze,rt).get,J.keyframeMetadata=ye),pe=ye((R-Le)/(_e-Le)))),je=ee.s||J.e,nt=J.h===1?J.s[z]:J.s[z]+(je[z]-J.s[z])*pe,this.propType==="multidimensional"?A[z]=nt:A=nt}return y.lastIndex=O,A}function slerp(R,y,T){var A=[],O=R[0],z=R[1],U=R[2],G=R[3],J=y[0],ee=y[1],te=y[2],ae=y[3],oe,pe,fe,xe,ye;return pe=O*J+z*ee+U*te+G*ae,pe<0&&(pe=-pe,J=-J,ee=-ee,te=-te,ae=-ae),1-pe>1e-6?(oe=Math.acos(pe),fe=Math.sin(oe),xe=Math.sin((1-T)*oe)/fe,ye=Math.sin(T*oe)/fe):(xe=1-T,ye=T),A[0]=xe*O+ye*J,A[1]=xe*z+ye*ee,A[2]=xe*U+ye*te,A[3]=xe*G+ye*ae,A}function quaternionToEuler(R,y){var T=y[0],A=y[1],O=y[2],z=y[3],U=Math.atan2(2*A*z-2*T*O,1-2*A*A-2*O*O),G=Math.asin(2*T*A+2*O*z),J=Math.atan2(2*T*z-2*A*O,1-2*T*T-2*O*O);R[0]=U/degToRads,R[1]=G/degToRads,R[2]=J/degToRads}function createQuaternion(R){var y=R[0]*degToRads,T=R[1]*degToRads,A=R[2]*degToRads,O=Math.cos(y/2),z=Math.cos(T/2),U=Math.cos(A/2),G=Math.sin(y/2),J=Math.sin(T/2),ee=Math.sin(A/2),te=O*z*U-G*J*ee,ae=G*J*U+O*z*ee,oe=G*z*U+O*J*ee,pe=O*J*U-G*z*ee;return[ae,oe,pe,te]}function getValueAtCurrentTime(){var R=this.comp.renderedFrame-this.offsetTime,y=this.keyframes[0].t-this.offsetTime,T=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(R===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=T&&R>=T||this._caching.lastFrame<y&&R<y))){this._caching.lastFrame>=R&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var A=this.interpolateValue(R,this._caching);this.pv=A}return this._caching.lastFrame=R,this.pv}function setVValue(R){var y;if(this.propType==="unidimensional")y=R*this.mult,mathAbs(this.v-y)>1e-5&&(this.v=y,this._mdf=!0);else for(var T=0,A=this.v.length;T<A;)y=R[T]*this.mult,mathAbs(this.v[T]-y)>1e-5&&(this.v[T]=y,this._mdf=!0),T+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var R,y=this.effectsSequence.length,T=this.kf?this.pv:this.data.k;for(R=0;R<y;R+=1)T=this.effectsSequence[R](T);this.setVValue(T),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(R){this.effectsSequence.push(R),this.container.addDynamicProperty(this)}function ValueProperty(R,y,T,A){this.propType="unidimensional",this.mult=T||1,this.data=y,this.v=T?y.k*T:y.k,this.pv=y.k,this._mdf=!1,this.elem=R,this.container=A,this.comp=R.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(R,y,T,A){this.propType="multidimensional",this.mult=T||1,this.data=y,this._mdf=!1,this.elem=R,this.container=A,this.comp=R.comp,this.k=!1,this.kf=!1,this.frameId=-1;var O,z=y.k.length;for(this.v=createTypedArray("float32",z),this.pv=createTypedArray("float32",z),this.vel=createTypedArray("float32",z),O=0;O<z;O+=1)this.v[O]=y.k[O]*this.mult,this.pv[O]=y.k[O];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(R,y,T,A){this.propType="unidimensional",this.keyframes=y.k,this.keyframesMetadata=[],this.offsetTime=R.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=y,this.mult=T||1,this.elem=R,this.container=A,this.comp=R.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(R,y,T,A){this.propType="multidimensional";var O,z=y.k.length,U,G,J,ee;for(O=0;O<z-1;O+=1)y.k[O].to&&y.k[O].s&&y.k[O+1]&&y.k[O+1].s&&(U=y.k[O].s,G=y.k[O+1].s,J=y.k[O].to,ee=y.k[O].ti,(U.length===2&&!(U[0]===G[0]&&U[1]===G[1])&&bez.pointOnLine2D(U[0],U[1],G[0],G[1],U[0]+J[0],U[1]+J[1])&&bez.pointOnLine2D(U[0],U[1],G[0],G[1],G[0]+ee[0],G[1]+ee[1])||U.length===3&&!(U[0]===G[0]&&U[1]===G[1]&&U[2]===G[2])&&bez.pointOnLine3D(U[0],U[1],U[2],G[0],G[1],G[2],U[0]+J[0],U[1]+J[1],U[2]+J[2])&&bez.pointOnLine3D(U[0],U[1],U[2],G[0],G[1],G[2],G[0]+ee[0],G[1]+ee[1],G[2]+ee[2]))&&(y.k[O].to=null,y.k[O].ti=null),U[0]===G[0]&&U[1]===G[1]&&J[0]===0&&J[1]===0&&ee[0]===0&&ee[1]===0&&(U.length===2||U[2]===G[2]&&J[2]===0&&ee[2]===0)&&(y.k[O].to=null,y.k[O].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=y,this.keyframes=y.k,this.keyframesMetadata=[],this.offsetTime=R.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=T||1,this.elem=R,this.container=A,this.comp=R.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var te=y.k[0].s.length;for(this.v=createTypedArray("float32",te),this.pv=createTypedArray("float32",te),O=0;O<te;O+=1)this.v[O]=initFrame,this.pv[O]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",te)},this.addEffect=addEffect}var PropertyFactory=(function(){function R(T,A,O,z,U){A.sid&&(A=T.globalData.slotManager.getProp(A));var G;if(!A.k.length)G=new ValueProperty(T,A,z,U);else if(typeof A.k[0]=="number")G=new MultiDimensionalProperty(T,A,z,U);else switch(O){case 0:G=new KeyframedValueProperty(T,A,z,U);break;case 1:G=new KeyframedMultidimensionalProperty(T,A,z,U);break}return G.effectsSequence.length&&U.addDynamicProperty(G),G}var y={getProp:R};return y})();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(y){this.dynamicProperties.indexOf(y)===-1&&(this.dynamicProperties.push(y),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var y,T=this.dynamicProperties.length;for(y=0;y<T;y+=1)this.dynamicProperties[y].getValue(),this.dynamicProperties[y]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(y){this.container=y,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=(function(){function R(){return createTypedArray("float32",2)}return poolFactory(8,R)})();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(R,y){this.c=R,this.setLength(y);for(var T=0;T<y;)this.v[T]=pointPool.newElement(),this.o[T]=pointPool.newElement(),this.i[T]=pointPool.newElement(),T+=1},ShapePath.prototype.setLength=function(R){for(;this._maxLength<R;)this.doubleArrayLength();this._length=R},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(R,y,T,A,O){var z;switch(this._length=Math.max(this._length,A+1),this._length>=this._maxLength&&this.doubleArrayLength(),T){case"v":z=this.v;break;case"i":z=this.i;break;case"o":z=this.o;break;default:z=[];break}(!z[A]||z[A]&&!O)&&(z[A]=pointPool.newElement()),z[A][0]=R,z[A][1]=y},ShapePath.prototype.setTripleAt=function(R,y,T,A,O,z,U,G){this.setXYAt(R,y,"v",U,G),this.setXYAt(T,A,"o",U,G),this.setXYAt(O,z,"i",U,G)},ShapePath.prototype.reverse=function(){var R=new ShapePath;R.setPathData(this.c,this._length);var y=this.v,T=this.o,A=this.i,O=0;this.c&&(R.setTripleAt(y[0][0],y[0][1],A[0][0],A[0][1],T[0][0],T[0][1],0,!1),O=1);var z=this._length-1,U=this._length,G;for(G=O;G<U;G+=1)R.setTripleAt(y[z][0],y[z][1],A[z][0],A[z][1],T[z][0],T[z][1],G,!1),z-=1;return R},ShapePath.prototype.length=function(){return this._length};var shapePool=(function(){function R(){return new ShapePath}function y(O){var z=O._length,U;for(U=0;U<z;U+=1)pointPool.release(O.v[U]),pointPool.release(O.i[U]),pointPool.release(O.o[U]),O.v[U]=null,O.i[U]=null,O.o[U]=null;O._length=0,O.c=!1}function T(O){var z=A.newElement(),U,G=O._length===void 0?O.v.length:O._length;for(z.setLength(G),z.c=O.c,U=0;U<G;U+=1)z.setTripleAt(O.v[U][0],O.v[U][1],O.o[U][0],O.o[U][1],O.i[U][0],O.i[U][1],U);return z}var A=poolFactory(4,R,y);return A.clone=T,A})();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(R){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=R,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var R;for(R=0;R<this._length;R+=1)shapePool.release(this.shapes[R]);this._length=0};var shapeCollectionPool=(function(){var R={newShapeCollection:O,release:z},y=0,T=4,A=createSizedArray(T);function O(){var U;return y?(y-=1,U=A[y]):U=new ShapeCollection,U}function z(U){var G,J=U._length;for(G=0;G<J;G+=1)shapePool.release(U.shapes[G]);U._length=0,y===T&&(A=pooling.double(A),T*=2),A[y]=U,y+=1}return R})(),ShapePropertyFactory=(function(){var R=-999999;function y(_e,Le,je){var Ne=je.lastIndex,$e,Ue,He,ze,Ke,Je,Ze,rt,nt,at=this.keyframes;if(_e<at[0].t-this.offsetTime)$e=at[0].s[0],He=!0,Ne=0;else if(_e>=at[at.length-1].t-this.offsetTime)$e=at[at.length-1].s?at[at.length-1].s[0]:at[at.length-2].e[0],He=!0;else{for(var ot=Ne,qe=at.length-1,Xe=!0,Ge,Qe,it;Xe&&(Ge=at[ot],Qe=at[ot+1],!(Qe.t-this.offsetTime>_e));)ot<qe-1?ot+=1:Xe=!1;if(it=this.keyframesMetadata[ot]||{},He=Ge.h===1,Ne=ot,!He){if(_e>=Qe.t-this.offsetTime)rt=1;else if(_e<Ge.t-this.offsetTime)rt=0;else{var Ye;it.__fnct?Ye=it.__fnct:(Ye=BezierFactory.getBezierEasing(Ge.o.x,Ge.o.y,Ge.i.x,Ge.i.y).get,it.__fnct=Ye),rt=Ye((_e-(Ge.t-this.offsetTime))/(Qe.t-this.offsetTime-(Ge.t-this.offsetTime)))}Ue=Qe.s?Qe.s[0]:Ge.e[0]}$e=Ge.s[0]}for(Je=Le._length,Ze=$e.i[0].length,je.lastIndex=Ne,ze=0;ze<Je;ze+=1)for(Ke=0;Ke<Ze;Ke+=1)nt=He?$e.i[ze][Ke]:$e.i[ze][Ke]+(Ue.i[ze][Ke]-$e.i[ze][Ke])*rt,Le.i[ze][Ke]=nt,nt=He?$e.o[ze][Ke]:$e.o[ze][Ke]+(Ue.o[ze][Ke]-$e.o[ze][Ke])*rt,Le.o[ze][Ke]=nt,nt=He?$e.v[ze][Ke]:$e.v[ze][Ke]+(Ue.v[ze][Ke]-$e.v[ze][Ke])*rt,Le.v[ze][Ke]=nt}function T(){var _e=this.comp.renderedFrame-this.offsetTime,Le=this.keyframes[0].t-this.offsetTime,je=this.keyframes[this.keyframes.length-1].t-this.offsetTime,Ne=this._caching.lastFrame;return Ne!==R&&(Ne<Le&&_e<Le||Ne>je&&_e>je)||(this._caching.lastIndex=Ne<_e?this._caching.lastIndex:0,this.interpolateShape(_e,this.pv,this._caching)),this._caching.lastFrame=_e,this.pv}function A(){this.paths=this.localShapeCollection}function O(_e,Le){if(_e._length!==Le._length||_e.c!==Le.c)return!1;var je,Ne=_e._length;for(je=0;je<Ne;je+=1)if(_e.v[je][0]!==Le.v[je][0]||_e.v[je][1]!==Le.v[je][1]||_e.o[je][0]!==Le.o[je][0]||_e.o[je][1]!==Le.o[je][1]||_e.i[je][0]!==Le.i[je][0]||_e.i[je][1]!==Le.i[je][1])return!1;return!0}function z(_e){O(this.v,_e)||(this.v=shapePool.clone(_e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function U(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var _e;this.kf?_e=this.pv:this.data.ks?_e=this.data.ks.k:_e=this.data.pt.k;var Le,je=this.effectsSequence.length;for(Le=0;Le<je;Le+=1)_e=this.effectsSequence[Le](_e);this.setVValue(_e),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function G(_e,Le,je){this.propType="shape",this.comp=_e.comp,this.container=_e,this.elem=_e,this.data=Le,this.k=!1,this.kf=!1,this._mdf=!1;var Ne=je===3?Le.pt.k:Le.ks.k;this.v=shapePool.clone(Ne),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=A,this.effectsSequence=[]}function J(_e){this.effectsSequence.push(_e),this.container.addDynamicProperty(this)}G.prototype.interpolateShape=y,G.prototype.getValue=U,G.prototype.setVValue=z,G.prototype.addEffect=J;function ee(_e,Le,je){this.propType="shape",this.comp=_e.comp,this.elem=_e,this.container=_e,this.offsetTime=_e.data.st,this.keyframes=je===3?Le.pt.k:Le.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var Ne=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,Ne),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=R,this.reset=A,this._caching={lastFrame:R,lastIndex:0},this.effectsSequence=[T.bind(this)]}ee.prototype.getValue=U,ee.prototype.interpolateShape=y,ee.prototype.setVValue=z,ee.prototype.addEffect=J;var te=(function(){var _e=roundCorner;function Le(je,Ne){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=Ne.d,this.elem=je,this.comp=je.comp,this.frameId=-1,this.initDynamicPropertyContainer(je),this.p=PropertyFactory.getProp(je,Ne.p,1,0,this),this.s=PropertyFactory.getProp(je,Ne.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return Le.prototype={reset:A,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var Ne=this.p.v[0],$e=this.p.v[1],Ue=this.s.v[0]/2,He=this.s.v[1]/2,ze=this.d!==3,Ke=this.v;Ke.v[0][0]=Ne,Ke.v[0][1]=$e-He,Ke.v[1][0]=ze?Ne+Ue:Ne-Ue,Ke.v[1][1]=$e,Ke.v[2][0]=Ne,Ke.v[2][1]=$e+He,Ke.v[3][0]=ze?Ne-Ue:Ne+Ue,Ke.v[3][1]=$e,Ke.i[0][0]=ze?Ne-Ue*_e:Ne+Ue*_e,Ke.i[0][1]=$e-He,Ke.i[1][0]=ze?Ne+Ue:Ne-Ue,Ke.i[1][1]=$e-He*_e,Ke.i[2][0]=ze?Ne+Ue*_e:Ne-Ue*_e,Ke.i[2][1]=$e+He,Ke.i[3][0]=ze?Ne-Ue:Ne+Ue,Ke.i[3][1]=$e+He*_e,Ke.o[0][0]=ze?Ne+Ue*_e:Ne-Ue*_e,Ke.o[0][1]=$e-He,Ke.o[1][0]=ze?Ne+Ue:Ne-Ue,Ke.o[1][1]=$e+He*_e,Ke.o[2][0]=ze?Ne-Ue*_e:Ne+Ue*_e,Ke.o[2][1]=$e+He,Ke.o[3][0]=ze?Ne-Ue:Ne+Ue,Ke.o[3][1]=$e-He*_e}},extendPrototype([DynamicPropertyContainer],Le),Le})(),ae=(function(){function _e(Le,je){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=Le,this.comp=Le.comp,this.data=je,this.frameId=-1,this.d=je.d,this.initDynamicPropertyContainer(Le),je.sy===1?(this.ir=PropertyFactory.getProp(Le,je.ir,0,0,this),this.is=PropertyFactory.getProp(Le,je.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(Le,je.pt,0,0,this),this.p=PropertyFactory.getProp(Le,je.p,1,0,this),this.r=PropertyFactory.getProp(Le,je.r,0,degToRads,this),this.or=PropertyFactory.getProp(Le,je.or,0,0,this),this.os=PropertyFactory.getProp(Le,je.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return _e.prototype={reset:A,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var je=Math.floor(this.pt.v)*2,Ne=Math.PI*2/je,$e=!0,Ue=this.or.v,He=this.ir.v,ze=this.os.v,Ke=this.is.v,Je=2*Math.PI*Ue/(je*2),Ze=2*Math.PI*He/(je*2),rt,nt,at,ot,qe=-Math.PI/2;qe+=this.r.v;var Xe=this.data.d===3?-1:1;for(this.v._length=0,rt=0;rt<je;rt+=1){nt=$e?Ue:He,at=$e?ze:Ke,ot=$e?Je:Ze;var Ge=nt*Math.cos(qe),Qe=nt*Math.sin(qe),it=Ge===0&&Qe===0?0:Qe/Math.sqrt(Ge*Ge+Qe*Qe),Ye=Ge===0&&Qe===0?0:-Ge/Math.sqrt(Ge*Ge+Qe*Qe);Ge+=+this.p.v[0],Qe+=+this.p.v[1],this.v.setTripleAt(Ge,Qe,Ge-it*ot*at*Xe,Qe-Ye*ot*at*Xe,Ge+it*ot*at*Xe,Qe+Ye*ot*at*Xe,rt,!0),$e=!$e,qe+=Ne*Xe}},convertPolygonToPath:function(){var je=Math.floor(this.pt.v),Ne=Math.PI*2/je,$e=this.or.v,Ue=this.os.v,He=2*Math.PI*$e/(je*4),ze,Ke=-Math.PI*.5,Je=this.data.d===3?-1:1;for(Ke+=this.r.v,this.v._length=0,ze=0;ze<je;ze+=1){var Ze=$e*Math.cos(Ke),rt=$e*Math.sin(Ke),nt=Ze===0&&rt===0?0:rt/Math.sqrt(Ze*Ze+rt*rt),at=Ze===0&&rt===0?0:-Ze/Math.sqrt(Ze*Ze+rt*rt);Ze+=+this.p.v[0],rt+=+this.p.v[1],this.v.setTripleAt(Ze,rt,Ze-nt*He*Ue*Je,rt-at*He*Ue*Je,Ze+nt*He*Ue*Je,rt+at*He*Ue*Je,ze,!0),Ke+=Ne*Je}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],_e),_e})(),oe=(function(){function _e(Le,je){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=Le,this.comp=Le.comp,this.frameId=-1,this.d=je.d,this.initDynamicPropertyContainer(Le),this.p=PropertyFactory.getProp(Le,je.p,1,0,this),this.s=PropertyFactory.getProp(Le,je.s,1,0,this),this.r=PropertyFactory.getProp(Le,je.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return _e.prototype={convertRectToPath:function(){var je=this.p.v[0],Ne=this.p.v[1],$e=this.s.v[0]/2,Ue=this.s.v[1]/2,He=bmMin($e,Ue,this.r.v),ze=He*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(je+$e,Ne-Ue+He,je+$e,Ne-Ue+He,je+$e,Ne-Ue+ze,0,!0),this.v.setTripleAt(je+$e,Ne+Ue-He,je+$e,Ne+Ue-ze,je+$e,Ne+Ue-He,1,!0),He!==0?(this.v.setTripleAt(je+$e-He,Ne+Ue,je+$e-He,Ne+Ue,je+$e-ze,Ne+Ue,2,!0),this.v.setTripleAt(je-$e+He,Ne+Ue,je-$e+ze,Ne+Ue,je-$e+He,Ne+Ue,3,!0),this.v.setTripleAt(je-$e,Ne+Ue-He,je-$e,Ne+Ue-He,je-$e,Ne+Ue-ze,4,!0),this.v.setTripleAt(je-$e,Ne-Ue+He,je-$e,Ne-Ue+ze,je-$e,Ne-Ue+He,5,!0),this.v.setTripleAt(je-$e+He,Ne-Ue,je-$e+He,Ne-Ue,je-$e+ze,Ne-Ue,6,!0),this.v.setTripleAt(je+$e-He,Ne-Ue,je+$e-ze,Ne-Ue,je+$e-He,Ne-Ue,7,!0)):(this.v.setTripleAt(je-$e,Ne+Ue,je-$e+ze,Ne+Ue,je-$e,Ne+Ue,2),this.v.setTripleAt(je-$e,Ne-Ue,je-$e,Ne-Ue+ze,je-$e,Ne-Ue,3))):(this.v.setTripleAt(je+$e,Ne-Ue+He,je+$e,Ne-Ue+ze,je+$e,Ne-Ue+He,0,!0),He!==0?(this.v.setTripleAt(je+$e-He,Ne-Ue,je+$e-He,Ne-Ue,je+$e-ze,Ne-Ue,1,!0),this.v.setTripleAt(je-$e+He,Ne-Ue,je-$e+ze,Ne-Ue,je-$e+He,Ne-Ue,2,!0),this.v.setTripleAt(je-$e,Ne-Ue+He,je-$e,Ne-Ue+He,je-$e,Ne-Ue+ze,3,!0),this.v.setTripleAt(je-$e,Ne+Ue-He,je-$e,Ne+Ue-ze,je-$e,Ne+Ue-He,4,!0),this.v.setTripleAt(je-$e+He,Ne+Ue,je-$e+He,Ne+Ue,je-$e+ze,Ne+Ue,5,!0),this.v.setTripleAt(je+$e-He,Ne+Ue,je+$e-ze,Ne+Ue,je+$e-He,Ne+Ue,6,!0),this.v.setTripleAt(je+$e,Ne+Ue-He,je+$e,Ne+Ue-He,je+$e,Ne+Ue-ze,7,!0)):(this.v.setTripleAt(je-$e,Ne-Ue,je-$e+ze,Ne-Ue,je-$e,Ne-Ue,1,!0),this.v.setTripleAt(je-$e,Ne+Ue,je-$e,Ne+Ue-ze,je-$e,Ne+Ue,2,!0),this.v.setTripleAt(je+$e,Ne+Ue,je+$e-ze,Ne+Ue,je+$e,Ne+Ue,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:A},extendPrototype([DynamicPropertyContainer],_e),_e})();function pe(_e,Le,je){var Ne;if(je===3||je===4){var $e=je===3?Le.pt:Le.ks,Ue=$e.k;Ue.length?Ne=new ee(_e,Le,je):Ne=new G(_e,Le,je)}else je===5?Ne=new oe(_e,Le):je===6?Ne=new te(_e,Le):je===7&&(Ne=new ae(_e,Le));return Ne.k&&_e.addDynamicProperty(Ne),Ne}function fe(){return G}function xe(){return ee}var ye={};return ye.getShapeProp=pe,ye.getConstructorFunction=fe,ye.getKeyframedConstructorFunction=xe,ye})();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=(function(){var R=Math.cos,y=Math.sin,T=Math.tan,A=Math.round;function O(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function z(Ge){if(Ge===0)return this;var Qe=R(Ge),it=y(Ge);return this._t(Qe,-it,0,0,it,Qe,0,0,0,0,1,0,0,0,0,1)}function U(Ge){if(Ge===0)return this;var Qe=R(Ge),it=y(Ge);return this._t(1,0,0,0,0,Qe,-it,0,0,it,Qe,0,0,0,0,1)}function G(Ge){if(Ge===0)return this;var Qe=R(Ge),it=y(Ge);return this._t(Qe,0,it,0,0,1,0,0,-it,0,Qe,0,0,0,0,1)}function J(Ge){if(Ge===0)return this;var Qe=R(Ge),it=y(Ge);return this._t(Qe,-it,0,0,it,Qe,0,0,0,0,1,0,0,0,0,1)}function ee(Ge,Qe){return this._t(1,Qe,Ge,1,0,0)}function te(Ge,Qe){return this.shear(T(Ge),T(Qe))}function ae(Ge,Qe){var it=R(Qe),Ye=y(Qe);return this._t(it,Ye,0,0,-Ye,it,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,T(Ge),1,0,0,0,0,1,0,0,0,0,1)._t(it,-Ye,0,0,Ye,it,0,0,0,0,1,0,0,0,0,1)}function oe(Ge,Qe,it){return!it&&it!==0&&(it=1),Ge===1&&Qe===1&&it===1?this:this._t(Ge,0,0,0,0,Qe,0,0,0,0,it,0,0,0,0,1)}function pe(Ge,Qe,it,Ye,st,ut,pt,yt,Et,jt,St,Ct,_t,Ht,Yt,Pt){return this.props[0]=Ge,this.props[1]=Qe,this.props[2]=it,this.props[3]=Ye,this.props[4]=st,this.props[5]=ut,this.props[6]=pt,this.props[7]=yt,this.props[8]=Et,this.props[9]=jt,this.props[10]=St,this.props[11]=Ct,this.props[12]=_t,this.props[13]=Ht,this.props[14]=Yt,this.props[15]=Pt,this}function fe(Ge,Qe,it){return it=it||0,Ge!==0||Qe!==0||it!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Ge,Qe,it,1):this}function xe(Ge,Qe,it,Ye,st,ut,pt,yt,Et,jt,St,Ct,_t,Ht,Yt,Pt){var Rt=this.props;if(Ge===1&&Qe===0&&it===0&&Ye===0&&st===0&&ut===1&&pt===0&&yt===0&&Et===0&&jt===0&&St===1&&Ct===0)return Rt[12]=Rt[12]*Ge+Rt[15]*_t,Rt[13]=Rt[13]*ut+Rt[15]*Ht,Rt[14]=Rt[14]*St+Rt[15]*Yt,Rt[15]*=Pt,this._identityCalculated=!1,this;var rr=Rt[0],pr=Rt[1],jr=Rt[2],Rr=Rt[3],Er=Rt[4],Sr=Rt[5],hr=Rt[6],ns=Rt[7],as=Rt[8],Xt=Rt[9],ls=Rt[10],Cr=Rt[11],cs=Rt[12],fs=Rt[13],Sn=Rt[14],nn=Rt[15];return Rt[0]=rr*Ge+pr*st+jr*Et+Rr*_t,Rt[1]=rr*Qe+pr*ut+jr*jt+Rr*Ht,Rt[2]=rr*it+pr*pt+jr*St+Rr*Yt,Rt[3]=rr*Ye+pr*yt+jr*Ct+Rr*Pt,Rt[4]=Er*Ge+Sr*st+hr*Et+ns*_t,Rt[5]=Er*Qe+Sr*ut+hr*jt+ns*Ht,Rt[6]=Er*it+Sr*pt+hr*St+ns*Yt,Rt[7]=Er*Ye+Sr*yt+hr*Ct+ns*Pt,Rt[8]=as*Ge+Xt*st+ls*Et+Cr*_t,Rt[9]=as*Qe+Xt*ut+ls*jt+Cr*Ht,Rt[10]=as*it+Xt*pt+ls*St+Cr*Yt,Rt[11]=as*Ye+Xt*yt+ls*Ct+Cr*Pt,Rt[12]=cs*Ge+fs*st+Sn*Et+nn*_t,Rt[13]=cs*Qe+fs*ut+Sn*jt+nn*Ht,Rt[14]=cs*it+fs*pt+Sn*St+nn*Yt,Rt[15]=cs*Ye+fs*yt+Sn*Ct+nn*Pt,this._identityCalculated=!1,this}function ye(Ge){var Qe=Ge.props;return this.transform(Qe[0],Qe[1],Qe[2],Qe[3],Qe[4],Qe[5],Qe[6],Qe[7],Qe[8],Qe[9],Qe[10],Qe[11],Qe[12],Qe[13],Qe[14],Qe[15])}function _e(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Le(Ge){for(var Qe=0;Qe<16;){if(Ge.props[Qe]!==this.props[Qe])return!1;Qe+=1}return!0}function je(Ge){var Qe;for(Qe=0;Qe<16;Qe+=1)Ge.props[Qe]=this.props[Qe];return Ge}function Ne(Ge){var Qe;for(Qe=0;Qe<16;Qe+=1)this.props[Qe]=Ge[Qe]}function $e(Ge,Qe,it){return{x:Ge*this.props[0]+Qe*this.props[4]+it*this.props[8]+this.props[12],y:Ge*this.props[1]+Qe*this.props[5]+it*this.props[9]+this.props[13],z:Ge*this.props[2]+Qe*this.props[6]+it*this.props[10]+this.props[14]}}function Ue(Ge,Qe,it){return Ge*this.props[0]+Qe*this.props[4]+it*this.props[8]+this.props[12]}function He(Ge,Qe,it){return Ge*this.props[1]+Qe*this.props[5]+it*this.props[9]+this.props[13]}function ze(Ge,Qe,it){return Ge*this.props[2]+Qe*this.props[6]+it*this.props[10]+this.props[14]}function Ke(){var Ge=this.props[0]*this.props[5]-this.props[1]*this.props[4],Qe=this.props[5]/Ge,it=-this.props[1]/Ge,Ye=-this.props[4]/Ge,st=this.props[0]/Ge,ut=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Ge,pt=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Ge,yt=new Matrix;return yt.props[0]=Qe,yt.props[1]=it,yt.props[4]=Ye,yt.props[5]=st,yt.props[12]=ut,yt.props[13]=pt,yt}function Je(Ge){var Qe=this.getInverseMatrix();return Qe.applyToPointArray(Ge[0],Ge[1],Ge[2]||0)}function Ze(Ge){var Qe,it=Ge.length,Ye=[];for(Qe=0;Qe<it;Qe+=1)Ye[Qe]=Je(Ge[Qe]);return Ye}function rt(Ge,Qe,it){var Ye=createTypedArray("float32",6);if(this.isIdentity())Ye[0]=Ge[0],Ye[1]=Ge[1],Ye[2]=Qe[0],Ye[3]=Qe[1],Ye[4]=it[0],Ye[5]=it[1];else{var st=this.props[0],ut=this.props[1],pt=this.props[4],yt=this.props[5],Et=this.props[12],jt=this.props[13];Ye[0]=Ge[0]*st+Ge[1]*pt+Et,Ye[1]=Ge[0]*ut+Ge[1]*yt+jt,Ye[2]=Qe[0]*st+Qe[1]*pt+Et,Ye[3]=Qe[0]*ut+Qe[1]*yt+jt,Ye[4]=it[0]*st+it[1]*pt+Et,Ye[5]=it[0]*ut+it[1]*yt+jt}return Ye}function nt(Ge,Qe,it){var Ye;return this.isIdentity()?Ye=[Ge,Qe,it]:Ye=[Ge*this.props[0]+Qe*this.props[4]+it*this.props[8]+this.props[12],Ge*this.props[1]+Qe*this.props[5]+it*this.props[9]+this.props[13],Ge*this.props[2]+Qe*this.props[6]+it*this.props[10]+this.props[14]],Ye}function at(Ge,Qe){if(this.isIdentity())return Ge+","+Qe;var it=this.props;return Math.round((Ge*it[0]+Qe*it[4]+it[12])*100)/100+","+Math.round((Ge*it[1]+Qe*it[5]+it[13])*100)/100}function ot(){for(var Ge=0,Qe=this.props,it="matrix3d(",Ye=1e4;Ge<16;)it+=A(Qe[Ge]*Ye)/Ye,it+=Ge===15?")":",",Ge+=1;return it}function qe(Ge){var Qe=1e4;return Ge<1e-6&&Ge>0||Ge>-1e-6&&Ge<0?A(Ge*Qe)/Qe:Ge}function Xe(){var Ge=this.props,Qe=qe(Ge[0]),it=qe(Ge[1]),Ye=qe(Ge[4]),st=qe(Ge[5]),ut=qe(Ge[12]),pt=qe(Ge[13]);return"matrix("+Qe+","+it+","+Ye+","+st+","+ut+","+pt+")"}return function(){this.reset=O,this.rotate=z,this.rotateX=U,this.rotateY=G,this.rotateZ=J,this.skew=te,this.skewFromAxis=ae,this.shear=ee,this.scale=oe,this.setTransform=pe,this.translate=fe,this.transform=xe,this.multiply=ye,this.applyToPoint=$e,this.applyToX=Ue,this.applyToY=He,this.applyToZ=ze,this.applyToPointArray=nt,this.applyToTriplePoints=rt,this.applyToPointStringified=at,this.toCSS=ot,this.to2dCSS=Xe,this.clone=je,this.cloneFromProps=Ne,this.equals=Le,this.inversePoints=Ze,this.inversePoint=Je,this.getInverseMatrix=Ke,this._t=this.transform,this.isIdentity=_e,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}})();function _typeof$3(R){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},_typeof$3(R)}var lottie={};function setLocation(R){setLocationHref(R)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(R){setSubframeEnabled(R)}function setPrefix(R){setIdPrefix(R)}function loadAnimation(R){return animationManager.loadAnimation(R)}function setQuality(R){if(typeof R=="string")switch(R){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(R)&&R>1&&setDefaultCurveSegments(R)}function inBrowser(){return typeof navigator<"u"}function installPlugin(R,y){R==="expressions"&&setExpressionsPlugin(y)}function getFactory(R){switch(R){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(R){for(var y=queryString.split("&"),T=0;T<y.length;T+=1){var A=y[T].split("=");if(decodeURIComponent(A[0])==R)return decodeURIComponent(A[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(R){}var ShapeModifiers=(function(){var R={},y={};R.registerModifier=T,R.getModifier=A;function T(O,z){y[O]||(y[O]=z)}function A(O,z,U){return new y[O](z,U)}return R})();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(R){if(!this.closed){R.sh.container.addDynamicProperty(R.sh);var y={shape:R.sh,data:R,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(y),this.addShapeToModifier(y),this._isAnimated&&R.setAsAnimated()}},ShapeModifier.prototype.init=function(R,y){this.shapes=[],this.elem=R,this.initDynamicPropertyContainer(R),this.initModifierProperties(R,y),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(R,y){this.s=PropertyFactory.getProp(R,y.s,0,.01,this),this.e=PropertyFactory.getProp(R,y.e,0,.01,this),this.o=PropertyFactory.getProp(R,y.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=y.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(R){R.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(R,y,T,A,O){var z=[];y<=1?z.push({s:R,e:y}):R>=1?z.push({s:R-1,e:y-1}):(z.push({s:R,e:1}),z.push({s:0,e:y-1}));var U=[],G,J=z.length,ee;for(G=0;G<J;G+=1)if(ee=z[G],!(ee.e*O<A||ee.s*O>A+T)){var te,ae;ee.s*O<=A?te=0:te=(ee.s*O-A)/T,ee.e*O>=A+T?ae=1:ae=(ee.e*O-A)/T,U.push([te,ae])}return U.length||U.push([0,0]),U},TrimModifier.prototype.releasePathsData=function(R){var y,T=R.length;for(y=0;y<T;y+=1)segmentsLengthPool.release(R[y]);return R.length=0,R},TrimModifier.prototype.processShapes=function(R){var y,T;if(this._mdf||R){var A=this.o.v%360/360;if(A<0&&(A+=1),this.s.v>1?y=1+A:this.s.v<0?y=0+A:y=this.s.v+A,this.e.v>1?T=1+A:this.e.v<0?T=0+A:T=this.e.v+A,y>T){var O=y;y=T,T=O}y=Math.round(y*1e4)*1e-4,T=Math.round(T*1e4)*1e-4,this.sValue=y,this.eValue=T}else y=this.sValue,T=this.eValue;var z,U,G=this.shapes.length,J,ee,te,ae,oe,pe=0;if(T===y)for(U=0;U<G;U+=1)this.shapes[U].localShapeCollection.releaseShapes(),this.shapes[U].shape._mdf=!0,this.shapes[U].shape.paths=this.shapes[U].localShapeCollection,this._mdf&&(this.shapes[U].pathsData.length=0);else if(T===1&&y===0||T===0&&y===1){if(this._mdf)for(U=0;U<G;U+=1)this.shapes[U].pathsData.length=0,this.shapes[U].shape._mdf=!0}else{var fe=[],xe,ye;for(U=0;U<G;U+=1)if(xe=this.shapes[U],!xe.shape._mdf&&!this._mdf&&!R&&this.m!==2)xe.shape.paths=xe.localShapeCollection;else{if(z=xe.shape.paths,ee=z._length,oe=0,!xe.shape._mdf&&xe.pathsData.length)oe=xe.totalShapeLength;else{for(te=this.releasePathsData(xe.pathsData),J=0;J<ee;J+=1)ae=bez.getSegmentsLength(z.shapes[J]),te.push(ae),oe+=ae.totalLength;xe.totalShapeLength=oe,xe.pathsData=te}pe+=oe,xe.shape._mdf=!0}var _e=y,Le=T,je=0,Ne;for(U=G-1;U>=0;U-=1)if(xe=this.shapes[U],xe.shape._mdf){for(ye=xe.localShapeCollection,ye.releaseShapes(),this.m===2&&G>1?(Ne=this.calculateShapeEdges(y,T,xe.totalShapeLength,je,pe),je+=xe.totalShapeLength):Ne=[[_e,Le]],ee=Ne.length,J=0;J<ee;J+=1){_e=Ne[J][0],Le=Ne[J][1],fe.length=0,Le<=1?fe.push({s:xe.totalShapeLength*_e,e:xe.totalShapeLength*Le}):_e>=1?fe.push({s:xe.totalShapeLength*(_e-1),e:xe.totalShapeLength*(Le-1)}):(fe.push({s:xe.totalShapeLength*_e,e:xe.totalShapeLength}),fe.push({s:0,e:xe.totalShapeLength*(Le-1)}));var $e=this.addShapes(xe,fe[0]);if(fe[0].s!==fe[0].e){if(fe.length>1){var Ue=xe.shape.paths.shapes[xe.shape.paths._length-1];if(Ue.c){var He=$e.pop();this.addPaths($e,ye),$e=this.addShapes(xe,fe[1],He)}else this.addPaths($e,ye),$e=this.addShapes(xe,fe[1])}this.addPaths($e,ye)}}xe.shape.paths=ye}}},TrimModifier.prototype.addPaths=function(R,y){var T,A=R.length;for(T=0;T<A;T+=1)y.addShape(R[T])},TrimModifier.prototype.addSegment=function(R,y,T,A,O,z,U){O.setXYAt(y[0],y[1],"o",z),O.setXYAt(T[0],T[1],"i",z+1),U&&O.setXYAt(R[0],R[1],"v",z),O.setXYAt(A[0],A[1],"v",z+1)},TrimModifier.prototype.addSegmentFromArray=function(R,y,T,A){y.setXYAt(R[1],R[5],"o",T),y.setXYAt(R[2],R[6],"i",T+1),A&&y.setXYAt(R[0],R[4],"v",T),y.setXYAt(R[3],R[7],"v",T+1)},TrimModifier.prototype.addShapes=function(R,y,T){var A=R.pathsData,O=R.shape.paths.shapes,z,U=R.shape.paths._length,G,J,ee=0,te,ae,oe,pe,fe=[],xe,ye=!0;for(T?(ae=T._length,xe=T._length):(T=shapePool.newElement(),ae=0,xe=0),fe.push(T),z=0;z<U;z+=1){for(oe=A[z].lengths,T.c=O[z].c,J=O[z].c?oe.length:oe.length+1,G=1;G<J;G+=1)if(te=oe[G-1],ee+te.addedLength<y.s)ee+=te.addedLength,T.c=!1;else if(ee>y.e){T.c=!1;break}else y.s<=ee&&y.e>=ee+te.addedLength?(this.addSegment(O[z].v[G-1],O[z].o[G-1],O[z].i[G],O[z].v[G],T,ae,ye),ye=!1):(pe=bez.getNewSegment(O[z].v[G-1],O[z].v[G],O[z].o[G-1],O[z].i[G],(y.s-ee)/te.addedLength,(y.e-ee)/te.addedLength,oe[G-1]),this.addSegmentFromArray(pe,T,ae,ye),ye=!1,T.c=!1),ee+=te.addedLength,ae+=1;if(O[z].c&&oe.length){if(te=oe[G-1],ee<=y.e){var _e=oe[G-1].addedLength;y.s<=ee&&y.e>=ee+_e?(this.addSegment(O[z].v[G-1],O[z].o[G-1],O[z].i[0],O[z].v[0],T,ae,ye),ye=!1):(pe=bez.getNewSegment(O[z].v[G-1],O[z].v[0],O[z].o[G-1],O[z].i[0],(y.s-ee)/_e,(y.e-ee)/_e,oe[G-1]),this.addSegmentFromArray(pe,T,ae,ye),ye=!1,T.c=!1)}else T.c=!1;ee+=te.addedLength,ae+=1}if(T._length&&(T.setXYAt(T.v[xe][0],T.v[xe][1],"i",xe),T.setXYAt(T.v[T._length-1][0],T.v[T._length-1][1],"o",T._length-1)),ee>y.e)break;z<U-1&&(T=shapePool.newElement(),ye=!0,fe.push(T),ae=0)}return fe};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(R,y){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(R,y.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(R,y){var T=y/100,A=[0,0],O=R._length,z=0;for(z=0;z<O;z+=1)A[0]+=R.v[z][0],A[1]+=R.v[z][1];A[0]/=O,A[1]/=O;var U=shapePool.newElement();U.c=R.c;var G,J,ee,te,ae,oe;for(z=0;z<O;z+=1)G=R.v[z][0]+(A[0]-R.v[z][0])*T,J=R.v[z][1]+(A[1]-R.v[z][1])*T,ee=R.o[z][0]+(A[0]-R.o[z][0])*-T,te=R.o[z][1]+(A[1]-R.o[z][1])*-T,ae=R.i[z][0]+(A[0]-R.i[z][0])*-T,oe=R.i[z][1]+(A[1]-R.i[z][1])*-T,U.setTripleAt(G,J,ee,te,ae,oe,z);return U},PuckerAndBloatModifier.prototype.processShapes=function(R){var y,T,A=this.shapes.length,O,z,U=this.amount.v;if(U!==0){var G,J;for(T=0;T<A;T+=1){if(G=this.shapes[T],J=G.localShapeCollection,!(!G.shape._mdf&&!this._mdf&&!R))for(J.releaseShapes(),G.shape._mdf=!0,y=G.shape.paths.shapes,z=G.shape.paths._length,O=0;O<z;O+=1)J.addShape(this.processPath(y[O],U));G.shape.paths=G.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=(function(){var R=[0,0];function y(J){var ee=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||ee,this.a&&J.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&J.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&J.skewFromAxis(-this.sk.v,this.sa.v),this.r?J.rotate(-this.r.v):J.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?J.translate(this.px.v,this.py.v,-this.pz.v):J.translate(this.px.v,this.py.v,0):J.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function T(J){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||J){var ee;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var te,ae;if(ee=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(te=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/ee,0),ae=this.p.getValueAtTime(this.p.keyframes[0].t/ee,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(te=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/ee,0),ae=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/ee,0)):(te=this.p.pv,ae=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/ee,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){te=[],ae=[];var oe=this.px,pe=this.py;oe._caching.lastFrame+oe.offsetTime<=oe.keyframes[0].t?(te[0]=oe.getValueAtTime((oe.keyframes[0].t+.01)/ee,0),te[1]=pe.getValueAtTime((pe.keyframes[0].t+.01)/ee,0),ae[0]=oe.getValueAtTime(oe.keyframes[0].t/ee,0),ae[1]=pe.getValueAtTime(pe.keyframes[0].t/ee,0)):oe._caching.lastFrame+oe.offsetTime>=oe.keyframes[oe.keyframes.length-1].t?(te[0]=oe.getValueAtTime(oe.keyframes[oe.keyframes.length-1].t/ee,0),te[1]=pe.getValueAtTime(pe.keyframes[pe.keyframes.length-1].t/ee,0),ae[0]=oe.getValueAtTime((oe.keyframes[oe.keyframes.length-1].t-.01)/ee,0),ae[1]=pe.getValueAtTime((pe.keyframes[pe.keyframes.length-1].t-.01)/ee,0)):(te=[oe.pv,pe.pv],ae[0]=oe.getValueAtTime((oe._caching.lastFrame+oe.offsetTime-.01)/ee,oe.offsetTime),ae[1]=pe.getValueAtTime((pe._caching.lastFrame+pe.offsetTime-.01)/ee,pe.offsetTime))}else ae=R,te=ae;this.v.rotate(-Math.atan2(te[1]-ae[1],te[0]-ae[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function A(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function O(){}function z(J){this._addDynamicProperty(J),this.elem.addDynamicProperty(J),this._isDirty=!0}function U(J,ee,te){if(this.elem=J,this.frameId=-1,this.propType="transform",this.data=ee,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(te||J),ee.p&&ee.p.s?(this.px=PropertyFactory.getProp(J,ee.p.x,0,0,this),this.py=PropertyFactory.getProp(J,ee.p.y,0,0,this),ee.p.z&&(this.pz=PropertyFactory.getProp(J,ee.p.z,0,0,this))):this.p=PropertyFactory.getProp(J,ee.p||{k:[0,0,0]},1,0,this),ee.rx){if(this.rx=PropertyFactory.getProp(J,ee.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(J,ee.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(J,ee.rz,0,degToRads,this),ee.or.k[0].ti){var ae,oe=ee.or.k.length;for(ae=0;ae<oe;ae+=1)ee.or.k[ae].to=null,ee.or.k[ae].ti=null}this.or=PropertyFactory.getProp(J,ee.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(J,ee.r||{k:0},0,degToRads,this);ee.sk&&(this.sk=PropertyFactory.getProp(J,ee.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(J,ee.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(J,ee.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(J,ee.s||{k:[100,100,100]},1,.01,this),ee.o?this.o=PropertyFactory.getProp(J,ee.o,0,.01,J):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}U.prototype={applyToMatrix:y,getValue:T,precalculateMatrix:A,autoOrient:O},extendPrototype([DynamicPropertyContainer],U),U.prototype.addDynamicProperty=z,U.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function G(J,ee,te){return new U(J,ee,te)}return{getTransformProperty:G}})();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(R,y){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(R,y.c,0,null,this),this.o=PropertyFactory.getProp(R,y.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(R,y.tr,this),this.so=PropertyFactory.getProp(R,y.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(R,y.tr.eo,0,.01,this),this.data=y,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(R,y,T,A,O,z){var U=z?-1:1,G=A.s.v[0]+(1-A.s.v[0])*(1-O),J=A.s.v[1]+(1-A.s.v[1])*(1-O);R.translate(A.p.v[0]*U*O,A.p.v[1]*U*O,A.p.v[2]),y.translate(-A.a.v[0],-A.a.v[1],A.a.v[2]),y.rotate(-A.r.v*U*O),y.translate(A.a.v[0],A.a.v[1],A.a.v[2]),T.translate(-A.a.v[0],-A.a.v[1],A.a.v[2]),T.scale(z?1/G:G,z?1/J:J),T.translate(A.a.v[0],A.a.v[1],A.a.v[2])},RepeaterModifier.prototype.init=function(R,y,T,A){for(this.elem=R,this.arr=y,this.pos=T,this.elemsData=A,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(R),this.initModifierProperties(R,y[T]);T>0;)T-=1,this._elements.unshift(y[T]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(R){var y,T=R.length;for(y=0;y<T;y+=1)R[y]._processed=!1,R[y].ty==="gr"&&this.resetElements(R[y].it)},RepeaterModifier.prototype.cloneElements=function(R){var y=JSON.parse(JSON.stringify(R));return this.resetElements(y),y},RepeaterModifier.prototype.changeGroupRender=function(R,y){var T,A=R.length;for(T=0;T<A;T+=1)R[T]._render=y,R[T].ty==="gr"&&this.changeGroupRender(R[T].it,y)},RepeaterModifier.prototype.processShapes=function(R){var y,T,A,O,z,U=!1;if(this._mdf||R){var G=Math.ceil(this.c.v);if(this._groups.length<G){for(;this._groups.length<G;){var J={it:this.cloneElements(this._elements),ty:"gr"};J.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,J),this._groups.splice(0,0,J),this._currentCopies+=1}this.elem.reloadShapes(),U=!0}z=0;var ee;for(A=0;A<=this._groups.length-1;A+=1){if(ee=z<G,this._groups[A]._render=ee,this.changeGroupRender(this._groups[A].it,ee),!ee){var te=this.elemsData[A].it,ae=te[te.length-1];ae.transform.op.v!==0?(ae.transform.op._mdf=!0,ae.transform.op.v=0):ae.transform.op._mdf=!1}z+=1}this._currentCopies=G;var oe=this.o.v,pe=oe%1,fe=oe>0?Math.floor(oe):Math.ceil(oe),xe=this.pMatrix.props,ye=this.rMatrix.props,_e=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Le=0;if(oe>0){for(;Le<fe;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Le+=1;pe&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,pe,!1),Le+=pe)}else if(oe<0){for(;Le>fe;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Le-=1;pe&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-pe,!0),Le-=pe)}A=this.data.m===1?0:this._currentCopies-1,O=this.data.m===1?1:-1,z=this._currentCopies;for(var je,Ne;z;){if(y=this.elemsData[A].it,T=y[y.length-1].transform.mProps.v.props,Ne=T.length,y[y.length-1].transform.mProps._mdf=!0,y[y.length-1].transform.op._mdf=!0,y[y.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(A/(this._currentCopies-1)),Le!==0){for((A!==0&&O===1||A!==this._currentCopies-1&&O===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(ye[0],ye[1],ye[2],ye[3],ye[4],ye[5],ye[6],ye[7],ye[8],ye[9],ye[10],ye[11],ye[12],ye[13],ye[14],ye[15]),this.matrix.transform(_e[0],_e[1],_e[2],_e[3],_e[4],_e[5],_e[6],_e[7],_e[8],_e[9],_e[10],_e[11],_e[12],_e[13],_e[14],_e[15]),this.matrix.transform(xe[0],xe[1],xe[2],xe[3],xe[4],xe[5],xe[6],xe[7],xe[8],xe[9],xe[10],xe[11],xe[12],xe[13],xe[14],xe[15]),je=0;je<Ne;je+=1)T[je]=this.matrix.props[je];this.matrix.reset()}else for(this.matrix.reset(),je=0;je<Ne;je+=1)T[je]=this.matrix.props[je];Le+=1,z-=1,A+=O}}else for(z=this._currentCopies,A=0,O=1;z;)y=this.elemsData[A].it,T=y[y.length-1].transform.mProps.v.props,y[y.length-1].transform.mProps._mdf=!1,y[y.length-1].transform.op._mdf=!1,z-=1,A+=O;return U},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(R,y){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(R,y.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(R,y){var T=shapePool.newElement();T.c=R.c;var A,O=R._length,z,U,G,J,ee,te,ae=0,oe,pe,fe,xe,ye,_e;for(A=0;A<O;A+=1)z=R.v[A],G=R.o[A],U=R.i[A],z[0]===G[0]&&z[1]===G[1]&&z[0]===U[0]&&z[1]===U[1]?(A===0||A===O-1)&&!R.c?(T.setTripleAt(z[0],z[1],G[0],G[1],U[0],U[1],ae),ae+=1):(A===0?J=R.v[O-1]:J=R.v[A-1],ee=Math.sqrt(Math.pow(z[0]-J[0],2)+Math.pow(z[1]-J[1],2)),te=ee?Math.min(ee/2,y)/ee:0,ye=z[0]+(J[0]-z[0])*te,oe=ye,_e=z[1]-(z[1]-J[1])*te,pe=_e,fe=oe-(oe-z[0])*roundCorner,xe=pe-(pe-z[1])*roundCorner,T.setTripleAt(oe,pe,fe,xe,ye,_e,ae),ae+=1,A===O-1?J=R.v[0]:J=R.v[A+1],ee=Math.sqrt(Math.pow(z[0]-J[0],2)+Math.pow(z[1]-J[1],2)),te=ee?Math.min(ee/2,y)/ee:0,fe=z[0]+(J[0]-z[0])*te,oe=fe,xe=z[1]+(J[1]-z[1])*te,pe=xe,ye=oe-(oe-z[0])*roundCorner,_e=pe-(pe-z[1])*roundCorner,T.setTripleAt(oe,pe,fe,xe,ye,_e,ae),ae+=1):(T.setTripleAt(R.v[A][0],R.v[A][1],R.o[A][0],R.o[A][1],R.i[A][0],R.i[A][1],ae),ae+=1);return T},RoundCornersModifier.prototype.processShapes=function(R){var y,T,A=this.shapes.length,O,z,U=this.rd.v;if(U!==0){var G,J;for(T=0;T<A;T+=1){if(G=this.shapes[T],J=G.localShapeCollection,!(!G.shape._mdf&&!this._mdf&&!R))for(J.releaseShapes(),G.shape._mdf=!0,y=G.shape.paths.shapes,z=G.shape.paths._length,O=0;O<z;O+=1)J.addShape(this.processPath(y[O],U));G.shape.paths=G.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(R,y){return Math.abs(R-y)*1e5<=Math.min(Math.abs(R),Math.abs(y))}function floatZero(R){return Math.abs(R)<=1e-5}function lerp(R,y,T){return R*(1-T)+y*T}function lerpPoint(R,y,T){return[lerp(R[0],y[0],T),lerp(R[1],y[1],T)]}function quadRoots(R,y,T){if(R===0)return[];var A=y*y-4*R*T;if(A<0)return[];var O=-y/(2*R);if(A===0)return[O];var z=Math.sqrt(A)/(2*R);return[O-z,O+z]}function polynomialCoefficients(R,y,T,A){return[-R+3*y-3*T+A,3*R-6*y+3*T,-3*R+3*y,R]}function singlePoint(R){return new PolynomialBezier(R,R,R,R,!1)}function PolynomialBezier(R,y,T,A,O){O&&pointEqual(R,y)&&(y=lerpPoint(R,A,1/3)),O&&pointEqual(T,A)&&(T=lerpPoint(R,A,2/3));var z=polynomialCoefficients(R[0],y[0],T[0],A[0]),U=polynomialCoefficients(R[1],y[1],T[1],A[1]);this.a=[z[0],U[0]],this.b=[z[1],U[1]],this.c=[z[2],U[2]],this.d=[z[3],U[3]],this.points=[R,y,T,A]}PolynomialBezier.prototype.point=function(R){return[((this.a[0]*R+this.b[0])*R+this.c[0])*R+this.d[0],((this.a[1]*R+this.b[1])*R+this.c[1])*R+this.d[1]]},PolynomialBezier.prototype.derivative=function(R){return[(3*R*this.a[0]+2*this.b[0])*R+this.c[0],(3*R*this.a[1]+2*this.b[1])*R+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(R){var y=this.derivative(R);return Math.atan2(y[1],y[0])},PolynomialBezier.prototype.normalAngle=function(R){var y=this.derivative(R);return Math.atan2(y[0],y[1])},PolynomialBezier.prototype.inflectionPoints=function(){var R=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(R))return[];var y=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/R,T=y*y-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/R;if(T<0)return[];var A=Math.sqrt(T);return floatZero(A)?A>0&&A<1?[y]:[]:[y-A,y+A].filter(function(O){return O>0&&O<1})},PolynomialBezier.prototype.split=function(R){if(R<=0)return[singlePoint(this.points[0]),this];if(R>=1)return[this,singlePoint(this.points[this.points.length-1])];var y=lerpPoint(this.points[0],this.points[1],R),T=lerpPoint(this.points[1],this.points[2],R),A=lerpPoint(this.points[2],this.points[3],R),O=lerpPoint(y,T,R),z=lerpPoint(T,A,R),U=lerpPoint(O,z,R);return[new PolynomialBezier(this.points[0],y,O,U,!0),new PolynomialBezier(U,z,A,this.points[3],!0)]};function extrema(R,y){var T=R.points[0][y],A=R.points[R.points.length-1][y];if(T>A){var O=A;A=T,T=O}for(var z=quadRoots(3*R.a[y],2*R.b[y],R.c[y]),U=0;U<z.length;U+=1)if(z[U]>0&&z[U]<1){var G=R.point(z[U])[y];G<T?T=G:G>A&&(A=G)}return{min:T,max:A}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var R=this.bounds();return{left:R.x.min,right:R.x.max,top:R.y.min,bottom:R.y.max,width:R.x.max-R.x.min,height:R.y.max-R.y.min,cx:(R.x.max+R.x.min)/2,cy:(R.y.max+R.y.min)/2}};function intersectData(R,y,T){var A=R.boundingBox();return{cx:A.cx,cy:A.cy,width:A.width,height:A.height,bez:R,t:(y+T)/2,t1:y,t2:T}}function splitData(R){var y=R.bez.split(.5);return[intersectData(y[0],R.t1,R.t),intersectData(y[1],R.t,R.t2)]}function boxIntersect(R,y){return Math.abs(R.cx-y.cx)*2<R.width+y.width&&Math.abs(R.cy-y.cy)*2<R.height+y.height}function intersectsImpl(R,y,T,A,O,z){if(boxIntersect(R,y)){if(T>=z||R.width<=A&&R.height<=A&&y.width<=A&&y.height<=A){O.push([R.t,y.t]);return}var U=splitData(R),G=splitData(y);intersectsImpl(U[0],G[0],T+1,A,O,z),intersectsImpl(U[0],G[1],T+1,A,O,z),intersectsImpl(U[1],G[0],T+1,A,O,z),intersectsImpl(U[1],G[1],T+1,A,O,z)}}PolynomialBezier.prototype.intersections=function(R,y,T){y===void 0&&(y=2),T===void 0&&(T=7);var A=[];return intersectsImpl(intersectData(this,0,1),intersectData(R,0,1),0,y,A,T),A},PolynomialBezier.shapeSegment=function(R,y){var T=(y+1)%R.length();return new PolynomialBezier(R.v[y],R.o[y],R.i[T],R.v[T],!0)},PolynomialBezier.shapeSegmentInverted=function(R,y){var T=(y+1)%R.length();return new PolynomialBezier(R.v[T],R.i[T],R.o[y],R.v[y],!0)};function crossProduct(R,y){return[R[1]*y[2]-R[2]*y[1],R[2]*y[0]-R[0]*y[2],R[0]*y[1]-R[1]*y[0]]}function lineIntersection(R,y,T,A){var O=[R[0],R[1],1],z=[y[0],y[1],1],U=[T[0],T[1],1],G=[A[0],A[1],1],J=crossProduct(crossProduct(O,z),crossProduct(U,G));return floatZero(J[2])?null:[J[0]/J[2],J[1]/J[2]]}function polarOffset(R,y,T){return[R[0]+Math.cos(y)*T,R[1]-Math.sin(y)*T]}function pointDistance(R,y){return Math.hypot(R[0]-y[0],R[1]-y[1])}function pointEqual(R,y){return floatEqual(R[0],y[0])&&floatEqual(R[1],y[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(R,y){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(R,y.s,0,null,this),this.frequency=PropertyFactory.getProp(R,y.r,0,null,this),this.pointsType=PropertyFactory.getProp(R,y.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(R,y,T,A,O,z,U){var G=T-Math.PI/2,J=T+Math.PI/2,ee=y[0]+Math.cos(T)*A*O,te=y[1]-Math.sin(T)*A*O;R.setTripleAt(ee,te,ee+Math.cos(G)*z,te-Math.sin(G)*z,ee+Math.cos(J)*U,te-Math.sin(J)*U,R.length())}function getPerpendicularVector(R,y){var T=[y[0]-R[0],y[1]-R[1]],A=-Math.PI*.5,O=[Math.cos(A)*T[0]-Math.sin(A)*T[1],Math.sin(A)*T[0]+Math.cos(A)*T[1]];return O}function getProjectingAngle(R,y){var T=y===0?R.length()-1:y-1,A=(y+1)%R.length(),O=R.v[T],z=R.v[A],U=getPerpendicularVector(O,z);return Math.atan2(0,1)-Math.atan2(U[1],U[0])}function zigZagCorner(R,y,T,A,O,z,U){var G=getProjectingAngle(y,T),J=y.v[T%y._length],ee=y.v[T===0?y._length-1:T-1],te=y.v[(T+1)%y._length],ae=z===2?Math.sqrt(Math.pow(J[0]-ee[0],2)+Math.pow(J[1]-ee[1],2)):0,oe=z===2?Math.sqrt(Math.pow(J[0]-te[0],2)+Math.pow(J[1]-te[1],2)):0;setPoint(R,y.v[T%y._length],G,U,A,oe/((O+1)*2),ae/((O+1)*2))}function zigZagSegment(R,y,T,A,O,z){for(var U=0;U<A;U+=1){var G=(U+1)/(A+1),J=O===2?Math.sqrt(Math.pow(y.points[3][0]-y.points[0][0],2)+Math.pow(y.points[3][1]-y.points[0][1],2)):0,ee=y.normalAngle(G),te=y.point(G);setPoint(R,te,ee,z,T,J/((A+1)*2),J/((A+1)*2)),z=-z}return z}ZigZagModifier.prototype.processPath=function(R,y,T,A){var O=R._length,z=shapePool.newElement();if(z.c=R.c,R.c||(O-=1),O===0)return z;var U=-1,G=PolynomialBezier.shapeSegment(R,0);zigZagCorner(z,R,0,y,T,A,U);for(var J=0;J<O;J+=1)U=zigZagSegment(z,G,y,T,A,-U),J===O-1&&!R.c?G=null:G=PolynomialBezier.shapeSegment(R,(J+1)%O),zigZagCorner(z,R,J+1,y,T,A,U);return z},ZigZagModifier.prototype.processShapes=function(R){var y,T,A=this.shapes.length,O,z,U=this.amplitude.v,G=Math.max(0,Math.round(this.frequency.v)),J=this.pointsType.v;if(U!==0){var ee,te;for(T=0;T<A;T+=1){if(ee=this.shapes[T],te=ee.localShapeCollection,!(!ee.shape._mdf&&!this._mdf&&!R))for(te.releaseShapes(),ee.shape._mdf=!0,y=ee.shape.paths.shapes,z=ee.shape.paths._length,O=0;O<z;O+=1)te.addShape(this.processPath(y[O],U,G,J));ee.shape.paths=ee.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(R,y,T){var A=Math.atan2(y[0]-R[0],y[1]-R[1]);return[polarOffset(R,A,T),polarOffset(y,A,T)]}function offsetSegment(R,y){var T,A,O,z,U,G,J;J=linearOffset(R.points[0],R.points[1],y),T=J[0],A=J[1],J=linearOffset(R.points[1],R.points[2],y),O=J[0],z=J[1],J=linearOffset(R.points[2],R.points[3],y),U=J[0],G=J[1];var ee=lineIntersection(T,A,O,z);ee===null&&(ee=A);var te=lineIntersection(U,G,O,z);return te===null&&(te=U),new PolynomialBezier(T,ee,te,G)}function joinLines(R,y,T,A,O){var z=y.points[3],U=T.points[0];if(A===3||pointEqual(z,U))return z;if(A===2){var G=-y.tangentAngle(1),J=-T.tangentAngle(0)+Math.PI,ee=lineIntersection(z,polarOffset(z,G+Math.PI/2,100),U,polarOffset(U,G+Math.PI/2,100)),te=ee?pointDistance(ee,z):pointDistance(z,U)/2,ae=polarOffset(z,G,2*te*roundCorner);return R.setXYAt(ae[0],ae[1],"o",R.length()-1),ae=polarOffset(U,J,2*te*roundCorner),R.setTripleAt(U[0],U[1],U[0],U[1],ae[0],ae[1],R.length()),U}var oe=pointEqual(z,y.points[2])?y.points[0]:y.points[2],pe=pointEqual(U,T.points[1])?T.points[3]:T.points[1],fe=lineIntersection(oe,z,U,pe);return fe&&pointDistance(fe,z)<O?(R.setTripleAt(fe[0],fe[1],fe[0],fe[1],fe[0],fe[1],R.length()),fe):z}function getIntersection(R,y){var T=R.intersections(y);return T.length&&floatEqual(T[0][0],1)&&T.shift(),T.length?T[0]:null}function pruneSegmentIntersection(R,y){var T=R.slice(),A=y.slice(),O=getIntersection(R[R.length-1],y[0]);return O&&(T[R.length-1]=R[R.length-1].split(O[0])[0],A[0]=y[0].split(O[1])[1]),R.length>1&&y.length>1&&(O=getIntersection(R[0],y[y.length-1]),O)?[[R[0].split(O[0])[0]],[y[y.length-1].split(O[1])[1]]]:[T,A]}function pruneIntersections(R){for(var y,T=1;T<R.length;T+=1)y=pruneSegmentIntersection(R[T-1],R[T]),R[T-1]=y[0],R[T]=y[1];return R.length>1&&(y=pruneSegmentIntersection(R[R.length-1],R[0]),R[R.length-1]=y[0],R[0]=y[1]),R}function offsetSegmentSplit(R,y){var T=R.inflectionPoints(),A,O,z,U;if(T.length===0)return[offsetSegment(R,y)];if(T.length===1||floatEqual(T[1],1))return z=R.split(T[0]),A=z[0],O=z[1],[offsetSegment(A,y),offsetSegment(O,y)];z=R.split(T[0]),A=z[0];var G=(T[1]-T[0])/(1-T[0]);return z=z[1].split(G),U=z[0],O=z[1],[offsetSegment(A,y),offsetSegment(U,y),offsetSegment(O,y)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(R,y){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(R,y.a,0,null,this),this.miterLimit=PropertyFactory.getProp(R,y.ml,0,null,this),this.lineJoin=y.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(R,y,T,A){var O=shapePool.newElement();O.c=R.c;var z=R.length();R.c||(z-=1);var U,G,J,ee=[];for(U=0;U<z;U+=1)J=PolynomialBezier.shapeSegment(R,U),ee.push(offsetSegmentSplit(J,y));if(!R.c)for(U=z-1;U>=0;U-=1)J=PolynomialBezier.shapeSegmentInverted(R,U),ee.push(offsetSegmentSplit(J,y));ee=pruneIntersections(ee);var te=null,ae=null;for(U=0;U<ee.length;U+=1){var oe=ee[U];for(ae&&(te=joinLines(O,ae,oe[0],T,A)),ae=oe[oe.length-1],G=0;G<oe.length;G+=1)J=oe[G],te&&pointEqual(J.points[0],te)?O.setXYAt(J.points[1][0],J.points[1][1],"o",O.length()-1):O.setTripleAt(J.points[0][0],J.points[0][1],J.points[1][0],J.points[1][1],J.points[0][0],J.points[0][1],O.length()),O.setTripleAt(J.points[3][0],J.points[3][1],J.points[3][0],J.points[3][1],J.points[2][0],J.points[2][1],O.length()),te=J.points[3]}return ee.length&&joinLines(O,ae,ee[0][0],T,A),O},OffsetPathModifier.prototype.processShapes=function(R){var y,T,A=this.shapes.length,O,z,U=this.amount.v,G=this.miterLimit.v,J=this.lineJoin;if(U!==0){var ee,te;for(T=0;T<A;T+=1){if(ee=this.shapes[T],te=ee.localShapeCollection,!(!ee.shape._mdf&&!this._mdf&&!R))for(te.releaseShapes(),ee.shape._mdf=!0,y=ee.shape.paths.shapes,z=ee.shape.paths._length,O=0;O<z;O+=1)te.addShape(this.processPath(y[O],U,J,G));ee.shape.paths=ee.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(R){for(var y=R.fStyle?R.fStyle.split(" "):[],T="normal",A="normal",O=y.length,z,U=0;U<O;U+=1)switch(z=y[U].toLowerCase(),z){case"italic":A="italic";break;case"bold":T="700";break;case"black":T="900";break;case"medium":T="500";break;case"regular":case"normal":T="400";break;case"light":case"thin":T="200";break}return{style:A,weight:R.fWeight||T}}var FontManager=(function(){var R=5e3,y={w:0,size:0,shapes:[],data:{shapes:[]}},T=[];T=T.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var A=127988,O=917631,z=917601,U=917626,G=65039,J=8205,ee=127462,te=127487,ae=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function oe(qe){var Xe=qe.split(","),Ge,Qe=Xe.length,it=[];for(Ge=0;Ge<Qe;Ge+=1)Xe[Ge]!=="sans-serif"&&Xe[Ge]!=="monospace"&&it.push(Xe[Ge]);return it.join(",")}function pe(qe,Xe){var Ge=createTag("span");Ge.setAttribute("aria-hidden",!0),Ge.style.fontFamily=Xe;var Qe=createTag("span");Qe.innerText="giItT1WQy@!-/#",Ge.style.position="absolute",Ge.style.left="-10000px",Ge.style.top="-10000px",Ge.style.fontSize="300px",Ge.style.fontVariant="normal",Ge.style.fontStyle="normal",Ge.style.fontWeight="normal",Ge.style.letterSpacing="0",Ge.appendChild(Qe),document.body.appendChild(Ge);var it=Qe.offsetWidth;return Qe.style.fontFamily=oe(qe)+", "+Xe,{node:Qe,w:it,parent:Ge}}function fe(){var qe,Xe=this.fonts.length,Ge,Qe,it=Xe;for(qe=0;qe<Xe;qe+=1)this.fonts[qe].loaded?it-=1:this.fonts[qe].fOrigin==="n"||this.fonts[qe].origin===0?this.fonts[qe].loaded=!0:(Ge=this.fonts[qe].monoCase.node,Qe=this.fonts[qe].monoCase.w,Ge.offsetWidth!==Qe?(it-=1,this.fonts[qe].loaded=!0):(Ge=this.fonts[qe].sansCase.node,Qe=this.fonts[qe].sansCase.w,Ge.offsetWidth!==Qe&&(it-=1,this.fonts[qe].loaded=!0)),this.fonts[qe].loaded&&(this.fonts[qe].sansCase.parent.parentNode.removeChild(this.fonts[qe].sansCase.parent),this.fonts[qe].monoCase.parent.parentNode.removeChild(this.fonts[qe].monoCase.parent)));it!==0&&Date.now()-this.initTime<R?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function xe(qe,Xe){var Ge=document.body&&Xe?"svg":"canvas",Qe,it=getFontProperties(qe);if(Ge==="svg"){var Ye=createNS("text");Ye.style.fontSize="100px",Ye.setAttribute("font-family",qe.fFamily),Ye.setAttribute("font-style",it.style),Ye.setAttribute("font-weight",it.weight),Ye.textContent="1",qe.fClass?(Ye.style.fontFamily="inherit",Ye.setAttribute("class",qe.fClass)):Ye.style.fontFamily=qe.fFamily,Xe.appendChild(Ye),Qe=Ye}else{var st=new OffscreenCanvas(500,500).getContext("2d");st.font=it.style+" "+it.weight+" 100px "+qe.fFamily,Qe=st}function ut(pt){return Ge==="svg"?(Qe.textContent=pt,Qe.getComputedTextLength()):Qe.measureText(pt).width}return{measureText:ut}}function ye(qe,Xe){if(!qe){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=qe.list;return}if(!document.body){this.isLoaded=!0,qe.list.forEach(function(St){St.helper=xe(St),St.cache={}}),this.fonts=qe.list;return}var Ge=qe.list,Qe,it=Ge.length,Ye=it;for(Qe=0;Qe<it;Qe+=1){var st=!0,ut,pt;if(Ge[Qe].loaded=!1,Ge[Qe].monoCase=pe(Ge[Qe].fFamily,"monospace"),Ge[Qe].sansCase=pe(Ge[Qe].fFamily,"sans-serif"),!Ge[Qe].fPath)Ge[Qe].loaded=!0,Ye-=1;else if(Ge[Qe].fOrigin==="p"||Ge[Qe].origin===3){if(ut=document.querySelectorAll('style[f-forigin="p"][f-family="'+Ge[Qe].fFamily+'"], style[f-origin="3"][f-family="'+Ge[Qe].fFamily+'"]'),ut.length>0&&(st=!1),st){var yt=createTag("style");yt.setAttribute("f-forigin",Ge[Qe].fOrigin),yt.setAttribute("f-origin",Ge[Qe].origin),yt.setAttribute("f-family",Ge[Qe].fFamily),yt.type="text/css",yt.innerText="@font-face {font-family: "+Ge[Qe].fFamily+"; font-style: normal; src: url('"+Ge[Qe].fPath+"');}",Xe.appendChild(yt)}}else if(Ge[Qe].fOrigin==="g"||Ge[Qe].origin===1){for(ut=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),pt=0;pt<ut.length;pt+=1)ut[pt].href.indexOf(Ge[Qe].fPath)!==-1&&(st=!1);if(st){var Et=createTag("link");Et.setAttribute("f-forigin",Ge[Qe].fOrigin),Et.setAttribute("f-origin",Ge[Qe].origin),Et.type="text/css",Et.rel="stylesheet",Et.href=Ge[Qe].fPath,document.body.appendChild(Et)}}else if(Ge[Qe].fOrigin==="t"||Ge[Qe].origin===2){for(ut=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),pt=0;pt<ut.length;pt+=1)Ge[Qe].fPath===ut[pt].src&&(st=!1);if(st){var jt=createTag("link");jt.setAttribute("f-forigin",Ge[Qe].fOrigin),jt.setAttribute("f-origin",Ge[Qe].origin),jt.setAttribute("rel","stylesheet"),jt.setAttribute("href",Ge[Qe].fPath),Xe.appendChild(jt)}}Ge[Qe].helper=xe(Ge[Qe],Xe),Ge[Qe].cache={},this.fonts.push(Ge[Qe])}Ye===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function _e(qe){if(qe){this.chars||(this.chars=[]);var Xe,Ge=qe.length,Qe,it=this.chars.length,Ye;for(Xe=0;Xe<Ge;Xe+=1){for(Qe=0,Ye=!1;Qe<it;)this.chars[Qe].style===qe[Xe].style&&this.chars[Qe].fFamily===qe[Xe].fFamily&&this.chars[Qe].ch===qe[Xe].ch&&(Ye=!0),Qe+=1;Ye||(this.chars.push(qe[Xe]),it+=1)}}}function Le(qe,Xe,Ge){for(var Qe=0,it=this.chars.length;Qe<it;){if(this.chars[Qe].ch===qe&&this.chars[Qe].style===Xe&&this.chars[Qe].fFamily===Ge)return this.chars[Qe];Qe+=1}return(typeof qe=="string"&&qe.charCodeAt(0)!==13||!qe)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",qe,Xe,Ge)),y}function je(qe,Xe,Ge){var Qe=this.getFontByName(Xe),it=qe;if(!Qe.cache[it]){var Ye=Qe.helper;if(qe===" "){var st=Ye.measureText("|"+qe+"|"),ut=Ye.measureText("||");Qe.cache[it]=(st-ut)/100}else Qe.cache[it]=Ye.measureText(qe)/100}return Qe.cache[it]*Ge}function Ne(qe){for(var Xe=0,Ge=this.fonts.length;Xe<Ge;){if(this.fonts[Xe].fName===qe)return this.fonts[Xe];Xe+=1}return this.fonts[0]}function $e(qe){var Xe=0,Ge=qe.charCodeAt(0);if(Ge>=55296&&Ge<=56319){var Qe=qe.charCodeAt(1);Qe>=56320&&Qe<=57343&&(Xe=(Ge-55296)*1024+Qe-56320+65536)}return Xe}function Ue(qe,Xe){var Ge=qe.toString(16)+Xe.toString(16);return ae.indexOf(Ge)!==-1}function He(qe){return qe===J}function ze(qe){return qe===G}function Ke(qe){var Xe=$e(qe);return Xe>=ee&&Xe<=te}function Je(qe){return Ke(qe.substr(0,2))&&Ke(qe.substr(2,2))}function Ze(qe){return T.indexOf(qe)!==-1}function rt(qe,Xe){var Ge=$e(qe.substr(Xe,2));if(Ge!==A)return!1;var Qe=0;for(Xe+=2;Qe<5;){if(Ge=$e(qe.substr(Xe,2)),Ge<z||Ge>U)return!1;Qe+=1,Xe+=2}return $e(qe.substr(Xe,2))===O}function nt(){this.isLoaded=!0}var at=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};at.isModifier=Ue,at.isZeroWidthJoiner=He,at.isFlagEmoji=Je,at.isRegionalCode=Ke,at.isCombinedCharacter=Ze,at.isRegionalFlag=rt,at.isVariationSelector=ze,at.BLACK_FLAG_CODE_POINT=A;var ot={addChars:_e,addFonts:ye,getCharData:Le,getFontByName:Ne,measureText:je,checkLoadedFonts:fe,setIsLoaded:nt};return at.prototype=ot,at})();function SlotManager(R){this.animationData=R}SlotManager.prototype.getProp=function(R){return this.animationData.slots&&this.animationData.slots[R.sid]?Object.assign(R,this.animationData.slots[R.sid].p):R};function slotFactory(R){return new SlotManager(R)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(y){this.renderableComponents.indexOf(y)===-1&&this.renderableComponents.push(y)},removeRenderableComponent:function(y){this.renderableComponents.indexOf(y)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(y),1)},prepareRenderableFrame:function(y){this.checkLayerLimits(y)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(y){this.data.ip-this.data.st<=y&&this.data.op-this.data.st>y?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var y,T=this.renderableComponents.length;for(y=0;y<T;y+=1)this.renderableComponents[y].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(function(){var R={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(y){return R[y]||""}})();function SliderEffect(R,y,T){this.p=PropertyFactory.getProp(y,R.v,0,0,T)}function AngleEffect(R,y,T){this.p=PropertyFactory.getProp(y,R.v,0,0,T)}function ColorEffect(R,y,T){this.p=PropertyFactory.getProp(y,R.v,1,0,T)}function PointEffect(R,y,T){this.p=PropertyFactory.getProp(y,R.v,1,0,T)}function LayerIndexEffect(R,y,T){this.p=PropertyFactory.getProp(y,R.v,0,0,T)}function MaskIndexEffect(R,y,T){this.p=PropertyFactory.getProp(y,R.v,0,0,T)}function CheckboxEffect(R,y,T){this.p=PropertyFactory.getProp(y,R.v,0,0,T)}function NoValueEffect(){this.p={}}function EffectsManager(R,y){var T=R.ef||[];this.effectElements=[];var A,O=T.length,z;for(A=0;A<O;A+=1)z=new GroupEffect(T[A],y),this.effectElements.push(z)}function GroupEffect(R,y){this.init(R,y)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(R,y){this.data=R,this.effectElements=[],this.initDynamicPropertyContainer(y);var T,A=this.data.ef.length,O,z=this.data.ef;for(T=0;T<A;T+=1){switch(O=null,z[T].ty){case 0:O=new SliderEffect(z[T],y,this);break;case 1:O=new AngleEffect(z[T],y,this);break;case 2:O=new ColorEffect(z[T],y,this);break;case 3:O=new PointEffect(z[T],y,this);break;case 4:case 7:O=new CheckboxEffect(z[T],y,this);break;case 10:O=new LayerIndexEffect(z[T],y,this);break;case 11:O=new MaskIndexEffect(z[T],y,this);break;case 5:O=new EffectsManager(z[T],y);break;default:O=new NoValueEffect(z[T]);break}O&&this.effectElements.push(O)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var y=0,T=this.data.masksProperties.length;y<T;){if(this.data.masksProperties[y].mode!=="n"&&this.data.masksProperties[y].cl!==!1)return!0;y+=1}return!1},initExpressions:function(){var y=getExpressionInterfaces();if(y){var T=y("layer"),A=y("effects"),O=y("shape"),z=y("text"),U=y("comp");this.layerInterface=T(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var G=A.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(G),this.data.ty===0||this.data.xt?this.compInterface=U(this):this.data.ty===4?(this.layerInterface.shapeInterface=O(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=z(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var y=getBlendMode(this.data.bm),T=this.baseElement||this.layerElement;T.style["mix-blend-mode"]=y},initBaseData:function(y,T,A){this.globalData=T,this.comp=A,this.data=y,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(y,T){var A,O=this.dynamicProperties.length;for(A=0;A<O;A+=1)(T||this._isParent&&this.dynamicProperties[A].propType==="transform")&&(this.dynamicProperties[A].getValue(),this.dynamicProperties[A]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(y){this.dynamicProperties.indexOf(y)===-1&&this.dynamicProperties.push(y)}};function FootageElement(R,y,T){this.initFrame(),this.initRenderable(),this.assetData=y.getAssetData(R.refId),this.footageData=y.imageLoader.getAsset(this.assetData),this.initBaseData(R,y,T)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var R=getExpressionInterfaces();if(R){var y=R("footage");this.layerInterface=y(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(R,y,T){this.initFrame(),this.initRenderable(),this.assetData=y.getAssetData(R.refId),this.initBaseData(R,y,T),this._isPlaying=!1,this._canPlay=!1;var A=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(A),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=R.tm?PropertyFactory.getProp(this,R.tm,0,y.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,R.au&&R.au.lv?R.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(R){if(this.prepareRenderableFrame(R,!0),this.prepareProperties(R,!0),this.tm._placeholder)this._currentTime=R/this.data.sr;else{var y=this.tm.v;this._currentTime=y}this._volume=this.lv.v[0];var T=this._volume*this._volumeMultiplier;this._previousVolume!==T&&(this._previousVolume=T,this.audio.volume(T))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(R){this.audio.rate(R)},AudioElement.prototype.volume=function(R){this._volumeMultiplier=R,this._previousVolume=R*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(R){var y,T=this.layers.length,A;for(this.completeLayers=!0,y=T-1;y>=0;y-=1)this.elements[y]||(A=this.layers[y],A.ip-A.st<=R-this.layers[y].st&&A.op-A.st>R-this.layers[y].st&&this.buildItem(y)),this.completeLayers=this.elements[y]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(R){switch(R.ty){case 2:return this.createImage(R);case 0:return this.createComp(R);case 1:return this.createSolid(R);case 3:return this.createNull(R);case 4:return this.createShape(R);case 5:return this.createText(R);case 6:return this.createAudio(R);case 13:return this.createCamera(R);case 15:return this.createFootage(R);default:return this.createNull(R)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(R){return new AudioElement(R,this.globalData,this)},BaseRenderer.prototype.createFootage=function(R){return new FootageElement(R,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var R,y=this.layers.length;for(R=0;R<y;R+=1)this.buildItem(R);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(R){this.completeLayers=!1;var y,T=R.length,A,O=this.layers.length;for(y=0;y<T;y+=1)for(A=0;A<O;){if(this.layers[A].id===R[y].id){this.layers[A]=R[y];break}A+=1}},BaseRenderer.prototype.setProjectInterface=function(R){this.globalData.projectInterface=R},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(R,y,T){for(var A=this.elements,O=this.layers,z=0,U=O.length;z<U;)O[z].ind==y&&(!A[z]||A[z]===!0?(this.buildItem(z),this.addPendingElement(R)):(T.push(A[z]),A[z].setAsParent(),O[z].parent!==void 0?this.buildElementParenting(R,O[z].parent,T):R.setHierarchy(T))),z+=1},BaseRenderer.prototype.addPendingElement=function(R){this.pendingElements.push(R)},BaseRenderer.prototype.searchExtraCompositions=function(R){var y,T=R.length;for(y=0;y<T;y+=1)if(R[y].xt){var A=this.createComp(R[y]);A.initExpressions(),this.globalData.projectInterface.registerComposition(A)}},BaseRenderer.prototype.getElementById=function(R){var y,T=this.elements.length;for(y=0;y<T;y+=1)if(this.elements[y].data.ind===R)return this.elements[y];return null},BaseRenderer.prototype.getElementByPath=function(R){var y=R.shift(),T;if(typeof y=="number")T=this.elements[y];else{var A,O=this.elements.length;for(A=0;A<O;A+=1)if(this.elements[A].data.nm===y){T=this.elements[A];break}}return R.length===0?T:T.getElementByPath(R)},BaseRenderer.prototype.setupGlobalData=function(R,y){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(R),this.globalData.fontManager.addChars(R.chars),this.globalData.fontManager.addFonts(R.fonts,y),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=R.fr,this.globalData.nm=R.nm,this.globalData.compSize={w:R.w,h:R.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var y=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:y,localMat:y,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var y,T=this.finalTransform.mat,A=0,O=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;A<O;){if(this.hierarchy[A].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}A+=1}if(this.finalTransform._matMdf)for(y=this.finalTransform.mProp.v.props,T.cloneFromProps(y),A=0;A<O;A+=1)T.multiply(this.hierarchy[A].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var y=0,T=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;y<T;)this.localTransforms[y]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[y]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),y+=1;if(this.finalTransform._localMatMdf){var A=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(A),y=1;y<T;y+=1){var O=this.localTransforms[y].matrix;A.multiply(O)}A.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var z=this.finalTransform.localOpacity;for(y=0;y<T;y+=1)z*=this.localTransforms[y].opacity*.01;this.finalTransform.localOpacity=z}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var y=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(y.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var T=0,A=y.length;for(T=0;T<A;T+=1)this.localTransforms.push(y[T])}}},globalToLocal:function(y){var T=[];T.push(this.finalTransform);for(var A=!0,O=this.comp;A;)O.finalTransform?(O.data.hasMask&&T.splice(0,0,O.finalTransform),O=O.comp):A=!1;var z,U=T.length,G;for(z=0;z<U;z+=1)G=T[z].mat.applyToPointArray(0,0,0),y=[y[0]-G[0],y[1]-G[1],0];return y},mHelper:new Matrix};function MaskElement(R,y,T){this.data=R,this.element=y,this.globalData=T,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var A=this.globalData.defs,O,z=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(z),this.solidPath="";var U,G=this.masksProperties,J=0,ee=[],te,ae,oe=createElementID(),pe,fe,xe,ye,_e="clipPath",Le="clip-path";for(O=0;O<z;O+=1)if((G[O].mode!=="a"&&G[O].mode!=="n"||G[O].inv||G[O].o.k!==100||G[O].o.x)&&(_e="mask",Le="mask"),(G[O].mode==="s"||G[O].mode==="i")&&J===0?(pe=createNS("rect"),pe.setAttribute("fill","#ffffff"),pe.setAttribute("width",this.element.comp.data.w||0),pe.setAttribute("height",this.element.comp.data.h||0),ee.push(pe)):pe=null,U=createNS("path"),G[O].mode==="n")this.viewData[O]={op:PropertyFactory.getProp(this.element,G[O].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,G[O],3),elem:U,lastPath:""},A.appendChild(U);else{J+=1,U.setAttribute("fill",G[O].mode==="s"?"#000000":"#ffffff"),U.setAttribute("clip-rule","nonzero");var je;if(G[O].x.k!==0?(_e="mask",Le="mask",ye=PropertyFactory.getProp(this.element,G[O].x,0,null,this.element),je=createElementID(),fe=createNS("filter"),fe.setAttribute("id",je),xe=createNS("feMorphology"),xe.setAttribute("operator","erode"),xe.setAttribute("in","SourceGraphic"),xe.setAttribute("radius","0"),fe.appendChild(xe),A.appendChild(fe),U.setAttribute("stroke",G[O].mode==="s"?"#000000":"#ffffff")):(xe=null,ye=null),this.storedData[O]={elem:U,x:ye,expan:xe,lastPath:"",lastOperator:"",filterId:je,lastRadius:0},G[O].mode==="i"){ae=ee.length;var Ne=createNS("g");for(te=0;te<ae;te+=1)Ne.appendChild(ee[te]);var $e=createNS("mask");$e.setAttribute("mask-type","alpha"),$e.setAttribute("id",oe+"_"+J),$e.appendChild(U),A.appendChild($e),Ne.setAttribute("mask","url("+getLocationHref()+"#"+oe+"_"+J+")"),ee.length=0,ee.push(Ne)}else ee.push(U);G[O].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[O]={elem:U,lastPath:"",op:PropertyFactory.getProp(this.element,G[O].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,G[O],3),invRect:pe},this.viewData[O].prop.k||this.drawPath(G[O],this.viewData[O].prop.v,this.viewData[O])}for(this.maskElement=createNS(_e),z=ee.length,O=0;O<z;O+=1)this.maskElement.appendChild(ee[O]);J>0&&(this.maskElement.setAttribute("id",oe),this.element.maskedElement.setAttribute(Le,"url("+getLocationHref()+"#"+oe+")"),A.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(R){return this.viewData[R].prop},MaskElement.prototype.renderFrame=function(R){var y=this.element.finalTransform.mat,T,A=this.masksProperties.length;for(T=0;T<A;T+=1)if((this.viewData[T].prop._mdf||R)&&this.drawPath(this.masksProperties[T],this.viewData[T].prop.v,this.viewData[T]),(this.viewData[T].op._mdf||R)&&this.viewData[T].elem.setAttribute("fill-opacity",this.viewData[T].op.v),this.masksProperties[T].mode!=="n"&&(this.viewData[T].invRect&&(this.element.finalTransform.mProp._mdf||R)&&this.viewData[T].invRect.setAttribute("transform",y.getInverseMatrix().to2dCSS()),this.storedData[T].x&&(this.storedData[T].x._mdf||R))){var O=this.storedData[T].expan;this.storedData[T].x.v<0?(this.storedData[T].lastOperator!=="erode"&&(this.storedData[T].lastOperator="erode",this.storedData[T].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[T].filterId+")")),O.setAttribute("radius",-this.storedData[T].x.v)):(this.storedData[T].lastOperator!=="dilate"&&(this.storedData[T].lastOperator="dilate",this.storedData[T].elem.setAttribute("filter",null)),this.storedData[T].elem.setAttribute("stroke-width",this.storedData[T].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var R="M0,0 ";return R+=" h"+this.globalData.compSize.w,R+=" v"+this.globalData.compSize.h,R+=" h-"+this.globalData.compSize.w,R+=" v-"+this.globalData.compSize.h+" ",R},MaskElement.prototype.drawPath=function(R,y,T){var A=" M"+y.v[0][0]+","+y.v[0][1],O,z;for(z=y._length,O=1;O<z;O+=1)A+=" C"+y.o[O-1][0]+","+y.o[O-1][1]+" "+y.i[O][0]+","+y.i[O][1]+" "+y.v[O][0]+","+y.v[O][1];if(y.c&&z>1&&(A+=" C"+y.o[O-1][0]+","+y.o[O-1][1]+" "+y.i[0][0]+","+y.i[0][1]+" "+y.v[0][0]+","+y.v[0][1]),T.lastPath!==A){var U="";T.elem&&(y.c&&(U=R.inv?this.solidPath+A:A),T.elem.setAttribute("d",U)),T.lastPath=A}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=(function(){var R={};R.createFilter=y,R.createAlphaToLuminanceFilter=T;function y(A,O){var z=createNS("filter");return z.setAttribute("id",A),O!==!0&&(z.setAttribute("filterUnits","objectBoundingBox"),z.setAttribute("x","0%"),z.setAttribute("y","0%"),z.setAttribute("width","100%"),z.setAttribute("height","100%")),z}function T(){var A=createNS("feColorMatrix");return A.setAttribute("type","matrix"),A.setAttribute("color-interpolation-filters","sRGB"),A.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),A}return R})(),featureSupport=(function(){var R={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(R.maskType=!1),/firefox/i.test(navigator.userAgent)&&(R.svgLumaHidden=!1),R})(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(R){var y,T="SourceGraphic",A=R.data.ef?R.data.ef.length:0,O=createElementID(),z=filtersFactory.createFilter(O,!0),U=0;this.filters=[];var G;for(y=0;y<A;y+=1){G=null;var J=R.data.ef[y].ty;if(registeredEffects$1[J]){var ee=registeredEffects$1[J].effect;G=new ee(z,R.effectsManager.effectElements[y],R,idPrefix+U,T),T=idPrefix+U,registeredEffects$1[J].countsAsEffect&&(U+=1)}G&&this.filters.push(G)}U&&(R.globalData.defs.appendChild(z),R.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+O+")")),this.filters.length&&R.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(R){var y,T=this.filters.length;for(y=0;y<T;y+=1)this.filters[y].renderFrame(R)},SVGEffects.prototype.getEffects=function(R){var y,T=this.filters.length,A=[];for(y=0;y<T;y+=1)this.filters[y].type===R&&A.push(this.filters[y]);return A};function registerEffect$1(R,y,T){registeredEffects$1[R]={effect:y,countsAsEffect:T}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var y=null;if(this.data.td){this.matteMasks={};var T=createNS("g");T.setAttribute("id",this.layerId),T.appendChild(this.layerElement),y=T,this.globalData.defs.appendChild(T)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),y=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var A=createNS("clipPath"),O=createNS("path");O.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var z=createElementID();if(A.setAttribute("id",z),A.appendChild(O),this.globalData.defs.appendChild(A),this.checkMasks()){var U=createNS("g");U.setAttribute("clip-path","url("+getLocationHref()+"#"+z+")"),U.appendChild(this.layerElement),this.transformedElement=U,y?y.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+z+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(y){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[y]){var T=this.layerId+"_"+y,A,O,z,U;if(y===1||y===3){var G=createNS("mask");G.setAttribute("id",T),G.setAttribute("mask-type",y===3?"luminance":"alpha"),z=createNS("use"),z.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),G.appendChild(z),this.globalData.defs.appendChild(G),!featureSupport.maskType&&y===1&&(G.setAttribute("mask-type","luminance"),A=createElementID(),O=filtersFactory.createFilter(A),this.globalData.defs.appendChild(O),O.appendChild(filtersFactory.createAlphaToLuminanceFilter()),U=createNS("g"),U.appendChild(z),G.appendChild(U),U.setAttribute("filter","url("+getLocationHref()+"#"+A+")"))}else if(y===2){var J=createNS("mask");J.setAttribute("id",T),J.setAttribute("mask-type","alpha");var ee=createNS("g");J.appendChild(ee),A=createElementID(),O=filtersFactory.createFilter(A);var te=createNS("feComponentTransfer");te.setAttribute("in","SourceGraphic"),O.appendChild(te);var ae=createNS("feFuncA");ae.setAttribute("type","table"),ae.setAttribute("tableValues","1.0 0.0"),te.appendChild(ae),this.globalData.defs.appendChild(O);var oe=createNS("rect");oe.setAttribute("width",this.comp.data.w),oe.setAttribute("height",this.comp.data.h),oe.setAttribute("x","0"),oe.setAttribute("y","0"),oe.setAttribute("fill","#ffffff"),oe.setAttribute("opacity","0"),ee.setAttribute("filter","url("+getLocationHref()+"#"+A+")"),ee.appendChild(oe),z=createNS("use"),z.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ee.appendChild(z),featureSupport.maskType||(J.setAttribute("mask-type","luminance"),O.appendChild(filtersFactory.createAlphaToLuminanceFilter()),U=createNS("g"),ee.appendChild(oe),U.appendChild(this.layerElement),ee.appendChild(U)),this.globalData.defs.appendChild(J)}this.matteMasks[y]=T}return this.matteMasks[y]},setMatte:function(y){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+y+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(y){this.hierarchy=y},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var R={initElement:function(T,A,O){this.initFrame(),this.initBaseData(T,A,O),this.initTransform(T,A,O),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var T=this.baseElement||this.layerElement;T.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var T=this.baseElement||this.layerElement;T.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(T){this._mdf=!1,this.prepareRenderableFrame(T),this.prepareProperties(T,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(R)],RenderableDOMElement)})();function IImageElement(R,y,T){this.assetData=y.getAssetData(R.refId),this.assetData&&this.assetData.sid&&(this.assetData=y.slotManager.getProp(this.assetData)),this.initElement(R,y,T),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var R=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",R),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(R,y){this.elem=R,this.pos=y}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(y){var T,A=this.shapeModifiers.length;for(T=0;T<A;T+=1)this.shapeModifiers[T].addShape(y)},isShapeInAnimatedModifiers:function(y){for(var T=0,A=this.shapeModifiers.length;T<A;)if(this.shapeModifiers[T].isAnimatedWithShape(y))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var y,T=this.shapes.length;for(y=0;y<T;y+=1)this.shapes[y].sh.reset();T=this.shapeModifiers.length;var A;for(y=T-1;y>=0&&(A=this.shapeModifiers[y].processShapes(this._isFirstFrame),!A);y-=1);}},searchProcessedElement:function(y){for(var T=this.processedElements,A=0,O=T.length;A<O;){if(T[A].elem===y)return T[A].pos;A+=1}return 0},addProcessedElement:function(y,T){for(var A=this.processedElements,O=A.length;O;)if(O-=1,A[O].elem===y){A[O].pos=T;return}A.push(new ProcessedElement(y,T))},prepareFrame:function(y){this.prepareRenderableFrame(y),this.prepareProperties(y,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(R,y,T){this.caches=[],this.styles=[],this.transformers=R,this.lStr="",this.sh=T,this.lvl=y,this._isAnimated=!!T.k;for(var A=0,O=R.length;A<O;){if(R[A].mProps.dynamicProperties.length){this._isAnimated=!0;break}A+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(R,y){this.data=R,this.type=R.ty,this.d="",this.lvl=y,this._mdf=!1,this.closed=R.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(R,y,T,A){this.elem=R,this.frameId=-1,this.dataProps=createSizedArray(y.length),this.renderer=T,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",y.length?y.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(A);var O,z=y.length||0,U;for(O=0;O<z;O+=1)U=PropertyFactory.getProp(R,y[O].v,0,0,this),this.k=U.k||this.k,this.dataProps[O]={n:y[O].n,p:U};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(R){if(!(this.elem.globalData.frameId===this.frameId&&!R)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||R,this._mdf)){var y=0,T=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),y=0;y<T;y+=1)this.dataProps[y].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[y].p.v:this.dashArray[y]=this.dataProps[y].p.v:this.dashoffset[0]=this.dataProps[y].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(R,y,T){this.initDynamicPropertyContainer(R),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(R,y.o,0,.01,this),this.w=PropertyFactory.getProp(R,y.w,0,null,this),this.d=new DashProperty(R,y.d||{},"svg",this),this.c=PropertyFactory.getProp(R,y.c,1,255,this),this.style=T,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(R,y,T){this.initDynamicPropertyContainer(R),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(R,y.o,0,.01,this),this.c=PropertyFactory.getProp(R,y.c,1,255,this),this.style=T}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(R,y,T){this.initDynamicPropertyContainer(R),this.getValue=this.iterateDynamicProperties,this.style=T}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(R,y,T){this.data=y,this.c=createTypedArray("uint8c",y.p*4);var A=y.k.k[0].s?y.k.k[0].s.length-y.p*4:y.k.k.length-y.p*4;this.o=createTypedArray("float32",A),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=A,this.initDynamicPropertyContainer(T),this.prop=PropertyFactory.getProp(R,y.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(R,y){for(var T=0,A=this.o.length/2,O;T<A;){if(O=Math.abs(R[T*4]-R[y*4+T*2]),O>.01)return!1;T+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var R=0,y=this.data.k.k.length;R<y;){if(!this.comparePoints(this.data.k.k[R].s,this.data.p))return!1;R+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(R){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||R){var y,T=this.data.p*4,A,O;for(y=0;y<T;y+=1)A=y%4===0?100:255,O=Math.round(this.prop.v[y]*A),this.c[y]!==O&&(this.c[y]=O,this._cmdf=!R);if(this.o.length)for(T=this.prop.v.length,y=this.data.p*4;y<T;y+=1)A=y%2===0?100:1,O=y%2===0?Math.round(this.prop.v[y]*100):this.prop.v[y],this.o[y-this.data.p*4]!==O&&(this.o[y-this.data.p*4]=O,this._omdf=!R);this._mdf=!R}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(R,y,T){this.initDynamicPropertyContainer(R),this.getValue=this.iterateDynamicProperties,this.initGradientData(R,y,T)}SVGGradientFillStyleData.prototype.initGradientData=function(R,y,T){this.o=PropertyFactory.getProp(R,y.o,0,.01,this),this.s=PropertyFactory.getProp(R,y.s,1,null,this),this.e=PropertyFactory.getProp(R,y.e,1,null,this),this.h=PropertyFactory.getProp(R,y.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(R,y.a||{k:0},0,degToRads,this),this.g=new GradientProperty(R,y.g,this),this.style=T,this.stops=[],this.setGradientData(T.pElem,y),this.setGradientOpacity(y,T),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(R,y){var T=createElementID(),A=createNS(y.t===1?"linearGradient":"radialGradient");A.setAttribute("id",T),A.setAttribute("spreadMethod","pad"),A.setAttribute("gradientUnits","userSpaceOnUse");var O=[],z,U,G;for(G=y.g.p*4,U=0;U<G;U+=4)z=createNS("stop"),A.appendChild(z),O.push(z);R.setAttribute(y.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+T+")"),this.gf=A,this.cst=O},SVGGradientFillStyleData.prototype.setGradientOpacity=function(R,y){if(this.g._hasOpacity&&!this.g._collapsable){var T,A,O,z=createNS("mask"),U=createNS("path");z.appendChild(U);var G=createElementID(),J=createElementID();z.setAttribute("id",J);var ee=createNS(R.t===1?"linearGradient":"radialGradient");ee.setAttribute("id",G),ee.setAttribute("spreadMethod","pad"),ee.setAttribute("gradientUnits","userSpaceOnUse"),O=R.g.k.k[0].s?R.g.k.k[0].s.length:R.g.k.k.length;var te=this.stops;for(A=R.g.p*4;A<O;A+=2)T=createNS("stop"),T.setAttribute("stop-color","rgb(255,255,255)"),ee.appendChild(T),te.push(T);U.setAttribute(R.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+G+")"),R.ty==="gs"&&(U.setAttribute("stroke-linecap",lineCapEnum[R.lc||2]),U.setAttribute("stroke-linejoin",lineJoinEnum[R.lj||2]),R.lj===1&&U.setAttribute("stroke-miterlimit",R.ml)),this.of=ee,this.ms=z,this.ost=te,this.maskId=J,y.msElem=U}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(R,y,T){this.initDynamicPropertyContainer(R),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(R,y.w,0,null,this),this.d=new DashProperty(R,y.d||{},"svg",this),this.initGradientData(R,y,T),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(R,y,T){this.transform={mProps:R,op:y,container:T},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(y,T,A,O){if(T===0)return"";var z=y.o,U=y.i,G=y.v,J,ee=" M"+O.applyToPointStringified(G[0][0],G[0][1]);for(J=1;J<T;J+=1)ee+=" C"+O.applyToPointStringified(z[J-1][0],z[J-1][1])+" "+O.applyToPointStringified(U[J][0],U[J][1])+" "+O.applyToPointStringified(G[J][0],G[J][1]);return A&&T&&(ee+=" C"+O.applyToPointStringified(z[J-1][0],z[J-1][1])+" "+O.applyToPointStringified(U[0][0],U[0][1])+" "+O.applyToPointStringified(G[0][0],G[0][1]),ee+="z"),ee},SVGElementsRenderer=(function(){var R=new Matrix,y=new Matrix,T={createRenderFunction:A};function A(ae){switch(ae.ty){case"fl":return G;case"gf":return ee;case"gs":return J;case"st":return te;case"sh":case"el":case"rc":case"sr":return U;case"tr":return O;case"no":return z;default:return null}}function O(ae,oe,pe){(pe||oe.transform.op._mdf)&&oe.transform.container.setAttribute("opacity",oe.transform.op.v),(pe||oe.transform.mProps._mdf)&&oe.transform.container.setAttribute("transform",oe.transform.mProps.v.to2dCSS())}function z(){}function U(ae,oe,pe){var fe,xe,ye,_e,Le,je,Ne=oe.styles.length,$e=oe.lvl,Ue,He,ze,Ke;for(je=0;je<Ne;je+=1){if(_e=oe.sh._mdf||pe,oe.styles[je].lvl<$e){for(He=y.reset(),ze=$e-oe.styles[je].lvl,Ke=oe.transformers.length-1;!_e&&ze>0;)_e=oe.transformers[Ke].mProps._mdf||_e,ze-=1,Ke-=1;if(_e)for(ze=$e-oe.styles[je].lvl,Ke=oe.transformers.length-1;ze>0;)He.multiply(oe.transformers[Ke].mProps.v),ze-=1,Ke-=1}else He=R;if(Ue=oe.sh.paths,xe=Ue._length,_e){for(ye="",fe=0;fe<xe;fe+=1)Le=Ue.shapes[fe],Le&&Le._length&&(ye+=buildShapeString(Le,Le._length,Le.c,He));oe.caches[je]=ye}else ye=oe.caches[je];oe.styles[je].d+=ae.hd===!0?"":ye,oe.styles[je]._mdf=_e||oe.styles[je]._mdf}}function G(ae,oe,pe){var fe=oe.style;(oe.c._mdf||pe)&&fe.pElem.setAttribute("fill","rgb("+bmFloor(oe.c.v[0])+","+bmFloor(oe.c.v[1])+","+bmFloor(oe.c.v[2])+")"),(oe.o._mdf||pe)&&fe.pElem.setAttribute("fill-opacity",oe.o.v)}function J(ae,oe,pe){ee(ae,oe,pe),te(ae,oe,pe)}function ee(ae,oe,pe){var fe=oe.gf,xe=oe.g._hasOpacity,ye=oe.s.v,_e=oe.e.v;if(oe.o._mdf||pe){var Le=ae.ty==="gf"?"fill-opacity":"stroke-opacity";oe.style.pElem.setAttribute(Le,oe.o.v)}if(oe.s._mdf||pe){var je=ae.t===1?"x1":"cx",Ne=je==="x1"?"y1":"cy";fe.setAttribute(je,ye[0]),fe.setAttribute(Ne,ye[1]),xe&&!oe.g._collapsable&&(oe.of.setAttribute(je,ye[0]),oe.of.setAttribute(Ne,ye[1]))}var $e,Ue,He,ze;if(oe.g._cmdf||pe){$e=oe.cst;var Ke=oe.g.c;for(He=$e.length,Ue=0;Ue<He;Ue+=1)ze=$e[Ue],ze.setAttribute("offset",Ke[Ue*4]+"%"),ze.setAttribute("stop-color","rgb("+Ke[Ue*4+1]+","+Ke[Ue*4+2]+","+Ke[Ue*4+3]+")")}if(xe&&(oe.g._omdf||pe)){var Je=oe.g.o;for(oe.g._collapsable?$e=oe.cst:$e=oe.ost,He=$e.length,Ue=0;Ue<He;Ue+=1)ze=$e[Ue],oe.g._collapsable||ze.setAttribute("offset",Je[Ue*2]+"%"),ze.setAttribute("stop-opacity",Je[Ue*2+1])}if(ae.t===1)(oe.e._mdf||pe)&&(fe.setAttribute("x2",_e[0]),fe.setAttribute("y2",_e[1]),xe&&!oe.g._collapsable&&(oe.of.setAttribute("x2",_e[0]),oe.of.setAttribute("y2",_e[1])));else{var Ze;if((oe.s._mdf||oe.e._mdf||pe)&&(Ze=Math.sqrt(Math.pow(ye[0]-_e[0],2)+Math.pow(ye[1]-_e[1],2)),fe.setAttribute("r",Ze),xe&&!oe.g._collapsable&&oe.of.setAttribute("r",Ze)),oe.s._mdf||oe.e._mdf||oe.h._mdf||oe.a._mdf||pe){Ze||(Ze=Math.sqrt(Math.pow(ye[0]-_e[0],2)+Math.pow(ye[1]-_e[1],2)));var rt=Math.atan2(_e[1]-ye[1],_e[0]-ye[0]),nt=oe.h.v;nt>=1?nt=.99:nt<=-1&&(nt=-.99);var at=Ze*nt,ot=Math.cos(rt+oe.a.v)*at+ye[0],qe=Math.sin(rt+oe.a.v)*at+ye[1];fe.setAttribute("fx",ot),fe.setAttribute("fy",qe),xe&&!oe.g._collapsable&&(oe.of.setAttribute("fx",ot),oe.of.setAttribute("fy",qe))}}}function te(ae,oe,pe){var fe=oe.style,xe=oe.d;xe&&(xe._mdf||pe)&&xe.dashStr&&(fe.pElem.setAttribute("stroke-dasharray",xe.dashStr),fe.pElem.setAttribute("stroke-dashoffset",xe.dashoffset[0])),oe.c&&(oe.c._mdf||pe)&&fe.pElem.setAttribute("stroke","rgb("+bmFloor(oe.c.v[0])+","+bmFloor(oe.c.v[1])+","+bmFloor(oe.c.v[2])+")"),(oe.o._mdf||pe)&&fe.pElem.setAttribute("stroke-opacity",oe.o.v),(oe.w._mdf||pe)&&(fe.pElem.setAttribute("stroke-width",oe.w.v),fe.msElem&&fe.msElem.setAttribute("stroke-width",oe.w.v))}return T})();function SVGShapeElement(R,y,T){this.shapes=[],this.shapesData=R.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(R,y,T),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var R,y=this.shapes.length,T,A,O=this.stylesList.length,z,U=[],G=!1;for(A=0;A<O;A+=1){for(z=this.stylesList[A],G=!1,U.length=0,R=0;R<y;R+=1)T=this.shapes[R],T.styles.indexOf(z)!==-1&&(U.push(T),G=T._isAnimated||G);U.length>1&&G&&this.setShapesAsAnimated(U)}},SVGShapeElement.prototype.setShapesAsAnimated=function(R){var y,T=R.length;for(y=0;y<T;y+=1)R[y].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(R,y){var T,A=new SVGStyleData(R,y),O=A.pElem;if(R.ty==="st")T=new SVGStrokeStyleData(this,R,A);else if(R.ty==="fl")T=new SVGFillStyleData(this,R,A);else if(R.ty==="gf"||R.ty==="gs"){var z=R.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;T=new z(this,R,A),this.globalData.defs.appendChild(T.gf),T.maskId&&(this.globalData.defs.appendChild(T.ms),this.globalData.defs.appendChild(T.of),O.setAttribute("mask","url("+getLocationHref()+"#"+T.maskId+")"))}else R.ty==="no"&&(T=new SVGNoStyleData(this,R,A));return(R.ty==="st"||R.ty==="gs")&&(O.setAttribute("stroke-linecap",lineCapEnum[R.lc||2]),O.setAttribute("stroke-linejoin",lineJoinEnum[R.lj||2]),O.setAttribute("fill-opacity","0"),R.lj===1&&O.setAttribute("stroke-miterlimit",R.ml)),R.r===2&&O.setAttribute("fill-rule","evenodd"),R.ln&&O.setAttribute("id",R.ln),R.cl&&O.setAttribute("class",R.cl),R.bm&&(O.style["mix-blend-mode"]=getBlendMode(R.bm)),this.stylesList.push(A),this.addToAnimatedContents(R,T),T},SVGShapeElement.prototype.createGroupElement=function(R){var y=new ShapeGroupData;return R.ln&&y.gr.setAttribute("id",R.ln),R.cl&&y.gr.setAttribute("class",R.cl),R.bm&&(y.gr.style["mix-blend-mode"]=getBlendMode(R.bm)),y},SVGShapeElement.prototype.createTransformElement=function(R,y){var T=TransformPropertyFactory.getTransformProperty(this,R,this),A=new SVGTransformData(T,T.o,y);return this.addToAnimatedContents(R,A),A},SVGShapeElement.prototype.createShapeElement=function(R,y,T){var A=4;R.ty==="rc"?A=5:R.ty==="el"?A=6:R.ty==="sr"&&(A=7);var O=ShapePropertyFactory.getShapeProp(this,R,A,this),z=new SVGShapeData(y,T,O);return this.shapes.push(z),this.addShapeToModifiers(z),this.addToAnimatedContents(R,z),z},SVGShapeElement.prototype.addToAnimatedContents=function(R,y){for(var T=0,A=this.animatedContents.length;T<A;){if(this.animatedContents[T].element===y)return;T+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(R),element:y,data:R})},SVGShapeElement.prototype.setElementStyles=function(R){var y=R.styles,T,A=this.stylesList.length;for(T=0;T<A;T+=1)y.indexOf(this.stylesList[T])===-1&&!this.stylesList[T].closed&&y.push(this.stylesList[T])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var R,y=this.itemsData.length;for(R=0;R<y;R+=1)this.prevViewData[R]=this.itemsData[R];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),y=this.dynamicProperties.length,R=0;R<y;R+=1)this.dynamicProperties[R].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(R,y,T,A,O,z,U){var G=[].concat(z),J,ee=R.length-1,te,ae,oe=[],pe=[],fe,xe,ye;for(J=ee;J>=0;J-=1){if(ye=this.searchProcessedElement(R[J]),ye?y[J]=T[ye-1]:R[J]._render=U,R[J].ty==="fl"||R[J].ty==="st"||R[J].ty==="gf"||R[J].ty==="gs"||R[J].ty==="no")ye?y[J].style.closed=R[J].hd:y[J]=this.createStyleElement(R[J],O),R[J]._render&&y[J].style.pElem.parentNode!==A&&A.appendChild(y[J].style.pElem),oe.push(y[J].style);else if(R[J].ty==="gr"){if(!ye)y[J]=this.createGroupElement(R[J]);else for(ae=y[J].it.length,te=0;te<ae;te+=1)y[J].prevViewData[te]=y[J].it[te];this.searchShapes(R[J].it,y[J].it,y[J].prevViewData,y[J].gr,O+1,G,U),R[J]._render&&y[J].gr.parentNode!==A&&A.appendChild(y[J].gr)}else R[J].ty==="tr"?(ye||(y[J]=this.createTransformElement(R[J],A)),fe=y[J].transform,G.push(fe)):R[J].ty==="sh"||R[J].ty==="rc"||R[J].ty==="el"||R[J].ty==="sr"?(ye||(y[J]=this.createShapeElement(R[J],G,O)),this.setElementStyles(y[J])):R[J].ty==="tm"||R[J].ty==="rd"||R[J].ty==="ms"||R[J].ty==="pb"||R[J].ty==="zz"||R[J].ty==="op"?(ye?(xe=y[J],xe.closed=!1):(xe=ShapeModifiers.getModifier(R[J].ty),xe.init(this,R[J]),y[J]=xe,this.shapeModifiers.push(xe)),pe.push(xe)):R[J].ty==="rp"&&(ye?(xe=y[J],xe.closed=!0):(xe=ShapeModifiers.getModifier(R[J].ty),y[J]=xe,xe.init(this,R,J,y),this.shapeModifiers.push(xe),U=!1),pe.push(xe));this.addProcessedElement(R[J],J+1)}for(ee=oe.length,J=0;J<ee;J+=1)oe[J].closed=!0;for(ee=pe.length,J=0;J<ee;J+=1)pe[J].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var R,y=this.stylesList.length;for(R=0;R<y;R+=1)this.stylesList[R].reset();for(this.renderShape(),R=0;R<y;R+=1)(this.stylesList[R]._mdf||this._isFirstFrame)&&(this.stylesList[R].msElem&&(this.stylesList[R].msElem.setAttribute("d",this.stylesList[R].d),this.stylesList[R].d="M0 0"+this.stylesList[R].d),this.stylesList[R].pElem.setAttribute("d",this.stylesList[R].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var R,y=this.animatedContents.length,T;for(R=0;R<y;R+=1)T=this.animatedContents[R],(this._isFirstFrame||T.element._isAnimated)&&T.data!==!0&&T.fn(T.data,T.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(R,y,T,A,O,z){this.o=R,this.sw=y,this.sc=T,this.fc=A,this.m=O,this.p=z,this._mdf={o:!0,sw:!!y,sc:!!T,fc:!!A,m:!0,p:!0}}LetterProps.prototype.update=function(R,y,T,A,O,z){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var U=!1;return this.o!==R&&(this.o=R,this._mdf.o=!0,U=!0),this.sw!==y&&(this.sw=y,this._mdf.sw=!0,U=!0),this.sc!==T&&(this.sc=T,this._mdf.sc=!0,U=!0),this.fc!==A&&(this.fc=A,this._mdf.fc=!0,U=!0),this.m!==O&&(this.m=O,this._mdf.m=!0,U=!0),z.length&&(this.p[0]!==z[0]||this.p[1]!==z[1]||this.p[4]!==z[4]||this.p[5]!==z[5]||this.p[12]!==z[12]||this.p[13]!==z[13])&&(this.p=z,this._mdf.p=!0,U=!0),U};function TextProperty(R,y){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,y.d&&y.d.sid&&(y.d=R.globalData.slotManager.getProp(y.d)),this.data=y,this.elem=R,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(R,y){for(var T in y)Object.prototype.hasOwnProperty.call(y,T)&&(R[T]=y[T]);return R},TextProperty.prototype.setCurrentData=function(R){R.__complete||this.completeTextData(R),this.currentData=R,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(R){this.effectsSequence.push(R),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(R){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!R)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var y=this.currentData,T=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var A,O=this.effectsSequence.length,z=R||this.data.d.k[this.keysIndex].s;for(A=0;A<O;A+=1)T!==this.keysIndex?z=this.effectsSequence[A](z,z.t):z=this.effectsSequence[A](this.currentData,z.t);y!==z&&this.setCurrentData(z),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var R=this.data.d.k,y=this.elem.comp.renderedFrame,T=0,A=R.length;T<=A-1&&!(T===A-1||R[T+1].t>y);)T+=1;return this.keysIndex!==T&&(this.keysIndex=T),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(R){for(var y=[],T=0,A=R.length,O,z,U=!1,G=!1,J="";T<A;)U=G,G=!1,O=R.charCodeAt(T),J=R.charAt(T),FontManager.isCombinedCharacter(O)?U=!0:O>=55296&&O<=56319?FontManager.isRegionalFlag(R,T)?J=R.substr(T,14):(z=R.charCodeAt(T+1),z>=56320&&z<=57343&&(FontManager.isModifier(O,z)?(J=R.substr(T,2),U=!0):FontManager.isFlagEmoji(R.substr(T,4))?J=R.substr(T,4):J=R.substr(T,2))):O>56319?(z=R.charCodeAt(T+1),FontManager.isVariationSelector(O)&&(U=!0)):FontManager.isZeroWidthJoiner(O)&&(U=!0,G=!0),U?(y[y.length-1]+=J,U=!1):y.push(J),T+=J.length;return y},TextProperty.prototype.completeTextData=function(R){R.__complete=!0;var y=this.elem.globalData.fontManager,T=this.data,A=[],O,z,U,G=0,J,ee=T.m.g,te=0,ae=0,oe=0,pe=[],fe=0,xe=0,ye,_e,Le=y.getFontByName(R.f),je,Ne=0,$e=getFontProperties(Le);R.fWeight=$e.weight,R.fStyle=$e.style,R.finalSize=R.s,R.finalText=this.buildFinalText(R.t),z=R.finalText.length,R.finalLineHeight=R.lh;var Ue=R.tr/1e3*R.finalSize,He;if(R.sz)for(var ze=!0,Ke=R.sz[0],Je=R.sz[1],Ze,rt;ze;){rt=this.buildFinalText(R.t),Ze=0,fe=0,z=rt.length,Ue=R.tr/1e3*R.finalSize;var nt=-1;for(O=0;O<z;O+=1)He=rt[O].charCodeAt(0),U=!1,rt[O]===" "?nt=O:(He===13||He===3)&&(fe=0,U=!0,Ze+=R.finalLineHeight||R.finalSize*1.2),y.chars?(je=y.getCharData(rt[O],Le.fStyle,Le.fFamily),Ne=U?0:je.w*R.finalSize/100):Ne=y.measureText(rt[O],R.f,R.finalSize),fe+Ne>Ke&&rt[O]!==" "?(nt===-1?z+=1:O=nt,Ze+=R.finalLineHeight||R.finalSize*1.2,rt.splice(O,nt===O?1:0,"\r"),nt=-1,fe=0):(fe+=Ne,fe+=Ue);Ze+=Le.ascent*R.finalSize/100,this.canResize&&R.finalSize>this.minimumFontSize&&Je<Ze?(R.finalSize-=1,R.finalLineHeight=R.finalSize*R.lh/R.s):(R.finalText=rt,z=R.finalText.length,ze=!1)}fe=-Ue,Ne=0;var at=0,ot;for(O=0;O<z;O+=1)if(U=!1,ot=R.finalText[O],He=ot.charCodeAt(0),He===13||He===3?(at=0,pe.push(fe),xe=fe>xe?fe:xe,fe=-2*Ue,J="",U=!0,oe+=1):J=ot,y.chars?(je=y.getCharData(ot,Le.fStyle,y.getFontByName(R.f).fFamily),Ne=U?0:je.w*R.finalSize/100):Ne=y.measureText(J,R.f,R.finalSize),ot===" "?at+=Ne+Ue:(fe+=Ne+Ue+at,at=0),A.push({l:Ne,an:Ne,add:te,n:U,anIndexes:[],val:J,line:oe,animatorJustifyOffset:0}),ee==2){if(te+=Ne,J===""||J===" "||O===z-1){for((J===""||J===" ")&&(te-=Ne);ae<=O;)A[ae].an=te,A[ae].ind=G,A[ae].extra=Ne,ae+=1;G+=1,te=0}}else if(ee==3){if(te+=Ne,J===""||O===z-1){for(J===""&&(te-=Ne);ae<=O;)A[ae].an=te,A[ae].ind=G,A[ae].extra=Ne,ae+=1;te=0,G+=1}}else A[G].ind=G,A[G].extra=0,G+=1;if(R.l=A,xe=fe>xe?fe:xe,pe.push(fe),R.sz)R.boxWidth=R.sz[0],R.justifyOffset=0;else switch(R.boxWidth=xe,R.j){case 1:R.justifyOffset=-R.boxWidth;break;case 2:R.justifyOffset=-R.boxWidth/2;break;default:R.justifyOffset=0}R.lineWidths=pe;var qe=T.a,Xe,Ge;_e=qe.length;var Qe,it,Ye=[];for(ye=0;ye<_e;ye+=1){for(Xe=qe[ye],Xe.a.sc&&(R.strokeColorAnim=!0),Xe.a.sw&&(R.strokeWidthAnim=!0),(Xe.a.fc||Xe.a.fh||Xe.a.fs||Xe.a.fb)&&(R.fillColorAnim=!0),it=0,Qe=Xe.s.b,O=0;O<z;O+=1)Ge=A[O],Ge.anIndexes[ye]=it,(Qe==1&&Ge.val!==""||Qe==2&&Ge.val!==""&&Ge.val!==" "||Qe==3&&(Ge.n||Ge.val==" "||O==z-1)||Qe==4&&(Ge.n||O==z-1))&&(Xe.s.rn===1&&Ye.push(it),it+=1);T.a[ye].s.totalChars=it;var st=-1,ut;if(Xe.s.rn===1)for(O=0;O<z;O+=1)Ge=A[O],st!=Ge.anIndexes[ye]&&(st=Ge.anIndexes[ye],ut=Ye.splice(Math.floor(Math.random()*Ye.length),1)[0]),Ge.anIndexes[ye]=ut}R.yOffset=R.finalLineHeight||R.finalSize*1.2,R.ls=R.ls||0,R.ascent=Le.ascent*R.finalSize/100},TextProperty.prototype.updateDocumentData=function(R,y){y=y===void 0?this.keysIndex:y;var T=this.copyData({},this.data.d.k[y].s);T=this.copyData(T,R),this.data.d.k[y].s=T,this.recalculate(y),this.setCurrentData(T),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(R){var y=this.data.d.k[R].s;y.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(y)},TextProperty.prototype.canResizeFont=function(R){this.canResize=R,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(R){this.minimumFontSize=Math.floor(R)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=(function(){var R=Math.max,y=Math.min,T=Math.floor;function A(z,U){this._currentTextLength=-1,this.k=!1,this.data=U,this.elem=z,this.comp=z.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(z),this.s=PropertyFactory.getProp(z,U.s||{k:0},0,0,this),"e"in U?this.e=PropertyFactory.getProp(z,U.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(z,U.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(z,U.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(z,U.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(z,U.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(z,U.a,0,.01,this),this.dynamicProperties.length||this.getValue()}A.prototype={getMult:function(U){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var G=0,J=0,ee=1,te=1;this.ne.v>0?G=this.ne.v/100:J=-this.ne.v/100,this.xe.v>0?ee=1-this.xe.v/100:te=1+this.xe.v/100;var ae=BezierFactory.getBezierEasing(G,J,ee,te).get,oe=0,pe=this.finalS,fe=this.finalE,xe=this.data.sh;if(xe===2)fe===pe?oe=U>=fe?1:0:oe=R(0,y(.5/(fe-pe)+(U-pe)/(fe-pe),1)),oe=ae(oe);else if(xe===3)fe===pe?oe=U>=fe?0:1:oe=1-R(0,y(.5/(fe-pe)+(U-pe)/(fe-pe),1)),oe=ae(oe);else if(xe===4)fe===pe?oe=0:(oe=R(0,y(.5/(fe-pe)+(U-pe)/(fe-pe),1)),oe<.5?oe*=2:oe=1-2*(oe-.5)),oe=ae(oe);else if(xe===5){if(fe===pe)oe=0;else{var ye=fe-pe;U=y(R(0,U+.5-pe),fe-pe);var _e=-ye/2+U,Le=ye/2;oe=Math.sqrt(1-_e*_e/(Le*Le))}oe=ae(oe)}else xe===6?(fe===pe?oe=0:(U=y(R(0,U+.5-pe),fe-pe),oe=(1+Math.cos(Math.PI+Math.PI*2*U/(fe-pe)))/2),oe=ae(oe)):(U>=T(pe)&&(U-pe<0?oe=R(0,y(y(fe,1)-(pe-U),1)):oe=R(0,y(fe-U,1))),oe=ae(oe));if(this.sm.v!==100){var je=this.sm.v*.01;je===0&&(je=1e-8);var Ne=.5-je*.5;oe<Ne?oe=0:(oe=(oe-Ne)/je,oe>1&&(oe=1))}return oe*this.a.v},getValue:function(U){this.iterateDynamicProperties(),this._mdf=U||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,U&&this.data.r===2&&(this.e.v=this._currentTextLength);var G=this.data.r===2?1:100/this.data.totalChars,J=this.o.v/G,ee=this.s.v/G+J,te=this.e.v/G+J;if(ee>te){var ae=ee;ee=te,te=ae}this.finalS=ee,this.finalE=te}},extendPrototype([DynamicPropertyContainer],A);function O(z,U,G){return new A(z,U)}return{getTextSelectorProp:O}})();function TextAnimatorDataProperty(R,y,T){var A={propType:!1},O=PropertyFactory.getProp,z=y.a;this.a={r:z.r?O(R,z.r,0,degToRads,T):A,rx:z.rx?O(R,z.rx,0,degToRads,T):A,ry:z.ry?O(R,z.ry,0,degToRads,T):A,sk:z.sk?O(R,z.sk,0,degToRads,T):A,sa:z.sa?O(R,z.sa,0,degToRads,T):A,s:z.s?O(R,z.s,1,.01,T):A,a:z.a?O(R,z.a,1,0,T):A,o:z.o?O(R,z.o,0,.01,T):A,p:z.p?O(R,z.p,1,0,T):A,sw:z.sw?O(R,z.sw,0,0,T):A,sc:z.sc?O(R,z.sc,1,0,T):A,fc:z.fc?O(R,z.fc,1,0,T):A,fh:z.fh?O(R,z.fh,0,0,T):A,fs:z.fs?O(R,z.fs,0,.01,T):A,fb:z.fb?O(R,z.fb,0,.01,T):A,t:z.t?O(R,z.t,0,0,T):A},this.s=TextSelectorProp.getTextSelectorProp(R,y.s,T),this.s.t=y.s.t}function TextAnimatorProperty(R,y,T){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=R,this._renderType=y,this._elem=T,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(T)}TextAnimatorProperty.prototype.searchProperties=function(){var R,y=this._textData.a.length,T,A=PropertyFactory.getProp;for(R=0;R<y;R+=1)T=this._textData.a[R],this._animatorsData[R]=new TextAnimatorDataProperty(this._elem,T,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:A(this._elem,this._textData.p.a,0,0,this),f:A(this._elem,this._textData.p.f,0,0,this),l:A(this._elem,this._textData.p.l,0,0,this),r:A(this._elem,this._textData.p.r,0,0,this),p:A(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=A(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(R,y){if(this.lettersChangedFlag=y,!(!this._mdf&&!this._isFirstFrame&&!y&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var T=this._moreOptions.alignment.v,A=this._animatorsData,O=this._textData,z=this.mHelper,U=this._renderType,G=this.renderedLetters.length,J,ee,te,ae,oe=R.l,pe,fe,xe,ye,_e,Le,je,Ne,$e,Ue,He,ze,Ke,Je,Ze;if(this._hasMaskedPath){if(Ze=this._pathData.m,!this._pathData.n||this._pathData._mdf){var rt=Ze.v;this._pathData.r.v&&(rt=rt.reverse()),pe={tLength:0,segments:[]},ae=rt._length-1;var nt;for(ze=0,te=0;te<ae;te+=1)nt=bez.buildBezierData(rt.v[te],rt.v[te+1],[rt.o[te][0]-rt.v[te][0],rt.o[te][1]-rt.v[te][1]],[rt.i[te+1][0]-rt.v[te+1][0],rt.i[te+1][1]-rt.v[te+1][1]]),pe.tLength+=nt.segmentLength,pe.segments.push(nt),ze+=nt.segmentLength;te=ae,Ze.v.c&&(nt=bez.buildBezierData(rt.v[te],rt.v[0],[rt.o[te][0]-rt.v[te][0],rt.o[te][1]-rt.v[te][1]],[rt.i[0][0]-rt.v[0][0],rt.i[0][1]-rt.v[0][1]]),pe.tLength+=nt.segmentLength,pe.segments.push(nt),ze+=nt.segmentLength),this._pathData.pi=pe}if(pe=this._pathData.pi,fe=this._pathData.f.v,je=0,Le=1,ye=0,_e=!0,Ue=pe.segments,fe<0&&Ze.v.c)for(pe.tLength<Math.abs(fe)&&(fe=-Math.abs(fe)%pe.tLength),je=Ue.length-1,$e=Ue[je].points,Le=$e.length-1;fe<0;)fe+=$e[Le].partialLength,Le-=1,Le<0&&(je-=1,$e=Ue[je].points,Le=$e.length-1);$e=Ue[je].points,Ne=$e[Le-1],xe=$e[Le],He=xe.partialLength}ae=oe.length,J=0,ee=0;var at=R.finalSize*1.2*.714,ot=!0,qe,Xe,Ge,Qe,it;Qe=A.length;var Ye,st=-1,ut,pt,yt,Et=fe,jt=je,St=Le,Ct=-1,_t,Ht,Yt,Pt,Rt,rr,pr,jr,Rr="",Er=this.defaultPropsArray,Sr;if(R.j===2||R.j===1){var hr=0,ns=0,as=R.j===2?-.5:-1,Xt=0,ls=!0;for(te=0;te<ae;te+=1)if(oe[te].n){for(hr&&(hr+=ns);Xt<te;)oe[Xt].animatorJustifyOffset=hr,Xt+=1;hr=0,ls=!0}else{for(Ge=0;Ge<Qe;Ge+=1)qe=A[Ge].a,qe.t.propType&&(ls&&R.j===2&&(ns+=qe.t.v*as),Xe=A[Ge].s,Ye=Xe.getMult(oe[te].anIndexes[Ge],O.a[Ge].s.totalChars),Ye.length?hr+=qe.t.v*Ye[0]*as:hr+=qe.t.v*Ye*as);ls=!1}for(hr&&(hr+=ns);Xt<te;)oe[Xt].animatorJustifyOffset=hr,Xt+=1}for(te=0;te<ae;te+=1){if(z.reset(),_t=1,oe[te].n)J=0,ee+=R.yOffset,ee+=ot?1:0,fe=Et,ot=!1,this._hasMaskedPath&&(je=jt,Le=St,$e=Ue[je].points,Ne=$e[Le-1],xe=$e[Le],He=xe.partialLength,ye=0),Rr="",jr="",rr="",Sr="",Er=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Ct!==oe[te].line){switch(R.j){case 1:fe+=ze-R.lineWidths[oe[te].line];break;case 2:fe+=(ze-R.lineWidths[oe[te].line])/2;break}Ct=oe[te].line}st!==oe[te].ind&&(oe[st]&&(fe+=oe[st].extra),fe+=oe[te].an/2,st=oe[te].ind),fe+=T[0]*oe[te].an*.005;var Cr=0;for(Ge=0;Ge<Qe;Ge+=1)qe=A[Ge].a,qe.p.propType&&(Xe=A[Ge].s,Ye=Xe.getMult(oe[te].anIndexes[Ge],O.a[Ge].s.totalChars),Ye.length?Cr+=qe.p.v[0]*Ye[0]:Cr+=qe.p.v[0]*Ye),qe.a.propType&&(Xe=A[Ge].s,Ye=Xe.getMult(oe[te].anIndexes[Ge],O.a[Ge].s.totalChars),Ye.length?Cr+=qe.a.v[0]*Ye[0]:Cr+=qe.a.v[0]*Ye);for(_e=!0,this._pathData.a.v&&(fe=oe[0].an*.5+(ze-this._pathData.f.v-oe[0].an*.5-oe[oe.length-1].an*.5)*st/(ae-1),fe+=this._pathData.f.v);_e;)ye+He>=fe+Cr||!$e?(Ke=(fe+Cr-ye)/xe.partialLength,pt=Ne.point[0]+(xe.point[0]-Ne.point[0])*Ke,yt=Ne.point[1]+(xe.point[1]-Ne.point[1])*Ke,z.translate(-T[0]*oe[te].an*.005,-(T[1]*at)*.01),_e=!1):$e&&(ye+=xe.partialLength,Le+=1,Le>=$e.length&&(Le=0,je+=1,Ue[je]?$e=Ue[je].points:Ze.v.c?(Le=0,je=0,$e=Ue[je].points):(ye-=xe.partialLength,$e=null)),$e&&(Ne=xe,xe=$e[Le],He=xe.partialLength));ut=oe[te].an/2-oe[te].add,z.translate(-ut,0,0)}else ut=oe[te].an/2-oe[te].add,z.translate(-ut,0,0),z.translate(-T[0]*oe[te].an*.005,-T[1]*at*.01,0);for(Ge=0;Ge<Qe;Ge+=1)qe=A[Ge].a,qe.t.propType&&(Xe=A[Ge].s,Ye=Xe.getMult(oe[te].anIndexes[Ge],O.a[Ge].s.totalChars),(J!==0||R.j!==0)&&(this._hasMaskedPath?Ye.length?fe+=qe.t.v*Ye[0]:fe+=qe.t.v*Ye:Ye.length?J+=qe.t.v*Ye[0]:J+=qe.t.v*Ye));for(R.strokeWidthAnim&&(Yt=R.sw||0),R.strokeColorAnim&&(R.sc?Ht=[R.sc[0],R.sc[1],R.sc[2]]:Ht=[0,0,0]),R.fillColorAnim&&R.fc&&(Pt=[R.fc[0],R.fc[1],R.fc[2]]),Ge=0;Ge<Qe;Ge+=1)qe=A[Ge].a,qe.a.propType&&(Xe=A[Ge].s,Ye=Xe.getMult(oe[te].anIndexes[Ge],O.a[Ge].s.totalChars),Ye.length?z.translate(-qe.a.v[0]*Ye[0],-qe.a.v[1]*Ye[1],qe.a.v[2]*Ye[2]):z.translate(-qe.a.v[0]*Ye,-qe.a.v[1]*Ye,qe.a.v[2]*Ye));for(Ge=0;Ge<Qe;Ge+=1)qe=A[Ge].a,qe.s.propType&&(Xe=A[Ge].s,Ye=Xe.getMult(oe[te].anIndexes[Ge],O.a[Ge].s.totalChars),Ye.length?z.scale(1+(qe.s.v[0]-1)*Ye[0],1+(qe.s.v[1]-1)*Ye[1],1):z.scale(1+(qe.s.v[0]-1)*Ye,1+(qe.s.v[1]-1)*Ye,1));for(Ge=0;Ge<Qe;Ge+=1){if(qe=A[Ge].a,Xe=A[Ge].s,Ye=Xe.getMult(oe[te].anIndexes[Ge],O.a[Ge].s.totalChars),qe.sk.propType&&(Ye.length?z.skewFromAxis(-qe.sk.v*Ye[0],qe.sa.v*Ye[1]):z.skewFromAxis(-qe.sk.v*Ye,qe.sa.v*Ye)),qe.r.propType&&(Ye.length?z.rotateZ(-qe.r.v*Ye[2]):z.rotateZ(-qe.r.v*Ye)),qe.ry.propType&&(Ye.length?z.rotateY(qe.ry.v*Ye[1]):z.rotateY(qe.ry.v*Ye)),qe.rx.propType&&(Ye.length?z.rotateX(qe.rx.v*Ye[0]):z.rotateX(qe.rx.v*Ye)),qe.o.propType&&(Ye.length?_t+=(qe.o.v*Ye[0]-_t)*Ye[0]:_t+=(qe.o.v*Ye-_t)*Ye),R.strokeWidthAnim&&qe.sw.propType&&(Ye.length?Yt+=qe.sw.v*Ye[0]:Yt+=qe.sw.v*Ye),R.strokeColorAnim&&qe.sc.propType)for(Rt=0;Rt<3;Rt+=1)Ye.length?Ht[Rt]+=(qe.sc.v[Rt]-Ht[Rt])*Ye[0]:Ht[Rt]+=(qe.sc.v[Rt]-Ht[Rt])*Ye;if(R.fillColorAnim&&R.fc){if(qe.fc.propType)for(Rt=0;Rt<3;Rt+=1)Ye.length?Pt[Rt]+=(qe.fc.v[Rt]-Pt[Rt])*Ye[0]:Pt[Rt]+=(qe.fc.v[Rt]-Pt[Rt])*Ye;qe.fh.propType&&(Ye.length?Pt=addHueToRGB(Pt,qe.fh.v*Ye[0]):Pt=addHueToRGB(Pt,qe.fh.v*Ye)),qe.fs.propType&&(Ye.length?Pt=addSaturationToRGB(Pt,qe.fs.v*Ye[0]):Pt=addSaturationToRGB(Pt,qe.fs.v*Ye)),qe.fb.propType&&(Ye.length?Pt=addBrightnessToRGB(Pt,qe.fb.v*Ye[0]):Pt=addBrightnessToRGB(Pt,qe.fb.v*Ye))}}for(Ge=0;Ge<Qe;Ge+=1)qe=A[Ge].a,qe.p.propType&&(Xe=A[Ge].s,Ye=Xe.getMult(oe[te].anIndexes[Ge],O.a[Ge].s.totalChars),this._hasMaskedPath?Ye.length?z.translate(0,qe.p.v[1]*Ye[0],-qe.p.v[2]*Ye[1]):z.translate(0,qe.p.v[1]*Ye,-qe.p.v[2]*Ye):Ye.length?z.translate(qe.p.v[0]*Ye[0],qe.p.v[1]*Ye[1],-qe.p.v[2]*Ye[2]):z.translate(qe.p.v[0]*Ye,qe.p.v[1]*Ye,-qe.p.v[2]*Ye));if(R.strokeWidthAnim&&(rr=Yt<0?0:Yt),R.strokeColorAnim&&(pr="rgb("+Math.round(Ht[0]*255)+","+Math.round(Ht[1]*255)+","+Math.round(Ht[2]*255)+")"),R.fillColorAnim&&R.fc&&(jr="rgb("+Math.round(Pt[0]*255)+","+Math.round(Pt[1]*255)+","+Math.round(Pt[2]*255)+")"),this._hasMaskedPath){if(z.translate(0,-R.ls),z.translate(0,T[1]*at*.01+ee,0),this._pathData.p.v){Je=(xe.point[1]-Ne.point[1])/(xe.point[0]-Ne.point[0]);var cs=Math.atan(Je)*180/Math.PI;xe.point[0]<Ne.point[0]&&(cs+=180),z.rotate(-cs*Math.PI/180)}z.translate(pt,yt,0),fe-=T[0]*oe[te].an*.005,oe[te+1]&&st!==oe[te+1].ind&&(fe+=oe[te].an/2,fe+=R.tr*.001*R.finalSize)}else{switch(z.translate(J,ee,0),R.ps&&z.translate(R.ps[0],R.ps[1]+R.ascent,0),R.j){case 1:z.translate(oe[te].animatorJustifyOffset+R.justifyOffset+(R.boxWidth-R.lineWidths[oe[te].line]),0,0);break;case 2:z.translate(oe[te].animatorJustifyOffset+R.justifyOffset+(R.boxWidth-R.lineWidths[oe[te].line])/2,0,0);break}z.translate(0,-R.ls),z.translate(ut,0,0),z.translate(T[0]*oe[te].an*.005,T[1]*at*.01,0),J+=oe[te].l+R.tr*.001*R.finalSize}U==="html"?Rr=z.toCSS():U==="svg"?Rr=z.to2dCSS():Er=[z.props[0],z.props[1],z.props[2],z.props[3],z.props[4],z.props[5],z.props[6],z.props[7],z.props[8],z.props[9],z.props[10],z.props[11],z.props[12],z.props[13],z.props[14],z.props[15]],Sr=_t}G<=te?(it=new LetterProps(Sr,rr,pr,jr,Rr,Er),this.renderedLetters.push(it),G+=1,this.lettersChangedFlag=!0):(it=this.renderedLetters[te],this.lettersChangedFlag=it.update(Sr,rr,pr,jr,Rr,Er)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(R,y,T){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(R,y,T),this.textProperty=new TextProperty(this,R.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(R.t,this.renderType,this),this.initTransform(R,y,T),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(R){this._mdf=!1,this.prepareRenderableFrame(R),this.prepareProperties(R,this.isInRange)},ITextElement.prototype.createPathShape=function(R,y){var T,A=y.length,O,z="";for(T=0;T<A;T+=1)y[T].ty==="sh"&&(O=y[T].ks.k,z+=buildShapeString(O,O.i.length,!0,R));return z},ITextElement.prototype.updateDocumentData=function(R,y){this.textProperty.updateDocumentData(R,y)},ITextElement.prototype.canResizeFont=function(R){this.textProperty.canResizeFont(R)},ITextElement.prototype.setMinimumFontSize=function(R){this.textProperty.setMinimumFontSize(R)},ITextElement.prototype.applyTextPropertiesToMatrix=function(R,y,T,A,O){switch(R.ps&&y.translate(R.ps[0],R.ps[1]+R.ascent,0),y.translate(0,-R.ls,0),R.j){case 1:y.translate(R.justifyOffset+(R.boxWidth-R.lineWidths[T]),0,0);break;case 2:y.translate(R.justifyOffset+(R.boxWidth-R.lineWidths[T])/2,0,0);break}y.translate(A,O,0)},ITextElement.prototype.buildColor=function(R){return"rgb("+Math.round(R[0]*255)+","+Math.round(R[1]*255)+","+Math.round(R[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(R,y,T){this.textSpans=[],this.renderType="svg",this.initElement(R,y,T)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(R){for(var y=0,T=R.length,A=[],O="";y<T;)R[y]==="\r"||R[y]===""?(A.push(O),O=""):O+=R[y],y+=1;return A.push(O),A},SVGTextLottieElement.prototype.buildShapeData=function(R,y){if(R.shapes&&R.shapes.length){var T=R.shapes[0];if(T.it){var A=T.it[T.it.length-1];A.s&&(A.s.k[0]=y,A.s.k[1]=y)}}return R},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var R,y,T=this.textProperty.currentData;this.renderedLetters=createSizedArray(T?T.l.length:0),T.fc?this.layerElement.setAttribute("fill",this.buildColor(T.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),T.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(T.sc)),this.layerElement.setAttribute("stroke-width",T.sw)),this.layerElement.setAttribute("font-size",T.finalSize);var A=this.globalData.fontManager.getFontByName(T.f);if(A.fClass)this.layerElement.setAttribute("class",A.fClass);else{this.layerElement.setAttribute("font-family",A.fFamily);var O=T.fWeight,z=T.fStyle;this.layerElement.setAttribute("font-style",z),this.layerElement.setAttribute("font-weight",O)}this.layerElement.setAttribute("aria-label",T.t);var U=T.l||[],G=!!this.globalData.fontManager.chars;y=U.length;var J,ee=this.mHelper,te="",ae=this.data.singleShape,oe=0,pe=0,fe=!0,xe=T.tr*.001*T.finalSize;if(ae&&!G&&!T.sz){var ye=this.textContainer,_e="start";switch(T.j){case 1:_e="end";break;case 2:_e="middle";break;default:_e="start";break}ye.setAttribute("text-anchor",_e),ye.setAttribute("letter-spacing",xe);var Le=this.buildTextContents(T.finalText);for(y=Le.length,pe=T.ps?T.ps[1]+T.ascent:0,R=0;R<y;R+=1)J=this.textSpans[R].span||createNS("tspan"),J.textContent=Le[R],J.setAttribute("x",0),J.setAttribute("y",pe),J.style.display="inherit",ye.appendChild(J),this.textSpans[R]||(this.textSpans[R]={span:null,glyph:null}),this.textSpans[R].span=J,pe+=T.finalLineHeight;this.layerElement.appendChild(ye)}else{var je=this.textSpans.length,Ne;for(R=0;R<y;R+=1){if(this.textSpans[R]||(this.textSpans[R]={span:null,childSpan:null,glyph:null}),!G||!ae||R===0){if(J=je>R?this.textSpans[R].span:createNS(G?"g":"text"),je<=R){if(J.setAttribute("stroke-linecap","butt"),J.setAttribute("stroke-linejoin","round"),J.setAttribute("stroke-miterlimit","4"),this.textSpans[R].span=J,G){var $e=createNS("g");J.appendChild($e),this.textSpans[R].childSpan=$e}this.textSpans[R].span=J,this.layerElement.appendChild(J)}J.style.display="inherit"}if(ee.reset(),ae&&(U[R].n&&(oe=-xe,pe+=T.yOffset,pe+=fe?1:0,fe=!1),this.applyTextPropertiesToMatrix(T,ee,U[R].line,oe,pe),oe+=U[R].l||0,oe+=xe),G){Ne=this.globalData.fontManager.getCharData(T.finalText[R],A.fStyle,this.globalData.fontManager.getFontByName(T.f).fFamily);var Ue;if(Ne.t===1)Ue=new SVGCompElement(Ne.data,this.globalData,this);else{var He=emptyShapeData;Ne.data&&Ne.data.shapes&&(He=this.buildShapeData(Ne.data,T.finalSize)),Ue=new SVGShapeElement(He,this.globalData,this)}if(this.textSpans[R].glyph){var ze=this.textSpans[R].glyph;this.textSpans[R].childSpan.removeChild(ze.layerElement),ze.destroy()}this.textSpans[R].glyph=Ue,Ue._debug=!0,Ue.prepareFrame(0),Ue.renderFrame(),this.textSpans[R].childSpan.appendChild(Ue.layerElement),Ne.t===1&&this.textSpans[R].childSpan.setAttribute("transform","scale("+T.finalSize/100+","+T.finalSize/100+")")}else ae&&J.setAttribute("transform","translate("+ee.props[12]+","+ee.props[13]+")"),J.textContent=U[R].val,J.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}ae&&J&&J.setAttribute("d",te)}for(;R<this.textSpans.length;)this.textSpans[R].span.style.display="none",R+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var R=this.layerElement.getBBox();this.bbox={top:R.y,left:R.x,width:R.width,height:R.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var R,y=this.textSpans.length,T;for(this.renderedFrame=this.comp.renderedFrame,R=0;R<y;R+=1)T=this.textSpans[R].glyph,T&&(T.prepareFrame(this.comp.renderedFrame-this.data.st),T._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var R,y,T=this.textAnimator.renderedLetters,A=this.textProperty.currentData.l;y=A.length;var O,z,U;for(R=0;R<y;R+=1)A[R].n||(O=T[R],z=this.textSpans[R].span,U=this.textSpans[R].glyph,U&&U.renderFrame(),O._mdf.m&&z.setAttribute("transform",O.m),O._mdf.o&&z.setAttribute("opacity",O.o),O._mdf.sw&&z.setAttribute("stroke-width",O.sw),O._mdf.sc&&z.setAttribute("stroke",O.sc),O._mdf.fc&&z.setAttribute("fill",O.fc))}};function ISolidElement(R,y,T){this.initElement(R,y,T)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var R=createNS("rect");R.setAttribute("width",this.data.sw),R.setAttribute("height",this.data.sh),R.setAttribute("fill",this.data.sc),this.layerElement.appendChild(R)};function NullElement(R,y,T){this.initFrame(),this.initBaseData(R,y,T),this.initFrame(),this.initTransform(R,y,T),this.initHierarchy()}NullElement.prototype.prepareFrame=function(R){this.prepareProperties(R,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(R){return new NullElement(R,this.globalData,this)},SVGRendererBase.prototype.createShape=function(R){return new SVGShapeElement(R,this.globalData,this)},SVGRendererBase.prototype.createText=function(R){return new SVGTextLottieElement(R,this.globalData,this)},SVGRendererBase.prototype.createImage=function(R){return new IImageElement(R,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(R){return new ISolidElement(R,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(R){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+R.w+" "+R.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",R.w),this.svgElement.setAttribute("height",R.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var y=this.globalData.defs;this.setupGlobalData(R,y),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=R;var T=createNS("clipPath"),A=createNS("rect");A.setAttribute("width",R.w),A.setAttribute("height",R.h),A.setAttribute("x",0),A.setAttribute("y",0);var O=createElementID();T.setAttribute("id",O),T.appendChild(A),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+O+")"),y.appendChild(T),this.layers=R.layers,this.elements=createSizedArray(R.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var R,y=this.layers?this.layers.length:0;for(R=0;R<y;R+=1)this.elements[R]&&this.elements[R].destroy&&this.elements[R].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(R){var y=0,T=this.layers.length;for(y=0;y<T;y+=1)if(this.layers[y].ind===R)return y;return-1},SVGRendererBase.prototype.buildItem=function(R){var y=this.elements;if(!(y[R]||this.layers[R].ty===99)){y[R]=!0;var T=this.createItem(this.layers[R]);if(y[R]=T,getExpressionsPlugin()&&(this.layers[R].ty===0&&this.globalData.projectInterface.registerComposition(T),T.initExpressions()),this.appendElementInPos(T,R),this.layers[R].tt){var A="tp"in this.layers[R]?this.findIndexByInd(this.layers[R].tp):R-1;if(A===-1)return;if(!this.elements[A]||this.elements[A]===!0)this.buildItem(A),this.addPendingElement(T);else{var O=y[A],z=O.getMatte(this.layers[R].tt);T.setMatte(z)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var R=this.pendingElements.pop();if(R.checkParenting(),R.data.tt)for(var y=0,T=this.elements.length;y<T;){if(this.elements[y]===R){var A="tp"in R.data?this.findIndexByInd(R.data.tp):y-1,O=this.elements[A],z=O.getMatte(this.layers[y].tt);R.setMatte(z);break}y+=1}}},SVGRendererBase.prototype.renderFrame=function(R){if(!(this.renderedFrame===R||this.destroyed)){R===null?R=this.renderedFrame:this.renderedFrame=R,this.globalData.frameNum=R,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=R,this.globalData._mdf=!1;var y,T=this.layers.length;for(this.completeLayers||this.checkLayers(R),y=T-1;y>=0;y-=1)(this.completeLayers||this.elements[y])&&this.elements[y].prepareFrame(R-this.layers[y].st);if(this.globalData._mdf)for(y=0;y<T;y+=1)(this.completeLayers||this.elements[y])&&this.elements[y].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(R,y){var T=R.getBaseElement();if(T){for(var A=0,O;A<y;)this.elements[A]&&this.elements[A]!==!0&&this.elements[A].getBaseElement()&&(O=this.elements[A].getBaseElement()),A+=1;O?this.layerElement.insertBefore(T,O):this.layerElement.appendChild(T)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(R,y,T){this.initFrame(),this.initBaseData(R,y,T),this.initTransform(R,y,T),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!y.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(R){if(this._mdf=!1,this.prepareRenderableFrame(R),this.prepareProperties(R,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=R/this.data.sr;else{var y=this.tm.v;y===this.data.op&&(y=this.data.op-1),this.renderedFrame=y}var T,A=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),T=A-1;T>=0;T-=1)(this.completeLayers||this.elements[T])&&(this.elements[T].prepareFrame(this.renderedFrame-this.layers[T].st),this.elements[T]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var R,y=this.layers.length;for(R=0;R<y;R+=1)(this.completeLayers||this.elements[R])&&this.elements[R].renderFrame()},ICompElement.prototype.setElements=function(R){this.elements=R},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var R,y=this.layers.length;for(R=0;R<y;R+=1)this.elements[R]&&this.elements[R].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(R,y,T){this.layers=R.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(R,y,T),this.tm=R.tm?PropertyFactory.getProp(this,R.tm,0,y.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(R){return new SVGCompElement(R,this.globalData,this)};function SVGRenderer(R,y){this.animationItem=R,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var T="";if(y&&y.title){var A=createNS("title"),O=createElementID();A.setAttribute("id",O),A.textContent=y.title,this.svgElement.appendChild(A),T+=O}if(y&&y.description){var z=createNS("desc"),U=createElementID();z.setAttribute("id",U),z.textContent=y.description,this.svgElement.appendChild(z),T+=" "+U}T&&this.svgElement.setAttribute("aria-labelledby",T);var G=createNS("defs");this.svgElement.appendChild(G);var J=createNS("g");this.svgElement.appendChild(J),this.layerElement=J,this.renderConfig={preserveAspectRatio:y&&y.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:y&&y.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:y&&y.contentVisibility||"visible",progressiveLoad:y&&y.progressiveLoad||!1,hideOnTransparent:!(y&&y.hideOnTransparent===!1),viewBoxOnly:y&&y.viewBoxOnly||!1,viewBoxSize:y&&y.viewBoxSize||!1,className:y&&y.className||"",id:y&&y.id||"",focusable:y&&y.focusable,filterSize:{width:y&&y.filterSize&&y.filterSize.width||"100%",height:y&&y.filterSize&&y.filterSize.height||"100%",x:y&&y.filterSize&&y.filterSize.x||"0%",y:y&&y.filterSize&&y.filterSize.y||"0%"},width:y&&y.width,height:y&&y.height,runExpressions:!y||y.runExpressions===void 0||y.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:G,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(R){return new SVGCompElement(R,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(y){var T,A=y.length,O="_";for(T=0;T<A;T+=1)O+=y[T].transform.key+"_";var z=this.sequences[O];return z||(z={transforms:[].concat(y),finalTransform:new Matrix,_mdf:!1},this.sequences[O]=z,this.sequenceList.push(z)),z},processSequence:function(y,T){for(var A=0,O=y.transforms.length,z=T;A<O&&!T;){if(y.transforms[A].transform.mProps._mdf){z=!0;break}A+=1}if(z)for(y.finalTransform.reset(),A=O-1;A>=0;A-=1)y.finalTransform.multiply(y.transforms[A].transform.mProps.v);y._mdf=z},processSequences:function(y){var T,A=this.sequenceList.length;for(T=0;T<A;T+=1)this.processSequence(this.sequenceList[T],y)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var y="__lottie_element_luma_buffer",T=null,A=null,O=null;function z(){var J=createNS("svg"),ee=createNS("filter"),te=createNS("feColorMatrix");return ee.setAttribute("id",y),te.setAttribute("type","matrix"),te.setAttribute("color-interpolation-filters","sRGB"),te.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),ee.appendChild(te),J.appendChild(ee),J.setAttribute("id",y+"_svg"),featureSupport.svgLumaHidden&&(J.style.display="none"),J}function U(){T||(O=z(),document.body.appendChild(O),T=createTag("canvas"),A=T.getContext("2d"),A.filter="url(#"+y+")",A.fillStyle="rgba(0,0,0,0)",A.fillRect(0,0,1,1))}function G(J){return T||U(),T.width=J.width,T.height=J.height,A.filter="url(#"+y+")",T}return{load:U,get:G}};function createCanvas(R,y){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(R,y);var T=createTag("canvas");return T.width=R,T.height=y,T}var assetLoader=(function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}})(),registeredEffects={};function CVEffects(R){var y,T=R.data.ef?R.data.ef.length:0;this.filters=[];var A;for(y=0;y<T;y+=1){A=null;var O=R.data.ef[y].ty;if(registeredEffects[O]){var z=registeredEffects[O].effect;A=new z(R.effectsManager.effectElements[y],R)}A&&this.filters.push(A)}this.filters.length&&R.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(R){var y,T=this.filters.length;for(y=0;y<T;y+=1)this.filters[y].renderFrame(R)},CVEffects.prototype.getEffects=function(R){var y,T=this.filters.length,A=[];for(y=0;y<T;y+=1)this.filters[y].type===R&&A.push(this.filters[y]);return A};function registerEffect(R,y){registeredEffects[R]={effect:y}}function CVMaskElement(R,y){this.data=R,this.element=y,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var T,A=this.masksProperties.length,O=!1;for(T=0;T<A;T+=1)this.masksProperties[T].mode!=="n"&&(O=!0),this.viewData[T]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[T],3);this.hasMasks=O,O&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var R=this.element.finalTransform.mat,y=this.element.canvasContext,T,A=this.masksProperties.length,O,z,U;for(y.beginPath(),T=0;T<A;T+=1)if(this.masksProperties[T].mode!=="n"){this.masksProperties[T].inv&&(y.moveTo(0,0),y.lineTo(this.element.globalData.compSize.w,0),y.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),y.lineTo(0,this.element.globalData.compSize.h),y.lineTo(0,0)),U=this.viewData[T].v,O=R.applyToPointArray(U.v[0][0],U.v[0][1],0),y.moveTo(O[0],O[1]);var G,J=U._length;for(G=1;G<J;G+=1)z=R.applyToTriplePoints(U.o[G-1],U.i[G],U.v[G]),y.bezierCurveTo(z[0],z[1],z[2],z[3],z[4],z[5]);z=R.applyToTriplePoints(U.o[G-1],U.i[0],U.v[0]),y.bezierCurveTo(z[0],z[1],z[2],z[3],z[4],z[5])}this.element.globalData.renderer.save(!0),y.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var y=this.globalData.canvasContext,T=assetLoader.createCanvas(y.canvas.width,y.canvas.height);this.buffers.push(T);var A=assetLoader.createCanvas(y.canvas.width,y.canvas.height);this.buffers.push(A),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var y=this.globalData;if(y.blendMode!==this.data.bm){y.blendMode=this.data.bm;var T=getBlendMode(this.data.bm);y.canvasContext.globalCompositeOperation=T}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(y){y.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var y=this.buffers[0],T=y.getContext("2d");this.clearCanvas(T),T.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var y=this.buffers[1],T=y.getContext("2d");this.clearCanvas(T),T.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var A=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(A.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var O=assetLoader.getLumaCanvas(this.canvasContext.canvas),z=O.getContext("2d");z.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(O,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(y,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(y){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!y)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var T=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(T),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(T),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(R,y,T,A){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var O=4;y.ty==="rc"?O=5:y.ty==="el"?O=6:y.ty==="sr"&&(O=7),this.sh=ShapePropertyFactory.getShapeProp(R,y,O,R);var z,U=T.length,G;for(z=0;z<U;z+=1)T[z].closed||(G={transforms:A.addTransformSequence(T[z].transforms),trNodes:[]},this.styledShapes.push(G),T[z].elements.push(G))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(R,y,T){this.shapes=[],this.shapesData=R.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(R,y,T)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(R,y){var T={data:R,type:R.ty,preTransforms:this.transformsManager.addTransformSequence(y),transforms:[],elements:[],closed:R.hd===!0},A={};if(R.ty==="fl"||R.ty==="st"?(A.c=PropertyFactory.getProp(this,R.c,1,255,this),A.c.k||(T.co="rgb("+bmFloor(A.c.v[0])+","+bmFloor(A.c.v[1])+","+bmFloor(A.c.v[2])+")")):(R.ty==="gf"||R.ty==="gs")&&(A.s=PropertyFactory.getProp(this,R.s,1,null,this),A.e=PropertyFactory.getProp(this,R.e,1,null,this),A.h=PropertyFactory.getProp(this,R.h||{k:0},0,.01,this),A.a=PropertyFactory.getProp(this,R.a||{k:0},0,degToRads,this),A.g=new GradientProperty(this,R.g,this)),A.o=PropertyFactory.getProp(this,R.o,0,.01,this),R.ty==="st"||R.ty==="gs"){if(T.lc=lineCapEnum[R.lc||2],T.lj=lineJoinEnum[R.lj||2],R.lj==1&&(T.ml=R.ml),A.w=PropertyFactory.getProp(this,R.w,0,null,this),A.w.k||(T.wi=A.w.v),R.d){var O=new DashProperty(this,R.d,"canvas",this);A.d=O,A.d.k||(T.da=A.d.dashArray,T.do=A.d.dashoffset[0])}}else T.r=R.r===2?"evenodd":"nonzero";return this.stylesList.push(T),A.style=T,A},CVShapeElement.prototype.createGroupElement=function(){var R={it:[],prevViewData:[]};return R},CVShapeElement.prototype.createTransformElement=function(R){var y={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,R.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,R,this)}};return y},CVShapeElement.prototype.createShapeElement=function(R){var y=new CVShapeData(this,R,this.stylesList,this.transformsManager);return this.shapes.push(y),this.addShapeToModifiers(y),y},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var R,y=this.itemsData.length;for(R=0;R<y;R+=1)this.prevViewData[R]=this.itemsData[R];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),y=this.dynamicProperties.length,R=0;R<y;R+=1)this.dynamicProperties[R].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(R){var y,T=this.stylesList.length;for(y=0;y<T;y+=1)this.stylesList[y].closed||this.stylesList[y].transforms.push(R)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var R,y=this.stylesList.length;for(R=0;R<y;R+=1)this.stylesList[R].closed||this.stylesList[R].transforms.pop()},CVShapeElement.prototype.closeStyles=function(R){var y,T=R.length;for(y=0;y<T;y+=1)R[y].closed=!0},CVShapeElement.prototype.searchShapes=function(R,y,T,A,O){var z,U=R.length-1,G,J,ee=[],te=[],ae,oe,pe,fe=[].concat(O);for(z=U;z>=0;z-=1){if(ae=this.searchProcessedElement(R[z]),ae?y[z]=T[ae-1]:R[z]._shouldRender=A,R[z].ty==="fl"||R[z].ty==="st"||R[z].ty==="gf"||R[z].ty==="gs")ae?y[z].style.closed=!1:y[z]=this.createStyleElement(R[z],fe),ee.push(y[z].style);else if(R[z].ty==="gr"){if(!ae)y[z]=this.createGroupElement(R[z]);else for(J=y[z].it.length,G=0;G<J;G+=1)y[z].prevViewData[G]=y[z].it[G];this.searchShapes(R[z].it,y[z].it,y[z].prevViewData,A,fe)}else R[z].ty==="tr"?(ae||(pe=this.createTransformElement(R[z]),y[z]=pe),fe.push(y[z]),this.addTransformToStyleList(y[z])):R[z].ty==="sh"||R[z].ty==="rc"||R[z].ty==="el"||R[z].ty==="sr"?ae||(y[z]=this.createShapeElement(R[z])):R[z].ty==="tm"||R[z].ty==="rd"||R[z].ty==="pb"||R[z].ty==="zz"||R[z].ty==="op"?(ae?(oe=y[z],oe.closed=!1):(oe=ShapeModifiers.getModifier(R[z].ty),oe.init(this,R[z]),y[z]=oe,this.shapeModifiers.push(oe)),te.push(oe)):R[z].ty==="rp"&&(ae?(oe=y[z],oe.closed=!0):(oe=ShapeModifiers.getModifier(R[z].ty),y[z]=oe,oe.init(this,R,z,y),this.shapeModifiers.push(oe),A=!1),te.push(oe));this.addProcessedElement(R[z],z+1)}for(this.removeTransformFromStyleList(),this.closeStyles(ee),U=te.length,z=0;z<U;z+=1)te[z].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(R,y){(R._opMdf||y.op._mdf||this._isFirstFrame)&&(y.opacity=R.opacity,y.opacity*=y.op.v,y._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var R,y=this.stylesList.length,T,A,O,z,U,G,J=this.globalData.renderer,ee=this.globalData.canvasContext,te,ae;for(R=0;R<y;R+=1)if(ae=this.stylesList[R],te=ae.type,!((te==="st"||te==="gs")&&ae.wi===0||!ae.data._shouldRender||ae.coOp===0||this.globalData.currentGlobalAlpha===0)){for(J.save(),U=ae.elements,te==="st"||te==="gs"?(J.ctxStrokeStyle(te==="st"?ae.co:ae.grd),J.ctxLineWidth(ae.wi),J.ctxLineCap(ae.lc),J.ctxLineJoin(ae.lj),J.ctxMiterLimit(ae.ml||0)):J.ctxFillStyle(te==="fl"?ae.co:ae.grd),J.ctxOpacity(ae.coOp),te!=="st"&&te!=="gs"&&ee.beginPath(),J.ctxTransform(ae.preTransforms.finalTransform.props),A=U.length,T=0;T<A;T+=1){for((te==="st"||te==="gs")&&(ee.beginPath(),ae.da&&(ee.setLineDash(ae.da),ee.lineDashOffset=ae.do)),G=U[T].trNodes,z=G.length,O=0;O<z;O+=1)G[O].t==="m"?ee.moveTo(G[O].p[0],G[O].p[1]):G[O].t==="c"?ee.bezierCurveTo(G[O].pts[0],G[O].pts[1],G[O].pts[2],G[O].pts[3],G[O].pts[4],G[O].pts[5]):ee.closePath();(te==="st"||te==="gs")&&(J.ctxStroke(),ae.da&&ee.setLineDash(this.dashResetter))}te!=="st"&&te!=="gs"&&this.globalData.renderer.ctxFill(ae.r),J.restore()}},CVShapeElement.prototype.renderShape=function(R,y,T,A){var O,z=y.length-1,U;for(U=R,O=z;O>=0;O-=1)y[O].ty==="tr"?(U=T[O].transform,this.renderShapeTransform(R,U)):y[O].ty==="sh"||y[O].ty==="el"||y[O].ty==="rc"||y[O].ty==="sr"?this.renderPath(y[O],T[O]):y[O].ty==="fl"?this.renderFill(y[O],T[O],U):y[O].ty==="st"?this.renderStroke(y[O],T[O],U):y[O].ty==="gf"||y[O].ty==="gs"?this.renderGradientFill(y[O],T[O],U):y[O].ty==="gr"?this.renderShape(U,y[O].it,T[O].it):y[O].ty;A&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(R,y){if(this._isFirstFrame||y._mdf||R.transforms._mdf){var T=R.trNodes,A=y.paths,O,z,U,G=A._length;T.length=0;var J=R.transforms.finalTransform;for(U=0;U<G;U+=1){var ee=A.shapes[U];if(ee&&ee.v){for(z=ee._length,O=1;O<z;O+=1)O===1&&T.push({t:"m",p:J.applyToPointArray(ee.v[0][0],ee.v[0][1],0)}),T.push({t:"c",pts:J.applyToTriplePoints(ee.o[O-1],ee.i[O],ee.v[O])});z===1&&T.push({t:"m",p:J.applyToPointArray(ee.v[0][0],ee.v[0][1],0)}),ee.c&&z&&(T.push({t:"c",pts:J.applyToTriplePoints(ee.o[O-1],ee.i[0],ee.v[0])}),T.push({t:"z"}))}}R.trNodes=T}},CVShapeElement.prototype.renderPath=function(R,y){if(R.hd!==!0&&R._shouldRender){var T,A=y.styledShapes.length;for(T=0;T<A;T+=1)this.renderStyledShape(y.styledShapes[T],y.sh)}},CVShapeElement.prototype.renderFill=function(R,y,T){var A=y.style;(y.c._mdf||this._isFirstFrame)&&(A.co="rgb("+bmFloor(y.c.v[0])+","+bmFloor(y.c.v[1])+","+bmFloor(y.c.v[2])+")"),(y.o._mdf||T._opMdf||this._isFirstFrame)&&(A.coOp=y.o.v*T.opacity)},CVShapeElement.prototype.renderGradientFill=function(R,y,T){var A=y.style,O;if(!A.grd||y.g._mdf||y.s._mdf||y.e._mdf||R.t!==1&&(y.h._mdf||y.a._mdf)){var z=this.globalData.canvasContext,U=y.s.v,G=y.e.v;if(R.t===1)O=z.createLinearGradient(U[0],U[1],G[0],G[1]);else{var J=Math.sqrt(Math.pow(U[0]-G[0],2)+Math.pow(U[1]-G[1],2)),ee=Math.atan2(G[1]-U[1],G[0]-U[0]),te=y.h.v;te>=1?te=.99:te<=-1&&(te=-.99);var ae=J*te,oe=Math.cos(ee+y.a.v)*ae+U[0],pe=Math.sin(ee+y.a.v)*ae+U[1];O=z.createRadialGradient(oe,pe,0,U[0],U[1],J)}var fe,xe=R.g.p,ye=y.g.c,_e=1;for(fe=0;fe<xe;fe+=1)y.g._hasOpacity&&y.g._collapsable&&(_e=y.g.o[fe*2+1]),O.addColorStop(ye[fe*4]/100,"rgba("+ye[fe*4+1]+","+ye[fe*4+2]+","+ye[fe*4+3]+","+_e+")");A.grd=O}A.coOp=y.o.v*T.opacity},CVShapeElement.prototype.renderStroke=function(R,y,T){var A=y.style,O=y.d;O&&(O._mdf||this._isFirstFrame)&&(A.da=O.dashArray,A.do=O.dashoffset[0]),(y.c._mdf||this._isFirstFrame)&&(A.co="rgb("+bmFloor(y.c.v[0])+","+bmFloor(y.c.v[1])+","+bmFloor(y.c.v[2])+")"),(y.o._mdf||T._opMdf||this._isFirstFrame)&&(A.coOp=y.o.v*T.opacity),(y.w._mdf||this._isFirstFrame)&&(A.wi=y.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(R,y,T){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(R,y,T)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var R=this.textProperty.currentData;this.renderedLetters=createSizedArray(R.l?R.l.length:0);var y=!1;R.fc?(y=!0,this.values.fill=this.buildColor(R.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=y;var T=!1;R.sc&&(T=!0,this.values.stroke=this.buildColor(R.sc),this.values.sWidth=R.sw);var A=this.globalData.fontManager.getFontByName(R.f),O,z,U=R.l,G=this.mHelper;this.stroke=T,this.values.fValue=R.finalSize+"px "+this.globalData.fontManager.getFontByName(R.f).fFamily,z=R.finalText.length;var J,ee,te,ae,oe,pe,fe,xe,ye,_e,Le=this.data.singleShape,je=R.tr*.001*R.finalSize,Ne=0,$e=0,Ue=!0,He=0;for(O=0;O<z;O+=1){J=this.globalData.fontManager.getCharData(R.finalText[O],A.fStyle,this.globalData.fontManager.getFontByName(R.f).fFamily),ee=J&&J.data||{},G.reset(),Le&&U[O].n&&(Ne=-je,$e+=R.yOffset,$e+=Ue?1:0,Ue=!1),oe=ee.shapes?ee.shapes[0].it:[],fe=oe.length,G.scale(R.finalSize/100,R.finalSize/100),Le&&this.applyTextPropertiesToMatrix(R,G,U[O].line,Ne,$e),ye=createSizedArray(fe-1);var ze=0;for(pe=0;pe<fe;pe+=1)if(oe[pe].ty==="sh"){for(ae=oe[pe].ks.k.i.length,xe=oe[pe].ks.k,_e=[],te=1;te<ae;te+=1)te===1&&_e.push(G.applyToX(xe.v[0][0],xe.v[0][1],0),G.applyToY(xe.v[0][0],xe.v[0][1],0)),_e.push(G.applyToX(xe.o[te-1][0],xe.o[te-1][1],0),G.applyToY(xe.o[te-1][0],xe.o[te-1][1],0),G.applyToX(xe.i[te][0],xe.i[te][1],0),G.applyToY(xe.i[te][0],xe.i[te][1],0),G.applyToX(xe.v[te][0],xe.v[te][1],0),G.applyToY(xe.v[te][0],xe.v[te][1],0));_e.push(G.applyToX(xe.o[te-1][0],xe.o[te-1][1],0),G.applyToY(xe.o[te-1][0],xe.o[te-1][1],0),G.applyToX(xe.i[0][0],xe.i[0][1],0),G.applyToY(xe.i[0][0],xe.i[0][1],0),G.applyToX(xe.v[0][0],xe.v[0][1],0),G.applyToY(xe.v[0][0],xe.v[0][1],0)),ye[ze]=_e,ze+=1}Le&&(Ne+=U[O].l,Ne+=je),this.textSpans[He]?this.textSpans[He].elem=ye:this.textSpans[He]={elem:ye},He+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var R=this.canvasContext;R.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var y,T,A,O,z,U,G=this.textAnimator.renderedLetters,J=this.textProperty.currentData.l;T=J.length;var ee,te=null,ae=null,oe=null,pe,fe,xe=this.globalData.renderer;for(y=0;y<T;y+=1)if(!J[y].n){if(ee=G[y],ee&&(xe.save(),xe.ctxTransform(ee.p),xe.ctxOpacity(ee.o)),this.fill){for(ee&&ee.fc?te!==ee.fc&&(xe.ctxFillStyle(ee.fc),te=ee.fc):te!==this.values.fill&&(te=this.values.fill,xe.ctxFillStyle(this.values.fill)),pe=this.textSpans[y].elem,O=pe.length,this.globalData.canvasContext.beginPath(),A=0;A<O;A+=1)for(fe=pe[A],U=fe.length,this.globalData.canvasContext.moveTo(fe[0],fe[1]),z=2;z<U;z+=6)this.globalData.canvasContext.bezierCurveTo(fe[z],fe[z+1],fe[z+2],fe[z+3],fe[z+4],fe[z+5]);this.globalData.canvasContext.closePath(),xe.ctxFill()}if(this.stroke){for(ee&&ee.sw?oe!==ee.sw&&(oe=ee.sw,xe.ctxLineWidth(ee.sw)):oe!==this.values.sWidth&&(oe=this.values.sWidth,xe.ctxLineWidth(this.values.sWidth)),ee&&ee.sc?ae!==ee.sc&&(ae=ee.sc,xe.ctxStrokeStyle(ee.sc)):ae!==this.values.stroke&&(ae=this.values.stroke,xe.ctxStrokeStyle(this.values.stroke)),pe=this.textSpans[y].elem,O=pe.length,this.globalData.canvasContext.beginPath(),A=0;A<O;A+=1)for(fe=pe[A],U=fe.length,this.globalData.canvasContext.moveTo(fe[0],fe[1]),z=2;z<U;z+=6)this.globalData.canvasContext.bezierCurveTo(fe[z],fe[z+1],fe[z+2],fe[z+3],fe[z+4],fe[z+5]);this.globalData.canvasContext.closePath(),xe.ctxStroke()}ee&&this.globalData.renderer.restore()}};function CVImageElement(R,y,T){this.assetData=y.getAssetData(R.refId),this.img=y.imageLoader.getAsset(this.assetData),this.initElement(R,y,T)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var R=createTag("canvas");R.width=this.assetData.w,R.height=this.assetData.h;var y=R.getContext("2d"),T=this.img.width,A=this.img.height,O=T/A,z=this.assetData.w/this.assetData.h,U,G,J=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;O>z&&J==="xMidYMid slice"||O<z&&J!=="xMidYMid slice"?(G=A,U=G*z):(U=T,G=U/z),y.drawImage(this.img,(T-U)/2,(A-G)/2,U,G,0,0,this.assetData.w,this.assetData.h),this.img=R}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(R,y,T){this.initElement(R,y,T)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(R){return new CVShapeElement(R,this.globalData,this)},CanvasRendererBase.prototype.createText=function(R){return new CVTextElement(R,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(R){return new CVImageElement(R,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(R){return new CVSolidElement(R,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(R){R[0]===1&&R[1]===0&&R[4]===0&&R[5]===1&&R[12]===0&&R[13]===0||this.canvasContext.transform(R[0],R[1],R[4],R[5],R[12],R[13])},CanvasRendererBase.prototype.ctxOpacity=function(R){this.canvasContext.globalAlpha*=R<0?0:R},CanvasRendererBase.prototype.ctxFillStyle=function(R){this.canvasContext.fillStyle=R},CanvasRendererBase.prototype.ctxStrokeStyle=function(R){this.canvasContext.strokeStyle=R},CanvasRendererBase.prototype.ctxLineWidth=function(R){this.canvasContext.lineWidth=R},CanvasRendererBase.prototype.ctxLineCap=function(R){this.canvasContext.lineCap=R},CanvasRendererBase.prototype.ctxLineJoin=function(R){this.canvasContext.lineJoin=R},CanvasRendererBase.prototype.ctxMiterLimit=function(R){this.canvasContext.miterLimit=R},CanvasRendererBase.prototype.ctxFill=function(R){this.canvasContext.fill(R)},CanvasRendererBase.prototype.ctxFillRect=function(R,y,T,A){this.canvasContext.fillRect(R,y,T,A)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(R){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}R&&(this.globalData.blendMode="source-over"),this.contextData.restore(R)},CanvasRendererBase.prototype.configAnimation=function(R){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var y=this.animationItem.container.style;y.width="100%",y.height="100%";var T="0px 0px 0px";y.transformOrigin=T,y.mozTransformOrigin=T,y.webkitTransformOrigin=T,y["-webkit-transform"]=T,y.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=R,this.layers=R.layers,this.transformCanvas={w:R.w,h:R.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(R,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(R.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(R,y){this.reset();var T,A;R?(T=R,A=y,this.canvasContext.canvas.width=T,this.canvasContext.canvas.height=A):(this.animationItem.wrapper&&this.animationItem.container?(T=this.animationItem.wrapper.offsetWidth,A=this.animationItem.wrapper.offsetHeight):(T=this.canvasContext.canvas.width,A=this.canvasContext.canvas.height),this.canvasContext.canvas.width=T*this.renderConfig.dpr,this.canvasContext.canvas.height=A*this.renderConfig.dpr);var O,z;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var U=this.renderConfig.preserveAspectRatio.split(" "),G=U[1]||"meet",J=U[0]||"xMidYMid",ee=J.substr(0,4),te=J.substr(4);O=T/A,z=this.transformCanvas.w/this.transformCanvas.h,z>O&&G==="meet"||z<O&&G==="slice"?(this.transformCanvas.sx=T/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=T/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=A/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=A/(this.transformCanvas.h/this.renderConfig.dpr)),ee==="xMid"&&(z<O&&G==="meet"||z>O&&G==="slice")?this.transformCanvas.tx=(T-this.transformCanvas.w*(A/this.transformCanvas.h))/2*this.renderConfig.dpr:ee==="xMax"&&(z<O&&G==="meet"||z>O&&G==="slice")?this.transformCanvas.tx=(T-this.transformCanvas.w*(A/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,te==="YMid"&&(z>O&&G==="meet"||z<O&&G==="slice")?this.transformCanvas.ty=(A-this.transformCanvas.h*(T/this.transformCanvas.w))/2*this.renderConfig.dpr:te==="YMax"&&(z>O&&G==="meet"||z<O&&G==="slice")?this.transformCanvas.ty=(A-this.transformCanvas.h*(T/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=T/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=A/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var R,y=this.layers?this.layers.length:0;for(R=y-1;R>=0;R-=1)this.elements[R]&&this.elements[R].destroy&&this.elements[R].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(R,y){if(!(this.renderedFrame===R&&this.renderConfig.clearCanvas===!0&&!y||this.destroyed||R===-1)){this.renderedFrame=R,this.globalData.frameNum=R-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||y,this.globalData.projectInterface.currentFrame=R;var T,A=this.layers.length;for(this.completeLayers||this.checkLayers(R),T=A-1;T>=0;T-=1)(this.completeLayers||this.elements[T])&&this.elements[T].prepareFrame(R-this.layers[T].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),T=A-1;T>=0;T-=1)(this.completeLayers||this.elements[T])&&this.elements[T].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(R){var y=this.elements;if(!(y[R]||this.layers[R].ty===99)){var T=this.createItem(this.layers[R],this,this.globalData);y[R]=T,T.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var R=this.pendingElements.pop();R.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var R,y=15;for(R=0;R<y;R+=1){var T=new CanvasContext;this.stack[R]=T}this._length=y,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var R=this._length*2,y=0;for(y=this._length;y<R;y+=1)this.stack[y]=new CanvasContext;this._length=R},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(R){this.cArrPos-=1;var y=this.stack[this.cArrPos],T=y.transform,A,O=this.cTr.props;for(A=0;A<16;A+=1)O[A]=T[A];if(R){this.nativeContext.restore();var z=this.stack[this.cArrPos+1];this.appliedFillStyle=z.fillStyle,this.appliedStrokeStyle=z.strokeStyle,this.appliedLineWidth=z.lineWidth,this.appliedLineCap=z.lineCap,this.appliedLineJoin=z.lineJoin,this.appliedMiterLimit=z.miterLimit}this.nativeContext.setTransform(T[0],T[1],T[4],T[5],T[12],T[13]),(R||y.opacity!==-1&&this.currentOpacity!==y.opacity)&&(this.nativeContext.globalAlpha=y.opacity,this.currentOpacity=y.opacity),this.currentFillStyle=y.fillStyle,this.currentStrokeStyle=y.strokeStyle,this.currentLineWidth=y.lineWidth,this.currentLineCap=y.lineCap,this.currentLineJoin=y.lineJoin,this.currentMiterLimit=y.miterLimit},CVContextData.prototype.save=function(R){R&&this.nativeContext.save();var y=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var T=this.stack[this.cArrPos],A;for(A=0;A<16;A+=1)T.transform[A]=y[A];this.cArrPos+=1;var O=this.stack[this.cArrPos];O.opacity=T.opacity,O.fillStyle=T.fillStyle,O.strokeStyle=T.strokeStyle,O.lineWidth=T.lineWidth,O.lineCap=T.lineCap,O.lineJoin=T.lineJoin,O.miterLimit=T.miterLimit},CVContextData.prototype.setOpacity=function(R){this.stack[this.cArrPos].opacity=R},CVContextData.prototype.setContext=function(R){this.nativeContext=R},CVContextData.prototype.fillStyle=function(R){this.stack[this.cArrPos].fillStyle!==R&&(this.currentFillStyle=R,this.stack[this.cArrPos].fillStyle=R)},CVContextData.prototype.strokeStyle=function(R){this.stack[this.cArrPos].strokeStyle!==R&&(this.currentStrokeStyle=R,this.stack[this.cArrPos].strokeStyle=R)},CVContextData.prototype.lineWidth=function(R){this.stack[this.cArrPos].lineWidth!==R&&(this.currentLineWidth=R,this.stack[this.cArrPos].lineWidth=R)},CVContextData.prototype.lineCap=function(R){this.stack[this.cArrPos].lineCap!==R&&(this.currentLineCap=R,this.stack[this.cArrPos].lineCap=R)},CVContextData.prototype.lineJoin=function(R){this.stack[this.cArrPos].lineJoin!==R&&(this.currentLineJoin=R,this.stack[this.cArrPos].lineJoin=R)},CVContextData.prototype.miterLimit=function(R){this.stack[this.cArrPos].miterLimit!==R&&(this.currentMiterLimit=R,this.stack[this.cArrPos].miterLimit=R)},CVContextData.prototype.transform=function(R){this.transformMat.cloneFromProps(R);var y=this.cTr;this.transformMat.multiply(y),y.cloneFromProps(this.transformMat.props);var T=y.props;this.nativeContext.setTransform(T[0],T[1],T[4],T[5],T[12],T[13])},CVContextData.prototype.opacity=function(R){var y=this.stack[this.cArrPos].opacity;y*=R<0?0:R,this.stack[this.cArrPos].opacity!==y&&(this.currentOpacity!==R&&(this.nativeContext.globalAlpha=R,this.currentOpacity=R),this.stack[this.cArrPos].opacity=y)},CVContextData.prototype.fill=function(R){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(R)},CVContextData.prototype.fillRect=function(R,y,T,A){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(R,y,T,A)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(R,y,T){this.completeLayers=!1,this.layers=R.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(R,y,T),this.tm=R.tm?PropertyFactory.getProp(this,R.tm,0,y.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var R=this.canvasContext;R.beginPath(),R.moveTo(0,0),R.lineTo(this.data.w,0),R.lineTo(this.data.w,this.data.h),R.lineTo(0,this.data.h),R.lineTo(0,0),R.clip();var y,T=this.layers.length;for(y=T-1;y>=0;y-=1)(this.completeLayers||this.elements[y])&&this.elements[y].renderFrame()},CVCompElement.prototype.destroy=function(){var R,y=this.layers.length;for(R=y-1;R>=0;R-=1)this.elements[R]&&this.elements[R].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(R){return new CVCompElement(R,this.globalData,this)};function CanvasRenderer(R,y){this.animationItem=R,this.renderConfig={clearCanvas:y&&y.clearCanvas!==void 0?y.clearCanvas:!0,context:y&&y.context||null,progressiveLoad:y&&y.progressiveLoad||!1,preserveAspectRatio:y&&y.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:y&&y.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:y&&y.contentVisibility||"visible",className:y&&y.className||"",id:y&&y.id||"",runExpressions:!y||y.runExpressions===void 0||y.runExpressions},this.renderConfig.dpr=y&&y.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=y&&y.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(R){return new CVCompElement(R,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var y=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var T=this.finalTransform.mat.toCSS();y.transform=T,y.webkitTransform=T}this.finalTransform._opMdf&&(y.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(R,y,T){this.initElement(R,y,T)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var R;this.data.hasMask?(R=createNS("rect"),R.setAttribute("width",this.data.sw),R.setAttribute("height",this.data.sh),R.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(R=createTag("div"),R.style.width=this.data.sw+"px",R.style.height=this.data.sh+"px",R.style.backgroundColor=this.data.sc),this.layerElement.appendChild(R)};function HShapeElement(R,y,T){this.shapes=[],this.shapesData=R.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(R,y,T),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var R;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),R=this.svgElement;else{R=createNS("svg");var y=this.comp.data?this.comp.data:this.globalData.compSize;R.setAttribute("width",y.w),R.setAttribute("height",y.h),R.appendChild(this.shapesContainer),this.layerElement.appendChild(R)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=R},HShapeElement.prototype.getTransformedPoint=function(R,y){var T,A=R.length;for(T=0;T<A;T+=1)y=R[T].mProps.v.applyToPointArray(y[0],y[1],0);return y},HShapeElement.prototype.calculateShapeBoundingBox=function(R,y){var T=R.sh.v,A=R.transformers,O,z=T._length,U,G,J,ee;if(!(z<=1)){for(O=0;O<z-1;O+=1)U=this.getTransformedPoint(A,T.v[O]),G=this.getTransformedPoint(A,T.o[O]),J=this.getTransformedPoint(A,T.i[O+1]),ee=this.getTransformedPoint(A,T.v[O+1]),this.checkBounds(U,G,J,ee,y);T.c&&(U=this.getTransformedPoint(A,T.v[O]),G=this.getTransformedPoint(A,T.o[O]),J=this.getTransformedPoint(A,T.i[0]),ee=this.getTransformedPoint(A,T.v[0]),this.checkBounds(U,G,J,ee,y))}},HShapeElement.prototype.checkBounds=function(R,y,T,A,O){this.getBoundsOfCurve(R,y,T,A);var z=this.shapeBoundingBox;O.x=bmMin(z.left,O.x),O.xMax=bmMax(z.right,O.xMax),O.y=bmMin(z.top,O.y),O.yMax=bmMax(z.bottom,O.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(R,y,T,A){for(var O=[[R[0],A[0]],[R[1],A[1]]],z,U,G,J,ee,te,ae,oe=0;oe<2;++oe)U=6*R[oe]-12*y[oe]+6*T[oe],z=-3*R[oe]+9*y[oe]-9*T[oe]+3*A[oe],G=3*y[oe]-3*R[oe],U|=0,z|=0,G|=0,z===0&&U===0||(z===0?(J=-G/U,J>0&&J<1&&O[oe].push(this.calculateF(J,R,y,T,A,oe))):(ee=U*U-4*G*z,ee>=0&&(te=(-U+bmSqrt(ee))/(2*z),te>0&&te<1&&O[oe].push(this.calculateF(te,R,y,T,A,oe)),ae=(-U-bmSqrt(ee))/(2*z),ae>0&&ae<1&&O[oe].push(this.calculateF(ae,R,y,T,A,oe)))));this.shapeBoundingBox.left=bmMin.apply(null,O[0]),this.shapeBoundingBox.top=bmMin.apply(null,O[1]),this.shapeBoundingBox.right=bmMax.apply(null,O[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,O[1])},HShapeElement.prototype.calculateF=function(R,y,T,A,O,z){return bmPow(1-R,3)*y[z]+3*bmPow(1-R,2)*R*T[z]+3*(1-R)*bmPow(R,2)*A[z]+bmPow(R,3)*O[z]},HShapeElement.prototype.calculateBoundingBox=function(R,y){var T,A=R.length;for(T=0;T<A;T+=1)R[T]&&R[T].sh?this.calculateShapeBoundingBox(R[T],y):R[T]&&R[T].it?this.calculateBoundingBox(R[T].it,y):R[T]&&R[T].style&&R[T].w&&this.expandStrokeBoundingBox(R[T].w,y)},HShapeElement.prototype.expandStrokeBoundingBox=function(R,y){var T=0;if(R.keyframes){for(var A=0;A<R.keyframes.length;A+=1){var O=R.keyframes[A].s;O>T&&(T=O)}T*=R.mult}else T=R.v*R.mult;y.x-=T,y.xMax+=T,y.y-=T,y.yMax+=T},HShapeElement.prototype.currentBoxContains=function(R){return this.currentBBox.x<=R.x&&this.currentBBox.y<=R.y&&this.currentBBox.width+this.currentBBox.x>=R.x+R.width&&this.currentBBox.height+this.currentBBox.y>=R.y+R.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var R=this.tempBoundingBox,y=999999;if(R.x=y,R.xMax=-y,R.y=y,R.yMax=-y,this.calculateBoundingBox(this.itemsData,R),R.width=R.xMax<R.x?0:R.xMax-R.x,R.height=R.yMax<R.y?0:R.yMax-R.y,this.currentBoxContains(R))return;var T=!1;if(this.currentBBox.w!==R.width&&(this.currentBBox.w=R.width,this.shapeCont.setAttribute("width",R.width),T=!0),this.currentBBox.h!==R.height&&(this.currentBBox.h=R.height,this.shapeCont.setAttribute("height",R.height),T=!0),T||this.currentBBox.x!==R.x||this.currentBBox.y!==R.y){this.currentBBox.w=R.width,this.currentBBox.h=R.height,this.currentBBox.x=R.x,this.currentBBox.y=R.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var A=this.shapeCont.style,O="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";A.transform=O,A.webkitTransform=O}}};function HTextElement(R,y,T){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(R,y,T)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var R=createNS("g");this.maskedElement.appendChild(R),this.innerElem=R}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var R=this.textProperty.currentData;this.renderedLetters=createSizedArray(R.l?R.l.length:0);var y=this.innerElem.style,T=R.fc?this.buildColor(R.fc):"rgba(0,0,0,0)";y.fill=T,y.color=T,R.sc&&(y.stroke=this.buildColor(R.sc),y.strokeWidth=R.sw+"px");var A=this.globalData.fontManager.getFontByName(R.f);if(!this.globalData.fontManager.chars)if(y.fontSize=R.finalSize+"px",y.lineHeight=R.finalSize+"px",A.fClass)this.innerElem.className=A.fClass;else{y.fontFamily=A.fFamily;var O=R.fWeight,z=R.fStyle;y.fontStyle=z,y.fontWeight=O}var U,G,J=R.l;G=J.length;var ee,te,ae,oe=this.mHelper,pe,fe="",xe=0;for(U=0;U<G;U+=1){if(this.globalData.fontManager.chars?(this.textPaths[xe]?ee=this.textPaths[xe]:(ee=createNS("path"),ee.setAttribute("stroke-linecap",lineCapEnum[1]),ee.setAttribute("stroke-linejoin",lineJoinEnum[2]),ee.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[xe]?(te=this.textSpans[xe],ae=te.children[0]):(te=createTag("div"),te.style.lineHeight=0,ae=createNS("svg"),ae.appendChild(ee),styleDiv(te)))):this.isMasked?ee=this.textPaths[xe]?this.textPaths[xe]:createNS("text"):this.textSpans[xe]?(te=this.textSpans[xe],ee=this.textPaths[xe]):(te=createTag("span"),styleDiv(te),ee=createTag("span"),styleDiv(ee),te.appendChild(ee)),this.globalData.fontManager.chars){var ye=this.globalData.fontManager.getCharData(R.finalText[U],A.fStyle,this.globalData.fontManager.getFontByName(R.f).fFamily),_e;if(ye?_e=ye.data:_e=null,oe.reset(),_e&&_e.shapes&&_e.shapes.length&&(pe=_e.shapes[0].it,oe.scale(R.finalSize/100,R.finalSize/100),fe=this.createPathShape(oe,pe),ee.setAttribute("d",fe)),this.isMasked)this.innerElem.appendChild(ee);else{if(this.innerElem.appendChild(te),_e&&_e.shapes){document.body.appendChild(ae);var Le=ae.getBBox();ae.setAttribute("width",Le.width+2),ae.setAttribute("height",Le.height+2),ae.setAttribute("viewBox",Le.x-1+" "+(Le.y-1)+" "+(Le.width+2)+" "+(Le.height+2));var je=ae.style,Ne="translate("+(Le.x-1)+"px,"+(Le.y-1)+"px)";je.transform=Ne,je.webkitTransform=Ne,J[U].yOffset=Le.y-1}else ae.setAttribute("width",1),ae.setAttribute("height",1);te.appendChild(ae)}}else if(ee.textContent=J[U].val,ee.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(ee);else{this.innerElem.appendChild(te);var $e=ee.style,Ue="translate3d(0,"+-R.finalSize/1.2+"px,0)";$e.transform=Ue,$e.webkitTransform=Ue}this.isMasked?this.textSpans[xe]=ee:this.textSpans[xe]=te,this.textSpans[xe].style.display="block",this.textPaths[xe]=ee,xe+=1}for(;xe<this.textSpans.length;)this.textSpans[xe].style.display="none",xe+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var R;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),R=this.svgElement.style;var y="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";R.transform=y,R.webkitTransform=y}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var T,A,O=0,z=this.textAnimator.renderedLetters,U=this.textProperty.currentData.l;A=U.length;var G,J,ee;for(T=0;T<A;T+=1)U[T].n?O+=1:(J=this.textSpans[T],ee=this.textPaths[T],G=z[O],O+=1,G._mdf.m&&(this.isMasked?J.setAttribute("transform",G.m):(J.style.webkitTransform=G.m,J.style.transform=G.m)),J.style.opacity=G.o,G.sw&&G._mdf.sw&&ee.setAttribute("stroke-width",G.sw),G.sc&&G._mdf.sc&&ee.setAttribute("stroke",G.sc),G.fc&&G._mdf.fc&&(ee.setAttribute("fill",G.fc),ee.style.color=G.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var te=this.innerElem.getBBox();this.currentBBox.w!==te.width&&(this.currentBBox.w=te.width,this.svgElement.setAttribute("width",te.width)),this.currentBBox.h!==te.height&&(this.currentBBox.h=te.height,this.svgElement.setAttribute("height",te.height));var ae=1;if(this.currentBBox.w!==te.width+ae*2||this.currentBBox.h!==te.height+ae*2||this.currentBBox.x!==te.x-ae||this.currentBBox.y!==te.y-ae){this.currentBBox.w=te.width+ae*2,this.currentBBox.h=te.height+ae*2,this.currentBBox.x=te.x-ae,this.currentBBox.y=te.y-ae,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),R=this.svgElement.style;var oe="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";R.transform=oe,R.webkitTransform=oe}}}};function HCameraElement(R,y,T){this.initFrame(),this.initBaseData(R,y,T),this.initHierarchy();var A=PropertyFactory.getProp;if(this.pe=A(this,R.pe,0,0,this),R.ks.p.s?(this.px=A(this,R.ks.p.x,1,0,this),this.py=A(this,R.ks.p.y,1,0,this),this.pz=A(this,R.ks.p.z,1,0,this)):this.p=A(this,R.ks.p,1,0,this),R.ks.a&&(this.a=A(this,R.ks.a,1,0,this)),R.ks.or.k.length&&R.ks.or.k[0].to){var O,z=R.ks.or.k.length;for(O=0;O<z;O+=1)R.ks.or.k[O].to=null,R.ks.or.k[O].ti=null}this.or=A(this,R.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=A(this,R.ks.rx,0,degToRads,this),this.ry=A(this,R.ks.ry,0,degToRads,this),this.rz=A(this,R.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var R,y=this.comp.threeDElements.length,T,A,O;for(R=0;R<y;R+=1)if(T=this.comp.threeDElements[R],T.type==="3d"){A=T.perspectiveElem.style,O=T.container.style;var z=this.pe.v+"px",U="0px 0px 0px",G="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";A.perspective=z,A.webkitPerspective=z,O.transformOrigin=U,O.mozTransformOrigin=U,O.webkitTransformOrigin=U,A.transform=G,A.webkitTransform=G}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var R=this._isFirstFrame,y,T;if(this.hierarchy)for(T=this.hierarchy.length,y=0;y<T;y+=1)R=this.hierarchy[y].finalTransform.mProp._mdf||R;if(R||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(T=this.hierarchy.length-1,y=T;y>=0;y-=1){var A=this.hierarchy[y].finalTransform.mProp;this.mat.translate(-A.p.v[0],-A.p.v[1],A.p.v[2]),this.mat.rotateX(-A.or.v[0]).rotateY(-A.or.v[1]).rotateZ(A.or.v[2]),this.mat.rotateX(-A.rx.v).rotateY(-A.ry.v).rotateZ(A.rz.v),this.mat.scale(1/A.s.v[0],1/A.s.v[1],1/A.s.v[2]),this.mat.translate(A.a.v[0],A.a.v[1],A.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var O;this.p?O=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:O=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var z=Math.sqrt(Math.pow(O[0],2)+Math.pow(O[1],2)+Math.pow(O[2],2)),U=[O[0]/z,O[1]/z,O[2]/z],G=Math.sqrt(U[2]*U[2]+U[0]*U[0]),J=Math.atan2(U[1],G),ee=Math.atan2(U[0],-U[2]);this.mat.rotateY(ee).rotateX(-J)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var te=!this._prevMat.equals(this.mat);if((te||this.pe._mdf)&&this.comp.threeDElements){T=this.comp.threeDElements.length;var ae,oe,pe;for(y=0;y<T;y+=1)if(ae=this.comp.threeDElements[y],ae.type==="3d"){if(te){var fe=this.mat.toCSS();pe=ae.container.style,pe.transform=fe,pe.webkitTransform=fe}this.pe._mdf&&(oe=ae.perspectiveElem.style,oe.perspective=this.pe.v+"px",oe.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(R){this.prepareProperties(R,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(R,y,T){this.assetData=y.getAssetData(R.refId),this.initElement(R,y,T)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var R=this.globalData.getAssetsPath(this.assetData),y=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",R),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(y),y.crossOrigin="anonymous",y.src=R,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(R,y){this.animationItem=R,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:y&&y.className||"",imagePreserveAspectRatio:y&&y.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(y&&y.hideOnTransparent===!1),filterSize:{width:y&&y.filterSize&&y.filterSize.width||"400%",height:y&&y.filterSize&&y.filterSize.height||"400%",x:y&&y.filterSize&&y.filterSize.x||"-100%",y:y&&y.filterSize&&y.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var R=this.pendingElements.pop();R.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(R,y){var T=R.getBaseElement();if(T){var A=this.layers[y];if(!A.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(T,y);else{for(var O=0,z,U,G;O<y;)this.elements[O]&&this.elements[O]!==!0&&this.elements[O].getBaseElement&&(U=this.elements[O],G=this.layers[O].ddd?this.getThreeDContainerByPos(O):U.getBaseElement(),z=G||z),O+=1;z?(!A.ddd||!this.supports3d)&&this.layerElement.insertBefore(T,z):(!A.ddd||!this.supports3d)&&this.layerElement.appendChild(T)}else this.addTo3dContainer(T,y)}},HybridRendererBase.prototype.createShape=function(R){return this.supports3d?new HShapeElement(R,this.globalData,this):new SVGShapeElement(R,this.globalData,this)},HybridRendererBase.prototype.createText=function(R){return this.supports3d?new HTextElement(R,this.globalData,this):new SVGTextLottieElement(R,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(R){return this.camera=new HCameraElement(R,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(R){return this.supports3d?new HImageElement(R,this.globalData,this):new IImageElement(R,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(R){return this.supports3d?new HSolidElement(R,this.globalData,this):new ISolidElement(R,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(R){for(var y=0,T=this.threeDElements.length;y<T;){if(this.threeDElements[y].startPos<=R&&this.threeDElements[y].endPos>=R)return this.threeDElements[y].perspectiveElem;y+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(R,y){var T=createTag("div"),A,O;styleDiv(T);var z=createTag("div");if(styleDiv(z),y==="3d"){A=T.style,A.width=this.globalData.compSize.w+"px",A.height=this.globalData.compSize.h+"px";var U="50% 50%";A.webkitTransformOrigin=U,A.mozTransformOrigin=U,A.transformOrigin=U,O=z.style;var G="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";O.transform=G,O.webkitTransform=G}T.appendChild(z);var J={container:z,perspectiveElem:T,startPos:R,endPos:R,type:y};return this.threeDElements.push(J),J},HybridRendererBase.prototype.build3dContainers=function(){var R,y=this.layers.length,T,A="";for(R=0;R<y;R+=1)this.layers[R].ddd&&this.layers[R].ty!==3?(A!=="3d"&&(A="3d",T=this.createThreeDContainer(R,"3d")),T.endPos=Math.max(T.endPos,R)):(A!=="2d"&&(A="2d",T=this.createThreeDContainer(R,"2d")),T.endPos=Math.max(T.endPos,R));for(y=this.threeDElements.length,R=y-1;R>=0;R-=1)this.resizerElem.appendChild(this.threeDElements[R].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(R,y){for(var T=0,A=this.threeDElements.length;T<A;){if(y<=this.threeDElements[T].endPos){for(var O=this.threeDElements[T].startPos,z;O<y;)this.elements[O]&&this.elements[O].getBaseElement&&(z=this.elements[O].getBaseElement()),O+=1;z?this.threeDElements[T].container.insertBefore(R,z):this.threeDElements[T].container.appendChild(R);break}T+=1}},HybridRendererBase.prototype.configAnimation=function(R){var y=createTag("div"),T=this.animationItem.wrapper,A=y.style;A.width=R.w+"px",A.height=R.h+"px",this.resizerElem=y,styleDiv(y),A.transformStyle="flat",A.mozTransformStyle="flat",A.webkitTransformStyle="flat",this.renderConfig.className&&y.setAttribute("class",this.renderConfig.className),T.appendChild(y),A.overflow="hidden";var O=createNS("svg");O.setAttribute("width","1"),O.setAttribute("height","1"),styleDiv(O),this.resizerElem.appendChild(O);var z=createNS("defs");O.appendChild(z),this.data=R,this.setupGlobalData(R,O),this.globalData.defs=z,this.layers=R.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var R,y=this.layers?this.layers.length:0;for(R=0;R<y;R+=1)this.elements[R]&&this.elements[R].destroy&&this.elements[R].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var R=this.animationItem.wrapper.offsetWidth,y=this.animationItem.wrapper.offsetHeight,T=R/y,A=this.globalData.compSize.w/this.globalData.compSize.h,O,z,U,G;A>T?(O=R/this.globalData.compSize.w,z=R/this.globalData.compSize.w,U=0,G=(y-this.globalData.compSize.h*(R/this.globalData.compSize.w))/2):(O=y/this.globalData.compSize.h,z=y/this.globalData.compSize.h,U=(R-this.globalData.compSize.w*(y/this.globalData.compSize.h))/2,G=0);var J=this.resizerElem.style;J.webkitTransform="matrix3d("+O+",0,0,0,0,"+z+",0,0,0,0,1,0,"+U+","+G+",0,1)",J.transform=J.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var R=this.globalData.compSize.w,y=this.globalData.compSize.h,T,A=this.threeDElements.length;for(T=0;T<A;T+=1){var O=this.threeDElements[T].perspectiveElem.style;O.webkitPerspective=Math.sqrt(Math.pow(R,2)+Math.pow(y,2))+"px",O.perspective=O.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(R){var y,T=R.length,A=createTag("div");for(y=0;y<T;y+=1)if(R[y].xt){var O=this.createComp(R[y],A,this.globalData.comp,null);O.initExpressions(),this.globalData.projectInterface.registerComposition(O)}};function HCompElement(R,y,T){this.layers=R.layers,this.supports3d=!R.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(R,y,T),this.tm=R.tm?PropertyFactory.getProp(this,R.tm,0,y.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(R,y){for(var T=0,A;T<y;)this.elements[T]&&this.elements[T].getBaseElement&&(A=this.elements[T].getBaseElement()),T+=1;A?this.layerElement.insertBefore(R,A):this.layerElement.appendChild(R)},HCompElement.prototype.createComp=function(R){return this.supports3d?new HCompElement(R,this.globalData,this):new SVGCompElement(R,this.globalData,this)};function HybridRenderer(R,y){this.animationItem=R,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:y&&y.className||"",imagePreserveAspectRatio:y&&y.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(y&&y.hideOnTransparent===!1),filterSize:{width:y&&y.filterSize&&y.filterSize.width||"400%",height:y&&y.filterSize&&y.filterSize.height||"400%",x:y&&y.filterSize&&y.filterSize.x||"-100%",y:y&&y.filterSize&&y.filterSize.y||"-100%"},runExpressions:!y||y.runExpressions===void 0||y.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(R){return this.supports3d?new HCompElement(R,this.globalData,this):new SVGCompElement(R,this.globalData,this)};var CompExpressionInterface=(function(){return function(R){function y(T){for(var A=0,O=R.layers.length;A<O;){if(R.layers[A].nm===T||R.layers[A].ind===T)return R.elements[A].layerInterface;A+=1}return null}return Object.defineProperty(y,"_name",{value:R.data.nm}),y.layer=y,y.pixelAspect=1,y.height=R.data.h||R.globalData.compSize.h,y.width=R.data.w||R.globalData.compSize.w,y.pixelAspect=1,y.frameDuration=1/R.globalData.frameRate,y.displayStartTime=0,y.numLayers=R.layers.length,y}})();function _typeof$2(R){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},_typeof$2(R)}function seedRandom(R,y){var T=this,A=256,O=6,z=52,U="random",G=y.pow(A,O),J=y.pow(2,z),ee=J*2,te=A-1,ae;function oe(je,Ne,$e){var Ue=[];Ne=Ne===!0?{entropy:!0}:Ne||{};var He=ye(xe(Ne.entropy?[je,Le(R)]:je===null?_e():je,3),Ue),ze=new pe(Ue),Ke=function(){for(var Ze=ze.g(O),rt=G,nt=0;Ze<J;)Ze=(Ze+nt)*A,rt*=A,nt=ze.g(1);for(;Ze>=ee;)Ze/=2,rt/=2,nt>>>=1;return(Ze+nt)/rt};return Ke.int32=function(){return ze.g(4)|0},Ke.quick=function(){return ze.g(4)/4294967296},Ke.double=Ke,ye(Le(ze.S),R),(Ne.pass||$e||function(Je,Ze,rt,nt){return nt&&(nt.S&&fe(nt,ze),Je.state=function(){return fe(ze,{})}),rt?(y[U]=Je,Ze):Je})(Ke,He,"global"in Ne?Ne.global:this==y,Ne.state)}y["seed"+U]=oe;function pe(je){var Ne,$e=je.length,Ue=this,He=0,ze=Ue.i=Ue.j=0,Ke=Ue.S=[];for($e||(je=[$e++]);He<A;)Ke[He]=He++;for(He=0;He<A;He++)Ke[He]=Ke[ze=te&ze+je[He%$e]+(Ne=Ke[He])],Ke[ze]=Ne;Ue.g=function(Je){for(var Ze,rt=0,nt=Ue.i,at=Ue.j,ot=Ue.S;Je--;)Ze=ot[nt=te&nt+1],rt=rt*A+ot[te&(ot[nt]=ot[at=te&at+Ze])+(ot[at]=Ze)];return Ue.i=nt,Ue.j=at,rt}}function fe(je,Ne){return Ne.i=je.i,Ne.j=je.j,Ne.S=je.S.slice(),Ne}function xe(je,Ne){var $e=[],Ue=_typeof$2(je),He;if(Ne&&Ue=="object")for(He in je)try{$e.push(xe(je[He],Ne-1))}catch{}return $e.length?$e:Ue=="string"?je:je+"\0"}function ye(je,Ne){for(var $e=je+"",Ue,He=0;He<$e.length;)Ne[te&He]=te&(Ue^=Ne[te&He]*19)+$e.charCodeAt(He++);return Le(Ne)}function _e(){try{var je=new Uint8Array(A);return(T.crypto||T.msCrypto).getRandomValues(je),Le(je)}catch{var Ne=T.navigator,$e=Ne&&Ne.plugins;return[+new Date,T,$e,T.screen,Le(R)]}}function Le(je){return String.fromCharCode.apply(0,je)}ye(y.random(),R)}function initialize$2(R){seedRandom([],R)}var propTypes={SHAPE:"shape"};function _typeof$1(R){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},_typeof$1(R)}var ExpressionManager=(function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(R){return R.constructor===Array||R.constructor===Float32Array}function isNumerable(R,y){return R==="number"||y instanceof Number||R==="boolean"||R==="string"}function $bm_neg(R){var y=_typeof$1(R);if(y==="number"||R instanceof Number||y==="boolean")return-R;if($bm_isInstanceOfArray(R)){var T,A=R.length,O=[];for(T=0;T<A;T+=1)O[T]=-R[T];return O}return R.propType?R.v:-R}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(R,y){var T=_typeof$1(R),A=_typeof$1(y);if(isNumerable(T,R)&&isNumerable(A,y)||T==="string"||A==="string")return R+y;if($bm_isInstanceOfArray(R)&&isNumerable(A,y))return R=R.slice(0),R[0]+=y,R;if(isNumerable(T,R)&&$bm_isInstanceOfArray(y))return y=y.slice(0),y[0]=R+y[0],y;if($bm_isInstanceOfArray(R)&&$bm_isInstanceOfArray(y)){for(var O=0,z=R.length,U=y.length,G=[];O<z||O<U;)(typeof R[O]=="number"||R[O]instanceof Number)&&(typeof y[O]=="number"||y[O]instanceof Number)?G[O]=R[O]+y[O]:G[O]=y[O]===void 0?R[O]:R[O]||y[O],O+=1;return G}return 0}var add=sum;function sub(R,y){var T=_typeof$1(R),A=_typeof$1(y);if(isNumerable(T,R)&&isNumerable(A,y))return T==="string"&&(R=parseInt(R,10)),A==="string"&&(y=parseInt(y,10)),R-y;if($bm_isInstanceOfArray(R)&&isNumerable(A,y))return R=R.slice(0),R[0]-=y,R;if(isNumerable(T,R)&&$bm_isInstanceOfArray(y))return y=y.slice(0),y[0]=R-y[0],y;if($bm_isInstanceOfArray(R)&&$bm_isInstanceOfArray(y)){for(var O=0,z=R.length,U=y.length,G=[];O<z||O<U;)(typeof R[O]=="number"||R[O]instanceof Number)&&(typeof y[O]=="number"||y[O]instanceof Number)?G[O]=R[O]-y[O]:G[O]=y[O]===void 0?R[O]:R[O]||y[O],O+=1;return G}return 0}function mul(R,y){var T=_typeof$1(R),A=_typeof$1(y),O;if(isNumerable(T,R)&&isNumerable(A,y))return R*y;var z,U;if($bm_isInstanceOfArray(R)&&isNumerable(A,y)){for(U=R.length,O=createTypedArray("float32",U),z=0;z<U;z+=1)O[z]=R[z]*y;return O}if(isNumerable(T,R)&&$bm_isInstanceOfArray(y)){for(U=y.length,O=createTypedArray("float32",U),z=0;z<U;z+=1)O[z]=R*y[z];return O}return 0}function div(R,y){var T=_typeof$1(R),A=_typeof$1(y),O;if(isNumerable(T,R)&&isNumerable(A,y))return R/y;var z,U;if($bm_isInstanceOfArray(R)&&isNumerable(A,y)){for(U=R.length,O=createTypedArray("float32",U),z=0;z<U;z+=1)O[z]=R[z]/y;return O}if(isNumerable(T,R)&&$bm_isInstanceOfArray(y)){for(U=y.length,O=createTypedArray("float32",U),z=0;z<U;z+=1)O[z]=R/y[z];return O}return 0}function mod(R,y){return typeof R=="string"&&(R=parseInt(R,10)),typeof y=="string"&&(y=parseInt(y,10)),R%y}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(R,y,T){if(y>T){var A=T;T=y,y=A}return Math.min(Math.max(R,y),T)}function radiansToDegrees(R){return R/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(R){return R*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(R,y){if(typeof R=="number"||R instanceof Number)return y=y||0,Math.abs(R-y);y||(y=helperLengthArray);var T,A=Math.min(R.length,y.length),O=0;for(T=0;T<A;T+=1)O+=Math.pow(y[T]-R[T],2);return Math.sqrt(O)}function normalize(R){return div(R,length(R))}function rgbToHsl(R){var y=R[0],T=R[1],A=R[2],O=Math.max(y,T,A),z=Math.min(y,T,A),U,G,J=(O+z)/2;if(O===z)U=0,G=0;else{var ee=O-z;switch(G=J>.5?ee/(2-O-z):ee/(O+z),O){case y:U=(T-A)/ee+(T<A?6:0);break;case T:U=(A-y)/ee+2;break;case A:U=(y-T)/ee+4;break}U/=6}return[U,G,J,R[3]]}function hue2rgb(R,y,T){return T<0&&(T+=1),T>1&&(T-=1),T<1/6?R+(y-R)*6*T:T<1/2?y:T<2/3?R+(y-R)*(2/3-T)*6:R}function hslToRgb(R){var y=R[0],T=R[1],A=R[2],O,z,U;if(T===0)O=A,U=A,z=A;else{var G=A<.5?A*(1+T):A+T-A*T,J=2*A-G;O=hue2rgb(J,G,y+1/3),z=hue2rgb(J,G,y),U=hue2rgb(J,G,y-1/3)}return[O,z,U,R[3]]}function linear(R,y,T,A,O){if((A===void 0||O===void 0)&&(A=y,O=T,y=0,T=1),T<y){var z=T;T=y,y=z}if(R<=y)return A;if(R>=T)return O;var U=T===y?0:(R-y)/(T-y);if(!A.length)return A+(O-A)*U;var G,J=A.length,ee=createTypedArray("float32",J);for(G=0;G<J;G+=1)ee[G]=A[G]+(O[G]-A[G])*U;return ee}function random(R,y){if(y===void 0&&(R===void 0?(R=0,y=1):(y=R,R=void 0)),y.length){var T,A=y.length;R||(R=createTypedArray("float32",A));var O=createTypedArray("float32",A),z=BMMath.random();for(T=0;T<A;T+=1)O[T]=R[T]+z*(y[T]-R[T]);return O}R===void 0&&(R=0);var U=BMMath.random();return R+U*(y-R)}function createPath(R,y,T,A){var O,z=R.length,U=shapePool.newElement();U.setPathData(!!A,z);var G=[0,0],J,ee;for(O=0;O<z;O+=1)J=y&&y[O]?y[O]:G,ee=T&&T[O]?T[O]:G,U.setTripleAt(R[O][0],R[O][1],ee[0]+R[O][0],ee[1]+R[O][1],J[0]+R[O][0],J[1]+R[O][1],O,!0);return U}function initiateExpression(elem,data,property){function noOp(R){return R}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function R(y,T){var A,O,z=this.pv.length?this.pv.length:1,U=createTypedArray("float32",z);y=5;var G=Math.floor(time*y);for(A=0,O=0;A<G;){for(O=0;O<z;O+=1)U[O]+=-T+T*2*BMMath.random();A+=1}var J=time*y,ee=J-Math.floor(J),te=createTypedArray("float32",z);if(z>1){for(O=0;O<z;O+=1)te[O]=this.pv[O]+U[O]+(-T+T*2*BMMath.random())*ee;return te}return this.pv+U[0]+(-T+T*2*BMMath.random())*ee}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(R,y){return loopIn(R,y,!0)}function loopOutDuration(R,y){return loopOut(R,y,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(R,y){var T=[y[0]-R[0],y[1]-R[1],y[2]-R[2]],A=Math.atan2(T[0],Math.sqrt(T[1]*T[1]+T[2]*T[2]))/degToRads,O=-Math.atan2(T[1],T[2])/degToRads;return[O,A,0]}function easeOut(R,y,T,A,O){return applyEase(easeOutBez,R,y,T,A,O)}function easeIn(R,y,T,A,O){return applyEase(easeInBez,R,y,T,A,O)}function ease(R,y,T,A,O){return applyEase(easeInOutBez,R,y,T,A,O)}function applyEase(R,y,T,A,O,z){O===void 0?(O=T,z=A):y=(y-T)/(A-T),y>1?y=1:y<0&&(y=0);var U=R(y);if($bm_isInstanceOfArray(O)){var G,J=O.length,ee=createTypedArray("float32",J);for(G=0;G<J;G+=1)ee[G]=(z[G]-O[G])*U+O[G];return ee}return(z-O)*U+O}function nearestKey(R){var y,T=data.k.length,A,O;if(!data.k.length||typeof data.k[0]=="number")A=0,O=0;else if(A=-1,R*=elem.comp.globalData.frameRate,R<data.k[0].t)A=1,O=data.k[0].t;else{for(y=0;y<T-1;y+=1)if(R===data.k[y].t){A=y+1,O=data.k[y].t;break}else if(R>data.k[y].t&&R<data.k[y+1].t){R-data.k[y].t>data.k[y+1].t-R?(A=y+2,O=data.k[y+1].t):(A=y+1,O=data.k[y].t);break}A===-1&&(A=y+1,O=data.k[y].t)}var z={};return z.index=A,z.time=O/elem.comp.globalData.frameRate,z}function key(R){var y,T,A;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+R);R-=1,y={time:data.k[R].t/elem.comp.globalData.frameRate,value:[]};var O=Object.prototype.hasOwnProperty.call(data.k[R],"s")?data.k[R].s:data.k[R-1].e;for(A=O.length,T=0;T<A;T+=1)y[T]=O[T],y.value[T]=O[T];return y}function framesToTime(R,y){return y||(y=elem.comp.globalData.frameRate),R/y}function timeToFrames(R,y){return!R&&R!==0&&(R=time),y||(y=elem.comp.globalData.frameRate),R*y}function seedRandom(R){BMMath.seedrandom(randSeed+R)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(R,y){return typeof value=="string"?y===void 0?value.substring(R):value.substring(R,y):""}function substr(R,y){return typeof value=="string"?y===void 0?value.substr(R):value.substr(R,y):""}function posterizeTime(R){time=R===0?0:Math.floor(time*R)/R,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(R){return value=R,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob})(),Expressions=(function(){var R={};R.initExpressions=y,R.resetFrame=ExpressionManager.resetFrame;function y(T){var A=0,O=[];function z(){A+=1}function U(){A-=1,A===0&&J()}function G(ee){O.indexOf(ee)===-1&&O.push(ee)}function J(){var ee,te=O.length;for(ee=0;ee<te;ee+=1)O[ee].release();O.length=0}T.renderer.compInterface=CompExpressionInterface(T.renderer),T.renderer.globalData.projectInterface.registerComposition(T.renderer),T.renderer.globalData.pushExpression=z,T.renderer.globalData.popExpression=U,T.renderer.globalData.registerExpressionProperty=G}return R})(),MaskManagerInterface=(function(){function R(T,A){this._mask=T,this._data=A}Object.defineProperty(R.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(R.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var y=function(A){var O=createSizedArray(A.viewData.length),z,U=A.viewData.length;for(z=0;z<U;z+=1)O[z]=new R(A.viewData[z],A.masksProperties[z]);var G=function(ee){for(z=0;z<U;){if(A.masksProperties[z].nm===ee)return O[z];z+=1}return null};return G};return y})(),ExpressionPropertyInterface=(function(){var R={pv:0,v:0,mult:1},y={pv:[0,0,0],v:[0,0,0],mult:1};function T(U,G,J){Object.defineProperty(U,"velocity",{get:function(){return G.getVelocityAtTime(G.comp.currentFrame)}}),U.numKeys=G.keyframes?G.keyframes.length:0,U.key=function(ee){if(!U.numKeys)return 0;var te="";"s"in G.keyframes[ee-1]?te=G.keyframes[ee-1].s:"e"in G.keyframes[ee-2]?te=G.keyframes[ee-2].e:te=G.keyframes[ee-2].s;var ae=J==="unidimensional"?new Number(te):Object.assign({},te);return ae.time=G.keyframes[ee-1].t/G.elem.comp.globalData.frameRate,ae.value=J==="unidimensional"?te[0]:te,ae},U.valueAtTime=G.getValueAtTime,U.speedAtTime=G.getSpeedAtTime,U.velocityAtTime=G.getVelocityAtTime,U.propertyGroup=G.propertyGroup}function A(U){(!U||!("pv"in U))&&(U=R);var G=1/U.mult,J=U.pv*G,ee=new Number(J);return ee.value=J,T(ee,U,"unidimensional"),function(){return U.k&&U.getValue(),J=U.v*G,ee.value!==J&&(ee=new Number(J),ee.value=J,ee[0]=J,T(ee,U,"unidimensional")),ee}}function O(U){(!U||!("pv"in U))&&(U=y);var G=1/U.mult,J=U.data&&U.data.l||U.pv.length,ee=createTypedArray("float32",J),te=createTypedArray("float32",J);return ee.value=te,T(ee,U,"multidimensional"),function(){U.k&&U.getValue();for(var ae=0;ae<J;ae+=1)te[ae]=U.v[ae]*G,ee[ae]=te[ae];return ee}}function z(){return R}return function(U){return U?U.propType==="unidimensional"?A(U):O(U):z}})(),TransformExpressionInterface=(function(){return function(R){function y(U){switch(U){case"scale":case"Scale":case"ADBE Scale":case 6:return y.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return y.rotation;case"ADBE Rotate X":return y.xRotation;case"ADBE Rotate Y":return y.yRotation;case"position":case"Position":case"ADBE Position":case 2:return y.position;case"ADBE Position_0":return y.xPosition;case"ADBE Position_1":return y.yPosition;case"ADBE Position_2":return y.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return y.anchorPoint;case"opacity":case"Opacity":case 11:return y.opacity;default:return null}}Object.defineProperty(y,"rotation",{get:ExpressionPropertyInterface(R.r||R.rz)}),Object.defineProperty(y,"zRotation",{get:ExpressionPropertyInterface(R.rz||R.r)}),Object.defineProperty(y,"xRotation",{get:ExpressionPropertyInterface(R.rx)}),Object.defineProperty(y,"yRotation",{get:ExpressionPropertyInterface(R.ry)}),Object.defineProperty(y,"scale",{get:ExpressionPropertyInterface(R.s)});var T,A,O,z;return R.p?z=ExpressionPropertyInterface(R.p):(T=ExpressionPropertyInterface(R.px),A=ExpressionPropertyInterface(R.py),R.pz&&(O=ExpressionPropertyInterface(R.pz))),Object.defineProperty(y,"position",{get:function(){return R.p?z():[T(),A(),O?O():0]}}),Object.defineProperty(y,"xPosition",{get:ExpressionPropertyInterface(R.px)}),Object.defineProperty(y,"yPosition",{get:ExpressionPropertyInterface(R.py)}),Object.defineProperty(y,"zPosition",{get:ExpressionPropertyInterface(R.pz)}),Object.defineProperty(y,"anchorPoint",{get:ExpressionPropertyInterface(R.a)}),Object.defineProperty(y,"opacity",{get:ExpressionPropertyInterface(R.o)}),Object.defineProperty(y,"skew",{get:ExpressionPropertyInterface(R.sk)}),Object.defineProperty(y,"skewAxis",{get:ExpressionPropertyInterface(R.sa)}),Object.defineProperty(y,"orientation",{get:ExpressionPropertyInterface(R.or)}),y}})(),LayerExpressionInterface=(function(){function R(ee){var te=new Matrix;if(ee!==void 0){var ae=this._elem.finalTransform.mProp.getValueAtTime(ee);ae.clone(te)}else{var oe=this._elem.finalTransform.mProp;oe.applyToMatrix(te)}return te}function y(ee,te){var ae=this.getMatrix(te);return ae.props[12]=0,ae.props[13]=0,ae.props[14]=0,this.applyPoint(ae,ee)}function T(ee,te){var ae=this.getMatrix(te);return this.applyPoint(ae,ee)}function A(ee,te){var ae=this.getMatrix(te);return ae.props[12]=0,ae.props[13]=0,ae.props[14]=0,this.invertPoint(ae,ee)}function O(ee,te){var ae=this.getMatrix(te);return this.invertPoint(ae,ee)}function z(ee,te){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ae,oe=this._elem.hierarchy.length;for(ae=0;ae<oe;ae+=1)this._elem.hierarchy[ae].finalTransform.mProp.applyToMatrix(ee)}return ee.applyToPointArray(te[0],te[1],te[2]||0)}function U(ee,te){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ae,oe=this._elem.hierarchy.length;for(ae=0;ae<oe;ae+=1)this._elem.hierarchy[ae].finalTransform.mProp.applyToMatrix(ee)}return ee.inversePoint(te)}function G(ee){var te=new Matrix;if(te.reset(),this._elem.finalTransform.mProp.applyToMatrix(te),this._elem.hierarchy&&this._elem.hierarchy.length){var ae,oe=this._elem.hierarchy.length;for(ae=0;ae<oe;ae+=1)this._elem.hierarchy[ae].finalTransform.mProp.applyToMatrix(te);return te.inversePoint(ee)}return te.inversePoint(ee)}function J(){return[1,1,1,1]}return function(ee){var te;function ae(xe){pe.mask=new MaskManagerInterface(xe,ee)}function oe(xe){pe.effect=xe}function pe(xe){switch(xe){case"ADBE Root Vectors Group":case"Contents":case 2:return pe.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return te;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return pe.effect;case"ADBE Text Properties":return pe.textInterface;default:return null}}pe.getMatrix=R,pe.invertPoint=U,pe.applyPoint=z,pe.toWorld=T,pe.toWorldVec=y,pe.fromWorld=O,pe.fromWorldVec=A,pe.toComp=T,pe.fromComp=G,pe.sampleImage=J,pe.sourceRectAtTime=ee.sourceRectAtTime.bind(ee),pe._elem=ee,te=TransformExpressionInterface(ee.finalTransform.mProp);var fe=getDescriptor(te,"anchorPoint");return Object.defineProperties(pe,{hasParent:{get:function(){return ee.hierarchy.length}},parent:{get:function(){return ee.hierarchy[0].layerInterface}},rotation:getDescriptor(te,"rotation"),scale:getDescriptor(te,"scale"),position:getDescriptor(te,"position"),opacity:getDescriptor(te,"opacity"),anchorPoint:fe,anchor_point:fe,transform:{get:function(){return te}},active:{get:function(){return ee.isInRange}}}),pe.startTime=ee.data.st,pe.index=ee.data.ind,pe.source=ee.data.refId,pe.height=ee.data.ty===0?ee.data.h:100,pe.width=ee.data.ty===0?ee.data.w:100,pe.inPoint=ee.data.ip/ee.comp.globalData.frameRate,pe.outPoint=ee.data.op/ee.comp.globalData.frameRate,pe._name=ee.data.nm,pe.registerMaskInterface=ae,pe.registerEffectsInterface=oe,pe}})(),propertyGroupFactory=(function(){return function(R,y){return function(T){return T=T===void 0?1:T,T<=0?R:y(T-1)}}})(),PropertyInterface=(function(){return function(R,y){var T={_name:R};function A(O){return O=O===void 0?1:O,O<=0?T:y(O-1)}return A}})(),EffectsExpressionInterface=(function(){var R={createEffectsInterface:y};function y(O,z){if(O.effectsManager){var U=[],G=O.data.ef,J,ee=O.effectsManager.effectElements.length;for(J=0;J<ee;J+=1)U.push(T(G[J],O.effectsManager.effectElements[J],z,O));var te=O.data.ef||[],ae=function(pe){for(J=0,ee=te.length;J<ee;){if(pe===te[J].nm||pe===te[J].mn||pe===te[J].ix)return U[J];J+=1}return null};return Object.defineProperty(ae,"numProperties",{get:function(){return te.length}}),ae}return null}function T(O,z,U,G){function J(pe){for(var fe=O.ef,xe=0,ye=fe.length;xe<ye;){if(pe===fe[xe].nm||pe===fe[xe].mn||pe===fe[xe].ix)return fe[xe].ty===5?te[xe]:te[xe]();xe+=1}throw new Error}var ee=propertyGroupFactory(J,U),te=[],ae,oe=O.ef.length;for(ae=0;ae<oe;ae+=1)O.ef[ae].ty===5?te.push(T(O.ef[ae],z.effectElements[ae],z.effectElements[ae].propertyGroup,G)):te.push(A(z.effectElements[ae],O.ef[ae].ty,G,ee));return O.mn==="ADBE Color Control"&&Object.defineProperty(J,"color",{get:function(){return te[0]()}}),Object.defineProperties(J,{numProperties:{get:function(){return O.np}},_name:{value:O.nm},propertyGroup:{value:ee}}),J.enabled=O.en!==0,J.active=J.enabled,J}function A(O,z,U,G){var J=ExpressionPropertyInterface(O.p);function ee(){return z===10?U.comp.compInterface(O.p.v):J()}return O.p.setGroupProperty&&O.p.setGroupProperty(PropertyInterface("",G)),ee}return R})(),ShapePathInterface=(function(){return function(y,T,A){var O=T.sh;function z(G){return G==="Shape"||G==="shape"||G==="Path"||G==="path"||G==="ADBE Vector Shape"||G===2?z.path:null}var U=propertyGroupFactory(z,A);return O.setGroupProperty(PropertyInterface("Path",U)),Object.defineProperties(z,{path:{get:function(){return O.k&&O.getValue(),O}},shape:{get:function(){return O.k&&O.getValue(),O}},_name:{value:y.nm},ix:{value:y.ix},propertyIndex:{value:y.ix},mn:{value:y.mn},propertyGroup:{value:A}}),z}})(),ShapeExpressionInterface=(function(){function R(fe,xe,ye){var _e=[],Le,je=fe?fe.length:0;for(Le=0;Le<je;Le+=1)fe[Le].ty==="gr"?_e.push(T(fe[Le],xe[Le],ye)):fe[Le].ty==="fl"?_e.push(A(fe[Le],xe[Le],ye)):fe[Le].ty==="st"?_e.push(U(fe[Le],xe[Le],ye)):fe[Le].ty==="tm"?_e.push(G(fe[Le],xe[Le],ye)):fe[Le].ty==="tr"||(fe[Le].ty==="el"?_e.push(ee(fe[Le],xe[Le],ye)):fe[Le].ty==="sr"?_e.push(te(fe[Le],xe[Le],ye)):fe[Le].ty==="sh"?_e.push(ShapePathInterface(fe[Le],xe[Le],ye)):fe[Le].ty==="rc"?_e.push(ae(fe[Le],xe[Le],ye)):fe[Le].ty==="rd"?_e.push(oe(fe[Le],xe[Le],ye)):fe[Le].ty==="rp"?_e.push(pe(fe[Le],xe[Le],ye)):fe[Le].ty==="gf"?_e.push(O(fe[Le],xe[Le],ye)):_e.push(z(fe[Le],xe[Le])));return _e}function y(fe,xe,ye){var _e,Le=function($e){for(var Ue=0,He=_e.length;Ue<He;){if(_e[Ue]._name===$e||_e[Ue].mn===$e||_e[Ue].propertyIndex===$e||_e[Ue].ix===$e||_e[Ue].ind===$e)return _e[Ue];Ue+=1}return typeof $e=="number"?_e[$e-1]:null};Le.propertyGroup=propertyGroupFactory(Le,ye),_e=R(fe.it,xe.it,Le.propertyGroup),Le.numProperties=_e.length;var je=J(fe.it[fe.it.length-1],xe.it[xe.it.length-1],Le.propertyGroup);return Le.transform=je,Le.propertyIndex=fe.cix,Le._name=fe.nm,Le}function T(fe,xe,ye){var _e=function($e){switch($e){case"ADBE Vectors Group":case"Contents":case 2:return _e.content;default:return _e.transform}};_e.propertyGroup=propertyGroupFactory(_e,ye);var Le=y(fe,xe,_e.propertyGroup),je=J(fe.it[fe.it.length-1],xe.it[xe.it.length-1],_e.propertyGroup);return _e.content=Le,_e.transform=je,Object.defineProperty(_e,"_name",{get:function(){return fe.nm}}),_e.numProperties=fe.np,_e.propertyIndex=fe.ix,_e.nm=fe.nm,_e.mn=fe.mn,_e}function A(fe,xe,ye){function _e(Le){return Le==="Color"||Le==="color"?_e.color:Le==="Opacity"||Le==="opacity"?_e.opacity:null}return Object.defineProperties(_e,{color:{get:ExpressionPropertyInterface(xe.c)},opacity:{get:ExpressionPropertyInterface(xe.o)},_name:{value:fe.nm},mn:{value:fe.mn}}),xe.c.setGroupProperty(PropertyInterface("Color",ye)),xe.o.setGroupProperty(PropertyInterface("Opacity",ye)),_e}function O(fe,xe,ye){function _e(Le){return Le==="Start Point"||Le==="start point"?_e.startPoint:Le==="End Point"||Le==="end point"?_e.endPoint:Le==="Opacity"||Le==="opacity"?_e.opacity:null}return Object.defineProperties(_e,{startPoint:{get:ExpressionPropertyInterface(xe.s)},endPoint:{get:ExpressionPropertyInterface(xe.e)},opacity:{get:ExpressionPropertyInterface(xe.o)},type:{get:function(){return"a"}},_name:{value:fe.nm},mn:{value:fe.mn}}),xe.s.setGroupProperty(PropertyInterface("Start Point",ye)),xe.e.setGroupProperty(PropertyInterface("End Point",ye)),xe.o.setGroupProperty(PropertyInterface("Opacity",ye)),_e}function z(){function fe(){return null}return fe}function U(fe,xe,ye){var _e=propertyGroupFactory(He,ye),Le=propertyGroupFactory(Ue,_e);function je(ze){Object.defineProperty(Ue,fe.d[ze].nm,{get:ExpressionPropertyInterface(xe.d.dataProps[ze].p)})}var Ne,$e=fe.d?fe.d.length:0,Ue={};for(Ne=0;Ne<$e;Ne+=1)je(Ne),xe.d.dataProps[Ne].p.setGroupProperty(Le);function He(ze){return ze==="Color"||ze==="color"?He.color:ze==="Opacity"||ze==="opacity"?He.opacity:ze==="Stroke Width"||ze==="stroke width"?He.strokeWidth:null}return Object.defineProperties(He,{color:{get:ExpressionPropertyInterface(xe.c)},opacity:{get:ExpressionPropertyInterface(xe.o)},strokeWidth:{get:ExpressionPropertyInterface(xe.w)},dash:{get:function(){return Ue}},_name:{value:fe.nm},mn:{value:fe.mn}}),xe.c.setGroupProperty(PropertyInterface("Color",_e)),xe.o.setGroupProperty(PropertyInterface("Opacity",_e)),xe.w.setGroupProperty(PropertyInterface("Stroke Width",_e)),He}function G(fe,xe,ye){function _e(je){return je===fe.e.ix||je==="End"||je==="end"?_e.end:je===fe.s.ix?_e.start:je===fe.o.ix?_e.offset:null}var Le=propertyGroupFactory(_e,ye);return _e.propertyIndex=fe.ix,xe.s.setGroupProperty(PropertyInterface("Start",Le)),xe.e.setGroupProperty(PropertyInterface("End",Le)),xe.o.setGroupProperty(PropertyInterface("Offset",Le)),_e.propertyIndex=fe.ix,_e.propertyGroup=ye,Object.defineProperties(_e,{start:{get:ExpressionPropertyInterface(xe.s)},end:{get:ExpressionPropertyInterface(xe.e)},offset:{get:ExpressionPropertyInterface(xe.o)},_name:{value:fe.nm}}),_e.mn=fe.mn,_e}function J(fe,xe,ye){function _e(je){return fe.a.ix===je||je==="Anchor Point"?_e.anchorPoint:fe.o.ix===je||je==="Opacity"?_e.opacity:fe.p.ix===je||je==="Position"?_e.position:fe.r.ix===je||je==="Rotation"||je==="ADBE Vector Rotation"?_e.rotation:fe.s.ix===je||je==="Scale"?_e.scale:fe.sk&&fe.sk.ix===je||je==="Skew"?_e.skew:fe.sa&&fe.sa.ix===je||je==="Skew Axis"?_e.skewAxis:null}var Le=propertyGroupFactory(_e,ye);return xe.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",Le)),xe.transform.mProps.p.setGroupProperty(PropertyInterface("Position",Le)),xe.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",Le)),xe.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",Le)),xe.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",Le)),xe.transform.mProps.sk&&(xe.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",Le)),xe.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",Le))),xe.transform.op.setGroupProperty(PropertyInterface("Opacity",Le)),Object.defineProperties(_e,{opacity:{get:ExpressionPropertyInterface(xe.transform.mProps.o)},position:{get:ExpressionPropertyInterface(xe.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(xe.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(xe.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(xe.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(xe.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(xe.transform.mProps.sa)},_name:{value:fe.nm}}),_e.ty="tr",_e.mn=fe.mn,_e.propertyGroup=ye,_e}function ee(fe,xe,ye){function _e(Ne){return fe.p.ix===Ne?_e.position:fe.s.ix===Ne?_e.size:null}var Le=propertyGroupFactory(_e,ye);_e.propertyIndex=fe.ix;var je=xe.sh.ty==="tm"?xe.sh.prop:xe.sh;return je.s.setGroupProperty(PropertyInterface("Size",Le)),je.p.setGroupProperty(PropertyInterface("Position",Le)),Object.defineProperties(_e,{size:{get:ExpressionPropertyInterface(je.s)},position:{get:ExpressionPropertyInterface(je.p)},_name:{value:fe.nm}}),_e.mn=fe.mn,_e}function te(fe,xe,ye){function _e(Ne){return fe.p.ix===Ne?_e.position:fe.r.ix===Ne?_e.rotation:fe.pt.ix===Ne?_e.points:fe.or.ix===Ne||Ne==="ADBE Vector Star Outer Radius"?_e.outerRadius:fe.os.ix===Ne?_e.outerRoundness:fe.ir&&(fe.ir.ix===Ne||Ne==="ADBE Vector Star Inner Radius")?_e.innerRadius:fe.is&&fe.is.ix===Ne?_e.innerRoundness:null}var Le=propertyGroupFactory(_e,ye),je=xe.sh.ty==="tm"?xe.sh.prop:xe.sh;return _e.propertyIndex=fe.ix,je.or.setGroupProperty(PropertyInterface("Outer Radius",Le)),je.os.setGroupProperty(PropertyInterface("Outer Roundness",Le)),je.pt.setGroupProperty(PropertyInterface("Points",Le)),je.p.setGroupProperty(PropertyInterface("Position",Le)),je.r.setGroupProperty(PropertyInterface("Rotation",Le)),fe.ir&&(je.ir.setGroupProperty(PropertyInterface("Inner Radius",Le)),je.is.setGroupProperty(PropertyInterface("Inner Roundness",Le))),Object.defineProperties(_e,{position:{get:ExpressionPropertyInterface(je.p)},rotation:{get:ExpressionPropertyInterface(je.r)},points:{get:ExpressionPropertyInterface(je.pt)},outerRadius:{get:ExpressionPropertyInterface(je.or)},outerRoundness:{get:ExpressionPropertyInterface(je.os)},innerRadius:{get:ExpressionPropertyInterface(je.ir)},innerRoundness:{get:ExpressionPropertyInterface(je.is)},_name:{value:fe.nm}}),_e.mn=fe.mn,_e}function ae(fe,xe,ye){function _e(Ne){return fe.p.ix===Ne?_e.position:fe.r.ix===Ne?_e.roundness:fe.s.ix===Ne||Ne==="Size"||Ne==="ADBE Vector Rect Size"?_e.size:null}var Le=propertyGroupFactory(_e,ye),je=xe.sh.ty==="tm"?xe.sh.prop:xe.sh;return _e.propertyIndex=fe.ix,je.p.setGroupProperty(PropertyInterface("Position",Le)),je.s.setGroupProperty(PropertyInterface("Size",Le)),je.r.setGroupProperty(PropertyInterface("Rotation",Le)),Object.defineProperties(_e,{position:{get:ExpressionPropertyInterface(je.p)},roundness:{get:ExpressionPropertyInterface(je.r)},size:{get:ExpressionPropertyInterface(je.s)},_name:{value:fe.nm}}),_e.mn=fe.mn,_e}function oe(fe,xe,ye){function _e(Ne){return fe.r.ix===Ne||Ne==="Round Corners 1"?_e.radius:null}var Le=propertyGroupFactory(_e,ye),je=xe;return _e.propertyIndex=fe.ix,je.rd.setGroupProperty(PropertyInterface("Radius",Le)),Object.defineProperties(_e,{radius:{get:ExpressionPropertyInterface(je.rd)},_name:{value:fe.nm}}),_e.mn=fe.mn,_e}function pe(fe,xe,ye){function _e(Ne){return fe.c.ix===Ne||Ne==="Copies"?_e.copies:fe.o.ix===Ne||Ne==="Offset"?_e.offset:null}var Le=propertyGroupFactory(_e,ye),je=xe;return _e.propertyIndex=fe.ix,je.c.setGroupProperty(PropertyInterface("Copies",Le)),je.o.setGroupProperty(PropertyInterface("Offset",Le)),Object.defineProperties(_e,{copies:{get:ExpressionPropertyInterface(je.c)},offset:{get:ExpressionPropertyInterface(je.o)},_name:{value:fe.nm}}),_e.mn=fe.mn,_e}return function(fe,xe,ye){var _e;function Le(Ne){if(typeof Ne=="number")return Ne=Ne===void 0?1:Ne,Ne===0?ye:_e[Ne-1];for(var $e=0,Ue=_e.length;$e<Ue;){if(_e[$e]._name===Ne)return _e[$e];$e+=1}return null}function je(){return ye}return Le.propertyGroup=propertyGroupFactory(Le,je),_e=R(fe,xe,Le.propertyGroup),Le.numProperties=_e.length,Le._name="Contents",Le}})(),TextExpressionInterface=(function(){return function(R){var y;function T(A){switch(A){case"ADBE Text Document":return T.sourceText;default:return null}}return Object.defineProperty(T,"sourceText",{get:function(){R.textProperty.getValue();var O=R.textProperty.currentData.t;return(!y||O!==y.value)&&(y=new String(O),y.value=O||new String(O),Object.defineProperty(y,"style",{get:function(){return{fillColor:R.textProperty.currentData.fc}}})),y}}),T}})();function _typeof(R){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},_typeof(R)}var FootageInterface=(function(){var R=function(A){var O="",z=A.getFootageData();function U(){return O="",z=A.getFootageData(),G}function G(J){if(z[J])return O=J,z=z[J],_typeof(z)==="object"?G:z;var ee=J.indexOf(O);if(ee!==-1){var te=parseInt(J.substr(ee+O.length),10);return z=z[te],_typeof(z)==="object"?G:z}return""}return U},y=function(A){function O(z){return z==="Outline"?O.outlineInterface():null}return O._name="Outline",O.outlineInterface=R(A),O};return function(T){function A(O){return O==="Data"?A.dataInterface:null}return A._name="Data",A.dataInterface=y(T),A}})(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(R){return interfaces[R]||null}var expressionHelpers=(function(){function R(U,G,J){G.x&&(J.k=!0,J.x=!0,J.initiateExpression=ExpressionManager.initiateExpression,J.effectsSequence.push(J.initiateExpression(U,G,J).bind(J)))}function y(U){return U*=this.elem.globalData.frameRate,U-=this.offsetTime,U!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<U?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(U,this._cachingAtTime),this._cachingAtTime.lastFrame=U),this._cachingAtTime.value}function T(U){var G=-.01,J=this.getValueAtTime(U),ee=this.getValueAtTime(U+G),te=0;if(J.length){var ae;for(ae=0;ae<J.length;ae+=1)te+=Math.pow(ee[ae]-J[ae],2);te=Math.sqrt(te)*100}else te=0;return te}function A(U){if(this.vel!==void 0)return this.vel;var G=-.001,J=this.getValueAtTime(U),ee=this.getValueAtTime(U+G),te;if(J.length){te=createTypedArray("float32",J.length);var ae;for(ae=0;ae<J.length;ae+=1)te[ae]=(ee[ae]-J[ae])/G}else te=(ee-J)/G;return te}function O(){return this.pv}function z(U){this.propertyGroup=U}return{searchExpressions:R,getSpeedAtTime:T,getVelocityAtTime:A,getValueAtTime:y,getStaticValueAtTime:O,setGroupProperty:z}})();function addPropertyDecorator(){function R(oe,pe,fe){if(!this.k||!this.keyframes)return this.pv;oe=oe?oe.toLowerCase():"";var xe=this.comp.renderedFrame,ye=this.keyframes,_e=ye[ye.length-1].t;if(xe<=_e)return this.pv;var Le,je;fe?(pe?Le=Math.abs(_e-this.elem.comp.globalData.frameRate*pe):Le=Math.max(0,_e-this.elem.data.ip),je=_e-Le):((!pe||pe>ye.length-1)&&(pe=ye.length-1),je=ye[ye.length-1-pe].t,Le=_e-je);var Ne,$e,Ue;if(oe==="pingpong"){var He=Math.floor((xe-je)/Le);if(He%2!==0)return this.getValueAtTime((Le-(xe-je)%Le+je)/this.comp.globalData.frameRate,0)}else if(oe==="offset"){var ze=this.getValueAtTime(je/this.comp.globalData.frameRate,0),Ke=this.getValueAtTime(_e/this.comp.globalData.frameRate,0),Je=this.getValueAtTime(((xe-je)%Le+je)/this.comp.globalData.frameRate,0),Ze=Math.floor((xe-je)/Le);if(this.pv.length){for(Ue=new Array(ze.length),$e=Ue.length,Ne=0;Ne<$e;Ne+=1)Ue[Ne]=(Ke[Ne]-ze[Ne])*Ze+Je[Ne];return Ue}return(Ke-ze)*Ze+Je}else if(oe==="continue"){var rt=this.getValueAtTime(_e/this.comp.globalData.frameRate,0),nt=this.getValueAtTime((_e-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Ue=new Array(rt.length),$e=Ue.length,Ne=0;Ne<$e;Ne+=1)Ue[Ne]=rt[Ne]+(rt[Ne]-nt[Ne])*((xe-_e)/this.comp.globalData.frameRate)/5e-4;return Ue}return rt+(rt-nt)*((xe-_e)/.001)}return this.getValueAtTime(((xe-je)%Le+je)/this.comp.globalData.frameRate,0)}function y(oe,pe,fe){if(!this.k)return this.pv;oe=oe?oe.toLowerCase():"";var xe=this.comp.renderedFrame,ye=this.keyframes,_e=ye[0].t;if(xe>=_e)return this.pv;var Le,je;fe?(pe?Le=Math.abs(this.elem.comp.globalData.frameRate*pe):Le=Math.max(0,this.elem.data.op-_e),je=_e+Le):((!pe||pe>ye.length-1)&&(pe=ye.length-1),je=ye[pe].t,Le=je-_e);var Ne,$e,Ue;if(oe==="pingpong"){var He=Math.floor((_e-xe)/Le);if(He%2===0)return this.getValueAtTime(((_e-xe)%Le+_e)/this.comp.globalData.frameRate,0)}else if(oe==="offset"){var ze=this.getValueAtTime(_e/this.comp.globalData.frameRate,0),Ke=this.getValueAtTime(je/this.comp.globalData.frameRate,0),Je=this.getValueAtTime((Le-(_e-xe)%Le+_e)/this.comp.globalData.frameRate,0),Ze=Math.floor((_e-xe)/Le)+1;if(this.pv.length){for(Ue=new Array(ze.length),$e=Ue.length,Ne=0;Ne<$e;Ne+=1)Ue[Ne]=Je[Ne]-(Ke[Ne]-ze[Ne])*Ze;return Ue}return Je-(Ke-ze)*Ze}else if(oe==="continue"){var rt=this.getValueAtTime(_e/this.comp.globalData.frameRate,0),nt=this.getValueAtTime((_e+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Ue=new Array(rt.length),$e=Ue.length,Ne=0;Ne<$e;Ne+=1)Ue[Ne]=rt[Ne]+(rt[Ne]-nt[Ne])*(_e-xe)/.001;return Ue}return rt+(rt-nt)*(_e-xe)/.001}return this.getValueAtTime((Le-((_e-xe)%Le+_e))/this.comp.globalData.frameRate,0)}function T(oe,pe){if(!this.k)return this.pv;if(oe=(oe||.4)*.5,pe=Math.floor(pe||5),pe<=1)return this.pv;var fe=this.comp.renderedFrame/this.comp.globalData.frameRate,xe=fe-oe,ye=fe+oe,_e=pe>1?(ye-xe)/(pe-1):1,Le=0,je=0,Ne;this.pv.length?Ne=createTypedArray("float32",this.pv.length):Ne=0;for(var $e;Le<pe;){if($e=this.getValueAtTime(xe+Le*_e),this.pv.length)for(je=0;je<this.pv.length;je+=1)Ne[je]+=$e[je];else Ne+=$e;Le+=1}if(this.pv.length)for(je=0;je<this.pv.length;je+=1)Ne[je]/=pe;else Ne/=pe;return Ne}function A(oe){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var pe=this._transformCachingAtTime.v;if(pe.cloneFromProps(this.pre.props),this.appliedTransformations<1){var fe=this.a.getValueAtTime(oe);pe.translate(-fe[0]*this.a.mult,-fe[1]*this.a.mult,fe[2]*this.a.mult)}if(this.appliedTransformations<2){var xe=this.s.getValueAtTime(oe);pe.scale(xe[0]*this.s.mult,xe[1]*this.s.mult,xe[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var ye=this.sk.getValueAtTime(oe),_e=this.sa.getValueAtTime(oe);pe.skewFromAxis(-ye*this.sk.mult,_e*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Le=this.r.getValueAtTime(oe);pe.rotate(-Le*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var je=this.rz.getValueAtTime(oe),Ne=this.ry.getValueAtTime(oe),$e=this.rx.getValueAtTime(oe),Ue=this.or.getValueAtTime(oe);pe.rotateZ(-je*this.rz.mult).rotateY(Ne*this.ry.mult).rotateX($e*this.rx.mult).rotateZ(-Ue[2]*this.or.mult).rotateY(Ue[1]*this.or.mult).rotateX(Ue[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var He=this.px.getValueAtTime(oe),ze=this.py.getValueAtTime(oe);if(this.data.p.z){var Ke=this.pz.getValueAtTime(oe);pe.translate(He*this.px.mult,ze*this.py.mult,-Ke*this.pz.mult)}else pe.translate(He*this.px.mult,ze*this.py.mult,0)}else{var Je=this.p.getValueAtTime(oe);pe.translate(Je[0]*this.p.mult,Je[1]*this.p.mult,-Je[2]*this.p.mult)}return pe}function O(){return this.v.clone(new Matrix)}var z=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(oe,pe,fe){var xe=z(oe,pe,fe);return xe.dynamicProperties.length?xe.getValueAtTime=A.bind(xe):xe.getValueAtTime=O.bind(xe),xe.setGroupProperty=expressionHelpers.setGroupProperty,xe};var U=PropertyFactory.getProp;PropertyFactory.getProp=function(oe,pe,fe,xe,ye){var _e=U(oe,pe,fe,xe,ye);_e.kf?_e.getValueAtTime=expressionHelpers.getValueAtTime.bind(_e):_e.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(_e),_e.setGroupProperty=expressionHelpers.setGroupProperty,_e.loopOut=R,_e.loopIn=y,_e.smooth=T,_e.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(_e),_e.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(_e),_e.numKeys=pe.a===1?pe.k.length:0,_e.propertyIndex=pe.ix;var Le=0;return fe!==0&&(Le=createTypedArray("float32",pe.a===1?pe.k[0].s.length:pe.k.length)),_e._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Le},expressionHelpers.searchExpressions(oe,pe,_e),_e.k&&ye.addDynamicProperty(_e),_e};function G(oe){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),oe*=this.elem.globalData.frameRate,oe-=this.offsetTime,oe!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<oe?this._caching.lastIndex:0,this._cachingAtTime.lastTime=oe,this.interpolateShape(oe,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var J=ShapePropertyFactory.getConstructorFunction(),ee=ShapePropertyFactory.getKeyframedConstructorFunction();function te(){}te.prototype={vertices:function(pe,fe){this.k&&this.getValue();var xe=this.v;fe!==void 0&&(xe=this.getValueAtTime(fe,0));var ye,_e=xe._length,Le=xe[pe],je=xe.v,Ne=createSizedArray(_e);for(ye=0;ye<_e;ye+=1)pe==="i"||pe==="o"?Ne[ye]=[Le[ye][0]-je[ye][0],Le[ye][1]-je[ye][1]]:Ne[ye]=[Le[ye][0],Le[ye][1]];return Ne},points:function(pe){return this.vertices("v",pe)},inTangents:function(pe){return this.vertices("i",pe)},outTangents:function(pe){return this.vertices("o",pe)},isClosed:function(){return this.v.c},pointOnPath:function(pe,fe){var xe=this.v;fe!==void 0&&(xe=this.getValueAtTime(fe,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(xe));for(var ye=this._segmentsLength,_e=ye.lengths,Le=ye.totalLength*pe,je=0,Ne=_e.length,$e=0,Ue;je<Ne;){if($e+_e[je].addedLength>Le){var He=je,ze=xe.c&&je===Ne-1?0:je+1,Ke=(Le-$e)/_e[je].addedLength;Ue=bez.getPointInSegment(xe.v[He],xe.v[ze],xe.o[He],xe.i[ze],Ke,_e[je]);break}else $e+=_e[je].addedLength;je+=1}return Ue||(Ue=xe.c?[xe.v[0][0],xe.v[0][1]]:[xe.v[xe._length-1][0],xe.v[xe._length-1][1]]),Ue},vectorOnPath:function(pe,fe,xe){pe==1?pe=this.v.c:pe==0&&(pe=.999);var ye=this.pointOnPath(pe,fe),_e=this.pointOnPath(pe+.001,fe),Le=_e[0]-ye[0],je=_e[1]-ye[1],Ne=Math.sqrt(Math.pow(Le,2)+Math.pow(je,2));if(Ne===0)return[0,0];var $e=xe==="tangent"?[Le/Ne,je/Ne]:[-je/Ne,Le/Ne];return $e},tangentOnPath:function(pe,fe){return this.vectorOnPath(pe,fe,"tangent")},normalOnPath:function(pe,fe){return this.vectorOnPath(pe,fe,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([te],J),extendPrototype([te],ee),ee.prototype.getValueAtTime=G,ee.prototype.initiateExpression=ExpressionManager.initiateExpression;var ae=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(oe,pe,fe,xe,ye){var _e=ae(oe,pe,fe,xe,ye);return _e.propertyIndex=pe.ix,_e.lock=!1,fe===3?expressionHelpers.searchExpressions(oe,pe.pt,_e):fe===4&&expressionHelpers.searchExpressions(oe,pe.ks,_e),_e.k&&oe.addDynamicProperty(_e),_e}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function R(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(y,T){var A=this.calculateExpression(T);if(y.t!==A){var O={};return this.copyData(O,y),O.t=A.toString(),O.__complete=!1,O}return y},TextProperty.prototype.searchProperty=function(){var y=this.searchKeyframes(),T=this.searchExpressions();return this.kf=y||T,this.kf},TextProperty.prototype.searchExpressions=R}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function R(y,T){var A=createNS("feMerge");A.setAttribute("result",y);var O,z;for(z=0;z<T.length;z+=1)O=createNS("feMergeNode"),O.setAttribute("in",T[z]),A.appendChild(O),A.appendChild(O);return A}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(R,y,T,A,O){this.filterManager=y;var z=createNS("feColorMatrix");z.setAttribute("type","matrix"),z.setAttribute("color-interpolation-filters","linearRGB"),z.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=z,z.setAttribute("result",A+"_tint_1"),R.appendChild(z),z=createNS("feColorMatrix"),z.setAttribute("type","matrix"),z.setAttribute("color-interpolation-filters","sRGB"),z.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),z.setAttribute("result",A+"_tint_2"),R.appendChild(z),this.matrixFilter=z;var U=this.createMergeNode(A,[O,A+"_tint_1",A+"_tint_2"]);R.appendChild(U)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(R){if(R||this.filterManager._mdf){var y=this.filterManager.effectElements[0].p.v,T=this.filterManager.effectElements[1].p.v,A=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+A+" 0"),this.matrixFilter.setAttribute("values",T[0]-y[0]+" 0 0 0 "+y[0]+" "+(T[1]-y[1])+" 0 0 0 "+y[1]+" "+(T[2]-y[2])+" 0 0 0 "+y[2]+" 0 0 0 1 0")}};function SVGFillFilter(R,y,T,A){this.filterManager=y;var O=createNS("feColorMatrix");O.setAttribute("type","matrix"),O.setAttribute("color-interpolation-filters","sRGB"),O.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),O.setAttribute("result",A),R.appendChild(O),this.matrixFilter=O}SVGFillFilter.prototype.renderFrame=function(R){if(R||this.filterManager._mdf){var y=this.filterManager.effectElements[2].p.v,T=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+y[0]+" 0 0 0 0 "+y[1]+" 0 0 0 0 "+y[2]+" 0 0 0 "+T+" 0")}};function SVGStrokeEffect(R,y,T){this.initialized=!1,this.filterManager=y,this.elem=T,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var R=this.elem.layerElement.children||this.elem.layerElement.childNodes,y,T,A,O;for(this.filterManager.effectElements[1].p.v===1?(O=this.elem.maskManager.masksProperties.length,A=0):(A=this.filterManager.effectElements[0].p.v-1,O=A+1),T=createNS("g"),T.setAttribute("fill","none"),T.setAttribute("stroke-linecap","round"),T.setAttribute("stroke-dashoffset",1),A;A<O;A+=1)y=createNS("path"),T.appendChild(y),this.paths.push({p:y,m:A});if(this.filterManager.effectElements[10].p.v===3){var z=createNS("mask"),U=createElementID();z.setAttribute("id",U),z.setAttribute("mask-type","alpha"),z.appendChild(T),this.elem.globalData.defs.appendChild(z);var G=createNS("g");for(G.setAttribute("mask","url("+getLocationHref()+"#"+U+")");R[0];)G.appendChild(R[0]);this.elem.layerElement.appendChild(G),this.masker=z,T.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(R=this.elem.layerElement.children||this.elem.layerElement.childNodes;R.length;)this.elem.layerElement.removeChild(R[0]);this.elem.layerElement.appendChild(T),this.elem.layerElement.removeAttribute("mask"),T.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=T},SVGStrokeEffect.prototype.renderFrame=function(R){this.initialized||this.initialize();var y,T=this.paths.length,A,O;for(y=0;y<T;y+=1)if(this.paths[y].m!==-1&&(A=this.elem.maskManager.viewData[this.paths[y].m],O=this.paths[y].p,(R||this.filterManager._mdf||A.prop._mdf)&&O.setAttribute("d",A.lastPath),R||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||A.prop._mdf)){var z;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var U=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,G=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,J=O.getTotalLength();z="0 0 0 "+J*U+" ";var ee=J*(G-U),te=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,ae=Math.floor(ee/te),oe;for(oe=0;oe<ae;oe+=1)z+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";z+="0 "+J*10+" 0 0"}else z="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;O.setAttribute("stroke-dasharray",z)}if((R||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(R||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(R||this.filterManager.effectElements[3].p._mdf)){var pe=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(pe[0]*255)+","+bmFloor(pe[1]*255)+","+bmFloor(pe[2]*255)+")")}};function SVGTritoneFilter(R,y,T,A){this.filterManager=y;var O=createNS("feColorMatrix");O.setAttribute("type","matrix"),O.setAttribute("color-interpolation-filters","linearRGB"),O.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),R.appendChild(O);var z=createNS("feComponentTransfer");z.setAttribute("color-interpolation-filters","sRGB"),z.setAttribute("result",A),this.matrixFilter=z;var U=createNS("feFuncR");U.setAttribute("type","table"),z.appendChild(U),this.feFuncR=U;var G=createNS("feFuncG");G.setAttribute("type","table"),z.appendChild(G),this.feFuncG=G;var J=createNS("feFuncB");J.setAttribute("type","table"),z.appendChild(J),this.feFuncB=J,R.appendChild(z)}SVGTritoneFilter.prototype.renderFrame=function(R){if(R||this.filterManager._mdf){var y=this.filterManager.effectElements[0].p.v,T=this.filterManager.effectElements[1].p.v,A=this.filterManager.effectElements[2].p.v,O=A[0]+" "+T[0]+" "+y[0],z=A[1]+" "+T[1]+" "+y[1],U=A[2]+" "+T[2]+" "+y[2];this.feFuncR.setAttribute("tableValues",O),this.feFuncG.setAttribute("tableValues",z),this.feFuncB.setAttribute("tableValues",U)}};function SVGProLevelsFilter(R,y,T,A){this.filterManager=y;var O=this.filterManager.effectElements,z=createNS("feComponentTransfer");(O[10].p.k||O[10].p.v!==0||O[11].p.k||O[11].p.v!==1||O[12].p.k||O[12].p.v!==1||O[13].p.k||O[13].p.v!==0||O[14].p.k||O[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",z)),(O[17].p.k||O[17].p.v!==0||O[18].p.k||O[18].p.v!==1||O[19].p.k||O[19].p.v!==1||O[20].p.k||O[20].p.v!==0||O[21].p.k||O[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",z)),(O[24].p.k||O[24].p.v!==0||O[25].p.k||O[25].p.v!==1||O[26].p.k||O[26].p.v!==1||O[27].p.k||O[27].p.v!==0||O[28].p.k||O[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",z)),(O[31].p.k||O[31].p.v!==0||O[32].p.k||O[32].p.v!==1||O[33].p.k||O[33].p.v!==1||O[34].p.k||O[34].p.v!==0||O[35].p.k||O[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",z)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(z.setAttribute("color-interpolation-filters","sRGB"),R.appendChild(z)),(O[3].p.k||O[3].p.v!==0||O[4].p.k||O[4].p.v!==1||O[5].p.k||O[5].p.v!==1||O[6].p.k||O[6].p.v!==0||O[7].p.k||O[7].p.v!==1)&&(z=createNS("feComponentTransfer"),z.setAttribute("color-interpolation-filters","sRGB"),z.setAttribute("result",A),R.appendChild(z),this.feFuncRComposed=this.createFeFunc("feFuncR",z),this.feFuncGComposed=this.createFeFunc("feFuncG",z),this.feFuncBComposed=this.createFeFunc("feFuncB",z))}SVGProLevelsFilter.prototype.createFeFunc=function(R,y){var T=createNS(R);return T.setAttribute("type","table"),y.appendChild(T),T},SVGProLevelsFilter.prototype.getTableValue=function(R,y,T,A,O){for(var z=0,U=256,G,J=Math.min(R,y),ee=Math.max(R,y),te=Array.call(null,{length:U}),ae,oe=0,pe=O-A,fe=y-R;z<=256;)G=z/256,G<=J?ae=fe<0?O:A:G>=ee?ae=fe<0?A:O:ae=A+pe*Math.pow((G-R)/fe,1/T),te[oe]=ae,oe+=1,z+=256/(U-1);return te.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(R){if(R||this.filterManager._mdf){var y,T=this.filterManager.effectElements;this.feFuncRComposed&&(R||T[3].p._mdf||T[4].p._mdf||T[5].p._mdf||T[6].p._mdf||T[7].p._mdf)&&(y=this.getTableValue(T[3].p.v,T[4].p.v,T[5].p.v,T[6].p.v,T[7].p.v),this.feFuncRComposed.setAttribute("tableValues",y),this.feFuncGComposed.setAttribute("tableValues",y),this.feFuncBComposed.setAttribute("tableValues",y)),this.feFuncR&&(R||T[10].p._mdf||T[11].p._mdf||T[12].p._mdf||T[13].p._mdf||T[14].p._mdf)&&(y=this.getTableValue(T[10].p.v,T[11].p.v,T[12].p.v,T[13].p.v,T[14].p.v),this.feFuncR.setAttribute("tableValues",y)),this.feFuncG&&(R||T[17].p._mdf||T[18].p._mdf||T[19].p._mdf||T[20].p._mdf||T[21].p._mdf)&&(y=this.getTableValue(T[17].p.v,T[18].p.v,T[19].p.v,T[20].p.v,T[21].p.v),this.feFuncG.setAttribute("tableValues",y)),this.feFuncB&&(R||T[24].p._mdf||T[25].p._mdf||T[26].p._mdf||T[27].p._mdf||T[28].p._mdf)&&(y=this.getTableValue(T[24].p.v,T[25].p.v,T[26].p.v,T[27].p.v,T[28].p.v),this.feFuncB.setAttribute("tableValues",y)),this.feFuncA&&(R||T[31].p._mdf||T[32].p._mdf||T[33].p._mdf||T[34].p._mdf||T[35].p._mdf)&&(y=this.getTableValue(T[31].p.v,T[32].p.v,T[33].p.v,T[34].p.v,T[35].p.v),this.feFuncA.setAttribute("tableValues",y))}};function SVGDropShadowEffect(R,y,T,A,O){var z=y.container.globalData.renderConfig.filterSize,U=y.data.fs||z;R.setAttribute("x",U.x||z.x),R.setAttribute("y",U.y||z.y),R.setAttribute("width",U.width||z.width),R.setAttribute("height",U.height||z.height),this.filterManager=y;var G=createNS("feGaussianBlur");G.setAttribute("in","SourceAlpha"),G.setAttribute("result",A+"_drop_shadow_1"),G.setAttribute("stdDeviation","0"),this.feGaussianBlur=G,R.appendChild(G);var J=createNS("feOffset");J.setAttribute("dx","25"),J.setAttribute("dy","0"),J.setAttribute("in",A+"_drop_shadow_1"),J.setAttribute("result",A+"_drop_shadow_2"),this.feOffset=J,R.appendChild(J);var ee=createNS("feFlood");ee.setAttribute("flood-color","#00ff00"),ee.setAttribute("flood-opacity","1"),ee.setAttribute("result",A+"_drop_shadow_3"),this.feFlood=ee,R.appendChild(ee);var te=createNS("feComposite");te.setAttribute("in",A+"_drop_shadow_3"),te.setAttribute("in2",A+"_drop_shadow_2"),te.setAttribute("operator","in"),te.setAttribute("result",A+"_drop_shadow_4"),R.appendChild(te);var ae=this.createMergeNode(A,[A+"_drop_shadow_4",O]);R.appendChild(ae)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(R){if(R||this.filterManager._mdf){if((R||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),R||this.filterManager.effectElements[0].p._mdf){var y=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(y[0]*255),Math.round(y[1]*255),Math.round(y[2]*255)))}if((R||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),R||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var T=this.filterManager.effectElements[3].p.v,A=(this.filterManager.effectElements[2].p.v-90)*degToRads,O=T*Math.cos(A),z=T*Math.sin(A);this.feOffset.setAttribute("dx",O),this.feOffset.setAttribute("dy",z)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(R,y,T){this.initialized=!1,this.filterManager=y,this.filterElem=R,this.elem=T,T.matteElement=createNS("g"),T.matteElement.appendChild(T.layerElement),T.matteElement.appendChild(T.transformedElement),T.baseElement=T.matteElement}SVGMatte3Effect.prototype.findSymbol=function(R){for(var y=0,T=_svgMatteSymbols.length;y<T;){if(_svgMatteSymbols[y]===R)return _svgMatteSymbols[y];y+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(R,y){var T=R.layerElement.parentNode;if(T){for(var A=T.children,O=0,z=A.length;O<z&&A[O]!==R.layerElement;)O+=1;var U;O<=z-2&&(U=A[O+1]);var G=createNS("use");G.setAttribute("href","#"+y),U?T.insertBefore(G,U):T.appendChild(G)}},SVGMatte3Effect.prototype.setElementAsMask=function(R,y){if(!this.findSymbol(y)){var T=createElementID(),A=createNS("mask");A.setAttribute("id",y.layerId),A.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(y);var O=R.globalData.defs;O.appendChild(A);var z=createNS("symbol");z.setAttribute("id",T),this.replaceInParent(y,T),z.appendChild(y.layerElement),O.appendChild(z);var U=createNS("use");U.setAttribute("href","#"+T),A.appendChild(U),y.data.hd=!1,y.show()}R.setMatte(y.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var R=this.filterManager.effectElements[0].p.v,y=this.elem.comp.elements,T=0,A=y.length;T<A;)y[T]&&y[T].data.ind===R&&this.setElementAsMask(this.elem,y[T]),T+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(R,y,T,A){R.setAttribute("x","-100%"),R.setAttribute("y","-100%"),R.setAttribute("width","300%"),R.setAttribute("height","300%"),this.filterManager=y;var O=createNS("feGaussianBlur");O.setAttribute("result",A),R.appendChild(O),this.feGaussianBlur=O}SVGGaussianBlurEffect.prototype.renderFrame=function(R){if(R||this.filterManager._mdf){var y=.3,T=this.filterManager.effectElements[0].p.v*y,A=this.filterManager.effectElements[1].p.v,O=A==3?0:T,z=A==2?0:T;this.feGaussianBlur.setAttribute("stdDeviation",O+" "+z);var U=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",U)}};function TransformEffect(){}TransformEffect.prototype.init=function(R){this.effectsManager=R,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(R){if(this._opMdf=!1,this._mdf=!1,R||this.effectsManager._mdf){var y=this.effectsManager.effectElements,T=y[0].p.v,A=y[1].p.v,O=y[2].p.v===1,z=y[3].p.v,U=O?z:y[4].p.v,G=y[5].p.v,J=y[6].p.v,ee=y[7].p.v;this.matrix.reset(),this.matrix.translate(-T[0],-T[1],T[2]),this.matrix.scale(U*.01,z*.01,1),this.matrix.rotate(-ee*degToRads),this.matrix.skewFromAxis(-G*degToRads,(J+90)*degToRads),this.matrix.translate(A[0],A[1],0),this._mdf=!0,this.opacity!==y[8].p.v&&(this.opacity=y[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(R,y){this.init(y)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(R){this.init(R)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie}))})(lottie$2,lottie$2.exports)),lottie$2.exports}var lottieExports=requireLottie();const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray(R,y){(y==null||y>R.length)&&(y=R.length);for(var T=0,A=Array(y);T<y;T++)A[T]=R[T];return A}function _arrayWithHoles(R){if(Array.isArray(R))return R}function _defineProperty(R,y,T){return(y=_toPropertyKey(y))in R?Object.defineProperty(R,y,{value:T,enumerable:!0,configurable:!0,writable:!0}):R[y]=T,R}function _iterableToArrayLimit(R,y){var T=R==null?null:typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(T!=null){var A,O,z,U,G=[],J=!0,ee=!1;try{if(z=(T=T.call(R)).next,y!==0)for(;!(J=(A=z.call(T)).done)&&(G.push(A.value),G.length!==y);J=!0);}catch(te){ee=!0,O=te}finally{try{if(!J&&T.return!=null&&(U=T.return(),Object(U)!==U))return}finally{if(ee)throw O}}return G}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys(R,y){var T=Object.keys(R);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(R);y&&(A=A.filter(function(O){return Object.getOwnPropertyDescriptor(R,O).enumerable})),T.push.apply(T,A)}return T}function _objectSpread2(R){for(var y=1;y<arguments.length;y++){var T=arguments[y]!=null?arguments[y]:{};y%2?ownKeys(Object(T),!0).forEach(function(A){_defineProperty(R,A,T[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(T)):ownKeys(Object(T)).forEach(function(A){Object.defineProperty(R,A,Object.getOwnPropertyDescriptor(T,A))})}return R}function _objectWithoutProperties(R,y){if(R==null)return{};var T,A,O=_objectWithoutPropertiesLoose(R,y);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(R);for(A=0;A<z.length;A++)T=z[A],y.includes(T)||{}.propertyIsEnumerable.call(R,T)&&(O[T]=R[T])}return O}function _objectWithoutPropertiesLoose(R,y){if(R==null)return{};var T={};for(var A in R)if({}.hasOwnProperty.call(R,A)){if(y.includes(A))continue;T[A]=R[A]}return T}function _slicedToArray(R,y){return _arrayWithHoles(R)||_iterableToArrayLimit(R,y)||_unsupportedIterableToArray(R,y)||_nonIterableRest()}function _toPrimitive(R,y){if(typeof R!="object"||!R)return R;var T=R[Symbol.toPrimitive];if(T!==void 0){var A=T.call(R,y);if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(R)}function _toPropertyKey(R){var y=_toPrimitive(R,"string");return typeof y=="symbol"?y:y+""}function _unsupportedIterableToArray(R,y){if(R){if(typeof R=="string")return _arrayLikeToArray(R,y);var T={}.toString.call(R).slice(8,-1);return T==="Object"&&R.constructor&&(T=R.constructor.name),T==="Map"||T==="Set"?Array.from(R):T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T)?_arrayLikeToArray(R,y):void 0}}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function R(y,T){var A=y.animationData,O=y.loop,z=y.autoplay,U=y.initialSegment,G=y.onComplete,J=y.onLoopComplete,ee=y.onEnterFrame,te=y.onSegmentStart,ae=y.onConfigReady,oe=y.onDataReady,pe=y.onDataFailed,fe=y.onLoadedImages,xe=y.onDOMLoaded,ye=y.onDestroy;y.lottieRef,y.renderer,y.name,y.assetsPath,y.rendererSettings;var _e=_objectWithoutProperties(y,_excluded$1),Le=reactExports.useState(!1),je=_slicedToArray(Le,2),Ne=je[0],$e=je[1],Ue=reactExports.useRef(),He=reactExports.useRef(null),ze=function(){var st;(st=Ue.current)===null||st===void 0||st.play()},Ke=function(){var st;(st=Ue.current)===null||st===void 0||st.stop()},Je=function(){var st;(st=Ue.current)===null||st===void 0||st.pause()},Ze=function(st){var ut;(ut=Ue.current)===null||ut===void 0||ut.setSpeed(st)},rt=function(st,ut){var pt;(pt=Ue.current)===null||pt===void 0||pt.goToAndPlay(st,ut)},nt=function(st,ut){var pt;(pt=Ue.current)===null||pt===void 0||pt.goToAndStop(st,ut)},at=function(st){var ut;(ut=Ue.current)===null||ut===void 0||ut.setDirection(st)},ot=function(st,ut){var pt;(pt=Ue.current)===null||pt===void 0||pt.playSegments(st,ut)},qe=function(st){var ut;(ut=Ue.current)===null||ut===void 0||ut.setSubframe(st)},Xe=function(st){var ut;return(ut=Ue.current)===null||ut===void 0?void 0:ut.getDuration(st)},Ge=function(){var st;(st=Ue.current)===null||st===void 0||st.destroy(),Ue.current=void 0},Qe=function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ut;if(He.current){(ut=Ue.current)===null||ut===void 0||ut.destroy();var pt=_objectSpread2(_objectSpread2(_objectSpread2({},y),st),{},{container:He.current});return Ue.current=lottie.loadAnimation(pt),$e(!!Ue.current),function(){var yt;(yt=Ue.current)===null||yt===void 0||yt.destroy(),Ue.current=void 0}}};reactExports.useEffect(function(){var Ye=Qe();return function(){return Ye?.()}},[A,O]),reactExports.useEffect(function(){Ue.current&&(Ue.current.autoplay=!!z)},[z]),reactExports.useEffect(function(){if(Ue.current){if(!U){Ue.current.resetSegments(!0);return}!Array.isArray(U)||!U.length||((Ue.current.currentRawFrame<U[0]||Ue.current.currentRawFrame>U[1])&&(Ue.current.currentRawFrame=U[0]),Ue.current.setSegment(U[0],U[1]))}},[U]),reactExports.useEffect(function(){var Ye=[{name:"complete",handler:G},{name:"loopComplete",handler:J},{name:"enterFrame",handler:ee},{name:"segmentStart",handler:te},{name:"config_ready",handler:ae},{name:"data_ready",handler:oe},{name:"data_failed",handler:pe},{name:"loaded_images",handler:fe},{name:"DOMLoaded",handler:xe},{name:"destroy",handler:ye}],st=Ye.filter(function(pt){return pt.handler!=null});if(st.length){var ut=st.map(function(pt){var yt;return(yt=Ue.current)===null||yt===void 0||yt.addEventListener(pt.name,pt.handler),function(){var Et;(Et=Ue.current)===null||Et===void 0||Et.removeEventListener(pt.name,pt.handler)}});return function(){ut.forEach(function(pt){return pt()})}}},[G,J,ee,te,ae,oe,pe,fe,xe,ye]);var it=React.createElement("div",_objectSpread2({style:T,ref:He},_e));return{View:it,play:ze,stop:Ke,pause:Je,setSpeed:Ze,goToAndStop:nt,goToAndPlay:rt,setDirection:at,playSegments:ot,setSubframe:qe,getDuration:Xe,destroy:Ge,animationContainerRef:He,animationLoaded:Ne,animationItem:Ue.current}};function getContainerVisibility(R){var y=R.getBoundingClientRect(),T=y.top,A=y.height,O=window.innerHeight-T,z=window.innerHeight+A;return O/z}function getContainerCursorPosition(R,y,T){var A=R.getBoundingClientRect(),O=A.top,z=A.left,U=A.width,G=A.height,J=(y-z)/U,ee=(T-O)/G;return{x:J,y:ee}}var useInitInteractivity=function R(y){var T=y.wrapperRef,A=y.animationItem,O=y.mode,z=y.actions;reactExports.useEffect(function(){var U=T.current;if(!(!U||!A||!z.length)){A.stop();var G=function(){var te=null,ae=function(){var pe=getContainerVisibility(U),fe=z.find(function(ye){var _e=ye.visibility;return _e&&pe>=_e[0]&&pe<=_e[1]});if(fe){if(fe.type==="seek"&&fe.visibility&&fe.frames.length===2){var xe=fe.frames[0]+Math.ceil((pe-fe.visibility[0])/(fe.visibility[1]-fe.visibility[0])*fe.frames[1]);//! goToAndStop must be relative to the start of the current segment
A.goToAndStop(xe-A.firstFrame-1,!0)}fe.type==="loop"&&(te===null||te!==fe.frames||A.isPaused)&&(A.playSegments(fe.frames,!0),te=fe.frames),fe.type==="play"&&A.isPaused&&(A.resetSegments(!0),A.play()),fe.type==="stop"&&A.goToAndStop(fe.frames[0]-A.firstFrame-1,!0)}};return document.addEventListener("scroll",ae),function(){document.removeEventListener("scroll",ae)}},J=function(){var te=function(fe,xe){var ye=fe,_e=xe;if(ye!==-1&&_e!==-1){var Le=getContainerCursorPosition(U,ye,_e);ye=Le.x,_e=Le.y}var je=z.find(function(Ue){var He=Ue.position;return He&&Array.isArray(He.x)&&Array.isArray(He.y)?ye>=He.x[0]&&ye<=He.x[1]&&_e>=He.y[0]&&_e<=He.y[1]:He&&!Number.isNaN(He.x)&&!Number.isNaN(He.y)?ye===He.x&&_e===He.y:!1});if(je){if(je.type==="seek"&&je.position&&Array.isArray(je.position.x)&&Array.isArray(je.position.y)&&je.frames.length===2){var Ne=(ye-je.position.x[0])/(je.position.x[1]-je.position.x[0]),$e=(_e-je.position.y[0])/(je.position.y[1]-je.position.y[0]);A.playSegments(je.frames,!0),A.goToAndStop(Math.ceil((Ne+$e)/2*(je.frames[1]-je.frames[0])),!0)}je.type==="loop"&&A.playSegments(je.frames,!0),je.type==="play"&&(A.isPaused&&A.resetSegments(!1),A.playSegments(je.frames)),je.type==="stop"&&A.goToAndStop(je.frames[0],!0)}},ae=function(fe){te(fe.clientX,fe.clientY)},oe=function(){te(-1,-1)};return U.addEventListener("mousemove",ae),U.addEventListener("mouseout",oe),function(){U.removeEventListener("mousemove",ae),U.removeEventListener("mouseout",oe)}};switch(O){case"scroll":return G();case"cursor":return J()}}},[O,A])},useLottieInteractivity=function R(y){var T=y.actions,A=y.mode,O=y.lottieObj,z=O.animationItem,U=O.View,G=O.animationContainerRef;return useInitInteractivity({actions:T,animationItem:z,mode:A,wrapperRef:G}),U},_excluded=["style","interactivity"],Lottie=function R(y){var T,A,O,z=y.style,U=y.interactivity,G=_objectWithoutProperties(y,_excluded),J=useLottie(G,z),ee=J.View,te=J.play,ae=J.stop,oe=J.pause,pe=J.setSpeed,fe=J.goToAndStop,xe=J.goToAndPlay,ye=J.setDirection,_e=J.playSegments,Le=J.setSubframe,je=J.getDuration,Ne=J.destroy,$e=J.animationContainerRef,Ue=J.animationLoaded,He=J.animationItem;return reactExports.useEffect(function(){y.lottieRef&&(y.lottieRef.current={play:te,stop:ae,pause:oe,setSpeed:pe,goToAndPlay:xe,goToAndStop:fe,setDirection:ye,playSegments:_e,setSubframe:Le,getDuration:je,destroy:Ne,animationContainerRef:$e,animationLoaded:Ue,animationItem:He})},[(T=y.lottieRef)===null||T===void 0?void 0:T.current]),useLottieInteractivity({lottieObj:{View:ee,play:te,stop:ae,pause:oe,setSpeed:pe,goToAndStop:fe,goToAndPlay:xe,setDirection:ye,playSegments:_e,setSubframe:Le,getDuration:je,destroy:Ne,animationContainerRef:$e,animationLoaded:Ue,animationItem:He},actions:(A=U?.actions)!==null&&A!==void 0?A:[],mode:(O=U?.mode)!==null&&O!==void 0?O:"scroll"})};function generateBubbles(R){const y=[];for(let T=0;T<R;T++)y.push({id:T,size:4+Math.random()*14,left:`${2+Math.random()*96}%`,top:`${60+Math.random()*40}%`,duration:6+Math.random()*8,delay:Math.random()*8,opacity:.4+Math.random()*.4,scaleEnd:.6+Math.random()*.5});return y}const LIGHT_RAYS=[{angle:15,width:40,left:"15%",duration:14,delay:0,opacity:.12},{angle:22,width:60,left:"35%",duration:18,delay:2,opacity:.15},{angle:10,width:30,left:"55%",duration:16,delay:5,opacity:.1},{angle:28,width:50,left:"75%",duration:20,delay:3,opacity:.13}],WAVE_PATHS=["M0,40 Q180,10 360,40 T720,40 T1080,40 T1440,40 L1440,80 L0,80 Z","M0,50 Q180,25 360,50 T720,50 T1080,50 T1440,50 L1440,80 L0,80 Z","M0,30 Q180,55 360,30 T720,30 T1080,30 T1440,30 L1440,80 L0,80 Z","M0,40 Q180,10 360,40 T720,40 T1080,40 T1440,40 L1440,80 L0,80 Z"],UnderwaterOverlay=({bubbleCount:R=35,showLightRays:y=!0,showWave:T=!0,className:A=""})=>{const O=reactExports.useMemo(()=>generateBubbles(R),[R]);return jsxRuntimeExports.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none ${A}`,"aria-hidden":"true",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0",children:O.map(z=>jsxRuntimeExports.jsx("div",{className:"absolute rounded-full",style:{width:z.size,height:z.size,left:z.left,top:z.top,background:`radial-gradient(circle at 35% 35%, rgba(255,255,255,${z.opacity}), rgba(6,182,212,${z.opacity*.3}) 60%, transparent 70%)`,border:`1px solid rgba(255,255,255,${z.opacity*.5})`,boxShadow:`inset 0 -2px 4px rgba(6,182,212,${z.opacity*.3}), 0 0 ${z.size}px rgba(6,182,212,${z.opacity*.2})`,"--bubble-opacity":`${z.opacity}`,"--bubble-scale-end":`${z.scaleEnd}`,animation:`bubble-rise ${z.duration}s ${z.delay}s ease-out infinite`,willChange:"transform, opacity"}},z.id))}),y&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0",children:LIGHT_RAYS.map((z,U)=>jsxRuntimeExports.jsx("div",{className:"absolute h-full",style:{left:z.left,top:"-20%",width:z.width,background:`linear-gradient(180deg, rgba(255,255,255,${z.opacity}) 0%, rgba(6,182,212,${z.opacity*.6}) 50%, transparent 100%)`,"--ray-angle":`${z.angle}deg`,"--ray-opacity":`${z.opacity}`,animation:`light-ray-sweep ${z.duration}s ${z.delay}s ease-in-out infinite`,willChange:"transform, opacity",filter:`blur(${z.width/3}px)`,transformOrigin:"top center"}},U))}),T&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-full",style:{height:"100px"},children:jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 1440 80",preserveAspectRatio:"none",className:"w-full h-full",children:[jsxRuntimeExports.jsx(motion.path,{fill:"rgba(6, 182, 212, 0.18)",animate:{d:WAVE_PATHS},transition:{duration:6,repeat:1/0,ease:"easeInOut"}}),jsxRuntimeExports.jsx(motion.path,{fill:"rgba(255, 255, 255, 0.1)",animate:{d:[WAVE_PATHS[2],WAVE_PATHS[0],WAVE_PATHS[1],WAVE_PATHS[2]]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:.5}})]})})]})},HeroSlider=()=>{const{data:R=[],isLoading:y,refetch:T}=useGetBannersQuery({active:!0,position:"hero"}),[A,O]=reactExports.useState(0),[z,U]=reactExports.useState(0),[G,J]=reactExports.useState(!1);reactExports.useEffect(()=>{T()},[T]);const ee=R;reactExports.useEffect(()=>{if(G)return;const fe=setInterval(()=>{U(1),O(xe=>(xe+1)%ee.length)},8e3);return()=>clearInterval(fe)},[ee.length,G]);const te=fe=>{U(fe>A?1:-1),O(fe)},ae=()=>{U(1),O(fe=>(fe+1)%ee.length)},oe=()=>{U(-1),O(fe=>(fe-1+ee.length)%ee.length)},pe={enter:{opacity:0},center:{zIndex:1,opacity:1},exit:{zIndex:0,opacity:0}};return y?jsxRuntimeExports.jsx("div",{className:"relative h-screen w-full flex items-center justify-center bg-gray-900",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-12 h-12 animate-spin text-white"})}):ee.length===0?null:jsxRuntimeExports.jsxs("div",{className:"relative h-screen w-full overflow-hidden",onMouseEnter:()=>J(!0),onMouseLeave:()=>J(!1),children:[jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,mode:"wait",children:jsxRuntimeExports.jsxs(motion.div,{variants:pe,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3,ease:"easeInOut"},className:"absolute inset-0",style:{willChange:"opacity"},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${ee[A].image_url||ee[A].image})`},children:jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/30 to-black/60"})}),jsxRuntimeExports.jsx("div",{className:"relative h-full flex items-center justify-center text-center px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-5xl",children:[jsxRuntimeExports.jsx("h1",{className:"text-6xl sm:text-7xl lg:text-8xl font-bold text-white mb-6 tracking-wider",style:{textShadow:"0 4px 20px rgba(0,0,0,0.5)"},children:ee[A].title}),ee[A].description&&jsxRuntimeExports.jsx("p",{className:"text-xl sm:text-2xl text-white/90 mb-8",children:ee[A].description}),ee[A].button_text&&ee[A].button_link&&jsxRuntimeExports.jsx(Link$2,{to:ee[A].button_link||"#",className:"inline-block px-8 py-4 bg-gradient-to-r from-primary-600 to-accent-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all",children:ee[A].button_text})]})})]},A)}),jsxRuntimeExports.jsx(UnderwaterOverlay,{className:"z-2"}),jsxRuntimeExports.jsx("button",{onClick:oe,className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 bg-white/20 hover:bg-white/30 text-white p-3 rounded-full transition-colors","aria-label":"Previous slide",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx("button",{onClick:ae,className:"absolute right-4 top-1/2 -translate-y-1/2 z-10 bg-white/20 hover:bg-white/30 text-white p-3 rounded-full transition-colors","aria-label":"Next slide",children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-10 flex gap-3",children:ee.map((fe,xe)=>jsxRuntimeExports.jsx("button",{onClick:()=>te(xe),className:`transition-all ${xe===A?"w-12 bg-white":"w-3 bg-white/50 hover:bg-white/75"} h-3 rounded-full`,"aria-label":`Go to slide ${xe+1}`},xe))}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-24 left-1/2 -translate-x-1/2 z-10",children:jsxRuntimeExports.jsx("div",{className:"w-6 h-10 border-2 border-white/50 rounded-full flex justify-center pt-2",children:jsxRuntimeExports.jsx("div",{className:"w-1.5 h-3 bg-white/70 rounded-full animate-bounce"})})})]})},EventsCalendar=()=>{const{t:R,i18n:y}=useTranslation(),[T,A]=reactExports.useState(new Date),[O,z]=reactExports.useState(null),[U,G]=reactExports.useState(null),J=useNavigate(),ee=y.language==="ar"?"ar-SA":"en-US",{data:te=[],isLoading:ae,error:oe}=useGetEventsQuery({active:!0}),pe=()=>{A(new Date(T.getFullYear(),T.getMonth()-1,1))},fe=()=>{A(new Date(T.getFullYear(),T.getMonth()+1,1))},xe=new Date,ye=te.filter(qe=>new Date(qe.start_date)>=xe).sort((qe,Xe)=>new Date(qe.start_date).getTime()-new Date(Xe.start_date).getTime()).slice(0,5),_e=te.reduce((qe,Xe)=>{const Ge=new Date(Xe.start_date).toDateString();return qe[Ge]||(qe[Ge]=[]),qe[Ge].push(Xe),qe},{}),je=R("calendar.months",{returnObjects:!0})[T.getMonth()],Ne=T.getFullYear(),$e=new Date(Ne,T.getMonth()+1,0).getDate(),Ue=new Date(Ne,T.getMonth(),1).getDay(),He=[];for(let qe=0;qe<Ue;qe++)He.push(null);for(let qe=1;qe<=$e;qe++)He.push(qe);const ze=qe=>{if(!qe)return!1;const Xe=new Date(Ne,T.getMonth(),qe);return _e[Xe.toDateString()]?.length>0},Ke=qe=>{if(!qe)return[];const Xe=new Date(Ne,T.getMonth(),qe);return _e[Xe.toDateString()]||[]},Je=qe=>{if(!qe)return;const Xe=new Date(Ne,T.getMonth(),qe),Ge=Ke(qe);window.innerWidth<1024&&Ge.length>0?Ge.length===1?J(`/events/${Ge[0].id}`):G({date:Xe,events:Ge}):z(Xe)},Ze=O?_e[O.toDateString()]||[]:[],rt=qe=>!qe||!O?!1:new Date(Ne,T.getMonth(),qe).toDateString()===O.toDateString(),nt=qe=>{if(!qe)return!1;const Xe=new Date(Ne,T.getMonth(),qe),Ge=new Date;return Xe.toDateString()===Ge.toDateString()},at=R("calendar.weekdaysShort",{returnObjects:!0}),ot=R("calendar.weekdays",{returnObjects:!0});return jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"bg-white rounded-2xl shadow-lg p-4 lg:p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:[je," ",Ne]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:pe,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Previous month",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:fe,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Next month",children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5"})})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-7 gap-1 lg:gap-2 mb-2",children:at.map((qe,Xe)=>jsxRuntimeExports.jsxs("div",{className:"text-center text-xs lg:text-sm font-semibold text-gray-600 py-1 lg:py-2",children:[jsxRuntimeExports.jsx("span",{className:"lg:hidden",children:qe}),jsxRuntimeExports.jsx("span",{className:"hidden lg:inline",children:ot[Xe]})]},Xe))}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-7 gap-1 lg:gap-2",children:He.map((qe,Xe)=>{const Ge=Ke(qe);return jsxRuntimeExports.jsxs(motion.div,{onClick:()=>Je(qe),whileHover:qe?{scale:1.02}:{},whileTap:qe?{scale:.98}:{},className:`
                  min-h-[60px] lg:aspect-square flex flex-col items-center justify-start p-1 lg:p-2 rounded-lg text-xs lg:text-sm font-medium
                  transition-all duration-200 relative
                  ${qe?"cursor-pointer":"pointer-events-none"}
                  ${rt(qe)?"bg-gradient-to-br from-primary-600 to-accent-600 text-white shadow-lg ring-2 ring-primary-300 ring-offset-1":ze(qe)?"bg-primary-50 text-primary-700 hover:bg-primary-100":"text-gray-700 hover:bg-gray-50"}
                  ${nt(qe)&&!rt(qe)?"ring-2 ring-primary-400":""}
                `,children:[jsxRuntimeExports.jsx("span",{className:`${rt(qe)?"text-white":""}`,children:qe}),Ge.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-1 w-full space-y-0.5 lg:hidden",children:[Ge.slice(0,2).map((Qe,it)=>jsxRuntimeExports.jsx("div",{className:`text-[8px] leading-tight truncate px-0.5 rounded ${rt(qe)?"bg-white/30 text-white":"bg-primary-200 text-primary-800"}`,children:Qe.title.length>8?Qe.title.slice(0,8)+"..":Qe.title},it)),Ge.length>2&&jsxRuntimeExports.jsx("div",{className:`text-[8px] ${rt(qe)?"text-white/80":"text-primary-600"}`,children:R("common.more",{count:Ge.length-2})})]}),ze(qe)&&!rt(qe)&&jsxRuntimeExports.jsx("div",{className:"hidden lg:block absolute bottom-1 w-1.5 h-1.5 bg-primary-600 rounded-full"})]},Xe)})}),jsxRuntimeExports.jsxs("div",{className:"hidden lg:flex mt-6 items-center gap-4 text-sm flex-wrap",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-primary-100 rounded"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:R("calendar.hasEvents")})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-gradient-to-br from-primary-600 to-accent-600 rounded"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:R("calendar.selected")})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 border-2 border-primary-400 rounded"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:R("calendar.today")})]})]}),jsxRuntimeExports.jsx("div",{className:"lg:hidden mt-4 text-center",children:jsxRuntimeExports.jsxs(Link$2,{to:"/events",className:"inline-flex items-center gap-2 text-primary-600 hover:text-primary-700 font-medium text-sm transition-colors",children:[R("events.viewAllEvents")," ",jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4"})]})}),O&&jsxRuntimeExports.jsx("div",{className:"hidden lg:block mt-4",children:jsxRuntimeExports.jsxs("button",{onClick:()=>z(null),className:"text-sm text-primary-600 hover:text-primary-700 font-medium transition-colors",children:[" ",R("calendar.clearSelection")]})})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:U&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 lg:hidden flex items-end justify-center bg-black/50",onClick:()=>G(null),children:jsxRuntimeExports.jsxs(motion.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25},className:"bg-white w-full max-h-[70vh] rounded-t-2xl overflow-hidden",onClick:qe=>qe.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg",children:U.date.toLocaleDateString(ee,{month:"long",day:"numeric"})}),jsxRuntimeExports.jsx("button",{onClick:()=>G(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx("div",{className:"p-4 space-y-3 overflow-y-auto max-h-[60vh]",children:U.events.map(qe=>jsxRuntimeExports.jsxs(Link$2,{to:`/events/${qe.id}`,className:"block bg-primary-50 rounded-xl p-4 hover:bg-primary-100 transition-colors",onClick:()=>G(null),children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:qe.title}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 line-clamp-2 mb-2 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:qe.description}}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[jsxRuntimeExports.jsx("span",{children:new Date(qe.start_date).toLocaleTimeString(ee,{hour:"numeric",minute:"2-digit"})}),jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 bg-primary-200 text-primary-700 rounded-full capitalize",children:R(`events.${qe.type}`,qe.type)})]})]},qe.id))})]})})}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"hidden lg:block space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:O?`${R("calendar.eventsOn")} ${O.toLocaleDateString(ee,{month:"long",day:"numeric",year:"numeric"})}`:R("calendar.upcomingEvents")}),O&&jsxRuntimeExports.jsxs("span",{className:"px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm font-semibold",children:[Ze.length," ",Ze.length===1?R("calendar.event"):R("calendar.events")]})]}),ae?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center py-12",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-12 h-12 animate-spin text-primary-600"})}):oe?jsxRuntimeExports.jsx("div",{className:"text-center py-12 bg-white rounded-xl shadow-lg p-6",children:jsxRuntimeExports.jsx("p",{className:"text-red-600",children:R("events.loadingError")})}):O?Ze.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-lg p-6",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:R("calendar.noEventsOnDate")}),jsxRuntimeExports.jsx("button",{onClick:()=>z(null),className:"text-primary-600 hover:text-primary-700 font-medium transition-colors",children:R("calendar.viewUpcomingEvents")})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[Ze.map(qe=>jsxRuntimeExports.jsx(Link$2,{to:`/events/${qe.id}`,className:"block",children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{x:5},className:"bg-gradient-to-r from-white to-primary-50 rounded-xl shadow-lg p-6 border-l-4 border-primary-600 cursor-pointer hover:shadow-xl transition-shadow",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-600 p-3 rounded-lg",children:jsxRuntimeExports.jsx(Calendar,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-lg mb-1 hover:text-primary-600 transition-colors",children:qe.title}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-2 line-clamp-2 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:qe.description}}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 flex-wrap",children:[jsxRuntimeExports.jsx("span",{children:new Date(qe.start_date).toLocaleTimeString(ee,{hour:"numeric",minute:"2-digit"})}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded-full text-xs font-semibold capitalize",children:R(`events.${qe.type}`,qe.type)}),qe.location&&jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:qe.location})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3 flex items-center gap-1 text-primary-600 text-sm font-medium",children:[R("events.viewDetails")," ",jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4"})]})]})]})})},qe.id)),jsxRuntimeExports.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>z(null),className:"text-primary-600 hover:text-primary-700 font-medium transition-colors flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4"}),R("calendar.viewUpcomingEvents")]}),jsxRuntimeExports.jsxs(Link$2,{to:"/events",className:"text-primary-600 hover:text-primary-700 font-medium transition-colors flex items-center gap-2",children:[R("events.allEvents")," ",jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4"})]})]})]}):ye.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-lg p-6",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:R("calendar.noUpcomingEvents")})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[ye.map(qe=>jsxRuntimeExports.jsx(Link$2,{to:`/events/${qe.id}`,className:"block",children:jsxRuntimeExports.jsx(motion.div,{whileHover:{x:5},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-primary-600 cursor-pointer hover:shadow-xl transition-shadow",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-100 p-3 rounded-lg",children:jsxRuntimeExports.jsx(Calendar,{className:"w-6 h-6 text-primary-600"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-lg mb-1 hover:text-primary-600 transition-colors",children:qe.title}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-2 line-clamp-2 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:qe.description}}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 flex-wrap",children:[jsxRuntimeExports.jsx("span",{children:new Date(qe.start_date).toLocaleDateString(ee,{month:"long",day:"numeric",year:"numeric"})}),jsxRuntimeExports.jsx("span",{children:new Date(qe.start_date).toLocaleTimeString(ee,{hour:"numeric",minute:"2-digit"})}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded-full text-xs font-semibold capitalize",children:R(`events.${qe.type}`,qe.type)}),qe.location&&jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:qe.location})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3 flex items-center gap-1 text-primary-600 text-sm font-medium",children:[R("events.viewDetails")," ",jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4"})]})]})]})})},qe.id)),jsxRuntimeExports.jsx("div",{className:"mt-4 text-center",children:jsxRuntimeExports.jsxs(Link$2,{to:"/events",className:"inline-flex items-center gap-2 text-primary-600 hover:text-primary-700 font-medium transition-colors",children:[R("events.viewAllEvents")," ",jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4"})]})})]})]})]})},BookingModal=({isOpen:R,onClose:y,item:T,type:A})=>{const{t:O}=useTranslation(),[z,{isLoading:U}]=useCreateBookingMutation(),[G,J]=reactExports.useState(!1),[ee,te]=reactExports.useState({name:"",email:"",phone:""}),[ae,oe]=reactExports.useState({}),pe=()=>{const je={};return ee.name.trim()||(je.name=O("booking.errors.nameRequired")),ee.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ee.email)||(je.email=O("booking.errors.emailInvalid")):je.email=O("booking.errors.emailRequired"),ee.phone.trim()||(je.phone=O("booking.errors.phoneRequired")),oe(je),Object.keys(je).length===0},fe=async je=>{if(je.preventDefault(),!!pe())try{await z({name:ee.name,email:ee.email,phone:ee.phone,bookable_type:A,bookable_id:T.id}).unwrap(),J(!0)}catch(Ne){console.error("Booking failed:",Ne)}},xe=()=>{te({name:"",email:"",phone:""}),oe({}),J(!1),y()},ye=A==="course",_e=T,Le=T;return jsxRuntimeExports.jsx(AnimatePresence,{children:R&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:xe,children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",onClick:je=>je.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"relative h-48 overflow-hidden",children:[T.image_url?jsxRuntimeExports.jsx("img",{src:T.image_url,alt:T.name,className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary-500 to-accent-500"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),jsxRuntimeExports.jsx("button",{onClick:xe,className:"absolute top-4 right-4 p-2 bg-white/20 backdrop-blur-sm rounded-full hover:bg-white/30 transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-4 left-4 right-4 text-white",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mb-2",children:jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-white/20 backdrop-blur-sm rounded-full text-sm font-medium",children:ye?_e.level:Le.difficulty})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:T.name})]})]}),jsxRuntimeExports.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-12rem)]",children:G?jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-8",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-green-100 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-10 h-10 text-green-600"})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:O("booking.successTitle")}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:O("booking.successMessage")}),jsxRuntimeExports.jsx(Button,{onClick:xe,variant:"primary",children:O("common.close")})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6 p-4 bg-gray-50 rounded-xl",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5 mx-auto mb-1 text-primary-600"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:O("booking.duration")}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-900",children:T.duration})]}),ye?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(Award,{className:"w-5 h-5 mx-auto mb-1 text-primary-600"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:O("booking.level")}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-900",children:_e.level})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(Users,{className:"w-5 h-5 mx-auto mb-1 text-primary-600"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:O("booking.maxStudents")}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-900",children:_e.max_students||"-"})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-5 h-5 mx-auto mb-1 text-primary-600"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:O("booking.location")}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-900 truncate",children:Le.location})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(Users,{className:"w-5 h-5 mx-auto mb-1 text-primary-600"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:O("booking.maxParticipants")}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-900",children:Le.max_participants||"-"})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(SaudiRiyalPrice,{amount:T.price,className:"text-2xl font-bold text-primary-600"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:O("booking.price")})]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:O("booking.fillDetails")}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[O("booking.name")," *"]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",value:ee.name,onChange:je=>te({...ee,name:je.target.value}),className:`w-full pl-10 pr-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all ${ae.name?"border-red-500":"border-gray-300"}`,placeholder:O("booking.namePlaceholder")})]}),ae.name&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-500",children:ae.name})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[O("booking.email")," *"]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Mail,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"email",value:ee.email,onChange:je=>te({...ee,email:je.target.value}),className:`w-full pl-10 pr-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all ${ae.email?"border-red-500":"border-gray-300"}`,placeholder:O("booking.emailPlaceholder")})]}),ae.email&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-500",children:ae.email})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[O("booking.phone")," *"]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Phone,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"tel",value:ee.phone,onChange:je=>te({...ee,phone:je.target.value}),className:`w-full pl-10 pr-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all ${ae.phone?"border-red-500":"border-gray-300"}`,placeholder:O("booking.phonePlaceholder")})]}),ae.phone&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-500",children:ae.phone})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 pt-4",children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",className:"flex-1",onClick:xe,children:O("common.cancel")}),jsxRuntimeExports.jsx(Button,{type:"submit",variant:"primary",className:"flex-1",disabled:U,children:U?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),O("booking.submitting")]}):O("booking.submit")})]})]})]})})]})})})},FeaturedInstructor=()=>{const{t:R}=useTranslation(),{data:y,isLoading:T,error:A}=useGetFeaturedInstructorQuery();if(T||A||!y||!y.id)return null;const O={instagram:Instagram,facebook:Facebook,linkedin:Linkedin,twitter:Twitter},z=y.image?y.image.startsWith("http")?y.image:`/storage/${y.image}`:"/placeholder.svg";return jsxRuntimeExports.jsx(Section,{background:"white",className:"overflow-hidden",children:jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-16 items-center",children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"relative",children:jsxRuntimeExports.jsxs("div",{className:"relative aspect-[4/5] max-w-md mx-auto lg:mx-0",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-100 to-accent-100 rounded-2xl transform rotate-3 scale-105"}),jsxRuntimeExports.jsxs("div",{className:"relative h-full overflow-hidden rounded-2xl shadow-2xl",children:[jsxRuntimeExports.jsx("img",{src:z,alt:y.name,className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1/3 bg-gradient-to-t from-black/60 to-transparent"}),y.experience&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-white",children:[jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:y.experience})]})})]}),y.certifications&&y.certifications.length>0&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.3,duration:.4},className:"absolute -right-4 -bottom-4 lg:-right-8 lg:-bottom-8 bg-white rounded-xl shadow-xl p-4 max-w-[200px]",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(Award,{className:"w-5 h-5 text-primary-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-gray-900",children:R("common.certifications")})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-600 line-clamp-2",children:[y.certifications.slice(0,2).join(", "),y.certifications.length>2&&` ${R("common.more",{count:y.certifications.length-2})}`]})]})]})}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"text-center lg:text-left",children:[jsxRuntimeExports.jsx("span",{className:"inline-block px-4 py-1.5 bg-primary-100 text-primary-700 rounded-full text-sm font-semibold mb-4",children:R("home.meetInstructor","Meet Our Instructor")}),jsxRuntimeExports.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 mb-2",children:y.name}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-600 font-semibold mb-6",children:y.role}),y.bio&&jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-lg leading-relaxed mb-6 max-w-xl mx-auto lg:mx-0",children:y.bio}),y.certifications&&y.certifications.length>0&&jsxRuntimeExports.jsx("div",{className:"mb-8",children:jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 justify-center lg:justify-start",children:y.certifications.map((U,G)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm",children:[jsxRuntimeExports.jsx(Award,{className:"w-3.5 h-3.5 text-primary-600"}),U]},G))})}),y.social_links&&Object.keys(y.social_links).length>0&&jsxRuntimeExports.jsx("div",{className:"flex gap-3 justify-center lg:justify-start mb-8",children:Object.entries(y.social_links).map(([U,G])=>{if(!G)return null;const J=O[U];return J?jsxRuntimeExports.jsx("a",{href:G,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 bg-gray-100 hover:bg-primary-100 text-gray-600 hover:text-primary-600 rounded-full transition-colors",children:jsxRuntimeExports.jsx(J,{className:"w-5 h-5"})},U):null})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:[jsxRuntimeExports.jsx(Link$2,{to:"/about",children:jsxRuntimeExports.jsxs(Button,{size:"lg",children:[R("home.viewTeam","View Our Team"),jsxRuntimeExports.jsx(ArrowRight,{className:"w-5 h-5"})]})}),jsxRuntimeExports.jsx(Link$2,{to:"/contact",children:jsxRuntimeExports.jsx(Button,{variant:"outline",size:"lg",children:R("home.contactUs","Contact Us")})})]})]})]})})},WaveBackground=({variant:R="primary",opacity:y=.1,className:T=""})=>{const A={primary:"#FF6B35",secondary:"#004E89",accent:"#F7B801",light:"#E8F1F5"};return jsxRuntimeExports.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none ${T}`,children:[jsxRuntimeExports.jsxs("svg",{className:"absolute bottom-0 left-0 w-full",viewBox:"0 0 1440 320",preserveAspectRatio:"none",style:{height:"100%"},children:[jsxRuntimeExports.jsx(motion.path,{fill:A[R],fillOpacity:y,d:"M0,96L48,112C96,128,192,160,288,186.7C384,213,480,235,576,213.3C672,192,768,128,864,128C960,128,1056,192,1152,208C1248,224,1344,192,1392,176L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:y},transition:{pathLength:{duration:2,ease:"easeInOut"},opacity:{duration:1}}}),jsxRuntimeExports.jsx(motion.path,{fill:A[R],fillOpacity:y*.5,d:"M0,224L48,213.3C96,203,192,181,288,181.3C384,181,480,203,576,224C672,245,768,267,864,250.7C960,235,1056,181,1152,165.3C1248,149,1344,171,1392,181.3L1440,192L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:y*.5},transition:{pathLength:{duration:2.5,ease:"easeInOut",delay:.2},opacity:{duration:1,delay:.2}}})]}),jsxRuntimeExports.jsx("svg",{className:"absolute top-0 left-0 w-full rotate-180",viewBox:"0 0 1440 320",preserveAspectRatio:"none",style:{height:"50%"},children:jsxRuntimeExports.jsx(motion.path,{fill:A[R],fillOpacity:y*.3,d:"M0,96L48,112C96,128,192,160,288,186.7C384,213,480,235,576,213.3C672,192,768,128,864,128C960,128,1056,192,1152,208C1248,224,1344,192,1392,176L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z",animate:{d:["M0,96L48,112C96,128,192,160,288,186.7C384,213,480,235,576,213.3C672,192,768,128,864,128C960,128,1056,192,1152,208C1248,224,1344,192,1392,176L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z","M0,160L48,144C96,128,192,96,288,90.7C384,85,480,107,576,128C672,149,768,171,864,165.3C960,160,1056,128,1152,122.7C1248,117,1344,139,1392,149.3L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z","M0,96L48,112C96,128,192,160,288,186.7C384,213,480,235,576,213.3C672,192,768,128,864,128C960,128,1056,192,1152,208C1248,224,1344,192,1392,176L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}})})]})},LiquidBlob=({color:R="from-primary-400 to-accent-400",size:y=400,blur:T=60,position:A={x:"50%",y:"50%"},animate:O=!0})=>{const z={animate:{scale:[1,1.2,1.1,1],rotate:[0,90,180,270,360],borderRadius:["60% 40% 30% 70%","30% 60% 70% 40%","50% 50% 50% 50%","60% 40% 30% 70%"]}};return jsxRuntimeExports.jsx(motion.div,{className:`absolute bg-gradient-to-br ${R}`,style:{width:y,height:y,left:A.x,top:A.y,filter:`blur(${T}px)`,transform:"translate(-50%, -50%)",borderRadius:"60% 40% 30% 70%"},variants:z,animate:O?"animate":void 0,transition:{duration:20,repeat:1/0,ease:"easeInOut"}})},LiquidBackground=({className:R=""})=>jsxRuntimeExports.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none ${R}`,children:[jsxRuntimeExports.jsx(LiquidBlob,{color:"from-primary-400/20 to-accent-400/20",size:600,blur:80,position:{x:"20%",y:"30%"}}),jsxRuntimeExports.jsx(LiquidBlob,{color:"from-secondary-400/15 to-primary-400/15",size:500,blur:70,position:{x:"80%",y:"60%"}}),jsxRuntimeExports.jsx(LiquidBlob,{color:"from-accent-400/10 to-secondary-400/10",size:400,blur:60,position:{x:"60%",y:"80%"}})]}),StaggerContainer=({children:R,staggerDelay:y=.1,className:T=""})=>{const A=reactExports.useRef(null),O=useInView(A,{once:!0,margin:"-50px"});return jsxRuntimeExports.jsx(motion.div,{ref:A,initial:"hidden",animate:O?"visible":"hidden",variants:{visible:{transition:{staggerChildren:y}}},className:T,children:React.Children.map(R,z=>jsxRuntimeExports.jsx(motion.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.6,-.05,.01,.99]}}},children:z}))})},CountUp=({end:R,duration:y=2,suffix:T="",prefix:A="",className:O=""})=>{const[z,U]=reactExports.useState(0),G=reactExports.useRef(null),J=useInView(G,{once:!0,margin:"-100px"}),ee=reactExports.useRef(!1);return reactExports.useEffect(()=>{if(J&&!ee.current){ee.current=!0;let te=null;const ae=0,oe=pe=>{te===null&&(te=pe);const fe=pe-te,xe=Math.min(fe/(y*1e3),1),ye=1-Math.pow(1-xe,4),_e=Math.floor(ye*(R-ae)+ae);U(_e),xe<1?requestAnimationFrame(oe):U(R)};requestAnimationFrame(oe)}},[J,R,y]),jsxRuntimeExports.jsxs("div",{ref:G,className:O,children:[A,z.toLocaleString(),T]})},FishSvg=({className:R="",flip:y})=>jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 64 32",fill:"currentColor",className:R,style:y?{transform:"scaleX(-1)"}:void 0,children:[jsxRuntimeExports.jsx("path",{d:"M48,16c8-6,16-6,16-6s-8,0-16-6c0,4-4,6-8,6H20c-6,0-12-4-16-6v12c4-2,10-6,16-6h20c4,0,8,2,8,6z"}),jsxRuntimeExports.jsx("circle",{cx:"44",cy:"14",r:"2",fill:"rgba(255,255,255,0.6)"})]}),SeaweedSvg=({className:R=""})=>jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 40 120",fill:"currentColor",className:R,children:[jsxRuntimeExports.jsx("path",{d:"M20,120 Q10,100 20,80 Q30,60 20,40 Q10,20 20,0",strokeWidth:"6",stroke:"currentColor",fill:"none",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M20,120 Q30,95 20,75 Q10,55 20,35 Q30,15 25,0",strokeWidth:"4",stroke:"currentColor",fill:"none",strokeLinecap:"round",opacity:"0.6"})]}),CoralSvg=({className:R=""})=>jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 80 80",fill:"currentColor",className:R,children:[jsxRuntimeExports.jsx("path",{d:"M40,80 L40,50 Q30,45 25,30 Q20,15 30,10 Q35,8 38,15 Q40,20 40,25"}),jsxRuntimeExports.jsx("path",{d:"M40,50 Q50,45 55,30 Q60,15 50,10 Q45,8 42,15 Q40,20 40,25"}),jsxRuntimeExports.jsx("path",{d:"M40,60 Q32,55 28,45 Q24,35 32,30 Q36,28 38,35",opacity:"0.7"}),jsxRuntimeExports.jsx("path",{d:"M40,60 Q48,55 52,45 Q56,35 48,30 Q44,28 42,35",opacity:"0.7"})]}),StarfishSvg=({className:R=""})=>jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"currentColor",className:R,children:jsxRuntimeExports.jsx("path",{d:"M24,2 L28,18 L46,18 L32,28 L36,46 L24,36 L12,46 L16,28 L2,18 L20,18 Z"})}),ShellSvg=({className:R=""})=>jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 48 48",fill:"currentColor",className:R,children:[jsxRuntimeExports.jsx("path",{d:"M24,4 Q36,4 42,20 Q48,36 24,46 Q0,36 6,20 Q12,4 24,4Z"}),jsxRuntimeExports.jsx("path",{d:"M24,8 L24,42",stroke:"rgba(255,255,255,0.3)",strokeWidth:"1",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M12,14 Q24,24 36,14",stroke:"rgba(255,255,255,0.3)",strokeWidth:"1",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M8,24 Q24,32 40,24",stroke:"rgba(255,255,255,0.3)",strokeWidth:"1",fill:"none"})]}),TurtleSvg=({className:R="",flip:y})=>jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 80 48",fill:"currentColor",className:R,style:y?{transform:"scaleX(-1)"}:void 0,children:[jsxRuntimeExports.jsx("ellipse",{cx:"40",cy:"24",rx:"22",ry:"16"}),jsxRuntimeExports.jsx("ellipse",{cx:"40",cy:"24",rx:"18",ry:"12",opacity:"0.5"}),jsxRuntimeExports.jsx("path",{d:"M18,24 L6,18 Q2,16 4,20 L14,24"}),jsxRuntimeExports.jsx("path",{d:"M18,28 L8,34 Q4,36 6,32 L16,28"}),jsxRuntimeExports.jsx("path",{d:"M62,24 L74,18 Q78,16 76,20 L66,24"}),jsxRuntimeExports.jsx("path",{d:"M62,28 L72,34 Q76,36 74,32 L64,28"}),jsxRuntimeExports.jsx("circle",{cx:"12",cy:"20",r:"6"}),jsxRuntimeExports.jsx("circle",{cx:"13",cy:"19",r:"2",fill:"rgba(255,255,255,0.5)"})]}),SeaLifeDecorations=({className:R=""})=>jsxRuntimeExports.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none ${R}`,"aria-hidden":"true",children:[jsxRuntimeExports.jsx(motion.div,{className:"absolute top-[10%] left-[5%] text-primary-500/60 w-32 h-16",animate:{x:[0,300,600,900,600,300,0],y:[0,-20,10,-15,5,15,0]},transition:{duration:24,repeat:1/0,ease:"easeInOut"},children:jsxRuntimeExports.jsx(FishSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute top-[35%] right-[3%] text-accent-600/55 w-28 h-14",animate:{x:[0,-200,-500,-700,-500,-200,0],y:[0,15,-10,20,-5,12,0]},transition:{duration:20,repeat:1/0,ease:"easeInOut",delay:2},children:jsxRuntimeExports.jsx(FishSvg,{flip:!0})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute top-[65%] left-[10%] text-primary-500/50 w-24 h-12",animate:{x:[0,180,350,180,0],y:[0,-12,8,-10,0]},transition:{duration:16,repeat:1/0,ease:"easeInOut",delay:4},children:jsxRuntimeExports.jsx(FishSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute top-[20%] right-[15%] text-primary-400/55 w-20 h-10",animate:{x:[0,-120,-280,-120,0],y:[0,10,-8,14,0]},transition:{duration:14,repeat:1/0,ease:"easeInOut",delay:1},children:jsxRuntimeExports.jsx(FishSvg,{flip:!0})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute top-[23%] right-[18%] text-primary-400/50 w-14 h-7",animate:{x:[0,-120,-280,-120,0],y:[0,8,-10,12,0]},transition:{duration:14,repeat:1/0,ease:"easeInOut",delay:1.4},children:jsxRuntimeExports.jsx(FishSvg,{flip:!0})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute top-[18%] right-[17%] text-primary-400/45 w-12 h-6",animate:{x:[0,-120,-280,-120,0],y:[0,12,-5,10,0]},transition:{duration:14,repeat:1/0,ease:"easeInOut",delay:1.8},children:jsxRuntimeExports.jsx(FishSvg,{flip:!0})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute top-[50%] left-[2%] text-accent-600/45 w-40 h-22",animate:{x:[0,150,400,600,400,150,0],y:[0,-18,8,-12,10,-6,0],rotate:[0,-3,2,-2,3,-1,0]},transition:{duration:30,repeat:1/0,ease:"easeInOut",delay:5},children:jsxRuntimeExports.jsx(TurtleSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-0 left-[4%] text-accent-600/50 w-18 h-52",animate:{rotateZ:[-5,5,-5]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},style:{transformOrigin:"bottom center"},children:jsxRuntimeExports.jsx(SeaweedSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-0 left-[8%] text-primary-500/45 w-14 h-44",animate:{rotateZ:[3,-4,3]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:.5},style:{transformOrigin:"bottom center"},children:jsxRuntimeExports.jsx(SeaweedSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-0 right-[5%] text-accent-600/50 w-16 h-48",animate:{rotateZ:[4,-5,4]},transition:{duration:4.5,repeat:1/0,ease:"easeInOut",delay:1},style:{transformOrigin:"bottom center"},children:jsxRuntimeExports.jsx(SeaweedSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-0 right-[9%] text-primary-500/45 w-14 h-38",animate:{rotateZ:[-3,6,-3]},transition:{duration:5.5,repeat:1/0,ease:"easeInOut",delay:1.5},style:{transformOrigin:"bottom center"},children:jsxRuntimeExports.jsx(SeaweedSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-0 left-[48%] text-accent-500/40 w-12 h-32",animate:{rotateZ:[-4,4,-4]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:2},style:{transformOrigin:"bottom center"},children:jsxRuntimeExports.jsx(SeaweedSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-0 left-[10%] text-primary-500/50 w-32 h-32",animate:{scale:[1,1.05,1]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},children:jsxRuntimeExports.jsx(CoralSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-0 right-[12%] text-accent-600/45 w-28 h-28",animate:{scale:[1,1.06,1]},transition:{duration:7,repeat:1/0,ease:"easeInOut",delay:2},children:jsxRuntimeExports.jsx(CoralSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-0 right-[35%] text-primary-400/40 w-22 h-22",animate:{scale:[1,1.04,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:3},children:jsxRuntimeExports.jsx(CoralSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-[4%] left-[20%] text-primary-500/55 w-16 h-16",animate:{rotate:[0,20,0,-15,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},children:jsxRuntimeExports.jsx(StarfishSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-[6%] right-[22%] text-accent-500/50 w-14 h-14",animate:{rotate:[0,-12,0,18,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:4},children:jsxRuntimeExports.jsx(StarfishSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-[3%] left-[35%] text-primary-500/50 w-14 h-14",animate:{rotate:[0,-10,0,8,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:2},children:jsxRuntimeExports.jsx(ShellSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-[5%] right-[30%] text-accent-600/45 w-12 h-12",animate:{rotate:[0,12,0,-6,0]},transition:{duration:14,repeat:1/0,ease:"easeInOut",delay:5},children:jsxRuntimeExports.jsx(ShellSvg,{})}),[{left:"6%",bottom:"20%",size:15,delay:0,duration:6},{left:"8%",bottom:"15%",size:11,delay:1.5,duration:7},{left:"11%",bottom:"18%",size:8,delay:3,duration:8},{left:"12%",bottom:"22%",size:12,delay:.5,duration:6.5},{left:"49%",bottom:"12%",size:9,delay:2,duration:7},{left:"50%",bottom:"16%",size:6,delay:4,duration:8},{left:"88%",bottom:"18%",size:14,delay:1,duration:6},{left:"91%",bottom:"14%",size:9,delay:3,duration:7.5},{left:"93%",bottom:"20%",size:8,delay:5,duration:8},{left:"36%",bottom:"10%",size:11,delay:2.5,duration:7}].map((y,T)=>jsxRuntimeExports.jsx(motion.div,{className:"absolute rounded-full",style:{left:y.left,bottom:y.bottom,width:y.size,height:y.size,background:"radial-gradient(circle at 35% 35%, rgba(6,182,212,0.7), rgba(6,182,212,0.25) 60%, transparent 70%)",border:"1px solid rgba(6,182,212,0.5)",boxShadow:`0 0 ${y.size*2}px rgba(6,182,212,0.25)`},animate:{y:[0,-120,-250],opacity:[0,1,0],scale:[.8,1.3,.6]},transition:{duration:y.duration,repeat:1/0,ease:"easeOut",delay:y.delay}},T))]}),ScubaMaskSvg=({className:R=""})=>jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 80 48",fill:"currentColor",className:R,children:[jsxRuntimeExports.jsx("rect",{x:"4",y:"10",width:"30",height:"24",rx:"6",opacity:"0.8"}),jsxRuntimeExports.jsx("rect",{x:"46",y:"10",width:"30",height:"24",rx:"6",opacity:"0.8"}),jsxRuntimeExports.jsx("rect",{x:"34",y:"18",width:"12",height:"8",rx:"3",opacity:"0.6"}),jsxRuntimeExports.jsx("rect",{x:"8",y:"14",width:"22",height:"16",rx:"4",fill:"rgba(255,255,255,0.15)"}),jsxRuntimeExports.jsx("rect",{x:"50",y:"14",width:"22",height:"16",rx:"4",fill:"rgba(255,255,255,0.15)"}),jsxRuntimeExports.jsx("path",{d:"M0,22 L4,22",strokeWidth:"3",stroke:"currentColor",strokeLinecap:"round",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M76,22 L80,22",strokeWidth:"3",stroke:"currentColor",strokeLinecap:"round",fill:"none"})]}),FlipperSvg=({className:R="",flip:y})=>jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 80 32",fill:"currentColor",className:R,style:y?{transform:"scaleX(-1)"}:void 0,children:[jsxRuntimeExports.jsx("path",{d:"M10,10 L10,22 Q10,28 16,28 L28,28 Q32,28 32,24 L32,8 Q32,4 28,4 L16,4 Q10,4 10,10Z",opacity:"0.9"}),jsxRuntimeExports.jsx("path",{d:"M32,6 Q50,2 70,6 Q80,10 78,16 Q76,22 70,26 Q50,30 32,26Z",opacity:"0.7"}),jsxRuntimeExports.jsx("path",{d:"M40,10 Q55,8 65,12",strokeWidth:"1.5",stroke:"rgba(255,255,255,0.2)",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M40,16 Q55,14 65,18",strokeWidth:"1.5",stroke:"rgba(255,255,255,0.2)",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M40,22 Q55,20 65,24",strokeWidth:"1.5",stroke:"rgba(255,255,255,0.2)",fill:"none"})]}),TankSvg=({className:R=""})=>jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 36 80",fill:"currentColor",className:R,children:[jsxRuntimeExports.jsx("rect",{x:"8",y:"16",width:"20",height:"56",rx:"10",opacity:"0.8"}),jsxRuntimeExports.jsx("rect",{x:"12",y:"8",width:"12",height:"12",rx:"4",opacity:"0.9"}),jsxRuntimeExports.jsx("rect",{x:"14",y:"4",width:"8",height:"6",rx:"2",opacity:"0.7"}),jsxRuntimeExports.jsx("circle",{cx:"18",cy:"6",r:"2",fill:"rgba(255,255,255,0.2)"}),jsxRuntimeExports.jsx("rect",{x:"12",y:"24",width:"12",height:"3",rx:"1",fill:"rgba(255,255,255,0.12)"}),jsxRuntimeExports.jsx("rect",{x:"12",y:"32",width:"12",height:"3",rx:"1",fill:"rgba(255,255,255,0.12)"}),jsxRuntimeExports.jsx("path",{d:"M28,20 L32,18 L32,28 L28,26",opacity:"0.6"})]}),AnchorSvg=({className:R=""})=>jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 48 64",fill:"currentColor",className:R,children:[jsxRuntimeExports.jsx("circle",{cx:"24",cy:"8",r:"6",fill:"none",stroke:"currentColor",strokeWidth:"3"}),jsxRuntimeExports.jsx("line",{x1:"24",y1:"14",x2:"24",y2:"54",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"}),jsxRuntimeExports.jsx("line",{x1:"10",y1:"32",x2:"38",y2:"32",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M6,50 Q6,58 14,58 L24,54",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M42,50 Q42,58 34,58 L24,54",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})]}),CompassSvg=({className:R=""})=>jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 48 48",fill:"currentColor",className:R,children:[jsxRuntimeExports.jsx("circle",{cx:"24",cy:"24",r:"22",fill:"none",stroke:"currentColor",strokeWidth:"2",opacity:"0.6"}),jsxRuntimeExports.jsx("circle",{cx:"24",cy:"24",r:"18",fill:"none",stroke:"currentColor",strokeWidth:"1",opacity:"0.4"}),jsxRuntimeExports.jsx("polygon",{points:"24,6 27,22 24,24 21,22",opacity:"0.8"}),jsxRuntimeExports.jsx("polygon",{points:"24,42 21,26 24,24 27,26",opacity:"0.5"}),jsxRuntimeExports.jsx("polygon",{points:"6,24 22,21 24,24 22,27",opacity:"0.5"}),jsxRuntimeExports.jsx("polygon",{points:"42,24 26,27 24,24 26,21",opacity:"0.5"}),jsxRuntimeExports.jsx("circle",{cx:"24",cy:"24",r:"3",opacity:"0.7"})]}),WaveLineSvg=({className:R=""})=>jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 200 20",fill:"none",className:R,preserveAspectRatio:"none",children:[jsxRuntimeExports.jsx("path",{d:"M0,10 Q25,2 50,10 Q75,18 100,10 Q125,2 150,10 Q175,18 200,10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",opacity:"0.6"}),jsxRuntimeExports.jsx("path",{d:"M0,14 Q25,6 50,14 Q75,22 100,14 Q125,6 150,14 Q175,22 200,14",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.3"})]}),DivingDecorations=({className:R=""})=>jsxRuntimeExports.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none ${R}`,"aria-hidden":"true",children:[jsxRuntimeExports.jsx(motion.div,{className:"absolute top-[8%] right-[6%] text-primary-500/50 w-28 h-16",animate:{y:[0,-8,0,6,0],rotate:[0,3,0,-2,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},children:jsxRuntimeExports.jsx(ScubaMaskSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-[8%] left-[4%] text-accent-600/50 w-32 h-14",animate:{y:[0,-6,0,8,0],rotate:[0,-5,0,4,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2},children:jsxRuntimeExports.jsx(FlipperSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-[12%] left-[6%] text-accent-600/45 w-30 h-12",animate:{y:[0,-5,0,7,0],rotate:[0,-4,0,3,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2.3},children:jsxRuntimeExports.jsx(FlipperSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute top-[5%] left-[8%] text-primary-500/45 w-14 h-28",animate:{y:[0,-10,0,8,0],rotate:[0,3,0,-4,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:1},children:jsxRuntimeExports.jsx(TankSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-[5%] right-[8%] text-primary-500/45 w-20 h-24",animate:{y:[0,-6,0,4,0],rotate:[0,-3,0,5,0]},transition:{duration:14,repeat:1/0,ease:"easeInOut",delay:3},children:jsxRuntimeExports.jsx(AnchorSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute top-[45%] right-[3%] text-accent-500/45 w-20 h-20",animate:{rotate:[0,15,0,-10,0],scale:[1,1.05,1,.97,1]},transition:{duration:16,repeat:1/0,ease:"easeInOut",delay:4},children:jsxRuntimeExports.jsx(CompassSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute top-[2%] left-[10%] right-[10%] text-primary-400/40 h-8",animate:{x:[0,20,0,-20,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},children:jsxRuntimeExports.jsx(WaveLineSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-[2%] left-[5%] right-[5%] text-accent-400/35 h-8",animate:{x:[0,-15,0,15,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2},children:jsxRuntimeExports.jsx(WaveLineSvg,{})}),[{left:"9%",top:"28%",size:12,delay:0,duration:7},{left:"7%",top:"22%",size:8,delay:1.5,duration:8},{left:"10%",top:"18%",size:9,delay:3,duration:6},{right:"7%",top:"22%",size:11,delay:1,duration:7},{right:"9%",top:"16%",size:8,delay:2.5,duration:8},{right:"5%",top:"28%",size:6,delay:4,duration:9},{left:"50%",top:"8%",size:9,delay:2,duration:7},{left:"45%",top:"12%",size:6,delay:3.5,duration:8}].map((y,T)=>jsxRuntimeExports.jsx(motion.div,{className:"absolute rounded-full",style:{left:y.left,right:y.right,top:y.top,width:y.size,height:y.size,background:"radial-gradient(circle at 35% 35%, rgba(6,182,212,0.65), rgba(6,182,212,0.25) 60%, transparent 70%)",border:"1px solid rgba(6,182,212,0.5)",boxShadow:`0 0 ${y.size*2}px rgba(6,182,212,0.2)`},animate:{y:[0,-100,-200],opacity:[0,1,0],scale:[.8,1.2,.6]},transition:{duration:y.duration,repeat:1/0,ease:"easeOut",delay:y.delay}},T))]}),JellyfishSvg=({className:R=""})=>jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 48 64",fill:"currentColor",className:R,children:[jsxRuntimeExports.jsx("ellipse",{cx:"24",cy:"20",rx:"20",ry:"18",opacity:"0.8"}),jsxRuntimeExports.jsx("ellipse",{cx:"24",cy:"20",rx:"14",ry:"12",fill:"rgba(255,255,255,0.12)"}),jsxRuntimeExports.jsx("path",{d:"M10,30 Q8,42 12,54",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",opacity:"0.6"}),jsxRuntimeExports.jsx("path",{d:"M18,32 Q20,46 16,58",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",opacity:"0.5"}),jsxRuntimeExports.jsx("path",{d:"M30,32 Q28,46 32,58",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",opacity:"0.5"}),jsxRuntimeExports.jsx("path",{d:"M38,30 Q40,42 36,54",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",opacity:"0.6"}),jsxRuntimeExports.jsx("path",{d:"M24,34 Q24,48 24,62",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",opacity:"0.4"})]}),TreasureChestSvg=({className:R=""})=>jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 64 48",fill:"currentColor",className:R,children:[jsxRuntimeExports.jsx("rect",{x:"6",y:"20",width:"52",height:"26",rx:"4",opacity:"0.8"}),jsxRuntimeExports.jsx("path",{d:"M6,20 Q32,6 58,20",fill:"currentColor",opacity:"0.9"}),jsxRuntimeExports.jsx("rect",{x:"26",y:"26",width:"12",height:"10",rx:"2",fill:"rgba(255,255,255,0.15)"}),jsxRuntimeExports.jsx("circle",{cx:"32",cy:"31",r:"3",fill:"rgba(255,255,255,0.25)"}),jsxRuntimeExports.jsx("line",{x1:"6",y1:"32",x2:"58",y2:"32",stroke:"rgba(255,255,255,0.1)",strokeWidth:"1.5"})]}),CoinSvg=({className:R=""})=>jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 32 32",fill:"currentColor",className:R,children:[jsxRuntimeExports.jsx("circle",{cx:"16",cy:"16",r:"14",opacity:"0.8"}),jsxRuntimeExports.jsx("circle",{cx:"16",cy:"16",r:"10",fill:"none",stroke:"rgba(255,255,255,0.2)",strokeWidth:"1.5"}),jsxRuntimeExports.jsx("text",{x:"16",y:"21",textAnchor:"middle",fontSize:"14",fill:"rgba(255,255,255,0.3)",fontWeight:"bold",children:"$"})]}),WhaleSvg=({className:R="",flip:y})=>jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 96 48",fill:"currentColor",className:R,style:y?{transform:"scaleX(-1)"}:void 0,children:[jsxRuntimeExports.jsx("ellipse",{cx:"42",cy:"26",rx:"34",ry:"18",opacity:"0.7"}),jsxRuntimeExports.jsx("path",{d:"M76,20 Q88,8 96,12 Q92,18 84,22 Q92,26 96,36 Q88,40 76,32",opacity:"0.6"}),jsxRuntimeExports.jsx("ellipse",{cx:"20",cy:"22",rx:"3",ry:"2",fill:"rgba(255,255,255,0.4)"}),jsxRuntimeExports.jsx("path",{d:"M10,30 Q16,36 28,34",fill:"none",stroke:"rgba(255,255,255,0.15)",strokeWidth:"1"}),jsxRuntimeExports.jsx("circle",{cx:"42",cy:"38",r:"1.5",fill:"rgba(255,255,255,0.1)"})]}),SeahorseSvg=({className:R=""})=>jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 36 64",fill:"currentColor",className:R,children:[jsxRuntimeExports.jsx("path",{d:"M18,4 Q28,4 28,14 Q28,22 22,26 Q26,30 26,38 Q26,48 18,52 Q10,56 10,48 Q10,44 14,42 Q10,38 10,32 Q10,24 18,20 Q12,16 8,14 Q4,12 8,8 Q12,4 18,4Z",opacity:"0.7"}),jsxRuntimeExports.jsx("circle",{cx:"22",cy:"12",r:"2",fill:"rgba(255,255,255,0.3)"}),jsxRuntimeExports.jsx("path",{d:"M18,52 Q16,58 20,62 Q22,60 20,56",opacity:"0.5"})]}),OctopusSvg=({className:R=""})=>jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 64 64",fill:"currentColor",className:R,children:[jsxRuntimeExports.jsx("ellipse",{cx:"32",cy:"22",rx:"20",ry:"18",opacity:"0.7"}),jsxRuntimeExports.jsx("circle",{cx:"24",cy:"18",r:"4",fill:"rgba(255,255,255,0.2)"}),jsxRuntimeExports.jsx("circle",{cx:"40",cy:"18",r:"4",fill:"rgba(255,255,255,0.2)"}),jsxRuntimeExports.jsx("circle",{cx:"24",cy:"18",r:"2",opacity:"0.9"}),jsxRuntimeExports.jsx("circle",{cx:"40",cy:"18",r:"2",opacity:"0.9"}),jsxRuntimeExports.jsx("path",{d:"M14,34 Q8,42 6,54 Q8,56 10,52 Q12,44 16,38",opacity:"0.5"}),jsxRuntimeExports.jsx("path",{d:"M20,36 Q16,46 18,58 Q20,60 22,56 Q22,46 22,38",opacity:"0.5"}),jsxRuntimeExports.jsx("path",{d:"M32,38 Q32,50 30,60 Q32,62 34,60 Q36,50 32,40",opacity:"0.5"}),jsxRuntimeExports.jsx("path",{d:"M44,36 Q48,46 46,58 Q44,60 42,56 Q42,46 42,38",opacity:"0.5"}),jsxRuntimeExports.jsx("path",{d:"M50,34 Q56,42 58,54 Q56,56 54,52 Q52,44 48,38",opacity:"0.5"})]}),RaySvg=({className:R="",flip:y})=>jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 80 32",fill:"currentColor",className:R,style:y?{transform:"scaleX(-1)"}:void 0,children:[jsxRuntimeExports.jsx("path",{d:"M40,16 Q20,4 4,8 Q0,16 4,24 Q20,28 40,16Z",opacity:"0.6"}),jsxRuntimeExports.jsx("path",{d:"M40,16 Q60,4 76,8 Q80,16 76,24 Q60,28 40,16Z",opacity:"0.6"}),jsxRuntimeExports.jsx("path",{d:"M40,16 Q42,6 50,2 L52,4 Q44,8 42,16",opacity:"0.4"}),jsxRuntimeExports.jsx("circle",{cx:"16",cy:"14",r:"2",fill:"rgba(255,255,255,0.3)"}),jsxRuntimeExports.jsx("circle",{cx:"64",cy:"14",r:"2",fill:"rgba(255,255,255,0.3)"})]}),SubmarineSvg=({className:R="",flip:y})=>jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 80 40",fill:"currentColor",className:R,style:y?{transform:"scaleX(-1)"}:void 0,children:[jsxRuntimeExports.jsx("ellipse",{cx:"40",cy:"24",rx:"32",ry:"14",opacity:"0.7"}),jsxRuntimeExports.jsx("rect",{x:"28",y:"8",width:"16",height:"12",rx:"4",opacity:"0.8"}),jsxRuntimeExports.jsx("rect",{x:"32",y:"12",width:"8",height:"6",rx:"2",fill:"rgba(255,255,255,0.2)"}),jsxRuntimeExports.jsx("path",{d:"M72,22 L78,18 L78,26 Z",opacity:"0.5"}),jsxRuntimeExports.jsx("circle",{cx:"20",cy:"22",r:"4",fill:"none",stroke:"rgba(255,255,255,0.15)",strokeWidth:"1.5"}),jsxRuntimeExports.jsx("line",{x1:"36",y1:"4",x2:"36",y2:"8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",opacity:"0.6"})]}),WaveDivider=({className:R="",position:y})=>jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 1440 40",fill:"currentColor",className:`absolute left-0 w-full ${y==="top"?"top-0":"bottom-0 rotate-180"} ${R}`,preserveAspectRatio:"none",style:{height:"60px"},children:[jsxRuntimeExports.jsx("path",{d:"M0,20 Q180,5 360,20 T720,20 T1080,20 T1440,20 L1440,40 L0,40Z",opacity:"0.5"}),jsxRuntimeExports.jsx("path",{d:"M0,28 Q180,14 360,28 T720,28 T1080,28 T1440,28 L1440,40 L0,40Z",opacity:"0.3"})]}),BubbleCluster=({bubbles:R,color:y="rgba(6,182,212,"})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:R.map((T,A)=>jsxRuntimeExports.jsx(motion.div,{className:"absolute rounded-full",style:{left:T.x,bottom:T.y,width:T.size,height:T.size,background:`radial-gradient(circle at 35% 35%, ${y}0.65), ${y}0.25) 60%, transparent 70%)`,border:`1px solid ${y}0.5)`},animate:{y:[0,-110,-220],opacity:[0,1,0],scale:[.8,1.2,.5]},transition:{duration:T.dur,repeat:1/0,ease:"easeOut",delay:T.delay}},A))});function JellyfishVariant(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{className:"absolute top-[6%] left-[6%] text-primary-500/55 w-24 h-32",animate:{y:[0,-14,0,10,0],x:[0,8,0,-6,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},children:jsxRuntimeExports.jsx(JellyfishSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute top-[12%] right-[10%] text-accent-500/50 w-18 h-24",animate:{y:[0,-10,0,12,0],x:[0,-5,0,7,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:3},children:jsxRuntimeExports.jsx(JellyfishSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute top-[40%] right-[5%] text-primary-400/50 w-16 h-26",animate:{y:[0,-8,0,6,0],rotate:[0,5,0,-3,0]},transition:{duration:14,repeat:1/0,ease:"easeInOut",delay:2},children:jsxRuntimeExports.jsx(SeahorseSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-[10%] left-[45%] text-accent-600/45 w-16 h-20",animate:{y:[0,-12,0,8,0]},transition:{duration:11,repeat:1/0,ease:"easeInOut",delay:5},children:jsxRuntimeExports.jsx(JellyfishSvg,{})}),jsxRuntimeExports.jsx(BubbleCluster,{bubbles:[{x:"8%",y:"30%",size:11,delay:0,dur:7},{x:"10%",y:"25%",size:8,delay:2,dur:8},{x:"92%",y:"35%",size:9,delay:1,dur:7},{x:"48%",y:"20%",size:8,delay:3,dur:9},{x:"88%",y:"28%",size:12,delay:4,dur:6}]}),jsxRuntimeExports.jsx(WaveDivider,{position:"bottom",className:"text-primary-300/35"})]})}function TreasureVariant(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-[4%] left-[6%] text-amber-500/50 w-28 h-20",animate:{y:[0,-4,0,3,0],rotate:[0,-2,0,1,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},children:jsxRuntimeExports.jsx(TreasureChestSvg,{})}),[{top:"15%",left:"8%",size:"w-12 h-12",delay:0,dur:10},{top:"25%",left:"12%",size:"w-10 h-10",delay:1.5,dur:12},{top:"10%",right:"10%",size:"w-11 h-11",delay:3,dur:11},{top:"60%",right:"6%",size:"w-10 h-10",delay:2,dur:9},{top:"45%",left:"4%",size:"w-8 h-8",delay:4,dur:10}].map((R,y)=>jsxRuntimeExports.jsx(motion.div,{className:`absolute text-amber-400/45 ${R.size}`,style:{top:R.top,left:R.left,right:R.right},animate:{y:[0,-10,0,8,0],rotate:[0,15,0,-10,0]},transition:{duration:R.dur,repeat:1/0,ease:"easeInOut",delay:R.delay},children:jsxRuntimeExports.jsx(CoinSvg,{})},y)),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-[6%] right-[5%] text-primary-500/45 w-26 h-26",animate:{y:[0,-6,0,8,0],rotate:[0,3,0,-2,0]},transition:{duration:14,repeat:1/0,ease:"easeInOut",delay:2},children:jsxRuntimeExports.jsx(OctopusSvg,{})}),jsxRuntimeExports.jsx(BubbleCluster,{bubbles:[{x:"7%",y:"15%",size:9,delay:.5,dur:7},{x:"9%",y:"10%",size:6,delay:2,dur:8},{x:"90%",y:"18%",size:11,delay:1,dur:7},{x:"92%",y:"12%",size:8,delay:3.5,dur:9}]})]})}function WavesVariant(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(WaveDivider,{position:"top",className:"text-primary-400/35"}),jsxRuntimeExports.jsx(WaveDivider,{position:"bottom",className:"text-accent-400/35"}),jsxRuntimeExports.jsx(motion.div,{className:"absolute top-[20%] left-[3%] text-primary-500/40 w-40 h-20",animate:{x:[0,200,500,700,500,200,0],y:[0,-12,6,-8,10,-4,0]},transition:{duration:28,repeat:1/0,ease:"easeInOut"},children:jsxRuntimeExports.jsx(WhaleSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-[25%] right-[5%] text-accent-600/40 w-32 h-14",animate:{x:[0,-150,-350,-150,0],y:[0,8,-6,10,0]},transition:{duration:18,repeat:1/0,ease:"easeInOut",delay:4},children:jsxRuntimeExports.jsx(RaySvg,{flip:!0})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute top-[55%] left-[5%] text-accent-500/40 w-16 h-26",animate:{y:[0,-10,0,8,0],rotate:[0,4,0,-3,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:2},children:jsxRuntimeExports.jsx(SeahorseSvg,{})}),jsxRuntimeExports.jsx(BubbleCluster,{bubbles:[{x:"5%",y:"40%",size:11,delay:0,dur:7},{x:"50%",y:"15%",size:8,delay:2,dur:8},{x:"92%",y:"30%",size:9,delay:1,dur:7},{x:"30%",y:"20%",size:12,delay:3,dur:6},{x:"70%",y:"25%",size:8,delay:4,dur:8},{x:"15%",y:"35%",size:6,delay:5,dur:9}]})]})}function ReefVariant(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{className:"absolute top-[8%] left-[4%] text-primary-500/50 w-24 h-24",animate:{y:[0,-8,0,6,0],rotate:[0,-3,0,4,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut"},children:jsxRuntimeExports.jsx(OctopusSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute top-[35%] right-[4%] text-accent-500/50 w-34 h-14",animate:{x:[0,-100,-220,-100,0],y:[0,8,-5,10,0]},transition:{duration:16,repeat:1/0,ease:"easeInOut",delay:3},children:jsxRuntimeExports.jsx(RaySvg,{flip:!0})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-[8%] left-[8%] text-primary-400/50 w-16 h-26",animate:{y:[0,-10,0,6,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1},children:jsxRuntimeExports.jsx(SeahorseSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-[10%] right-[8%] text-accent-600/45 w-18 h-24",animate:{y:[0,-12,0,10,0],x:[0,5,0,-4,0]},transition:{duration:11,repeat:1/0,ease:"easeInOut",delay:4},children:jsxRuntimeExports.jsx(JellyfishSvg,{})}),jsxRuntimeExports.jsx(BubbleCluster,{bubbles:[{x:"6%",y:"25%",size:11,delay:0,dur:7},{x:"8%",y:"20%",size:8,delay:1.5,dur:8},{x:"90%",y:"30%",size:9,delay:1,dur:7},{x:"10%",y:"35%",size:6,delay:3,dur:9},{x:"88%",y:"22%",size:12,delay:2,dur:6}]}),jsxRuntimeExports.jsx(WaveDivider,{position:"top",className:"text-accent-300/35"})]})}function DeepSeaVariant(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{className:"absolute top-[15%] left-[2%] text-primary-500/50 w-34 h-18",animate:{x:[0,200,450,650,450,200,0],y:[0,-10,5,-8,6,-4,0]},transition:{duration:26,repeat:1/0,ease:"easeInOut"},children:jsxRuntimeExports.jsx(SubmarineSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-[20%] right-[3%] text-accent-600/40 w-38 h-20",animate:{x:[0,-180,-400,-180,0],y:[0,10,-8,12,0]},transition:{duration:24,repeat:1/0,ease:"easeInOut",delay:6},children:jsxRuntimeExports.jsx(WhaleSvg,{flip:!0})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute top-[50%] left-[6%] text-primary-400/45 w-22 h-30",animate:{y:[0,-14,0,10,0],x:[0,6,0,-5,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:2},children:jsxRuntimeExports.jsx(JellyfishSvg,{})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute top-[8%] right-[6%] text-accent-500/45 w-22 h-22",animate:{y:[0,-6,0,8,0],rotate:[0,4,0,-3,0]},transition:{duration:14,repeat:1/0,ease:"easeInOut",delay:4},children:jsxRuntimeExports.jsx(OctopusSvg,{})}),jsxRuntimeExports.jsx(BubbleCluster,{bubbles:[{x:"4%",y:"40%",size:12,delay:0,dur:6},{x:"6%",y:"35%",size:8,delay:1,dur:7},{x:"50%",y:"15%",size:9,delay:2,dur:8},{x:"90%",y:"30%",size:11,delay:3,dur:7},{x:"88%",y:"25%",size:6,delay:4.5,dur:8},{x:"30%",y:"28%",size:8,delay:5,dur:9},{x:"70%",y:"20%",size:9,delay:1.5,dur:7}]}),jsxRuntimeExports.jsx(WaveDivider,{position:"bottom",className:"text-primary-400/30"})]})}const VARIANTS={jellyfish:JellyfishVariant,treasure:TreasureVariant,waves:WavesVariant,reef:ReefVariant,"deep-sea":DeepSeaVariant},OceanDecorations=({variant:R,className:y=""})=>{const T=VARIANTS[R];return jsxRuntimeExports.jsx("div",{className:`absolute inset-0 overflow-hidden pointer-events-none ${y}`,"aria-hidden":"true",children:jsxRuntimeExports.jsx(T,{})})},services=[{id:1,title:"Diving Essentials",description:"Premium quality diving equipment and gear for all your underwater adventures.",icon:"Package",image:null,link:"https://coralsandshells.sa"},{id:2,title:"Diving Trips",description:"Explore breathtaking dive sites with our expertly organized diving expeditions.",icon:"Compass",image:null,link:"/shop/trips"},{id:3,title:"Diving Courses",description:"Professional training programs from beginner to advanced certification levels.",icon:"GraduationCap",image:null,link:"/shop/courses"}],stats=[{value:"+1000",label:"Certifications",icon:"Award"},{value:"+600",label:"Happy Clients",icon:"Users"},{value:"95%",label:"Satisfaction Rate",icon:"TrendingUp"},{value:"+200",label:"Diving Trips",icon:"MapPin"}],HomePage=()=>{const{t:R}=useTranslation(),[y,T]=reactExports.useState(null),[A,O]=reactExports.useState(null),[z,U]=reactExports.useState(!1),[G,J]=reactExports.useState("course"),ee=(Je,Ze)=>{Je.preventDefault(),Je.stopPropagation(),T(Ze),O(null),J("course"),U(!0)},te=(Je,Ze)=>{Je.preventDefault(),Je.stopPropagation(),O(Ze),T(null),J("trip"),U(!0)},ae=()=>{U(!1),T(null),O(null)},[oe,pe]=reactExports.useState(null);reactExports.useEffect(()=>{fetch("/animations/snorkeling.json").then(Je=>Je.json()).then(pe).catch(()=>{})},[]);const{data:fe=[],isLoading:xe,error:ye}=useGetCoursesQuery({active:!0,featured:!0}),{data:_e=[],isLoading:Le,error:je}=useGetTripsQuery({active:!0,featured:!0}),{data:Ne=[],isLoading:$e,error:Ue}=useGetProductsQuery({active:!0,featured:!0}),{data:He=[],isLoading:ze,error:Ke}=useGetBlogPostsQuery({published:!0,featured:!0});return jsxRuntimeExports.jsxs("div",{className:"overflow-hidden",children:[jsxRuntimeExports.jsx(HeroSlider,{}),jsxRuntimeExports.jsx(FeaturedInstructor,{}),jsxRuntimeExports.jsxs(Section,{background:"gradient",className:"text-center relative overflow-hidden",children:[jsxRuntimeExports.jsx(LiquidBackground,{}),jsxRuntimeExports.jsx(WaveBackground,{variant:"primary",opacity:.05}),jsxRuntimeExports.jsx(UnderwaterOverlay,{bubbleCount:20,showLightRays:!1,showWave:!1}),oe&&jsxRuntimeExports.jsx(motion.div,{className:"absolute left-[-2%] bottom-[5%] w-[200px] h-[200px] sm:w-[280px] sm:h-[280px] lg:w-[380px] lg:h-[380px] pointer-events-none hidden sm:block",animate:{y:[0,-12,0,8,0],x:[0,6,0,-4,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},"aria-hidden":"true",children:jsxRuntimeExports.jsx(Lottie,{animationData:oe,loop:!0,className:"w-full h-full opacity-80 drop-shadow-[0_0_25px_rgba(6,182,212,0.2)]"})}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"relative z-10",children:[jsxRuntimeExports.jsx("h1",{className:"text-5xl sm:text-6xl lg:text-7xl font-bold mb-6",children:jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-primary-600 via-accent-600 to-secondary-600 bg-clip-text text-transparent",children:R("home.heroTitle")})}),jsxRuntimeExports.jsx("p",{className:"text-xl sm:text-2xl text-gray-700 mb-8 max-w-3xl mx-auto",children:R("home.heroSubtitle")}),jsxRuntimeExports.jsx("p",{className:"text-base text-gray-600 max-w-2xl mx-auto mb-8",children:R("home.heroDescription")}),jsxRuntimeExports.jsxs("div",{className:"flex gap-6 justify-center mb-8",children:[jsxRuntimeExports.jsx("a",{href:"https://www.instagram.com/OSHYS_OCEANS",target:"_blank",rel:"noopener noreferrer",className:"text-gray-700 hover:text-primary-600 transition-colors",children:jsxRuntimeExports.jsx(Instagram,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx("a",{href:"https://twitter.com/OSHYS_OCEANS",target:"_blank",rel:"noopener noreferrer",className:"text-gray-700 hover:text-primary-600 transition-colors",children:jsxRuntimeExports.jsx(Twitter,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx("a",{href:"https://www.snapchat.com/add/OSHYS_OCEANS",target:"_blank",rel:"noopener noreferrer",className:"text-gray-700 hover:text-primary-600 transition-colors",children:jsxRuntimeExports.jsx(Ghost,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx("a",{href:"https://wa.me/966541000233",target:"_blank",rel:"noopener noreferrer",className:"text-gray-700 hover:text-primary-600 transition-colors",children:jsxRuntimeExports.jsx(MessageCircle,{className:"w-6 h-6"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link$2,{to:"/shop/courses",children:jsxRuntimeExports.jsxs(Button,{size:"lg",children:[R("home.bookCourse"),jsxRuntimeExports.jsx(ArrowRight,{className:"w-5 h-5"})]})}),jsxRuntimeExports.jsx(Link$2,{to:"/shop/trips",children:jsxRuntimeExports.jsx(Button,{variant:"outline",size:"lg",children:R("home.exploreTrips")})})]})]})]}),jsxRuntimeExports.jsxs(Section,{background:"white",className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx(SeaLifeDecorations,{}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16 relative z-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-4",children:R("home.servicesTitle")}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600",children:R("home.servicesSubtitle")})]}),jsxRuntimeExports.jsx(HorizontalScroll,{itemCount:services.length,className:"md:grid-cols-3 relative z-10",children:services.map((Je,Ze)=>{const nt={Package,Compass,GraduationCap}[Je.icon],ot=Je.link.startsWith("http")?qe=>jsxRuntimeExports.jsx("a",{href:Je.link,target:"_blank",rel:"noopener noreferrer",className:"shrink-0 w-[80vw] snap-center sm:w-auto",children:qe.children}):qe=>jsxRuntimeExports.jsx(Link$2,{to:Je.link,className:"shrink-0 w-[80vw] snap-center sm:w-auto",children:qe.children});return jsxRuntimeExports.jsx(ot,{children:jsxRuntimeExports.jsxs(Card,{className:"group cursor-pointer h-full",children:[jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden rounded-xl mb-6",children:[jsxRuntimeExports.jsx("img",{src:Je.image||"/placeholder.svg",alt:R(`home.service${Je.id}Title`),className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-500"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary-900/80 to-transparent"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-4 left-4",children:jsxRuntimeExports.jsx("div",{className:"bg-white p-3 rounded-xl shadow-lg",children:jsxRuntimeExports.jsx(nt,{className:"w-6 h-6 text-primary-600"})})})]}),jsxRuntimeExports.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-3 group-hover:text-primary-600 transition-colors",children:R(`home.service${Je.id}Title`)}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4 text-sm sm:text-base",children:R(`home.service${Je.id}Description`)}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-primary-600 font-semibold group-hover:gap-3 gap-2 transition-all",children:[R("home.learnMore"),jsxRuntimeExports.jsx(ArrowRight,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})},Je.id)})})]}),jsxRuntimeExports.jsxs(Section,{background:"gray",className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx(DivingDecorations,{}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center relative z-10",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold mb-6",children:R("home.aboutTitle")}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-700 mb-6 leading-relaxed",children:R("home.aboutDescription")}),jsxRuntimeExports.jsx(Link$2,{to:"/about",children:jsxRuntimeExports.jsxs(Button,{children:[R("home.learnMore"),jsxRuntimeExports.jsx(ArrowRight,{className:"w-5 h-5"})]})})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"w-full h-96 bg-gray-200 rounded-2xl shadow-2xl flex items-center justify-center",children:jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg",children:"About Image Placeholder"})}),jsxRuntimeExports.jsxs("div",{className:"absolute -bottom-6 -right-6 bg-white p-6 rounded-xl shadow-xl",children:[jsxRuntimeExports.jsx("p",{className:"text-4xl font-bold text-primary-600",children:"10+"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:R("home.yearsExperience")})]})]})]})]}),jsxRuntimeExports.jsxs(Section,{background:"white",id:"calendar",className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx(OceanDecorations,{variant:"jellyfish"}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12 relative z-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold mb-4",children:R("home.calendarTitle")}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600",children:R("home.calendarSubtitle")})]}),jsxRuntimeExports.jsx("div",{className:"relative z-10",children:jsxRuntimeExports.jsx(EventsCalendar,{})})]}),jsxRuntimeExports.jsxs(Section,{background:"gradient",className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx(OceanDecorations,{variant:"waves"}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16 relative z-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-4",children:R("home.tripsTitle")}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600",children:R("home.tripsSubtitle")})]}),jsxRuntimeExports.jsx("div",{className:"relative z-10",children:Le?jsxRuntimeExports.jsx(GridSkeleton,{count:3}):je?jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsx("p",{className:"text-red-600",children:R("home.loadingError")})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(HorizontalScroll,{itemCount:Math.min(_e.length,3),className:"sm:grid-cols-2 lg:grid-cols-3",children:_e.slice(0,3).map(Je=>jsxRuntimeExports.jsxs(Card,{className:"group cursor-pointer overflow-hidden shrink-0 w-[80vw] snap-center sm:w-auto",children:[jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden rounded-xl mb-4",children:[jsxRuntimeExports.jsx("img",{src:Je.image||"/placeholder.svg",alt:Je.name,className:"w-full h-48 sm:h-56 object-cover group-hover:scale-110 transition-transform duration-500"}),jsxRuntimeExports.jsx("div",{className:"absolute top-4 right-4 bg-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-full shadow-lg",children:jsxRuntimeExports.jsx(SaudiRiyalPrice,{amount:Je.price,className:"font-bold text-primary-600 text-sm sm:text-base"})})]}),jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-2",children:Je.name}),jsxRuntimeExports.jsx("div",{className:"text-gray-600 text-sm mb-4 line-clamp-2 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:Je.description}}),jsxRuntimeExports.jsxs("div",{className:"flex items-center flex-wrap gap-2 text-xs sm:text-sm text-gray-500 mb-4",children:[jsxRuntimeExports.jsx("span",{children:Je.duration}),Je.number_of_dives&&jsxRuntimeExports.jsx("span",{children:R("pages.trips.dives",{count:Je.number_of_dives})}),jsxRuntimeExports.jsx("span",{className:"px-2 sm:px-3 py-1 bg-primary-100 text-primary-700 rounded-full",children:Je.difficulty})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",className:"w-full",onClick:Ze=>te(Ze,Je),children:R("trips.bookNow")})]},Je.id))}),jsxRuntimeExports.jsx("div",{className:"text-center mt-12",children:jsxRuntimeExports.jsx(Link$2,{to:"/shop/trips",children:jsxRuntimeExports.jsxs(Button,{size:"lg",children:[R("home.viewAllTrips"),jsxRuntimeExports.jsx(ArrowRight,{className:"w-5 h-5"})]})})})]})})]}),jsxRuntimeExports.jsxs(Section,{background:"white",className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx(OceanDecorations,{variant:"reef"}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16 relative z-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-4",children:R("home.coursesTitle")}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600",children:R("home.coursesSubtitle")})]}),jsxRuntimeExports.jsx("div",{className:"relative z-10",children:xe?jsxRuntimeExports.jsx(GridSkeleton,{count:3}):ye?jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsx("p",{className:"text-red-600",children:R("home.loadingError")})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(HorizontalScroll,{itemCount:Math.min(fe.length,3),className:"sm:grid-cols-2 lg:grid-cols-3",children:fe.slice(0,3).map(Je=>jsxRuntimeExports.jsxs(Card,{className:"h-full shrink-0 w-[80vw] snap-center sm:w-auto group cursor-pointer",children:[jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden rounded-xl mb-4",children:[jsxRuntimeExports.jsx("img",{src:Je.image||"/placeholder.svg",alt:Je.name,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),jsxRuntimeExports.jsx("div",{className:"absolute top-4 right-4 bg-accent-600 text-white px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold",children:Je.level})]}),jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-2",children:Je.name}),jsxRuntimeExports.jsx("div",{className:"text-gray-600 text-sm mb-4 line-clamp-2 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:Je.description}}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:Je.duration}),jsxRuntimeExports.jsx(SaudiRiyalPrice,{amount:Je.price,className:"text-base sm:text-lg font-bold text-primary-600"})]}),jsxRuntimeExports.jsx(Button,{variant:"primary",className:"w-full",onClick:Ze=>ee(Ze,Je),children:R("home.enrollNow")})]},Je.id))}),jsxRuntimeExports.jsx("div",{className:"text-center mt-12",children:jsxRuntimeExports.jsx(Link$2,{to:"/shop/courses",children:jsxRuntimeExports.jsx(Button,{size:"lg",variant:"outline",children:R("home.viewAllCourses")})})})]})})]}),jsxRuntimeExports.jsxs(Section,{background:"gray",className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx(OceanDecorations,{variant:"treasure"}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16 relative z-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-4",children:R("home.productsTitle")}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600",children:R("home.productsSubtitle")})]}),jsxRuntimeExports.jsx("div",{className:"relative z-10",children:$e?jsxRuntimeExports.jsx(GridSkeleton,{count:4}):Ue?jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsx("p",{className:"text-red-600",children:R("home.loadingError")})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(HorizontalScroll,{itemCount:Math.min(Ne.length,4),className:"sm:grid-cols-2 lg:grid-cols-4",children:Ne.slice(0,4).map(Je=>jsxRuntimeExports.jsx("div",{className:"shrink-0 w-[65vw] snap-center sm:w-auto",children:jsxRuntimeExports.jsxs(Card,{className:"group cursor-pointer h-full",children:[jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden rounded-xl mb-4",children:[jsxRuntimeExports.jsx("img",{src:Je.image||"/placeholder.svg",alt:Je.name,className:"w-full h-36 sm:h-40 object-cover group-hover:scale-110 transition-transform duration-300"}),!Je.in_stock&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"bg-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm font-semibold",children:R("home.outOfStock")})})]}),jsxRuntimeExports.jsx("h3",{className:"text-base sm:text-lg font-bold mb-2 line-clamp-2",children:Je.name}),jsxRuntimeExports.jsx("div",{className:"text-gray-600 text-xs sm:text-sm mb-3 line-clamp-2 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:Je.description}}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(SaudiRiyalPrice,{amount:Je.price,className:"text-lg sm:text-xl font-bold text-primary-600"}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"ghost",children:jsxRuntimeExports.jsx(ShoppingBag,{className:"w-4 h-4"})})]})]})},Je.id))}),jsxRuntimeExports.jsx("div",{className:"text-center mt-12",children:jsxRuntimeExports.jsx("a",{href:"https://coralsandshells.sa",target:"_blank",rel:"noopener noreferrer",children:jsxRuntimeExports.jsxs(Button,{size:"lg",children:[jsxRuntimeExports.jsx(ShoppingBag,{className:"w-5 h-5"}),R("home.shopAllProducts")]})})})]})})]}),jsxRuntimeExports.jsxs(Section,{background:"white",className:"hidden sm:block relative overflow-hidden",children:[jsxRuntimeExports.jsx(OceanDecorations,{variant:"deep-sea"}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16 relative z-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-4",children:R("home.blogTitle")}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600",children:R("home.blogSubtitle")})]}),jsxRuntimeExports.jsx("div",{className:"relative z-10",children:ze?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center py-12",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-12 h-12 animate-spin text-primary-600"})}):Ke?jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsx("p",{className:"text-red-600",children:R("home.loadingError")})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(HorizontalScroll,{itemCount:Math.min(He.length,3),className:"sm:grid-cols-2 lg:grid-cols-3",children:He.slice(0,3).map(Je=>jsxRuntimeExports.jsx("div",{className:"shrink-0 w-[80vw] snap-center sm:w-auto",children:jsxRuntimeExports.jsx(Link$2,{to:"/blog",children:jsxRuntimeExports.jsxs(Card,{className:"group cursor-pointer h-full overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden rounded-xl mb-4",children:[jsxRuntimeExports.jsx("img",{src:Je.image||"/placeholder.svg",alt:Je.title,className:"w-full h-48 sm:h-56 object-cover group-hover:scale-110 transition-transform duration-500"}),Je.category&&jsxRuntimeExports.jsx("div",{className:"absolute top-4 left-4",children:jsxRuntimeExports.jsx("span",{className:"bg-white px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold text-primary-600",children:Je.category.name})})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mb-2",children:[Je.published_at?new Date(Je.published_at).toLocaleDateString():new Date(Je.created_at).toLocaleDateString(),Je.author&&`  ${Je.author.name}`]}),jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-3 group-hover:text-primary-600 transition-colors line-clamp-2",children:Je.title}),jsxRuntimeExports.jsx("div",{className:"text-gray-600 text-sm mb-4 line-clamp-2 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:Je.excerpt}}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-primary-600 font-semibold group-hover:gap-3 gap-2 transition-all",children:[R("home.readMore"),jsxRuntimeExports.jsx(ArrowRight,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})})},Je.id))}),jsxRuntimeExports.jsx("div",{className:"text-center mt-12",children:jsxRuntimeExports.jsx(Link$2,{to:"/blog",children:jsxRuntimeExports.jsxs(Button,{size:"lg",variant:"outline",children:[R("home.viewAllPosts"),jsxRuntimeExports.jsx(ArrowRight,{className:"w-5 h-5"})]})})})]})})]}),jsxRuntimeExports.jsx(Section,{background:"white",children:jsxRuntimeExports.jsxs(Card,{className:"bg-gradient-to-r from-primary-600 via-accent-600 to-secondary-600 text-white text-center relative overflow-hidden",children:[jsxRuntimeExports.jsx(UnderwaterOverlay,{bubbleCount:15,showLightRays:!1,showWave:!1}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-10",children:jsxRuntimeExports.jsx(motion.div,{animate:{x:[0,100,0]},transition:{duration:20,repeat:1/0},className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='100' height='20' viewBox='0 0 100 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 10 Q 25 0, 50 10 T 100 10' fill='none' stroke='white' stroke-width='2'/%3E%3C/svg%3E")`,backgroundRepeat:"repeat-x"}})}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"relative z-10",children:[jsxRuntimeExports.jsx(Gift,{className:"w-16 h-16 mx-auto mb-6"}),jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold mb-4",children:R("home.ctaTitle")}),jsxRuntimeExports.jsx("p",{className:"text-xl mb-8 text-white/90 max-w-2xl mx-auto",children:R("home.ctaDescription")}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link$2,{to:"/shop/courses",children:jsxRuntimeExports.jsxs(Button,{variant:"secondary",size:"lg",className:"bg-white text-primary-600 hover:bg-gray-100",children:[R("home.bookCourse"),jsxRuntimeExports.jsx(ArrowRight,{className:"w-5 h-5"})]})}),jsxRuntimeExports.jsx(Link$2,{to:"/shop/trips",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"lg",className:"border-white text-white hover:bg-white/10",children:[R("home.exploreTrips"),jsxRuntimeExports.jsx(ArrowRight,{className:"w-5 h-5"})]})})]})]})]})}),(y||A)&&jsxRuntimeExports.jsx(BookingModal,{isOpen:z,onClose:ae,item:G==="course"?y:A,type:G})]})},AboutPage=()=>{const{t:R}=useTranslation(),{data:y=[],isLoading:T,error:A}=useGetTeamMembersQuery({active:!0}),O=[{icon:Shield,title:R("about.valueSafetyFirst"),description:R("about.valueSafetyDescription")},{icon:Heart,title:R("about.valuePassionateTeam"),description:R("about.valuePassionateDescription")},{icon:Target,title:R("about.valueGoalOriented"),description:R("about.valueGoalDescription")},{icon:Zap,title:R("about.valueInnovativeTraining"),description:R("about.valueInnovativeDescription")}];return jsxRuntimeExports.jsxs("div",{className:"pt-20",children:[jsxRuntimeExports.jsxs("div",{className:"relative h-96 overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=1920&h=600&fit=crop",alt:"About Us",className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary-900/80 to-accent-900/80"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center text-white",children:[jsxRuntimeExports.jsx(Users,{className:"w-16 h-16 mx-auto mb-6"}),jsxRuntimeExports.jsxs("h1",{className:"text-6xl font-bold mb-4",children:[R("about.heroTitle")," ",jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-primary-300 to-accent-300 bg-clip-text text-transparent",children:R("about.heroName")})]}),jsxRuntimeExports.jsx("p",{className:"text-2xl text-white/90",children:R("about.heroSubtitle")})]})})]}),jsxRuntimeExports.jsx(Section,{background:"white",className:"!py-10 sm:!py-12 lg:!py-16",children:jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center mb-16",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold mb-6",children:R("about.ourStory")}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-700 mb-4 leading-relaxed",children:R("about.storyParagraph1")}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-700 mb-4 leading-relaxed",children:R("about.storyParagraph2")}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:R("about.storyParagraph3")})]}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},children:jsxRuntimeExports.jsx("div",{className:"w-full h-96 bg-gray-200 rounded-2xl shadow-2xl flex items-center justify-center",children:jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg",children:"Team Image Placeholder"})})})]})}),jsxRuntimeExports.jsx(Section,{background:"gray",className:"!py-10 sm:!py-12 lg:!py-16",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-3xl overflow-hidden bg-gradient-to-r from-primary-900 to-accent-900"}),jsxRuntimeExports.jsx("div",{className:"relative z-10 py-16 px-8",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:stats.map((z,U)=>{const J={Award,Users,TrendingUp,MapPin}[z.icon],ee=pe=>{const fe=pe.match(/^([+]?)(\d+)([%+]?)$/);return fe?{prefix:fe[1]||"",number:parseInt(fe[2]),suffix:fe[3]==="+"?"":fe[3]||""}:{prefix:"",number:0,suffix:""}},{prefix:te,number:ae,suffix:oe}=ee(z.value);return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:U*.1},className:"text-center text-white",children:[jsxRuntimeExports.jsx(J,{className:"w-10 h-10 mx-auto mb-4"}),jsxRuntimeExports.jsx(CountUp,{end:ae,prefix:te,suffix:oe,duration:2.5,className:"text-5xl font-bold mb-2"}),jsxRuntimeExports.jsx("div",{className:"text-lg opacity-90",children:z.label})]},z.label)})})})]})}),jsxRuntimeExports.jsx(Section,{background:"white",className:"!py-10 sm:!py-12 lg:!py-16",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold mb-6",children:R("about.promiseTitle")}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:R("about.promiseDescription")})]})}),jsxRuntimeExports.jsxs(Section,{background:"gradient",className:"!py-10 sm:!py-12 lg:!py-16",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold mb-4",children:R("about.whyChooseTitle")}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:R("about.whyChooseDescription")})]}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:O.map((z,U)=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:U*.1},children:jsxRuntimeExports.jsxs(Card,{className:"text-center h-full",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-primary-500 to-accent-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:jsxRuntimeExports.jsx(z.icon,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-3",children:z.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:z.description})]})},z.title))}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mt-12 text-center",children:jsxRuntimeExports.jsx(Card,{className:"max-w-3xl mx-auto",children:jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:R("about.whyChooseClosing")})})})]}),!T&&!A&&y.length>0&&jsxRuntimeExports.jsxs(Section,{background:"white",className:"!py-10 sm:!py-12 lg:!py-16",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold mb-4",children:R("about.teamTitle")}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600",children:R("about.teamSubtitle")})]}),jsxRuntimeExports.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-8",children:y.map((z,U)=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:U*.1},children:jsxRuntimeExports.jsxs(Card,{className:"text-center group hover:shadow-2xl transition-shadow",children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-6",children:[jsxRuntimeExports.jsx("div",{className:"w-32 h-32 mx-auto rounded-full overflow-hidden ring-4 ring-primary-100 group-hover:ring-primary-300 transition-all",children:z.image_url?jsxRuntimeExports.jsx("img",{src:z.image_url,alt:z.name,className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(Users,{className:"w-12 h-12 text-gray-300"})})}),z.experience&&jsxRuntimeExports.jsx("div",{className:"absolute -bottom-3 left-1/2 -translate-x-1/2 bg-primary-600 text-white px-4 py-1 rounded-full text-sm font-semibold whitespace-nowrap",children:z.experience})]}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-2",children:z.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-4",children:z.role}),z.certifications&&z.certifications.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:z.certifications.map((G,J)=>jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-accent-100 text-accent-700 rounded-full text-xs font-medium",children:G},J))})]})},z.id))})]})]})},CoursesPage=()=>{const{t:R}=useTranslation(),[y,T]=reactExports.useState(null),[A,O]=reactExports.useState("grid"),[z,U]=reactExports.useState("default"),[G,J]=reactExports.useState(null),[ee,te]=reactExports.useState(!1),ae=(Le,je)=>{Le.stopPropagation(),J(je),te(!0)},{data:oe=[],isLoading:pe,error:fe}=useGetCoursesQuery({active:!0}),xe=[{key:"Beginner",label:R("pages.courses.beginner")},{key:"Intermediate",label:R("pages.courses.intermediate")},{key:"Advanced",label:R("pages.courses.advanced")},{key:"Professional",label:R("pages.courses.professional")}],_e=[...y?oe.filter(Le=>Le.level===y):oe].sort((Le,je)=>{switch(z){case"price-low":return parseFloat(Le.price)-parseFloat(je.price);case"price-high":return parseFloat(je.price)-parseFloat(Le.price);case"duration":return(Le.duration||"").localeCompare(je.duration||"");default:return 0}});return jsxRuntimeExports.jsxs("div",{className:"pt-20",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-accent-50 via-white to-primary-50 relative overflow-hidden",children:[jsxRuntimeExports.jsx(WaveBackground,{variant:"accent",opacity:.03}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-6 py-12 relative z-10",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx(GraduationCap,{className:"w-8 h-8 text-accent-600"}),jsxRuntimeExports.jsx("h1",{className:"text-4xl lg:text-5xl font-bold",children:jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-accent-600 to-primary-600 bg-clip-text text-transparent",children:R("pages.courses.heroTitle")})})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 max-w-2xl",children:R("pages.courses.heroDescription")})]}),jsxRuntimeExports.jsxs("div",{className:"hidden lg:flex gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-3xl font-bold text-accent-600",children:[oe.length,"+"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:R("pages.courses.totalCourses")})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-primary-600",children:"500+"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:R("pages.courses.students")})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-secondary-600",children:"98%"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:R("pages.courses.satisfaction")})]})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-20 z-40 shadow-sm",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 overflow-x-auto scrollbar-hide",children:[jsxRuntimeExports.jsx(Funnel,{className:"w-5 h-5 text-gray-600 flex-shrink-0"}),jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>T(null),className:`px-5 py-2 rounded-full whitespace-nowrap transition-all font-medium ${y===null?"bg-gradient-to-r from-accent-600 to-accent-500 text-white shadow-lg shadow-accent-500/30":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:R("pages.courses.allLevels")}),xe.map(Le=>jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>T(Le.key),className:`px-5 py-2 rounded-full whitespace-nowrap transition-all font-medium ${y===Le.key?"bg-gradient-to-r from-accent-600 to-accent-500 text-white shadow-lg shadow-accent-500/30":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:Le.label},Le.key))]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("select",{value:z,onChange:Le=>U(Le.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent",children:[jsxRuntimeExports.jsx("option",{value:"default",children:R("pages.courses.sortDefault")}),jsxRuntimeExports.jsx("option",{value:"price-low",children:R("pages.courses.priceLowToHigh")}),jsxRuntimeExports.jsx("option",{value:"price-high",children:R("pages.courses.priceHighToLow")}),jsxRuntimeExports.jsx("option",{value:"duration",children:R("pages.courses.duration")})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 p-1 rounded-lg",children:[jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>O("grid"),className:`p-2 rounded transition-all ${A==="grid"?"bg-white text-accent-600 shadow":"text-gray-600 hover:text-gray-900"}`,children:jsxRuntimeExports.jsx(Grid3x3,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>O("list"),className:`p-2 rounded transition-all ${A==="list"?"bg-white text-accent-600 shadow":"text-gray-600 hover:text-gray-900"}`,children:jsxRuntimeExports.jsx(List,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx("div",{className:"hidden md:block text-sm text-gray-600",children:R("pages.courses.coursesCount",{count:_e.length})})]})]})})}),jsxRuntimeExports.jsx("div",{className:"bg-gray-50 min-h-screen",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-6 py-8",children:pe?jsxRuntimeExports.jsx(GridSkeleton,{count:6}):fe?jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsx("p",{className:"text-red-600",children:R("pages.courses.loadingError")})}):_e.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-20",children:[jsxRuntimeExports.jsx(GraduationCap,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600",children:R("pages.courses.noCourses")})]}):jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsx(StaggerContainer,{staggerDelay:.05,className:A==="grid"?"grid md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:_e.map(Le=>A==="grid"?jsxRuntimeExports.jsxs(Card,{className:"h-full group cursor-pointer overflow-hidden relative",children:[jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden rounded-xl mb-4",children:[Le.image_url?jsxRuntimeExports.jsx("img",{src:Le.image_url,alt:Le.name,className:"w-full h-56 object-cover group-hover:scale-110 transition-transform duration-500"}):jsxRuntimeExports.jsx("div",{className:"w-full h-56 bg-gray-100 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-16 h-16 mx-auto text-gray-300 mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:R("pages.courses.noImage")})]})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),Le.level&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-3 left-3",children:jsxRuntimeExports.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-gray-900 px-3 py-1 rounded-full text-xs font-semibold",children:Le.level})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold line-clamp-2 group-hover:text-accent-600 transition-colors",children:Le.name}),Le.subtitle&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 font-medium",children:Le.subtitle}),jsxRuntimeExports.jsx("div",{className:"text-gray-600 text-sm line-clamp-2 leading-relaxed prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:Le.description}}),Le.duration&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 text-accent-600"}),jsxRuntimeExports.jsx("span",{children:Le.duration})]}),jsxRuntimeExports.jsxs("div",{className:"pt-3 border-t border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:R("pages.courses.startingFrom")}),jsxRuntimeExports.jsx(SaudiRiyalPrice,{amount:Le.price,className:"text-2xl font-bold bg-gradient-to-r from-accent-600 to-primary-600 bg-clip-text text-transparent"})]}),jsxRuntimeExports.jsx(Button,{variant:"primary",className:"w-full",size:"sm",onClick:je=>ae(je,Le),children:R("pages.courses.enrollNow")})]})]})]},Le.id):jsxRuntimeExports.jsx(Card,{className:"group cursor-pointer overflow-hidden hover:shadow-xl transition-shadow",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative w-64 h-48 flex-shrink-0 overflow-hidden rounded-xl",children:[Le.image_url?jsxRuntimeExports.jsx("img",{src:Le.image_url,alt:Le.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-12 h-12 mx-auto text-gray-300"})})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),Le.level&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-3 left-3",children:jsxRuntimeExports.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-gray-900 px-3 py-1 rounded-full text-xs font-semibold",children:Le.level})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col justify-between py-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"mb-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold group-hover:text-accent-600 transition-colors",children:Le.name}),Le.subtitle&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 font-medium mt-1",children:Le.subtitle})]}),jsxRuntimeExports.jsx("div",{className:"text-gray-600 mb-4 line-clamp-2 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:Le.description}}),Le.duration&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-4 mb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5 text-accent-600"}),jsxRuntimeExports.jsx("span",{children:Le.duration})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:R("pages.courses.startingFrom")}),jsxRuntimeExports.jsx(SaudiRiyalPrice,{amount:Le.price,className:"text-3xl font-bold bg-gradient-to-r from-accent-600 to-primary-600 bg-clip-text text-transparent"})]}),jsxRuntimeExports.jsx(Button,{variant:"primary",size:"lg",onClick:je=>ae(je,Le),children:R("pages.courses.enrollNow")})]})]})]})},Le.id))},A)})})}),jsxRuntimeExports.jsx(Section,{background:"gradient",children:jsxRuntimeExports.jsx(Card,{className:"bg-gradient-to-r from-primary-600 to-accent-600 text-white text-center",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold mb-4",children:R("pages.courses.ctaTitle")}),jsxRuntimeExports.jsx("p",{className:"text-xl mb-8 text-white/90 max-w-2xl mx-auto",children:R("pages.courses.ctaDescription")}),jsxRuntimeExports.jsx(Button,{variant:"secondary",size:"lg",className:"bg-white text-primary-600",children:R("pages.courses.contactUs")})]})})}),G&&jsxRuntimeExports.jsx(BookingModal,{isOpen:ee,onClose:()=>te(!1),item:G,type:"course"})]})},TripsPage=()=>{const{t:R}=useTranslation(),[y,T]=reactExports.useState("grid"),[A,O]=reactExports.useState("default"),[z,U]=reactExports.useState(null),[G,J]=reactExports.useState(!1),ee=(fe,xe)=>{fe.stopPropagation(),U(xe),J(!0)},{data:te=[],isLoading:ae,error:oe}=useGetTripsQuery({active:!0}),pe=[...te].sort((fe,xe)=>{switch(A){case"price-low":return parseFloat(fe.price)-parseFloat(xe.price);case"price-high":return parseFloat(xe.price)-parseFloat(fe.price);default:return 0}});return jsxRuntimeExports.jsxs("div",{className:"pt-20",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-secondary-50 via-white to-primary-50 relative overflow-hidden",children:[jsxRuntimeExports.jsx(WaveBackground,{variant:"secondary",opacity:.03}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-6 py-12 relative z-10",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx(Compass,{className:"w-8 h-8 text-secondary-600"}),jsxRuntimeExports.jsx("h1",{className:"text-4xl lg:text-5xl font-bold",children:jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-secondary-600 to-primary-600 bg-clip-text text-transparent",children:R("pages.trips.heroTitle")})})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 max-w-2xl",children:R("pages.trips.heroDescription")})]}),jsxRuntimeExports.jsxs("div",{className:"hidden lg:flex gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-3xl font-bold text-secondary-600",children:[te.length,"+"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:R("pages.trips.diveTrips")})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-primary-600",children:"15"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:R("pages.trips.destinations")})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-accent-600",children:"1000+"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:R("pages.trips.happyDivers")})]})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-20 z-40 shadow-sm",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-4",children:[jsxRuntimeExports.jsxs("select",{value:A,onChange:fe=>O(fe.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-secondary-500 focus:border-transparent",children:[jsxRuntimeExports.jsx("option",{value:"default",children:R("pages.trips.sortDefault")}),jsxRuntimeExports.jsx("option",{value:"price-low",children:R("pages.trips.priceLowToHigh")}),jsxRuntimeExports.jsx("option",{value:"price-high",children:R("pages.trips.priceHighToLow")})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 p-1 rounded-lg",children:[jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>T("grid"),className:`p-2 rounded transition-all ${y==="grid"?"bg-white text-secondary-600 shadow":"text-gray-600 hover:text-gray-900"}`,children:jsxRuntimeExports.jsx(Grid3x3,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>T("list"),className:`p-2 rounded transition-all ${y==="list"?"bg-white text-secondary-600 shadow":"text-gray-600 hover:text-gray-900"}`,children:jsxRuntimeExports.jsx(List,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx("div",{className:"hidden md:block text-sm text-gray-600",children:R("pages.trips.tripsCount",{count:pe.length})})]})})}),jsxRuntimeExports.jsx("div",{className:"bg-gray-50 min-h-screen",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-6 py-8",children:ae?jsxRuntimeExports.jsx(GridSkeleton,{count:6}):oe?jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsx("p",{className:"text-red-600",children:R("pages.trips.loadingError")})}):pe.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-20",children:[jsxRuntimeExports.jsx(Compass,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600",children:R("pages.trips.noTrips")})]}):jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsx(StaggerContainer,{staggerDelay:.05,className:y==="grid"?"grid md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:pe.map(fe=>y==="grid"?jsxRuntimeExports.jsxs(Card,{className:"h-full group cursor-pointer overflow-hidden relative",children:[jsxRuntimeExports.jsx("div",{className:"relative overflow-hidden rounded-xl mb-4",children:fe.image_url?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:fe.image_url,alt:fe.name,className:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-500"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"})]}):jsxRuntimeExports.jsxs("div",{className:"w-full h-64 bg-gray-100 flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx(Anchor,{className:"w-16 h-16 text-gray-300 mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:R("pages.trips.noImage")})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold line-clamp-2 group-hover:text-secondary-600 transition-colors",children:fe.name}),jsxRuntimeExports.jsx("div",{className:"text-gray-600 text-sm line-clamp-2 leading-relaxed prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:fe.description}}),jsxRuntimeExports.jsxs("div",{className:"pt-3 border-t border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:R("pages.trips.startingFrom")}),jsxRuntimeExports.jsx(SaudiRiyalPrice,{amount:fe.price,className:"text-2xl font-bold bg-gradient-to-r from-secondary-600 to-primary-600 bg-clip-text text-transparent"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4 text-secondary-600"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:R("pages.trips.bookNow")})]})]}),jsxRuntimeExports.jsx(Button,{variant:"primary",className:"w-full",size:"sm",onClick:xe=>ee(xe,fe),children:R("pages.trips.bookThisTrip")})]})]})]},fe.id):jsxRuntimeExports.jsx(Card,{className:"group cursor-pointer overflow-hidden hover:shadow-xl transition-shadow",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-6",children:[jsxRuntimeExports.jsx("div",{className:"relative w-72 h-56 flex-shrink-0 overflow-hidden rounded-xl",children:fe.image_url?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:fe.image_url,alt:fe.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"})]}):jsxRuntimeExports.jsxs("div",{className:"w-full h-full bg-gray-100 flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx(Anchor,{className:"w-12 h-12 text-gray-300 mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:R("pages.trips.noImage")})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col justify-between py-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"mb-2",children:jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold group-hover:text-secondary-600 transition-colors",children:fe.name})}),jsxRuntimeExports.jsx("div",{className:"text-gray-600 mb-4 line-clamp-2 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:fe.description}}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold flex items-center gap-1",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-3 h-3"}),R("pages.trips.spotsAvailable")]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:R("pages.trips.startingFrom")}),jsxRuntimeExports.jsx(SaudiRiyalPrice,{amount:fe.price,className:"text-3xl font-bold bg-gradient-to-r from-secondary-600 to-primary-600 bg-clip-text text-transparent"})]}),jsxRuntimeExports.jsx(Button,{variant:"primary",size:"lg",onClick:xe=>ee(xe,fe),children:R("pages.trips.bookThisTrip")})]})]})]})},fe.id))},y)})})}),jsxRuntimeExports.jsx(Section,{background:"gradient",children:jsxRuntimeExports.jsxs(StaggerContainer,{className:"grid md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs(Card,{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Award,{className:"w-8 h-8 text-primary-600"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-2",children:R("pages.trips.expertGuidesTitle")}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:R("pages.trips.expertGuidesDescription")})]}),jsxRuntimeExports.jsxs(Card,{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"bg-accent-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(MapPin,{className:"w-8 h-8 text-accent-600"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-2",children:R("pages.trips.amazingLocationsTitle")}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:R("pages.trips.amazingLocationsDescription")})]}),jsxRuntimeExports.jsxs(Card,{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"bg-secondary-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Compass,{className:"w-8 h-8 text-secondary-600"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-2",children:R("pages.trips.allInclusiveTitle")}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:R("pages.trips.allInclusiveDescription")})]})]})}),z&&jsxRuntimeExports.jsx(BookingModal,{isOpen:G,onClose:()=>J(!1),item:z,type:"trip"})]})},BlogPage=()=>{const{t:R}=useTranslation(),{data:y=[],isLoading:T,error:A}=useGetBlogPostsQuery({published:!0});return jsxRuntimeExports.jsxs("div",{className:"pt-20",children:[jsxRuntimeExports.jsxs("div",{className:"relative h-96 overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=1920&h=600&fit=crop",alt:"Blog",className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary-900/80 to-accent-900/80"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center text-white",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-16 h-16 mx-auto mb-6"}),jsxRuntimeExports.jsx("h1",{className:"text-6xl font-bold mb-4",children:R("pages.blog.heroTitle")}),jsxRuntimeExports.jsx("p",{className:"text-2xl text-white/90",children:R("pages.blog.heroSubtitle")})]})})]}),jsxRuntimeExports.jsx(Section,{background:"white",children:T?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center py-12",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-12 h-12 animate-spin text-primary-600"})}):A?jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsx("p",{className:"text-red-600",children:R("pages.blog.loadingError")})}):y.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:R("pages.blog.noPosts")})}):jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:y.map((O,z)=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:z*.1},children:jsxRuntimeExports.jsx(Link$2,{to:`/blog/${O.id}`,children:jsxRuntimeExports.jsxs(Card,{className:"group cursor-pointer h-full overflow-hidden hover:shadow-2xl transition-shadow",children:[jsxRuntimeExports.jsx("div",{className:"relative overflow-hidden rounded-xl mb-4",children:O.image_url?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:O.image_url,alt:O.title,className:"w-full h-56 object-cover group-hover:scale-110 transition-transform duration-500"}),O.category&&jsxRuntimeExports.jsx("div",{className:"absolute top-4 left-4",children:jsxRuntimeExports.jsx("span",{className:"bg-primary-600 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-lg",children:O.category.name})})]}):jsxRuntimeExports.jsxs("div",{className:"w-full h-56 bg-gray-100 flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-16 h-16 text-gray-300 mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:R("blog.noImage")}),O.category&&jsxRuntimeExports.jsx("div",{className:"absolute top-4 left-4",children:jsxRuntimeExports.jsx("span",{className:"bg-primary-600 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-lg",children:O.category.name})})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:O.published_at?new Date(O.published_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):new Date(O.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),O.author&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:O.author.name})]})]}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold mb-3 group-hover:text-primary-600 transition-colors",children:O.title}),jsxRuntimeExports.jsx("div",{className:"text-gray-600 mb-4 line-clamp-3 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:O.excerpt}}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-primary-600 font-semibold group-hover:gap-3 gap-2 transition-all",children:[R("pages.blog.readMore"),jsxRuntimeExports.jsx(ArrowRight,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})})},O.id))})})]})},BlogDetailPage=()=>{const{t:R,i18n:y}=useTranslation(),T=y.language==="ar"?"ar-SA":"en-US",{id:A}=useParams(),{data:O,isLoading:z,error:U}=useGetBlogPostQuery(Number(A));return z?jsxRuntimeExports.jsx("div",{className:"pt-20 min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-12 h-12 animate-spin text-primary-600"})}):U||!O?jsxRuntimeExports.jsx("div",{className:"pt-20 min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:R("common.postNotFound")}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:R("common.postNotFoundMessage")})]})}):jsxRuntimeExports.jsxs("div",{className:"pt-20",children:[jsxRuntimeExports.jsxs("div",{className:"relative h-[500px] overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:O.image||"https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=1920&h=800&fit=crop",alt:O.title,className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 via-black/30 to-black/70"})]}),jsxRuntimeExports.jsx(Section,{background:"white",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[O.category&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2 bg-primary-100 text-primary-700 px-4 py-2 rounded-full text-sm font-semibold",children:[jsxRuntimeExports.jsx(Tag,{className:"w-4 h-4"}),O.category.name]})}),jsxRuntimeExports.jsx(motion.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-5xl font-bold text-gray-900 mb-6 leading-tight",children:O.title}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex items-center gap-6 text-gray-600 mb-8 pb-8 border-b border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:O.published_at?new Date(O.published_at).toLocaleDateString(T,{month:"long",day:"numeric",year:"numeric"}):new Date(O.created_at).toLocaleDateString(T,{month:"long",day:"numeric",year:"numeric"})})]}),O.author&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(User,{className:"w-5 h-5"}),jsxRuntimeExports.jsxs("span",{children:[R("common.by")," ",O.author.name]})]}),jsxRuntimeExports.jsxs("button",{className:"ml-auto flex items-center gap-2 text-primary-600 hover:text-primary-700 transition-colors",children:[jsxRuntimeExports.jsx(Share2,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:R("common.share")})]})]}),O.excerpt&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-xl text-gray-700 mb-8 p-6 bg-gray-50 rounded-xl border-l-4 border-primary-600",children:jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:O.excerpt}})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"prose prose-lg max-w-none mb-12",dangerouslySetInnerHTML:{__html:O.content}})]})})]})},ContactPage=()=>{const{t:R}=useTranslation(),[y,T]=reactExports.useState({name:"",email:"",phone:"",message:""}),[A,O]=reactExports.useState(!1),[z,U]=reactExports.useState(""),[G,{isLoading:J}]=useSendContactMessageMutation(),ee=async ae=>{ae.preventDefault(),U("");try{await G(y).unwrap(),O(!0),T({name:"",email:"",phone:"",message:""}),setTimeout(()=>O(!1),5e3)}catch(oe){U(oe?.data?.message||R("contactPage.sendError","Failed to send message. Please try again."))}},te=ae=>{T({...y,[ae.target.name]:ae.target.value})};return jsxRuntimeExports.jsxs("div",{className:"pt-20",children:[jsxRuntimeExports.jsxs("div",{className:"relative h-96 overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1596436889106-be35e843f974?w=1920&h=600&fit=crop",alt:"Contact Us",className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary-900/80 to-accent-900/80"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center text-white",children:[jsxRuntimeExports.jsx(Mail,{className:"w-16 h-16 mx-auto mb-6"}),jsxRuntimeExports.jsx("h1",{className:"text-6xl font-bold mb-4",children:R("contactPage.heroTitle")}),jsxRuntimeExports.jsx("p",{className:"text-2xl text-white/90",children:R("contactPage.heroDescription")})]})})]}),jsxRuntimeExports.jsxs(Section,{background:"white",children:[jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:jsxRuntimeExports.jsxs(Card,{className:"text-center group cursor-pointer hover:shadow-xl transition-shadow",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-primary-500 to-accent-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:jsxRuntimeExports.jsx(Phone,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-2",children:R("contactPage.callUs")}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",dir:"ltr",children:"+966 54 100 0233"})]})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},children:jsxRuntimeExports.jsxs(Card,{className:"text-center group cursor-pointer hover:shadow-xl transition-shadow",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-primary-500 to-accent-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:jsxRuntimeExports.jsx(Mail,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-2",children:R("contactPage.emailUs")}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"oshysoceans@gmail.com"})]})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},children:jsxRuntimeExports.jsx("a",{href:"https://www.google.com/maps?q=Corals+and+shells+center+%D9%85%D8%B1%D9%83%D8%B2+%D9%85%D8%B1%D8%AC%D8%A7%D9%86+%D9%88%D8%B5%D8%AF%D9%81,+Al+Khobar+34742,+Saudi+Arabia",target:"_blank",rel:"noopener noreferrer",children:jsxRuntimeExports.jsxs(Card,{className:"text-center group cursor-pointer hover:shadow-xl transition-shadow",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-primary-500 to-accent-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:jsxRuntimeExports.jsx(MapPin,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-2",children:R("contactPage.visitUs")}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:R("footer.location")}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:R("contactPage.easternProvince")})]})})})]}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold mb-6",children:R("contactPage.formTitle")}),A?jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-green-50 border border-green-200 rounded-xl p-8 flex items-center gap-4",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-12 h-12 text-green-600 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-green-900 mb-1 text-xl",children:R("contactPage.messageSentTitle")}),jsxRuntimeExports.jsx("p",{className:"text-green-700",children:R("contactPage.messageSentDescription")})]})]}):jsxRuntimeExports.jsxs("form",{onSubmit:ee,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:[R("contactPage.fullName")," *"]}),jsxRuntimeExports.jsx("input",{type:"text",id:"name",name:"name",value:y.name,onChange:te,required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:R("contactPage.namePlaceholder")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:[R("contactPage.emailAddress")," *"]}),jsxRuntimeExports.jsx("input",{type:"email",id:"email",name:"email",value:y.email,onChange:te,required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:R("contactPage.emailPlaceholder")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700 mb-2",children:R("contactPage.phoneNumber")}),jsxRuntimeExports.jsx("input",{type:"tel",id:"phone",name:"phone",value:y.phone,onChange:te,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:R("contactPage.phonePlaceholder")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"message",className:"block text-sm font-semibold text-gray-700 mb-2",children:[R("contactPage.message")," *"]}),jsxRuntimeExports.jsx("textarea",{id:"message",name:"message",value:y.message,onChange:te,required:!0,rows:6,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all resize-none",placeholder:R("contactPage.messagePlaceholder")})]}),z&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:z}),jsxRuntimeExports.jsxs(Button,{type:"submit",size:"lg",className:"w-full",disabled:J,children:[J?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 animate-spin"}):jsxRuntimeExports.jsx(Send,{className:"w-5 h-5"}),J?R("contactPage.sending","Sending..."):R("contactPage.sendMessage")]})]})]}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},children:jsxRuntimeExports.jsxs(Card,{className:"h-full",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold mb-6",children:R("contactPage.additionalInfo")}),jsxRuntimeExports.jsx("div",{className:"mb-8",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[jsxRuntimeExports.jsx(Clock,{className:"w-6 h-6 text-primary-600 flex-shrink-0 mt-1"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-lg mb-2",children:R("contactPage.openingHours")}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-gray-600",children:[jsxRuntimeExports.jsx("p",{children:R("contactPage.sundayThursday")}),jsxRuntimeExports.jsx("p",{children:R("contactPage.fridaySaturday")})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-lg mb-4",children:R("contactPage.connectWithUs")}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("a",{href:"https://www.instagram.com/OSHYS_OCEANS",target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-br from-primary-500 to-accent-500 text-white p-3 rounded-full hover:scale-110 transition-transform",children:jsxRuntimeExports.jsx(Instagram,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx("a",{href:"https://twitter.com/OSHYS_OCEANS",target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-br from-primary-500 to-accent-500 text-white p-3 rounded-full hover:scale-110 transition-transform",children:jsxRuntimeExports.jsx(Twitter,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx("a",{href:"https://www.snapchat.com/add/OSHYS_OCEANS",target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-br from-primary-500 to-accent-500 text-white p-3 rounded-full hover:scale-110 transition-transform",children:jsxRuntimeExports.jsx(Ghost,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx("a",{href:"https://wa.me/966541000233",target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-br from-primary-500 to-accent-500 text-white p-3 rounded-full hover:scale-110 transition-transform",children:jsxRuntimeExports.jsx(MessageCircle,{className:"w-6 h-6"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 bg-gradient-to-br from-primary-50 to-accent-50 rounded-xl",children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-lg mb-3",children:R("contactPage.whyContactTitle")}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-gray-700",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),jsxRuntimeExports.jsx("span",{children:R("contactPage.whyContact1")})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),jsxRuntimeExports.jsx("span",{children:R("contactPage.whyContact2")})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),jsxRuntimeExports.jsx("span",{children:R("contactPage.whyContact3")})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),jsxRuntimeExports.jsx("span",{children:R("contactPage.whyContact4")})]})]})]})]})})]})]}),jsxRuntimeExports.jsx(Section,{background:"gray",children:jsxRuntimeExports.jsx(Card,{className:"overflow-hidden p-0",children:jsxRuntimeExports.jsxs("div",{className:"h-96 bg-gray-200 relative",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1524661135-423995f22d0b?w=1400&h=600&fit=crop",alt:"Location",className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-8",children:jsxRuntimeExports.jsxs("div",{className:"text-white",children:[jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold mb-2",children:R("contactPage.visitCenterTitle")}),jsxRuntimeExports.jsx("p",{className:"text-xl text-white/90",children:R("contactPage.visitCenterLocation")})]})})]})})})]})},EventsPage=()=>{const{t:R,i18n:y}=useTranslation(),[T,A]=reactExports.useState(null),[O,z]=reactExports.useState("grid"),[U,G]=reactExports.useState("default"),{data:J=[],isLoading:ee,error:te}=useGetEventsQuery({active:!0}),ae=[{key:"workshop",label:R("events.workshop")},{key:"course",label:R("events.course")},{key:"trip",label:R("events.trip")},{key:"other",label:R("events.other")}],oe=Ue=>{const He=ae.find(ze=>ze.key===Ue);return He?He.label:Ue.charAt(0).toUpperCase()+Ue.slice(1)},pe=y.language==="ar"?"ar-SA":"en-US",fe=new Date,xe=J.filter(Ue=>new Date(Ue.start_date)>=fe),_e=[...T?xe.filter(Ue=>Ue.type===T):xe].sort((Ue,He)=>{switch(U){case"date-asc":return new Date(Ue.start_date).getTime()-new Date(He.start_date).getTime();case"date-desc":return new Date(He.start_date).getTime()-new Date(Ue.start_date).getTime();case"price":return(Ue.price||0)-(He.price||0);default:return new Date(Ue.start_date).getTime()-new Date(He.start_date).getTime()}}),Le=Ue=>new Date(Ue).toLocaleDateString(pe,{weekday:"short",month:"short",day:"numeric",year:"numeric"}),je=Ue=>new Date(Ue).toLocaleTimeString(pe,{hour:"numeric",minute:"2-digit"}),Ne=Ue=>new Date(Ue).toLocaleDateString(pe,{month:"short"}),$e=Ue=>{switch(Ue){case"workshop":return"bg-purple-100 text-purple-700";case"course":return"bg-accent-100 text-accent-700";case"trip":return"bg-primary-100 text-primary-700";default:return"bg-gray-100 text-gray-700"}};return jsxRuntimeExports.jsxs("div",{className:"pt-20",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-primary-50 via-white to-accent-50 relative overflow-hidden",children:[jsxRuntimeExports.jsx(WaveBackground,{variant:"primary",opacity:.03}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-6 py-12 relative z-10",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-8 h-8 text-primary-600"}),jsxRuntimeExports.jsx("h1",{className:"text-4xl lg:text-5xl font-bold",children:jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent",children:R("events.heroTitle")})})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 max-w-2xl",children:R("events.heroSubtitle")})]}),jsxRuntimeExports.jsxs("div",{className:"hidden lg:flex items-center gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-primary-600",children:xe.length}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:R("events.upcoming")})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-accent-600",children:xe.filter(Ue=>Ue.type==="workshop").length}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:R("events.workshops")})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-secondary-600",children:xe.filter(Ue=>Ue.type==="trip").length}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:R("events.trips")})]})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-20 z-40 shadow-sm",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 overflow-x-auto scrollbar-hide",children:[jsxRuntimeExports.jsx(Funnel,{className:"w-5 h-5 text-gray-600 flex-shrink-0"}),jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>A(null),className:`px-5 py-2 rounded-full whitespace-nowrap transition-all font-medium ${T===null?"bg-gradient-to-r from-primary-600 to-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:R("events.allEvents")}),ae.map(Ue=>jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>A(Ue.key),className:`px-5 py-2 rounded-full whitespace-nowrap transition-all font-medium ${T===Ue.key?"bg-gradient-to-r from-primary-600 to-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:Ue.label},Ue.key))]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("select",{value:U,onChange:Ue=>G(Ue.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[jsxRuntimeExports.jsx("option",{value:"default",children:R("events.sortSoonestFirst")}),jsxRuntimeExports.jsx("option",{value:"date-asc",children:R("events.dateEarliest")}),jsxRuntimeExports.jsx("option",{value:"date-desc",children:R("events.dateLatest")}),jsxRuntimeExports.jsx("option",{value:"price",children:R("events.priceLowToHigh")})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 p-1 rounded-lg",children:[jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>z("grid"),className:`p-2 rounded transition-all ${O==="grid"?"bg-white text-primary-600 shadow":"text-gray-600 hover:text-gray-900"}`,children:jsxRuntimeExports.jsx(Grid3x3,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>z("list"),className:`p-2 rounded transition-all ${O==="list"?"bg-white text-primary-600 shadow":"text-gray-600 hover:text-gray-900"}`,children:jsxRuntimeExports.jsx(List,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx("div",{className:"hidden md:block text-sm text-gray-600",children:R("events.eventsCount",{count:_e.length})})]})]})})}),jsxRuntimeExports.jsx("div",{className:"bg-gray-50 min-h-screen",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-6 py-8",children:ee?jsxRuntimeExports.jsx(GridSkeleton,{count:6}):te?jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsx("p",{className:"text-red-600",children:R("events.loadingError")})}):_e.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-20",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600",children:R("events.noEvents")}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 mt-2",children:R("events.checkBackSoon")})]}):jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsx(StaggerContainer,{staggerDelay:.05,className:O==="grid"?"grid md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:_e.map(Ue=>O==="grid"?jsxRuntimeExports.jsx(Link$2,{to:`/events/${Ue.id}`,children:jsxRuntimeExports.jsxs(Card,{className:"h-full group cursor-pointer overflow-hidden relative hover:shadow-xl transition-shadow",children:[jsxRuntimeExports.jsxs("div",{className:"absolute top-4 left-4 z-10 bg-white rounded-lg shadow-lg p-3 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-primary-600",children:new Date(Ue.start_date).getDate()}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600 uppercase",children:Ne(Ue.start_date)})]}),jsxRuntimeExports.jsx("div",{className:"absolute top-4 right-4 z-10",children:jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${$e(Ue.type)}`,children:oe(Ue.type)})}),jsxRuntimeExports.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-primary-100 to-accent-100 rounded-xl mb-4 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsx(Calendar,{className:"w-16 h-16 text-primary-300"})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold line-clamp-2 group-hover:text-primary-600 transition-colors",children:Ue.title}),jsxRuntimeExports.jsx("div",{className:"text-gray-600 text-sm line-clamp-2 leading-relaxed prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:Ue.description}}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 text-primary-600"}),jsxRuntimeExports.jsx("span",{children:je(Ue.start_date)})]}),Ue.location&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4 text-primary-600"}),jsxRuntimeExports.jsx("span",{className:"line-clamp-1",children:Ue.location})]}),Ue.max_participants&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4 text-primary-600"}),jsxRuntimeExports.jsx("span",{children:R("events.maxParticipants",{count:Ue.max_participants})})]})]}),jsxRuntimeExports.jsxs("div",{className:"pt-3 border-t border-gray-100 flex items-center justify-between",children:[Ue.price?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:R("events.price")}),jsxRuntimeExports.jsx(SaudiRiyalPrice,{amount:Ue.price,className:"text-xl font-bold text-primary-600"})]}):jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-semibold",children:R("events.free")}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 text-primary-600 font-medium group-hover:gap-2 transition-all",children:[R("events.viewDetails"),jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4"})]})]})]})]})},Ue.id):jsxRuntimeExports.jsx(Link$2,{to:`/events/${Ue.id}`,children:jsxRuntimeExports.jsx(Card,{className:"group cursor-pointer overflow-hidden hover:shadow-xl transition-shadow",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"w-24 h-24 flex-shrink-0 bg-gradient-to-br from-primary-600 to-accent-600 rounded-xl flex flex-col items-center justify-center text-white",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold",children:new Date(Ue.start_date).getDate()}),jsxRuntimeExports.jsx("div",{className:"text-sm uppercase",children:Ne(Ue.start_date)})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col justify-between py-1",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold group-hover:text-primary-600 transition-colors",children:Ue.title}),jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold flex-shrink-0 ${$e(Ue.type)}`,children:oe(Ue.type)})]}),jsxRuntimeExports.jsx("div",{className:"text-gray-600 mb-3 line-clamp-2 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:Ue.description}}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 text-primary-600"}),jsxRuntimeExports.jsxs("span",{children:[Le(Ue.start_date)," ",R("events.at")," ",je(Ue.start_date)]})]}),Ue.location&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4 text-primary-600"}),jsxRuntimeExports.jsx("span",{children:Ue.location})]}),Ue.max_participants&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4 text-primary-600"}),jsxRuntimeExports.jsx("span",{children:R("events.max",{count:Ue.max_participants})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[Ue.price?jsxRuntimeExports.jsx(SaudiRiyalPrice,{amount:Ue.price,className:"text-2xl font-bold text-primary-600"}):jsxRuntimeExports.jsx("span",{className:"px-4 py-1 bg-green-100 text-green-700 rounded-full font-semibold",children:R("events.freeEvent")}),jsxRuntimeExports.jsxs(Button,{variant:"primary",size:"sm",children:[R("events.viewDetails"),jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4 ml-2"})]})]})]})]})})},Ue.id))},O)})})}),jsxRuntimeExports.jsx(Section,{background:"gradient",children:jsxRuntimeExports.jsx(Card,{className:"bg-gradient-to-r from-primary-600 to-accent-600 text-white text-center",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold mb-4",children:R("events.dontMissOut")}),jsxRuntimeExports.jsx("p",{className:"text-xl mb-8 text-white/90 max-w-2xl mx-auto",children:R("events.ctaDescription")}),jsxRuntimeExports.jsx(Link$2,{to:"/contact",children:jsxRuntimeExports.jsx(Button,{variant:"secondary",size:"lg",className:"bg-white text-primary-600",children:R("events.contactUs")})})]})})})]})},EventDetailPage=()=>{const{t:R,i18n:y}=useTranslation(),{id:T}=useParams(),{data:A,isLoading:O,error:z}=useGetEventQuery(Number(T)),U=y.language==="ar"?"ar-SA":"en-US",G=oe=>new Date(oe).toLocaleDateString(U,{weekday:"long",month:"long",day:"numeric",year:"numeric"}),J=oe=>new Date(oe).toLocaleTimeString(U,{hour:"numeric",minute:"2-digit"}),ee=oe=>{switch(oe){case"workshop":return"bg-purple-100 text-purple-700 border-purple-200";case"course":return"bg-accent-100 text-accent-700 border-accent-200";case"trip":return"bg-primary-100 text-primary-700 border-primary-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},te=oe=>R(`events.${oe}`,oe.charAt(0).toUpperCase()+oe.slice(1)),ae=A?new Date(A.start_date)>=new Date:!1;return O?jsxRuntimeExports.jsx("div",{className:"pt-20 min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-12 h-12 animate-spin text-primary-600"})}):z||!A?jsxRuntimeExports.jsx("div",{className:"pt-20 min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:R("common.eventNotFound")}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:R("common.eventNotFoundMessage")})]})}):jsxRuntimeExports.jsxs("div",{className:"pt-20",children:[jsxRuntimeExports.jsxs("div",{className:"relative h-[400px] overflow-hidden bg-gradient-to-br from-primary-600 via-primary-700 to-accent-600",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-10",children:jsxRuntimeExports.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-white px-6",children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-4",children:jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold border ${ee(A.type)}`,children:[jsxRuntimeExports.jsx(Tag,{className:"w-4 h-4"}),te(A.type)]})}),jsxRuntimeExports.jsx(motion.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6 max-w-4xl",children:A.title}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-wrap items-center justify-center gap-6 text-white/90",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:G(A.start_date)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:J(A.start_date)})]}),A.location&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:A.location})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-6 right-6",children:ae?jsxRuntimeExports.jsxs("span",{className:"px-4 py-2 bg-green-500 text-white rounded-full font-semibold flex items-center gap-2",children:[jsxRuntimeExports.jsx(CalendarCheck,{className:"w-4 h-4"}),R("events.upcoming")]}):jsxRuntimeExports.jsx("span",{className:"px-4 py-2 bg-gray-500 text-white rounded-full font-semibold",children:R("events.pastEvent")})})]}),jsxRuntimeExports.jsx(Section,{background:"white",children:jsxRuntimeExports.jsx("div",{className:"max-w-4xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Info,{className:"w-6 h-6 text-primary-600"}),R("events.aboutThisEvent")]}),jsxRuntimeExports.jsx("div",{className:"prose prose-lg max-w-none text-gray-600",dangerouslySetInnerHTML:{__html:A.description}})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gray-50 rounded-2xl p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:R("events.eventSchedule")}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-xl flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Calendar,{className:"w-6 h-6 text-primary-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-900",children:R("events.startDate")}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:[G(A.start_date)," ",R("events.at")," ",J(A.start_date)]})]})]}),A.end_date&&jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-accent-100 rounded-xl flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(CalendarCheck,{className:"w-6 h-6 text-accent-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-900",children:R("events.endDate")}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:[G(A.end_date)," ",R("events.at")," ",J(A.end_date)]})]})]}),A.location&&jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(MapPin,{className:"w-6 h-6 text-green-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-900",children:R("common.location")}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:A.location})]})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"lg:col-span-1",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-lg sticky top-28",children:[jsxRuntimeExports.jsx("div",{className:"text-center mb-6 pb-6 border-b border-gray-200",children:A.price?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mb-1",children:R("events.eventPrice")}),jsxRuntimeExports.jsx(SaudiRiyalPrice,{amount:A.price,className:"text-4xl font-bold bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent"})]}):jsxRuntimeExports.jsx("span",{className:"inline-block px-6 py-3 bg-green-100 text-green-700 rounded-full text-xl font-bold",children:R("common.freeEvent")})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Tag,{className:"w-5 h-5 text-primary-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:R("common.type")}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-900 capitalize",children:te(A.type)})]})]}),A.max_participants&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-accent-100 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Users,{className:"w-5 h-5 text-accent-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:R("common.capacity")}),jsxRuntimeExports.jsxs("p",{className:"font-semibold text-gray-900",children:[A.max_participants," ",R("common.participants")]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(CalendarCheck,{className:"w-5 h-5 text-green-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:R("common.status")}),jsxRuntimeExports.jsx("p",{className:`font-semibold ${ae?"text-green-600":"text-gray-500"}`,children:R(ae?"common.openForRegistration":"common.eventEnded")})]})]})]}),ae&&jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Link$2,{to:"/contact",className:"block",children:jsxRuntimeExports.jsx(Button,{variant:"primary",className:"w-full",size:"lg",children:R("common.registerNow")})}),jsxRuntimeExports.jsxs("button",{onClick:()=>{navigator.share?navigator.share({title:A.title,text:A.description,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert(R("common.linkCopied")))},className:"w-full flex items-center justify-center gap-2 px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors font-medium",children:[jsxRuntimeExports.jsx(Share2,{className:"w-5 h-5"}),R("common.shareEvent")]})]}),!ae&&jsxRuntimeExports.jsx("div",{className:"text-center py-4 bg-gray-100 rounded-lg",children:jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:R("common.thisEventHasEnded")})})]})})]})})})]})},InitiativesPage=()=>{const{t:R}=useTranslation(),{data:y=[],isLoading:T,error:A}=useGetSocialInitiativesQuery({published:!0});return jsxRuntimeExports.jsxs("div",{className:"pt-20",children:[jsxRuntimeExports.jsxs("div",{className:"relative h-96 overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1559027615-cd4628902d4a?w=1920&h=600&fit=crop",alt:"Social Initiatives",className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary-900/80 to-accent-900/80"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center text-white",children:[jsxRuntimeExports.jsx(Heart,{className:"w-16 h-16 mx-auto mb-6"}),jsxRuntimeExports.jsx("h1",{className:"text-6xl font-bold mb-4",children:R("initiatives.heroTitle")}),jsxRuntimeExports.jsx("p",{className:"text-2xl text-white/90",children:R("initiatives.heroSubtitle")})]})})]}),jsxRuntimeExports.jsx(Section,{background:"white",children:T?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center py-12",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-12 h-12 animate-spin text-primary-600"})}):A?jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsx("p",{className:"text-red-600",children:R("initiatives.loadingError")})}):y.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:R("initiatives.noInitiatives")})}):jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:y.map((O,z)=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:z*.1},children:jsxRuntimeExports.jsx(Link$2,{to:`/initiatives/${O.id}`,children:jsxRuntimeExports.jsxs(Card,{className:"group cursor-pointer h-full overflow-hidden hover:shadow-2xl transition-shadow",children:[jsxRuntimeExports.jsx("div",{className:"relative overflow-hidden rounded-xl mb-4",children:O.image_url?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:O.image_url,alt:O.title,className:"w-full h-56 object-cover group-hover:scale-110 transition-transform duration-500"}),O.category&&jsxRuntimeExports.jsx("div",{className:"absolute top-4 left-4",children:jsxRuntimeExports.jsx("span",{className:"bg-primary-600 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-lg",children:O.category.name})})]}):jsxRuntimeExports.jsxs("div",{className:"w-full h-56 bg-gray-100 flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx(Heart,{className:"w-16 h-16 text-gray-300 mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:R("initiatives.noImage")}),O.category&&jsxRuntimeExports.jsx("div",{className:"absolute top-4 left-4",children:jsxRuntimeExports.jsx("span",{className:"bg-primary-600 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-lg",children:O.category.name})})]})}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:O.published_at?new Date(O.published_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):new Date(O.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold mb-3 group-hover:text-primary-600 transition-colors",children:O.title}),jsxRuntimeExports.jsx("div",{className:"text-gray-600 mb-4 line-clamp-3 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:O.excerpt}}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-primary-600 font-semibold group-hover:gap-3 gap-2 transition-all",children:[R("initiatives.learnMore"),jsxRuntimeExports.jsx(ArrowRight,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})})},O.id))})}),jsxRuntimeExports.jsx(Section,{background:"gradient",children:jsxRuntimeExports.jsx(Card,{className:"bg-gradient-to-r from-primary-600 to-accent-600 text-white text-center",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold mb-4",children:R("initiatives.ctaTitle")}),jsxRuntimeExports.jsx("p",{className:"text-xl mb-8 text-white/90 max-w-2xl mx-auto",children:R("initiatives.ctaDescription")}),jsxRuntimeExports.jsx(Link$2,{to:"/contact",children:jsxRuntimeExports.jsx(Button,{variant:"secondary",className:"bg-white text-primary-600",children:R("initiatives.getInTouch")})})]})})})]})},InitiativeDetailPage=()=>{const{t:R,i18n:y}=useTranslation(),T=y.language==="ar"?"ar-SA":"en-US",{id:A}=useParams(),{data:O,isLoading:z,error:U}=useGetSocialInitiativeQuery(Number(A));return z?jsxRuntimeExports.jsx("div",{className:"pt-20 min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-12 h-12 animate-spin text-primary-600"})}):U||!O?jsxRuntimeExports.jsx("div",{className:"pt-20 min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:R("common.initiativeNotFound")}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:R("common.initiativeNotFoundMessage")})]})}):jsxRuntimeExports.jsxs("div",{className:"pt-20",children:[jsxRuntimeExports.jsxs("div",{className:"relative h-[500px] overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:O.image_url||"https://images.unsplash.com/photo-1559027615-cd4628902d4a?w=1920&h=800&fit=crop",alt:O.title,className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 via-black/30 to-black/70"})]}),jsxRuntimeExports.jsx(Section,{background:"white",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[O.category&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2 bg-primary-100 text-primary-700 px-4 py-2 rounded-full text-sm font-semibold",children:[jsxRuntimeExports.jsx(Tag,{className:"w-4 h-4"}),O.category.name]})}),jsxRuntimeExports.jsx(motion.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-5xl font-bold text-gray-900 mb-6 leading-tight",children:O.title}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex items-center gap-6 text-gray-600 mb-8 pb-8 border-b border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:O.published_at?new Date(O.published_at).toLocaleDateString(T,{month:"long",day:"numeric",year:"numeric"}):new Date(O.created_at).toLocaleDateString(T,{month:"long",day:"numeric",year:"numeric"})})]}),jsxRuntimeExports.jsxs("button",{className:"ml-auto flex items-center gap-2 text-primary-600 hover:text-primary-700 transition-colors",children:[jsxRuntimeExports.jsx(Share2,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:R("common.share")})]})]}),O.excerpt&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-xl text-gray-700 mb-8 p-6 bg-gray-50 rounded-xl border-l-4 border-primary-600",children:jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:O.excerpt}})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"prose prose-lg max-w-none mb-12",dangerouslySetInnerHTML:{__html:O.content}})]})})]})},FooterLinkPage=()=>{const{t:R,i18n:y}=useTranslation(),T=y.language==="ar"?"ar-SA":"en-US",{slug:A}=useParams(),{data:O,isLoading:z,error:U}=useGetFooterLinkBySlugQuery(A||"");return z?jsxRuntimeExports.jsx("div",{className:"pt-20 min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-12 h-12 animate-spin text-primary-600"})}):U||!O?jsxRuntimeExports.jsx("div",{className:"pt-20 min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:R("common.pageNotFound","Page Not Found")}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:R("common.pageNotFoundMessage","The page you are looking for does not exist or has been removed.")})]})}):jsxRuntimeExports.jsxs("div",{className:"pt-20",children:[jsxRuntimeExports.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 py-20 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-10",children:jsxRuntimeExports.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full text-white/80 text-sm mb-6",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),R("common.legalPage","Legal Information")]}),jsxRuntimeExports.jsx(motion.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl md:text-5xl font-bold text-white mb-4",children:O.title}),jsxRuntimeExports.jsxs(motion.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-lg text-gray-300",children:[R("common.lastUpdated","Last updated"),": ",new Date(O.updated_at).toLocaleDateString(T,{month:"long",day:"numeric",year:"numeric"})]})]})]}),jsxRuntimeExports.jsx(Section,{background:"white",children:jsxRuntimeExports.jsx("div",{className:"max-w-4xl mx-auto",children:O.content?jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"prose prose-lg max-w-none mb-12",dangerouslySetInnerHTML:{__html:O.content}}):jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center py-12",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:R("common.noContent","Content coming soon...")})]})})})]})},categoryIcons={general:CircleQuestionMark,programs:GraduationCap,participants:Users,registration:ClipboardList},categoryQuestionCounts={general:3,programs:3,participants:3,registration:4},categoryKeys=["general","programs","participants","registration"],FAQItem=({question:R,answer:y,isOpen:T,onToggle:A,index:O})=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:O*.05},className:"border border-gray-200 rounded-xl overflow-hidden bg-white hover:border-primary-300 transition-colors",children:[jsxRuntimeExports.jsxs("button",{onClick:A,className:"w-full flex items-center justify-between px-6 py-5 text-start gap-4",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-gray-900 text-base",children:R}),jsxRuntimeExports.jsx(motion.div,{animate:{rotate:T?180:0},transition:{duration:.2},className:"shrink-0",children:jsxRuntimeExports.jsx(ChevronDown,{className:"w-5 h-5 text-gray-400"})})]}),jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:T&&jsxRuntimeExports.jsx(motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:"easeInOut"},children:jsxRuntimeExports.jsx("div",{className:"px-6 pb-5 text-gray-600 leading-relaxed border-t border-gray-100 pt-4",children:y})})})]}),FAQPage=()=>{const{t:R}=useTranslation(),[y,T]=reactExports.useState("general"),[A,O]=reactExports.useState(new Set),[z,U]=reactExports.useState(""),G=ae=>{O(oe=>{const pe=new Set(oe);return pe.has(ae)?pe.delete(ae):pe.add(ae),pe})},J=categoryKeys.flatMap(ae=>Array.from({length:categoryQuestionCounts[ae]},(oe,pe)=>pe+1).map(oe=>({category:ae,key:`${ae}-${oe}`,question:R(`faq.${ae}.q${oe}`),answer:R(`faq.${ae}.a${oe}`)}))),ee=z.trim()?J.filter(ae=>ae.question.toLowerCase().includes(z.toLowerCase())||ae.answer.toLowerCase().includes(z.toLowerCase())):J.filter(ae=>ae.category===y),te=z.trim().length>0;return jsxRuntimeExports.jsxs("div",{className:"pt-20",children:[jsxRuntimeExports.jsxs("div",{className:"relative h-96 overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=1920&h=600&fit=crop",alt:"FAQ",className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary-900/80 to-accent-900/80"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center text-white px-4",children:[jsxRuntimeExports.jsx(CircleQuestionMark,{className:"w-16 h-16 mx-auto mb-6"}),jsxRuntimeExports.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:R("faq.heroTitle")}),jsxRuntimeExports.jsx("p",{className:"text-xl md:text-2xl text-white/90 max-w-2xl mx-auto",children:R("faq.heroSubtitle")})]})})]}),jsxRuntimeExports.jsx(Section,{background:"white",className:"!py-0 -mt-8 relative z-10",children:jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute start-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",value:z,onChange:ae=>U(ae.target.value),placeholder:R("faq.searchPlaceholder"),className:"w-full ps-12 pe-4 py-4 bg-white border border-gray-200 rounded-2xl shadow-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base"})]})})}),jsxRuntimeExports.jsxs(Section,{background:"gray",children:[!te&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-wrap justify-center gap-3 mb-12",children:categoryKeys.map(ae=>{const oe=categoryIcons[ae],pe=y===ae;return jsxRuntimeExports.jsxs("button",{onClick:()=>{T(ae),O(new Set)},className:`flex items-center gap-2 px-5 py-2.5 rounded-full font-medium text-sm transition-all ${pe?"bg-gradient-to-r from-primary-600 to-accent-600 text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"}`,children:[jsxRuntimeExports.jsx(oe,{className:"w-4 h-4"}),R(`faq.categories.${ae}`)]},ae)})}),jsxRuntimeExports.jsx("div",{className:"max-w-3xl mx-auto space-y-3",children:ee.length>0?ee.map((ae,oe)=>jsxRuntimeExports.jsx(FAQItem,{question:ae.question,answer:ae.answer,isOpen:A.has(ae.key),onToggle:()=>G(ae.key),index:oe},ae.key)):jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12 text-gray-500",children:[jsxRuntimeExports.jsx(Search,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),jsxRuntimeExports.jsx("p",{className:"text-lg",children:R("faq.noResults")})]})})]}),jsxRuntimeExports.jsx(Section,{background:"white",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center max-w-xl mx-auto",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:R("faq.stillHaveQuestions")}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:R("faq.contactDescription")}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[jsxRuntimeExports.jsxs(Link$2,{to:"/contact",className:"flex items-center gap-2 px-8 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-xl font-semibold hover:shadow-lg transition-shadow",children:[jsxRuntimeExports.jsx(Phone,{className:"w-5 h-5"}),R("faq.contactUs")]}),jsxRuntimeExports.jsxs("a",{href:"https://wa.me/966541000233",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-8 py-3 bg-green-500 text-white rounded-xl font-semibold hover:bg-green-600 transition-colors",children:[jsxRuntimeExports.jsx(MessageCircle,{className:"w-5 h-5"}),R("faq.whatsappUs")]})]})]})})]})},Sidebar=({isCollapsed:R,setIsCollapsed:y})=>{const{t:T,i18n:A}=useTranslation("admin"),O=useLocation(),z=A.language==="ar",[U,G]=reactExports.useState(["shop","content"]),J=fe=>{G(xe=>xe.includes(fe)?xe.filter(ye=>ye!==fe):[...xe,fe])},ee=[{icon:LayoutDashboard,label:T("sidebar.dashboard"),path:"/admin"}],te=[{title:"shop",icon:ShoppingBag,items:[{icon:ClipboardList,label:"Bookings",path:"/admin/bookings"},{icon:Package,label:T("sidebar.products"),path:"/admin/products"},{icon:GraduationCap,label:T("sidebar.courses"),path:"/admin/courses"},{icon:Compass,label:T("sidebar.trips"),path:"/admin/trips"}]},{title:"content",icon:Megaphone,items:[{icon:BookOpen,label:T("sidebar.blog"),path:"/admin/blog"},{icon:Calendar,label:T("sidebar.events"),path:"/admin/events"},{icon:Heart,label:"Initiatives",path:"/admin/initiatives"},{icon:Image$1,label:T("sidebar.banners"),path:"/admin/banners"},{icon:Users,label:T("sidebar.team"),path:"/admin/team"}]},{title:"settings",icon:Cog,items:[{icon:Tag,label:"Categories",path:"/admin/categories"},{icon:Link$1,label:"Footer Links",path:"/admin/footer-links"},{icon:Settings$1,label:T("sidebar.settings"),path:"/admin/settings"}]}],ae={shop:"Shop",content:"Content",settings:"Settings"},oe=fe=>fe.items.some(xe=>O.pathname===xe.path),pe=(fe,xe=!1)=>{const ye=fe.icon,_e=O.pathname===fe.path;return jsxRuntimeExports.jsx(Link$2,{to:fe.path,children:jsxRuntimeExports.jsxs(motion.div,{whileHover:{x:z?-4:4},className:`flex items-center gap-3 px-4 py-2.5 rounded-lg transition-all ${xe&&!R?"ml-4":""} ${_e?"bg-gradient-to-r from-primary-600 to-accent-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-700/50"}`,children:[jsxRuntimeExports.jsx(ye,{className:`w-5 h-5 shrink-0 ${_e?"":"text-gray-400"}`}),!R&&jsxRuntimeExports.jsx(motion.span,{initial:{opacity:0},animate:{opacity:1},className:"font-medium text-sm ",children:fe.label})]})},fe.path)};return jsxRuntimeExports.jsxs(motion.div,{animate:{width:R?80:280},className:`bg-gradient-to-b from-gray-900 via-gray-900 to-gray-800 text-white h-screen fixed top-0 overflow-hidden shadow-2xl z-50 flex flex-col ${z?"right-0":"left-0"}`,style:{left:z?"auto":0,right:z?0:"auto"},children:[jsxRuntimeExports.jsxs("div",{className:"p-5 border-b border-gray-700/50 flex items-center justify-between",children:[!R&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-primary-600 to-accent-600 p-2.5 rounded-xl shadow-lg",children:jsxRuntimeExports.jsx(Waves,{className:"w-6 h-6"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-lg",children:"Coral & Shells"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-400",children:"Admin Panel"})]})]}),R&&jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-primary-600 to-accent-600 p-2.5 rounded-xl shadow-lg mx-auto",children:jsxRuntimeExports.jsx(Waves,{className:"w-6 h-6"})})]}),jsxRuntimeExports.jsx("button",{onClick:()=>y(!R),className:`absolute top-20 bg-gray-800 text-white p-1.5 rounded-full shadow-lg hover:bg-gray-700 transition-colors border border-gray-600 z-10 ${z?"-left-3":"-right-3"}`,style:{left:z?"-12px":"auto",right:z?"auto":"-12px"},children:R?z?jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"}):z?jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("nav",{className:"flex-1 overflow-y-auto py-4 px-3 space-y-1 scrollbar-hide",children:[ee.map(fe=>pe(fe)),te.map(fe=>{const xe=fe.icon,ye=U.includes(fe.title),_e=oe(fe);return jsxRuntimeExports.jsxs("div",{className:"pt-3",children:[R?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-2",children:jsxRuntimeExports.jsx("div",{className:`w-8 h-0.5 rounded-full ${_e?"bg-primary-500":"bg-gray-700"}`})}):jsxRuntimeExports.jsxs("button",{onClick:()=>J(fe.title),className:`w-full flex items-center justify-between px-4 py-2 rounded-lg transition-all ${_e?"text-primary-400":"text-gray-400 hover:text-gray-200"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(xe,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:ae[fe.title]})]}),jsxRuntimeExports.jsx(motion.div,{animate:{rotate:ye?180:0},transition:{duration:.2},children:jsxRuntimeExports.jsx(ChevronDown,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:(ye||R)&&jsxRuntimeExports.jsx(motion.div,{initial:R?!1:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:`space-y-1 ${R?"":"mt-1"}`,children:fe.items.map(Le=>pe(Le,!R))})})})]},fe.title)})]}),jsxRuntimeExports.jsx("div",{className:"p-3 border-t border-gray-700/50",children:jsxRuntimeExports.jsx(Link$2,{to:"/",children:jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`flex items-center gap-3 px-4 py-3 rounded-lg bg-gray-800/50 hover:bg-gray-700/50 transition-all ${R?"justify-center":""}`,children:[jsxRuntimeExports.jsx(House,{className:"w-5 h-5 text-gray-400"}),!R&&jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-300",children:"Back to Site"})]})})}),!R&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"p-3 border-t border-gray-700/50",children:jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Coral & Shells CMS v1.0.0"})})]})},AdminLayout=()=>{const[R,y]=reactExports.useState(!1),{i18n:T}=useTranslation(),A=T.language==="ar";return reactExports.useEffect(()=>{document.documentElement.dir=A?"rtl":"ltr",document.documentElement.lang=T.language},[A,T.language]),jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50",children:[jsxRuntimeExports.jsx(Sidebar,{isCollapsed:R,setIsCollapsed:y}),jsxRuntimeExports.jsxs("div",{className:"transition-all duration-300",style:{marginLeft:A?0:R?80:280,marginRight:A?R?80:280:0},children:[jsxRuntimeExports.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-40",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-8 py-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4",children:jsxRuntimeExports.jsxs(Link$2,{to:"/",className:"flex items-center gap-2 text-sm text-gray-600 hover:text-primary-600 transition-colors",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),"Back to Website"]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent w-64"})]}),jsxRuntimeExports.jsxs("button",{className:"relative p-2 hover:bg-gray-100 rounded-lg transition-colors",children:[jsxRuntimeExports.jsx(Bell,{className:"w-5 h-5 text-gray-600"}),jsxRuntimeExports.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),jsxRuntimeExports.jsx("div",{className:"border-l border-gray-200 pl-4",children:jsxRuntimeExports.jsx(LanguageSwitcher,{})}),jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-3 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-600 to-accent-600 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"text-left hidden sm:block",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Admin"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:"Administrator"})]})]})]})]})}),jsxRuntimeExports.jsx("main",{className:"p-8",children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:jsxRuntimeExports.jsx(Outlet,{})})})]})]})},StatCard=({title:R,value:y,icon:T,trend:A,color:O})=>jsxRuntimeExports.jsx(motion.div,{whileHover:{y:-4},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-1",children:R}),jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold text-gray-900",children:y}),A&&jsxRuntimeExports.jsxs("p",{className:`text-sm mt-2 ${A.isPositive?"text-green-600":"text-red-600"}`,children:[A.isPositive?"":""," ",A.value]})]}),jsxRuntimeExports.jsx("div",{className:`${O} p-3 rounded-lg`,children:jsxRuntimeExports.jsx(T,{className:"w-6 h-6 text-white"})})]})}),Dashboard=()=>{const{t:R}=useTranslation("admin"),{data:y=[],isLoading:T}=useGetProductsQuery({}),{data:A=[],isLoading:O}=useGetCoursesQuery({}),{data:z=[],isLoading:U}=useGetTripsQuery({}),{data:G=[],isLoading:J}=useGetBlogPostsQuery({}),{data:ee=[],isLoading:te}=useGetEventsQuery({}),{data:ae=[],isLoading:oe}=useGetTeamMembersQuery({}),pe=T||O||U||J||te||oe,fe=[{title:"Total Products",value:y.length.toString(),icon:Package,trend:{value:`${y.filter(xe=>xe.in_stock).length} in stock`,isPositive:!0},color:"bg-gradient-to-br from-blue-500 to-blue-600"},{title:"Active Courses",value:A.filter(xe=>xe.is_active).length.toString(),icon:GraduationCap,trend:{value:`${A.filter(xe=>xe.is_featured).length} featured`,isPositive:!0},color:"bg-gradient-to-br from-green-500 to-green-600"},{title:"Active Trips",value:z.filter(xe=>xe.is_active).length.toString(),icon:Compass,trend:{value:`${z.filter(xe=>xe.is_featured).length} featured`,isPositive:!0},color:"bg-gradient-to-br from-purple-500 to-purple-600"},{title:"Blog Posts",value:G.length.toString(),icon:BookOpen,trend:{value:`${G.filter(xe=>xe.is_published).length} published`,isPositive:!0},color:"bg-gradient-to-br from-orange-500 to-orange-600"},{title:"Upcoming Events",value:ee.filter(xe=>xe.is_active).length.toString(),icon:Calendar,trend:{value:`${ee.filter(xe=>xe.type==="workshop").length} workshops`,isPositive:!0},color:"bg-gradient-to-br from-cyan-500 to-cyan-600"},{title:"Team Members",value:ae.length.toString(),icon:Users,trend:{value:`${ae.filter(xe=>xe.is_active).length} active`,isPositive:!0},color:"bg-gradient-to-br from-pink-500 to-pink-600"},{title:"Total Inventory",value:y.reduce((xe,ye)=>xe+ye.stock_quantity,0).toString(),icon:Package,trend:{value:"Total units",isPositive:!0},color:"bg-gradient-to-br from-emerald-500 to-emerald-600"},{title:"Categories",value:new Set([...y.filter(xe=>xe.category_id).map(xe=>xe.category_id),...A.filter(xe=>xe.category_id).map(xe=>xe.category_id),...z.filter(xe=>xe.category_id).map(xe=>xe.category_id)]).size.toString(),icon:BookOpen,trend:{value:"Active categories",isPositive:!0},color:"bg-gradient-to-br from-indigo-500 to-indigo-600"}];return pe?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-primary-600"})}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:R("dashboard.title")}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:R("dashboard.welcome")})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:fe.map((xe,ye)=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ye*.05},children:jsxRuntimeExports.jsx(StatCard,{...xe})},xe.title))}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Recent Items"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[y.slice(0,2).map((xe,ye)=>jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 pb-4 border-b border-gray-100",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-blue-100 text-blue-600",children:jsxRuntimeExports.jsx(Package,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900",children:xe.name}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["SAR ",xe.price]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:xe.in_stock?`${xe.stock_quantity} in stock`:"Out of stock"})]})]},`product-${ye}`)),A.slice(0,2).map((xe,ye)=>jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 pb-4 border-b border-gray-100",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-green-100 text-green-600",children:jsxRuntimeExports.jsx(GraduationCap,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900",children:xe.name}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:[xe.level," - ",xe.duration]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["SAR ",xe.price]})]})]},`course-${ye}`)),z.slice(0,1).map((xe,ye)=>jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 pb-4 border-b border-gray-100 last:border-0",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-purple-100 text-purple-600",children:jsxRuntimeExports.jsx(Compass,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900",children:xe.name}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:[xe.location," - ",xe.duration]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["SAR ",xe.price]})]})]},`trip-${ye}`))]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Quick Actions"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("button",{className:"p-4 border-2 border-gray-200 rounded-xl hover:border-primary-500 hover:bg-primary-50 transition-all text-left group",children:[jsxRuntimeExports.jsx(Package,{className:"w-6 h-6 text-primary-600 mb-2"}),jsxRuntimeExports.jsx("div",{className:"font-semibold text-gray-900 group-hover:text-primary-600",children:"Add Product"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:"Create new item"})]}),jsxRuntimeExports.jsxs("button",{className:"p-4 border-2 border-gray-200 rounded-xl hover:border-green-500 hover:bg-green-50 transition-all text-left group",children:[jsxRuntimeExports.jsx(GraduationCap,{className:"w-6 h-6 text-green-600 mb-2"}),jsxRuntimeExports.jsx("div",{className:"font-semibold text-gray-900 group-hover:text-green-600",children:"Add Course"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:"Create new course"})]}),jsxRuntimeExports.jsxs("button",{className:"p-4 border-2 border-gray-200 rounded-xl hover:border-purple-500 hover:bg-purple-50 transition-all text-left group",children:[jsxRuntimeExports.jsx(Compass,{className:"w-6 h-6 text-purple-600 mb-2"}),jsxRuntimeExports.jsx("div",{className:"font-semibold text-gray-900 group-hover:text-purple-600",children:"Add Trip"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:"Create new trip"})]}),jsxRuntimeExports.jsxs("button",{className:"p-4 border-2 border-gray-200 rounded-xl hover:border-orange-500 hover:bg-orange-50 transition-all text-left group",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-6 h-6 text-orange-600 mb-2"}),jsxRuntimeExports.jsx("div",{className:"font-semibold text-gray-900 group-hover:text-orange-600",children:"Add Blog Post"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:"Write new post"})]})]})]})]})]})},DataTable=({columns:R,data:y,onEdit:T,onDelete:A,onView:O,customActions:z})=>jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:jsxRuntimeExports.jsxs("tr",{children:[R.map((U,G)=>jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:U.header},G)),jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-200",children:y.map((U,G)=>jsxRuntimeExports.jsxs(motion.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:G*.05},className:"hover:bg-gray-50 transition-colors",children:[R.map((J,ee)=>jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:J.render?J.render(U[J.accessor],U):U[J.accessor]},ee)),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-right",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-2",children:[z&&z(U),O&&jsxRuntimeExports.jsx("button",{onClick:()=>O(U),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"View",children:jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"})}),T&&jsxRuntimeExports.jsx("button",{onClick:()=>T(U),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{className:"w-4 h-4"})}),A&&jsxRuntimeExports.jsx("button",{onClick:()=>A(U),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})})]},G))})]})}),y.length===0&&jsxRuntimeExports.jsx("div",{className:"text-center py-12 text-gray-500",children:"No data available"})]}),TranslatableField=({label:R,name:y,value:T,translationValue:A,onChangeEnglish:O,onChangeArabic:z,type:U="text",required:G=!1,placeholder:J,placeholderAr:ee,rows:te=4,disabled:ae=!1,className:oe=""})=>{const[pe,fe]=reactExports.useState("en"),xe=pe==="en"?T:A,ye=pe==="en"?J:ee||J,_e=je=>{pe==="en"?O(je.target.value):z(je.target.value)},Le=`
    w-full px-4 py-3 rounded-lg border border-gray-300 shadow-sm
    focus:border-primary-500 focus:ring-2 focus:ring-primary-500 focus:ring-opacity-20
    text-base placeholder:text-gray-400 disabled:bg-gray-100
    ${pe==="ar"?"text-right":"text-left"}
    ${oe}
  `;return jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[R,G&&jsxRuntimeExports.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-0.5",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>fe("en"),className:`px-3 py-1 text-xs font-medium rounded-md transition-all duration-200 ${pe==="en"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"EN"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>fe("ar"),className:`px-3 py-1 text-xs font-medium rounded-md transition-all duration-200 ${pe==="ar"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"AR"})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[U==="textarea"?jsxRuntimeExports.jsx("textarea",{id:`${y}-${pe}`,name:`${y}-${pe}`,value:xe,onChange:_e,rows:te,required:G&&pe==="en",placeholder:ye,disabled:ae,className:Le,dir:pe==="ar"?"rtl":"ltr"}):jsxRuntimeExports.jsx("input",{type:"text",id:`${y}-${pe}`,name:`${y}-${pe}`,value:xe,onChange:_e,required:G&&pe==="en",placeholder:ye,disabled:ae,className:Le,dir:pe==="ar"?"rtl":"ltr"}),jsxRuntimeExports.jsx("div",{className:`absolute top-2 ${pe==="ar"?"left-2":"right-2"} pointer-events-none`,children:jsxRuntimeExports.jsx("span",{className:`text-[10px] font-medium px-1.5 py-0.5 rounded ${pe==="en"?"bg-blue-50 text-blue-600":"bg-emerald-50 text-emerald-600"}`,children:pe==="en"?"English":""})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:`w-2 h-2 rounded-full ${T?"bg-green-500":"bg-gray-300"}`}),jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"EN"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:`w-2 h-2 rounded-full ${A?"bg-green-500":"bg-gray-300"}`}),jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"AR"})]})]})]})};var _=Object.defineProperty,$=(R,y,T)=>y in R?_(R,y,{enumerable:!0,configurable:!0,writable:!0,value:T}):R[y]=T,m=(R,y,T)=>$(R,typeof y!="symbol"?y+"":y,T);const E={x:0,y:0,width:0,height:0,unit:"px"},b=(R,y,T)=>Math.min(Math.max(R,y),T),H=(...R)=>R.filter(y=>y&&typeof y=="string").join(" "),X=(R,y)=>R===y||R.width===y.width&&R.height===y.height&&R.x===y.x&&R.y===y.y&&R.unit===y.unit;function B(R,y,T,A){const O=D(R,T,A);return R.width&&(O.height=O.width/y),R.height&&(O.width=O.height*y),O.y+O.height>A&&(O.height=A-O.y,O.width=O.height*y),O.x+O.width>T&&(O.width=T-O.x,O.height=O.width/y),R.unit==="%"?v(O,T,A):O}function L(R,y,T){const A=D(R,y,T);return A.x=(y-A.width)/2,A.y=(T-A.height)/2,R.unit==="%"?v(A,y,T):A}function v(R,y,T){return R.unit==="%"?{...E,...R,unit:"%"}:{unit:"%",x:R.x?R.x/y*100:0,y:R.y?R.y/T*100:0,width:R.width?R.width/y*100:0,height:R.height?R.height/T*100:0}}function D(R,y,T){return R.unit?R.unit==="px"?{...E,...R,unit:"px"}:{unit:"px",x:R.x?R.x*y/100:0,y:R.y?R.y*T/100:0,width:R.width?R.width*y/100:0,height:R.height?R.height*T/100:0}:{...E,...R,unit:"px"}}function k(R,y,T,A,O,z=0,U=0,G=A,J=O){const ee={...R};let te=Math.min(z,A),ae=Math.min(U,O),oe=Math.min(G,A),pe=Math.min(J,O);y&&(y>1?(te=U?U*y:te,ae=te/y,oe=G*y):(ae=z?z/y:ae,te=ae*y,pe=J/y)),ee.y<0&&(ee.height=Math.max(ee.height+ee.y,ae),ee.y=0),ee.x<0&&(ee.width=Math.max(ee.width+ee.x,te),ee.x=0);const fe=A-(ee.x+ee.width);fe<0&&(ee.x=Math.min(ee.x,A-te),ee.width+=fe);const xe=O-(ee.y+ee.height);if(xe<0&&(ee.y=Math.min(ee.y,O-ae),ee.height+=xe),ee.width<te&&((T==="sw"||T=="nw")&&(ee.x-=te-ee.width),ee.width=te),ee.height<ae&&((T==="nw"||T=="ne")&&(ee.y-=ae-ee.height),ee.height=ae),ee.width>oe&&((T==="sw"||T=="nw")&&(ee.x-=oe-ee.width),ee.width=oe),ee.height>pe&&((T==="nw"||T=="ne")&&(ee.y-=pe-ee.height),ee.height=pe),y){const ye=ee.width/ee.height;if(ye<y){const _e=Math.max(ee.width/y,ae);(T==="nw"||T=="ne")&&(ee.y-=_e-ee.height),ee.height=_e}else if(ye>y){const _e=Math.max(ee.height*y,te);(T==="sw"||T=="nw")&&(ee.x-=_e-ee.width),ee.width=_e}}return ee}function I(R,y,T,A){const O={...R};return y==="ArrowLeft"?A==="nw"?(O.x-=T,O.y-=T,O.width+=T,O.height+=T):A==="w"?(O.x-=T,O.width+=T):A==="sw"?(O.x-=T,O.width+=T,O.height+=T):A==="ne"?(O.y+=T,O.width-=T,O.height-=T):A==="e"?O.width-=T:A==="se"&&(O.width-=T,O.height-=T):y==="ArrowRight"&&(A==="nw"?(O.x+=T,O.y+=T,O.width-=T,O.height-=T):A==="w"?(O.x+=T,O.width-=T):A==="sw"?(O.x+=T,O.width-=T,O.height-=T):A==="ne"?(O.y-=T,O.width+=T,O.height+=T):A==="e"?O.width+=T:A==="se"&&(O.width+=T,O.height+=T)),y==="ArrowUp"?A==="nw"?(O.x-=T,O.y-=T,O.width+=T,O.height+=T):A==="n"?(O.y-=T,O.height+=T):A==="ne"?(O.y-=T,O.width+=T,O.height+=T):A==="sw"?(O.x+=T,O.width-=T,O.height-=T):A==="s"?O.height-=T:A==="se"&&(O.width-=T,O.height-=T):y==="ArrowDown"&&(A==="nw"?(O.x+=T,O.y+=T,O.width-=T,O.height-=T):A==="n"?(O.y+=T,O.height-=T):A==="ne"?(O.y+=T,O.width-=T,O.height-=T):A==="sw"?(O.x-=T,O.width+=T,O.height+=T):A==="s"?O.height+=T:A==="se"&&(O.width+=T,O.height+=T)),O}const M={capture:!0,passive:!1};let N=0;const x=class ss extends reactExports.PureComponent{constructor(){super(...arguments),m(this,"docMoveBound",!1),m(this,"mouseDownOnCrop",!1),m(this,"dragStarted",!1),m(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),m(this,"componentRef",reactExports.createRef()),m(this,"mediaRef",reactExports.createRef()),m(this,"resizeObserver"),m(this,"initChangeCalled",!1),m(this,"instanceId",`rc-${N++}`),m(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),m(this,"onCropPointerDown",y=>{const{crop:T,disabled:A}=this.props,O=this.getBox();if(!T)return;const z=D(T,O.width,O.height);if(A)return;y.cancelable&&y.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const U=y.target.dataset.ord,G=!!U;let J=y.clientX,ee=y.clientY,te=z.x,ae=z.y;if(U){const oe=y.clientX-O.x,pe=y.clientY-O.y;let fe=0,xe=0;U==="ne"||U=="e"?(fe=oe-(z.x+z.width),xe=pe-z.y,te=z.x,ae=z.y+z.height):U==="se"||U==="s"?(fe=oe-(z.x+z.width),xe=pe-(z.y+z.height),te=z.x,ae=z.y):U==="sw"||U=="w"?(fe=oe-z.x,xe=pe-(z.y+z.height),te=z.x+z.width,ae=z.y):(U==="nw"||U=="n")&&(fe=oe-z.x,xe=pe-z.y,te=z.x+z.width,ae=z.y+z.height),J=te+O.x+fe,ee=ae+O.y+xe}this.evData={startClientX:J,startClientY:ee,startCropX:te,startCropY:ae,clientX:y.clientX,clientY:y.clientY,isResize:G,ord:U},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),m(this,"onComponentPointerDown",y=>{const{crop:T,disabled:A,locked:O,keepSelection:z,onChange:U}=this.props,G=this.getBox();if(A||O||z&&T)return;y.cancelable&&y.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const J=y.clientX-G.x,ee=y.clientY-G.y,te={unit:"px",x:J,y:ee,width:0,height:0};this.evData={startClientX:y.clientX,startClientY:y.clientY,startCropX:J,startCropY:ee,clientX:y.clientX,clientY:y.clientY,isResize:!0},this.mouseDownOnCrop=!0,U(D(te,G.width,G.height),v(te,G.width,G.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),m(this,"onDocPointerMove",y=>{const{crop:T,disabled:A,onChange:O,onDragStart:z}=this.props,U=this.getBox();if(A||!T||!this.mouseDownOnCrop)return;y.cancelable&&y.preventDefault(),this.dragStarted||(this.dragStarted=!0,z&&z(y));const{evData:G}=this;G.clientX=y.clientX,G.clientY=y.clientY;let J;G.isResize?J=this.resizeCrop():J=this.dragCrop(),X(T,J)||O(D(J,U.width,U.height),v(J,U.width,U.height))}),m(this,"onComponentKeyDown",y=>{const{crop:T,disabled:A,onChange:O,onComplete:z}=this.props;if(A)return;const U=y.key;let G=!1;if(!T)return;const J=this.getBox(),ee=this.makePixelCrop(J),te=(navigator.platform.match("Mac")?y.metaKey:y.ctrlKey)?ss.nudgeStepLarge:y.shiftKey?ss.nudgeStepMedium:ss.nudgeStep;if(U==="ArrowLeft"?(ee.x-=te,G=!0):U==="ArrowRight"?(ee.x+=te,G=!0):U==="ArrowUp"?(ee.y-=te,G=!0):U==="ArrowDown"&&(ee.y+=te,G=!0),G){y.cancelable&&y.preventDefault(),ee.x=b(ee.x,0,J.width-ee.width),ee.y=b(ee.y,0,J.height-ee.height);const ae=D(ee,J.width,J.height),oe=v(ee,J.width,J.height);O(ae,oe),z&&z(ae,oe)}}),m(this,"onHandlerKeyDown",(y,T)=>{const{aspect:A=0,crop:O,disabled:z,minWidth:U=0,minHeight:G=0,maxWidth:J,maxHeight:ee,onChange:te,onComplete:ae}=this.props,oe=this.getBox();if(z||!O)return;if(y.key==="ArrowUp"||y.key==="ArrowDown"||y.key==="ArrowLeft"||y.key==="ArrowRight")y.stopPropagation(),y.preventDefault();else return;const pe=(navigator.platform.match("Mac")?y.metaKey:y.ctrlKey)?ss.nudgeStepLarge:y.shiftKey?ss.nudgeStepMedium:ss.nudgeStep,fe=D(O,oe.width,oe.height),xe=I(fe,y.key,pe,T),ye=k(xe,A,T,oe.width,oe.height,U,G,J,ee);if(!X(O,ye)){const _e=v(ye,oe.width,oe.height);te(ye,_e),ae&&ae(ye,_e)}}),m(this,"onDocPointerDone",y=>{const{crop:T,disabled:A,onComplete:O,onDragEnd:z}=this.props,U=this.getBox();this.unbindDocMove(),!(A||!T)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,z&&z(y),O&&O(D(T,U.width,U.height),v(T,U.width,U.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),m(this,"onDragFocus",()=>{var y;(y=this.componentRef.current)==null||y.scrollTo(0,0)})}get document(){return document}getBox(){const y=this.mediaRef.current;if(!y)return{x:0,y:0,width:0,height:0};const{x:T,y:A,width:O,height:z}=y.getBoundingClientRect();return{x:T,y:A,width:O,height:z}}componentDidUpdate(y){const{crop:T,onComplete:A}=this.props;if(A&&!y.crop&&T){const{width:O,height:z}=this.getBox();O&&z&&A(D(T,O,z),v(T,O,z))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,M),this.document.addEventListener("pointerup",this.onDocPointerDone,M),this.document.addEventListener("pointercancel",this.onDocPointerDone,M),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,M),this.document.removeEventListener("pointerup",this.onDocPointerDone,M),this.document.removeEventListener("pointercancel",this.onDocPointerDone,M),this.docMoveBound=!1)}getCropStyle(){const{crop:y}=this.props;if(y)return{top:`${y.y}${y.unit}`,left:`${y.x}${y.unit}`,width:`${y.width}${y.unit}`,height:`${y.height}${y.unit}`}}dragCrop(){const{evData:y}=this,T=this.getBox(),A=this.makePixelCrop(T),O=y.clientX-y.startClientX,z=y.clientY-y.startClientY;return A.x=b(y.startCropX+O,0,T.width-A.width),A.y=b(y.startCropY+z,0,T.height-A.height),A}getPointRegion(y,T,A,O){const{evData:z}=this,U=z.clientX-y.x,G=z.clientY-y.y;let J;O&&T?J=T==="nw"||T==="n"||T==="ne":J=G<z.startCropY;let ee;return A&&T?ee=T==="nw"||T==="w"||T==="sw":ee=U<z.startCropX,ee?J?"nw":"sw":J?"ne":"se"}resolveMinDimensions(y,T,A=0,O=0){const z=Math.min(A,y.width),U=Math.min(O,y.height);return!T||!z&&!U?[z,U]:T>1?z?[z,z/T]:[U*T,U]:U?[U*T,U]:[z,z/T]}resizeCrop(){const{evData:y}=this,{aspect:T=0,maxWidth:A,maxHeight:O}=this.props,z=this.getBox(),[U,G]=this.resolveMinDimensions(z,T,this.props.minWidth,this.props.minHeight);let J=this.makePixelCrop(z);const ee=this.getPointRegion(z,y.ord,U,G),te=y.ord||ee;let ae=y.clientX-y.startClientX,oe=y.clientY-y.startClientY;(U&&te==="nw"||te==="w"||te==="sw")&&(ae=Math.min(ae,-U)),(G&&te==="nw"||te==="n"||te==="ne")&&(oe=Math.min(oe,-G));const pe={unit:"px",x:0,y:0,width:0,height:0};ee==="ne"?(pe.x=y.startCropX,pe.width=ae,T?(pe.height=pe.width/T,pe.y=y.startCropY-pe.height):(pe.height=Math.abs(oe),pe.y=y.startCropY-pe.height)):ee==="se"?(pe.x=y.startCropX,pe.y=y.startCropY,pe.width=ae,T?pe.height=pe.width/T:pe.height=oe):ee==="sw"?(pe.x=y.startCropX+ae,pe.y=y.startCropY,pe.width=Math.abs(ae),T?pe.height=pe.width/T:pe.height=oe):ee==="nw"&&(pe.x=y.startCropX+ae,pe.width=Math.abs(ae),T?(pe.height=pe.width/T,pe.y=y.startCropY-pe.height):(pe.height=Math.abs(oe),pe.y=y.startCropY+oe));const fe=k(pe,T,ee,z.width,z.height,U,G,A,O);return T||ss.xyOrds.indexOf(te)>-1?J=fe:ss.xOrds.indexOf(te)>-1?(J.x=fe.x,J.width=fe.width):ss.yOrds.indexOf(te)>-1&&(J.y=fe.y,J.height=fe.height),J.x=b(J.x,0,z.width-J.width),J.y=b(J.y,0,z.height-J.height),J}renderCropSelection(){const{ariaLabels:y=ss.defaultProps.ariaLabels,disabled:T,locked:A,renderSelectionAddon:O,ruleOfThirds:z,crop:U}=this.props,G=this.getCropStyle();if(U)return React.createElement("div",{style:G,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":y.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!T&&!A&&React.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},React.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),React.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),React.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),React.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),React.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":y.nwDragHandle,onKeyDown:J=>this.onHandlerKeyDown(J,"nw"),role:"button"}),React.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":y.nDragHandle,onKeyDown:J=>this.onHandlerKeyDown(J,"n"),role:"button"}),React.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":y.neDragHandle,onKeyDown:J=>this.onHandlerKeyDown(J,"ne"),role:"button"}),React.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":y.eDragHandle,onKeyDown:J=>this.onHandlerKeyDown(J,"e"),role:"button"}),React.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":y.seDragHandle,onKeyDown:J=>this.onHandlerKeyDown(J,"se"),role:"button"}),React.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":y.sDragHandle,onKeyDown:J=>this.onHandlerKeyDown(J,"s"),role:"button"}),React.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":y.swDragHandle,onKeyDown:J=>this.onHandlerKeyDown(J,"sw"),role:"button"}),React.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":y.wDragHandle,onKeyDown:J=>this.onHandlerKeyDown(J,"w"),role:"button"})),O&&React.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:J=>J.stopPropagation()},O(this.state)),z&&React.createElement(React.Fragment,null,React.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),React.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(y){const T={...E,...this.props.crop||{}};return D(T,y.width,y.height)}render(){const{aspect:y,children:T,circularCrop:A,className:O,crop:z,disabled:U,locked:G,style:J,ruleOfThirds:ee}=this.props,{cropIsActive:te,newCropIsBeingDrawn:ae}=this.state,oe=z?this.renderCropSelection():null,pe=H("ReactCrop",O,te&&"ReactCrop--active",U&&"ReactCrop--disabled",G&&"ReactCrop--locked",ae&&"ReactCrop--new-crop",z&&y&&"ReactCrop--fixed-aspect",z&&A&&"ReactCrop--circular-crop",z&&ee&&"ReactCrop--rule-of-thirds",!this.dragStarted&&z&&!z.width&&!z.height&&"ReactCrop--invisible-crop",A&&"ReactCrop--no-animate");return React.createElement("div",{ref:this.componentRef,className:pe,style:J},React.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},T),z?React.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},React.createElement("defs",null,React.createElement("mask",{id:`hole-${this.instanceId}`},React.createElement("rect",{width:"100%",height:"100%",fill:"white"}),A?React.createElement("ellipse",{cx:`${z.x+z.width/2}${z.unit}`,cy:`${z.y+z.height/2}${z.unit}`,rx:`${z.width/2}${z.unit}`,ry:`${z.height/2}${z.unit}`,fill:"black"}):React.createElement("rect",{x:`${z.x}${z.unit}`,y:`${z.y}${z.unit}`,width:`${z.width}${z.unit}`,height:`${z.height}${z.unit}`,fill:"black"}))),React.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,oe)}};m(x,"xOrds",["e","w"]),m(x,"yOrds",["n","s"]),m(x,"xyOrds",["nw","ne","se","sw"]),m(x,"nudgeStep",1),m(x,"nudgeStepMedium",10),m(x,"nudgeStepLarge",100),m(x,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let S=x;function centerAspectCrop(R,y,T){return L(B({unit:"%",width:90},T,R,y),R,y)}const ImageUploadWithCrop=({onImageCropped:R,currentPreview:y,guideline:T,disabled:A=!1,required:O=!1,aspectRatio:z,className:U=""})=>{const[G,J]=reactExports.useState(""),[ee,te]=reactExports.useState(),[ae,oe]=reactExports.useState(),[pe,fe]=reactExports.useState(!1),[xe,ye]=reactExports.useState(y||""),_e=reactExports.useRef(null),Le=reactExports.useRef(null);reactExports.useEffect(()=>{y&&y!==xe&&ye(y)},[y]);const je=z||T.width/T.height,Ne=Ze=>{if(Ze.target.files&&Ze.target.files.length>0){const rt=new FileReader;rt.addEventListener("load",()=>{J(rt.result?.toString()||""),fe(!0)}),rt.readAsDataURL(Ze.target.files[0])}},$e=reactExports.useCallback(Ze=>{const{width:rt,height:nt}=Ze.currentTarget;te(centerAspectCrop(rt,nt,je))},[je]),Ue=reactExports.useCallback(async()=>{if(!ae||!_e.current)return null;const Ze=_e.current,rt=document.createElement("canvas"),nt=Ze.naturalWidth/Ze.width,at=Ze.naturalHeight/Ze.height;rt.width=T.width,rt.height=T.height;const ot=rt.getContext("2d");if(!ot)return null;ot.imageSmoothingEnabled=!0,ot.imageSmoothingQuality="high";const qe=ae.x*nt,Xe=ae.y*at,Ge=ae.width*nt,Qe=ae.height*at;return ot.drawImage(Ze,qe,Xe,Ge,Qe,0,0,T.width,T.height),new Promise(it=>{rt.toBlob(Ye=>{if(!Ye){it(null);return}const st=new File([Ye],`cropped-image-${Date.now()}.jpg`,{type:"image/jpeg"}),ut=URL.createObjectURL(Ye);it({file:st,previewUrl:ut})},"image/jpeg",.95)})},[ae,T.width,T.height]),He=async()=>{const Ze=await Ue();Ze&&(ye(Ze.previewUrl),R(Ze.file,Ze.previewUrl),fe(!1),J(""),te(void 0),oe(void 0))},ze=()=>{fe(!1),J(""),te(void 0),oe(void 0),Le.current&&(Le.current.value="")},Ke=()=>{ye(""),Le.current&&(Le.current.value="")},Je=()=>{if(_e.current){const{width:Ze,height:rt}=_e.current;te(centerAspectCrop(Ze,rt,je))}};return jsxRuntimeExports.jsxs("div",{className:U,children:[jsxRuntimeExports.jsx("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(Info,{className:"w-4 h-4 text-blue-600 mt-0.5 shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-blue-800",children:T.label}),jsxRuntimeExports.jsxs("p",{className:"text-blue-600",children:["Recommended size: ",jsxRuntimeExports.jsxs("span",{className:"font-semibold",children:[T.width," x ",T.height,"px"]})]}),T.description&&jsxRuntimeExports.jsx("p",{className:"text-blue-500 text-xs mt-1",children:T.description})]})]})}),xe?jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsx("img",{src:xe,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-200"}),jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center gap-3",children:[jsxRuntimeExports.jsxs("label",{className:"p-2 bg-white rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[jsxRuntimeExports.jsx(Crop,{className:"w-5 h-5 text-gray-700"}),jsxRuntimeExports.jsx("input",{ref:Le,type:"file",accept:"image/jpeg,image/png,image/jpg,image/gif,image/webp",onChange:Ne,disabled:A,className:"hidden"})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:Ke,disabled:A,className:"p-2 bg-white rounded-lg hover:bg-red-50 transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5 text-red-600"})})]}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:[T.width," x ",T.height,"px"]})]}):jsxRuntimeExports.jsxs("label",{className:`relative flex flex-col items-center justify-center w-full h-48 border-2 border-dashed rounded-lg cursor-pointer transition-colors ${A?"border-gray-200 bg-gray-50 cursor-not-allowed":"border-gray-300 hover:border-primary-400 hover:bg-primary-50"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[jsxRuntimeExports.jsx(Upload,{className:`w-10 h-10 mb-3 ${A?"text-gray-300":"text-gray-400"}`}),jsxRuntimeExports.jsxs("p",{className:`mb-2 text-sm ${A?"text-gray-400":"text-gray-500"}`,children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:"PNG, JPG, GIF or WebP (max. 2MB)"})]}),jsxRuntimeExports.jsx("input",{ref:Le,type:"file",accept:"image/jpeg,image/png,image/jpg,image/gif,image/webp",onChange:Ne,disabled:A,required:O&&!xe,className:"hidden"})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:pe&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 z-[60]",onClick:ze}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-[60] flex items-center justify-center p-4",onClick:Ze=>Ze.stopPropagation(),children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Crop,{className:"w-5 h-5 text-primary-600"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Crop Image"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Adjust to fit ",T.width," x ",T.height,"px"]})]})]}),jsxRuntimeExports.jsx("button",{onClick:ze,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx("div",{className:"p-4 bg-gray-100 max-h-[60vh] overflow-auto flex items-center justify-center",children:G&&jsxRuntimeExports.jsx(S,{crop:ee,onChange:(Ze,rt)=>te(rt),onComplete:Ze=>oe(Ze),aspect:je,className:"max-w-full",children:jsxRuntimeExports.jsx("img",{ref:_e,alt:"Crop",src:G,onLoad:$e,className:"max-h-[50vh] max-w-full"})})}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[jsxRuntimeExports.jsx(Image$1,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:["Output: ",T.width," x ",T.height,"px"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:Je,className:"flex items-center gap-2 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[jsxRuntimeExports.jsx(RotateCcw,{className:"w-4 h-4"}),"Reset"]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:ze,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:He,className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all",children:[jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"}),"Apply Crop"]})]})]})})]})})]})})]})},IMAGE_GUIDELINES={banner:{width:1920,height:600,label:"Banner Image",description:"Wide format for hero sections and page headers"},teamMember:{width:400,height:400,label:"Team Member Photo",description:"Square format for profile pictures"},course:{width:800,height:600,label:"Course Image",description:"Landscape format for course cards"},trip:{width:800,height:600,label:"Trip Image",description:"Landscape format for trip cards"},product:{width:600,height:600,label:"Product Image",description:"Square format for product listings"},blog:{width:1200,height:630,label:"Blog Featured Image",description:"Optimal for social sharing (1.91:1 ratio)"},initiative:{width:800,height:600,label:"Initiative Image",description:"Landscape format for initiative cards"}},ProductModal=({isOpen:R,onClose:y,product:T,mode:A})=>{const[O,{isLoading:z}]=useCreateProductMutation(),[U,{isLoading:G}]=useUpdateProductMutation(),{data:J=[]}=useGetCategoriesQuery({active:!0,type:"product"}),[ee,te]=reactExports.useState({name:"",description:"",details:"",image:"",price:0,category_id:null,in_stock:!0,is_active:!0,is_featured:!1,stock_quantity:0,sku:"",name_translations:{ar:""},description_translations:{ar:""},details_translations:{ar:""}}),[ae,oe]=reactExports.useState(null),[pe,fe]=reactExports.useState("");reactExports.useEffect(()=>{T&&A!=="create"?(te({name:T.name,description:T.description,details:T.details||"",image:T.image||"",price:Number(T.price),category_id:T.category_id||null,in_stock:T.in_stock,is_active:T.is_active,is_featured:T.is_featured,stock_quantity:T.stock_quantity,sku:T.sku||"",name_translations:T.name_translations||{ar:""},description_translations:T.description_translations||{ar:""},details_translations:T.details_translations||{ar:""}}),T.image_url&&fe(T.image_url),oe(null)):A==="create"&&(te({name:"",description:"",details:"",image:"",price:0,category_id:null,in_stock:!0,is_active:!0,is_featured:!1,stock_quantity:0,sku:"",name_translations:{ar:""},description_translations:{ar:""},details_translations:{ar:""}}),oe(null),fe(""))},[T,A]);const xe=async Ne=>{if(Ne.preventDefault(),A==="view"){y();return}try{const $e=new FormData;$e.append("name",ee.name),$e.append("description",ee.description),$e.append("details",ee.details),$e.append("price",ee.price.toString()),$e.append("in_stock",ee.in_stock?"1":"0"),$e.append("is_active",ee.is_active?"1":"0"),$e.append("is_featured",ee.is_featured?"1":"0"),$e.append("stock_quantity",ee.stock_quantity.toString()),ee.category_id&&$e.append("category_id",ee.category_id.toString()),ee.sku&&$e.append("sku",ee.sku),ae&&$e.append("image",ae),$e.append("name_translations",JSON.stringify(ee.name_translations)),$e.append("description_translations",JSON.stringify(ee.description_translations)),$e.append("details_translations",JSON.stringify(ee.details_translations)),A==="create"?(await O($e).unwrap(),zt.success("Product created successfully")):($e.append("_method","PUT"),await U({id:T.id,data:$e}).unwrap(),zt.success("Product updated successfully")),y()}catch($e){console.error(`${A} error:`,$e),$e?.data?.errors?Object.values($e.data.errors).flat().forEach(He=>zt.error(He)):$e?.data?.message?zt.error($e.data.message):zt.error(`Failed to ${A} product`)}},ye=Ne=>{const{name:$e,value:Ue,type:He}=Ne.target;te(He==="checkbox"?ze=>({...ze,[$e]:Ne.target.checked}):He==="number"?ze=>({...ze,[$e]:Number(Ue)}):$e==="category_id"?ze=>({...ze,[$e]:Ue===""?null:Number(Ue)}):ze=>({...ze,[$e]:Ue}))},_e=(Ne,$e)=>{oe(Ne),fe($e)},Le=A==="view",je=z||G;return jsxRuntimeExports.jsx(AnimatePresence,{children:R&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:y}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:Ne=>Ne.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:A==="create"?"Add New Product":A==="edit"?"Edit Product":"Product Details"}),jsxRuntimeExports.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:xe,className:"p-6 space-y-5",children:[jsxRuntimeExports.jsx(TranslatableField,{label:"Product Name",name:"name",value:ee.name,translationValue:ee.name_translations.ar,onChangeEnglish:Ne=>te($e=>({...$e,name:Ne})),onChangeArabic:Ne=>te($e=>({...$e,name_translations:{...$e.name_translations,ar:Ne}})),required:!0,placeholder:"Enter product name",placeholderAr:"  ",disabled:Le}),jsxRuntimeExports.jsx(TranslatableField,{label:"Description",name:"description",value:ee.description,translationValue:ee.description_translations.ar,onChangeEnglish:Ne=>te($e=>({...$e,description:Ne})),onChangeArabic:Ne=>te($e=>({...$e,description_translations:{...$e.description_translations,ar:Ne}})),type:"textarea",required:!0,rows:3,placeholder:"Enter product description",placeholderAr:"  ",disabled:Le}),jsxRuntimeExports.jsx(TranslatableField,{label:"Details",name:"details",value:ee.details,translationValue:ee.details_translations.ar,onChangeEnglish:Ne=>te($e=>({...$e,details:Ne})),onChangeArabic:Ne=>te($e=>({...$e,details_translations:{...$e.details_translations,ar:Ne}})),type:"textarea",rows:3,placeholder:"Enter additional details",placeholderAr:"  ",disabled:Le}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (SAR) *"}),jsxRuntimeExports.jsx("input",{type:"number",name:"price",value:ee.price,onChange:ye,disabled:Le,required:!0,step:"0.01",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity *"}),jsxRuntimeExports.jsx("input",{type:"number",name:"stock_quantity",value:ee.stock_quantity,onChange:ye,disabled:Le,required:!0,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SKU"}),jsxRuntimeExports.jsx("input",{type:"text",name:"sku",value:ee.sku,onChange:ye,disabled:Le,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),jsxRuntimeExports.jsxs("select",{name:"category_id",value:ee.category_id||"",onChange:ye,disabled:Le,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100",children:[jsxRuntimeExports.jsx("option",{value:"",children:"No Category"}),J.map(Ne=>jsxRuntimeExports.jsx("option",{value:Ne.id,children:Ne.name},Ne.id))]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Image"}),Le?jsxRuntimeExports.jsx("div",{className:"mt-3",children:jsxRuntimeExports.jsx("img",{src:pe||"/placeholder.svg",alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-200"})}):jsxRuntimeExports.jsx(ImageUploadWithCrop,{onImageCropped:_e,currentPreview:pe,guideline:IMAGE_GUIDELINES.product,disabled:Le,aspectRatio:1})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"in_stock",checked:ee.in_stock,onChange:ye,disabled:Le,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"In Stock"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"is_active",checked:ee.is_active,onChange:ye,disabled:Le,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"is_featured",checked:ee.is_featured,onChange:ye,disabled:Le,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"Featured"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:y,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:Le?"Close":"Cancel"}),!Le&&jsxRuntimeExports.jsxs("button",{type:"submit",disabled:je,className:"px-6 py-2 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 flex items-center gap-2",children:[je&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),A==="create"?"Create Product":"Update Product"]})]})]})]})})]})})},ProductsManagement=()=>{const{t:R}=useTranslation("admin"),y=useNavigate(),{data:T=[],isLoading:A,error:O}=useGetProductsQuery({}),[z]=useDeleteProductMutation(),[U,G]=reactExports.useState(!1),[J,ee]=reactExports.useState(null),te=[{header:"Product",accessor:"name",render:(ye,_e)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("img",{src:_e.image_url||"/placeholder.svg",alt:ye,className:"w-12 h-12 object-cover rounded-lg"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:ye}),_e.category&&jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:_e.category.name})]})]})},{header:"Description",accessor:"description",render:ye=>jsxRuntimeExports.jsx("div",{className:"max-w-xs truncate",children:ye})},{header:"Price",accessor:"price",render:ye=>jsxRuntimeExports.jsxs("span",{className:"font-semibold text-primary-600",children:["SAR ",ye]})},{header:"Stock",accessor:"stock_quantity",render:ye=>jsxRuntimeExports.jsx("span",{className:"text-gray-700",children:ye})},{header:"Status",accessor:"in_stock",render:ye=>jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${ye?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:ye?"In Stock":"Out of Stock"})}],ae=ye=>{y(`/admin/products/${ye.id}/edit`)},oe=async ye=>{if(confirm(R("products.confirmDelete")))try{await z(ye.id).unwrap(),zt.success(R("messages.deleteSuccess"))}catch(_e){zt.error(R("messages.deleteError")),console.error("Delete error:",_e)}},pe=ye=>{ee(ye),G(!0)},fe=()=>{y("/admin/products/new")},xe=()=>{G(!1),ee(null)};return A?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):O?jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:R("messages.loadError")}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:R("products.title")}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:R("products.subtitle")})]}),jsxRuntimeExports.jsxs("button",{onClick:fe,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all",children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"}),R("products.addProduct")]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Products"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-gray-900",children:T.length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"In Stock"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-green-600",children:T.filter(ye=>ye.in_stock).length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Out of Stock"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-red-600",children:T.filter(ye=>!ye.in_stock).length})]})]}),jsxRuntimeExports.jsx(DataTable,{columns:te,data:T,onEdit:ae,onDelete:oe,onView:pe}),jsxRuntimeExports.jsx(ProductModal,{isOpen:U,onClose:xe,product:J,mode:"view"})]})},CourseModal=({isOpen:R,onClose:y,course:T,mode:A})=>{const[O,{isLoading:z}]=useCreateCourseMutation(),[U,{isLoading:G}]=useUpdateCourseMutation(),{data:J=[]}=useGetCategoriesQuery({active:!0,type:"course"}),[ee,te]=reactExports.useState({name:"",description:"",image:"",price:0,duration:"",level:"",category_id:null,is_active:!0,is_featured:!1,max_students:null,requirements:[],name_translations:{ar:""},description_translations:{ar:""}}),[ae,oe]=reactExports.useState(null),[pe,fe]=reactExports.useState("");reactExports.useEffect(()=>{T&&A!=="create"?(te({name:T.name,description:T.description,image:T.image||"",price:Number(T.price),duration:T.duration||"",level:T.level||"",category_id:T.category_id||null,is_active:T.is_active,is_featured:T.is_featured,max_students:T.max_students||null,requirements:T.requirements||[],name_translations:T.name_translations||{ar:""},description_translations:T.description_translations||{ar:""}}),T.image_url&&fe(T.image_url),oe(null)):A==="create"&&(te({name:"",description:"",image:"",price:0,duration:"",level:"",category_id:null,is_active:!0,is_featured:!1,max_students:null,requirements:[],name_translations:{ar:""},description_translations:{ar:""}}),oe(null),fe(""))},[T,A]);const xe=async Ne=>{if(Ne.preventDefault(),A==="view"){y();return}try{const $e=new FormData;$e.append("name",ee.name),$e.append("description",ee.description),$e.append("price",ee.price.toString()),ee.duration&&$e.append("duration",ee.duration),ee.level&&$e.append("level",ee.level),$e.append("is_active",ee.is_active?"1":"0"),$e.append("is_featured",ee.is_featured?"1":"0"),ee.category_id&&$e.append("category_id",ee.category_id.toString()),ee.max_students&&$e.append("max_students",ee.max_students.toString()),ae&&$e.append("image",ae),$e.append("requirements",JSON.stringify(ee.requirements)),$e.append("name_translations",JSON.stringify(ee.name_translations)),$e.append("description_translations",JSON.stringify(ee.description_translations)),A==="create"?(await O($e).unwrap(),zt.success("Course created successfully")):($e.append("_method","PUT"),await U({id:T.id,data:$e}).unwrap(),zt.success("Course updated successfully")),y()}catch($e){console.error(`${A} error:`,$e),$e?.data?.errors?Object.values($e.data.errors).flat().forEach(He=>zt.error(He)):$e?.data?.message?zt.error($e.data.message):zt.error(`Failed to ${A} course`)}},ye=Ne=>{const{name:$e,value:Ue,type:He}=Ne.target;te(He==="checkbox"?ze=>({...ze,[$e]:Ne.target.checked}):He==="number"?ze=>({...ze,[$e]:Ue===""?null:Number(Ue)}):$e==="category_id"?ze=>({...ze,[$e]:Ue===""?null:Number(Ue)}):ze=>({...ze,[$e]:Ue}))},_e=(Ne,$e)=>{oe(Ne),fe($e)},Le=A==="view",je=z||G;return jsxRuntimeExports.jsx(AnimatePresence,{children:R&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:y}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:Ne=>Ne.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:A==="create"?"Add New Course":A==="edit"?"Edit Course":"Course Details"}),jsxRuntimeExports.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:xe,className:"p-6 space-y-5",children:[jsxRuntimeExports.jsx(TranslatableField,{label:"Course Name",name:"name",value:ee.name,translationValue:ee.name_translations.ar,onChangeEnglish:Ne=>te($e=>({...$e,name:Ne})),onChangeArabic:Ne=>te($e=>({...$e,name_translations:{...$e.name_translations,ar:Ne}})),required:!0,placeholder:"Enter course name",placeholderAr:"  ",disabled:Le}),jsxRuntimeExports.jsx(TranslatableField,{label:"Description",name:"description",value:ee.description,translationValue:ee.description_translations.ar,onChangeEnglish:Ne=>te($e=>({...$e,description:Ne})),onChangeArabic:Ne=>te($e=>({...$e,description_translations:{...$e.description_translations,ar:Ne}})),type:"textarea",required:!0,rows:3,placeholder:"Enter course description",placeholderAr:"  ",disabled:Le}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (SAR) *"}),jsxRuntimeExports.jsx("input",{type:"number",name:"price",value:ee.price,onChange:ye,disabled:Le,required:!0,step:"0.01",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),jsxRuntimeExports.jsx("input",{type:"text",name:"duration",value:ee.duration,onChange:ye,disabled:Le,placeholder:"e.g. 4 weeks",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Level"}),jsxRuntimeExports.jsxs("select",{name:"level",value:ee.level,onChange:ye,disabled:Le,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100",children:[jsxRuntimeExports.jsx("option",{value:"",children:"No Level"}),jsxRuntimeExports.jsx("option",{value:"Beginner",children:"Beginner"}),jsxRuntimeExports.jsx("option",{value:"Intermediate",children:"Intermediate"}),jsxRuntimeExports.jsx("option",{value:"Advanced",children:"Advanced"}),jsxRuntimeExports.jsx("option",{value:"All Levels",children:"All Levels"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Students"}),jsxRuntimeExports.jsx("input",{type:"number",name:"max_students",value:ee.max_students||"",onChange:ye,disabled:Le,min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),jsxRuntimeExports.jsxs("select",{name:"category_id",value:ee.category_id||"",onChange:ye,disabled:Le,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100",children:[jsxRuntimeExports.jsx("option",{value:"",children:"No Category"}),J.map(Ne=>jsxRuntimeExports.jsx("option",{value:Ne.id,children:Ne.name},Ne.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Image"}),Le?jsxRuntimeExports.jsx("div",{className:"mt-3",children:jsxRuntimeExports.jsx("img",{src:pe||"/placeholder.svg",alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-200"})}):jsxRuntimeExports.jsx(ImageUploadWithCrop,{onImageCropped:_e,currentPreview:pe,guideline:IMAGE_GUIDELINES.course,disabled:Le})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"is_active",checked:ee.is_active,onChange:ye,disabled:Le,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"is_featured",checked:ee.is_featured,onChange:ye,disabled:Le,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"Featured"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:y,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:Le?"Close":"Cancel"}),!Le&&jsxRuntimeExports.jsxs("button",{type:"submit",disabled:je,className:"px-6 py-2 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 flex items-center gap-2",children:[je&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),A==="create"?"Create Course":"Update Course"]})]})]})]})})]})})},CoursesManagement=()=>{const{t:R}=useTranslation("admin"),y=useNavigate(),{data:T=[],isLoading:A,error:O}=useGetCoursesQuery({}),[z]=useDeleteCourseMutation(),[U,G]=reactExports.useState(!1),[J,ee]=reactExports.useState(null),te=[{header:R("courses.courseName"),accessor:"name",render:(ye,_e)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("img",{src:_e.image_url||"/placeholder.svg",alt:ye,className:"w-12 h-12 object-cover rounded-lg"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:ye})]})},{header:R("courses.duration"),accessor:"duration"},{header:R("courses.level"),accessor:"level",render:ye=>jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${ye==="Beginner"?"bg-green-100 text-green-700":ye==="Intermediate"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:ye})},{header:R("courses.price"),accessor:"price",render:ye=>jsxRuntimeExports.jsxs("span",{className:"font-semibold text-primary-600",children:["SAR ",ye]})}],ae=ye=>{y(`/admin/courses/${ye.id}/edit`)},oe=async ye=>{if(confirm(R("courses.confirmDelete")))try{await z(ye.id).unwrap(),zt.success(R("messages.deleteSuccess"))}catch(_e){zt.error(R("messages.deleteError")),console.error("Delete error:",_e)}},pe=ye=>{ee(ye),G(!0)},fe=()=>{y("/admin/courses/new")},xe=()=>{G(!1),ee(null)};return A?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):O?jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:R("messages.loadError")}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:R("courses.title")}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:R("courses.subtitle")})]}),jsxRuntimeExports.jsxs("button",{onClick:fe,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all",children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"}),R("courses.addCourse")]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Courses"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-gray-900",children:T.length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Beginner"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-green-600",children:T.filter(ye=>ye.level==="Beginner").length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Advanced"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-red-600",children:T.filter(ye=>ye.level==="Advanced").length})]})]}),jsxRuntimeExports.jsx(DataTable,{columns:te,data:T,onEdit:ae,onDelete:oe,onView:pe}),jsxRuntimeExports.jsx(CourseModal,{isOpen:U,onClose:xe,course:J,mode:"view"})]})},TripModal=({isOpen:R,onClose:y,trip:T,mode:A})=>{const[O,{isLoading:z}]=useCreateTripMutation(),[U,{isLoading:G}]=useUpdateTripMutation(),{data:J=[]}=useGetCategoriesQuery({active:!0,type:"trip"}),[ee,te]=reactExports.useState({name:"",description:"",image:"",price:0,category_id:null,is_active:!0,is_featured:!1,included_items:[],name_translations:{ar:""},description_translations:{ar:""}}),[ae,oe]=reactExports.useState(null),[pe,fe]=reactExports.useState("");reactExports.useEffect(()=>{T&&A!=="create"?(te({name:T.name,description:T.description,image:T.image||"",price:Number(T.price),category_id:T.category_id||null,is_active:T.is_active,is_featured:T.is_featured,included_items:T.included_items||[],name_translations:T.name_translations||{ar:""},description_translations:T.description_translations||{ar:""}}),T.image_url&&fe(T.image_url),oe(null)):A==="create"&&(te({name:"",description:"",image:"",price:0,category_id:null,is_active:!0,is_featured:!1,included_items:[],name_translations:{ar:""},description_translations:{ar:""}}),oe(null),fe(""))},[T,A]);const xe=async Ne=>{if(Ne.preventDefault(),A==="view"){y();return}try{const $e=new FormData;$e.append("name",ee.name),$e.append("description",ee.description),$e.append("price",ee.price.toString()),$e.append("is_active",ee.is_active?"1":"0"),$e.append("is_featured",ee.is_featured?"1":"0"),ee.category_id&&$e.append("category_id",ee.category_id.toString()),ee.included_items.length>0&&$e.append("included_items",JSON.stringify(ee.included_items)),ae&&$e.append("image",ae),$e.append("name_translations",JSON.stringify(ee.name_translations)),$e.append("description_translations",JSON.stringify(ee.description_translations)),A==="create"?(await O($e).unwrap(),zt.success("Trip created successfully")):($e.append("_method","PUT"),await U({id:T.id,data:$e}).unwrap(),zt.success("Trip updated successfully")),y()}catch($e){console.error(`${A} error:`,$e),$e?.data?.errors?Object.values($e.data.errors).flat().forEach(He=>zt.error(He)):$e?.data?.message?zt.error($e.data.message):zt.error(`Failed to ${A} trip`)}},ye=Ne=>{const{name:$e,value:Ue,type:He}=Ne.target;te(He==="checkbox"?ze=>({...ze,[$e]:Ne.target.checked}):He==="number"?ze=>({...ze,[$e]:Ue===""?null:Number(Ue)}):$e==="category_id"?ze=>({...ze,[$e]:Ue===""?null:Number(Ue)}):ze=>({...ze,[$e]:Ue}))},_e=(Ne,$e)=>{oe(Ne),fe($e)},Le=A==="view",je=z||G;return jsxRuntimeExports.jsx(AnimatePresence,{children:R&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:y}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:Ne=>Ne.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:A==="create"?"Add New Trip":A==="edit"?"Edit Trip":"Trip Details"}),jsxRuntimeExports.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:xe,className:"p-6 space-y-5",children:[jsxRuntimeExports.jsx(TranslatableField,{label:"Trip Name",name:"name",value:ee.name,translationValue:ee.name_translations.ar,onChangeEnglish:Ne=>te($e=>({...$e,name:Ne})),onChangeArabic:Ne=>te($e=>({...$e,name_translations:{...$e.name_translations,ar:Ne}})),required:!0,placeholder:"Enter trip name",placeholderAr:"  ",disabled:Le}),jsxRuntimeExports.jsx(TranslatableField,{label:"Description",name:"description",value:ee.description,translationValue:ee.description_translations.ar,onChangeEnglish:Ne=>te($e=>({...$e,description:Ne})),onChangeArabic:Ne=>te($e=>({...$e,description_translations:{...$e.description_translations,ar:Ne}})),type:"textarea",required:!0,rows:3,placeholder:"Enter trip description",placeholderAr:"  ",disabled:Le}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (SAR) *"}),jsxRuntimeExports.jsx("input",{type:"number",name:"price",value:ee.price,onChange:ye,disabled:Le,required:!0,step:"0.01",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),jsxRuntimeExports.jsxs("select",{name:"category_id",value:ee.category_id||"",onChange:ye,disabled:Le,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100",children:[jsxRuntimeExports.jsx("option",{value:"",children:"No Category"}),J.map(Ne=>jsxRuntimeExports.jsx("option",{value:Ne.id,children:Ne.name},Ne.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Image"}),Le?jsxRuntimeExports.jsx("div",{className:"mt-3",children:jsxRuntimeExports.jsx("img",{src:pe||"/placeholder.svg",alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-200"})}):jsxRuntimeExports.jsx(ImageUploadWithCrop,{onImageCropped:_e,currentPreview:pe,guideline:IMAGE_GUIDELINES.trip,disabled:Le})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"is_active",checked:ee.is_active,onChange:ye,disabled:Le,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"is_featured",checked:ee.is_featured,onChange:ye,disabled:Le,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"Featured"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:y,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:Le?"Close":"Cancel"}),!Le&&jsxRuntimeExports.jsxs("button",{type:"submit",disabled:je,className:"px-6 py-2 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 flex items-center gap-2",children:[je&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),A==="create"?"Create Trip":"Update Trip"]})]})]})]})})]})})},TripsManagement=()=>{const{t:R}=useTranslation("admin"),y=useNavigate(),{data:T=[],isLoading:A,error:O}=useGetTripsQuery({}),[z]=useDeleteTripMutation(),[U,G]=reactExports.useState(!1),[J,ee]=reactExports.useState(null),te=[{header:R("trips.tripName"),accessor:"name",render:(ye,_e)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("img",{src:_e.image_url||"/placeholder.svg",alt:ye,className:"w-12 h-12 object-cover rounded-lg"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:ye}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:_e.location})]})]})},{header:R("trips.duration"),accessor:"duration"},{header:R("trips.difficulty"),accessor:"difficulty",render:ye=>jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${ye==="Beginner"?"bg-green-100 text-green-700":ye==="Intermediate"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:ye})},{header:R("trips.price"),accessor:"price",render:ye=>jsxRuntimeExports.jsxs("span",{className:"font-semibold text-primary-600",children:["SAR ",ye]})}],ae=ye=>{y(`/admin/trips/${ye.id}/edit`)},oe=async ye=>{if(confirm(R("trips.confirmDelete")))try{await z(ye.id).unwrap(),zt.success(R("messages.deleteSuccess"))}catch(_e){zt.error(R("messages.deleteError")),console.error("Delete error:",_e)}},pe=ye=>{ee(ye),G(!0)},fe=()=>{y("/admin/trips/new")},xe=()=>{G(!1),ee(null)};return A?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):O?jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:R("messages.loadError")}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:R("trips.title")}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:R("trips.subtitle")})]}),jsxRuntimeExports.jsxs("button",{onClick:fe,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all",children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"}),R("trips.addTrip")]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Trips"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-gray-900",children:T.length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Beginner"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-green-600",children:T.filter(ye=>ye.difficulty==="Beginner").length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Advanced"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-red-600",children:T.filter(ye=>ye.difficulty==="Advanced").length})]})]}),jsxRuntimeExports.jsx(DataTable,{columns:te,data:T,onEdit:ae,onDelete:oe,onView:pe}),jsxRuntimeExports.jsx(TripModal,{isOpen:U,onClose:xe,trip:J,mode:"view"})]})},BlogModal=({isOpen:R,onClose:y,blogPost:T,mode:A})=>{const[O,{isLoading:z}]=useCreateBlogPostMutation(),[U,{isLoading:G}]=useUpdateBlogPostMutation(),{data:J=[]}=useGetCategoriesQuery({active:!0,type:"blog"}),[ee,te]=reactExports.useState({title:"",excerpt:"",content:"",image:"",category_id:null,is_published:!1,is_featured:!1,published_at:"",title_translations:{ar:""},excerpt_translations:{ar:""},content_translations:{ar:""}}),[ae,oe]=reactExports.useState(null),[pe,fe]=reactExports.useState("");reactExports.useEffect(()=>{T&&A!=="create"?(te({title:T.title,excerpt:T.excerpt,content:T.content,image:T.image||"",category_id:T.category_id||null,is_published:T.is_published,is_featured:T.is_featured,published_at:T.published_at?T.published_at.split("T")[0]:"",title_translations:T.title_translations||{ar:""},excerpt_translations:T.excerpt_translations||{ar:""},content_translations:T.content_translations||{ar:""}}),T.image_url&&fe(T.image_url),oe(null)):A==="create"&&(te({title:"",excerpt:"",content:"",image:"",category_id:null,is_published:!1,is_featured:!1,published_at:"",title_translations:{ar:""},excerpt_translations:{ar:""},content_translations:{ar:""}}),oe(null),fe(""))},[T,A]);const xe=async Ne=>{if(Ne.preventDefault(),A==="view"){y();return}try{const $e=new FormData;$e.append("title",ee.title),$e.append("excerpt",ee.excerpt),$e.append("content",ee.content),$e.append("is_published",ee.is_published?"1":"0"),$e.append("is_featured",ee.is_featured?"1":"0"),$e.append("author_id","1"),ee.category_id&&$e.append("category_id",ee.category_id.toString()),ee.published_at&&$e.append("published_at",ee.published_at),ae&&$e.append("image",ae),$e.append("title_translations",JSON.stringify(ee.title_translations)),$e.append("excerpt_translations",JSON.stringify(ee.excerpt_translations)),$e.append("content_translations",JSON.stringify(ee.content_translations)),A==="create"?(await O($e).unwrap(),zt.success("Blog post created successfully")):($e.append("_method","PUT"),await U({id:T.id,data:$e}).unwrap(),zt.success("Blog post updated successfully")),y()}catch($e){console.error(`${A} error:`,$e),$e?.data?.errors?Object.values($e.data.errors).flat().forEach(He=>zt.error(He)):$e?.data?.message?zt.error($e.data.message):zt.error(`Failed to ${A} blog post`)}},ye=Ne=>{const{name:$e,value:Ue,type:He}=Ne.target;te(He==="checkbox"?ze=>({...ze,[$e]:Ne.target.checked}):$e==="category_id"?ze=>({...ze,[$e]:Ue===""?null:Number(Ue)}):ze=>({...ze,[$e]:Ue}))},_e=(Ne,$e)=>{oe(Ne),fe($e)},Le=A==="view",je=z||G;return jsxRuntimeExports.jsx(AnimatePresence,{children:R&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:y}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",onClick:Ne=>Ne.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:A==="create"?"Add New Blog Post":A==="edit"?"Edit Blog Post":"Blog Post Details"}),jsxRuntimeExports.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:xe,className:"p-6 space-y-5",children:[jsxRuntimeExports.jsx(TranslatableField,{label:"Title",name:"title",value:ee.title,translationValue:ee.title_translations.ar,onChangeEnglish:Ne=>te($e=>({...$e,title:Ne})),onChangeArabic:Ne=>te($e=>({...$e,title_translations:{...$e.title_translations,ar:Ne}})),required:!0,placeholder:"Enter blog post title",placeholderAr:"  ",disabled:Le}),jsxRuntimeExports.jsx(TranslatableField,{label:"Excerpt",name:"excerpt",value:ee.excerpt,translationValue:ee.excerpt_translations.ar,onChangeEnglish:Ne=>te($e=>({...$e,excerpt:Ne})),onChangeArabic:Ne=>te($e=>({...$e,excerpt_translations:{...$e.excerpt_translations,ar:Ne}})),type:"textarea",required:!0,rows:2,placeholder:"Enter a brief excerpt",placeholderAr:"  ",disabled:Le}),jsxRuntimeExports.jsx(TranslatableField,{label:"Content",name:"content",value:ee.content,translationValue:ee.content_translations.ar,onChangeEnglish:Ne=>te($e=>({...$e,content:Ne})),onChangeArabic:Ne=>te($e=>({...$e,content_translations:{...$e.content_translations,ar:Ne}})),type:"textarea",required:!0,rows:8,placeholder:"Enter full blog post content",placeholderAr:"   ",disabled:Le}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),jsxRuntimeExports.jsxs("select",{name:"category_id",value:ee.category_id||"",onChange:ye,disabled:Le,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100",children:[jsxRuntimeExports.jsx("option",{value:"",children:"No Category"}),J.map(Ne=>jsxRuntimeExports.jsx("option",{value:Ne.id,children:Ne.name},Ne.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Published Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"published_at",value:ee.published_at,onChange:ye,disabled:Le,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured Image"}),Le?jsxRuntimeExports.jsx("div",{className:"mt-3",children:jsxRuntimeExports.jsx("img",{src:pe||"/placeholder.svg",alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-200"})}):jsxRuntimeExports.jsx(ImageUploadWithCrop,{onImageCropped:_e,currentPreview:pe,guideline:IMAGE_GUIDELINES.blog,disabled:Le})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"is_published",checked:ee.is_published,onChange:ye,disabled:Le,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"Published"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"is_featured",checked:ee.is_featured,onChange:ye,disabled:Le,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"Featured"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:y,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:Le?"Close":"Cancel"}),!Le&&jsxRuntimeExports.jsxs("button",{type:"submit",disabled:je,className:"px-6 py-2 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 flex items-center gap-2",children:[je&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),A==="create"?"Create Post":"Update Post"]})]})]})]})})]})})},BlogManagement=()=>{const{t:R}=useTranslation("admin"),y=useNavigate(),{data:T=[],isLoading:A,error:O}=useGetBlogPostsQuery({}),[z]=useDeleteBlogPostMutation(),[U,G]=reactExports.useState(!1),[J,ee]=reactExports.useState(null),te=[{header:R("blog.postTitle"),accessor:"title",render:(ye,_e)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("img",{src:_e.image_url||"/placeholder.svg",alt:ye,className:"w-12 h-12 object-cover rounded-lg"}),jsxRuntimeExports.jsxs("div",{className:"max-w-xs",children:[jsxRuntimeExports.jsx("div",{className:"font-medium truncate",children:ye}),_e.category&&jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:_e.category.name})]})]})},{header:R("blog.author"),accessor:"author",render:ye=>ye?.name||"Unknown"},{header:R("blog.publishDate"),accessor:"published_at",render:ye=>ye?new Date(ye).toLocaleDateString():"Not published"},{header:"Status",accessor:"is_published",render:ye=>jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${ye?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:R(ye?"blog.published":"blog.draft")})}],ae=ye=>{y(`/admin/blog/${ye.id}/edit`)},oe=async ye=>{if(confirm(R("blog.confirmDelete")))try{await z(ye.id).unwrap(),zt.success(R("messages.deleteSuccess"))}catch(_e){zt.error(R("messages.deleteError")),console.error("Delete error:",_e)}},pe=ye=>{ee(ye),G(!0)},fe=()=>{y("/admin/blog/new")},xe=()=>{G(!1),ee(null)};return A?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):O?jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:R("messages.loadError")}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:R("blog.title")}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:R("blog.subtitle")})]}),jsxRuntimeExports.jsxs("button",{onClick:fe,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all",children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"}),R("blog.addPost")]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Posts"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-gray-900",children:T.length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Published"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-green-600",children:T.filter(ye=>ye.is_published).length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Drafts"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-gray-600",children:T.filter(ye=>!ye.is_published).length})]})]}),jsxRuntimeExports.jsx(DataTable,{columns:te,data:T,onEdit:ae,onDelete:oe,onView:pe}),jsxRuntimeExports.jsx(BlogModal,{isOpen:U,onClose:xe,blogPost:J,mode:"view"})]})},EventModal=({isOpen:R,onClose:y,event:T,mode:A})=>{const[O,{isLoading:z}]=useCreateEventMutation(),[U,{isLoading:G}]=useUpdateEventMutation(),[J,ee]=reactExports.useState({title:"",description:"",type:"workshop",start_date:"",end_date:"",location:"",is_active:!0,max_participants:null,price:null,title_translations:{ar:""},description_translations:{ar:""},location_translations:{ar:""}});reactExports.useEffect(()=>{T&&A!=="create"?ee({title:T.title,description:T.description,type:T.type,start_date:T.start_date?T.start_date.split("T")[0]+"T"+T.start_date.split("T")[1].substring(0,5):"",end_date:T.end_date?T.end_date.split("T")[0]+"T"+T.end_date.split("T")[1].substring(0,5):"",location:T.location||"",is_active:T.is_active,max_participants:T.max_participants||null,price:T.price||null,title_translations:T.title_translations||{ar:""},description_translations:T.description_translations||{ar:""},location_translations:T.location_translations||{ar:""}}):A==="create"&&ee({title:"",description:"",type:"workshop",start_date:"",end_date:"",location:"",is_active:!0,max_participants:null,price:null,title_translations:{ar:""},description_translations:{ar:""},location_translations:{ar:""}})},[T,A]);const te=async fe=>{if(fe.preventDefault(),A==="view"){y();return}try{A==="create"?(await O(J).unwrap(),zt.success("Event created successfully")):(await U({id:T.id,data:J}).unwrap(),zt.success("Event updated successfully")),y()}catch(xe){zt.error(`Failed to ${A} event`),console.error(`${A} error:`,xe)}},ae=fe=>{const{name:xe,value:ye,type:_e}=fe.target;ee(_e==="checkbox"?Le=>({...Le,[xe]:fe.target.checked}):_e==="number"?Le=>({...Le,[xe]:ye===""?null:Number(ye)}):Le=>({...Le,[xe]:ye}))},oe=A==="view",pe=z||G;return jsxRuntimeExports.jsx(AnimatePresence,{children:R&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:y}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:fe=>fe.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:A==="create"?"Add New Event":A==="edit"?"Edit Event":"Event Details"}),jsxRuntimeExports.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:te,className:"p-6 space-y-5",children:[jsxRuntimeExports.jsx(TranslatableField,{label:"Event Title",name:"title",value:J.title,translationValue:J.title_translations.ar,onChangeEnglish:fe=>ee(xe=>({...xe,title:fe})),onChangeArabic:fe=>ee(xe=>({...xe,title_translations:{...xe.title_translations,ar:fe}})),required:!0,placeholder:"Enter event title",placeholderAr:"  ",disabled:oe}),jsxRuntimeExports.jsx(TranslatableField,{label:"Description",name:"description",value:J.description,translationValue:J.description_translations.ar,onChangeEnglish:fe=>ee(xe=>({...xe,description:fe})),onChangeArabic:fe=>ee(xe=>({...xe,description_translations:{...xe.description_translations,ar:fe}})),type:"textarea",required:!0,rows:3,placeholder:"Enter event description",placeholderAr:"  ",disabled:oe}),jsxRuntimeExports.jsx(TranslatableField,{label:"Location",name:"location",value:J.location,translationValue:J.location_translations.ar,onChangeEnglish:fe=>ee(xe=>({...xe,location:fe})),onChangeArabic:fe=>ee(xe=>({...xe,location_translations:{...xe.location_translations,ar:fe}})),placeholder:"Enter event location",placeholderAr:"  ",disabled:oe}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type *"}),jsxRuntimeExports.jsxs("select",{name:"type",value:J.type,onChange:ae,disabled:oe,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100",children:[jsxRuntimeExports.jsx("option",{value:"workshop",children:"Workshop"}),jsxRuntimeExports.jsx("option",{value:"course",children:"Course"}),jsxRuntimeExports.jsx("option",{value:"trip",children:"Trip"}),jsxRuntimeExports.jsx("option",{value:"other",children:"Other"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date & Time *"}),jsxRuntimeExports.jsx("input",{type:"datetime-local",name:"start_date",value:J.start_date,onChange:ae,disabled:oe,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date & Time"}),jsxRuntimeExports.jsx("input",{type:"datetime-local",name:"end_date",value:J.end_date,onChange:ae,disabled:oe,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (SAR)"}),jsxRuntimeExports.jsx("input",{type:"number",name:"price",value:J.price||"",onChange:ae,disabled:oe,step:"0.01",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Participants"}),jsxRuntimeExports.jsx("input",{type:"number",name:"max_participants",value:J.max_participants||"",onChange:ae,disabled:oe,min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"is_active",checked:J.is_active,onChange:ae,disabled:oe,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:y,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:oe?"Close":"Cancel"}),!oe&&jsxRuntimeExports.jsxs("button",{type:"submit",disabled:pe,className:"px-6 py-2 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 flex items-center gap-2",children:[pe&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),A==="create"?"Create Event":"Update Event"]})]})]})]})})]})})},EventsManagement=()=>{const{t:R}=useTranslation("admin"),y=useNavigate(),{data:T=[],isLoading:A,error:O}=useGetEventsQuery({}),[z]=useDeleteEventMutation(),[U,G]=reactExports.useState(!1),[J,ee]=reactExports.useState(null),te=[{header:R("events.eventName"),accessor:"title"},{header:R("events.description"),accessor:"description",render:ye=>jsxRuntimeExports.jsx("div",{className:"max-w-xs truncate",children:ye})},{header:R("events.startDate"),accessor:"start_date",render:ye=>new Date(ye).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})},{header:"Type",accessor:"type",render:ye=>jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${ye==="workshop"?"bg-blue-100 text-blue-700":ye==="course"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:ye.charAt(0).toUpperCase()+ye.slice(1)})}],ae=ye=>{y(`/admin/events/${ye.id}/edit`)},oe=async ye=>{if(confirm(R("events.confirmDelete")))try{await z(ye.id).unwrap(),zt.success(R("messages.deleteSuccess"))}catch(_e){zt.error(R("messages.deleteError")),console.error("Delete error:",_e)}},pe=ye=>{ee(ye),G(!0)},fe=()=>{y("/admin/events/new")},xe=()=>{G(!1),ee(null)};return A?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):O?jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:R("messages.loadError")}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:R("events.title")}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:R("events.subtitle")})]}),jsxRuntimeExports.jsxs("button",{onClick:fe,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all",children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"}),R("events.addEvent")]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Events"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-gray-900",children:T.length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Workshops"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-blue-600",children:T.filter(ye=>ye.type==="workshop").length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Courses"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-green-600",children:T.filter(ye=>ye.type==="course").length})]})]}),jsxRuntimeExports.jsx(DataTable,{columns:te,data:T,onEdit:ae,onDelete:oe,onView:pe}),jsxRuntimeExports.jsx(EventModal,{isOpen:U,onClose:xe,event:J,mode:"view"})]})},TeamMemberModal=({isOpen:R,onClose:y,teamMember:T,mode:A})=>{const[O,{isLoading:z}]=useCreateTeamMemberMutation(),[U,{isLoading:G}]=useUpdateTeamMemberMutation(),[J,ee]=reactExports.useState({name:"",role:"",bio:"",image:"",email:"",phone:"",experience:"",certifications:[],social_links:{facebook:"",instagram:"",twitter:"",linkedin:""},is_active:!0,display_order:0}),[te,ae]=reactExports.useState(null),[oe,pe]=reactExports.useState("");reactExports.useEffect(()=>{T&&A!=="create"?(ee({name:T.name,role:T.role,bio:T.bio||"",image:T.image||"",email:T.email||"",phone:T.phone||"",experience:T.experience||"",certifications:T.certifications||[],social_links:T.social_links||{facebook:"",instagram:"",twitter:"",linkedin:""},is_active:T.is_active,display_order:T.display_order}),T.image_url&&pe(T.image_url),ae(null)):A==="create"&&(ee({name:"",role:"",bio:"",image:"",email:"",phone:"",experience:"",certifications:[],social_links:{facebook:"",instagram:"",twitter:"",linkedin:""},is_active:!0,display_order:0}),ae(null),pe(""))},[T,A]);const fe=async je=>{if(je.preventDefault(),A==="view"){y();return}try{const Ne=new FormData;Ne.append("name",J.name),Ne.append("role",J.role),Ne.append("bio",J.bio),Ne.append("is_active",J.is_active?"1":"0"),Ne.append("display_order",J.display_order.toString()),J.email&&Ne.append("email",J.email),J.phone&&Ne.append("phone",J.phone),J.experience&&Ne.append("experience",J.experience),J.certifications.length>0&&Ne.append("certifications",JSON.stringify(J.certifications)),Ne.append("social_links",JSON.stringify(J.social_links)),te&&Ne.append("image",te),A==="create"?(await O(Ne).unwrap(),zt.success("Team member created successfully")):(Ne.append("_method","PUT"),await U({id:T.id,data:Ne}).unwrap(),zt.success("Team member updated successfully")),y()}catch(Ne){console.error(`${A} error:`,Ne),Ne?.data?.errors?Object.values(Ne.data.errors).flat().forEach(Ue=>zt.error(Ue)):Ne?.data?.message?zt.error(Ne.data.message):zt.error(`Failed to ${A} team member`)}},xe=je=>{const{name:Ne,value:$e,type:Ue}=je.target;if(Ue==="checkbox")ee(He=>({...He,[Ne]:je.target.checked}));else if(Ue==="number")ee(He=>({...He,[Ne]:Number($e)}));else if(Ne.startsWith("social_")){const He=Ne.replace("social_","");ee(ze=>({...ze,social_links:{...ze.social_links,[He]:$e}}))}else ee(He=>({...He,[Ne]:$e}))},ye=(je,Ne)=>{ae(je),pe(Ne)},_e=A==="view",Le=z||G;return jsxRuntimeExports.jsx(AnimatePresence,{children:R&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:y}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",onClick:je=>je.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:A==="create"?"Add Team Member":A==="edit"?"Edit Team Member":"Team Member Details"}),jsxRuntimeExports.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:fe,className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:J.name,onChange:xe,disabled:_e,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"role",value:J.role,onChange:xe,disabled:_e,required:!0,placeholder:"e.g. Lead Instructor",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),jsxRuntimeExports.jsx("textarea",{name:"bio",value:J.bio,onChange:xe,disabled:_e,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",value:J.email,onChange:xe,disabled:_e,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),jsxRuntimeExports.jsx("input",{type:"tel",name:"phone",value:J.phone,onChange:xe,disabled:_e,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience"}),jsxRuntimeExports.jsx("input",{type:"text",name:"experience",value:J.experience,onChange:xe,disabled:_e,placeholder:"e.g. 10+ years",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),jsxRuntimeExports.jsx("input",{type:"number",name:"display_order",value:J.display_order,onChange:xe,disabled:_e,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Image"}),_e?jsxRuntimeExports.jsx("div",{className:"mt-3",children:jsxRuntimeExports.jsx("img",{src:oe||"/placeholder.svg",alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-200"})}):jsxRuntimeExports.jsx(ImageUploadWithCrop,{onImageCropped:ye,currentPreview:oe,guideline:IMAGE_GUIDELINES.teamMember,disabled:_e,aspectRatio:1})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Social Media Links"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx("input",{type:"url",name:"social_facebook",value:J.social_links.facebook,onChange:xe,disabled:_e,placeholder:"Facebook URL",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"}),jsxRuntimeExports.jsx("input",{type:"url",name:"social_instagram",value:J.social_links.instagram,onChange:xe,disabled:_e,placeholder:"Instagram URL",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"}),jsxRuntimeExports.jsx("input",{type:"url",name:"social_twitter",value:J.social_links.twitter,onChange:xe,disabled:_e,placeholder:"Twitter URL",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"}),jsxRuntimeExports.jsx("input",{type:"url",name:"social_linkedin",value:J.social_links.linkedin,onChange:xe,disabled:_e,placeholder:"LinkedIn URL",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"is_active",checked:J.is_active,onChange:xe,disabled:_e,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:y,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:_e?"Close":"Cancel"}),!_e&&jsxRuntimeExports.jsxs("button",{type:"submit",disabled:Le,className:"px-6 py-2 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 flex items-center gap-2",children:[Le&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),A==="create"?"Create Member":"Update Member"]})]})]})]})})]})})},TeamManagement=()=>{const{t:R}=useTranslation("admin"),y=useNavigate(),{data:T=[],isLoading:A,error:O}=useGetTeamMembersQuery({}),{data:z=[]}=useGetSettingsQuery({}),[U]=useDeleteTeamMemberMutation(),[G]=useCreateSettingMutation(),[J]=useUpdateSettingMutation(),[ee,te]=reactExports.useState(!1),[ae,oe]=reactExports.useState(null),[pe,fe]=reactExports.useState(null),[xe,ye]=reactExports.useState(null);reactExports.useEffect(()=>{const ze=z.find(Ke=>Ke.key==="featured_instructor_id");ze&&(fe(ze.value?parseInt(ze.value):null),ye(ze.id))},[z]);const _e=async ze=>{try{if(xe)await J({id:xe,data:{value:String(ze.id)}}).unwrap();else{const Ke=await G({key:"featured_instructor_id",value:String(ze.id),type:"number",group:"homepage"}).unwrap();ye(Ke.id)}fe(ze.id),zt.success(`${ze.name} is now the featured instructor`)}catch(Ke){zt.error("Failed to set featured instructor"),console.error("Update error:",Ke)}},Le=[{header:R("team.name"),accessor:"name",render:(ze,Ke)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[pe===Ke.id&&jsxRuntimeExports.jsx(Star,{className:"w-5 h-5 text-yellow-500 fill-yellow-500 shrink-0"}),jsxRuntimeExports.jsx("img",{src:Ke.image_url||"/placeholder.svg",alt:ze,className:"w-12 h-12 rounded-full object-cover"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"font-medium flex items-center gap-2",children:[ze,pe===Ke.id&&jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded-full text-xs font-semibold",children:"Featured"})]}),Ke.experience&&jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:Ke.experience})]})]})},{header:R("team.position"),accessor:"role"},{header:R("team.certifications"),accessor:"certifications",render:ze=>jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:ze?.map((Ke,Je)=>jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-accent-100 text-accent-700 rounded text-xs",children:Ke},Je))})}],je=ze=>{y(`/admin/team/${ze.id}/edit`)},Ne=async ze=>{if(confirm(R("team.confirmDelete")))try{await U(ze.id).unwrap(),zt.success(R("messages.deleteSuccess"))}catch(Ke){zt.error(R("messages.deleteError")),console.error("Delete error:",Ke)}},$e=ze=>{oe(ze),te(!0)},Ue=()=>{y("/admin/team/new")},He=()=>{te(!1),oe(null)};return A?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):O?jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:R("messages.loadError")}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:R("team.title")}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:R("team.subtitle")})]}),jsxRuntimeExports.jsxs("button",{onClick:Ue,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all",children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"}),R("team.addMember")]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Members"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-gray-900",children:T.length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Active"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-green-600",children:T.filter(ze=>ze.is_active).length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Inactive"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-gray-600",children:T.filter(ze=>!ze.is_active).length})]})]}),jsxRuntimeExports.jsx(DataTable,{columns:Le,data:T,onEdit:je,onDelete:Ne,onView:$e,customActions:ze=>jsxRuntimeExports.jsx("button",{onClick:()=>_e(ze),className:`p-2 rounded-lg transition-colors ${pe===ze.id?"bg-yellow-100 text-yellow-600":"hover:bg-gray-100 text-gray-400 hover:text-yellow-600"}`,title:pe===ze.id?"Currently Featured":"Set as Featured",children:jsxRuntimeExports.jsx(Star,{className:`w-5 h-5 ${pe===ze.id?"fill-yellow-500":""}`})})}),jsxRuntimeExports.jsx(TeamMemberModal,{isOpen:ee,onClose:He,teamMember:ae,mode:"view"})]})},BannerModal=({isOpen:R,onClose:y,banner:T,mode:A})=>{const[O,{isLoading:z}]=useCreateBannerMutation(),[U,{isLoading:G}]=useUpdateBannerMutation(),[J,ee]=reactExports.useState({title:"",description:"",image:"",button_text:"",button_link:"",position:"hero",display_order:0,is_active:!0,title_translations:{ar:""},description_translations:{ar:""},button_text_translations:{ar:""}}),[te,ae]=reactExports.useState(null),[oe,pe]=reactExports.useState("");reactExports.useEffect(()=>{T&&A!=="create"?(ee({title:T.title,description:T.description||"",image:T.image,button_text:T.button_text||"",button_link:T.button_link||"",position:T.position,display_order:T.display_order,is_active:T.is_active,title_translations:T.title_translations||{ar:""},description_translations:T.description_translations||{ar:""},button_text_translations:T.button_text_translations||{ar:""}}),T.image_url&&pe(T.image_url),ae(null)):A==="create"&&(ee({title:"",description:"",image:"",button_text:"",button_link:"",position:"hero",display_order:0,is_active:!0,title_translations:{ar:""},description_translations:{ar:""},button_text_translations:{ar:""}}),ae(null),pe(""))},[T,A]);const fe=async je=>{if(je.preventDefault(),A==="view"){y();return}try{const Ne=new FormData;Ne.append("title",J.title),Ne.append("description",J.description),Ne.append("position",J.position),Ne.append("display_order",J.display_order.toString()),Ne.append("is_active",J.is_active?"1":"0"),J.button_text&&Ne.append("button_text",J.button_text),J.button_link&&Ne.append("button_link",J.button_link),te&&Ne.append("image",te),Ne.append("title_translations",JSON.stringify(J.title_translations)),Ne.append("description_translations",JSON.stringify(J.description_translations)),Ne.append("button_text_translations",JSON.stringify(J.button_text_translations)),A==="create"?(await O(Ne).unwrap(),zt.success("Banner created successfully")):(Ne.append("_method","PUT"),await U({id:T.id,data:Ne}).unwrap(),zt.success("Banner updated successfully")),y()}catch(Ne){console.error(`${A} error:`,Ne),Ne?.data?.errors?Object.values(Ne.data.errors).flat().forEach(Ue=>zt.error(Ue)):Ne?.data?.message?zt.error(Ne.data.message):zt.error(`Failed to ${A} banner`)}},xe=je=>{const{name:Ne,value:$e,type:Ue}=je.target;ee(Ue==="checkbox"?He=>({...He,[Ne]:je.target.checked}):Ue==="number"?He=>({...He,[Ne]:Number($e)}):He=>({...He,[Ne]:$e}))},ye=(je,Ne)=>{ae(je),pe(Ne)},_e=A==="view",Le=z||G;return jsxRuntimeExports.jsx(AnimatePresence,{children:R&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:y}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:je=>je.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:A==="create"?"Add New Banner":A==="edit"?"Edit Banner":"Banner Details"}),jsxRuntimeExports.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:fe,className:"p-6 space-y-5",children:[jsxRuntimeExports.jsx(TranslatableField,{label:"Banner Title",name:"title",value:J.title,translationValue:J.title_translations.ar,onChangeEnglish:je=>ee(Ne=>({...Ne,title:je})),onChangeArabic:je=>ee(Ne=>({...Ne,title_translations:{...Ne.title_translations,ar:je}})),required:!0,placeholder:"Enter banner title",placeholderAr:"  ",disabled:_e}),jsxRuntimeExports.jsx(TranslatableField,{label:"Description",name:"description",value:J.description,translationValue:J.description_translations.ar,onChangeEnglish:je=>ee(Ne=>({...Ne,description:je})),onChangeArabic:je=>ee(Ne=>({...Ne,description_translations:{...Ne.description_translations,ar:je}})),type:"textarea",rows:3,placeholder:"Enter banner description",placeholderAr:"  ",disabled:_e}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Banner Image ",A==="create"&&"*"]}),_e?jsxRuntimeExports.jsx("div",{className:"mt-3",children:jsxRuntimeExports.jsx("img",{src:oe||"/placeholder.svg",alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-200"})}):jsxRuntimeExports.jsx(ImageUploadWithCrop,{onImageCropped:ye,currentPreview:oe,guideline:IMAGE_GUIDELINES.banner,disabled:_e,required:A==="create"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(TranslatableField,{label:"Button Text",name:"button_text",value:J.button_text,translationValue:J.button_text_translations.ar,onChangeEnglish:je=>ee(Ne=>({...Ne,button_text:je})),onChangeArabic:je=>ee(Ne=>({...Ne,button_text_translations:{...Ne.button_text_translations,ar:je}})),placeholder:"e.g. Learn More",placeholderAr:":  ",disabled:_e}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Link"}),jsxRuntimeExports.jsx("input",{type:"text",name:"button_link",value:J.button_link,onChange:xe,disabled:_e,placeholder:"/courses",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position *"}),jsxRuntimeExports.jsxs("select",{name:"position",value:J.position,onChange:xe,disabled:_e,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100",children:[jsxRuntimeExports.jsx("option",{value:"hero",children:"Hero Banner (Main)"}),jsxRuntimeExports.jsx("option",{value:"secondary",children:"Secondary Banner"}),jsxRuntimeExports.jsx("option",{value:"promo",children:"Promotional Banner"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),jsxRuntimeExports.jsx("input",{type:"number",name:"display_order",value:J.display_order,onChange:xe,disabled:_e,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"is_active",checked:J.is_active,onChange:xe,disabled:_e,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:y,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:_e?"Close":"Cancel"}),!_e&&jsxRuntimeExports.jsxs("button",{type:"submit",disabled:Le,className:"px-6 py-2 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 flex items-center gap-2",children:[Le&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),A==="create"?"Create Banner":"Update Banner"]})]})]})]})})]})})},BannerManagement=()=>{const{t:R}=useTranslation("admin"),y=useNavigate(),{data:T=[],isLoading:A,error:O}=useGetBannersQuery({}),[z]=useDeleteBannerMutation(),[U,G]=reactExports.useState(!1),[J,ee]=reactExports.useState(null),te=[{header:R("banners.bannerTitle"),accessor:"title",render:(ye,_e)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("img",{src:_e.image_url||"/placeholder.svg",alt:ye,className:"w-16 h-10 object-cover rounded-lg"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:ye}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:_e.position})]})]})},{header:R("banners.position"),accessor:"position",render:ye=>jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${ye==="hero"?"bg-blue-100 text-blue-700":ye==="secondary"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:ye.charAt(0).toUpperCase()+ye.slice(1)})},{header:R("banners.displayOrder"),accessor:"display_order"},{header:"Status",accessor:"is_active",render:ye=>jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${ye?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:ye?"Active":"Inactive"})},{header:"Schedule",accessor:"start_date",render:(ye,_e)=>!_e.start_date&&!_e.end_date?jsxRuntimeExports.jsx("span",{className:"text-gray-500 text-sm",children:"Always visible"}):jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[_e.start_date&&jsxRuntimeExports.jsxs("div",{children:["From: ",new Date(_e.start_date).toLocaleDateString()]}),_e.end_date&&jsxRuntimeExports.jsxs("div",{children:["To: ",new Date(_e.end_date).toLocaleDateString()]})]})}],ae=ye=>{y(`/admin/banners/${ye.id}/edit`)},oe=async ye=>{if(confirm(R("banners.confirmDelete")))try{await z(ye.id).unwrap(),zt.success(R("messages.deleteSuccess"))}catch(_e){zt.error(R("messages.deleteError")),console.error("Delete error:",_e)}},pe=ye=>{ee(ye),G(!0)},fe=()=>{y("/admin/banners/new")},xe=()=>{G(!1),ee(null)};return A?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):O?jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:R("messages.loadError")}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:R("banners.title")}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:R("banners.subtitle")})]}),jsxRuntimeExports.jsxs("button",{onClick:fe,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all",children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"}),R("banners.addBanner")]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Banners"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-gray-900",children:T.length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Active"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-green-600",children:T.filter(ye=>ye.is_active).length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Hero Banners"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-blue-600",children:T.filter(ye=>ye.position==="hero").length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Scheduled"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-purple-600",children:T.filter(ye=>ye.start_date||ye.end_date).length})]})]}),jsxRuntimeExports.jsx(DataTable,{columns:te,data:T,onEdit:ae,onDelete:oe,onView:pe}),jsxRuntimeExports.jsx(BannerModal,{isOpen:U,onClose:xe,banner:J,mode:"view"})]})},InitiativeModal=({isOpen:R,onClose:y,initiative:T,mode:A})=>{const[O,{isLoading:z}]=useCreateSocialInitiativeMutation(),[U,{isLoading:G}]=useUpdateSocialInitiativeMutation(),{data:J=[]}=useGetCategoriesQuery({active:!0}),[ee,te]=reactExports.useState({title:"",excerpt:"",content:"",image:"",category_id:null,is_published:!1,is_featured:!1,published_at:"",title_translations:{ar:""},excerpt_translations:{ar:""},content_translations:{ar:""}}),[ae,oe]=reactExports.useState(null),[pe,fe]=reactExports.useState("");reactExports.useEffect(()=>{T&&A!=="create"?(te({title:T.title,excerpt:T.excerpt,content:T.content,image:T.image||"",category_id:T.category_id||null,is_published:T.is_published,is_featured:T.is_featured,published_at:T.published_at?T.published_at.split("T")[0]:"",title_translations:T.title_translations||{ar:""},excerpt_translations:T.excerpt_translations||{ar:""},content_translations:T.content_translations||{ar:""}}),T.image_url&&fe(T.image_url),oe(null)):A==="create"&&(te({title:"",excerpt:"",content:"",image:"",category_id:null,is_published:!1,is_featured:!1,published_at:"",title_translations:{ar:""},excerpt_translations:{ar:""},content_translations:{ar:""}}),oe(null),fe(""))},[T,A]);const xe=async Ne=>{if(Ne.preventDefault(),A==="view"){y();return}try{const $e=new FormData;$e.append("title",ee.title),$e.append("excerpt",ee.excerpt),$e.append("content",ee.content),$e.append("is_published",ee.is_published?"1":"0"),$e.append("is_featured",ee.is_featured?"1":"0"),ee.category_id&&$e.append("category_id",ee.category_id.toString()),ee.published_at&&$e.append("published_at",ee.published_at),ae&&$e.append("image",ae),$e.append("title_translations",JSON.stringify(ee.title_translations)),$e.append("excerpt_translations",JSON.stringify(ee.excerpt_translations)),$e.append("content_translations",JSON.stringify(ee.content_translations)),A==="create"?(await O($e).unwrap(),zt.success("Initiative created successfully")):($e.append("_method","PUT"),await U({id:T.id,data:$e}).unwrap(),zt.success("Initiative updated successfully")),y()}catch($e){console.error(`${A} error:`,$e),$e?.data?.errors?Object.values($e.data.errors).flat().forEach(He=>zt.error(He)):$e?.data?.message?zt.error($e.data.message):zt.error(`Failed to ${A} initiative`)}},ye=Ne=>{const{name:$e,value:Ue,type:He}=Ne.target;te(He==="checkbox"?ze=>({...ze,[$e]:Ne.target.checked}):$e==="category_id"?ze=>({...ze,[$e]:Ue===""?null:Number(Ue)}):ze=>({...ze,[$e]:Ue}))},_e=(Ne,$e)=>{oe(Ne),fe($e)},Le=A==="view",je=z||G;return jsxRuntimeExports.jsx(AnimatePresence,{children:R&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:y}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",onClick:Ne=>Ne.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:A==="create"?"Add New Initiative":A==="edit"?"Edit Initiative":"Initiative Details"}),jsxRuntimeExports.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:xe,className:"p-6 space-y-5",children:[jsxRuntimeExports.jsx(TranslatableField,{label:"Title",name:"title",value:ee.title,translationValue:ee.title_translations.ar,onChangeEnglish:Ne=>te($e=>({...$e,title:Ne})),onChangeArabic:Ne=>te($e=>({...$e,title_translations:{...$e.title_translations,ar:Ne}})),required:!0,placeholder:"Enter initiative title",placeholderAr:"  ",disabled:Le}),jsxRuntimeExports.jsx(TranslatableField,{label:"Excerpt",name:"excerpt",value:ee.excerpt,translationValue:ee.excerpt_translations.ar,onChangeEnglish:Ne=>te($e=>({...$e,excerpt:Ne})),onChangeArabic:Ne=>te($e=>({...$e,excerpt_translations:{...$e.excerpt_translations,ar:Ne}})),type:"textarea",required:!0,rows:2,placeholder:"Enter a brief excerpt",placeholderAr:"  ",disabled:Le}),jsxRuntimeExports.jsx(TranslatableField,{label:"Content",name:"content",value:ee.content,translationValue:ee.content_translations.ar,onChangeEnglish:Ne=>te($e=>({...$e,content:Ne})),onChangeArabic:Ne=>te($e=>({...$e,content_translations:{...$e.content_translations,ar:Ne}})),type:"textarea",required:!0,rows:8,placeholder:"Enter full initiative content",placeholderAr:"   ",disabled:Le}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),jsxRuntimeExports.jsxs("select",{name:"category_id",value:ee.category_id||"",onChange:ye,disabled:Le,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100",children:[jsxRuntimeExports.jsx("option",{value:"",children:"No Category"}),J.map(Ne=>jsxRuntimeExports.jsx("option",{value:Ne.id,children:Ne.name},Ne.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Published Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"published_at",value:ee.published_at,onChange:ye,disabled:Le,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured Image"}),Le?jsxRuntimeExports.jsx("div",{className:"mt-3",children:jsxRuntimeExports.jsx("img",{src:pe||"/placeholder.svg",alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-200"})}):jsxRuntimeExports.jsx(ImageUploadWithCrop,{onImageCropped:_e,currentPreview:pe,guideline:IMAGE_GUIDELINES.initiative,disabled:Le})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"is_published",checked:ee.is_published,onChange:ye,disabled:Le,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"Published"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"is_featured",checked:ee.is_featured,onChange:ye,disabled:Le,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"Featured"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:y,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:Le?"Close":"Cancel"}),!Le&&jsxRuntimeExports.jsxs("button",{type:"submit",disabled:je,className:"px-6 py-2 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 flex items-center gap-2",children:[je&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),A==="create"?"Create Initiative":"Update Initiative"]})]})]})]})})]})})},InitiativesManagement=()=>{const R=useNavigate(),{data:y=[],isLoading:T,error:A}=useGetSocialInitiativesQuery({}),[O]=useDeleteSocialInitiativeMutation(),[z,U]=reactExports.useState(!1),[G,J]=reactExports.useState(null),ee=[{header:"Title",accessor:"title",render:(xe,ye)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("img",{src:ye.image_url||"/placeholder.svg",alt:xe,className:"w-12 h-12 object-cover rounded-lg"}),jsxRuntimeExports.jsxs("div",{className:"max-w-xs",children:[jsxRuntimeExports.jsx("div",{className:"font-medium truncate",children:xe}),ye.category&&jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:ye.category.name})]})]})},{header:"Publish Date",accessor:"published_at",render:xe=>xe?new Date(xe).toLocaleDateString():"Not published"},{header:"Status",accessor:"is_published",render:xe=>jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${xe?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:xe?"Published":"Draft"})}],te=xe=>{R(`/admin/initiatives/${xe.id}/edit`)},ae=async xe=>{if(confirm("Are you sure you want to delete this initiative?"))try{await O(xe.id).unwrap(),zt.success("Initiative deleted successfully")}catch(ye){zt.error("Failed to delete initiative"),console.error("Delete error:",ye)}},oe=xe=>{J(xe),U(!0)},pe=()=>{R("/admin/initiatives/new")},fe=()=>{U(!1),J(null)};return T?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):A?jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:"Failed to load initiatives"}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Social Initiatives"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Manage your B2B social initiatives"})]}),jsxRuntimeExports.jsxs("button",{onClick:pe,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all",children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"}),"Add Initiative"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Initiatives"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-gray-900",children:y.length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Published"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-green-600",children:y.filter(xe=>xe.is_published).length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Drafts"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-gray-600",children:y.filter(xe=>!xe.is_published).length})]})]}),jsxRuntimeExports.jsx(DataTable,{columns:ee,data:y,onEdit:te,onDelete:ae,onView:oe}),jsxRuntimeExports.jsx(InitiativeModal,{isOpen:z,onClose:fe,initiative:G,mode:"view"})]})};function OrderedMap(R){this.content=R}OrderedMap.prototype={constructor:OrderedMap,find:function(R){for(var y=0;y<this.content.length;y+=2)if(this.content[y]===R)return y;return-1},get:function(R){var y=this.find(R);return y==-1?void 0:this.content[y+1]},update:function(R,y,T){var A=T&&T!=R?this.remove(T):this,O=A.find(R),z=A.content.slice();return O==-1?z.push(T||R,y):(z[O+1]=y,T&&(z[O]=T)),new OrderedMap(z)},remove:function(R){var y=this.find(R);if(y==-1)return this;var T=this.content.slice();return T.splice(y,2),new OrderedMap(T)},addToStart:function(R,y){return new OrderedMap([R,y].concat(this.remove(R).content))},addToEnd:function(R,y){var T=this.remove(R).content.slice();return T.push(R,y),new OrderedMap(T)},addBefore:function(R,y,T){var A=this.remove(y),O=A.content.slice(),z=A.find(R);return O.splice(z==-1?O.length:z,0,y,T),new OrderedMap(O)},forEach:function(R){for(var y=0;y<this.content.length;y+=2)R(this.content[y],this.content[y+1])},prepend:function(R){return R=OrderedMap.from(R),R.size?new OrderedMap(R.content.concat(this.subtract(R).content)):this},append:function(R){return R=OrderedMap.from(R),R.size?new OrderedMap(this.subtract(R).content.concat(R.content)):this},subtract:function(R){var y=this;R=OrderedMap.from(R);for(var T=0;T<R.content.length;T+=2)y=y.remove(R.content[T]);return y},toObject:function(){var R={};return this.forEach(function(y,T){R[y]=T}),R},get size(){return this.content.length>>1}};OrderedMap.from=function(R){if(R instanceof OrderedMap)return R;var y=[];if(R)for(var T in R)y.push(T,R[T]);return new OrderedMap(y)};function findDiffStart(R,y,T){for(let A=0;;A++){if(A==R.childCount||A==y.childCount)return R.childCount==y.childCount?null:T;let O=R.child(A),z=y.child(A);if(O==z){T+=O.nodeSize;continue}if(!O.sameMarkup(z))return T;if(O.isText&&O.text!=z.text){for(let U=0;O.text[U]==z.text[U];U++)T++;return T}if(O.content.size||z.content.size){let U=findDiffStart(O.content,z.content,T+1);if(U!=null)return U}T+=O.nodeSize}}function findDiffEnd(R,y,T,A){for(let O=R.childCount,z=y.childCount;;){if(O==0||z==0)return O==z?null:{a:T,b:A};let U=R.child(--O),G=y.child(--z),J=U.nodeSize;if(U==G){T-=J,A-=J;continue}if(!U.sameMarkup(G))return{a:T,b:A};if(U.isText&&U.text!=G.text){let ee=0,te=Math.min(U.text.length,G.text.length);for(;ee<te&&U.text[U.text.length-ee-1]==G.text[G.text.length-ee-1];)ee++,T--,A--;return{a:T,b:A}}if(U.content.size||G.content.size){let ee=findDiffEnd(U.content,G.content,T-1,A-1);if(ee)return ee}T-=J,A-=J}}class Fragment{constructor(y,T){if(this.content=y,this.size=T||0,T==null)for(let A=0;A<y.length;A++)this.size+=y[A].nodeSize}nodesBetween(y,T,A,O=0,z){for(let U=0,G=0;G<T;U++){let J=this.content[U],ee=G+J.nodeSize;if(ee>y&&A(J,O+G,z||null,U)!==!1&&J.content.size){let te=G+1;J.nodesBetween(Math.max(0,y-te),Math.min(J.content.size,T-te),A,O+te)}G=ee}}descendants(y){this.nodesBetween(0,this.size,y)}textBetween(y,T,A,O){let z="",U=!0;return this.nodesBetween(y,T,(G,J)=>{let ee=G.isText?G.text.slice(Math.max(y,J)-J,T-J):G.isLeaf?O?typeof O=="function"?O(G):O:G.type.spec.leafText?G.type.spec.leafText(G):"":"";G.isBlock&&(G.isLeaf&&ee||G.isTextblock)&&A&&(U?U=!1:z+=A),z+=ee},0),z}append(y){if(!y.size)return this;if(!this.size)return y;let T=this.lastChild,A=y.firstChild,O=this.content.slice(),z=0;for(T.isText&&T.sameMarkup(A)&&(O[O.length-1]=T.withText(T.text+A.text),z=1);z<y.content.length;z++)O.push(y.content[z]);return new Fragment(O,this.size+y.size)}cut(y,T=this.size){if(y==0&&T==this.size)return this;let A=[],O=0;if(T>y)for(let z=0,U=0;U<T;z++){let G=this.content[z],J=U+G.nodeSize;J>y&&((U<y||J>T)&&(G.isText?G=G.cut(Math.max(0,y-U),Math.min(G.text.length,T-U)):G=G.cut(Math.max(0,y-U-1),Math.min(G.content.size,T-U-1))),A.push(G),O+=G.nodeSize),U=J}return new Fragment(A,O)}cutByIndex(y,T){return y==T?Fragment.empty:y==0&&T==this.content.length?this:new Fragment(this.content.slice(y,T))}replaceChild(y,T){let A=this.content[y];if(A==T)return this;let O=this.content.slice(),z=this.size+T.nodeSize-A.nodeSize;return O[y]=T,new Fragment(O,z)}addToStart(y){return new Fragment([y].concat(this.content),this.size+y.nodeSize)}addToEnd(y){return new Fragment(this.content.concat(y),this.size+y.nodeSize)}eq(y){if(this.content.length!=y.content.length)return!1;for(let T=0;T<this.content.length;T++)if(!this.content[T].eq(y.content[T]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(y){let T=this.content[y];if(!T)throw new RangeError("Index "+y+" out of range for "+this);return T}maybeChild(y){return this.content[y]||null}forEach(y){for(let T=0,A=0;T<this.content.length;T++){let O=this.content[T];y(O,A,T),A+=O.nodeSize}}findDiffStart(y,T=0){return findDiffStart(this,y,T)}findDiffEnd(y,T=this.size,A=y.size){return findDiffEnd(this,y,T,A)}findIndex(y){if(y==0)return retIndex(0,y);if(y==this.size)return retIndex(this.content.length,y);if(y>this.size||y<0)throw new RangeError(`Position ${y} outside of fragment (${this})`);for(let T=0,A=0;;T++){let O=this.child(T),z=A+O.nodeSize;if(z>=y)return z==y?retIndex(T+1,z):retIndex(T,A);A=z}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(y=>y.toJSON()):null}static fromJSON(y,T){if(!T)return Fragment.empty;if(!Array.isArray(T))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fragment(T.map(y.nodeFromJSON))}static fromArray(y){if(!y.length)return Fragment.empty;let T,A=0;for(let O=0;O<y.length;O++){let z=y[O];A+=z.nodeSize,O&&z.isText&&y[O-1].sameMarkup(z)?(T||(T=y.slice(0,O)),T[T.length-1]=z.withText(T[T.length-1].text+z.text)):T&&T.push(z)}return new Fragment(T||y,A)}static from(y){if(!y)return Fragment.empty;if(y instanceof Fragment)return y;if(Array.isArray(y))return this.fromArray(y);if(y.attrs)return new Fragment([y],y.nodeSize);throw new RangeError("Can not convert "+y+" to a Fragment"+(y.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fragment.empty=new Fragment([],0);const found={index:0,offset:0};function retIndex(R,y){return found.index=R,found.offset=y,found}function compareDeep(R,y){if(R===y)return!0;if(!(R&&typeof R=="object")||!(y&&typeof y=="object"))return!1;let T=Array.isArray(R);if(Array.isArray(y)!=T)return!1;if(T){if(R.length!=y.length)return!1;for(let A=0;A<R.length;A++)if(!compareDeep(R[A],y[A]))return!1}else{for(let A in R)if(!(A in y)||!compareDeep(R[A],y[A]))return!1;for(let A in y)if(!(A in R))return!1}return!0}let Mark$1=class Dc{constructor(y,T){this.type=y,this.attrs=T}addToSet(y){let T,A=!1;for(let O=0;O<y.length;O++){let z=y[O];if(this.eq(z))return y;if(this.type.excludes(z.type))T||(T=y.slice(0,O));else{if(z.type.excludes(this.type))return y;!A&&z.type.rank>this.type.rank&&(T||(T=y.slice(0,O)),T.push(this),A=!0),T&&T.push(z)}}return T||(T=y.slice()),A||T.push(this),T}removeFromSet(y){for(let T=0;T<y.length;T++)if(this.eq(y[T]))return y.slice(0,T).concat(y.slice(T+1));return y}isInSet(y){for(let T=0;T<y.length;T++)if(this.eq(y[T]))return!0;return!1}eq(y){return this==y||this.type==y.type&&compareDeep(this.attrs,y.attrs)}toJSON(){let y={type:this.type.name};for(let T in this.attrs){y.attrs=this.attrs;break}return y}static fromJSON(y,T){if(!T)throw new RangeError("Invalid input for Mark.fromJSON");let A=y.marks[T.type];if(!A)throw new RangeError(`There is no mark type ${T.type} in this schema`);let O=A.create(T.attrs);return A.checkAttrs(O.attrs),O}static sameSet(y,T){if(y==T)return!0;if(y.length!=T.length)return!1;for(let A=0;A<y.length;A++)if(!y[A].eq(T[A]))return!1;return!0}static setFrom(y){if(!y||Array.isArray(y)&&y.length==0)return Dc.none;if(y instanceof Dc)return[y];let T=y.slice();return T.sort((A,O)=>A.type.rank-O.type.rank),T}};Mark$1.none=[];class ReplaceError extends Error{}class Slice{constructor(y,T,A){this.content=y,this.openStart=T,this.openEnd=A}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(y,T){let A=insertInto(this.content,y+this.openStart,T);return A&&new Slice(A,this.openStart,this.openEnd)}removeBetween(y,T){return new Slice(removeRange(this.content,y+this.openStart,T+this.openStart),this.openStart,this.openEnd)}eq(y){return this.content.eq(y.content)&&this.openStart==y.openStart&&this.openEnd==y.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let y={content:this.content.toJSON()};return this.openStart>0&&(y.openStart=this.openStart),this.openEnd>0&&(y.openEnd=this.openEnd),y}static fromJSON(y,T){if(!T)return Slice.empty;let A=T.openStart||0,O=T.openEnd||0;if(typeof A!="number"||typeof O!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Slice(Fragment.fromJSON(y,T.content),A,O)}static maxOpen(y,T=!0){let A=0,O=0;for(let z=y.firstChild;z&&!z.isLeaf&&(T||!z.type.spec.isolating);z=z.firstChild)A++;for(let z=y.lastChild;z&&!z.isLeaf&&(T||!z.type.spec.isolating);z=z.lastChild)O++;return new Slice(y,A,O)}}Slice.empty=new Slice(Fragment.empty,0,0);function removeRange(R,y,T){let{index:A,offset:O}=R.findIndex(y),z=R.maybeChild(A),{index:U,offset:G}=R.findIndex(T);if(O==y||z.isText){if(G!=T&&!R.child(U).isText)throw new RangeError("Removing non-flat range");return R.cut(0,y).append(R.cut(T))}if(A!=U)throw new RangeError("Removing non-flat range");return R.replaceChild(A,z.copy(removeRange(z.content,y-O-1,T-O-1)))}function insertInto(R,y,T,A){let{index:O,offset:z}=R.findIndex(y),U=R.maybeChild(O);if(z==y||U.isText)return A&&!A.canReplace(O,O,T)?null:R.cut(0,y).append(T).append(R.cut(y));let G=insertInto(U.content,y-z-1,T,U);return G&&R.replaceChild(O,U.copy(G))}function replace(R,y,T){if(T.openStart>R.depth)throw new ReplaceError("Inserted content deeper than insertion position");if(R.depth-T.openStart!=y.depth-T.openEnd)throw new ReplaceError("Inconsistent open depths");return replaceOuter(R,y,T,0)}function replaceOuter(R,y,T,A){let O=R.index(A),z=R.node(A);if(O==y.index(A)&&A<R.depth-T.openStart){let U=replaceOuter(R,y,T,A+1);return z.copy(z.content.replaceChild(O,U))}else if(T.content.size)if(!T.openStart&&!T.openEnd&&R.depth==A&&y.depth==A){let U=R.parent,G=U.content;return close(U,G.cut(0,R.parentOffset).append(T.content).append(G.cut(y.parentOffset)))}else{let{start:U,end:G}=prepareSliceForReplace(T,R);return close(z,replaceThreeWay(R,U,G,y,A))}else return close(z,replaceTwoWay(R,y,A))}function checkJoin(R,y){if(!y.type.compatibleContent(R.type))throw new ReplaceError("Cannot join "+y.type.name+" onto "+R.type.name)}function joinable$1(R,y,T){let A=R.node(T);return checkJoin(A,y.node(T)),A}function addNode(R,y){let T=y.length-1;T>=0&&R.isText&&R.sameMarkup(y[T])?y[T]=R.withText(y[T].text+R.text):y.push(R)}function addRange(R,y,T,A){let O=(y||R).node(T),z=0,U=y?y.index(T):O.childCount;R&&(z=R.index(T),R.depth>T?z++:R.textOffset&&(addNode(R.nodeAfter,A),z++));for(let G=z;G<U;G++)addNode(O.child(G),A);y&&y.depth==T&&y.textOffset&&addNode(y.nodeBefore,A)}function close(R,y){return R.type.checkContent(y),R.copy(y)}function replaceThreeWay(R,y,T,A,O){let z=R.depth>O&&joinable$1(R,y,O+1),U=A.depth>O&&joinable$1(T,A,O+1),G=[];return addRange(null,R,O,G),z&&U&&y.index(O)==T.index(O)?(checkJoin(z,U),addNode(close(z,replaceThreeWay(R,y,T,A,O+1)),G)):(z&&addNode(close(z,replaceTwoWay(R,y,O+1)),G),addRange(y,T,O,G),U&&addNode(close(U,replaceTwoWay(T,A,O+1)),G)),addRange(A,null,O,G),new Fragment(G)}function replaceTwoWay(R,y,T){let A=[];if(addRange(null,R,T,A),R.depth>T){let O=joinable$1(R,y,T+1);addNode(close(O,replaceTwoWay(R,y,T+1)),A)}return addRange(y,null,T,A),new Fragment(A)}function prepareSliceForReplace(R,y){let T=y.depth-R.openStart,O=y.node(T).copy(R.content);for(let z=T-1;z>=0;z--)O=y.node(z).copy(Fragment.from(O));return{start:O.resolveNoCache(R.openStart+T),end:O.resolveNoCache(O.content.size-R.openEnd-T)}}class ResolvedPos{constructor(y,T,A){this.pos=y,this.path=T,this.parentOffset=A,this.depth=T.length/3-1}resolveDepth(y){return y==null?this.depth:y<0?this.depth+y:y}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(y){return this.path[this.resolveDepth(y)*3]}index(y){return this.path[this.resolveDepth(y)*3+1]}indexAfter(y){return y=this.resolveDepth(y),this.index(y)+(y==this.depth&&!this.textOffset?0:1)}start(y){return y=this.resolveDepth(y),y==0?0:this.path[y*3-1]+1}end(y){return y=this.resolveDepth(y),this.start(y)+this.node(y).content.size}before(y){if(y=this.resolveDepth(y),!y)throw new RangeError("There is no position before the top-level node");return y==this.depth+1?this.pos:this.path[y*3-1]}after(y){if(y=this.resolveDepth(y),!y)throw new RangeError("There is no position after the top-level node");return y==this.depth+1?this.pos:this.path[y*3-1]+this.path[y*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let y=this.parent,T=this.index(this.depth);if(T==y.childCount)return null;let A=this.pos-this.path[this.path.length-1],O=y.child(T);return A?y.child(T).cut(A):O}get nodeBefore(){let y=this.index(this.depth),T=this.pos-this.path[this.path.length-1];return T?this.parent.child(y).cut(0,T):y==0?null:this.parent.child(y-1)}posAtIndex(y,T){T=this.resolveDepth(T);let A=this.path[T*3],O=T==0?0:this.path[T*3-1]+1;for(let z=0;z<y;z++)O+=A.child(z).nodeSize;return O}marks(){let y=this.parent,T=this.index();if(y.content.size==0)return Mark$1.none;if(this.textOffset)return y.child(T).marks;let A=y.maybeChild(T-1),O=y.maybeChild(T);if(!A){let G=A;A=O,O=G}let z=A.marks;for(var U=0;U<z.length;U++)z[U].type.spec.inclusive===!1&&(!O||!z[U].isInSet(O.marks))&&(z=z[U--].removeFromSet(z));return z}marksAcross(y){let T=this.parent.maybeChild(this.index());if(!T||!T.isInline)return null;let A=T.marks,O=y.parent.maybeChild(y.index());for(var z=0;z<A.length;z++)A[z].type.spec.inclusive===!1&&(!O||!A[z].isInSet(O.marks))&&(A=A[z--].removeFromSet(A));return A}sharedDepth(y){for(let T=this.depth;T>0;T--)if(this.start(T)<=y&&this.end(T)>=y)return T;return 0}blockRange(y=this,T){if(y.pos<this.pos)return y.blockRange(this);for(let A=this.depth-(this.parent.inlineContent||this.pos==y.pos?1:0);A>=0;A--)if(y.pos<=this.end(A)&&(!T||T(this.node(A))))return new NodeRange(this,y,A);return null}sameParent(y){return this.pos-this.parentOffset==y.pos-y.parentOffset}max(y){return y.pos>this.pos?y:this}min(y){return y.pos<this.pos?y:this}toString(){let y="";for(let T=1;T<=this.depth;T++)y+=(y?"/":"")+this.node(T).type.name+"_"+this.index(T-1);return y+":"+this.parentOffset}static resolve(y,T){if(!(T>=0&&T<=y.content.size))throw new RangeError("Position "+T+" out of range");let A=[],O=0,z=T;for(let U=y;;){let{index:G,offset:J}=U.content.findIndex(z),ee=z-J;if(A.push(U,G,O+J),!ee||(U=U.child(G),U.isText))break;z=ee-1,O+=J+1}return new ResolvedPos(T,A,z)}static resolveCached(y,T){let A=resolveCache.get(y);if(A)for(let z=0;z<A.elts.length;z++){let U=A.elts[z];if(U.pos==T)return U}else resolveCache.set(y,A=new ResolveCache);let O=A.elts[A.i]=ResolvedPos.resolve(y,T);return A.i=(A.i+1)%resolveCacheSize,O}}class ResolveCache{constructor(){this.elts=[],this.i=0}}const resolveCacheSize=12,resolveCache=new WeakMap;class NodeRange{constructor(y,T,A){this.$from=y,this.$to=T,this.depth=A}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const emptyAttrs=Object.create(null);class Node{constructor(y,T,A,O=Mark$1.none){this.type=y,this.attrs=T,this.marks=O,this.content=A||Fragment.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(y){return this.content.child(y)}maybeChild(y){return this.content.maybeChild(y)}forEach(y){this.content.forEach(y)}nodesBetween(y,T,A,O=0){this.content.nodesBetween(y,T,A,O,this)}descendants(y){this.nodesBetween(0,this.content.size,y)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(y,T,A,O){return this.content.textBetween(y,T,A,O)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(y){return this==y||this.sameMarkup(y)&&this.content.eq(y.content)}sameMarkup(y){return this.hasMarkup(y.type,y.attrs,y.marks)}hasMarkup(y,T,A){return this.type==y&&compareDeep(this.attrs,T||y.defaultAttrs||emptyAttrs)&&Mark$1.sameSet(this.marks,A||Mark$1.none)}copy(y=null){return y==this.content?this:new Node(this.type,this.attrs,y,this.marks)}mark(y){return y==this.marks?this:new Node(this.type,this.attrs,this.content,y)}cut(y,T=this.content.size){return y==0&&T==this.content.size?this:this.copy(this.content.cut(y,T))}slice(y,T=this.content.size,A=!1){if(y==T)return Slice.empty;let O=this.resolve(y),z=this.resolve(T),U=A?0:O.sharedDepth(T),G=O.start(U),ee=O.node(U).content.cut(O.pos-G,z.pos-G);return new Slice(ee,O.depth-U,z.depth-U)}replace(y,T,A){return replace(this.resolve(y),this.resolve(T),A)}nodeAt(y){for(let T=this;;){let{index:A,offset:O}=T.content.findIndex(y);if(T=T.maybeChild(A),!T)return null;if(O==y||T.isText)return T;y-=O+1}}childAfter(y){let{index:T,offset:A}=this.content.findIndex(y);return{node:this.content.maybeChild(T),index:T,offset:A}}childBefore(y){if(y==0)return{node:null,index:0,offset:0};let{index:T,offset:A}=this.content.findIndex(y);if(A<y)return{node:this.content.child(T),index:T,offset:A};let O=this.content.child(T-1);return{node:O,index:T-1,offset:A-O.nodeSize}}resolve(y){return ResolvedPos.resolveCached(this,y)}resolveNoCache(y){return ResolvedPos.resolve(this,y)}rangeHasMark(y,T,A){let O=!1;return T>y&&this.nodesBetween(y,T,z=>(A.isInSet(z.marks)&&(O=!0),!O)),O}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let y=this.type.name;return this.content.size&&(y+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,y)}contentMatchAt(y){let T=this.type.contentMatch.matchFragment(this.content,0,y);if(!T)throw new Error("Called contentMatchAt on a node with invalid content");return T}canReplace(y,T,A=Fragment.empty,O=0,z=A.childCount){let U=this.contentMatchAt(y).matchFragment(A,O,z),G=U&&U.matchFragment(this.content,T);if(!G||!G.validEnd)return!1;for(let J=O;J<z;J++)if(!this.type.allowsMarks(A.child(J).marks))return!1;return!0}canReplaceWith(y,T,A,O){if(O&&!this.type.allowsMarks(O))return!1;let z=this.contentMatchAt(y).matchType(A),U=z&&z.matchFragment(this.content,T);return U?U.validEnd:!1}canAppend(y){return y.content.size?this.canReplace(this.childCount,this.childCount,y.content):this.type.compatibleContent(y.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let y=Mark$1.none;for(let T=0;T<this.marks.length;T++){let A=this.marks[T];A.type.checkAttrs(A.attrs),y=A.addToSet(y)}if(!Mark$1.sameSet(y,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(T=>T.type.name)}`);this.content.forEach(T=>T.check())}toJSON(){let y={type:this.type.name};for(let T in this.attrs){y.attrs=this.attrs;break}return this.content.size&&(y.content=this.content.toJSON()),this.marks.length&&(y.marks=this.marks.map(T=>T.toJSON())),y}static fromJSON(y,T){if(!T)throw new RangeError("Invalid input for Node.fromJSON");let A;if(T.marks){if(!Array.isArray(T.marks))throw new RangeError("Invalid mark data for Node.fromJSON");A=T.marks.map(y.markFromJSON)}if(T.type=="text"){if(typeof T.text!="string")throw new RangeError("Invalid text node in JSON");return y.text(T.text,A)}let O=Fragment.fromJSON(y,T.content),z=y.nodeType(T.type).create(T.attrs,O,A);return z.type.checkAttrs(z.attrs),z}}Node.prototype.text=void 0;class TextNode extends Node{constructor(y,T,A,O){if(super(y,T,null,O),!A)throw new RangeError("Empty text nodes are not allowed");this.text=A}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(y,T){return this.text.slice(y,T)}get nodeSize(){return this.text.length}mark(y){return y==this.marks?this:new TextNode(this.type,this.attrs,this.text,y)}withText(y){return y==this.text?this:new TextNode(this.type,this.attrs,y,this.marks)}cut(y=0,T=this.text.length){return y==0&&T==this.text.length?this:this.withText(this.text.slice(y,T))}eq(y){return this.sameMarkup(y)&&this.text==y.text}toJSON(){let y=super.toJSON();return y.text=this.text,y}}function wrapMarks(R,y){for(let T=R.length-1;T>=0;T--)y=R[T].type.name+"("+y+")";return y}class ContentMatch{constructor(y){this.validEnd=y,this.next=[],this.wrapCache=[]}static parse(y,T){let A=new TokenStream(y,T);if(A.next==null)return ContentMatch.empty;let O=parseExpr(A);A.next&&A.err("Unexpected trailing text");let z=dfa(nfa(O));return checkForDeadEnds(z,A),z}matchType(y){for(let T=0;T<this.next.length;T++)if(this.next[T].type==y)return this.next[T].next;return null}matchFragment(y,T=0,A=y.childCount){let O=this;for(let z=T;O&&z<A;z++)O=O.matchType(y.child(z).type);return O}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let y=0;y<this.next.length;y++){let{type:T}=this.next[y];if(!(T.isText||T.hasRequiredAttrs()))return T}return null}compatible(y){for(let T=0;T<this.next.length;T++)for(let A=0;A<y.next.length;A++)if(this.next[T].type==y.next[A].type)return!0;return!1}fillBefore(y,T=!1,A=0){let O=[this];function z(U,G){let J=U.matchFragment(y,A);if(J&&(!T||J.validEnd))return Fragment.from(G.map(ee=>ee.createAndFill()));for(let ee=0;ee<U.next.length;ee++){let{type:te,next:ae}=U.next[ee];if(!(te.isText||te.hasRequiredAttrs())&&O.indexOf(ae)==-1){O.push(ae);let oe=z(ae,G.concat(te));if(oe)return oe}}return null}return z(this,[])}findWrapping(y){for(let A=0;A<this.wrapCache.length;A+=2)if(this.wrapCache[A]==y)return this.wrapCache[A+1];let T=this.computeWrapping(y);return this.wrapCache.push(y,T),T}computeWrapping(y){let T=Object.create(null),A=[{match:this,type:null,via:null}];for(;A.length;){let O=A.shift(),z=O.match;if(z.matchType(y)){let U=[];for(let G=O;G.type;G=G.via)U.push(G.type);return U.reverse()}for(let U=0;U<z.next.length;U++){let{type:G,next:J}=z.next[U];!G.isLeaf&&!G.hasRequiredAttrs()&&!(G.name in T)&&(!O.type||J.validEnd)&&(A.push({match:G.contentMatch,type:G,via:O}),T[G.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(y){if(y>=this.next.length)throw new RangeError(`There's no ${y}th edge in this content match`);return this.next[y]}toString(){let y=[];function T(A){y.push(A);for(let O=0;O<A.next.length;O++)y.indexOf(A.next[O].next)==-1&&T(A.next[O].next)}return T(this),y.map((A,O)=>{let z=O+(A.validEnd?"*":" ")+" ";for(let U=0;U<A.next.length;U++)z+=(U?", ":"")+A.next[U].type.name+"->"+y.indexOf(A.next[U].next);return z}).join(`
`)}}ContentMatch.empty=new ContentMatch(!0);class TokenStream{constructor(y,T){this.string=y,this.nodeTypes=T,this.inline=null,this.pos=0,this.tokens=y.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(y){return this.next==y&&(this.pos++||!0)}err(y){throw new SyntaxError(y+" (in content expression '"+this.string+"')")}}function parseExpr(R){let y=[];do y.push(parseExprSeq(R));while(R.eat("|"));return y.length==1?y[0]:{type:"choice",exprs:y}}function parseExprSeq(R){let y=[];do y.push(parseExprSubscript(R));while(R.next&&R.next!=")"&&R.next!="|");return y.length==1?y[0]:{type:"seq",exprs:y}}function parseExprSubscript(R){let y=parseExprAtom(R);for(;;)if(R.eat("+"))y={type:"plus",expr:y};else if(R.eat("*"))y={type:"star",expr:y};else if(R.eat("?"))y={type:"opt",expr:y};else if(R.eat("{"))y=parseExprRange(R,y);else break;return y}function parseNum(R){/\D/.test(R.next)&&R.err("Expected number, got '"+R.next+"'");let y=Number(R.next);return R.pos++,y}function parseExprRange(R,y){let T=parseNum(R),A=T;return R.eat(",")&&(R.next!="}"?A=parseNum(R):A=-1),R.eat("}")||R.err("Unclosed braced range"),{type:"range",min:T,max:A,expr:y}}function resolveName(R,y){let T=R.nodeTypes,A=T[y];if(A)return[A];let O=[];for(let z in T){let U=T[z];U.isInGroup(y)&&O.push(U)}return O.length==0&&R.err("No node type or group '"+y+"' found"),O}function parseExprAtom(R){if(R.eat("(")){let y=parseExpr(R);return R.eat(")")||R.err("Missing closing paren"),y}else if(/\W/.test(R.next))R.err("Unexpected token '"+R.next+"'");else{let y=resolveName(R,R.next).map(T=>(R.inline==null?R.inline=T.isInline:R.inline!=T.isInline&&R.err("Mixing inline and block content"),{type:"name",value:T}));return R.pos++,y.length==1?y[0]:{type:"choice",exprs:y}}}function nfa(R){let y=[[]];return O(z(R,0),T()),y;function T(){return y.push([])-1}function A(U,G,J){let ee={term:J,to:G};return y[U].push(ee),ee}function O(U,G){U.forEach(J=>J.to=G)}function z(U,G){if(U.type=="choice")return U.exprs.reduce((J,ee)=>J.concat(z(ee,G)),[]);if(U.type=="seq")for(let J=0;;J++){let ee=z(U.exprs[J],G);if(J==U.exprs.length-1)return ee;O(ee,G=T())}else if(U.type=="star"){let J=T();return A(G,J),O(z(U.expr,J),J),[A(J)]}else if(U.type=="plus"){let J=T();return O(z(U.expr,G),J),O(z(U.expr,J),J),[A(J)]}else{if(U.type=="opt")return[A(G)].concat(z(U.expr,G));if(U.type=="range"){let J=G;for(let ee=0;ee<U.min;ee++){let te=T();O(z(U.expr,J),te),J=te}if(U.max==-1)O(z(U.expr,J),J);else for(let ee=U.min;ee<U.max;ee++){let te=T();A(J,te),O(z(U.expr,J),te),J=te}return[A(J)]}else{if(U.type=="name")return[A(G,void 0,U.value)];throw new Error("Unknown expr type")}}}}function cmp(R,y){return y-R}function nullFrom(R,y){let T=[];return A(y),T.sort(cmp);function A(O){let z=R[O];if(z.length==1&&!z[0].term)return A(z[0].to);T.push(O);for(let U=0;U<z.length;U++){let{term:G,to:J}=z[U];!G&&T.indexOf(J)==-1&&A(J)}}}function dfa(R){let y=Object.create(null);return T(nullFrom(R,0));function T(A){let O=[];A.forEach(U=>{R[U].forEach(({term:G,to:J})=>{if(!G)return;let ee;for(let te=0;te<O.length;te++)O[te][0]==G&&(ee=O[te][1]);nullFrom(R,J).forEach(te=>{ee||O.push([G,ee=[]]),ee.indexOf(te)==-1&&ee.push(te)})})});let z=y[A.join(",")]=new ContentMatch(A.indexOf(R.length-1)>-1);for(let U=0;U<O.length;U++){let G=O[U][1].sort(cmp);z.next.push({type:O[U][0],next:y[G.join(",")]||T(G)})}return z}}function checkForDeadEnds(R,y){for(let T=0,A=[R];T<A.length;T++){let O=A[T],z=!O.validEnd,U=[];for(let G=0;G<O.next.length;G++){let{type:J,next:ee}=O.next[G];U.push(J.name),z&&!(J.isText||J.hasRequiredAttrs())&&(z=!1),A.indexOf(ee)==-1&&A.push(ee)}z&&y.err("Only non-generatable nodes ("+U.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function defaultAttrs(R){let y=Object.create(null);for(let T in R){let A=R[T];if(!A.hasDefault)return null;y[T]=A.default}return y}function computeAttrs(R,y){let T=Object.create(null);for(let A in R){let O=y&&y[A];if(O===void 0){let z=R[A];if(z.hasDefault)O=z.default;else throw new RangeError("No value supplied for attribute "+A)}T[A]=O}return T}function checkAttrs(R,y,T,A){for(let O in y)if(!(O in R))throw new RangeError(`Unsupported attribute ${O} for ${T} of type ${O}`);for(let O in R){let z=R[O];z.validate&&z.validate(y[O])}}function initAttrs(R,y){let T=Object.create(null);if(y)for(let A in y)T[A]=new Attribute(R,A,y[A]);return T}let NodeType$1=class Dh{constructor(y,T,A){this.name=y,this.schema=T,this.spec=A,this.markSet=null,this.groups=A.group?A.group.split(" "):[],this.attrs=initAttrs(y,A.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(A.inline||y=="text"),this.isText=y=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ContentMatch.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(y){return this.groups.indexOf(y)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let y in this.attrs)if(this.attrs[y].isRequired)return!0;return!1}compatibleContent(y){return this==y||this.contentMatch.compatible(y.contentMatch)}computeAttrs(y){return!y&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,y)}create(y=null,T,A){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Node(this,this.computeAttrs(y),Fragment.from(T),Mark$1.setFrom(A))}createChecked(y=null,T,A){return T=Fragment.from(T),this.checkContent(T),new Node(this,this.computeAttrs(y),T,Mark$1.setFrom(A))}createAndFill(y=null,T,A){if(y=this.computeAttrs(y),T=Fragment.from(T),T.size){let U=this.contentMatch.fillBefore(T);if(!U)return null;T=U.append(T)}let O=this.contentMatch.matchFragment(T),z=O&&O.fillBefore(Fragment.empty,!0);return z?new Node(this,y,T.append(z),Mark$1.setFrom(A)):null}validContent(y){let T=this.contentMatch.matchFragment(y);if(!T||!T.validEnd)return!1;for(let A=0;A<y.childCount;A++)if(!this.allowsMarks(y.child(A).marks))return!1;return!0}checkContent(y){if(!this.validContent(y))throw new RangeError(`Invalid content for node ${this.name}: ${y.toString().slice(0,50)}`)}checkAttrs(y){checkAttrs(this.attrs,y,"node",this.name)}allowsMarkType(y){return this.markSet==null||this.markSet.indexOf(y)>-1}allowsMarks(y){if(this.markSet==null)return!0;for(let T=0;T<y.length;T++)if(!this.allowsMarkType(y[T].type))return!1;return!0}allowedMarks(y){if(this.markSet==null)return y;let T;for(let A=0;A<y.length;A++)this.allowsMarkType(y[A].type)?T&&T.push(y[A]):T||(T=y.slice(0,A));return T?T.length?T:Mark$1.none:y}static compile(y,T){let A=Object.create(null);y.forEach((z,U)=>A[z]=new Dh(z,T,U));let O=T.spec.topNode||"doc";if(!A[O])throw new RangeError("Schema is missing its top node type ('"+O+"')");if(!A.text)throw new RangeError("Every schema needs a 'text' type");for(let z in A.text.attrs)throw new RangeError("The text node type should not have attributes");return A}};function validateType(R,y,T){let A=T.split("|");return O=>{let z=O===null?"null":typeof O;if(A.indexOf(z)<0)throw new RangeError(`Expected value of type ${A} for attribute ${y} on type ${R}, got ${z}`)}}class Attribute{constructor(y,T,A){this.hasDefault=Object.prototype.hasOwnProperty.call(A,"default"),this.default=A.default,this.validate=typeof A.validate=="string"?validateType(y,T,A.validate):A.validate}get isRequired(){return!this.hasDefault}}class MarkType{constructor(y,T,A,O){this.name=y,this.rank=T,this.schema=A,this.spec=O,this.attrs=initAttrs(y,O.attrs),this.excluded=null;let z=defaultAttrs(this.attrs);this.instance=z?new Mark$1(this,z):null}create(y=null){return!y&&this.instance?this.instance:new Mark$1(this,computeAttrs(this.attrs,y))}static compile(y,T){let A=Object.create(null),O=0;return y.forEach((z,U)=>A[z]=new MarkType(z,O++,T,U)),A}removeFromSet(y){for(var T=0;T<y.length;T++)y[T].type==this&&(y=y.slice(0,T).concat(y.slice(T+1)),T--);return y}isInSet(y){for(let T=0;T<y.length;T++)if(y[T].type==this)return y[T]}checkAttrs(y){checkAttrs(this.attrs,y,"mark",this.name)}excludes(y){return this.excluded.indexOf(y)>-1}}class Schema{constructor(y){this.linebreakReplacement=null,this.cached=Object.create(null);let T=this.spec={};for(let O in y)T[O]=y[O];T.nodes=OrderedMap.from(y.nodes),T.marks=OrderedMap.from(y.marks||{}),this.nodes=NodeType$1.compile(this.spec.nodes,this),this.marks=MarkType.compile(this.spec.marks,this);let A=Object.create(null);for(let O in this.nodes){if(O in this.marks)throw new RangeError(O+" can not be both a node and a mark");let z=this.nodes[O],U=z.spec.content||"",G=z.spec.marks;if(z.contentMatch=A[U]||(A[U]=ContentMatch.parse(U,this.nodes)),z.inlineContent=z.contentMatch.inlineContent,z.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!z.isInline||!z.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=z}z.markSet=G=="_"?null:G?gatherMarks(this,G.split(" ")):G==""||!z.inlineContent?[]:null}for(let O in this.marks){let z=this.marks[O],U=z.spec.excludes;z.excluded=U==null?[z]:U==""?[]:gatherMarks(this,U.split(" "))}this.nodeFromJSON=O=>Node.fromJSON(this,O),this.markFromJSON=O=>Mark$1.fromJSON(this,O),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(y,T=null,A,O){if(typeof y=="string")y=this.nodeType(y);else if(y instanceof NodeType$1){if(y.schema!=this)throw new RangeError("Node type from different schema used ("+y.name+")")}else throw new RangeError("Invalid node type: "+y);return y.createChecked(T,A,O)}text(y,T){let A=this.nodes.text;return new TextNode(A,A.defaultAttrs,y,Mark$1.setFrom(T))}mark(y,T){return typeof y=="string"&&(y=this.marks[y]),y.create(T)}nodeType(y){let T=this.nodes[y];if(!T)throw new RangeError("Unknown node type: "+y);return T}}function gatherMarks(R,y){let T=[];for(let A=0;A<y.length;A++){let O=y[A],z=R.marks[O],U=z;if(z)T.push(z);else for(let G in R.marks){let J=R.marks[G];(O=="_"||J.spec.group&&J.spec.group.split(" ").indexOf(O)>-1)&&T.push(U=J)}if(!U)throw new SyntaxError("Unknown mark type: '"+y[A]+"'")}return T}function isTagRule(R){return R.tag!=null}function isStyleRule(R){return R.style!=null}class DOMParser{constructor(y,T){this.schema=y,this.rules=T,this.tags=[],this.styles=[];let A=this.matchedStyles=[];T.forEach(O=>{if(isTagRule(O))this.tags.push(O);else if(isStyleRule(O)){let z=/[^=]*/.exec(O.style)[0];A.indexOf(z)<0&&A.push(z),this.styles.push(O)}}),this.normalizeLists=!this.tags.some(O=>{if(!/^(ul|ol)\b/.test(O.tag)||!O.node)return!1;let z=y.nodes[O.node];return z.contentMatch.matchType(z)})}parse(y,T={}){let A=new ParseContext(this,T,!1);return A.addAll(y,Mark$1.none,T.from,T.to),A.finish()}parseSlice(y,T={}){let A=new ParseContext(this,T,!0);return A.addAll(y,Mark$1.none,T.from,T.to),Slice.maxOpen(A.finish())}matchTag(y,T,A){for(let O=A?this.tags.indexOf(A)+1:0;O<this.tags.length;O++){let z=this.tags[O];if(matches(y,z.tag)&&(z.namespace===void 0||y.namespaceURI==z.namespace)&&(!z.context||T.matchesContext(z.context))){if(z.getAttrs){let U=z.getAttrs(y);if(U===!1)continue;z.attrs=U||void 0}return z}}}matchStyle(y,T,A,O){for(let z=O?this.styles.indexOf(O)+1:0;z<this.styles.length;z++){let U=this.styles[z],G=U.style;if(!(G.indexOf(y)!=0||U.context&&!A.matchesContext(U.context)||G.length>y.length&&(G.charCodeAt(y.length)!=61||G.slice(y.length+1)!=T))){if(U.getAttrs){let J=U.getAttrs(T);if(J===!1)continue;U.attrs=J||void 0}return U}}}static schemaRules(y){let T=[];function A(O){let z=O.priority==null?50:O.priority,U=0;for(;U<T.length;U++){let G=T[U];if((G.priority==null?50:G.priority)<z)break}T.splice(U,0,O)}for(let O in y.marks){let z=y.marks[O].spec.parseDOM;z&&z.forEach(U=>{A(U=copy(U)),U.mark||U.ignore||U.clearMark||(U.mark=O)})}for(let O in y.nodes){let z=y.nodes[O].spec.parseDOM;z&&z.forEach(U=>{A(U=copy(U)),U.node||U.ignore||U.mark||(U.node=O)})}return T}static fromSchema(y){return y.cached.domParser||(y.cached.domParser=new DOMParser(y,DOMParser.schemaRules(y)))}}const blockTags={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ignoreTags={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},listTags={ol:!0,ul:!0},OPT_PRESERVE_WS=1,OPT_PRESERVE_WS_FULL=2,OPT_OPEN_LEFT=4;function wsOptionsFor(R,y,T){return y!=null?(y?OPT_PRESERVE_WS:0)|(y==="full"?OPT_PRESERVE_WS_FULL:0):R&&R.whitespace=="pre"?OPT_PRESERVE_WS|OPT_PRESERVE_WS_FULL:T&~OPT_OPEN_LEFT}class NodeContext{constructor(y,T,A,O,z,U){this.type=y,this.attrs=T,this.marks=A,this.solid=O,this.options=U,this.content=[],this.activeMarks=Mark$1.none,this.match=z||(U&OPT_OPEN_LEFT?null:y.contentMatch)}findWrapping(y){if(!this.match){if(!this.type)return[];let T=this.type.contentMatch.fillBefore(Fragment.from(y));if(T)this.match=this.type.contentMatch.matchFragment(T);else{let A=this.type.contentMatch,O;return(O=A.findWrapping(y.type))?(this.match=A,O):null}}return this.match.findWrapping(y.type)}finish(y){if(!(this.options&OPT_PRESERVE_WS)){let A=this.content[this.content.length-1],O;if(A&&A.isText&&(O=/[ \t\r\n\u000c]+$/.exec(A.text))){let z=A;A.text.length==O[0].length?this.content.pop():this.content[this.content.length-1]=z.withText(z.text.slice(0,z.text.length-O[0].length))}}let T=Fragment.from(this.content);return!y&&this.match&&(T=T.append(this.match.fillBefore(Fragment.empty,!0))),this.type?this.type.create(this.attrs,T,this.marks):T}inlineContext(y){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:y.parentNode&&!blockTags.hasOwnProperty(y.parentNode.nodeName.toLowerCase())}}class ParseContext{constructor(y,T,A){this.parser=y,this.options=T,this.isOpen=A,this.open=0,this.localPreserveWS=!1;let O=T.topNode,z,U=wsOptionsFor(null,T.preserveWhitespace,0)|(A?OPT_OPEN_LEFT:0);O?z=new NodeContext(O.type,O.attrs,Mark$1.none,!0,T.topMatch||O.type.contentMatch,U):A?z=new NodeContext(null,null,Mark$1.none,!0,null,U):z=new NodeContext(y.schema.topNodeType,null,Mark$1.none,!0,null,U),this.nodes=[z],this.find=T.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(y,T){y.nodeType==3?this.addTextNode(y,T):y.nodeType==1&&this.addElement(y,T)}addTextNode(y,T){let A=y.nodeValue,O=this.top,z=O.options&OPT_PRESERVE_WS_FULL?"full":this.localPreserveWS||(O.options&OPT_PRESERVE_WS)>0,{schema:U}=this.parser;if(z==="full"||O.inlineContext(y)||/[^ \t\r\n\u000c]/.test(A)){if(z)if(z==="full")A=A.replace(/\r\n?/g,`
`);else if(U.linebreakReplacement&&/[\r\n]/.test(A)&&this.top.findWrapping(U.linebreakReplacement.create())){let G=A.split(/\r?\n|\r/);for(let J=0;J<G.length;J++)J&&this.insertNode(U.linebreakReplacement.create(),T,!0),G[J]&&this.insertNode(U.text(G[J]),T,!/\S/.test(G[J]));A=""}else A=A.replace(/\r?\n|\r/g," ");else if(A=A.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(A)&&this.open==this.nodes.length-1){let G=O.content[O.content.length-1],J=y.previousSibling;(!G||J&&J.nodeName=="BR"||G.isText&&/[ \t\r\n\u000c]$/.test(G.text))&&(A=A.slice(1))}A&&this.insertNode(U.text(A),T,!/\S/.test(A)),this.findInText(y)}else this.findInside(y)}addElement(y,T,A){let O=this.localPreserveWS,z=this.top;(y.tagName=="PRE"||/pre/.test(y.style&&y.style.whiteSpace))&&(this.localPreserveWS=!0);let U=y.nodeName.toLowerCase(),G;listTags.hasOwnProperty(U)&&this.parser.normalizeLists&&normalizeList(y);let J=this.options.ruleFromNode&&this.options.ruleFromNode(y)||(G=this.parser.matchTag(y,this,A));e:if(J?J.ignore:ignoreTags.hasOwnProperty(U))this.findInside(y),this.ignoreFallback(y,T);else if(!J||J.skip||J.closeParent){J&&J.closeParent?this.open=Math.max(0,this.open-1):J&&J.skip.nodeType&&(y=J.skip);let ee,te=this.needsBlock;if(blockTags.hasOwnProperty(U))z.content.length&&z.content[0].isInline&&this.open&&(this.open--,z=this.top),ee=!0,z.type||(this.needsBlock=!0);else if(!y.firstChild){this.leafFallback(y,T);break e}let ae=J&&J.skip?T:this.readStyles(y,T);ae&&this.addAll(y,ae),ee&&this.sync(z),this.needsBlock=te}else{let ee=this.readStyles(y,T);ee&&this.addElementByRule(y,J,ee,J.consuming===!1?G:void 0)}this.localPreserveWS=O}leafFallback(y,T){y.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(y.ownerDocument.createTextNode(`
`),T)}ignoreFallback(y,T){y.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),T,!0)}readStyles(y,T){let A=y.style;if(A&&A.length)for(let O=0;O<this.parser.matchedStyles.length;O++){let z=this.parser.matchedStyles[O],U=A.getPropertyValue(z);if(U)for(let G=void 0;;){let J=this.parser.matchStyle(z,U,this,G);if(!J)break;if(J.ignore)return null;if(J.clearMark?T=T.filter(ee=>!J.clearMark(ee)):T=T.concat(this.parser.schema.marks[J.mark].create(J.attrs)),J.consuming===!1)G=J;else break}}return T}addElementByRule(y,T,A,O){let z,U;if(T.node)if(U=this.parser.schema.nodes[T.node],U.isLeaf)this.insertNode(U.create(T.attrs),A,y.nodeName=="BR")||this.leafFallback(y,A);else{let J=this.enter(U,T.attrs||null,A,T.preserveWhitespace);J&&(z=!0,A=J)}else{let J=this.parser.schema.marks[T.mark];A=A.concat(J.create(T.attrs))}let G=this.top;if(U&&U.isLeaf)this.findInside(y);else if(O)this.addElement(y,A,O);else if(T.getContent)this.findInside(y),T.getContent(y,this.parser.schema).forEach(J=>this.insertNode(J,A,!1));else{let J=y;typeof T.contentElement=="string"?J=y.querySelector(T.contentElement):typeof T.contentElement=="function"?J=T.contentElement(y):T.contentElement&&(J=T.contentElement),this.findAround(y,J,!0),this.addAll(J,A),this.findAround(y,J,!1)}z&&this.sync(G)&&this.open--}addAll(y,T,A,O){let z=A||0;for(let U=A?y.childNodes[A]:y.firstChild,G=O==null?null:y.childNodes[O];U!=G;U=U.nextSibling,++z)this.findAtPoint(y,z),this.addDOM(U,T);this.findAtPoint(y,z)}findPlace(y,T,A){let O,z;for(let U=this.open,G=0;U>=0;U--){let J=this.nodes[U],ee=J.findWrapping(y);if(ee&&(!O||O.length>ee.length+G)&&(O=ee,z=J,!ee.length))break;if(J.solid){if(A)break;G+=2}}if(!O)return null;this.sync(z);for(let U=0;U<O.length;U++)T=this.enterInner(O[U],null,T,!1);return T}insertNode(y,T,A){if(y.isInline&&this.needsBlock&&!this.top.type){let z=this.textblockFromContext();z&&(T=this.enterInner(z,null,T))}let O=this.findPlace(y,T,A);if(O){this.closeExtra();let z=this.top;z.match&&(z.match=z.match.matchType(y.type));let U=Mark$1.none;for(let G of O.concat(y.marks))(z.type?z.type.allowsMarkType(G.type):markMayApply(G.type,y.type))&&(U=G.addToSet(U));return z.content.push(y.mark(U)),!0}return!1}enter(y,T,A,O){let z=this.findPlace(y.create(T),A,!1);return z&&(z=this.enterInner(y,T,A,!0,O)),z}enterInner(y,T,A,O=!1,z){this.closeExtra();let U=this.top;U.match=U.match&&U.match.matchType(y);let G=wsOptionsFor(y,z,U.options);U.options&OPT_OPEN_LEFT&&U.content.length==0&&(G|=OPT_OPEN_LEFT);let J=Mark$1.none;return A=A.filter(ee=>(U.type?U.type.allowsMarkType(ee.type):markMayApply(ee.type,y))?(J=ee.addToSet(J),!1):!0),this.nodes.push(new NodeContext(y,T,J,O,null,G)),this.open++,A}closeExtra(y=!1){let T=this.nodes.length-1;if(T>this.open){for(;T>this.open;T--)this.nodes[T-1].content.push(this.nodes[T].finish(y));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(y){for(let T=this.open;T>=0;T--){if(this.nodes[T]==y)return this.open=T,!0;this.localPreserveWS&&(this.nodes[T].options|=OPT_PRESERVE_WS)}return!1}get currentPos(){this.closeExtra();let y=0;for(let T=this.open;T>=0;T--){let A=this.nodes[T].content;for(let O=A.length-1;O>=0;O--)y+=A[O].nodeSize;T&&y++}return y}findAtPoint(y,T){if(this.find)for(let A=0;A<this.find.length;A++)this.find[A].node==y&&this.find[A].offset==T&&(this.find[A].pos=this.currentPos)}findInside(y){if(this.find)for(let T=0;T<this.find.length;T++)this.find[T].pos==null&&y.nodeType==1&&y.contains(this.find[T].node)&&(this.find[T].pos=this.currentPos)}findAround(y,T,A){if(y!=T&&this.find)for(let O=0;O<this.find.length;O++)this.find[O].pos==null&&y.nodeType==1&&y.contains(this.find[O].node)&&T.compareDocumentPosition(this.find[O].node)&(A?2:4)&&(this.find[O].pos=this.currentPos)}findInText(y){if(this.find)for(let T=0;T<this.find.length;T++)this.find[T].node==y&&(this.find[T].pos=this.currentPos-(y.nodeValue.length-this.find[T].offset))}matchesContext(y){if(y.indexOf("|")>-1)return y.split(/\s*\|\s*/).some(this.matchesContext,this);let T=y.split("/"),A=this.options.context,O=!this.isOpen&&(!A||A.parent.type==this.nodes[0].type),z=-(A?A.depth+1:0)+(O?0:1),U=(G,J)=>{for(;G>=0;G--){let ee=T[G];if(ee==""){if(G==T.length-1||G==0)continue;for(;J>=z;J--)if(U(G-1,J))return!0;return!1}else{let te=J>0||J==0&&O?this.nodes[J].type:A&&J>=z?A.node(J-z).type:null;if(!te||te.name!=ee&&!te.isInGroup(ee))return!1;J--}}return!0};return U(T.length-1,this.open)}textblockFromContext(){let y=this.options.context;if(y)for(let T=y.depth;T>=0;T--){let A=y.node(T).contentMatchAt(y.indexAfter(T)).defaultType;if(A&&A.isTextblock&&A.defaultAttrs)return A}for(let T in this.parser.schema.nodes){let A=this.parser.schema.nodes[T];if(A.isTextblock&&A.defaultAttrs)return A}}}function normalizeList(R){for(let y=R.firstChild,T=null;y;y=y.nextSibling){let A=y.nodeType==1?y.nodeName.toLowerCase():null;A&&listTags.hasOwnProperty(A)&&T?(T.appendChild(y),y=T):A=="li"?T=y:A&&(T=null)}}function matches(R,y){return(R.matches||R.msMatchesSelector||R.webkitMatchesSelector||R.mozMatchesSelector).call(R,y)}function copy(R){let y={};for(let T in R)y[T]=R[T];return y}function markMayApply(R,y){let T=y.schema.nodes;for(let A in T){let O=T[A];if(!O.allowsMarkType(R))continue;let z=[],U=G=>{z.push(G);for(let J=0;J<G.edgeCount;J++){let{type:ee,next:te}=G.edge(J);if(ee==y||z.indexOf(te)<0&&U(te))return!0}};if(U(O.contentMatch))return!0}}class DOMSerializer{constructor(y,T){this.nodes=y,this.marks=T}serializeFragment(y,T={},A){A||(A=doc$1(T).createDocumentFragment());let O=A,z=[];return y.forEach(U=>{if(z.length||U.marks.length){let G=0,J=0;for(;G<z.length&&J<U.marks.length;){let ee=U.marks[J];if(!this.marks[ee.type.name]){J++;continue}if(!ee.eq(z[G][0])||ee.type.spec.spanning===!1)break;G++,J++}for(;G<z.length;)O=z.pop()[1];for(;J<U.marks.length;){let ee=U.marks[J++],te=this.serializeMark(ee,U.isInline,T);te&&(z.push([ee,O]),O.appendChild(te.dom),O=te.contentDOM||te.dom)}}O.appendChild(this.serializeNodeInner(U,T))}),A}serializeNodeInner(y,T){let{dom:A,contentDOM:O}=renderSpec(doc$1(T),this.nodes[y.type.name](y),null,y.attrs);if(O){if(y.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(y.content,T,O)}return A}serializeNode(y,T={}){let A=this.serializeNodeInner(y,T);for(let O=y.marks.length-1;O>=0;O--){let z=this.serializeMark(y.marks[O],y.isInline,T);z&&((z.contentDOM||z.dom).appendChild(A),A=z.dom)}return A}serializeMark(y,T,A={}){let O=this.marks[y.type.name];return O&&renderSpec(doc$1(A),O(y,T),null,y.attrs)}static renderSpec(y,T,A=null,O){return renderSpec(y,T,A,O)}static fromSchema(y){return y.cached.domSerializer||(y.cached.domSerializer=new DOMSerializer(this.nodesFromSchema(y),this.marksFromSchema(y)))}static nodesFromSchema(y){let T=gatherToDOM(y.nodes);return T.text||(T.text=A=>A.text),T}static marksFromSchema(y){return gatherToDOM(y.marks)}}function gatherToDOM(R){let y={};for(let T in R){let A=R[T].spec.toDOM;A&&(y[T]=A)}return y}function doc$1(R){return R.document||window.document}const suspiciousAttributeCache=new WeakMap;function suspiciousAttributes(R){let y=suspiciousAttributeCache.get(R);return y===void 0&&suspiciousAttributeCache.set(R,y=suspiciousAttributesInner(R)),y}function suspiciousAttributesInner(R){let y=null;function T(A){if(A&&typeof A=="object")if(Array.isArray(A))if(typeof A[0]=="string")y||(y=[]),y.push(A);else for(let O=0;O<A.length;O++)T(A[O]);else for(let O in A)T(A[O])}return T(R),y}function renderSpec(R,y,T,A){if(typeof y=="string")return{dom:R.createTextNode(y)};if(y.nodeType!=null)return{dom:y};if(y.dom&&y.dom.nodeType!=null)return y;let O=y[0],z;if(typeof O!="string")throw new RangeError("Invalid array passed to renderSpec");if(A&&(z=suspiciousAttributes(A))&&z.indexOf(y)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let U=O.indexOf(" ");U>0&&(T=O.slice(0,U),O=O.slice(U+1));let G,J=T?R.createElementNS(T,O):R.createElement(O),ee=y[1],te=1;if(ee&&typeof ee=="object"&&ee.nodeType==null&&!Array.isArray(ee)){te=2;for(let ae in ee)if(ee[ae]!=null){let oe=ae.indexOf(" ");oe>0?J.setAttributeNS(ae.slice(0,oe),ae.slice(oe+1),ee[ae]):ae=="style"&&J.style?J.style.cssText=ee[ae]:J.setAttribute(ae,ee[ae])}}for(let ae=te;ae<y.length;ae++){let oe=y[ae];if(oe===0){if(ae<y.length-1||ae>te)throw new RangeError("Content hole must be the only child of its parent node");return{dom:J,contentDOM:J}}else{let{dom:pe,contentDOM:fe}=renderSpec(R,oe,T,A);if(J.appendChild(pe),fe){if(G)throw new RangeError("Multiple content holes");G=fe}}}return{dom:J,contentDOM:G}}const lower16=65535,factor16=Math.pow(2,16);function makeRecover(R,y){return R+y*factor16}function recoverIndex(R){return R&lower16}function recoverOffset(R){return(R-(R&lower16))/factor16}const DEL_BEFORE=1,DEL_AFTER=2,DEL_ACROSS=4,DEL_SIDE=8;class MapResult{constructor(y,T,A){this.pos=y,this.delInfo=T,this.recover=A}get deleted(){return(this.delInfo&DEL_SIDE)>0}get deletedBefore(){return(this.delInfo&(DEL_BEFORE|DEL_ACROSS))>0}get deletedAfter(){return(this.delInfo&(DEL_AFTER|DEL_ACROSS))>0}get deletedAcross(){return(this.delInfo&DEL_ACROSS)>0}}class StepMap{constructor(y,T=!1){if(this.ranges=y,this.inverted=T,!y.length&&StepMap.empty)return StepMap.empty}recover(y){let T=0,A=recoverIndex(y);if(!this.inverted)for(let O=0;O<A;O++)T+=this.ranges[O*3+2]-this.ranges[O*3+1];return this.ranges[A*3]+T+recoverOffset(y)}mapResult(y,T=1){return this._map(y,T,!1)}map(y,T=1){return this._map(y,T,!0)}_map(y,T,A){let O=0,z=this.inverted?2:1,U=this.inverted?1:2;for(let G=0;G<this.ranges.length;G+=3){let J=this.ranges[G]-(this.inverted?O:0);if(J>y)break;let ee=this.ranges[G+z],te=this.ranges[G+U],ae=J+ee;if(y<=ae){let oe=ee?y==J?-1:y==ae?1:T:T,pe=J+O+(oe<0?0:te);if(A)return pe;let fe=y==(T<0?J:ae)?null:makeRecover(G/3,y-J),xe=y==J?DEL_AFTER:y==ae?DEL_BEFORE:DEL_ACROSS;return(T<0?y!=J:y!=ae)&&(xe|=DEL_SIDE),new MapResult(pe,xe,fe)}O+=te-ee}return A?y+O:new MapResult(y+O,0,null)}touches(y,T){let A=0,O=recoverIndex(T),z=this.inverted?2:1,U=this.inverted?1:2;for(let G=0;G<this.ranges.length;G+=3){let J=this.ranges[G]-(this.inverted?A:0);if(J>y)break;let ee=this.ranges[G+z],te=J+ee;if(y<=te&&G==O*3)return!0;A+=this.ranges[G+U]-ee}return!1}forEach(y){let T=this.inverted?2:1,A=this.inverted?1:2;for(let O=0,z=0;O<this.ranges.length;O+=3){let U=this.ranges[O],G=U-(this.inverted?z:0),J=U+(this.inverted?0:z),ee=this.ranges[O+T],te=this.ranges[O+A];y(G,G+ee,J,J+te),z+=te-ee}}invert(){return new StepMap(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(y){return y==0?StepMap.empty:new StepMap(y<0?[0,-y,0]:[0,0,y])}}StepMap.empty=new StepMap([]);class Mapping{constructor(y,T,A=0,O=y?y.length:0){this.mirror=T,this.from=A,this.to=O,this._maps=y||[],this.ownData=!(y||T)}get maps(){return this._maps}slice(y=0,T=this.maps.length){return new Mapping(this._maps,this.mirror,y,T)}appendMap(y,T){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(y),T!=null&&this.setMirror(this._maps.length-1,T)}appendMapping(y){for(let T=0,A=this._maps.length;T<y._maps.length;T++){let O=y.getMirror(T);this.appendMap(y._maps[T],O!=null&&O<T?A+O:void 0)}}getMirror(y){if(this.mirror){for(let T=0;T<this.mirror.length;T++)if(this.mirror[T]==y)return this.mirror[T+(T%2?-1:1)]}}setMirror(y,T){this.mirror||(this.mirror=[]),this.mirror.push(y,T)}appendMappingInverted(y){for(let T=y.maps.length-1,A=this._maps.length+y._maps.length;T>=0;T--){let O=y.getMirror(T);this.appendMap(y._maps[T].invert(),O!=null&&O>T?A-O-1:void 0)}}invert(){let y=new Mapping;return y.appendMappingInverted(this),y}map(y,T=1){if(this.mirror)return this._map(y,T,!0);for(let A=this.from;A<this.to;A++)y=this._maps[A].map(y,T);return y}mapResult(y,T=1){return this._map(y,T,!1)}_map(y,T,A){let O=0;for(let z=this.from;z<this.to;z++){let U=this._maps[z],G=U.mapResult(y,T);if(G.recover!=null){let J=this.getMirror(z);if(J!=null&&J>z&&J<this.to){z=J,y=this._maps[J].recover(G.recover);continue}}O|=G.delInfo,y=G.pos}return A?y:new MapResult(y,O,null)}}const stepsByID=Object.create(null);class Step{getMap(){return StepMap.empty}merge(y){return null}static fromJSON(y,T){if(!T||!T.stepType)throw new RangeError("Invalid input for Step.fromJSON");let A=stepsByID[T.stepType];if(!A)throw new RangeError(`No step type ${T.stepType} defined`);return A.fromJSON(y,T)}static jsonID(y,T){if(y in stepsByID)throw new RangeError("Duplicate use of step JSON ID "+y);return stepsByID[y]=T,T.prototype.jsonID=y,T}}class StepResult{constructor(y,T){this.doc=y,this.failed=T}static ok(y){return new StepResult(y,null)}static fail(y){return new StepResult(null,y)}static fromReplace(y,T,A,O){try{return StepResult.ok(y.replace(T,A,O))}catch(z){if(z instanceof ReplaceError)return StepResult.fail(z.message);throw z}}}function mapFragment(R,y,T){let A=[];for(let O=0;O<R.childCount;O++){let z=R.child(O);z.content.size&&(z=z.copy(mapFragment(z.content,y,z))),z.isInline&&(z=y(z,T,O)),A.push(z)}return Fragment.fromArray(A)}class AddMarkStep extends Step{constructor(y,T,A){super(),this.from=y,this.to=T,this.mark=A}apply(y){let T=y.slice(this.from,this.to),A=y.resolve(this.from),O=A.node(A.sharedDepth(this.to)),z=new Slice(mapFragment(T.content,(U,G)=>!U.isAtom||!G.type.allowsMarkType(this.mark.type)?U:U.mark(this.mark.addToSet(U.marks)),O),T.openStart,T.openEnd);return StepResult.fromReplace(y,this.from,this.to,z)}invert(){return new RemoveMarkStep(this.from,this.to,this.mark)}map(y){let T=y.mapResult(this.from,1),A=y.mapResult(this.to,-1);return T.deleted&&A.deleted||T.pos>=A.pos?null:new AddMarkStep(T.pos,A.pos,this.mark)}merge(y){return y instanceof AddMarkStep&&y.mark.eq(this.mark)&&this.from<=y.to&&this.to>=y.from?new AddMarkStep(Math.min(this.from,y.from),Math.max(this.to,y.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(y,T){if(typeof T.from!="number"||typeof T.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new AddMarkStep(T.from,T.to,y.markFromJSON(T.mark))}}Step.jsonID("addMark",AddMarkStep);class RemoveMarkStep extends Step{constructor(y,T,A){super(),this.from=y,this.to=T,this.mark=A}apply(y){let T=y.slice(this.from,this.to),A=new Slice(mapFragment(T.content,O=>O.mark(this.mark.removeFromSet(O.marks)),y),T.openStart,T.openEnd);return StepResult.fromReplace(y,this.from,this.to,A)}invert(){return new AddMarkStep(this.from,this.to,this.mark)}map(y){let T=y.mapResult(this.from,1),A=y.mapResult(this.to,-1);return T.deleted&&A.deleted||T.pos>=A.pos?null:new RemoveMarkStep(T.pos,A.pos,this.mark)}merge(y){return y instanceof RemoveMarkStep&&y.mark.eq(this.mark)&&this.from<=y.to&&this.to>=y.from?new RemoveMarkStep(Math.min(this.from,y.from),Math.max(this.to,y.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(y,T){if(typeof T.from!="number"||typeof T.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RemoveMarkStep(T.from,T.to,y.markFromJSON(T.mark))}}Step.jsonID("removeMark",RemoveMarkStep);class AddNodeMarkStep extends Step{constructor(y,T){super(),this.pos=y,this.mark=T}apply(y){let T=y.nodeAt(this.pos);if(!T)return StepResult.fail("No node at mark step's position");let A=T.type.create(T.attrs,null,this.mark.addToSet(T.marks));return StepResult.fromReplace(y,this.pos,this.pos+1,new Slice(Fragment.from(A),0,T.isLeaf?0:1))}invert(y){let T=y.nodeAt(this.pos);if(T){let A=this.mark.addToSet(T.marks);if(A.length==T.marks.length){for(let O=0;O<T.marks.length;O++)if(!T.marks[O].isInSet(A))return new AddNodeMarkStep(this.pos,T.marks[O]);return new AddNodeMarkStep(this.pos,this.mark)}}return new RemoveNodeMarkStep(this.pos,this.mark)}map(y){let T=y.mapResult(this.pos,1);return T.deletedAfter?null:new AddNodeMarkStep(T.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(y,T){if(typeof T.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new AddNodeMarkStep(T.pos,y.markFromJSON(T.mark))}}Step.jsonID("addNodeMark",AddNodeMarkStep);class RemoveNodeMarkStep extends Step{constructor(y,T){super(),this.pos=y,this.mark=T}apply(y){let T=y.nodeAt(this.pos);if(!T)return StepResult.fail("No node at mark step's position");let A=T.type.create(T.attrs,null,this.mark.removeFromSet(T.marks));return StepResult.fromReplace(y,this.pos,this.pos+1,new Slice(Fragment.from(A),0,T.isLeaf?0:1))}invert(y){let T=y.nodeAt(this.pos);return!T||!this.mark.isInSet(T.marks)?this:new AddNodeMarkStep(this.pos,this.mark)}map(y){let T=y.mapResult(this.pos,1);return T.deletedAfter?null:new RemoveNodeMarkStep(T.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(y,T){if(typeof T.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new RemoveNodeMarkStep(T.pos,y.markFromJSON(T.mark))}}Step.jsonID("removeNodeMark",RemoveNodeMarkStep);class ReplaceStep extends Step{constructor(y,T,A,O=!1){super(),this.from=y,this.to=T,this.slice=A,this.structure=O}apply(y){return this.structure&&contentBetween(y,this.from,this.to)?StepResult.fail("Structure replace would overwrite content"):StepResult.fromReplace(y,this.from,this.to,this.slice)}getMap(){return new StepMap([this.from,this.to-this.from,this.slice.size])}invert(y){return new ReplaceStep(this.from,this.from+this.slice.size,y.slice(this.from,this.to))}map(y){let T=y.mapResult(this.from,1),A=y.mapResult(this.to,-1);return T.deletedAcross&&A.deletedAcross?null:new ReplaceStep(T.pos,Math.max(T.pos,A.pos),this.slice,this.structure)}merge(y){if(!(y instanceof ReplaceStep)||y.structure||this.structure)return null;if(this.from+this.slice.size==y.from&&!this.slice.openEnd&&!y.slice.openStart){let T=this.slice.size+y.slice.size==0?Slice.empty:new Slice(this.slice.content.append(y.slice.content),this.slice.openStart,y.slice.openEnd);return new ReplaceStep(this.from,this.to+(y.to-y.from),T,this.structure)}else if(y.to==this.from&&!this.slice.openStart&&!y.slice.openEnd){let T=this.slice.size+y.slice.size==0?Slice.empty:new Slice(y.slice.content.append(this.slice.content),y.slice.openStart,this.slice.openEnd);return new ReplaceStep(y.from,this.to,T,this.structure)}else return null}toJSON(){let y={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(y.slice=this.slice.toJSON()),this.structure&&(y.structure=!0),y}static fromJSON(y,T){if(typeof T.from!="number"||typeof T.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ReplaceStep(T.from,T.to,Slice.fromJSON(y,T.slice),!!T.structure)}}Step.jsonID("replace",ReplaceStep);class ReplaceAroundStep extends Step{constructor(y,T,A,O,z,U,G=!1){super(),this.from=y,this.to=T,this.gapFrom=A,this.gapTo=O,this.slice=z,this.insert=U,this.structure=G}apply(y){if(this.structure&&(contentBetween(y,this.from,this.gapFrom)||contentBetween(y,this.gapTo,this.to)))return StepResult.fail("Structure gap-replace would overwrite content");let T=y.slice(this.gapFrom,this.gapTo);if(T.openStart||T.openEnd)return StepResult.fail("Gap is not a flat range");let A=this.slice.insertAt(this.insert,T.content);return A?StepResult.fromReplace(y,this.from,this.to,A):StepResult.fail("Content does not fit in gap")}getMap(){return new StepMap([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(y){let T=this.gapTo-this.gapFrom;return new ReplaceAroundStep(this.from,this.from+this.slice.size+T,this.from+this.insert,this.from+this.insert+T,y.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(y){let T=y.mapResult(this.from,1),A=y.mapResult(this.to,-1),O=this.from==this.gapFrom?T.pos:y.map(this.gapFrom,-1),z=this.to==this.gapTo?A.pos:y.map(this.gapTo,1);return T.deletedAcross&&A.deletedAcross||O<T.pos||z>A.pos?null:new ReplaceAroundStep(T.pos,A.pos,O,z,this.slice,this.insert,this.structure)}toJSON(){let y={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(y.slice=this.slice.toJSON()),this.structure&&(y.structure=!0),y}static fromJSON(y,T){if(typeof T.from!="number"||typeof T.to!="number"||typeof T.gapFrom!="number"||typeof T.gapTo!="number"||typeof T.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ReplaceAroundStep(T.from,T.to,T.gapFrom,T.gapTo,Slice.fromJSON(y,T.slice),T.insert,!!T.structure)}}Step.jsonID("replaceAround",ReplaceAroundStep);function contentBetween(R,y,T){let A=R.resolve(y),O=T-y,z=A.depth;for(;O>0&&z>0&&A.indexAfter(z)==A.node(z).childCount;)z--,O--;if(O>0){let U=A.node(z).maybeChild(A.indexAfter(z));for(;O>0;){if(!U||U.isLeaf)return!0;U=U.firstChild,O--}}return!1}function addMark(R,y,T,A){let O=[],z=[],U,G;R.doc.nodesBetween(y,T,(J,ee,te)=>{if(!J.isInline)return;let ae=J.marks;if(!A.isInSet(ae)&&te.type.allowsMarkType(A.type)){let oe=Math.max(ee,y),pe=Math.min(ee+J.nodeSize,T),fe=A.addToSet(ae);for(let xe=0;xe<ae.length;xe++)ae[xe].isInSet(fe)||(U&&U.to==oe&&U.mark.eq(ae[xe])?U.to=pe:O.push(U=new RemoveMarkStep(oe,pe,ae[xe])));G&&G.to==oe?G.to=pe:z.push(G=new AddMarkStep(oe,pe,A))}}),O.forEach(J=>R.step(J)),z.forEach(J=>R.step(J))}function removeMark(R,y,T,A){let O=[],z=0;R.doc.nodesBetween(y,T,(U,G)=>{if(!U.isInline)return;z++;let J=null;if(A instanceof MarkType){let ee=U.marks,te;for(;te=A.isInSet(ee);)(J||(J=[])).push(te),ee=te.removeFromSet(ee)}else A?A.isInSet(U.marks)&&(J=[A]):J=U.marks;if(J&&J.length){let ee=Math.min(G+U.nodeSize,T);for(let te=0;te<J.length;te++){let ae=J[te],oe;for(let pe=0;pe<O.length;pe++){let fe=O[pe];fe.step==z-1&&ae.eq(O[pe].style)&&(oe=fe)}oe?(oe.to=ee,oe.step=z):O.push({style:ae,from:Math.max(G,y),to:ee,step:z})}}}),O.forEach(U=>R.step(new RemoveMarkStep(U.from,U.to,U.style)))}function clearIncompatible(R,y,T,A=T.contentMatch,O=!0){let z=R.doc.nodeAt(y),U=[],G=y+1;for(let J=0;J<z.childCount;J++){let ee=z.child(J),te=G+ee.nodeSize,ae=A.matchType(ee.type);if(!ae)U.push(new ReplaceStep(G,te,Slice.empty));else{A=ae;for(let oe=0;oe<ee.marks.length;oe++)T.allowsMarkType(ee.marks[oe].type)||R.step(new RemoveMarkStep(G,te,ee.marks[oe]));if(O&&ee.isText&&T.whitespace!="pre"){let oe,pe=/\r?\n|\r/g,fe;for(;oe=pe.exec(ee.text);)fe||(fe=new Slice(Fragment.from(T.schema.text(" ",T.allowedMarks(ee.marks))),0,0)),U.push(new ReplaceStep(G+oe.index,G+oe.index+oe[0].length,fe))}}G=te}if(!A.validEnd){let J=A.fillBefore(Fragment.empty,!0);R.replace(G,G,new Slice(J,0,0))}for(let J=U.length-1;J>=0;J--)R.step(U[J])}function canCut(R,y,T){return(y==0||R.canReplace(y,R.childCount))&&(T==R.childCount||R.canReplace(0,T))}function liftTarget(R){let T=R.parent.content.cutByIndex(R.startIndex,R.endIndex);for(let A=R.depth,O=0,z=0;;--A){let U=R.$from.node(A),G=R.$from.index(A)+O,J=R.$to.indexAfter(A)-z;if(A<R.depth&&U.canReplace(G,J,T))return A;if(A==0||U.type.spec.isolating||!canCut(U,G,J))break;G&&(O=1),J<U.childCount&&(z=1)}return null}function lift$2(R,y,T){let{$from:A,$to:O,depth:z}=y,U=A.before(z+1),G=O.after(z+1),J=U,ee=G,te=Fragment.empty,ae=0;for(let fe=z,xe=!1;fe>T;fe--)xe||A.index(fe)>0?(xe=!0,te=Fragment.from(A.node(fe).copy(te)),ae++):J--;let oe=Fragment.empty,pe=0;for(let fe=z,xe=!1;fe>T;fe--)xe||O.after(fe+1)<O.end(fe)?(xe=!0,oe=Fragment.from(O.node(fe).copy(oe)),pe++):ee++;R.step(new ReplaceAroundStep(J,ee,U,G,new Slice(te.append(oe),ae,pe),te.size-ae,!0))}function findWrapping(R,y,T=null,A=R){let O=findWrappingOutside(R,y),z=O&&findWrappingInside(A,y);return z?O.map(withAttrs).concat({type:y,attrs:T}).concat(z.map(withAttrs)):null}function withAttrs(R){return{type:R,attrs:null}}function findWrappingOutside(R,y){let{parent:T,startIndex:A,endIndex:O}=R,z=T.contentMatchAt(A).findWrapping(y);if(!z)return null;let U=z.length?z[0]:y;return T.canReplaceWith(A,O,U)?z:null}function findWrappingInside(R,y){let{parent:T,startIndex:A,endIndex:O}=R,z=T.child(A),U=y.contentMatch.findWrapping(z.type);if(!U)return null;let J=(U.length?U[U.length-1]:y).contentMatch;for(let ee=A;J&&ee<O;ee++)J=J.matchType(T.child(ee).type);return!J||!J.validEnd?null:U}function wrap(R,y,T){let A=Fragment.empty;for(let U=T.length-1;U>=0;U--){if(A.size){let G=T[U].type.contentMatch.matchFragment(A);if(!G||!G.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}A=Fragment.from(T[U].type.create(T[U].attrs,A))}let O=y.start,z=y.end;R.step(new ReplaceAroundStep(O,z,O,z,new Slice(A,0,0),T.length,!0))}function setBlockType$1(R,y,T,A,O){if(!A.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let z=R.steps.length;R.doc.nodesBetween(y,T,(U,G)=>{let J=typeof O=="function"?O(U):O;if(U.isTextblock&&!U.hasMarkup(A,J)&&canChangeType(R.doc,R.mapping.slice(z).map(G),A)){let ee=null;if(A.schema.linebreakReplacement){let pe=A.whitespace=="pre",fe=!!A.contentMatch.matchType(A.schema.linebreakReplacement);pe&&!fe?ee=!1:!pe&&fe&&(ee=!0)}ee===!1&&replaceLinebreaks(R,U,G,z),clearIncompatible(R,R.mapping.slice(z).map(G,1),A,void 0,ee===null);let te=R.mapping.slice(z),ae=te.map(G,1),oe=te.map(G+U.nodeSize,1);return R.step(new ReplaceAroundStep(ae,oe,ae+1,oe-1,new Slice(Fragment.from(A.create(J,null,U.marks)),0,0),1,!0)),ee===!0&&replaceNewlines(R,U,G,z),!1}})}function replaceNewlines(R,y,T,A){y.forEach((O,z)=>{if(O.isText){let U,G=/\r?\n|\r/g;for(;U=G.exec(O.text);){let J=R.mapping.slice(A).map(T+1+z+U.index);R.replaceWith(J,J+1,y.type.schema.linebreakReplacement.create())}}})}function replaceLinebreaks(R,y,T,A){y.forEach((O,z)=>{if(O.type==O.type.schema.linebreakReplacement){let U=R.mapping.slice(A).map(T+1+z);R.replaceWith(U,U+1,y.type.schema.text(`
`))}})}function canChangeType(R,y,T){let A=R.resolve(y),O=A.index();return A.parent.canReplaceWith(O,O+1,T)}function setNodeMarkup(R,y,T,A,O){let z=R.doc.nodeAt(y);if(!z)throw new RangeError("No node at given position");T||(T=z.type);let U=T.create(A,null,O||z.marks);if(z.isLeaf)return R.replaceWith(y,y+z.nodeSize,U);if(!T.validContent(z.content))throw new RangeError("Invalid content for node type "+T.name);R.step(new ReplaceAroundStep(y,y+z.nodeSize,y+1,y+z.nodeSize-1,new Slice(Fragment.from(U),0,0),1,!0))}function canSplit(R,y,T=1,A){let O=R.resolve(y),z=O.depth-T,U=A&&A[A.length-1]||O.parent;if(z<0||O.parent.type.spec.isolating||!O.parent.canReplace(O.index(),O.parent.childCount)||!U.type.validContent(O.parent.content.cutByIndex(O.index(),O.parent.childCount)))return!1;for(let ee=O.depth-1,te=T-2;ee>z;ee--,te--){let ae=O.node(ee),oe=O.index(ee);if(ae.type.spec.isolating)return!1;let pe=ae.content.cutByIndex(oe,ae.childCount),fe=A&&A[te+1];fe&&(pe=pe.replaceChild(0,fe.type.create(fe.attrs)));let xe=A&&A[te]||ae;if(!ae.canReplace(oe+1,ae.childCount)||!xe.type.validContent(pe))return!1}let G=O.indexAfter(z),J=A&&A[0];return O.node(z).canReplaceWith(G,G,J?J.type:O.node(z+1).type)}function split(R,y,T=1,A){let O=R.doc.resolve(y),z=Fragment.empty,U=Fragment.empty;for(let G=O.depth,J=O.depth-T,ee=T-1;G>J;G--,ee--){z=Fragment.from(O.node(G).copy(z));let te=A&&A[ee];U=Fragment.from(te?te.type.create(te.attrs,U):O.node(G).copy(U))}R.step(new ReplaceStep(y,y,new Slice(z.append(U),T,T),!0))}function canJoin(R,y){let T=R.resolve(y),A=T.index();return joinable(T.nodeBefore,T.nodeAfter)&&T.parent.canReplace(A,A+1)}function canAppendWithSubstitutedLinebreaks(R,y){y.content.size||R.type.compatibleContent(y.type);let T=R.contentMatchAt(R.childCount),{linebreakReplacement:A}=R.type.schema;for(let O=0;O<y.childCount;O++){let z=y.child(O),U=z.type==A?R.type.schema.nodes.text:z.type;if(T=T.matchType(U),!T||!R.type.allowsMarks(z.marks))return!1}return T.validEnd}function joinable(R,y){return!!(R&&y&&!R.isLeaf&&canAppendWithSubstitutedLinebreaks(R,y))}function joinPoint(R,y,T=-1){let A=R.resolve(y);for(let O=A.depth;;O--){let z,U,G=A.index(O);if(O==A.depth?(z=A.nodeBefore,U=A.nodeAfter):T>0?(z=A.node(O+1),G++,U=A.node(O).maybeChild(G)):(z=A.node(O).maybeChild(G-1),U=A.node(O+1)),z&&!z.isTextblock&&joinable(z,U)&&A.node(O).canReplace(G,G+1))return y;if(O==0)break;y=T<0?A.before(O):A.after(O)}}function join(R,y,T){let A=null,{linebreakReplacement:O}=R.doc.type.schema,z=R.doc.resolve(y-T),U=z.node().type;if(O&&U.inlineContent){let te=U.whitespace=="pre",ae=!!U.contentMatch.matchType(O);te&&!ae?A=!1:!te&&ae&&(A=!0)}let G=R.steps.length;if(A===!1){let te=R.doc.resolve(y+T);replaceLinebreaks(R,te.node(),te.before(),G)}U.inlineContent&&clearIncompatible(R,y+T-1,U,z.node().contentMatchAt(z.index()),A==null);let J=R.mapping.slice(G),ee=J.map(y-T);if(R.step(new ReplaceStep(ee,J.map(y+T,-1),Slice.empty,!0)),A===!0){let te=R.doc.resolve(ee);replaceNewlines(R,te.node(),te.before(),R.steps.length)}return R}function insertPoint(R,y,T){let A=R.resolve(y);if(A.parent.canReplaceWith(A.index(),A.index(),T))return y;if(A.parentOffset==0)for(let O=A.depth-1;O>=0;O--){let z=A.index(O);if(A.node(O).canReplaceWith(z,z,T))return A.before(O+1);if(z>0)return null}if(A.parentOffset==A.parent.content.size)for(let O=A.depth-1;O>=0;O--){let z=A.indexAfter(O);if(A.node(O).canReplaceWith(z,z,T))return A.after(O+1);if(z<A.node(O).childCount)return null}return null}function dropPoint(R,y,T){let A=R.resolve(y);if(!T.content.size)return y;let O=T.content;for(let z=0;z<T.openStart;z++)O=O.firstChild.content;for(let z=1;z<=(T.openStart==0&&T.size?2:1);z++)for(let U=A.depth;U>=0;U--){let G=U==A.depth?0:A.pos<=(A.start(U+1)+A.end(U+1))/2?-1:1,J=A.index(U)+(G>0?1:0),ee=A.node(U),te=!1;if(z==1)te=ee.canReplace(J,J,O);else{let ae=ee.contentMatchAt(J).findWrapping(O.firstChild.type);te=ae&&ee.canReplaceWith(J,J,ae[0])}if(te)return G==0?A.pos:G<0?A.before(U+1):A.after(U+1)}return null}function replaceStep(R,y,T=y,A=Slice.empty){if(y==T&&!A.size)return null;let O=R.resolve(y),z=R.resolve(T);return fitsTrivially(O,z,A)?new ReplaceStep(y,T,A):new Fitter(O,z,A).fit()}function fitsTrivially(R,y,T){return!T.openStart&&!T.openEnd&&R.start()==y.start()&&R.parent.canReplace(R.index(),y.index(),T.content)}class Fitter{constructor(y,T,A){this.$from=y,this.$to=T,this.unplaced=A,this.frontier=[],this.placed=Fragment.empty;for(let O=0;O<=y.depth;O++){let z=y.node(O);this.frontier.push({type:z.type,match:z.contentMatchAt(y.indexAfter(O))})}for(let O=y.depth;O>0;O--)this.placed=Fragment.from(y.node(O).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let ee=this.findFittable();ee?this.placeNodes(ee):this.openMore()||this.dropNode()}let y=this.mustMoveInline(),T=this.placed.size-this.depth-this.$from.depth,A=this.$from,O=this.close(y<0?this.$to:A.doc.resolve(y));if(!O)return null;let z=this.placed,U=A.depth,G=O.depth;for(;U&&G&&z.childCount==1;)z=z.firstChild.content,U--,G--;let J=new Slice(z,U,G);return y>-1?new ReplaceAroundStep(A.pos,y,this.$to.pos,this.$to.end(),J,T):J.size||A.pos!=this.$to.pos?new ReplaceStep(A.pos,O.pos,J):null}findFittable(){let y=this.unplaced.openStart;for(let T=this.unplaced.content,A=0,O=this.unplaced.openEnd;A<y;A++){let z=T.firstChild;if(T.childCount>1&&(O=0),z.type.spec.isolating&&O<=A){y=A;break}T=z.content}for(let T=1;T<=2;T++)for(let A=T==1?y:this.unplaced.openStart;A>=0;A--){let O,z=null;A?(z=contentAt(this.unplaced.content,A-1).firstChild,O=z.content):O=this.unplaced.content;let U=O.firstChild;for(let G=this.depth;G>=0;G--){let{type:J,match:ee}=this.frontier[G],te,ae=null;if(T==1&&(U?ee.matchType(U.type)||(ae=ee.fillBefore(Fragment.from(U),!1)):z&&J.compatibleContent(z.type)))return{sliceDepth:A,frontierDepth:G,parent:z,inject:ae};if(T==2&&U&&(te=ee.findWrapping(U.type)))return{sliceDepth:A,frontierDepth:G,parent:z,wrap:te};if(z&&ee.matchType(z.type))break}}}openMore(){let{content:y,openStart:T,openEnd:A}=this.unplaced,O=contentAt(y,T);return!O.childCount||O.firstChild.isLeaf?!1:(this.unplaced=new Slice(y,T+1,Math.max(A,O.size+T>=y.size-A?T+1:0)),!0)}dropNode(){let{content:y,openStart:T,openEnd:A}=this.unplaced,O=contentAt(y,T);if(O.childCount<=1&&T>0){let z=y.size-T<=T+O.size;this.unplaced=new Slice(dropFromFragment(y,T-1,1),T-1,z?T-1:A)}else this.unplaced=new Slice(dropFromFragment(y,T,1),T,A)}placeNodes({sliceDepth:y,frontierDepth:T,parent:A,inject:O,wrap:z}){for(;this.depth>T;)this.closeFrontierNode();if(z)for(let xe=0;xe<z.length;xe++)this.openFrontierNode(z[xe]);let U=this.unplaced,G=A?A.content:U.content,J=U.openStart-y,ee=0,te=[],{match:ae,type:oe}=this.frontier[T];if(O){for(let xe=0;xe<O.childCount;xe++)te.push(O.child(xe));ae=ae.matchFragment(O)}let pe=G.size+y-(U.content.size-U.openEnd);for(;ee<G.childCount;){let xe=G.child(ee),ye=ae.matchType(xe.type);if(!ye)break;ee++,(ee>1||J==0||xe.content.size)&&(ae=ye,te.push(closeNodeStart(xe.mark(oe.allowedMarks(xe.marks)),ee==1?J:0,ee==G.childCount?pe:-1)))}let fe=ee==G.childCount;fe||(pe=-1),this.placed=addToFragment(this.placed,T,Fragment.from(te)),this.frontier[T].match=ae,fe&&pe<0&&A&&A.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let xe=0,ye=G;xe<pe;xe++){let _e=ye.lastChild;this.frontier.push({type:_e.type,match:_e.contentMatchAt(_e.childCount)}),ye=_e.content}this.unplaced=fe?y==0?Slice.empty:new Slice(dropFromFragment(U.content,y-1,1),y-1,pe<0?U.openEnd:y-1):new Slice(dropFromFragment(U.content,y,ee),U.openStart,U.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let y=this.frontier[this.depth],T;if(!y.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,y.type,y.match,!1)||this.$to.depth==this.depth&&(T=this.findCloseLevel(this.$to))&&T.depth==this.depth)return-1;let{depth:A}=this.$to,O=this.$to.after(A);for(;A>1&&O==this.$to.end(--A);)++O;return O}findCloseLevel(y){e:for(let T=Math.min(this.depth,y.depth);T>=0;T--){let{match:A,type:O}=this.frontier[T],z=T<y.depth&&y.end(T+1)==y.pos+(y.depth-(T+1)),U=contentAfterFits(y,T,O,A,z);if(U){for(let G=T-1;G>=0;G--){let{match:J,type:ee}=this.frontier[G],te=contentAfterFits(y,G,ee,J,!0);if(!te||te.childCount)continue e}return{depth:T,fit:U,move:z?y.doc.resolve(y.after(T+1)):y}}}}close(y){let T=this.findCloseLevel(y);if(!T)return null;for(;this.depth>T.depth;)this.closeFrontierNode();T.fit.childCount&&(this.placed=addToFragment(this.placed,T.depth,T.fit)),y=T.move;for(let A=T.depth+1;A<=y.depth;A++){let O=y.node(A),z=O.type.contentMatch.fillBefore(O.content,!0,y.index(A));this.openFrontierNode(O.type,O.attrs,z)}return y}openFrontierNode(y,T=null,A){let O=this.frontier[this.depth];O.match=O.match.matchType(y),this.placed=addToFragment(this.placed,this.depth,Fragment.from(y.create(T,A))),this.frontier.push({type:y,match:y.contentMatch})}closeFrontierNode(){let T=this.frontier.pop().match.fillBefore(Fragment.empty,!0);T.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,T))}}function dropFromFragment(R,y,T){return y==0?R.cutByIndex(T,R.childCount):R.replaceChild(0,R.firstChild.copy(dropFromFragment(R.firstChild.content,y-1,T)))}function addToFragment(R,y,T){return y==0?R.append(T):R.replaceChild(R.childCount-1,R.lastChild.copy(addToFragment(R.lastChild.content,y-1,T)))}function contentAt(R,y){for(let T=0;T<y;T++)R=R.firstChild.content;return R}function closeNodeStart(R,y,T){if(y<=0)return R;let A=R.content;return y>1&&(A=A.replaceChild(0,closeNodeStart(A.firstChild,y-1,A.childCount==1?T-1:0))),y>0&&(A=R.type.contentMatch.fillBefore(A).append(A),T<=0&&(A=A.append(R.type.contentMatch.matchFragment(A).fillBefore(Fragment.empty,!0)))),R.copy(A)}function contentAfterFits(R,y,T,A,O){let z=R.node(y),U=O?R.indexAfter(y):R.index(y);if(U==z.childCount&&!T.compatibleContent(z.type))return null;let G=A.fillBefore(z.content,!0,U);return G&&!invalidMarks(T,z.content,U)?G:null}function invalidMarks(R,y,T){for(let A=T;A<y.childCount;A++)if(!R.allowsMarks(y.child(A).marks))return!0;return!1}function definesContent(R){return R.spec.defining||R.spec.definingForContent}function replaceRange(R,y,T,A){if(!A.size)return R.deleteRange(y,T);let O=R.doc.resolve(y),z=R.doc.resolve(T);if(fitsTrivially(O,z,A))return R.step(new ReplaceStep(y,T,A));let U=coveredDepths(O,z);U[U.length-1]==0&&U.pop();let G=-(O.depth+1);U.unshift(G);for(let oe=O.depth,pe=O.pos-1;oe>0;oe--,pe--){let fe=O.node(oe).type.spec;if(fe.defining||fe.definingAsContext||fe.isolating)break;U.indexOf(oe)>-1?G=oe:O.before(oe)==pe&&U.splice(1,0,-oe)}let J=U.indexOf(G),ee=[],te=A.openStart;for(let oe=A.content,pe=0;;pe++){let fe=oe.firstChild;if(ee.push(fe),pe==A.openStart)break;oe=fe.content}for(let oe=te-1;oe>=0;oe--){let pe=ee[oe],fe=definesContent(pe.type);if(fe&&!pe.sameMarkup(O.node(Math.abs(G)-1)))te=oe;else if(fe||!pe.type.isTextblock)break}for(let oe=A.openStart;oe>=0;oe--){let pe=(oe+te+1)%(A.openStart+1),fe=ee[pe];if(fe)for(let xe=0;xe<U.length;xe++){let ye=U[(xe+J)%U.length],_e=!0;ye<0&&(_e=!1,ye=-ye);let Le=O.node(ye-1),je=O.index(ye-1);if(Le.canReplaceWith(je,je,fe.type,fe.marks))return R.replace(O.before(ye),_e?z.after(ye):T,new Slice(closeFragment(A.content,0,A.openStart,pe),pe,A.openEnd))}}let ae=R.steps.length;for(let oe=U.length-1;oe>=0&&(R.replace(y,T,A),!(R.steps.length>ae));oe--){let pe=U[oe];pe<0||(y=O.before(pe),T=z.after(pe))}}function closeFragment(R,y,T,A,O){if(y<T){let z=R.firstChild;R=R.replaceChild(0,z.copy(closeFragment(z.content,y+1,T,A,z)))}if(y>A){let z=O.contentMatchAt(0),U=z.fillBefore(R).append(R);R=U.append(z.matchFragment(U).fillBefore(Fragment.empty,!0))}return R}function replaceRangeWith(R,y,T,A){if(!A.isInline&&y==T&&R.doc.resolve(y).parent.content.size){let O=insertPoint(R.doc,y,A.type);O!=null&&(y=T=O)}R.replaceRange(y,T,new Slice(Fragment.from(A),0,0))}function deleteRange$1(R,y,T){let A=R.doc.resolve(y),O=R.doc.resolve(T),z=coveredDepths(A,O);for(let U=0;U<z.length;U++){let G=z[U],J=U==z.length-1;if(J&&G==0||A.node(G).type.contentMatch.validEnd)return R.delete(A.start(G),O.end(G));if(G>0&&(J||A.node(G-1).canReplace(A.index(G-1),O.indexAfter(G-1))))return R.delete(A.before(G),O.after(G))}for(let U=1;U<=A.depth&&U<=O.depth;U++)if(y-A.start(U)==A.depth-U&&T>A.end(U)&&O.end(U)-T!=O.depth-U&&A.start(U-1)==O.start(U-1)&&A.node(U-1).canReplace(A.index(U-1),O.index(U-1)))return R.delete(A.before(U),T);R.delete(y,T)}function coveredDepths(R,y){let T=[],A=Math.min(R.depth,y.depth);for(let O=A;O>=0;O--){let z=R.start(O);if(z<R.pos-(R.depth-O)||y.end(O)>y.pos+(y.depth-O)||R.node(O).type.spec.isolating||y.node(O).type.spec.isolating)break;(z==y.start(O)||O==R.depth&&O==y.depth&&R.parent.inlineContent&&y.parent.inlineContent&&O&&y.start(O-1)==z-1)&&T.push(O)}return T}class AttrStep extends Step{constructor(y,T,A){super(),this.pos=y,this.attr=T,this.value=A}apply(y){let T=y.nodeAt(this.pos);if(!T)return StepResult.fail("No node at attribute step's position");let A=Object.create(null);for(let z in T.attrs)A[z]=T.attrs[z];A[this.attr]=this.value;let O=T.type.create(A,null,T.marks);return StepResult.fromReplace(y,this.pos,this.pos+1,new Slice(Fragment.from(O),0,T.isLeaf?0:1))}getMap(){return StepMap.empty}invert(y){return new AttrStep(this.pos,this.attr,y.nodeAt(this.pos).attrs[this.attr])}map(y){let T=y.mapResult(this.pos,1);return T.deletedAfter?null:new AttrStep(T.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(y,T){if(typeof T.pos!="number"||typeof T.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new AttrStep(T.pos,T.attr,T.value)}}Step.jsonID("attr",AttrStep);class DocAttrStep extends Step{constructor(y,T){super(),this.attr=y,this.value=T}apply(y){let T=Object.create(null);for(let O in y.attrs)T[O]=y.attrs[O];T[this.attr]=this.value;let A=y.type.create(T,y.content,y.marks);return StepResult.ok(A)}getMap(){return StepMap.empty}invert(y){return new DocAttrStep(this.attr,y.attrs[this.attr])}map(y){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(y,T){if(typeof T.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new DocAttrStep(T.attr,T.value)}}Step.jsonID("docAttr",DocAttrStep);let TransformError=class extends Error{};TransformError=function R(y){let T=Error.call(this,y);return T.__proto__=R.prototype,T};TransformError.prototype=Object.create(Error.prototype);TransformError.prototype.constructor=TransformError;TransformError.prototype.name="TransformError";class Transform{constructor(y){this.doc=y,this.steps=[],this.docs=[],this.mapping=new Mapping}get before(){return this.docs.length?this.docs[0]:this.doc}step(y){let T=this.maybeStep(y);if(T.failed)throw new TransformError(T.failed);return this}maybeStep(y){let T=y.apply(this.doc);return T.failed||this.addStep(y,T.doc),T}get docChanged(){return this.steps.length>0}addStep(y,T){this.docs.push(this.doc),this.steps.push(y),this.mapping.appendMap(y.getMap()),this.doc=T}replace(y,T=y,A=Slice.empty){let O=replaceStep(this.doc,y,T,A);return O&&this.step(O),this}replaceWith(y,T,A){return this.replace(y,T,new Slice(Fragment.from(A),0,0))}delete(y,T){return this.replace(y,T,Slice.empty)}insert(y,T){return this.replaceWith(y,y,T)}replaceRange(y,T,A){return replaceRange(this,y,T,A),this}replaceRangeWith(y,T,A){return replaceRangeWith(this,y,T,A),this}deleteRange(y,T){return deleteRange$1(this,y,T),this}lift(y,T){return lift$2(this,y,T),this}join(y,T=1){return join(this,y,T),this}wrap(y,T){return wrap(this,y,T),this}setBlockType(y,T=y,A,O=null){return setBlockType$1(this,y,T,A,O),this}setNodeMarkup(y,T,A=null,O){return setNodeMarkup(this,y,T,A,O),this}setNodeAttribute(y,T,A){return this.step(new AttrStep(y,T,A)),this}setDocAttribute(y,T){return this.step(new DocAttrStep(y,T)),this}addNodeMark(y,T){return this.step(new AddNodeMarkStep(y,T)),this}removeNodeMark(y,T){let A=this.doc.nodeAt(y);if(!A)throw new RangeError("No node at position "+y);if(T instanceof Mark$1)T.isInSet(A.marks)&&this.step(new RemoveNodeMarkStep(y,T));else{let O=A.marks,z,U=[];for(;z=T.isInSet(O);)U.push(new RemoveNodeMarkStep(y,z)),O=z.removeFromSet(O);for(let G=U.length-1;G>=0;G--)this.step(U[G])}return this}split(y,T=1,A){return split(this,y,T,A),this}addMark(y,T,A){return addMark(this,y,T,A),this}removeMark(y,T,A){return removeMark(this,y,T,A),this}clearIncompatible(y,T,A){return clearIncompatible(this,y,T,A),this}}const classesById=Object.create(null);class Selection{constructor(y,T,A){this.$anchor=y,this.$head=T,this.ranges=A||[new SelectionRange(y.min(T),y.max(T))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let y=this.ranges;for(let T=0;T<y.length;T++)if(y[T].$from.pos!=y[T].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(y,T=Slice.empty){let A=T.content.lastChild,O=null;for(let G=0;G<T.openEnd;G++)O=A,A=A.lastChild;let z=y.steps.length,U=this.ranges;for(let G=0;G<U.length;G++){let{$from:J,$to:ee}=U[G],te=y.mapping.slice(z);y.replaceRange(te.map(J.pos),te.map(ee.pos),G?Slice.empty:T),G==0&&selectionToInsertionEnd$1(y,z,(A?A.isInline:O&&O.isTextblock)?-1:1)}}replaceWith(y,T){let A=y.steps.length,O=this.ranges;for(let z=0;z<O.length;z++){let{$from:U,$to:G}=O[z],J=y.mapping.slice(A),ee=J.map(U.pos),te=J.map(G.pos);z?y.deleteRange(ee,te):(y.replaceRangeWith(ee,te,T),selectionToInsertionEnd$1(y,A,T.isInline?-1:1))}}static findFrom(y,T,A=!1){let O=y.parent.inlineContent?new TextSelection(y):findSelectionIn(y.node(0),y.parent,y.pos,y.index(),T,A);if(O)return O;for(let z=y.depth-1;z>=0;z--){let U=T<0?findSelectionIn(y.node(0),y.node(z),y.before(z+1),y.index(z),T,A):findSelectionIn(y.node(0),y.node(z),y.after(z+1),y.index(z)+1,T,A);if(U)return U}return null}static near(y,T=1){return this.findFrom(y,T)||this.findFrom(y,-T)||new AllSelection(y.node(0))}static atStart(y){return findSelectionIn(y,y,0,0,1)||new AllSelection(y)}static atEnd(y){return findSelectionIn(y,y,y.content.size,y.childCount,-1)||new AllSelection(y)}static fromJSON(y,T){if(!T||!T.type)throw new RangeError("Invalid input for Selection.fromJSON");let A=classesById[T.type];if(!A)throw new RangeError(`No selection type ${T.type} defined`);return A.fromJSON(y,T)}static jsonID(y,T){if(y in classesById)throw new RangeError("Duplicate use of selection JSON ID "+y);return classesById[y]=T,T.prototype.jsonID=y,T}getBookmark(){return TextSelection.between(this.$anchor,this.$head).getBookmark()}}Selection.prototype.visible=!0;class SelectionRange{constructor(y,T){this.$from=y,this.$to=T}}let warnedAboutTextSelection=!1;function checkTextSelection(R){!warnedAboutTextSelection&&!R.parent.inlineContent&&(warnedAboutTextSelection=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+R.parent.type.name+")"))}class TextSelection extends Selection{constructor(y,T=y){checkTextSelection(y),checkTextSelection(T),super(y,T)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(y,T){let A=y.resolve(T.map(this.head));if(!A.parent.inlineContent)return Selection.near(A);let O=y.resolve(T.map(this.anchor));return new TextSelection(O.parent.inlineContent?O:A,A)}replace(y,T=Slice.empty){if(super.replace(y,T),T==Slice.empty){let A=this.$from.marksAcross(this.$to);A&&y.ensureMarks(A)}}eq(y){return y instanceof TextSelection&&y.anchor==this.anchor&&y.head==this.head}getBookmark(){return new TextBookmark(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(y,T){if(typeof T.anchor!="number"||typeof T.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new TextSelection(y.resolve(T.anchor),y.resolve(T.head))}static create(y,T,A=T){let O=y.resolve(T);return new this(O,A==T?O:y.resolve(A))}static between(y,T,A){let O=y.pos-T.pos;if((!A||O)&&(A=O>=0?1:-1),!T.parent.inlineContent){let z=Selection.findFrom(T,A,!0)||Selection.findFrom(T,-A,!0);if(z)T=z.$head;else return Selection.near(T,A)}return y.parent.inlineContent||(O==0?y=T:(y=(Selection.findFrom(y,-A,!0)||Selection.findFrom(y,A,!0)).$anchor,y.pos<T.pos!=O<0&&(y=T))),new TextSelection(y,T)}}Selection.jsonID("text",TextSelection);class TextBookmark{constructor(y,T){this.anchor=y,this.head=T}map(y){return new TextBookmark(y.map(this.anchor),y.map(this.head))}resolve(y){return TextSelection.between(y.resolve(this.anchor),y.resolve(this.head))}}class NodeSelection extends Selection{constructor(y){let T=y.nodeAfter,A=y.node(0).resolve(y.pos+T.nodeSize);super(y,A),this.node=T}map(y,T){let{deleted:A,pos:O}=T.mapResult(this.anchor),z=y.resolve(O);return A?Selection.near(z):new NodeSelection(z)}content(){return new Slice(Fragment.from(this.node),0,0)}eq(y){return y instanceof NodeSelection&&y.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new NodeBookmark(this.anchor)}static fromJSON(y,T){if(typeof T.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new NodeSelection(y.resolve(T.anchor))}static create(y,T){return new NodeSelection(y.resolve(T))}static isSelectable(y){return!y.isText&&y.type.spec.selectable!==!1}}NodeSelection.prototype.visible=!1;Selection.jsonID("node",NodeSelection);class NodeBookmark{constructor(y){this.anchor=y}map(y){let{deleted:T,pos:A}=y.mapResult(this.anchor);return T?new TextBookmark(A,A):new NodeBookmark(A)}resolve(y){let T=y.resolve(this.anchor),A=T.nodeAfter;return A&&NodeSelection.isSelectable(A)?new NodeSelection(T):Selection.near(T)}}class AllSelection extends Selection{constructor(y){super(y.resolve(0),y.resolve(y.content.size))}replace(y,T=Slice.empty){if(T==Slice.empty){y.delete(0,y.doc.content.size);let A=Selection.atStart(y.doc);A.eq(y.selection)||y.setSelection(A)}else super.replace(y,T)}toJSON(){return{type:"all"}}static fromJSON(y){return new AllSelection(y)}map(y){return new AllSelection(y)}eq(y){return y instanceof AllSelection}getBookmark(){return AllBookmark}}Selection.jsonID("all",AllSelection);const AllBookmark={map(){return this},resolve(R){return new AllSelection(R)}};function findSelectionIn(R,y,T,A,O,z=!1){if(y.inlineContent)return TextSelection.create(R,T);for(let U=A-(O>0?0:1);O>0?U<y.childCount:U>=0;U+=O){let G=y.child(U);if(G.isAtom){if(!z&&NodeSelection.isSelectable(G))return NodeSelection.create(R,T-(O<0?G.nodeSize:0))}else{let J=findSelectionIn(R,G,T+O,O<0?G.childCount:0,O,z);if(J)return J}T+=G.nodeSize*O}return null}function selectionToInsertionEnd$1(R,y,T){let A=R.steps.length-1;if(A<y)return;let O=R.steps[A];if(!(O instanceof ReplaceStep||O instanceof ReplaceAroundStep))return;let z=R.mapping.maps[A],U;z.forEach((G,J,ee,te)=>{U==null&&(U=te)}),R.setSelection(Selection.near(R.doc.resolve(U),T))}const UPDATED_SEL=1,UPDATED_MARKS=2,UPDATED_SCROLL=4;class Transaction extends Transform{constructor(y){super(y.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=y.selection,this.storedMarks=y.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(y){if(y.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=y,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UPDATED_SEL)&~UPDATED_MARKS,this.storedMarks=null,this}get selectionSet(){return(this.updated&UPDATED_SEL)>0}setStoredMarks(y){return this.storedMarks=y,this.updated|=UPDATED_MARKS,this}ensureMarks(y){return Mark$1.sameSet(this.storedMarks||this.selection.$from.marks(),y)||this.setStoredMarks(y),this}addStoredMark(y){return this.ensureMarks(y.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(y){return this.ensureMarks(y.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&UPDATED_MARKS)>0}addStep(y,T){super.addStep(y,T),this.updated=this.updated&~UPDATED_MARKS,this.storedMarks=null}setTime(y){return this.time=y,this}replaceSelection(y){return this.selection.replace(this,y),this}replaceSelectionWith(y,T=!0){let A=this.selection;return T&&(y=y.mark(this.storedMarks||(A.empty?A.$from.marks():A.$from.marksAcross(A.$to)||Mark$1.none))),A.replaceWith(this,y),this}deleteSelection(){return this.selection.replace(this),this}insertText(y,T,A){let O=this.doc.type.schema;if(T==null)return y?this.replaceSelectionWith(O.text(y),!0):this.deleteSelection();{if(A==null&&(A=T),!y)return this.deleteRange(T,A);let z=this.storedMarks;if(!z){let U=this.doc.resolve(T);z=A==T?U.marks():U.marksAcross(this.doc.resolve(A))}return this.replaceRangeWith(T,A,O.text(y,z)),!this.selection.empty&&this.selection.to==T+y.length&&this.setSelection(Selection.near(this.selection.$to)),this}}setMeta(y,T){return this.meta[typeof y=="string"?y:y.key]=T,this}getMeta(y){return this.meta[typeof y=="string"?y:y.key]}get isGeneric(){for(let y in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=UPDATED_SCROLL,this}get scrolledIntoView(){return(this.updated&UPDATED_SCROLL)>0}}function bind(R,y){return!y||!R?R:R.bind(y)}class FieldDesc{constructor(y,T,A){this.name=y,this.init=bind(T.init,A),this.apply=bind(T.apply,A)}}const baseFields=[new FieldDesc("doc",{init(R){return R.doc||R.schema.topNodeType.createAndFill()},apply(R){return R.doc}}),new FieldDesc("selection",{init(R,y){return R.selection||Selection.atStart(y.doc)},apply(R){return R.selection}}),new FieldDesc("storedMarks",{init(R){return R.storedMarks||null},apply(R,y,T,A){return A.selection.$cursor?R.storedMarks:null}}),new FieldDesc("scrollToSelection",{init(){return 0},apply(R,y){return R.scrolledIntoView?y+1:y}})];class Configuration{constructor(y,T){this.schema=y,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=baseFields.slice(),T&&T.forEach(A=>{if(this.pluginsByKey[A.key])throw new RangeError("Adding different instances of a keyed plugin ("+A.key+")");this.plugins.push(A),this.pluginsByKey[A.key]=A,A.spec.state&&this.fields.push(new FieldDesc(A.key,A.spec.state,A))})}}class EditorState{constructor(y){this.config=y}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(y){return this.applyTransaction(y).state}filterTransaction(y,T=-1){for(let A=0;A<this.config.plugins.length;A++)if(A!=T){let O=this.config.plugins[A];if(O.spec.filterTransaction&&!O.spec.filterTransaction.call(O,y,this))return!1}return!0}applyTransaction(y){if(!this.filterTransaction(y))return{state:this,transactions:[]};let T=[y],A=this.applyInner(y),O=null;for(;;){let z=!1;for(let U=0;U<this.config.plugins.length;U++){let G=this.config.plugins[U];if(G.spec.appendTransaction){let J=O?O[U].n:0,ee=O?O[U].state:this,te=J<T.length&&G.spec.appendTransaction.call(G,J?T.slice(J):T,ee,A);if(te&&A.filterTransaction(te,U)){if(te.setMeta("appendedTransaction",y),!O){O=[];for(let ae=0;ae<this.config.plugins.length;ae++)O.push(ae<U?{state:A,n:T.length}:{state:this,n:0})}T.push(te),A=A.applyInner(te),z=!0}O&&(O[U]={state:A,n:T.length})}}if(!z)return{state:A,transactions:T}}}applyInner(y){if(!y.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let T=new EditorState(this.config),A=this.config.fields;for(let O=0;O<A.length;O++){let z=A[O];T[z.name]=z.apply(y,this[z.name],this,T)}return T}get tr(){return new Transaction(this)}static create(y){let T=new Configuration(y.doc?y.doc.type.schema:y.schema,y.plugins),A=new EditorState(T);for(let O=0;O<T.fields.length;O++)A[T.fields[O].name]=T.fields[O].init(y,A);return A}reconfigure(y){let T=new Configuration(this.schema,y.plugins),A=T.fields,O=new EditorState(T);for(let z=0;z<A.length;z++){let U=A[z].name;O[U]=this.hasOwnProperty(U)?this[U]:A[z].init(y,O)}return O}toJSON(y){let T={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(T.storedMarks=this.storedMarks.map(A=>A.toJSON())),y&&typeof y=="object")for(let A in y){if(A=="doc"||A=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let O=y[A],z=O.spec.state;z&&z.toJSON&&(T[A]=z.toJSON.call(O,this[O.key]))}return T}static fromJSON(y,T,A){if(!T)throw new RangeError("Invalid input for EditorState.fromJSON");if(!y.schema)throw new RangeError("Required config field 'schema' missing");let O=new Configuration(y.schema,y.plugins),z=new EditorState(O);return O.fields.forEach(U=>{if(U.name=="doc")z.doc=Node.fromJSON(y.schema,T.doc);else if(U.name=="selection")z.selection=Selection.fromJSON(z.doc,T.selection);else if(U.name=="storedMarks")T.storedMarks&&(z.storedMarks=T.storedMarks.map(y.schema.markFromJSON));else{if(A)for(let G in A){let J=A[G],ee=J.spec.state;if(J.key==U.name&&ee&&ee.fromJSON&&Object.prototype.hasOwnProperty.call(T,G)){z[U.name]=ee.fromJSON.call(J,y,T[G],z);return}}z[U.name]=U.init(y,z)}}),z}}function bindProps(R,y,T){for(let A in R){let O=R[A];O instanceof Function?O=O.bind(y):A=="handleDOMEvents"&&(O=bindProps(O,y,{})),T[A]=O}return T}class Plugin{constructor(y){this.spec=y,this.props={},y.props&&bindProps(y.props,this,this.props),this.key=y.key?y.key.key:createKey("plugin")}getState(y){return y[this.key]}}const keys$1=Object.create(null);function createKey(R){return R in keys$1?R+"$"+ ++keys$1[R]:(keys$1[R]=0,R+"$")}class PluginKey{constructor(y="key"){this.key=createKey(y)}get(y){return y.config.pluginsByKey[this.key]}getState(y){return y[this.key]}}const deleteSelection$1=(R,y)=>R.selection.empty?!1:(y&&y(R.tr.deleteSelection().scrollIntoView()),!0);function atBlockStart(R,y){let{$cursor:T}=R.selection;return!T||(y?!y.endOfTextblock("backward",R):T.parentOffset>0)?null:T}const joinBackward$1=(R,y,T)=>{let A=atBlockStart(R,T);if(!A)return!1;let O=findCutBefore(A);if(!O){let U=A.blockRange(),G=U&&liftTarget(U);return G==null?!1:(y&&y(R.tr.lift(U,G).scrollIntoView()),!0)}let z=O.nodeBefore;if(deleteBarrier(R,O,y,-1))return!0;if(A.parent.content.size==0&&(textblockAt(z,"end")||NodeSelection.isSelectable(z)))for(let U=A.depth;;U--){let G=replaceStep(R.doc,A.before(U),A.after(U),Slice.empty);if(G&&G.slice.size<G.to-G.from){if(y){let J=R.tr.step(G);J.setSelection(textblockAt(z,"end")?Selection.findFrom(J.doc.resolve(J.mapping.map(O.pos,-1)),-1):NodeSelection.create(J.doc,O.pos-z.nodeSize)),y(J.scrollIntoView())}return!0}if(U==1||A.node(U-1).childCount>1)break}return z.isAtom&&O.depth==A.depth-1?(y&&y(R.tr.delete(O.pos-z.nodeSize,O.pos).scrollIntoView()),!0):!1},joinTextblockBackward$1=(R,y,T)=>{let A=atBlockStart(R,T);if(!A)return!1;let O=findCutBefore(A);return O?joinTextblocksAround(R,O,y):!1},joinTextblockForward$1=(R,y,T)=>{let A=atBlockEnd(R,T);if(!A)return!1;let O=findCutAfter(A);return O?joinTextblocksAround(R,O,y):!1};function joinTextblocksAround(R,y,T){let A=y.nodeBefore,O=A,z=y.pos-1;for(;!O.isTextblock;z--){if(O.type.spec.isolating)return!1;let te=O.lastChild;if(!te)return!1;O=te}let U=y.nodeAfter,G=U,J=y.pos+1;for(;!G.isTextblock;J++){if(G.type.spec.isolating)return!1;let te=G.firstChild;if(!te)return!1;G=te}let ee=replaceStep(R.doc,z,J,Slice.empty);if(!ee||ee.from!=z||ee instanceof ReplaceStep&&ee.slice.size>=J-z)return!1;if(T){let te=R.tr.step(ee);te.setSelection(TextSelection.create(te.doc,z)),T(te.scrollIntoView())}return!0}function textblockAt(R,y,T=!1){for(let A=R;A;A=y=="start"?A.firstChild:A.lastChild){if(A.isTextblock)return!0;if(T&&A.childCount!=1)return!1}return!1}const selectNodeBackward$1=(R,y,T)=>{let{$head:A,empty:O}=R.selection,z=A;if(!O)return!1;if(A.parent.isTextblock){if(T?!T.endOfTextblock("backward",R):A.parentOffset>0)return!1;z=findCutBefore(A)}let U=z&&z.nodeBefore;return!U||!NodeSelection.isSelectable(U)?!1:(y&&y(R.tr.setSelection(NodeSelection.create(R.doc,z.pos-U.nodeSize)).scrollIntoView()),!0)};function findCutBefore(R){if(!R.parent.type.spec.isolating)for(let y=R.depth-1;y>=0;y--){if(R.index(y)>0)return R.doc.resolve(R.before(y+1));if(R.node(y).type.spec.isolating)break}return null}function atBlockEnd(R,y){let{$cursor:T}=R.selection;return!T||(y?!y.endOfTextblock("forward",R):T.parentOffset<T.parent.content.size)?null:T}const joinForward$1=(R,y,T)=>{let A=atBlockEnd(R,T);if(!A)return!1;let O=findCutAfter(A);if(!O)return!1;let z=O.nodeAfter;if(deleteBarrier(R,O,y,1))return!0;if(A.parent.content.size==0&&(textblockAt(z,"start")||NodeSelection.isSelectable(z))){let U=replaceStep(R.doc,A.before(),A.after(),Slice.empty);if(U&&U.slice.size<U.to-U.from){if(y){let G=R.tr.step(U);G.setSelection(textblockAt(z,"start")?Selection.findFrom(G.doc.resolve(G.mapping.map(O.pos)),1):NodeSelection.create(G.doc,G.mapping.map(O.pos))),y(G.scrollIntoView())}return!0}}return z.isAtom&&O.depth==A.depth-1?(y&&y(R.tr.delete(O.pos,O.pos+z.nodeSize).scrollIntoView()),!0):!1},selectNodeForward$1=(R,y,T)=>{let{$head:A,empty:O}=R.selection,z=A;if(!O)return!1;if(A.parent.isTextblock){if(T?!T.endOfTextblock("forward",R):A.parentOffset<A.parent.content.size)return!1;z=findCutAfter(A)}let U=z&&z.nodeAfter;return!U||!NodeSelection.isSelectable(U)?!1:(y&&y(R.tr.setSelection(NodeSelection.create(R.doc,z.pos)).scrollIntoView()),!0)};function findCutAfter(R){if(!R.parent.type.spec.isolating)for(let y=R.depth-1;y>=0;y--){let T=R.node(y);if(R.index(y)+1<T.childCount)return R.doc.resolve(R.after(y+1));if(T.type.spec.isolating)break}return null}const joinUp$1=(R,y)=>{let T=R.selection,A=T instanceof NodeSelection,O;if(A){if(T.node.isTextblock||!canJoin(R.doc,T.from))return!1;O=T.from}else if(O=joinPoint(R.doc,T.from,-1),O==null)return!1;if(y){let z=R.tr.join(O);A&&z.setSelection(NodeSelection.create(z.doc,O-R.doc.resolve(O).nodeBefore.nodeSize)),y(z.scrollIntoView())}return!0},joinDown$1=(R,y)=>{let T=R.selection,A;if(T instanceof NodeSelection){if(T.node.isTextblock||!canJoin(R.doc,T.to))return!1;A=T.to}else if(A=joinPoint(R.doc,T.to,1),A==null)return!1;return y&&y(R.tr.join(A).scrollIntoView()),!0},lift$1=(R,y)=>{let{$from:T,$to:A}=R.selection,O=T.blockRange(A),z=O&&liftTarget(O);return z==null?!1:(y&&y(R.tr.lift(O,z).scrollIntoView()),!0)},newlineInCode$1=(R,y)=>{let{$head:T,$anchor:A}=R.selection;return!T.parent.type.spec.code||!T.sameParent(A)?!1:(y&&y(R.tr.insertText(`
`).scrollIntoView()),!0)};function defaultBlockAt$1(R){for(let y=0;y<R.edgeCount;y++){let{type:T}=R.edge(y);if(T.isTextblock&&!T.hasRequiredAttrs())return T}return null}const exitCode$1=(R,y)=>{let{$head:T,$anchor:A}=R.selection;if(!T.parent.type.spec.code||!T.sameParent(A))return!1;let O=T.node(-1),z=T.indexAfter(-1),U=defaultBlockAt$1(O.contentMatchAt(z));if(!U||!O.canReplaceWith(z,z,U))return!1;if(y){let G=T.after(),J=R.tr.replaceWith(G,G,U.createAndFill());J.setSelection(Selection.near(J.doc.resolve(G),1)),y(J.scrollIntoView())}return!0},createParagraphNear$1=(R,y)=>{let T=R.selection,{$from:A,$to:O}=T;if(T instanceof AllSelection||A.parent.inlineContent||O.parent.inlineContent)return!1;let z=defaultBlockAt$1(O.parent.contentMatchAt(O.indexAfter()));if(!z||!z.isTextblock)return!1;if(y){let U=(!A.parentOffset&&O.index()<O.parent.childCount?A:O).pos,G=R.tr.insert(U,z.createAndFill());G.setSelection(TextSelection.create(G.doc,U+1)),y(G.scrollIntoView())}return!0},liftEmptyBlock$1=(R,y)=>{let{$cursor:T}=R.selection;if(!T||T.parent.content.size)return!1;if(T.depth>1&&T.after()!=T.end(-1)){let z=T.before();if(canSplit(R.doc,z))return y&&y(R.tr.split(z).scrollIntoView()),!0}let A=T.blockRange(),O=A&&liftTarget(A);return O==null?!1:(y&&y(R.tr.lift(A,O).scrollIntoView()),!0)};function splitBlockAs(R){return(y,T)=>{let{$from:A,$to:O}=y.selection;if(y.selection instanceof NodeSelection&&y.selection.node.isBlock)return!A.parentOffset||!canSplit(y.doc,A.pos)?!1:(T&&T(y.tr.split(A.pos).scrollIntoView()),!0);if(!A.depth)return!1;let z=[],U,G,J=!1,ee=!1;for(let pe=A.depth;;pe--)if(A.node(pe).isBlock){J=A.end(pe)==A.pos+(A.depth-pe),ee=A.start(pe)==A.pos-(A.depth-pe),G=defaultBlockAt$1(A.node(pe-1).contentMatchAt(A.indexAfter(pe-1))),z.unshift(J&&G?{type:G}:null),U=pe;break}else{if(pe==1)return!1;z.unshift(null)}let te=y.tr;(y.selection instanceof TextSelection||y.selection instanceof AllSelection)&&te.deleteSelection();let ae=te.mapping.map(A.pos),oe=canSplit(te.doc,ae,z.length,z);if(oe||(z[0]=G?{type:G}:null,oe=canSplit(te.doc,ae,z.length,z)),!oe)return!1;if(te.split(ae,z.length,z),!J&&ee&&A.node(U).type!=G){let pe=te.mapping.map(A.before(U)),fe=te.doc.resolve(pe);G&&A.node(U-1).canReplaceWith(fe.index(),fe.index()+1,G)&&te.setNodeMarkup(te.mapping.map(A.before(U)),G)}return T&&T(te.scrollIntoView()),!0}}const splitBlock$1=splitBlockAs(),selectParentNode$1=(R,y)=>{let{$from:T,to:A}=R.selection,O,z=T.sharedDepth(A);return z==0?!1:(O=T.before(z),y&&y(R.tr.setSelection(NodeSelection.create(R.doc,O))),!0)};function joinMaybeClear(R,y,T){let A=y.nodeBefore,O=y.nodeAfter,z=y.index();return!A||!O||!A.type.compatibleContent(O.type)?!1:!A.content.size&&y.parent.canReplace(z-1,z)?(T&&T(R.tr.delete(y.pos-A.nodeSize,y.pos).scrollIntoView()),!0):!y.parent.canReplace(z,z+1)||!(O.isTextblock||canJoin(R.doc,y.pos))?!1:(T&&T(R.tr.join(y.pos).scrollIntoView()),!0)}function deleteBarrier(R,y,T,A){let O=y.nodeBefore,z=y.nodeAfter,U,G,J=O.type.spec.isolating||z.type.spec.isolating;if(!J&&joinMaybeClear(R,y,T))return!0;let ee=!J&&y.parent.canReplace(y.index(),y.index()+1);if(ee&&(U=(G=O.contentMatchAt(O.childCount)).findWrapping(z.type))&&G.matchType(U[0]||z.type).validEnd){if(T){let pe=y.pos+z.nodeSize,fe=Fragment.empty;for(let _e=U.length-1;_e>=0;_e--)fe=Fragment.from(U[_e].create(null,fe));fe=Fragment.from(O.copy(fe));let xe=R.tr.step(new ReplaceAroundStep(y.pos-1,pe,y.pos,pe,new Slice(fe,1,0),U.length,!0)),ye=xe.doc.resolve(pe+2*U.length);ye.nodeAfter&&ye.nodeAfter.type==O.type&&canJoin(xe.doc,ye.pos)&&xe.join(ye.pos),T(xe.scrollIntoView())}return!0}let te=z.type.spec.isolating||A>0&&J?null:Selection.findFrom(y,1),ae=te&&te.$from.blockRange(te.$to),oe=ae&&liftTarget(ae);if(oe!=null&&oe>=y.depth)return T&&T(R.tr.lift(ae,oe).scrollIntoView()),!0;if(ee&&textblockAt(z,"start",!0)&&textblockAt(O,"end")){let pe=O,fe=[];for(;fe.push(pe),!pe.isTextblock;)pe=pe.lastChild;let xe=z,ye=1;for(;!xe.isTextblock;xe=xe.firstChild)ye++;if(pe.canReplace(pe.childCount,pe.childCount,xe.content)){if(T){let _e=Fragment.empty;for(let je=fe.length-1;je>=0;je--)_e=Fragment.from(fe[je].copy(_e));let Le=R.tr.step(new ReplaceAroundStep(y.pos-fe.length,y.pos+z.nodeSize,y.pos+ye,y.pos+z.nodeSize-ye,new Slice(_e,fe.length,0),0,!0));T(Le.scrollIntoView())}return!0}}return!1}function selectTextblockSide(R){return function(y,T){let A=y.selection,O=R<0?A.$from:A.$to,z=O.depth;for(;O.node(z).isInline;){if(!z)return!1;z--}return O.node(z).isTextblock?(T&&T(y.tr.setSelection(TextSelection.create(y.doc,R<0?O.start(z):O.end(z)))),!0):!1}}const selectTextblockStart$1=selectTextblockSide(-1),selectTextblockEnd$1=selectTextblockSide(1);function wrapIn$1(R,y=null){return function(T,A){let{$from:O,$to:z}=T.selection,U=O.blockRange(z),G=U&&findWrapping(U,R,y);return G?(A&&A(T.tr.wrap(U,G).scrollIntoView()),!0):!1}}function setBlockType(R,y=null){return function(T,A){let O=!1;for(let z=0;z<T.selection.ranges.length&&!O;z++){let{$from:{pos:U},$to:{pos:G}}=T.selection.ranges[z];T.doc.nodesBetween(U,G,(J,ee)=>{if(O)return!1;if(!(!J.isTextblock||J.hasMarkup(R,y)))if(J.type==R)O=!0;else{let te=T.doc.resolve(ee),ae=te.index();O=te.parent.canReplaceWith(ae,ae+1,R)}})}if(!O)return!1;if(A){let z=T.tr;for(let U=0;U<T.selection.ranges.length;U++){let{$from:{pos:G},$to:{pos:J}}=T.selection.ranges[U];z.setBlockType(G,J,R,y)}A(z.scrollIntoView())}return!0}}function chainCommands(...R){return function(y,T,A){for(let O=0;O<R.length;O++)if(R[O](y,T,A))return!0;return!1}}chainCommands(deleteSelection$1,joinBackward$1,selectNodeBackward$1);chainCommands(deleteSelection$1,joinForward$1,selectNodeForward$1);chainCommands(newlineInCode$1,createParagraphNear$1,liftEmptyBlock$1,splitBlock$1);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function wrapInList$1(R,y=null){return function(T,A){let{$from:O,$to:z}=T.selection,U=O.blockRange(z);if(!U)return!1;let G=A?T.tr:null;return wrapRangeInList(G,U,R,y)?(A&&A(G.scrollIntoView()),!0):!1}}function wrapRangeInList(R,y,T,A=null){let O=!1,z=y,U=y.$from.doc;if(y.depth>=2&&y.$from.node(y.depth-1).type.compatibleContent(T)&&y.startIndex==0){if(y.$from.index(y.depth-1)==0)return!1;let J=U.resolve(y.start-2);z=new NodeRange(J,J,y.depth),y.endIndex<y.parent.childCount&&(y=new NodeRange(y.$from,U.resolve(y.$to.end(y.depth)),y.depth)),O=!0}let G=findWrapping(z,T,A,y);return G?(R&&doWrapInList(R,y,G,O,T),!0):!1}function doWrapInList(R,y,T,A,O){let z=Fragment.empty;for(let te=T.length-1;te>=0;te--)z=Fragment.from(T[te].type.create(T[te].attrs,z));R.step(new ReplaceAroundStep(y.start-(A?2:0),y.end,y.start,y.end,new Slice(z,0,0),T.length,!0));let U=0;for(let te=0;te<T.length;te++)T[te].type==O&&(U=te+1);let G=T.length-U,J=y.start+T.length-(A?2:0),ee=y.parent;for(let te=y.startIndex,ae=y.endIndex,oe=!0;te<ae;te++,oe=!1)!oe&&canSplit(R.doc,J,G)&&(R.split(J,G),J+=2*G),J+=ee.child(te).nodeSize;return R}function liftListItem$1(R){return function(y,T){let{$from:A,$to:O}=y.selection,z=A.blockRange(O,U=>U.childCount>0&&U.firstChild.type==R);return z?T?A.node(z.depth-1).type==R?liftToOuterList(y,T,R,z):liftOutOfList(y,T,z):!0:!1}}function liftToOuterList(R,y,T,A){let O=R.tr,z=A.end,U=A.$to.end(A.depth);z<U&&(O.step(new ReplaceAroundStep(z-1,U,z,U,new Slice(Fragment.from(T.create(null,A.parent.copy())),1,0),1,!0)),A=new NodeRange(O.doc.resolve(A.$from.pos),O.doc.resolve(U),A.depth));const G=liftTarget(A);if(G==null)return!1;O.lift(A,G);let J=O.doc.resolve(O.mapping.map(z,-1)-1);return canJoin(O.doc,J.pos)&&J.nodeBefore.type==J.nodeAfter.type&&O.join(J.pos),y(O.scrollIntoView()),!0}function liftOutOfList(R,y,T){let A=R.tr,O=T.parent;for(let pe=T.end,fe=T.endIndex-1,xe=T.startIndex;fe>xe;fe--)pe-=O.child(fe).nodeSize,A.delete(pe-1,pe+1);let z=A.doc.resolve(T.start),U=z.nodeAfter;if(A.mapping.map(T.end)!=T.start+z.nodeAfter.nodeSize)return!1;let G=T.startIndex==0,J=T.endIndex==O.childCount,ee=z.node(-1),te=z.index(-1);if(!ee.canReplace(te+(G?0:1),te+1,U.content.append(J?Fragment.empty:Fragment.from(O))))return!1;let ae=z.pos,oe=ae+U.nodeSize;return A.step(new ReplaceAroundStep(ae-(G?1:0),oe+(J?1:0),ae+1,oe-1,new Slice((G?Fragment.empty:Fragment.from(O.copy(Fragment.empty))).append(J?Fragment.empty:Fragment.from(O.copy(Fragment.empty))),G?0:1,J?0:1),G?0:1)),y(A.scrollIntoView()),!0}function sinkListItem$1(R){return function(y,T){let{$from:A,$to:O}=y.selection,z=A.blockRange(O,ee=>ee.childCount>0&&ee.firstChild.type==R);if(!z)return!1;let U=z.startIndex;if(U==0)return!1;let G=z.parent,J=G.child(U-1);if(J.type!=R)return!1;if(T){let ee=J.lastChild&&J.lastChild.type==G.type,te=Fragment.from(ee?R.create():null),ae=new Slice(Fragment.from(R.create(null,Fragment.from(G.type.create(null,te)))),ee?3:1,0),oe=z.start,pe=z.end;T(y.tr.step(new ReplaceAroundStep(oe-(ee?3:1),pe,oe,pe,ae,1,!0)).scrollIntoView())}return!0}}const domIndex=function(R){for(var y=0;;y++)if(R=R.previousSibling,!R)return y},parentNode=function(R){let y=R.assignedSlot||R.parentNode;return y&&y.nodeType==11?y.host:y};let reusedRange=null;const textRange=function(R,y,T){let A=reusedRange||(reusedRange=document.createRange());return A.setEnd(R,T??R.nodeValue.length),A.setStart(R,y||0),A},clearReusedRange=function(){reusedRange=null},isEquivalentPosition=function(R,y,T,A){return T&&(scanFor(R,y,T,A,-1)||scanFor(R,y,T,A,1))},atomElements=/^(img|br|input|textarea|hr)$/i;function scanFor(R,y,T,A,O){for(var z;;){if(R==T&&y==A)return!0;if(y==(O<0?0:nodeSize(R))){let U=R.parentNode;if(!U||U.nodeType!=1||hasBlockDesc(R)||atomElements.test(R.nodeName)||R.contentEditable=="false")return!1;y=domIndex(R)+(O<0?0:1),R=U}else if(R.nodeType==1){let U=R.childNodes[y+(O<0?-1:0)];if(U.nodeType==1&&U.contentEditable=="false")if(!((z=U.pmViewDesc)===null||z===void 0)&&z.ignoreForSelection)y+=O;else return!1;else R=U,y=O<0?nodeSize(R):0}else return!1}}function nodeSize(R){return R.nodeType==3?R.nodeValue.length:R.childNodes.length}function textNodeBefore$1(R,y){for(;;){if(R.nodeType==3&&y)return R;if(R.nodeType==1&&y>0){if(R.contentEditable=="false")return null;R=R.childNodes[y-1],y=nodeSize(R)}else if(R.parentNode&&!hasBlockDesc(R))y=domIndex(R),R=R.parentNode;else return null}}function textNodeAfter$1(R,y){for(;;){if(R.nodeType==3&&y<R.nodeValue.length)return R;if(R.nodeType==1&&y<R.childNodes.length){if(R.contentEditable=="false")return null;R=R.childNodes[y],y=0}else if(R.parentNode&&!hasBlockDesc(R))y=domIndex(R)+1,R=R.parentNode;else return null}}function isOnEdge(R,y,T){for(let A=y==0,O=y==nodeSize(R);A||O;){if(R==T)return!0;let z=domIndex(R);if(R=R.parentNode,!R)return!1;A=A&&z==0,O=O&&z==nodeSize(R)}}function hasBlockDesc(R){let y;for(let T=R;T&&!(y=T.pmViewDesc);T=T.parentNode);return y&&y.node&&y.node.isBlock&&(y.dom==R||y.contentDOM==R)}const selectionCollapsed=function(R){return R.focusNode&&isEquivalentPosition(R.focusNode,R.focusOffset,R.anchorNode,R.anchorOffset)};function keyEvent(R,y){let T=document.createEvent("Event");return T.initEvent("keydown",!0,!0),T.keyCode=R,T.key=T.code=y,T}function deepActiveElement(R){let y=R.activeElement;for(;y&&y.shadowRoot;)y=y.shadowRoot.activeElement;return y}function caretFromPoint(R,y,T){if(R.caretPositionFromPoint)try{let A=R.caretPositionFromPoint(y,T);if(A)return{node:A.offsetNode,offset:Math.min(nodeSize(A.offsetNode),A.offset)}}catch{}if(R.caretRangeFromPoint){let A=R.caretRangeFromPoint(y,T);if(A)return{node:A.startContainer,offset:Math.min(nodeSize(A.startContainer),A.startOffset)}}}const nav=typeof navigator<"u"?navigator:null,doc=typeof document<"u"?document:null,agent=nav&&nav.userAgent||"",ie_edge=/Edge\/(\d+)/.exec(agent),ie_upto10=/MSIE \d/.exec(agent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(agent),ie$1=!!(ie_upto10||ie_11up||ie_edge),ie_version=ie_upto10?document.documentMode:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko=!ie$1&&/gecko\/(\d+)/i.test(agent);gecko&&+(/Firefox\/(\d+)/.exec(agent)||[0,0])[1];const _chrome=!ie$1&&/Chrome\/(\d+)/.exec(agent),chrome=!!_chrome,chrome_version=_chrome?+_chrome[1]:0,safari=!ie$1&&!!nav&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(agent)||!!nav&&nav.maxTouchPoints>2),mac$2=ios||(nav?/Mac/.test(nav.platform):!1),windows$1=nav?/Win/.test(nav.platform):!1,android=/Android \d/.test(agent),webkit=!!doc&&"webkitFontSmoothing"in doc.documentElement.style,webkit_version=webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function windowRect(R){let y=R.defaultView&&R.defaultView.visualViewport;return y?{left:0,right:y.width,top:0,bottom:y.height}:{left:0,right:R.documentElement.clientWidth,top:0,bottom:R.documentElement.clientHeight}}function getSide(R,y){return typeof R=="number"?R:R[y]}function clientRect(R){let y=R.getBoundingClientRect(),T=y.width/R.offsetWidth||1,A=y.height/R.offsetHeight||1;return{left:y.left,right:y.left+R.clientWidth*T,top:y.top,bottom:y.top+R.clientHeight*A}}function scrollRectIntoView(R,y,T){let A=R.someProp("scrollThreshold")||0,O=R.someProp("scrollMargin")||5,z=R.dom.ownerDocument;for(let U=T||R.dom;U;){if(U.nodeType!=1){U=parentNode(U);continue}let G=U,J=G==z.body,ee=J?windowRect(z):clientRect(G),te=0,ae=0;if(y.top<ee.top+getSide(A,"top")?ae=-(ee.top-y.top+getSide(O,"top")):y.bottom>ee.bottom-getSide(A,"bottom")&&(ae=y.bottom-y.top>ee.bottom-ee.top?y.top+getSide(O,"top")-ee.top:y.bottom-ee.bottom+getSide(O,"bottom")),y.left<ee.left+getSide(A,"left")?te=-(ee.left-y.left+getSide(O,"left")):y.right>ee.right-getSide(A,"right")&&(te=y.right-ee.right+getSide(O,"right")),te||ae)if(J)z.defaultView.scrollBy(te,ae);else{let pe=G.scrollLeft,fe=G.scrollTop;ae&&(G.scrollTop+=ae),te&&(G.scrollLeft+=te);let xe=G.scrollLeft-pe,ye=G.scrollTop-fe;y={left:y.left-xe,top:y.top-ye,right:y.right-xe,bottom:y.bottom-ye}}let oe=J?"fixed":getComputedStyle(U).position;if(/^(fixed|sticky)$/.test(oe))break;U=oe=="absolute"?U.offsetParent:parentNode(U)}}function storeScrollPos(R){let y=R.dom.getBoundingClientRect(),T=Math.max(0,y.top),A,O;for(let z=(y.left+y.right)/2,U=T+1;U<Math.min(innerHeight,y.bottom);U+=5){let G=R.root.elementFromPoint(z,U);if(!G||G==R.dom||!R.dom.contains(G))continue;let J=G.getBoundingClientRect();if(J.top>=T-20){A=G,O=J.top;break}}return{refDOM:A,refTop:O,stack:scrollStack(R.dom)}}function scrollStack(R){let y=[],T=R.ownerDocument;for(let A=R;A&&(y.push({dom:A,top:A.scrollTop,left:A.scrollLeft}),R!=T);A=parentNode(A));return y}function resetScrollPos({refDOM:R,refTop:y,stack:T}){let A=R?R.getBoundingClientRect().top:0;restoreScrollStack(T,A==0?0:A-y)}function restoreScrollStack(R,y){for(let T=0;T<R.length;T++){let{dom:A,top:O,left:z}=R[T];A.scrollTop!=O+y&&(A.scrollTop=O+y),A.scrollLeft!=z&&(A.scrollLeft=z)}}let preventScrollSupported=null;function focusPreventScroll(R){if(R.setActive)return R.setActive();if(preventScrollSupported)return R.focus(preventScrollSupported);let y=scrollStack(R);R.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),preventScrollSupported||(preventScrollSupported=!1,restoreScrollStack(y,0))}function findOffsetInNode(R,y){let T,A=2e8,O,z=0,U=y.top,G=y.top,J,ee;for(let te=R.firstChild,ae=0;te;te=te.nextSibling,ae++){let oe;if(te.nodeType==1)oe=te.getClientRects();else if(te.nodeType==3)oe=textRange(te).getClientRects();else continue;for(let pe=0;pe<oe.length;pe++){let fe=oe[pe];if(fe.top<=U&&fe.bottom>=G){U=Math.max(fe.bottom,U),G=Math.min(fe.top,G);let xe=fe.left>y.left?fe.left-y.left:fe.right<y.left?y.left-fe.right:0;if(xe<A){T=te,A=xe,O=xe&&T.nodeType==3?{left:fe.right<y.left?fe.right:fe.left,top:y.top}:y,te.nodeType==1&&xe&&(z=ae+(y.left>=(fe.left+fe.right)/2?1:0));continue}}else fe.top>y.top&&!J&&fe.left<=y.left&&fe.right>=y.left&&(J=te,ee={left:Math.max(fe.left,Math.min(fe.right,y.left)),top:fe.top});!T&&(y.left>=fe.right&&y.top>=fe.top||y.left>=fe.left&&y.top>=fe.bottom)&&(z=ae+1)}}return!T&&J&&(T=J,O=ee,A=0),T&&T.nodeType==3?findOffsetInText(T,O):!T||A&&T.nodeType==1?{node:R,offset:z}:findOffsetInNode(T,O)}function findOffsetInText(R,y){let T=R.nodeValue.length,A=document.createRange(),O;for(let z=0;z<T;z++){A.setEnd(R,z+1),A.setStart(R,z);let U=singleRect(A,1);if(U.top!=U.bottom&&inRect(y,U)){O={node:R,offset:z+(y.left>=(U.left+U.right)/2?1:0)};break}}return A.detach(),O||{node:R,offset:0}}function inRect(R,y){return R.left>=y.left-1&&R.left<=y.right+1&&R.top>=y.top-1&&R.top<=y.bottom+1}function targetKludge(R,y){let T=R.parentNode;return T&&/^li$/i.test(T.nodeName)&&y.left<R.getBoundingClientRect().left?T:R}function posFromElement(R,y,T){let{node:A,offset:O}=findOffsetInNode(y,T),z=-1;if(A.nodeType==1&&!A.firstChild){let U=A.getBoundingClientRect();z=U.left!=U.right&&T.left>(U.left+U.right)/2?1:-1}return R.docView.posFromDOM(A,O,z)}function posFromCaret(R,y,T,A){let O=-1;for(let z=y,U=!1;z!=R.dom;){let G=R.docView.nearestDesc(z,!0),J;if(!G)return null;if(G.dom.nodeType==1&&(G.node.isBlock&&G.parent||!G.contentDOM)&&((J=G.dom.getBoundingClientRect()).width||J.height)&&(G.node.isBlock&&G.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(G.dom.nodeName)&&(!U&&J.left>A.left||J.top>A.top?O=G.posBefore:(!U&&J.right<A.left||J.bottom<A.top)&&(O=G.posAfter),U=!0),!G.contentDOM&&O<0&&!G.node.isText))return(G.node.isBlock?A.top<(J.top+J.bottom)/2:A.left<(J.left+J.right)/2)?G.posBefore:G.posAfter;z=G.dom.parentNode}return O>-1?O:R.docView.posFromDOM(y,T,-1)}function elementFromPoint(R,y,T){let A=R.childNodes.length;if(A&&T.top<T.bottom)for(let O=Math.max(0,Math.min(A-1,Math.floor(A*(y.top-T.top)/(T.bottom-T.top))-2)),z=O;;){let U=R.childNodes[z];if(U.nodeType==1){let G=U.getClientRects();for(let J=0;J<G.length;J++){let ee=G[J];if(inRect(y,ee))return elementFromPoint(U,y,ee)}}if((z=(z+1)%A)==O)break}return R}function posAtCoords(R,y){let T=R.dom.ownerDocument,A,O=0,z=caretFromPoint(T,y.left,y.top);z&&({node:A,offset:O}=z);let U=(R.root.elementFromPoint?R.root:T).elementFromPoint(y.left,y.top),G;if(!U||!R.dom.contains(U.nodeType!=1?U.parentNode:U)){let ee=R.dom.getBoundingClientRect();if(!inRect(y,ee)||(U=elementFromPoint(R.dom,y,ee),!U))return null}if(safari)for(let ee=U;A&&ee;ee=parentNode(ee))ee.draggable&&(A=void 0);if(U=targetKludge(U,y),A){if(gecko&&A.nodeType==1&&(O=Math.min(O,A.childNodes.length),O<A.childNodes.length)){let te=A.childNodes[O],ae;te.nodeName=="IMG"&&(ae=te.getBoundingClientRect()).right<=y.left&&ae.bottom>y.top&&O++}let ee;webkit&&O&&A.nodeType==1&&(ee=A.childNodes[O-1]).nodeType==1&&ee.contentEditable=="false"&&ee.getBoundingClientRect().top>=y.top&&O--,A==R.dom&&O==A.childNodes.length-1&&A.lastChild.nodeType==1&&y.top>A.lastChild.getBoundingClientRect().bottom?G=R.state.doc.content.size:(O==0||A.nodeType!=1||A.childNodes[O-1].nodeName!="BR")&&(G=posFromCaret(R,A,O,y))}G==null&&(G=posFromElement(R,U,y));let J=R.docView.nearestDesc(U,!0);return{pos:G,inside:J?J.posAtStart-J.border:-1}}function nonZero(R){return R.top<R.bottom||R.left<R.right}function singleRect(R,y){let T=R.getClientRects();if(T.length){let A=T[y<0?0:T.length-1];if(nonZero(A))return A}return Array.prototype.find.call(T,nonZero)||R.getBoundingClientRect()}const BIDI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos(R,y,T){let{node:A,offset:O,atom:z}=R.docView.domFromPos(y,T<0?-1:1),U=webkit||gecko;if(A.nodeType==3)if(U&&(BIDI.test(A.nodeValue)||(T<0?!O:O==A.nodeValue.length))){let J=singleRect(textRange(A,O,O),T);if(gecko&&O&&/\s/.test(A.nodeValue[O-1])&&O<A.nodeValue.length){let ee=singleRect(textRange(A,O-1,O-1),-1);if(ee.top==J.top){let te=singleRect(textRange(A,O,O+1),-1);if(te.top!=J.top)return flattenV(te,te.left<ee.left)}}return J}else{let J=O,ee=O,te=T<0?1:-1;return T<0&&!O?(ee++,te=-1):T>=0&&O==A.nodeValue.length?(J--,te=1):T<0?J--:ee++,flattenV(singleRect(textRange(A,J,ee),te),te<0)}if(!R.state.doc.resolve(y-(z||0)).parent.inlineContent){if(z==null&&O&&(T<0||O==nodeSize(A))){let J=A.childNodes[O-1];if(J.nodeType==1)return flattenH(J.getBoundingClientRect(),!1)}if(z==null&&O<nodeSize(A)){let J=A.childNodes[O];if(J.nodeType==1)return flattenH(J.getBoundingClientRect(),!0)}return flattenH(A.getBoundingClientRect(),T>=0)}if(z==null&&O&&(T<0||O==nodeSize(A))){let J=A.childNodes[O-1],ee=J.nodeType==3?textRange(J,nodeSize(J)-(U?0:1)):J.nodeType==1&&(J.nodeName!="BR"||!J.nextSibling)?J:null;if(ee)return flattenV(singleRect(ee,1),!1)}if(z==null&&O<nodeSize(A)){let J=A.childNodes[O];for(;J.pmViewDesc&&J.pmViewDesc.ignoreForCoords;)J=J.nextSibling;let ee=J?J.nodeType==3?textRange(J,0,U?0:1):J.nodeType==1?J:null:null;if(ee)return flattenV(singleRect(ee,-1),!0)}return flattenV(singleRect(A.nodeType==3?textRange(A):A,-T),T>=0)}function flattenV(R,y){if(R.width==0)return R;let T=y?R.left:R.right;return{top:R.top,bottom:R.bottom,left:T,right:T}}function flattenH(R,y){if(R.height==0)return R;let T=y?R.top:R.bottom;return{top:T,bottom:T,left:R.left,right:R.right}}function withFlushedState(R,y,T){let A=R.state,O=R.root.activeElement;A!=y&&R.updateState(y),O!=R.dom&&R.focus();try{return T()}finally{A!=y&&R.updateState(A),O!=R.dom&&O&&O.focus()}}function endOfTextblockVertical(R,y,T){let A=y.selection,O=T=="up"?A.$from:A.$to;return withFlushedState(R,y,()=>{let{node:z}=R.docView.domFromPos(O.pos,T=="up"?-1:1);for(;;){let G=R.docView.nearestDesc(z,!0);if(!G)break;if(G.node.isBlock){z=G.contentDOM||G.dom;break}z=G.dom.parentNode}let U=coordsAtPos(R,O.pos,1);for(let G=z.firstChild;G;G=G.nextSibling){let J;if(G.nodeType==1)J=G.getClientRects();else if(G.nodeType==3)J=textRange(G,0,G.nodeValue.length).getClientRects();else continue;for(let ee=0;ee<J.length;ee++){let te=J[ee];if(te.bottom>te.top+1&&(T=="up"?U.top-te.top>(te.bottom-U.top)*2:te.bottom-U.bottom>(U.bottom-te.top)*2))return!1}}return!0})}const maybeRTL=/[\u0590-\u08ac]/;function endOfTextblockHorizontal(R,y,T){let{$head:A}=y.selection;if(!A.parent.isTextblock)return!1;let O=A.parentOffset,z=!O,U=O==A.parent.content.size,G=R.domSelection();return G?!maybeRTL.test(A.parent.textContent)||!G.modify?T=="left"||T=="backward"?z:U:withFlushedState(R,y,()=>{let{focusNode:J,focusOffset:ee,anchorNode:te,anchorOffset:ae}=R.domSelectionRange(),oe=G.caretBidiLevel;G.modify("move",T,"character");let pe=A.depth?R.docView.domAfterPos(A.before()):R.dom,{focusNode:fe,focusOffset:xe}=R.domSelectionRange(),ye=fe&&!pe.contains(fe.nodeType==1?fe:fe.parentNode)||J==fe&&ee==xe;try{G.collapse(te,ae),J&&(J!=te||ee!=ae)&&G.extend&&G.extend(J,ee)}catch{}return oe!=null&&(G.caretBidiLevel=oe),ye}):A.pos==A.start()||A.pos==A.end()}let cachedState=null,cachedDir=null,cachedResult=!1;function endOfTextblock(R,y,T){return cachedState==y&&cachedDir==T?cachedResult:(cachedState=y,cachedDir=T,cachedResult=T=="up"||T=="down"?endOfTextblockVertical(R,y,T):endOfTextblockHorizontal(R,y,T))}const NOT_DIRTY=0,CHILD_DIRTY=1,CONTENT_DIRTY=2,NODE_DIRTY=3;class ViewDesc{constructor(y,T,A,O){this.parent=y,this.children=T,this.dom=A,this.contentDOM=O,this.dirty=NOT_DIRTY,A.pmViewDesc=this}matchesWidget(y){return!1}matchesMark(y){return!1}matchesNode(y,T,A){return!1}matchesHack(y){return!1}parseRule(){return null}stopEvent(y){return!1}get size(){let y=0;for(let T=0;T<this.children.length;T++)y+=this.children[T].size;return y}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let y=0;y<this.children.length;y++)this.children[y].destroy()}posBeforeChild(y){for(let T=0,A=this.posAtStart;;T++){let O=this.children[T];if(O==y)return A;A+=O.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(y,T,A){if(this.contentDOM&&this.contentDOM.contains(y.nodeType==1?y:y.parentNode))if(A<0){let z,U;if(y==this.contentDOM)z=y.childNodes[T-1];else{for(;y.parentNode!=this.contentDOM;)y=y.parentNode;z=y.previousSibling}for(;z&&!((U=z.pmViewDesc)&&U.parent==this);)z=z.previousSibling;return z?this.posBeforeChild(U)+U.size:this.posAtStart}else{let z,U;if(y==this.contentDOM)z=y.childNodes[T];else{for(;y.parentNode!=this.contentDOM;)y=y.parentNode;z=y.nextSibling}for(;z&&!((U=z.pmViewDesc)&&U.parent==this);)z=z.nextSibling;return z?this.posBeforeChild(U):this.posAtEnd}let O;if(y==this.dom&&this.contentDOM)O=T>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))O=y.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(T==0)for(let z=y;;z=z.parentNode){if(z==this.dom){O=!1;break}if(z.previousSibling)break}if(O==null&&T==y.childNodes.length)for(let z=y;;z=z.parentNode){if(z==this.dom){O=!0;break}if(z.nextSibling)break}}return O??A>0?this.posAtEnd:this.posAtStart}nearestDesc(y,T=!1){for(let A=!0,O=y;O;O=O.parentNode){let z=this.getDesc(O),U;if(z&&(!T||z.node))if(A&&(U=z.nodeDOM)&&!(U.nodeType==1?U.contains(y.nodeType==1?y:y.parentNode):U==y))A=!1;else return z}}getDesc(y){let T=y.pmViewDesc;for(let A=T;A;A=A.parent)if(A==this)return T}posFromDOM(y,T,A){for(let O=y;O;O=O.parentNode){let z=this.getDesc(O);if(z)return z.localPosFromDOM(y,T,A)}return-1}descAt(y){for(let T=0,A=0;T<this.children.length;T++){let O=this.children[T],z=A+O.size;if(A==y&&z!=A){for(;!O.border&&O.children.length;)for(let U=0;U<O.children.length;U++){let G=O.children[U];if(G.size){O=G;break}}return O}if(y<z)return O.descAt(y-A-O.border);A=z}}domFromPos(y,T){if(!this.contentDOM)return{node:this.dom,offset:0,atom:y+1};let A=0,O=0;for(let z=0;A<this.children.length;A++){let U=this.children[A],G=z+U.size;if(G>y||U instanceof TrailingHackViewDesc){O=y-z;break}z=G}if(O)return this.children[A].domFromPos(O-this.children[A].border,T);for(let z;A&&!(z=this.children[A-1]).size&&z instanceof WidgetViewDesc&&z.side>=0;A--);if(T<=0){let z,U=!0;for(;z=A?this.children[A-1]:null,!(!z||z.dom.parentNode==this.contentDOM);A--,U=!1);return z&&T&&U&&!z.border&&!z.domAtom?z.domFromPos(z.size,T):{node:this.contentDOM,offset:z?domIndex(z.dom)+1:0}}else{let z,U=!0;for(;z=A<this.children.length?this.children[A]:null,!(!z||z.dom.parentNode==this.contentDOM);A++,U=!1);return z&&U&&!z.border&&!z.domAtom?z.domFromPos(0,T):{node:this.contentDOM,offset:z?domIndex(z.dom):this.contentDOM.childNodes.length}}}parseRange(y,T,A=0){if(this.children.length==0)return{node:this.contentDOM,from:y,to:T,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let O=-1,z=-1;for(let U=A,G=0;;G++){let J=this.children[G],ee=U+J.size;if(O==-1&&y<=ee){let te=U+J.border;if(y>=te&&T<=ee-J.border&&J.node&&J.contentDOM&&this.contentDOM.contains(J.contentDOM))return J.parseRange(y,T,te);y=U;for(let ae=G;ae>0;ae--){let oe=this.children[ae-1];if(oe.size&&oe.dom.parentNode==this.contentDOM&&!oe.emptyChildAt(1)){O=domIndex(oe.dom)+1;break}y-=oe.size}O==-1&&(O=0)}if(O>-1&&(ee>T||G==this.children.length-1)){T=ee;for(let te=G+1;te<this.children.length;te++){let ae=this.children[te];if(ae.size&&ae.dom.parentNode==this.contentDOM&&!ae.emptyChildAt(-1)){z=domIndex(ae.dom);break}T+=ae.size}z==-1&&(z=this.contentDOM.childNodes.length);break}U=ee}return{node:this.contentDOM,from:y,to:T,fromOffset:O,toOffset:z}}emptyChildAt(y){if(this.border||!this.contentDOM||!this.children.length)return!1;let T=this.children[y<0?0:this.children.length-1];return T.size==0||T.emptyChildAt(y)}domAfterPos(y){let{node:T,offset:A}=this.domFromPos(y,0);if(T.nodeType!=1||A==T.childNodes.length)throw new RangeError("No node after pos "+y);return T.childNodes[A]}setSelection(y,T,A,O=!1){let z=Math.min(y,T),U=Math.max(y,T);for(let pe=0,fe=0;pe<this.children.length;pe++){let xe=this.children[pe],ye=fe+xe.size;if(z>fe&&U<ye)return xe.setSelection(y-fe-xe.border,T-fe-xe.border,A,O);fe=ye}let G=this.domFromPos(y,y?-1:1),J=T==y?G:this.domFromPos(T,T?-1:1),ee=A.root.getSelection(),te=A.domSelectionRange(),ae=!1;if((gecko||safari)&&y==T){let{node:pe,offset:fe}=G;if(pe.nodeType==3){if(ae=!!(fe&&pe.nodeValue[fe-1]==`
`),ae&&fe==pe.nodeValue.length)for(let xe=pe,ye;xe;xe=xe.parentNode){if(ye=xe.nextSibling){ye.nodeName=="BR"&&(G=J={node:ye.parentNode,offset:domIndex(ye)+1});break}let _e=xe.pmViewDesc;if(_e&&_e.node&&_e.node.isBlock)break}}else{let xe=pe.childNodes[fe-1];ae=xe&&(xe.nodeName=="BR"||xe.contentEditable=="false")}}if(gecko&&te.focusNode&&te.focusNode!=J.node&&te.focusNode.nodeType==1){let pe=te.focusNode.childNodes[te.focusOffset];pe&&pe.contentEditable=="false"&&(O=!0)}if(!(O||ae&&safari)&&isEquivalentPosition(G.node,G.offset,te.anchorNode,te.anchorOffset)&&isEquivalentPosition(J.node,J.offset,te.focusNode,te.focusOffset))return;let oe=!1;if((ee.extend||y==T)&&!(ae&&gecko)){ee.collapse(G.node,G.offset);try{y!=T&&ee.extend(J.node,J.offset),oe=!0}catch{}}if(!oe){if(y>T){let fe=G;G=J,J=fe}let pe=document.createRange();pe.setEnd(J.node,J.offset),pe.setStart(G.node,G.offset),ee.removeAllRanges(),ee.addRange(pe)}}ignoreMutation(y){return!this.contentDOM&&y.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(y,T){for(let A=0,O=0;O<this.children.length;O++){let z=this.children[O],U=A+z.size;if(A==U?y<=U&&T>=A:y<U&&T>A){let G=A+z.border,J=U-z.border;if(y>=G&&T<=J){this.dirty=y==A||T==U?CONTENT_DIRTY:CHILD_DIRTY,y==G&&T==J&&(z.contentLost||z.dom.parentNode!=this.contentDOM)?z.dirty=NODE_DIRTY:z.markDirty(y-G,T-G);return}else z.dirty=z.dom==z.contentDOM&&z.dom.parentNode==this.contentDOM&&!z.children.length?CONTENT_DIRTY:NODE_DIRTY}A=U}this.dirty=CONTENT_DIRTY}markParentsDirty(){let y=1;for(let T=this.parent;T;T=T.parent,y++){let A=y==1?CONTENT_DIRTY:CHILD_DIRTY;T.dirty<A&&(T.dirty=A)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(y){return!1}}class WidgetViewDesc extends ViewDesc{constructor(y,T,A,O){let z,U=T.type.toDOM;if(typeof U=="function"&&(U=U(A,()=>{if(!z)return O;if(z.parent)return z.parent.posBeforeChild(z)})),!T.type.spec.raw){if(U.nodeType!=1){let G=document.createElement("span");G.appendChild(U),U=G}U.contentEditable="false",U.classList.add("ProseMirror-widget")}super(y,[],U,null),this.widget=T,this.widget=T,z=this}matchesWidget(y){return this.dirty==NOT_DIRTY&&y.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(y){let T=this.widget.spec.stopEvent;return T?T(y):!1}ignoreMutation(y){return y.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class CompositionViewDesc extends ViewDesc{constructor(y,T,A,O){super(y,[],T,null),this.textDOM=A,this.text=O}get size(){return this.text.length}localPosFromDOM(y,T){return y!=this.textDOM?this.posAtStart+(T?this.size:0):this.posAtStart+T}domFromPos(y){return{node:this.textDOM,offset:y}}ignoreMutation(y){return y.type==="characterData"&&y.target.nodeValue==y.oldValue}}class MarkViewDesc extends ViewDesc{constructor(y,T,A,O,z){super(y,[],A,O),this.mark=T,this.spec=z}static create(y,T,A,O){let z=O.nodeViews[T.type.name],U=z&&z(T,O,A);return(!U||!U.dom)&&(U=DOMSerializer.renderSpec(document,T.type.spec.toDOM(T,A),null,T.attrs)),new MarkViewDesc(y,T,U.dom,U.contentDOM||U.dom,U)}parseRule(){return this.dirty&NODE_DIRTY||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(y){return this.dirty!=NODE_DIRTY&&this.mark.eq(y)}markDirty(y,T){if(super.markDirty(y,T),this.dirty!=NOT_DIRTY){let A=this.parent;for(;!A.node;)A=A.parent;A.dirty<this.dirty&&(A.dirty=this.dirty),this.dirty=NOT_DIRTY}}slice(y,T,A){let O=MarkViewDesc.create(this.parent,this.mark,!0,A),z=this.children,U=this.size;T<U&&(z=replaceNodes(z,T,U,A)),y>0&&(z=replaceNodes(z,0,y,A));for(let G=0;G<z.length;G++)z[G].parent=O;return O.children=z,O}ignoreMutation(y){return this.spec.ignoreMutation?this.spec.ignoreMutation(y):super.ignoreMutation(y)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class NodeViewDesc extends ViewDesc{constructor(y,T,A,O,z,U,G,J,ee){super(y,[],z,U),this.node=T,this.outerDeco=A,this.innerDeco=O,this.nodeDOM=G}static create(y,T,A,O,z,U){let G=z.nodeViews[T.type.name],J,ee=G&&G(T,z,()=>{if(!J)return U;if(J.parent)return J.parent.posBeforeChild(J)},A,O),te=ee&&ee.dom,ae=ee&&ee.contentDOM;if(T.isText){if(!te)te=document.createTextNode(T.text);else if(te.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else te||({dom:te,contentDOM:ae}=DOMSerializer.renderSpec(document,T.type.spec.toDOM(T),null,T.attrs));!ae&&!T.isText&&te.nodeName!="BR"&&(te.hasAttribute("contenteditable")||(te.contentEditable="false"),T.type.spec.draggable&&(te.draggable=!0));let oe=te;return te=applyOuterDeco(te,A,T),ee?J=new CustomNodeViewDesc(y,T,A,O,te,ae||null,oe,ee,z,U+1):T.isText?new TextViewDesc(y,T,A,O,te,oe,z):new NodeViewDesc(y,T,A,O,te,ae||null,oe,z,U+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let y={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(y.preserveWhitespace="full"),!this.contentDOM)y.getContent=()=>this.node.content;else if(!this.contentLost)y.contentElement=this.contentDOM;else{for(let T=this.children.length-1;T>=0;T--){let A=this.children[T];if(this.dom.contains(A.dom.parentNode)){y.contentElement=A.dom.parentNode;break}}y.contentElement||(y.getContent=()=>Fragment.empty)}return y}matchesNode(y,T,A){return this.dirty==NOT_DIRTY&&y.eq(this.node)&&sameOuterDeco(T,this.outerDeco)&&A.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(y,T){let A=this.node.inlineContent,O=T,z=y.composing?this.localCompositionInfo(y,T):null,U=z&&z.pos>-1?z:null,G=z&&z.pos<0,J=new ViewTreeUpdater(this,U&&U.node,y);iterDeco(this.node,this.innerDeco,(ee,te,ae)=>{ee.spec.marks?J.syncToMarks(ee.spec.marks,A,y):ee.type.side>=0&&!ae&&J.syncToMarks(te==this.node.childCount?Mark$1.none:this.node.child(te).marks,A,y),J.placeWidget(ee,y,O)},(ee,te,ae,oe)=>{J.syncToMarks(ee.marks,A,y);let pe;J.findNodeMatch(ee,te,ae,oe)||G&&y.state.selection.from>O&&y.state.selection.to<O+ee.nodeSize&&(pe=J.findIndexWithChild(z.node))>-1&&J.updateNodeAt(ee,te,ae,pe,y)||J.updateNextNode(ee,te,ae,y,oe,O)||J.addNode(ee,te,ae,y,O),O+=ee.nodeSize}),J.syncToMarks([],A,y),this.node.isTextblock&&J.addTextblockHacks(),J.destroyRest(),(J.changed||this.dirty==CONTENT_DIRTY)&&(U&&this.protectLocalComposition(y,U),renderDescs(this.contentDOM,this.children,y),ios&&iosHacks(this.dom))}localCompositionInfo(y,T){let{from:A,to:O}=y.state.selection;if(!(y.state.selection instanceof TextSelection)||A<T||O>T+this.node.content.size)return null;let z=y.input.compositionNode;if(!z||!this.dom.contains(z.parentNode))return null;if(this.node.inlineContent){let U=z.nodeValue,G=findTextInFragment(this.node.content,U,A-T,O-T);return G<0?null:{node:z,pos:G,text:U}}else return{node:z,pos:-1,text:""}}protectLocalComposition(y,{node:T,pos:A,text:O}){if(this.getDesc(T))return;let z=T;for(;z.parentNode!=this.contentDOM;z=z.parentNode){for(;z.previousSibling;)z.parentNode.removeChild(z.previousSibling);for(;z.nextSibling;)z.parentNode.removeChild(z.nextSibling);z.pmViewDesc&&(z.pmViewDesc=void 0)}let U=new CompositionViewDesc(this,z,T,O);y.input.compositionNodes.push(U),this.children=replaceNodes(this.children,A,A+O.length,y,U)}update(y,T,A,O){return this.dirty==NODE_DIRTY||!y.sameMarkup(this.node)?!1:(this.updateInner(y,T,A,O),!0)}updateInner(y,T,A,O){this.updateOuterDeco(T),this.node=y,this.innerDeco=A,this.contentDOM&&this.updateChildren(O,this.posAtStart),this.dirty=NOT_DIRTY}updateOuterDeco(y){if(sameOuterDeco(y,this.outerDeco))return;let T=this.nodeDOM.nodeType!=1,A=this.dom;this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,T),computeOuterDeco(y,this.node,T)),this.dom!=A&&(A.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=y}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function docViewDesc(R,y,T,A,O){applyOuterDeco(A,y,R);let z=new NodeViewDesc(void 0,R,y,T,A,A,A,O,0);return z.contentDOM&&z.updateChildren(O,0),z}class TextViewDesc extends NodeViewDesc{constructor(y,T,A,O,z,U,G){super(y,T,A,O,z,null,U,G,0)}parseRule(){let y=this.nodeDOM.parentNode;for(;y&&y!=this.dom&&!y.pmIsDeco;)y=y.parentNode;return{skip:y||!0}}update(y,T,A,O){return this.dirty==NODE_DIRTY||this.dirty!=NOT_DIRTY&&!this.inParent()||!y.sameMarkup(this.node)?!1:(this.updateOuterDeco(T),(this.dirty!=NOT_DIRTY||y.text!=this.node.text)&&y.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=y.text,O.trackWrites==this.nodeDOM&&(O.trackWrites=null)),this.node=y,this.dirty=NOT_DIRTY,!0)}inParent(){let y=this.parent.contentDOM;for(let T=this.nodeDOM;T;T=T.parentNode)if(T==y)return!0;return!1}domFromPos(y){return{node:this.nodeDOM,offset:y}}localPosFromDOM(y,T,A){return y==this.nodeDOM?this.posAtStart+Math.min(T,this.node.text.length):super.localPosFromDOM(y,T,A)}ignoreMutation(y){return y.type!="characterData"&&y.type!="selection"}slice(y,T,A){let O=this.node.cut(y,T),z=document.createTextNode(O.text);return new TextViewDesc(this.parent,O,this.outerDeco,this.innerDeco,z,z,A)}markDirty(y,T){super.markDirty(y,T),this.dom!=this.nodeDOM&&(y==0||T==this.nodeDOM.nodeValue.length)&&(this.dirty=NODE_DIRTY)}get domAtom(){return!1}isText(y){return this.node.text==y}}class TrailingHackViewDesc extends ViewDesc{parseRule(){return{ignore:!0}}matchesHack(y){return this.dirty==NOT_DIRTY&&this.dom.nodeName==y}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class CustomNodeViewDesc extends NodeViewDesc{constructor(y,T,A,O,z,U,G,J,ee,te){super(y,T,A,O,z,U,G,ee,te),this.spec=J}update(y,T,A,O){if(this.dirty==NODE_DIRTY)return!1;if(this.spec.update&&(this.node.type==y.type||this.spec.multiType)){let z=this.spec.update(y,T,A);return z&&this.updateInner(y,T,A,O),z}else return!this.contentDOM&&!y.isLeaf?!1:super.update(y,T,A,O)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(y,T,A,O){this.spec.setSelection?this.spec.setSelection(y,T,A.root):super.setSelection(y,T,A,O)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(y){return this.spec.stopEvent?this.spec.stopEvent(y):!1}ignoreMutation(y){return this.spec.ignoreMutation?this.spec.ignoreMutation(y):super.ignoreMutation(y)}}function renderDescs(R,y,T){let A=R.firstChild,O=!1;for(let z=0;z<y.length;z++){let U=y[z],G=U.dom;if(G.parentNode==R){for(;G!=A;)A=rm(A),O=!0;A=A.nextSibling}else O=!0,R.insertBefore(G,A);if(U instanceof MarkViewDesc){let J=A?A.previousSibling:R.lastChild;renderDescs(U.contentDOM,U.children,T),A=J?J.nextSibling:R.firstChild}}for(;A;)A=rm(A),O=!0;O&&T.trackWrites==R&&(T.trackWrites=null)}const OuterDecoLevel=function(R){R&&(this.nodeName=R)};OuterDecoLevel.prototype=Object.create(null);const noDeco=[new OuterDecoLevel];function computeOuterDeco(R,y,T){if(R.length==0)return noDeco;let A=T?noDeco[0]:new OuterDecoLevel,O=[A];for(let z=0;z<R.length;z++){let U=R[z].type.attrs;if(U){U.nodeName&&O.push(A=new OuterDecoLevel(U.nodeName));for(let G in U){let J=U[G];J!=null&&(T&&O.length==1&&O.push(A=new OuterDecoLevel(y.isInline?"span":"div")),G=="class"?A.class=(A.class?A.class+" ":"")+J:G=="style"?A.style=(A.style?A.style+";":"")+J:G!="nodeName"&&(A[G]=J))}}}return O}function patchOuterDeco(R,y,T,A){if(T==noDeco&&A==noDeco)return y;let O=y;for(let z=0;z<A.length;z++){let U=A[z],G=T[z];if(z){let J;G&&G.nodeName==U.nodeName&&O!=R&&(J=O.parentNode)&&J.nodeName.toLowerCase()==U.nodeName||(J=document.createElement(U.nodeName),J.pmIsDeco=!0,J.appendChild(O),G=noDeco[0]),O=J}patchAttributes(O,G||noDeco[0],U)}return O}function patchAttributes(R,y,T){for(let A in y)A!="class"&&A!="style"&&A!="nodeName"&&!(A in T)&&R.removeAttribute(A);for(let A in T)A!="class"&&A!="style"&&A!="nodeName"&&T[A]!=y[A]&&R.setAttribute(A,T[A]);if(y.class!=T.class){let A=y.class?y.class.split(" ").filter(Boolean):[],O=T.class?T.class.split(" ").filter(Boolean):[];for(let z=0;z<A.length;z++)O.indexOf(A[z])==-1&&R.classList.remove(A[z]);for(let z=0;z<O.length;z++)A.indexOf(O[z])==-1&&R.classList.add(O[z]);R.classList.length==0&&R.removeAttribute("class")}if(y.style!=T.style){if(y.style){let A=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,O;for(;O=A.exec(y.style);)R.style.removeProperty(O[1])}T.style&&(R.style.cssText+=T.style)}}function applyOuterDeco(R,y,T){return patchOuterDeco(R,R,noDeco,computeOuterDeco(y,T,R.nodeType!=1))}function sameOuterDeco(R,y){if(R.length!=y.length)return!1;for(let T=0;T<R.length;T++)if(!R[T].type.eq(y[T].type))return!1;return!0}function rm(R){let y=R.nextSibling;return R.parentNode.removeChild(R),y}class ViewTreeUpdater{constructor(y,T,A){this.lock=T,this.view=A,this.index=0,this.stack=[],this.changed=!1,this.top=y,this.preMatch=preMatch(y.node.content,y)}destroyBetween(y,T){if(y!=T){for(let A=y;A<T;A++)this.top.children[A].destroy();this.top.children.splice(y,T-y),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(y,T,A){let O=0,z=this.stack.length>>1,U=Math.min(z,y.length);for(;O<U&&(O==z-1?this.top:this.stack[O+1<<1]).matchesMark(y[O])&&y[O].type.spec.spanning!==!1;)O++;for(;O<z;)this.destroyRest(),this.top.dirty=NOT_DIRTY,this.index=this.stack.pop(),this.top=this.stack.pop(),z--;for(;z<y.length;){this.stack.push(this.top,this.index+1);let G=-1;for(let J=this.index;J<Math.min(this.index+3,this.top.children.length);J++){let ee=this.top.children[J];if(ee.matchesMark(y[z])&&!this.isLocked(ee.dom)){G=J;break}}if(G>-1)G>this.index&&(this.changed=!0,this.destroyBetween(this.index,G)),this.top=this.top.children[this.index];else{let J=MarkViewDesc.create(this.top,y[z],T,A);this.top.children.splice(this.index,0,J),this.top=J,this.changed=!0}this.index=0,z++}}findNodeMatch(y,T,A,O){let z=-1,U;if(O>=this.preMatch.index&&(U=this.preMatch.matches[O-this.preMatch.index]).parent==this.top&&U.matchesNode(y,T,A))z=this.top.children.indexOf(U,this.index);else for(let G=this.index,J=Math.min(this.top.children.length,G+5);G<J;G++){let ee=this.top.children[G];if(ee.matchesNode(y,T,A)&&!this.preMatch.matched.has(ee)){z=G;break}}return z<0?!1:(this.destroyBetween(this.index,z),this.index++,!0)}updateNodeAt(y,T,A,O,z){let U=this.top.children[O];return U.dirty==NODE_DIRTY&&U.dom==U.contentDOM&&(U.dirty=CONTENT_DIRTY),U.update(y,T,A,z)?(this.destroyBetween(this.index,O),this.index++,!0):!1}findIndexWithChild(y){for(;;){let T=y.parentNode;if(!T)return-1;if(T==this.top.contentDOM){let A=y.pmViewDesc;if(A){for(let O=this.index;O<this.top.children.length;O++)if(this.top.children[O]==A)return O}return-1}y=T}}updateNextNode(y,T,A,O,z,U){for(let G=this.index;G<this.top.children.length;G++){let J=this.top.children[G];if(J instanceof NodeViewDesc){let ee=this.preMatch.matched.get(J);if(ee!=null&&ee!=z)return!1;let te=J.dom,ae,oe=this.isLocked(te)&&!(y.isText&&J.node&&J.node.isText&&J.nodeDOM.nodeValue==y.text&&J.dirty!=NODE_DIRTY&&sameOuterDeco(T,J.outerDeco));if(!oe&&J.update(y,T,A,O))return this.destroyBetween(this.index,G),J.dom!=te&&(this.changed=!0),this.index++,!0;if(!oe&&(ae=this.recreateWrapper(J,y,T,A,O,U)))return this.destroyBetween(this.index,G),this.top.children[this.index]=ae,ae.contentDOM&&(ae.dirty=CONTENT_DIRTY,ae.updateChildren(O,U+1),ae.dirty=NOT_DIRTY),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(y,T,A,O,z,U){if(y.dirty||T.isAtom||!y.children.length||!y.node.content.eq(T.content)||!sameOuterDeco(A,y.outerDeco)||!O.eq(y.innerDeco))return null;let G=NodeViewDesc.create(this.top,T,A,O,z,U);if(G.contentDOM){G.children=y.children,y.children=[];for(let J of G.children)J.parent=G}return y.destroy(),G}addNode(y,T,A,O,z){let U=NodeViewDesc.create(this.top,y,T,A,O,z);U.contentDOM&&U.updateChildren(O,z+1),this.top.children.splice(this.index++,0,U),this.changed=!0}placeWidget(y,T,A){let O=this.index<this.top.children.length?this.top.children[this.index]:null;if(O&&O.matchesWidget(y)&&(y==O.widget||!O.widget.type.toDOM.parentNode))this.index++;else{let z=new WidgetViewDesc(this.top,y,T,A);this.top.children.splice(this.index++,0,z),this.changed=!0}}addTextblockHacks(){let y=this.top.children[this.index-1],T=this.top;for(;y instanceof MarkViewDesc;)T=y,y=T.children[T.children.length-1];(!y||!(y instanceof TextViewDesc)||/\n$/.test(y.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(y.node.text))&&((safari||chrome)&&y&&y.dom.contentEditable=="false"&&this.addHackNode("IMG",T),this.addHackNode("BR",this.top))}addHackNode(y,T){if(T==this.top&&this.index<T.children.length&&T.children[this.index].matchesHack(y))this.index++;else{let A=document.createElement(y);y=="IMG"&&(A.className="ProseMirror-separator",A.alt=""),y=="BR"&&(A.className="ProseMirror-trailingBreak");let O=new TrailingHackViewDesc(this.top,[],A,null);T!=this.top?T.children.push(O):T.children.splice(this.index++,0,O),this.changed=!0}}isLocked(y){return this.lock&&(y==this.lock||y.nodeType==1&&y.contains(this.lock.parentNode))}}function preMatch(R,y){let T=y,A=T.children.length,O=R.childCount,z=new Map,U=[];e:for(;O>0;){let G;for(;;)if(A){let ee=T.children[A-1];if(ee instanceof MarkViewDesc)T=ee,A=ee.children.length;else{G=ee,A--;break}}else{if(T==y)break e;A=T.parent.children.indexOf(T),T=T.parent}let J=G.node;if(J){if(J!=R.child(O-1))break;--O,z.set(G,O),U.push(G)}}return{index:O,matched:z,matches:U.reverse()}}function compareSide(R,y){return R.type.side-y.type.side}function iterDeco(R,y,T,A){let O=y.locals(R),z=0;if(O.length==0){for(let ee=0;ee<R.childCount;ee++){let te=R.child(ee);A(te,O,y.forChild(z,te),ee),z+=te.nodeSize}return}let U=0,G=[],J=null;for(let ee=0;;){let te,ae;for(;U<O.length&&O[U].to==z;){let ye=O[U++];ye.widget&&(te?(ae||(ae=[te])).push(ye):te=ye)}if(te)if(ae){ae.sort(compareSide);for(let ye=0;ye<ae.length;ye++)T(ae[ye],ee,!!J)}else T(te,ee,!!J);let oe,pe;if(J)pe=-1,oe=J,J=null;else if(ee<R.childCount)pe=ee,oe=R.child(ee++);else break;for(let ye=0;ye<G.length;ye++)G[ye].to<=z&&G.splice(ye--,1);for(;U<O.length&&O[U].from<=z&&O[U].to>z;)G.push(O[U++]);let fe=z+oe.nodeSize;if(oe.isText){let ye=fe;U<O.length&&O[U].from<ye&&(ye=O[U].from);for(let _e=0;_e<G.length;_e++)G[_e].to<ye&&(ye=G[_e].to);ye<fe&&(J=oe.cut(ye-z),oe=oe.cut(0,ye-z),fe=ye,pe=-1)}else for(;U<O.length&&O[U].to<fe;)U++;let xe=oe.isInline&&!oe.isLeaf?G.filter(ye=>!ye.inline):G.slice();A(oe,xe,y.forChild(z,oe),pe),z=fe}}function iosHacks(R){if(R.nodeName=="UL"||R.nodeName=="OL"){let y=R.style.cssText;R.style.cssText=y+"; list-style: square !important",window.getComputedStyle(R).listStyle,R.style.cssText=y}}function findTextInFragment(R,y,T,A){for(let O=0,z=0;O<R.childCount&&z<=A;){let U=R.child(O++),G=z;if(z+=U.nodeSize,!U.isText)continue;let J=U.text;for(;O<R.childCount;){let ee=R.child(O++);if(z+=ee.nodeSize,!ee.isText)break;J+=ee.text}if(z>=T){if(z>=A&&J.slice(A-y.length-G,A-G)==y)return A-y.length;let ee=G<A?J.lastIndexOf(y,A-G-1):-1;if(ee>=0&&ee+y.length+G>=T)return G+ee;if(T==A&&J.length>=A+y.length-G&&J.slice(A-G,A-G+y.length)==y)return A}}return-1}function replaceNodes(R,y,T,A,O){let z=[];for(let U=0,G=0;U<R.length;U++){let J=R[U],ee=G,te=G+=J.size;ee>=T||te<=y?z.push(J):(ee<y&&z.push(J.slice(0,y-ee,A)),O&&(z.push(O),O=void 0),te>T&&z.push(J.slice(T-ee,J.size,A)))}return z}function selectionFromDOM(R,y=null){let T=R.domSelectionRange(),A=R.state.doc;if(!T.focusNode)return null;let O=R.docView.nearestDesc(T.focusNode),z=O&&O.size==0,U=R.docView.posFromDOM(T.focusNode,T.focusOffset,1);if(U<0)return null;let G=A.resolve(U),J,ee;if(selectionCollapsed(T)){for(J=U;O&&!O.node;)O=O.parent;let ae=O.node;if(O&&ae.isAtom&&NodeSelection.isSelectable(ae)&&O.parent&&!(ae.isInline&&isOnEdge(T.focusNode,T.focusOffset,O.dom))){let oe=O.posBefore;ee=new NodeSelection(U==oe?G:A.resolve(oe))}}else{if(T instanceof R.dom.ownerDocument.defaultView.Selection&&T.rangeCount>1){let ae=U,oe=U;for(let pe=0;pe<T.rangeCount;pe++){let fe=T.getRangeAt(pe);ae=Math.min(ae,R.docView.posFromDOM(fe.startContainer,fe.startOffset,1)),oe=Math.max(oe,R.docView.posFromDOM(fe.endContainer,fe.endOffset,-1))}if(ae<0)return null;[J,U]=oe==R.state.selection.anchor?[oe,ae]:[ae,oe],G=A.resolve(U)}else J=R.docView.posFromDOM(T.anchorNode,T.anchorOffset,1);if(J<0)return null}let te=A.resolve(J);if(!ee){let ae=y=="pointer"||R.state.selection.head<G.pos&&!z?1:-1;ee=selectionBetween(R,te,G,ae)}return ee}function editorOwnsSelection(R){return R.editable?R.hasFocus():hasSelection(R)&&document.activeElement&&document.activeElement.contains(R.dom)}function selectionToDOM(R,y=!1){let T=R.state.selection;if(syncNodeSelection(R,T),!!editorOwnsSelection(R)){if(!y&&R.input.mouseDown&&R.input.mouseDown.allowDefault&&chrome){let A=R.domSelectionRange(),O=R.domObserver.currentSelection;if(A.anchorNode&&O.anchorNode&&isEquivalentPosition(A.anchorNode,A.anchorOffset,O.anchorNode,O.anchorOffset)){R.input.mouseDown.delayedSelectionSync=!0,R.domObserver.setCurSelection();return}}if(R.domObserver.disconnectSelection(),R.cursorWrapper)selectCursorWrapper(R);else{let{anchor:A,head:O}=T,z,U;brokenSelectBetweenUneditable&&!(T instanceof TextSelection)&&(T.$from.parent.inlineContent||(z=temporarilyEditableNear(R,T.from)),!T.empty&&!T.$from.parent.inlineContent&&(U=temporarilyEditableNear(R,T.to))),R.docView.setSelection(A,O,R,y),brokenSelectBetweenUneditable&&(z&&resetEditable(z),U&&resetEditable(U)),T.visible?R.dom.classList.remove("ProseMirror-hideselection"):(R.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&removeClassOnSelectionChange(R))}R.domObserver.setCurSelection(),R.domObserver.connectSelection()}}const brokenSelectBetweenUneditable=safari||chrome&&chrome_version<63;function temporarilyEditableNear(R,y){let{node:T,offset:A}=R.docView.domFromPos(y,0),O=A<T.childNodes.length?T.childNodes[A]:null,z=A?T.childNodes[A-1]:null;if(safari&&O&&O.contentEditable=="false")return setEditable(O);if((!O||O.contentEditable=="false")&&(!z||z.contentEditable=="false")){if(O)return setEditable(O);if(z)return setEditable(z)}}function setEditable(R){return R.contentEditable="true",safari&&R.draggable&&(R.draggable=!1,R.wasDraggable=!0),R}function resetEditable(R){R.contentEditable="false",R.wasDraggable&&(R.draggable=!0,R.wasDraggable=null)}function removeClassOnSelectionChange(R){let y=R.dom.ownerDocument;y.removeEventListener("selectionchange",R.input.hideSelectionGuard);let T=R.domSelectionRange(),A=T.anchorNode,O=T.anchorOffset;y.addEventListener("selectionchange",R.input.hideSelectionGuard=()=>{(T.anchorNode!=A||T.anchorOffset!=O)&&(y.removeEventListener("selectionchange",R.input.hideSelectionGuard),setTimeout(()=>{(!editorOwnsSelection(R)||R.state.selection.visible)&&R.dom.classList.remove("ProseMirror-hideselection")},20))})}function selectCursorWrapper(R){let y=R.domSelection();if(!y)return;let T=R.cursorWrapper.dom,A=T.nodeName=="IMG";A?y.collapse(T.parentNode,domIndex(T)+1):y.collapse(T,0),!A&&!R.state.selection.visible&&ie$1&&ie_version<=11&&(T.disabled=!0,T.disabled=!1)}function syncNodeSelection(R,y){if(y instanceof NodeSelection){let T=R.docView.descAt(y.from);T!=R.lastSelectedViewDesc&&(clearNodeSelection(R),T&&T.selectNode(),R.lastSelectedViewDesc=T)}else clearNodeSelection(R)}function clearNodeSelection(R){R.lastSelectedViewDesc&&(R.lastSelectedViewDesc.parent&&R.lastSelectedViewDesc.deselectNode(),R.lastSelectedViewDesc=void 0)}function selectionBetween(R,y,T,A){return R.someProp("createSelectionBetween",O=>O(R,y,T))||TextSelection.between(y,T,A)}function hasFocusAndSelection(R){return R.editable&&!R.hasFocus()?!1:hasSelection(R)}function hasSelection(R){let y=R.domSelectionRange();if(!y.anchorNode)return!1;try{return R.dom.contains(y.anchorNode.nodeType==3?y.anchorNode.parentNode:y.anchorNode)&&(R.editable||R.dom.contains(y.focusNode.nodeType==3?y.focusNode.parentNode:y.focusNode))}catch{return!1}}function anchorInRightPlace(R){let y=R.docView.domFromPos(R.state.selection.anchor,0),T=R.domSelectionRange();return isEquivalentPosition(y.node,y.offset,T.anchorNode,T.anchorOffset)}function moveSelectionBlock(R,y){let{$anchor:T,$head:A}=R.selection,O=y>0?T.max(A):T.min(A),z=O.parent.inlineContent?O.depth?R.doc.resolve(y>0?O.after():O.before()):null:O;return z&&Selection.findFrom(z,y)}function apply(R,y){return R.dispatch(R.state.tr.setSelection(y).scrollIntoView()),!0}function selectHorizontally(R,y,T){let A=R.state.selection;if(A instanceof TextSelection)if(T.indexOf("s")>-1){let{$head:O}=A,z=O.textOffset?null:y<0?O.nodeBefore:O.nodeAfter;if(!z||z.isText||!z.isLeaf)return!1;let U=R.state.doc.resolve(O.pos+z.nodeSize*(y<0?-1:1));return apply(R,new TextSelection(A.$anchor,U))}else if(A.empty){if(R.endOfTextblock(y>0?"forward":"backward")){let O=moveSelectionBlock(R.state,y);return O&&O instanceof NodeSelection?apply(R,O):!1}else if(!(mac$2&&T.indexOf("m")>-1)){let O=A.$head,z=O.textOffset?null:y<0?O.nodeBefore:O.nodeAfter,U;if(!z||z.isText)return!1;let G=y<0?O.pos-z.nodeSize:O.pos;return z.isAtom||(U=R.docView.descAt(G))&&!U.contentDOM?NodeSelection.isSelectable(z)?apply(R,new NodeSelection(y<0?R.state.doc.resolve(O.pos-z.nodeSize):O)):webkit?apply(R,new TextSelection(R.state.doc.resolve(y<0?G:G+z.nodeSize))):!1:!1}}else return!1;else{if(A instanceof NodeSelection&&A.node.isInline)return apply(R,new TextSelection(y>0?A.$to:A.$from));{let O=moveSelectionBlock(R.state,y);return O?apply(R,O):!1}}}function nodeLen(R){return R.nodeType==3?R.nodeValue.length:R.childNodes.length}function isIgnorable(R,y){let T=R.pmViewDesc;return T&&T.size==0&&(y<0||R.nextSibling||R.nodeName!="BR")}function skipIgnoredNodes(R,y){return y<0?skipIgnoredNodesBefore(R):skipIgnoredNodesAfter(R)}function skipIgnoredNodesBefore(R){let y=R.domSelectionRange(),T=y.focusNode,A=y.focusOffset;if(!T)return;let O,z,U=!1;for(gecko&&T.nodeType==1&&A<nodeLen(T)&&isIgnorable(T.childNodes[A],-1)&&(U=!0);;)if(A>0){if(T.nodeType!=1)break;{let G=T.childNodes[A-1];if(isIgnorable(G,-1))O=T,z=--A;else if(G.nodeType==3)T=G,A=T.nodeValue.length;else break}}else{if(isBlockNode(T))break;{let G=T.previousSibling;for(;G&&isIgnorable(G,-1);)O=T.parentNode,z=domIndex(G),G=G.previousSibling;if(G)T=G,A=nodeLen(T);else{if(T=T.parentNode,T==R.dom)break;A=0}}}U?setSelFocus(R,T,A):O&&setSelFocus(R,O,z)}function skipIgnoredNodesAfter(R){let y=R.domSelectionRange(),T=y.focusNode,A=y.focusOffset;if(!T)return;let O=nodeLen(T),z,U;for(;;)if(A<O){if(T.nodeType!=1)break;let G=T.childNodes[A];if(isIgnorable(G,1))z=T,U=++A;else break}else{if(isBlockNode(T))break;{let G=T.nextSibling;for(;G&&isIgnorable(G,1);)z=G.parentNode,U=domIndex(G)+1,G=G.nextSibling;if(G)T=G,A=0,O=nodeLen(T);else{if(T=T.parentNode,T==R.dom)break;A=O=0}}}z&&setSelFocus(R,z,U)}function isBlockNode(R){let y=R.pmViewDesc;return y&&y.node&&y.node.isBlock}function textNodeAfter(R,y){for(;R&&y==R.childNodes.length&&!hasBlockDesc(R);)y=domIndex(R)+1,R=R.parentNode;for(;R&&y<R.childNodes.length;){let T=R.childNodes[y];if(T.nodeType==3)return T;if(T.nodeType==1&&T.contentEditable=="false")break;R=T,y=0}}function textNodeBefore(R,y){for(;R&&!y&&!hasBlockDesc(R);)y=domIndex(R),R=R.parentNode;for(;R&&y;){let T=R.childNodes[y-1];if(T.nodeType==3)return T;if(T.nodeType==1&&T.contentEditable=="false")break;R=T,y=R.childNodes.length}}function setSelFocus(R,y,T){if(y.nodeType!=3){let z,U;(U=textNodeAfter(y,T))?(y=U,T=0):(z=textNodeBefore(y,T))&&(y=z,T=z.nodeValue.length)}let A=R.domSelection();if(!A)return;if(selectionCollapsed(A)){let z=document.createRange();z.setEnd(y,T),z.setStart(y,T),A.removeAllRanges(),A.addRange(z)}else A.extend&&A.extend(y,T);R.domObserver.setCurSelection();let{state:O}=R;setTimeout(()=>{R.state==O&&selectionToDOM(R)},50)}function findDirection(R,y){let T=R.state.doc.resolve(y);if(!(chrome||windows$1)&&T.parent.inlineContent){let O=R.coordsAtPos(y);if(y>T.start()){let z=R.coordsAtPos(y-1),U=(z.top+z.bottom)/2;if(U>O.top&&U<O.bottom&&Math.abs(z.left-O.left)>1)return z.left<O.left?"ltr":"rtl"}if(y<T.end()){let z=R.coordsAtPos(y+1),U=(z.top+z.bottom)/2;if(U>O.top&&U<O.bottom&&Math.abs(z.left-O.left)>1)return z.left>O.left?"ltr":"rtl"}}return getComputedStyle(R.dom).direction=="rtl"?"rtl":"ltr"}function selectVertically(R,y,T){let A=R.state.selection;if(A instanceof TextSelection&&!A.empty||T.indexOf("s")>-1||mac$2&&T.indexOf("m")>-1)return!1;let{$from:O,$to:z}=A;if(!O.parent.inlineContent||R.endOfTextblock(y<0?"up":"down")){let U=moveSelectionBlock(R.state,y);if(U&&U instanceof NodeSelection)return apply(R,U)}if(!O.parent.inlineContent){let U=y<0?O:z,G=A instanceof AllSelection?Selection.near(U,y):Selection.findFrom(U,y);return G?apply(R,G):!1}return!1}function stopNativeHorizontalDelete(R,y){if(!(R.state.selection instanceof TextSelection))return!0;let{$head:T,$anchor:A,empty:O}=R.state.selection;if(!T.sameParent(A))return!0;if(!O)return!1;if(R.endOfTextblock(y>0?"forward":"backward"))return!0;let z=!T.textOffset&&(y<0?T.nodeBefore:T.nodeAfter);if(z&&!z.isText){let U=R.state.tr;return y<0?U.delete(T.pos-z.nodeSize,T.pos):U.delete(T.pos,T.pos+z.nodeSize),R.dispatch(U),!0}return!1}function switchEditable(R,y,T){R.domObserver.stop(),y.contentEditable=T,R.domObserver.start()}function safariDownArrowBug(R){if(!safari||R.state.selection.$head.parentOffset>0)return!1;let{focusNode:y,focusOffset:T}=R.domSelectionRange();if(y&&y.nodeType==1&&T==0&&y.firstChild&&y.firstChild.contentEditable=="false"){let A=y.firstChild;switchEditable(R,A,"true"),setTimeout(()=>switchEditable(R,A,"false"),20)}return!1}function getMods(R){let y="";return R.ctrlKey&&(y+="c"),R.metaKey&&(y+="m"),R.altKey&&(y+="a"),R.shiftKey&&(y+="s"),y}function captureKeyDown(R,y){let T=y.keyCode,A=getMods(y);if(T==8||mac$2&&T==72&&A=="c")return stopNativeHorizontalDelete(R,-1)||skipIgnoredNodes(R,-1);if(T==46&&!y.shiftKey||mac$2&&T==68&&A=="c")return stopNativeHorizontalDelete(R,1)||skipIgnoredNodes(R,1);if(T==13||T==27)return!0;if(T==37||mac$2&&T==66&&A=="c"){let O=T==37?findDirection(R,R.state.selection.from)=="ltr"?-1:1:-1;return selectHorizontally(R,O,A)||skipIgnoredNodes(R,O)}else if(T==39||mac$2&&T==70&&A=="c"){let O=T==39?findDirection(R,R.state.selection.from)=="ltr"?1:-1:1;return selectHorizontally(R,O,A)||skipIgnoredNodes(R,O)}else{if(T==38||mac$2&&T==80&&A=="c")return selectVertically(R,-1,A)||skipIgnoredNodes(R,-1);if(T==40||mac$2&&T==78&&A=="c")return safariDownArrowBug(R)||selectVertically(R,1,A)||skipIgnoredNodes(R,1);if(A==(mac$2?"m":"c")&&(T==66||T==73||T==89||T==90))return!0}return!1}function serializeForClipboard(R,y){R.someProp("transformCopied",pe=>{y=pe(y,R)});let T=[],{content:A,openStart:O,openEnd:z}=y;for(;O>1&&z>1&&A.childCount==1&&A.firstChild.childCount==1;){O--,z--;let pe=A.firstChild;T.push(pe.type.name,pe.attrs!=pe.type.defaultAttrs?pe.attrs:null),A=pe.content}let U=R.someProp("clipboardSerializer")||DOMSerializer.fromSchema(R.state.schema),G=detachedDoc(),J=G.createElement("div");J.appendChild(U.serializeFragment(A,{document:G}));let ee=J.firstChild,te,ae=0;for(;ee&&ee.nodeType==1&&(te=wrapMap[ee.nodeName.toLowerCase()]);){for(let pe=te.length-1;pe>=0;pe--){let fe=G.createElement(te[pe]);for(;J.firstChild;)fe.appendChild(J.firstChild);J.appendChild(fe),ae++}ee=J.firstChild}ee&&ee.nodeType==1&&ee.setAttribute("data-pm-slice",`${O} ${z}${ae?` -${ae}`:""} ${JSON.stringify(T)}`);let oe=R.someProp("clipboardTextSerializer",pe=>pe(y,R))||y.content.textBetween(0,y.content.size,`

`);return{dom:J,text:oe,slice:y}}function parseFromClipboard(R,y,T,A,O){let z=O.parent.type.spec.code,U,G;if(!T&&!y)return null;let J=!!y&&(A||z||!T);if(J){if(R.someProp("transformPastedText",oe=>{y=oe(y,z||A,R)}),z)return G=new Slice(Fragment.from(R.state.schema.text(y.replace(/\r\n?/g,`
`))),0,0),R.someProp("transformPasted",oe=>{G=oe(G,R,!0)}),G;let ae=R.someProp("clipboardTextParser",oe=>oe(y,O,A,R));if(ae)G=ae;else{let oe=O.marks(),{schema:pe}=R.state,fe=DOMSerializer.fromSchema(pe);U=document.createElement("div"),y.split(/(?:\r\n?|\n)+/).forEach(xe=>{let ye=U.appendChild(document.createElement("p"));xe&&ye.appendChild(fe.serializeNode(pe.text(xe,oe)))})}}else R.someProp("transformPastedHTML",ae=>{T=ae(T,R)}),U=readHTML(T),webkit&&restoreReplacedSpaces(U);let ee=U&&U.querySelector("[data-pm-slice]"),te=ee&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(ee.getAttribute("data-pm-slice")||"");if(te&&te[3])for(let ae=+te[3];ae>0;ae--){let oe=U.firstChild;for(;oe&&oe.nodeType!=1;)oe=oe.nextSibling;if(!oe)break;U=oe}if(G||(G=(R.someProp("clipboardParser")||R.someProp("domParser")||DOMParser.fromSchema(R.state.schema)).parseSlice(U,{preserveWhitespace:!!(J||te),context:O,ruleFromNode(oe){return oe.nodeName=="BR"&&!oe.nextSibling&&oe.parentNode&&!inlineParents.test(oe.parentNode.nodeName)?{ignore:!0}:null}})),te)G=addContext(closeSlice(G,+te[1],+te[2]),te[4]);else if(G=Slice.maxOpen(normalizeSiblings(G.content,O),!0),G.openStart||G.openEnd){let ae=0,oe=0;for(let pe=G.content.firstChild;ae<G.openStart&&!pe.type.spec.isolating;ae++,pe=pe.firstChild);for(let pe=G.content.lastChild;oe<G.openEnd&&!pe.type.spec.isolating;oe++,pe=pe.lastChild);G=closeSlice(G,ae,oe)}return R.someProp("transformPasted",ae=>{G=ae(G,R,J)}),G}const inlineParents=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function normalizeSiblings(R,y){if(R.childCount<2)return R;for(let T=y.depth;T>=0;T--){let O=y.node(T).contentMatchAt(y.index(T)),z,U=[];if(R.forEach(G=>{if(!U)return;let J=O.findWrapping(G.type),ee;if(!J)return U=null;if(ee=U.length&&z.length&&addToSibling(J,z,G,U[U.length-1],0))U[U.length-1]=ee;else{U.length&&(U[U.length-1]=closeRight(U[U.length-1],z.length));let te=withWrappers(G,J);U.push(te),O=O.matchType(te.type),z=J}}),U)return Fragment.from(U)}return R}function withWrappers(R,y,T=0){for(let A=y.length-1;A>=T;A--)R=y[A].create(null,Fragment.from(R));return R}function addToSibling(R,y,T,A,O){if(O<R.length&&O<y.length&&R[O]==y[O]){let z=addToSibling(R,y,T,A.lastChild,O+1);if(z)return A.copy(A.content.replaceChild(A.childCount-1,z));if(A.contentMatchAt(A.childCount).matchType(O==R.length-1?T.type:R[O+1]))return A.copy(A.content.append(Fragment.from(withWrappers(T,R,O+1))))}}function closeRight(R,y){if(y==0)return R;let T=R.content.replaceChild(R.childCount-1,closeRight(R.lastChild,y-1)),A=R.contentMatchAt(R.childCount).fillBefore(Fragment.empty,!0);return R.copy(T.append(A))}function closeRange(R,y,T,A,O,z){let U=y<0?R.firstChild:R.lastChild,G=U.content;return R.childCount>1&&(z=0),O<A-1&&(G=closeRange(G,y,T,A,O+1,z)),O>=T&&(G=y<0?U.contentMatchAt(0).fillBefore(G,z<=O).append(G):G.append(U.contentMatchAt(U.childCount).fillBefore(Fragment.empty,!0))),R.replaceChild(y<0?0:R.childCount-1,U.copy(G))}function closeSlice(R,y,T){return y<R.openStart&&(R=new Slice(closeRange(R.content,-1,y,R.openStart,0,R.openEnd),y,R.openEnd)),T<R.openEnd&&(R=new Slice(closeRange(R.content,1,T,R.openEnd,0,0),R.openStart,T)),R}const wrapMap={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _detachedDoc=null;function detachedDoc(){return _detachedDoc||(_detachedDoc=document.implementation.createHTMLDocument("title"))}let _policy=null;function maybeWrapTrusted(R){let y=window.trustedTypes;return y?(_policy||(_policy=y.defaultPolicy||y.createPolicy("ProseMirrorClipboard",{createHTML:T=>T})),_policy.createHTML(R)):R}function readHTML(R){let y=/^(\s*<meta [^>]*>)*/.exec(R);y&&(R=R.slice(y[0].length));let T=detachedDoc().createElement("div"),A=/<([a-z][^>\s]+)/i.exec(R),O;if((O=A&&wrapMap[A[1].toLowerCase()])&&(R=O.map(z=>"<"+z+">").join("")+R+O.map(z=>"</"+z+">").reverse().join("")),T.innerHTML=maybeWrapTrusted(R),O)for(let z=0;z<O.length;z++)T=T.querySelector(O[z])||T;return T}function restoreReplacedSpaces(R){let y=R.querySelectorAll(chrome?"span:not([class]):not([style])":"span.Apple-converted-space");for(let T=0;T<y.length;T++){let A=y[T];A.childNodes.length==1&&A.textContent==""&&A.parentNode&&A.parentNode.replaceChild(R.ownerDocument.createTextNode(" "),A)}}function addContext(R,y){if(!R.size)return R;let T=R.content.firstChild.type.schema,A;try{A=JSON.parse(y)}catch{return R}let{content:O,openStart:z,openEnd:U}=R;for(let G=A.length-2;G>=0;G-=2){let J=T.nodes[A[G]];if(!J||J.hasRequiredAttrs())break;O=Fragment.from(J.create(A[G+1],O)),z++,U++}return new Slice(O,z,U)}const handlers={},editHandlers={},passiveHandlers={touchstart:!0,touchmove:!0};class InputState{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function initInput(R){for(let y in handlers){let T=handlers[y];R.dom.addEventListener(y,R.input.eventHandlers[y]=A=>{eventBelongsToView(R,A)&&!runCustomHandler(R,A)&&(R.editable||!(A.type in editHandlers))&&T(R,A)},passiveHandlers[y]?{passive:!0}:void 0)}safari&&R.dom.addEventListener("input",()=>null),ensureListeners(R)}function setSelectionOrigin(R,y){R.input.lastSelectionOrigin=y,R.input.lastSelectionTime=Date.now()}function destroyInput(R){R.domObserver.stop();for(let y in R.input.eventHandlers)R.dom.removeEventListener(y,R.input.eventHandlers[y]);clearTimeout(R.input.composingTimeout),clearTimeout(R.input.lastIOSEnterFallbackTimeout)}function ensureListeners(R){R.someProp("handleDOMEvents",y=>{for(let T in y)R.input.eventHandlers[T]||R.dom.addEventListener(T,R.input.eventHandlers[T]=A=>runCustomHandler(R,A))})}function runCustomHandler(R,y){return R.someProp("handleDOMEvents",T=>{let A=T[y.type];return A?A(R,y)||y.defaultPrevented:!1})}function eventBelongsToView(R,y){if(!y.bubbles)return!0;if(y.defaultPrevented)return!1;for(let T=y.target;T!=R.dom;T=T.parentNode)if(!T||T.nodeType==11||T.pmViewDesc&&T.pmViewDesc.stopEvent(y))return!1;return!0}function dispatchEvent(R,y){!runCustomHandler(R,y)&&handlers[y.type]&&(R.editable||!(y.type in editHandlers))&&handlers[y.type](R,y)}editHandlers.keydown=(R,y)=>{let T=y;if(R.input.shiftKey=T.keyCode==16||T.shiftKey,!inOrNearComposition(R,T)&&(R.input.lastKeyCode=T.keyCode,R.input.lastKeyCodeTime=Date.now(),!(android&&chrome&&T.keyCode==13)))if(T.keyCode!=229&&R.domObserver.forceFlush(),ios&&T.keyCode==13&&!T.ctrlKey&&!T.altKey&&!T.metaKey){let A=Date.now();R.input.lastIOSEnter=A,R.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{R.input.lastIOSEnter==A&&(R.someProp("handleKeyDown",O=>O(R,keyEvent(13,"Enter"))),R.input.lastIOSEnter=0)},200)}else R.someProp("handleKeyDown",A=>A(R,T))||captureKeyDown(R,T)?T.preventDefault():setSelectionOrigin(R,"key")};editHandlers.keyup=(R,y)=>{y.keyCode==16&&(R.input.shiftKey=!1)};editHandlers.keypress=(R,y)=>{let T=y;if(inOrNearComposition(R,T)||!T.charCode||T.ctrlKey&&!T.altKey||mac$2&&T.metaKey)return;if(R.someProp("handleKeyPress",O=>O(R,T))){T.preventDefault();return}let A=R.state.selection;if(!(A instanceof TextSelection)||!A.$from.sameParent(A.$to)){let O=String.fromCharCode(T.charCode),z=()=>R.state.tr.insertText(O).scrollIntoView();!/[\r\n]/.test(O)&&!R.someProp("handleTextInput",U=>U(R,A.$from.pos,A.$to.pos,O,z))&&R.dispatch(z()),T.preventDefault()}};function eventCoords(R){return{left:R.clientX,top:R.clientY}}function isNear(R,y){let T=y.x-R.clientX,A=y.y-R.clientY;return T*T+A*A<100}function runHandlerOnContext(R,y,T,A,O){if(A==-1)return!1;let z=R.state.doc.resolve(A);for(let U=z.depth+1;U>0;U--)if(R.someProp(y,G=>U>z.depth?G(R,T,z.nodeAfter,z.before(U),O,!0):G(R,T,z.node(U),z.before(U),O,!1)))return!0;return!1}function updateSelection(R,y,T){if(R.focused||R.focus(),R.state.selection.eq(y))return;let A=R.state.tr.setSelection(y);A.setMeta("pointer",!0),R.dispatch(A)}function selectClickedLeaf(R,y){if(y==-1)return!1;let T=R.state.doc.resolve(y),A=T.nodeAfter;return A&&A.isAtom&&NodeSelection.isSelectable(A)?(updateSelection(R,new NodeSelection(T)),!0):!1}function selectClickedNode(R,y){if(y==-1)return!1;let T=R.state.selection,A,O;T instanceof NodeSelection&&(A=T.node);let z=R.state.doc.resolve(y);for(let U=z.depth+1;U>0;U--){let G=U>z.depth?z.nodeAfter:z.node(U);if(NodeSelection.isSelectable(G)){A&&T.$from.depth>0&&U>=T.$from.depth&&z.before(T.$from.depth+1)==T.$from.pos?O=z.before(T.$from.depth):O=z.before(U);break}}return O!=null?(updateSelection(R,NodeSelection.create(R.state.doc,O)),!0):!1}function handleSingleClick(R,y,T,A,O){return runHandlerOnContext(R,"handleClickOn",y,T,A)||R.someProp("handleClick",z=>z(R,y,A))||(O?selectClickedNode(R,T):selectClickedLeaf(R,T))}function handleDoubleClick(R,y,T,A){return runHandlerOnContext(R,"handleDoubleClickOn",y,T,A)||R.someProp("handleDoubleClick",O=>O(R,y,A))}function handleTripleClick(R,y,T,A){return runHandlerOnContext(R,"handleTripleClickOn",y,T,A)||R.someProp("handleTripleClick",O=>O(R,y,A))||defaultTripleClick(R,T,A)}function defaultTripleClick(R,y,T){if(T.button!=0)return!1;let A=R.state.doc;if(y==-1)return A.inlineContent?(updateSelection(R,TextSelection.create(A,0,A.content.size)),!0):!1;let O=A.resolve(y);for(let z=O.depth+1;z>0;z--){let U=z>O.depth?O.nodeAfter:O.node(z),G=O.before(z);if(U.inlineContent)updateSelection(R,TextSelection.create(A,G+1,G+1+U.content.size));else if(NodeSelection.isSelectable(U))updateSelection(R,NodeSelection.create(A,G));else continue;return!0}}function forceDOMFlush(R){return endComposition(R)}const selectNodeModifier=mac$2?"metaKey":"ctrlKey";handlers.mousedown=(R,y)=>{let T=y;R.input.shiftKey=T.shiftKey;let A=forceDOMFlush(R),O=Date.now(),z="singleClick";O-R.input.lastClick.time<500&&isNear(T,R.input.lastClick)&&!T[selectNodeModifier]&&R.input.lastClick.button==T.button&&(R.input.lastClick.type=="singleClick"?z="doubleClick":R.input.lastClick.type=="doubleClick"&&(z="tripleClick")),R.input.lastClick={time:O,x:T.clientX,y:T.clientY,type:z,button:T.button};let U=R.posAtCoords(eventCoords(T));U&&(z=="singleClick"?(R.input.mouseDown&&R.input.mouseDown.done(),R.input.mouseDown=new MouseDown(R,U,T,!!A)):(z=="doubleClick"?handleDoubleClick:handleTripleClick)(R,U.pos,U.inside,T)?T.preventDefault():setSelectionOrigin(R,"pointer"))};class MouseDown{constructor(y,T,A,O){this.view=y,this.pos=T,this.event=A,this.flushed=O,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=y.state.doc,this.selectNode=!!A[selectNodeModifier],this.allowDefault=A.shiftKey;let z,U;if(T.inside>-1)z=y.state.doc.nodeAt(T.inside),U=T.inside;else{let te=y.state.doc.resolve(T.pos);z=te.parent,U=te.depth?te.before():0}const G=O?null:A.target,J=G?y.docView.nearestDesc(G,!0):null;this.target=J&&J.nodeDOM.nodeType==1?J.nodeDOM:null;let{selection:ee}=y.state;(A.button==0&&z.type.spec.draggable&&z.type.spec.selectable!==!1||ee instanceof NodeSelection&&ee.from<=U&&ee.to>U)&&(this.mightDrag={node:z,pos:U,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gecko&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),y.root.addEventListener("mouseup",this.up=this.up.bind(this)),y.root.addEventListener("mousemove",this.move=this.move.bind(this)),setSelectionOrigin(y,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>selectionToDOM(this.view)),this.view.input.mouseDown=null}up(y){if(this.done(),!this.view.dom.contains(y.target))return;let T=this.pos;this.view.state.doc!=this.startDoc&&(T=this.view.posAtCoords(eventCoords(y))),this.updateAllowDefault(y),this.allowDefault||!T?setSelectionOrigin(this.view,"pointer"):handleSingleClick(this.view,T.pos,T.inside,y,this.selectNode)?y.preventDefault():y.button==0&&(this.flushed||safari&&this.mightDrag&&!this.mightDrag.node.isAtom||chrome&&!this.view.state.selection.visible&&Math.min(Math.abs(T.pos-this.view.state.selection.from),Math.abs(T.pos-this.view.state.selection.to))<=2)?(updateSelection(this.view,Selection.near(this.view.state.doc.resolve(T.pos))),y.preventDefault()):setSelectionOrigin(this.view,"pointer")}move(y){this.updateAllowDefault(y),setSelectionOrigin(this.view,"pointer"),y.buttons==0&&this.done()}updateAllowDefault(y){!this.allowDefault&&(Math.abs(this.event.x-y.clientX)>4||Math.abs(this.event.y-y.clientY)>4)&&(this.allowDefault=!0)}}handlers.touchstart=R=>{R.input.lastTouch=Date.now(),forceDOMFlush(R),setSelectionOrigin(R,"pointer")};handlers.touchmove=R=>{R.input.lastTouch=Date.now(),setSelectionOrigin(R,"pointer")};handlers.contextmenu=R=>forceDOMFlush(R);function inOrNearComposition(R,y){return R.composing?!0:safari&&Math.abs(y.timeStamp-R.input.compositionEndedAt)<500?(R.input.compositionEndedAt=-2e8,!0):!1}const timeoutComposition=android?5e3:-1;editHandlers.compositionstart=editHandlers.compositionupdate=R=>{if(!R.composing){R.domObserver.flush();let{state:y}=R,T=y.selection.$to;if(y.selection instanceof TextSelection&&(y.storedMarks||!T.textOffset&&T.parentOffset&&T.nodeBefore.marks.some(A=>A.type.spec.inclusive===!1)||chrome&&windows$1&&selectionBeforeUneditable(R)))R.markCursor=R.state.storedMarks||T.marks(),endComposition(R,!0),R.markCursor=null;else if(endComposition(R,!y.selection.empty),gecko&&y.selection.empty&&T.parentOffset&&!T.textOffset&&T.nodeBefore.marks.length){let A=R.domSelectionRange();for(let O=A.focusNode,z=A.focusOffset;O&&O.nodeType==1&&z!=0;){let U=z<0?O.lastChild:O.childNodes[z-1];if(!U)break;if(U.nodeType==3){let G=R.domSelection();G&&G.collapse(U,U.nodeValue.length);break}else O=U,z=-1}}R.input.composing=!0}scheduleComposeEnd(R,timeoutComposition)};function selectionBeforeUneditable(R){let{focusNode:y,focusOffset:T}=R.domSelectionRange();if(!y||y.nodeType!=1||T>=y.childNodes.length)return!1;let A=y.childNodes[T];return A.nodeType==1&&A.contentEditable=="false"}editHandlers.compositionend=(R,y)=>{R.composing&&(R.input.composing=!1,R.input.compositionEndedAt=y.timeStamp,R.input.compositionPendingChanges=R.domObserver.pendingRecords().length?R.input.compositionID:0,R.input.compositionNode=null,R.input.compositionPendingChanges&&Promise.resolve().then(()=>R.domObserver.flush()),R.input.compositionID++,scheduleComposeEnd(R,20))};function scheduleComposeEnd(R,y){clearTimeout(R.input.composingTimeout),y>-1&&(R.input.composingTimeout=setTimeout(()=>endComposition(R),y))}function clearComposition(R){for(R.composing&&(R.input.composing=!1,R.input.compositionEndedAt=timestampFromCustomEvent());R.input.compositionNodes.length>0;)R.input.compositionNodes.pop().markParentsDirty()}function findCompositionNode(R){let y=R.domSelectionRange();if(!y.focusNode)return null;let T=textNodeBefore$1(y.focusNode,y.focusOffset),A=textNodeAfter$1(y.focusNode,y.focusOffset);if(T&&A&&T!=A){let O=A.pmViewDesc,z=R.domObserver.lastChangedTextNode;if(T==z||A==z)return z;if(!O||!O.isText(A.nodeValue))return A;if(R.input.compositionNode==A){let U=T.pmViewDesc;if(!(!U||!U.isText(T.nodeValue)))return A}}return T||A}function timestampFromCustomEvent(){let R=document.createEvent("Event");return R.initEvent("event",!0,!0),R.timeStamp}function endComposition(R,y=!1){if(!(android&&R.domObserver.flushingSoon>=0)){if(R.domObserver.forceFlush(),clearComposition(R),y||R.docView&&R.docView.dirty){let T=selectionFromDOM(R),A=R.state.selection;return T&&!T.eq(A)?R.dispatch(R.state.tr.setSelection(T)):(R.markCursor||y)&&!A.$from.node(A.$from.sharedDepth(A.to)).inlineContent?R.dispatch(R.state.tr.deleteSelection()):R.updateState(R.state),!0}return!1}}function captureCopy(R,y){if(!R.dom.parentNode)return;let T=R.dom.parentNode.appendChild(document.createElement("div"));T.appendChild(y),T.style.cssText="position: fixed; left: -10000px; top: 10px";let A=getSelection(),O=document.createRange();O.selectNodeContents(y),R.dom.blur(),A.removeAllRanges(),A.addRange(O),setTimeout(()=>{T.parentNode&&T.parentNode.removeChild(T),R.focus()},50)}const brokenClipboardAPI=ie$1&&ie_version<15||ios&&webkit_version<604;handlers.copy=editHandlers.cut=(R,y)=>{let T=y,A=R.state.selection,O=T.type=="cut";if(A.empty)return;let z=brokenClipboardAPI?null:T.clipboardData,U=A.content(),{dom:G,text:J}=serializeForClipboard(R,U);z?(T.preventDefault(),z.clearData(),z.setData("text/html",G.innerHTML),z.setData("text/plain",J)):captureCopy(R,G),O&&R.dispatch(R.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function sliceSingleNode(R){return R.openStart==0&&R.openEnd==0&&R.content.childCount==1?R.content.firstChild:null}function capturePaste(R,y){if(!R.dom.parentNode)return;let T=R.input.shiftKey||R.state.selection.$from.parent.type.spec.code,A=R.dom.parentNode.appendChild(document.createElement(T?"textarea":"div"));T||(A.contentEditable="true"),A.style.cssText="position: fixed; left: -10000px; top: 10px",A.focus();let O=R.input.shiftKey&&R.input.lastKeyCode!=45;setTimeout(()=>{R.focus(),A.parentNode&&A.parentNode.removeChild(A),T?doPaste(R,A.value,null,O,y):doPaste(R,A.textContent,A.innerHTML,O,y)},50)}function doPaste(R,y,T,A,O){let z=parseFromClipboard(R,y,T,A,R.state.selection.$from);if(R.someProp("handlePaste",J=>J(R,O,z||Slice.empty)))return!0;if(!z)return!1;let U=sliceSingleNode(z),G=U?R.state.tr.replaceSelectionWith(U,A):R.state.tr.replaceSelection(z);return R.dispatch(G.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function getText$1(R){let y=R.getData("text/plain")||R.getData("Text");if(y)return y;let T=R.getData("text/uri-list");return T?T.replace(/\r?\n/g," "):""}editHandlers.paste=(R,y)=>{let T=y;if(R.composing&&!android)return;let A=brokenClipboardAPI?null:T.clipboardData,O=R.input.shiftKey&&R.input.lastKeyCode!=45;A&&doPaste(R,getText$1(A),A.getData("text/html"),O,T)?T.preventDefault():capturePaste(R,T)};class Dragging{constructor(y,T,A){this.slice=y,this.move=T,this.node=A}}const dragCopyModifier=mac$2?"altKey":"ctrlKey";function dragMoves(R,y){let T=R.someProp("dragCopies",A=>!A(y));return T??!y[dragCopyModifier]}handlers.dragstart=(R,y)=>{let T=y,A=R.input.mouseDown;if(A&&A.done(),!T.dataTransfer)return;let O=R.state.selection,z=O.empty?null:R.posAtCoords(eventCoords(T)),U;if(!(z&&z.pos>=O.from&&z.pos<=(O instanceof NodeSelection?O.to-1:O.to))){if(A&&A.mightDrag)U=NodeSelection.create(R.state.doc,A.mightDrag.pos);else if(T.target&&T.target.nodeType==1){let ae=R.docView.nearestDesc(T.target,!0);ae&&ae.node.type.spec.draggable&&ae!=R.docView&&(U=NodeSelection.create(R.state.doc,ae.posBefore))}}let G=(U||R.state.selection).content(),{dom:J,text:ee,slice:te}=serializeForClipboard(R,G);(!T.dataTransfer.files.length||!chrome||chrome_version>120)&&T.dataTransfer.clearData(),T.dataTransfer.setData(brokenClipboardAPI?"Text":"text/html",J.innerHTML),T.dataTransfer.effectAllowed="copyMove",brokenClipboardAPI||T.dataTransfer.setData("text/plain",ee),R.dragging=new Dragging(te,dragMoves(R,T),U)};handlers.dragend=R=>{let y=R.dragging;window.setTimeout(()=>{R.dragging==y&&(R.dragging=null)},50)};editHandlers.dragover=editHandlers.dragenter=(R,y)=>y.preventDefault();editHandlers.drop=(R,y)=>{try{handleDrop(R,y,R.dragging)}finally{R.dragging=null}};function handleDrop(R,y,T){if(!y.dataTransfer)return;let A=R.posAtCoords(eventCoords(y));if(!A)return;let O=R.state.doc.resolve(A.pos),z=T&&T.slice;z?R.someProp("transformPasted",pe=>{z=pe(z,R,!1)}):z=parseFromClipboard(R,getText$1(y.dataTransfer),brokenClipboardAPI?null:y.dataTransfer.getData("text/html"),!1,O);let U=!!(T&&dragMoves(R,y));if(R.someProp("handleDrop",pe=>pe(R,y,z||Slice.empty,U))){y.preventDefault();return}if(!z)return;y.preventDefault();let G=z?dropPoint(R.state.doc,O.pos,z):O.pos;G==null&&(G=O.pos);let J=R.state.tr;if(U){let{node:pe}=T;pe?pe.replace(J):J.deleteSelection()}let ee=J.mapping.map(G),te=z.openStart==0&&z.openEnd==0&&z.content.childCount==1,ae=J.doc;if(te?J.replaceRangeWith(ee,ee,z.content.firstChild):J.replaceRange(ee,ee,z),J.doc.eq(ae))return;let oe=J.doc.resolve(ee);if(te&&NodeSelection.isSelectable(z.content.firstChild)&&oe.nodeAfter&&oe.nodeAfter.sameMarkup(z.content.firstChild))J.setSelection(new NodeSelection(oe));else{let pe=J.mapping.map(G);J.mapping.maps[J.mapping.maps.length-1].forEach((fe,xe,ye,_e)=>pe=_e),J.setSelection(selectionBetween(R,oe,J.doc.resolve(pe)))}R.focus(),R.dispatch(J.setMeta("uiEvent","drop"))}handlers.focus=R=>{R.input.lastFocus=Date.now(),R.focused||(R.domObserver.stop(),R.dom.classList.add("ProseMirror-focused"),R.domObserver.start(),R.focused=!0,setTimeout(()=>{R.docView&&R.hasFocus()&&!R.domObserver.currentSelection.eq(R.domSelectionRange())&&selectionToDOM(R)},20))};handlers.blur=(R,y)=>{let T=y;R.focused&&(R.domObserver.stop(),R.dom.classList.remove("ProseMirror-focused"),R.domObserver.start(),T.relatedTarget&&R.dom.contains(T.relatedTarget)&&R.domObserver.currentSelection.clear(),R.focused=!1)};handlers.beforeinput=(R,y)=>{if(chrome&&android&&y.inputType=="deleteContentBackward"){R.domObserver.flushSoon();let{domChangeCount:A}=R.input;setTimeout(()=>{if(R.input.domChangeCount!=A||(R.dom.blur(),R.focus(),R.someProp("handleKeyDown",z=>z(R,keyEvent(8,"Backspace")))))return;let{$cursor:O}=R.state.selection;O&&O.pos>0&&R.dispatch(R.state.tr.delete(O.pos-1,O.pos).scrollIntoView())},50)}};for(let R in editHandlers)handlers[R]=editHandlers[R];function compareObjs(R,y){if(R==y)return!0;for(let T in R)if(R[T]!==y[T])return!1;for(let T in y)if(!(T in R))return!1;return!0}class WidgetType{constructor(y,T){this.toDOM=y,this.spec=T||noSpec,this.side=this.spec.side||0}map(y,T,A,O){let{pos:z,deleted:U}=y.mapResult(T.from+O,this.side<0?-1:1);return U?null:new Decoration(z-A,z-A,this)}valid(){return!0}eq(y){return this==y||y instanceof WidgetType&&(this.spec.key&&this.spec.key==y.spec.key||this.toDOM==y.toDOM&&compareObjs(this.spec,y.spec))}destroy(y){this.spec.destroy&&this.spec.destroy(y)}}class InlineType{constructor(y,T){this.attrs=y,this.spec=T||noSpec}map(y,T,A,O){let z=y.map(T.from+O,this.spec.inclusiveStart?-1:1)-A,U=y.map(T.to+O,this.spec.inclusiveEnd?1:-1)-A;return z>=U?null:new Decoration(z,U,this)}valid(y,T){return T.from<T.to}eq(y){return this==y||y instanceof InlineType&&compareObjs(this.attrs,y.attrs)&&compareObjs(this.spec,y.spec)}static is(y){return y.type instanceof InlineType}destroy(){}}class NodeType{constructor(y,T){this.attrs=y,this.spec=T||noSpec}map(y,T,A,O){let z=y.mapResult(T.from+O,1);if(z.deleted)return null;let U=y.mapResult(T.to+O,-1);return U.deleted||U.pos<=z.pos?null:new Decoration(z.pos-A,U.pos-A,this)}valid(y,T){let{index:A,offset:O}=y.content.findIndex(T.from),z;return O==T.from&&!(z=y.child(A)).isText&&O+z.nodeSize==T.to}eq(y){return this==y||y instanceof NodeType&&compareObjs(this.attrs,y.attrs)&&compareObjs(this.spec,y.spec)}destroy(){}}class Decoration{constructor(y,T,A){this.from=y,this.to=T,this.type=A}copy(y,T){return new Decoration(y,T,this.type)}eq(y,T=0){return this.type.eq(y.type)&&this.from+T==y.from&&this.to+T==y.to}map(y,T,A){return this.type.map(y,this,T,A)}static widget(y,T,A){return new Decoration(y,y,new WidgetType(T,A))}static inline(y,T,A,O){return new Decoration(y,T,new InlineType(A,O))}static node(y,T,A,O){return new Decoration(y,T,new NodeType(A,O))}get spec(){return this.type.spec}get inline(){return this.type instanceof InlineType}get widget(){return this.type instanceof WidgetType}}const none=[],noSpec={};class DecorationSet{constructor(y,T){this.local=y.length?y:none,this.children=T.length?T:none}static create(y,T){return T.length?buildTree(T,y,0,noSpec):empty}find(y,T,A){let O=[];return this.findInner(y??0,T??1e9,O,0,A),O}findInner(y,T,A,O,z){for(let U=0;U<this.local.length;U++){let G=this.local[U];G.from<=T&&G.to>=y&&(!z||z(G.spec))&&A.push(G.copy(G.from+O,G.to+O))}for(let U=0;U<this.children.length;U+=3)if(this.children[U]<T&&this.children[U+1]>y){let G=this.children[U]+1;this.children[U+2].findInner(y-G,T-G,A,O+G,z)}}map(y,T,A){return this==empty||y.maps.length==0?this:this.mapInner(y,T,0,0,A||noSpec)}mapInner(y,T,A,O,z){let U;for(let G=0;G<this.local.length;G++){let J=this.local[G].map(y,A,O);J&&J.type.valid(T,J)?(U||(U=[])).push(J):z.onRemove&&z.onRemove(this.local[G].spec)}return this.children.length?mapChildren(this.children,U||[],y,T,A,O,z):U?new DecorationSet(U.sort(byPos),none):empty}add(y,T){return T.length?this==empty?DecorationSet.create(y,T):this.addInner(y,T,0):this}addInner(y,T,A){let O,z=0;y.forEach((G,J)=>{let ee=J+A,te;if(te=takeSpansForNode(T,G,ee)){for(O||(O=this.children.slice());z<O.length&&O[z]<J;)z+=3;O[z]==J?O[z+2]=O[z+2].addInner(G,te,ee+1):O.splice(z,0,J,J+G.nodeSize,buildTree(te,G,ee+1,noSpec)),z+=3}});let U=moveSpans(z?withoutNulls(T):T,-A);for(let G=0;G<U.length;G++)U[G].type.valid(y,U[G])||U.splice(G--,1);return new DecorationSet(U.length?this.local.concat(U).sort(byPos):this.local,O||this.children)}remove(y){return y.length==0||this==empty?this:this.removeInner(y,0)}removeInner(y,T){let A=this.children,O=this.local;for(let z=0;z<A.length;z+=3){let U,G=A[z]+T,J=A[z+1]+T;for(let te=0,ae;te<y.length;te++)(ae=y[te])&&ae.from>G&&ae.to<J&&(y[te]=null,(U||(U=[])).push(ae));if(!U)continue;A==this.children&&(A=this.children.slice());let ee=A[z+2].removeInner(U,G+1);ee!=empty?A[z+2]=ee:(A.splice(z,3),z-=3)}if(O.length){for(let z=0,U;z<y.length;z++)if(U=y[z])for(let G=0;G<O.length;G++)O[G].eq(U,T)&&(O==this.local&&(O=this.local.slice()),O.splice(G--,1))}return A==this.children&&O==this.local?this:O.length||A.length?new DecorationSet(O,A):empty}forChild(y,T){if(this==empty)return this;if(T.isLeaf)return DecorationSet.empty;let A,O;for(let G=0;G<this.children.length;G+=3)if(this.children[G]>=y){this.children[G]==y&&(A=this.children[G+2]);break}let z=y+1,U=z+T.content.size;for(let G=0;G<this.local.length;G++){let J=this.local[G];if(J.from<U&&J.to>z&&J.type instanceof InlineType){let ee=Math.max(z,J.from)-z,te=Math.min(U,J.to)-z;ee<te&&(O||(O=[])).push(J.copy(ee,te))}}if(O){let G=new DecorationSet(O.sort(byPos),none);return A?new DecorationGroup([G,A]):G}return A||empty}eq(y){if(this==y)return!0;if(!(y instanceof DecorationSet)||this.local.length!=y.local.length||this.children.length!=y.children.length)return!1;for(let T=0;T<this.local.length;T++)if(!this.local[T].eq(y.local[T]))return!1;for(let T=0;T<this.children.length;T+=3)if(this.children[T]!=y.children[T]||this.children[T+1]!=y.children[T+1]||!this.children[T+2].eq(y.children[T+2]))return!1;return!0}locals(y){return removeOverlap(this.localsInner(y))}localsInner(y){if(this==empty)return none;if(y.inlineContent||!this.local.some(InlineType.is))return this.local;let T=[];for(let A=0;A<this.local.length;A++)this.local[A].type instanceof InlineType||T.push(this.local[A]);return T}forEachSet(y){y(this)}}DecorationSet.empty=new DecorationSet([],[]);DecorationSet.removeOverlap=removeOverlap;const empty=DecorationSet.empty;class DecorationGroup{constructor(y){this.members=y}map(y,T){const A=this.members.map(O=>O.map(y,T,noSpec));return DecorationGroup.from(A)}forChild(y,T){if(T.isLeaf)return DecorationSet.empty;let A=[];for(let O=0;O<this.members.length;O++){let z=this.members[O].forChild(y,T);z!=empty&&(z instanceof DecorationGroup?A=A.concat(z.members):A.push(z))}return DecorationGroup.from(A)}eq(y){if(!(y instanceof DecorationGroup)||y.members.length!=this.members.length)return!1;for(let T=0;T<this.members.length;T++)if(!this.members[T].eq(y.members[T]))return!1;return!0}locals(y){let T,A=!0;for(let O=0;O<this.members.length;O++){let z=this.members[O].localsInner(y);if(z.length)if(!T)T=z;else{A&&(T=T.slice(),A=!1);for(let U=0;U<z.length;U++)T.push(z[U])}}return T?removeOverlap(A?T:T.sort(byPos)):none}static from(y){switch(y.length){case 0:return empty;case 1:return y[0];default:return new DecorationGroup(y.every(T=>T instanceof DecorationSet)?y:y.reduce((T,A)=>T.concat(A instanceof DecorationSet?A:A.members),[]))}}forEachSet(y){for(let T=0;T<this.members.length;T++)this.members[T].forEachSet(y)}}function mapChildren(R,y,T,A,O,z,U){let G=R.slice();for(let ee=0,te=z;ee<T.maps.length;ee++){let ae=0;T.maps[ee].forEach((oe,pe,fe,xe)=>{let ye=xe-fe-(pe-oe);for(let _e=0;_e<G.length;_e+=3){let Le=G[_e+1];if(Le<0||oe>Le+te-ae)continue;let je=G[_e]+te-ae;pe>=je?G[_e+1]=oe<=je?-2:-1:oe>=te&&ye&&(G[_e]+=ye,G[_e+1]+=ye)}ae+=ye}),te=T.maps[ee].map(te,-1)}let J=!1;for(let ee=0;ee<G.length;ee+=3)if(G[ee+1]<0){if(G[ee+1]==-2){J=!0,G[ee+1]=-1;continue}let te=T.map(R[ee]+z),ae=te-O;if(ae<0||ae>=A.content.size){J=!0;continue}let oe=T.map(R[ee+1]+z,-1),pe=oe-O,{index:fe,offset:xe}=A.content.findIndex(ae),ye=A.maybeChild(fe);if(ye&&xe==ae&&xe+ye.nodeSize==pe){let _e=G[ee+2].mapInner(T,ye,te+1,R[ee]+z+1,U);_e!=empty?(G[ee]=ae,G[ee+1]=pe,G[ee+2]=_e):(G[ee+1]=-2,J=!0)}else J=!0}if(J){let ee=mapAndGatherRemainingDecorations(G,R,y,T,O,z,U),te=buildTree(ee,A,0,U);y=te.local;for(let ae=0;ae<G.length;ae+=3)G[ae+1]<0&&(G.splice(ae,3),ae-=3);for(let ae=0,oe=0;ae<te.children.length;ae+=3){let pe=te.children[ae];for(;oe<G.length&&G[oe]<pe;)oe+=3;G.splice(oe,0,te.children[ae],te.children[ae+1],te.children[ae+2])}}return new DecorationSet(y.sort(byPos),G)}function moveSpans(R,y){if(!y||!R.length)return R;let T=[];for(let A=0;A<R.length;A++){let O=R[A];T.push(new Decoration(O.from+y,O.to+y,O.type))}return T}function mapAndGatherRemainingDecorations(R,y,T,A,O,z,U){function G(J,ee){for(let te=0;te<J.local.length;te++){let ae=J.local[te].map(A,O,ee);ae?T.push(ae):U.onRemove&&U.onRemove(J.local[te].spec)}for(let te=0;te<J.children.length;te+=3)G(J.children[te+2],J.children[te]+ee+1)}for(let J=0;J<R.length;J+=3)R[J+1]==-1&&G(R[J+2],y[J]+z+1);return T}function takeSpansForNode(R,y,T){if(y.isLeaf)return null;let A=T+y.nodeSize,O=null;for(let z=0,U;z<R.length;z++)(U=R[z])&&U.from>T&&U.to<A&&((O||(O=[])).push(U),R[z]=null);return O}function withoutNulls(R){let y=[];for(let T=0;T<R.length;T++)R[T]!=null&&y.push(R[T]);return y}function buildTree(R,y,T,A){let O=[],z=!1;y.forEach((G,J)=>{let ee=takeSpansForNode(R,G,J+T);if(ee){z=!0;let te=buildTree(ee,G,T+J+1,A);te!=empty&&O.push(J,J+G.nodeSize,te)}});let U=moveSpans(z?withoutNulls(R):R,-T).sort(byPos);for(let G=0;G<U.length;G++)U[G].type.valid(y,U[G])||(A.onRemove&&A.onRemove(U[G].spec),U.splice(G--,1));return U.length||O.length?new DecorationSet(U,O):empty}function byPos(R,y){return R.from-y.from||R.to-y.to}function removeOverlap(R){let y=R;for(let T=0;T<y.length-1;T++){let A=y[T];if(A.from!=A.to)for(let O=T+1;O<y.length;O++){let z=y[O];if(z.from==A.from){z.to!=A.to&&(y==R&&(y=R.slice()),y[O]=z.copy(z.from,A.to),insertAhead(y,O+1,z.copy(A.to,z.to)));continue}else{z.from<A.to&&(y==R&&(y=R.slice()),y[T]=A.copy(A.from,z.from),insertAhead(y,O,A.copy(z.from,A.to)));break}}}return y}function insertAhead(R,y,T){for(;y<R.length&&byPos(T,R[y])>0;)y++;R.splice(y,0,T)}function viewDecorations(R){let y=[];return R.someProp("decorations",T=>{let A=T(R.state);A&&A!=empty&&y.push(A)}),R.cursorWrapper&&y.push(DecorationSet.create(R.state.doc,[R.cursorWrapper.deco])),DecorationGroup.from(y)}const observeOptions={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},useCharData=ie$1&&ie_version<=11;class SelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(y){this.anchorNode=y.anchorNode,this.anchorOffset=y.anchorOffset,this.focusNode=y.focusNode,this.focusOffset=y.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(y){return y.anchorNode==this.anchorNode&&y.anchorOffset==this.anchorOffset&&y.focusNode==this.focusNode&&y.focusOffset==this.focusOffset}}class DOMObserver{constructor(y,T){this.view=y,this.handleDOMChange=T,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new SelectionState,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(A=>{for(let O=0;O<A.length;O++)this.queue.push(A[O]);ie$1&&ie_version<=11&&A.some(O=>O.type=="childList"&&O.removedNodes.length||O.type=="characterData"&&O.oldValue.length>O.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=A=>{this.queue.push({target:A.target,type:"characterData",oldValue:A.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,observeOptions)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let y=this.observer.takeRecords();if(y.length){for(let T=0;T<y.length;T++)this.queue.push(y[T]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hasFocusAndSelection(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(ie$1&&ie_version<=11&&!this.view.state.selection.empty){let y=this.view.domSelectionRange();if(y.focusNode&&isEquivalentPosition(y.focusNode,y.focusOffset,y.anchorNode,y.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(y){if(!y.focusNode)return!0;let T=new Set,A;for(let z=y.focusNode;z;z=parentNode(z))T.add(z);for(let z=y.anchorNode;z;z=parentNode(z))if(T.has(z)){A=z;break}let O=A&&this.view.docView.nearestDesc(A);if(O&&O.ignoreMutation({type:"selection",target:A.nodeType==3?A.parentNode:A}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let y of this.observer.takeRecords())this.queue.push(y);return this.queue}flush(){let{view:y}=this;if(!y.docView||this.flushingSoon>-1)return;let T=this.pendingRecords();T.length&&(this.queue=[]);let A=y.domSelectionRange(),O=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(A)&&hasFocusAndSelection(y)&&!this.ignoreSelectionChange(A),z=-1,U=-1,G=!1,J=[];if(y.editable)for(let te=0;te<T.length;te++){let ae=this.registerMutation(T[te],J);ae&&(z=z<0?ae.from:Math.min(ae.from,z),U=U<0?ae.to:Math.max(ae.to,U),ae.typeOver&&(G=!0))}if(gecko&&J.length){let te=J.filter(ae=>ae.nodeName=="BR");if(te.length==2){let[ae,oe]=te;ae.parentNode&&ae.parentNode.parentNode==oe.parentNode?oe.remove():ae.remove()}else{let{focusNode:ae}=this.currentSelection;for(let oe of te){let pe=oe.parentNode;pe&&pe.nodeName=="LI"&&(!ae||blockParent(y,ae)!=pe)&&oe.remove()}}}else if((chrome||safari)&&J.some(te=>te.nodeName=="BR")&&(y.input.lastKeyCode==8||y.input.lastKeyCode==46)){for(let te of J)if(te.nodeName=="BR"&&te.parentNode){let ae=te.nextSibling;ae&&ae.nodeType==1&&ae.contentEditable=="false"&&te.parentNode.removeChild(te)}}let ee=null;z<0&&O&&y.input.lastFocus>Date.now()-200&&Math.max(y.input.lastTouch,y.input.lastClick.time)<Date.now()-300&&selectionCollapsed(A)&&(ee=selectionFromDOM(y))&&ee.eq(Selection.near(y.state.doc.resolve(0),1))?(y.input.lastFocus=0,selectionToDOM(y),this.currentSelection.set(A),y.scrollToSelection()):(z>-1||O)&&(z>-1&&(y.docView.markDirty(z,U),checkCSS(y)),this.handleDOMChange(z,U,G,J),y.docView&&y.docView.dirty?y.updateState(y.state):this.currentSelection.eq(A)||selectionToDOM(y),this.currentSelection.set(A))}registerMutation(y,T){if(T.indexOf(y.target)>-1)return null;let A=this.view.docView.nearestDesc(y.target);if(y.type=="attributes"&&(A==this.view.docView||y.attributeName=="contenteditable"||y.attributeName=="style"&&!y.oldValue&&!y.target.getAttribute("style"))||!A||A.ignoreMutation(y))return null;if(y.type=="childList"){for(let te=0;te<y.addedNodes.length;te++){let ae=y.addedNodes[te];T.push(ae),ae.nodeType==3&&(this.lastChangedTextNode=ae)}if(A.contentDOM&&A.contentDOM!=A.dom&&!A.contentDOM.contains(y.target))return{from:A.posBefore,to:A.posAfter};let O=y.previousSibling,z=y.nextSibling;if(ie$1&&ie_version<=11&&y.addedNodes.length)for(let te=0;te<y.addedNodes.length;te++){let{previousSibling:ae,nextSibling:oe}=y.addedNodes[te];(!ae||Array.prototype.indexOf.call(y.addedNodes,ae)<0)&&(O=ae),(!oe||Array.prototype.indexOf.call(y.addedNodes,oe)<0)&&(z=oe)}let U=O&&O.parentNode==y.target?domIndex(O)+1:0,G=A.localPosFromDOM(y.target,U,-1),J=z&&z.parentNode==y.target?domIndex(z):y.target.childNodes.length,ee=A.localPosFromDOM(y.target,J,1);return{from:G,to:ee}}else return y.type=="attributes"?{from:A.posAtStart-A.border,to:A.posAtEnd+A.border}:(this.lastChangedTextNode=y.target,{from:A.posAtStart,to:A.posAtEnd,typeOver:y.target.nodeValue==y.oldValue})}}let cssChecked=new WeakMap,cssCheckWarned=!1;function checkCSS(R){if(!cssChecked.has(R)&&(cssChecked.set(R,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(R.dom).whiteSpace)!==-1)){if(R.requiresGeckoHackNode=gecko,cssCheckWarned)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cssCheckWarned=!0}}function rangeToSelectionRange(R,y){let T=y.startContainer,A=y.startOffset,O=y.endContainer,z=y.endOffset,U=R.domAtPos(R.state.selection.anchor);return isEquivalentPosition(U.node,U.offset,O,z)&&([T,A,O,z]=[O,z,T,A]),{anchorNode:T,anchorOffset:A,focusNode:O,focusOffset:z}}function safariShadowSelectionRange(R,y){if(y.getComposedRanges){let O=y.getComposedRanges(R.root)[0];if(O)return rangeToSelectionRange(R,O)}let T;function A(O){O.preventDefault(),O.stopImmediatePropagation(),T=O.getTargetRanges()[0]}return R.dom.addEventListener("beforeinput",A,!0),document.execCommand("indent"),R.dom.removeEventListener("beforeinput",A,!0),T?rangeToSelectionRange(R,T):null}function blockParent(R,y){for(let T=y.parentNode;T&&T!=R.dom;T=T.parentNode){let A=R.docView.nearestDesc(T,!0);if(A&&A.node.isBlock)return T}return null}function parseBetween(R,y,T){let{node:A,fromOffset:O,toOffset:z,from:U,to:G}=R.docView.parseRange(y,T),J=R.domSelectionRange(),ee,te=J.anchorNode;if(te&&R.dom.contains(te.nodeType==1?te:te.parentNode)&&(ee=[{node:te,offset:J.anchorOffset}],selectionCollapsed(J)||ee.push({node:J.focusNode,offset:J.focusOffset})),chrome&&R.input.lastKeyCode===8)for(let ye=z;ye>O;ye--){let _e=A.childNodes[ye-1],Le=_e.pmViewDesc;if(_e.nodeName=="BR"&&!Le){z=ye;break}if(!Le||Le.size)break}let ae=R.state.doc,oe=R.someProp("domParser")||DOMParser.fromSchema(R.state.schema),pe=ae.resolve(U),fe=null,xe=oe.parse(A,{topNode:pe.parent,topMatch:pe.parent.contentMatchAt(pe.index()),topOpen:!0,from:O,to:z,preserveWhitespace:pe.parent.type.whitespace=="pre"?"full":!0,findPositions:ee,ruleFromNode,context:pe});if(ee&&ee[0].pos!=null){let ye=ee[0].pos,_e=ee[1]&&ee[1].pos;_e==null&&(_e=ye),fe={anchor:ye+U,head:_e+U}}return{doc:xe,sel:fe,from:U,to:G}}function ruleFromNode(R){let y=R.pmViewDesc;if(y)return y.parseRule();if(R.nodeName=="BR"&&R.parentNode){if(safari&&/^(ul|ol)$/i.test(R.parentNode.nodeName)){let T=document.createElement("div");return T.appendChild(document.createElement("li")),{skip:T}}else if(R.parentNode.lastChild==R||safari&&/^(tr|table)$/i.test(R.parentNode.nodeName))return{ignore:!0}}else if(R.nodeName=="IMG"&&R.getAttribute("mark-placeholder"))return{ignore:!0};return null}const isInline=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function readDOMChange(R,y,T,A,O){let z=R.input.compositionPendingChanges||(R.composing?R.input.compositionID:0);if(R.input.compositionPendingChanges=0,y<0){let He=R.input.lastSelectionTime>Date.now()-50?R.input.lastSelectionOrigin:null,ze=selectionFromDOM(R,He);if(ze&&!R.state.selection.eq(ze)){if(chrome&&android&&R.input.lastKeyCode===13&&Date.now()-100<R.input.lastKeyCodeTime&&R.someProp("handleKeyDown",Je=>Je(R,keyEvent(13,"Enter"))))return;let Ke=R.state.tr.setSelection(ze);He=="pointer"?Ke.setMeta("pointer",!0):He=="key"&&Ke.scrollIntoView(),z&&Ke.setMeta("composition",z),R.dispatch(Ke)}return}let U=R.state.doc.resolve(y),G=U.sharedDepth(T);y=U.before(G+1),T=R.state.doc.resolve(T).after(G+1);let J=R.state.selection,ee=parseBetween(R,y,T),te=R.state.doc,ae=te.slice(ee.from,ee.to),oe,pe;R.input.lastKeyCode===8&&Date.now()-100<R.input.lastKeyCodeTime?(oe=R.state.selection.to,pe="end"):(oe=R.state.selection.from,pe="start"),R.input.lastKeyCode=null;let fe=findDiff(ae.content,ee.doc.content,ee.from,oe,pe);if(fe&&R.input.domChangeCount++,(ios&&R.input.lastIOSEnter>Date.now()-225||android)&&O.some(He=>He.nodeType==1&&!isInline.test(He.nodeName))&&(!fe||fe.endA>=fe.endB)&&R.someProp("handleKeyDown",He=>He(R,keyEvent(13,"Enter")))){R.input.lastIOSEnter=0;return}if(!fe)if(A&&J instanceof TextSelection&&!J.empty&&J.$head.sameParent(J.$anchor)&&!R.composing&&!(ee.sel&&ee.sel.anchor!=ee.sel.head))fe={start:J.from,endA:J.to,endB:J.to};else{if(ee.sel){let He=resolveSelection(R,R.state.doc,ee.sel);if(He&&!He.eq(R.state.selection)){let ze=R.state.tr.setSelection(He);z&&ze.setMeta("composition",z),R.dispatch(ze)}}return}R.state.selection.from<R.state.selection.to&&fe.start==fe.endB&&R.state.selection instanceof TextSelection&&(fe.start>R.state.selection.from&&fe.start<=R.state.selection.from+2&&R.state.selection.from>=ee.from?fe.start=R.state.selection.from:fe.endA<R.state.selection.to&&fe.endA>=R.state.selection.to-2&&R.state.selection.to<=ee.to&&(fe.endB+=R.state.selection.to-fe.endA,fe.endA=R.state.selection.to)),ie$1&&ie_version<=11&&fe.endB==fe.start+1&&fe.endA==fe.start&&fe.start>ee.from&&ee.doc.textBetween(fe.start-ee.from-1,fe.start-ee.from+1)==" "&&(fe.start--,fe.endA--,fe.endB--);let xe=ee.doc.resolveNoCache(fe.start-ee.from),ye=ee.doc.resolveNoCache(fe.endB-ee.from),_e=te.resolve(fe.start),Le=xe.sameParent(ye)&&xe.parent.inlineContent&&_e.end()>=fe.endA;if((ios&&R.input.lastIOSEnter>Date.now()-225&&(!Le||O.some(He=>He.nodeName=="DIV"||He.nodeName=="P"))||!Le&&xe.pos<ee.doc.content.size&&(!xe.sameParent(ye)||!xe.parent.inlineContent)&&xe.pos<ye.pos&&!/\S/.test(ee.doc.textBetween(xe.pos,ye.pos,"","")))&&R.someProp("handleKeyDown",He=>He(R,keyEvent(13,"Enter")))){R.input.lastIOSEnter=0;return}if(R.state.selection.anchor>fe.start&&looksLikeBackspace(te,fe.start,fe.endA,xe,ye)&&R.someProp("handleKeyDown",He=>He(R,keyEvent(8,"Backspace")))){android&&chrome&&R.domObserver.suppressSelectionUpdates();return}chrome&&fe.endB==fe.start&&(R.input.lastChromeDelete=Date.now()),android&&!Le&&xe.start()!=ye.start()&&ye.parentOffset==0&&xe.depth==ye.depth&&ee.sel&&ee.sel.anchor==ee.sel.head&&ee.sel.head==fe.endA&&(fe.endB-=2,ye=ee.doc.resolveNoCache(fe.endB-ee.from),setTimeout(()=>{R.someProp("handleKeyDown",function(He){return He(R,keyEvent(13,"Enter"))})},20));let je=fe.start,Ne=fe.endA,$e=He=>{let ze=He||R.state.tr.replace(je,Ne,ee.doc.slice(fe.start-ee.from,fe.endB-ee.from));if(ee.sel){let Ke=resolveSelection(R,ze.doc,ee.sel);Ke&&!(chrome&&R.composing&&Ke.empty&&(fe.start!=fe.endB||R.input.lastChromeDelete<Date.now()-100)&&(Ke.head==je||Ke.head==ze.mapping.map(Ne)-1)||ie$1&&Ke.empty&&Ke.head==je)&&ze.setSelection(Ke)}return z&&ze.setMeta("composition",z),ze.scrollIntoView()},Ue;if(Le)if(xe.pos==ye.pos){ie$1&&ie_version<=11&&xe.parentOffset==0&&(R.domObserver.suppressSelectionUpdates(),setTimeout(()=>selectionToDOM(R),20));let He=$e(R.state.tr.delete(je,Ne)),ze=te.resolve(fe.start).marksAcross(te.resolve(fe.endA));ze&&He.ensureMarks(ze),R.dispatch(He)}else if(fe.endA==fe.endB&&(Ue=isMarkChange(xe.parent.content.cut(xe.parentOffset,ye.parentOffset),_e.parent.content.cut(_e.parentOffset,fe.endA-_e.start())))){let He=$e(R.state.tr);Ue.type=="add"?He.addMark(je,Ne,Ue.mark):He.removeMark(je,Ne,Ue.mark),R.dispatch(He)}else if(xe.parent.child(xe.index()).isText&&xe.index()==ye.index()-(ye.textOffset?0:1)){let He=xe.parent.textBetween(xe.parentOffset,ye.parentOffset),ze=()=>$e(R.state.tr.insertText(He,je,Ne));R.someProp("handleTextInput",Ke=>Ke(R,je,Ne,He,ze))||R.dispatch(ze())}else R.dispatch($e());else R.dispatch($e())}function resolveSelection(R,y,T){return Math.max(T.anchor,T.head)>y.content.size?null:selectionBetween(R,y.resolve(T.anchor),y.resolve(T.head))}function isMarkChange(R,y){let T=R.firstChild.marks,A=y.firstChild.marks,O=T,z=A,U,G,J;for(let te=0;te<A.length;te++)O=A[te].removeFromSet(O);for(let te=0;te<T.length;te++)z=T[te].removeFromSet(z);if(O.length==1&&z.length==0)G=O[0],U="add",J=te=>te.mark(G.addToSet(te.marks));else if(O.length==0&&z.length==1)G=z[0],U="remove",J=te=>te.mark(G.removeFromSet(te.marks));else return null;let ee=[];for(let te=0;te<y.childCount;te++)ee.push(J(y.child(te)));if(Fragment.from(ee).eq(R))return{mark:G,type:U}}function looksLikeBackspace(R,y,T,A,O){if(T-y<=O.pos-A.pos||skipClosingAndOpening(A,!0,!1)<O.pos)return!1;let z=R.resolve(y);if(!A.parent.isTextblock){let G=z.nodeAfter;return G!=null&&T==y+G.nodeSize}if(z.parentOffset<z.parent.content.size||!z.parent.isTextblock)return!1;let U=R.resolve(skipClosingAndOpening(z,!0,!0));return!U.parent.isTextblock||U.pos>T||skipClosingAndOpening(U,!0,!1)<T?!1:A.parent.content.cut(A.parentOffset).eq(U.parent.content)}function skipClosingAndOpening(R,y,T){let A=R.depth,O=y?R.end():R.pos;for(;A>0&&(y||R.indexAfter(A)==R.node(A).childCount);)A--,O++,y=!1;if(T){let z=R.node(A).maybeChild(R.indexAfter(A));for(;z&&!z.isLeaf;)z=z.firstChild,O++}return O}function findDiff(R,y,T,A,O){let z=R.findDiffStart(y,T);if(z==null)return null;let{a:U,b:G}=R.findDiffEnd(y,T+R.size,T+y.size);if(O=="end"){let J=Math.max(0,z-Math.min(U,G));A-=U+J-z}if(U<z&&R.size<y.size){let J=A<=z&&A>=U?z-A:0;z-=J,z&&z<y.size&&isSurrogatePair(y.textBetween(z-1,z+1))&&(z+=J?1:-1),G=z+(G-U),U=z}else if(G<z){let J=A<=z&&A>=G?z-A:0;z-=J,z&&z<R.size&&isSurrogatePair(R.textBetween(z-1,z+1))&&(z+=J?1:-1),U=z+(U-G),G=z}return{start:z,endA:U,endB:G}}function isSurrogatePair(R){if(R.length!=2)return!1;let y=R.charCodeAt(0),T=R.charCodeAt(1);return y>=56320&&y<=57343&&T>=55296&&T<=56319}class EditorView{constructor(y,T){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new InputState,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=T,this.state=T.state,this.directPlugins=T.plugins||[],this.directPlugins.forEach(checkStateComponent),this.dispatch=this.dispatch.bind(this),this.dom=y&&y.mount||document.createElement("div"),y&&(y.appendChild?y.appendChild(this.dom):typeof y=="function"?y(this.dom):y.mount&&(this.mounted=!0)),this.editable=getEditable(this),updateCursorWrapper(this),this.nodeViews=buildNodeViews(this),this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this),this.domObserver=new DOMObserver(this,(A,O,z,U)=>readDOMChange(this,A,O,z,U)),this.domObserver.start(),initInput(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let y=this._props;this._props={};for(let T in y)this._props[T]=y[T];this._props.state=this.state}return this._props}update(y){y.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this);let T=this._props;this._props=y,y.plugins&&(y.plugins.forEach(checkStateComponent),this.directPlugins=y.plugins),this.updateStateInner(y.state,T)}setProps(y){let T={};for(let A in this._props)T[A]=this._props[A];T.state=this.state;for(let A in y)T[A]=y[A];this.update(T)}updateState(y){this.updateStateInner(y,this._props)}updateStateInner(y,T){var A;let O=this.state,z=!1,U=!1;y.storedMarks&&this.composing&&(clearComposition(this),U=!0),this.state=y;let G=O.plugins!=y.plugins||this._props.plugins!=T.plugins;if(G||this._props.plugins!=T.plugins||this._props.nodeViews!=T.nodeViews){let pe=buildNodeViews(this);changedNodeViews(pe,this.nodeViews)&&(this.nodeViews=pe,z=!0)}(G||T.handleDOMEvents!=this._props.handleDOMEvents)&&ensureListeners(this),this.editable=getEditable(this),updateCursorWrapper(this);let J=viewDecorations(this),ee=computeDocDeco(this),te=O.plugins!=y.plugins&&!O.doc.eq(y.doc)?"reset":y.scrollToSelection>O.scrollToSelection?"to selection":"preserve",ae=z||!this.docView.matchesNode(y.doc,ee,J);(ae||!y.selection.eq(O.selection))&&(U=!0);let oe=te=="preserve"&&U&&this.dom.style.overflowAnchor==null&&storeScrollPos(this);if(U){this.domObserver.stop();let pe=ae&&(ie$1||chrome)&&!this.composing&&!O.selection.empty&&!y.selection.empty&&selectionContextChanged(O.selection,y.selection);if(ae){let fe=chrome?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=findCompositionNode(this)),(z||!this.docView.update(y.doc,ee,J,this))&&(this.docView.updateOuterDeco(ee),this.docView.destroy(),this.docView=docViewDesc(y.doc,ee,J,this.dom,this)),fe&&!this.trackWrites&&(pe=!0)}pe||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&anchorInRightPlace(this))?selectionToDOM(this,pe):(syncNodeSelection(this,y.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(O),!((A=this.dragging)===null||A===void 0)&&A.node&&!O.doc.eq(y.doc)&&this.updateDraggedNode(this.dragging,O),te=="reset"?this.dom.scrollTop=0:te=="to selection"?this.scrollToSelection():oe&&resetScrollPos(oe)}scrollToSelection(){let y=this.domSelectionRange().focusNode;if(!(!y||!this.dom.contains(y.nodeType==1?y:y.parentNode))){if(!this.someProp("handleScrollToSelection",T=>T(this)))if(this.state.selection instanceof NodeSelection){let T=this.docView.domAfterPos(this.state.selection.from);T.nodeType==1&&scrollRectIntoView(this,T.getBoundingClientRect(),y)}else scrollRectIntoView(this,this.coordsAtPos(this.state.selection.head,1),y)}}destroyPluginViews(){let y;for(;y=this.pluginViews.pop();)y.destroy&&y.destroy()}updatePluginViews(y){if(!y||y.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let T=0;T<this.directPlugins.length;T++){let A=this.directPlugins[T];A.spec.view&&this.pluginViews.push(A.spec.view(this))}for(let T=0;T<this.state.plugins.length;T++){let A=this.state.plugins[T];A.spec.view&&this.pluginViews.push(A.spec.view(this))}}else for(let T=0;T<this.pluginViews.length;T++){let A=this.pluginViews[T];A.update&&A.update(this,y)}}updateDraggedNode(y,T){let A=y.node,O=-1;if(this.state.doc.nodeAt(A.from)==A.node)O=A.from;else{let z=A.from+(this.state.doc.content.size-T.doc.content.size);(z>0&&this.state.doc.nodeAt(z))==A.node&&(O=z)}this.dragging=new Dragging(y.slice,y.move,O<0?void 0:NodeSelection.create(this.state.doc,O))}someProp(y,T){let A=this._props&&this._props[y],O;if(A!=null&&(O=T?T(A):A))return O;for(let U=0;U<this.directPlugins.length;U++){let G=this.directPlugins[U].props[y];if(G!=null&&(O=T?T(G):G))return O}let z=this.state.plugins;if(z)for(let U=0;U<z.length;U++){let G=z[U].props[y];if(G!=null&&(O=T?T(G):G))return O}}hasFocus(){if(ie$1){let y=this.root.activeElement;if(y==this.dom)return!0;if(!y||!this.dom.contains(y))return!1;for(;y&&this.dom!=y&&this.dom.contains(y);){if(y.contentEditable=="false")return!1;y=y.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&focusPreventScroll(this.dom),selectionToDOM(this),this.domObserver.start()}get root(){let y=this._root;if(y==null){for(let T=this.dom.parentNode;T;T=T.parentNode)if(T.nodeType==9||T.nodeType==11&&T.host)return T.getSelection||(Object.getPrototypeOf(T).getSelection=()=>T.ownerDocument.getSelection()),this._root=T}return y||document}updateRoot(){this._root=null}posAtCoords(y){return posAtCoords(this,y)}coordsAtPos(y,T=1){return coordsAtPos(this,y,T)}domAtPos(y,T=0){return this.docView.domFromPos(y,T)}nodeDOM(y){let T=this.docView.descAt(y);return T?T.nodeDOM:null}posAtDOM(y,T,A=-1){let O=this.docView.posFromDOM(y,T,A);if(O==null)throw new RangeError("DOM position not inside the editor");return O}endOfTextblock(y,T){return endOfTextblock(this,T||this.state,y)}pasteHTML(y,T){return doPaste(this,"",y,!1,T||new ClipboardEvent("paste"))}pasteText(y,T){return doPaste(this,y,null,!0,T||new ClipboardEvent("paste"))}serializeForClipboard(y){return serializeForClipboard(this,y)}destroy(){this.docView&&(destroyInput(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],viewDecorations(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,clearReusedRange())}get isDestroyed(){return this.docView==null}dispatchEvent(y){return dispatchEvent(this,y)}domSelectionRange(){let y=this.domSelection();return y?safari&&this.root.nodeType===11&&deepActiveElement(this.dom.ownerDocument)==this.dom&&safariShadowSelectionRange(this,y)||y:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}EditorView.prototype.dispatch=function(R){let y=this._props.dispatchTransaction;y?y.call(this,R):this.updateState(this.state.apply(R))};function computeDocDeco(R){let y=Object.create(null);return y.class="ProseMirror",y.contenteditable=String(R.editable),R.someProp("attributes",T=>{if(typeof T=="function"&&(T=T(R.state)),T)for(let A in T)A=="class"?y.class+=" "+T[A]:A=="style"?y.style=(y.style?y.style+";":"")+T[A]:!y[A]&&A!="contenteditable"&&A!="nodeName"&&(y[A]=String(T[A]))}),y.translate||(y.translate="no"),[Decoration.node(0,R.state.doc.content.size,y)]}function updateCursorWrapper(R){if(R.markCursor){let y=document.createElement("img");y.className="ProseMirror-separator",y.setAttribute("mark-placeholder","true"),y.setAttribute("alt",""),R.cursorWrapper={dom:y,deco:Decoration.widget(R.state.selection.from,y,{raw:!0,marks:R.markCursor})}}else R.cursorWrapper=null}function getEditable(R){return!R.someProp("editable",y=>y(R.state)===!1)}function selectionContextChanged(R,y){let T=Math.min(R.$anchor.sharedDepth(R.head),y.$anchor.sharedDepth(y.head));return R.$anchor.start(T)!=y.$anchor.start(T)}function buildNodeViews(R){let y=Object.create(null);function T(A){for(let O in A)Object.prototype.hasOwnProperty.call(y,O)||(y[O]=A[O])}return R.someProp("nodeViews",T),R.someProp("markViews",T),y}function changedNodeViews(R,y){let T=0,A=0;for(let O in R){if(R[O]!=y[O])return!0;T++}for(let O in y)A++;return T!=A}function checkStateComponent(R){if(R.spec.state||R.spec.filterTransaction||R.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac$1=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(R){var y=mac$1&&R.metaKey&&R.shiftKey&&!R.ctrlKey&&!R.altKey||ie&&R.shiftKey&&R.key&&R.key.length==1||R.key=="Unidentified",T=!y&&R.key||(R.shiftKey?shift:base)[R.keyCode]||R.key||"Unidentified";return T=="Esc"&&(T="Escape"),T=="Del"&&(T="Delete"),T=="Left"&&(T="ArrowLeft"),T=="Up"&&(T="ArrowUp"),T=="Right"&&(T="ArrowRight"),T=="Down"&&(T="ArrowDown"),T}const mac=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),windows=typeof navigator<"u"&&/Win/.test(navigator.platform);function normalizeKeyName$1(R){let y=R.split(/-(?!$)/),T=y[y.length-1];T=="Space"&&(T=" ");let A,O,z,U;for(let G=0;G<y.length-1;G++){let J=y[G];if(/^(cmd|meta|m)$/i.test(J))U=!0;else if(/^a(lt)?$/i.test(J))A=!0;else if(/^(c|ctrl|control)$/i.test(J))O=!0;else if(/^s(hift)?$/i.test(J))z=!0;else if(/^mod$/i.test(J))mac?U=!0:O=!0;else throw new Error("Unrecognized modifier name: "+J)}return A&&(T="Alt-"+T),O&&(T="Ctrl-"+T),U&&(T="Meta-"+T),z&&(T="Shift-"+T),T}function normalize(R){let y=Object.create(null);for(let T in R)y[normalizeKeyName$1(T)]=R[T];return y}function modifiers(R,y,T=!0){return y.altKey&&(R="Alt-"+R),y.ctrlKey&&(R="Ctrl-"+R),y.metaKey&&(R="Meta-"+R),T&&y.shiftKey&&(R="Shift-"+R),R}function keymap(R){return new Plugin({props:{handleKeyDown:keydownHandler(R)}})}function keydownHandler(R){let y=normalize(R);return function(T,A){let O=keyName(A),z,U=y[modifiers(O,A)];if(U&&U(T.state,T.dispatch,T))return!0;if(O.length==1&&O!=" "){if(A.shiftKey){let G=y[modifiers(O,A,!1)];if(G&&G(T.state,T.dispatch,T))return!0}if((A.altKey||A.metaKey||A.ctrlKey)&&!(windows&&A.ctrlKey&&A.altKey)&&(z=base[A.keyCode])&&z!=O){let G=y[modifiers(z,A)];if(G&&G(T.state,T.dispatch,T))return!0}}return!1}}var __defProp$1=Object.defineProperty,__export$1=(R,y)=>{for(var T in y)__defProp$1(R,T,{get:y[T],enumerable:!0})};function createChainableState(R){const{state:y,transaction:T}=R;let{selection:A}=T,{doc:O}=T,{storedMarks:z}=T;return{...y,apply:y.apply.bind(y),applyTransaction:y.applyTransaction.bind(y),plugins:y.plugins,schema:y.schema,reconfigure:y.reconfigure.bind(y),toJSON:y.toJSON.bind(y),get storedMarks(){return z},get selection(){return A},get doc(){return O},get tr(){return A=T.selection,O=T.doc,z=T.storedMarks,T}}}var CommandManager=class{constructor(R){this.editor=R.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=R.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:R,editor:y,state:T}=this,{view:A}=y,{tr:O}=T,z=this.buildProps(O);return Object.fromEntries(Object.entries(R).map(([U,G])=>[U,(...ee)=>{const te=G(...ee)(z);return!O.getMeta("preventDispatch")&&!this.hasCustomState&&A.dispatch(O),te}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(R,y=!0){const{rawCommands:T,editor:A,state:O}=this,{view:z}=A,U=[],G=!!R,J=R||O.tr,ee=()=>(!G&&y&&!J.getMeta("preventDispatch")&&!this.hasCustomState&&z.dispatch(J),U.every(ae=>ae===!0)),te={...Object.fromEntries(Object.entries(T).map(([ae,oe])=>[ae,(...fe)=>{const xe=this.buildProps(J,y),ye=oe(...fe)(xe);return U.push(ye),te}])),run:ee};return te}createCan(R){const{rawCommands:y,state:T}=this,A=!1,O=R||T.tr,z=this.buildProps(O,A);return{...Object.fromEntries(Object.entries(y).map(([G,J])=>[G,(...ee)=>J(...ee)({...z,dispatch:void 0})])),chain:()=>this.createChain(O,A)}}buildProps(R,y=!0){const{rawCommands:T,editor:A,state:O}=this,{view:z}=A,U={tr:R,editor:A,view:z,state:createChainableState({state:O,transaction:R}),dispatch:y?()=>{}:void 0,chain:()=>this.createChain(R,y),can:()=>this.createCan(R),get commands(){return Object.fromEntries(Object.entries(T).map(([G,J])=>[G,(...ee)=>J(...ee)(U)]))}};return U}},commands_exports={};__export$1(commands_exports,{blur:()=>blur,clearContent:()=>clearContent,clearNodes:()=>clearNodes,command:()=>command,createParagraphNear:()=>createParagraphNear,cut:()=>cut,deleteCurrentNode:()=>deleteCurrentNode,deleteNode:()=>deleteNode,deleteRange:()=>deleteRange,deleteSelection:()=>deleteSelection,enter:()=>enter,exitCode:()=>exitCode,extendMarkRange:()=>extendMarkRange,first:()=>first,focus:()=>focus,forEach:()=>forEach,insertContent:()=>insertContent,insertContentAt:()=>insertContentAt,joinBackward:()=>joinBackward,joinDown:()=>joinDown,joinForward:()=>joinForward,joinItemBackward:()=>joinItemBackward,joinItemForward:()=>joinItemForward,joinTextblockBackward:()=>joinTextblockBackward,joinTextblockForward:()=>joinTextblockForward,joinUp:()=>joinUp,keyboardShortcut:()=>keyboardShortcut,lift:()=>lift,liftEmptyBlock:()=>liftEmptyBlock,liftListItem:()=>liftListItem,newlineInCode:()=>newlineInCode,resetAttributes:()=>resetAttributes,scrollIntoView:()=>scrollIntoView,selectAll:()=>selectAll,selectNodeBackward:()=>selectNodeBackward,selectNodeForward:()=>selectNodeForward,selectParentNode:()=>selectParentNode,selectTextblockEnd:()=>selectTextblockEnd,selectTextblockStart:()=>selectTextblockStart,setContent:()=>setContent,setMark:()=>setMark,setMeta:()=>setMeta,setNode:()=>setNode,setNodeSelection:()=>setNodeSelection,setTextDirection:()=>setTextDirection,setTextSelection:()=>setTextSelection,sinkListItem:()=>sinkListItem,splitBlock:()=>splitBlock,splitListItem:()=>splitListItem,toggleList:()=>toggleList,toggleMark:()=>toggleMark,toggleNode:()=>toggleNode,toggleWrap:()=>toggleWrap,undoInputRule:()=>undoInputRule,unsetAllMarks:()=>unsetAllMarks,unsetMark:()=>unsetMark,unsetTextDirection:()=>unsetTextDirection,updateAttributes:()=>updateAttributes,wrapIn:()=>wrapIn,wrapInList:()=>wrapInList});var blur=()=>({editor:R,view:y})=>(requestAnimationFrame(()=>{var T;R.isDestroyed||(y.dom.blur(),(T=window?.getSelection())==null||T.removeAllRanges())}),!0),clearContent=(R=!0)=>({commands:y})=>y.setContent("",{emitUpdate:R}),clearNodes=()=>({state:R,tr:y,dispatch:T})=>{const{selection:A}=y,{ranges:O}=A;return T&&O.forEach(({$from:z,$to:U})=>{R.doc.nodesBetween(z.pos,U.pos,(G,J)=>{if(G.type.isText)return;const{doc:ee,mapping:te}=y,ae=ee.resolve(te.map(J)),oe=ee.resolve(te.map(J+G.nodeSize)),pe=ae.blockRange(oe);if(!pe)return;const fe=liftTarget(pe);if(G.type.isTextblock){const{defaultType:xe}=ae.parent.contentMatchAt(ae.index());y.setNodeMarkup(pe.start,xe)}(fe||fe===0)&&y.lift(pe,fe)})}),!0},command=R=>y=>R(y),createParagraphNear=()=>({state:R,dispatch:y})=>createParagraphNear$1(R,y),cut=(R,y)=>({editor:T,tr:A})=>{const{state:O}=T,z=O.doc.slice(R.from,R.to);A.deleteRange(R.from,R.to);const U=A.mapping.map(y);return A.insert(U,z.content),A.setSelection(new TextSelection(A.doc.resolve(Math.max(U-1,0)))),!0},deleteCurrentNode=()=>({tr:R,dispatch:y})=>{const{selection:T}=R,A=T.$anchor.node();if(A.content.size>0)return!1;const O=R.selection.$anchor;for(let z=O.depth;z>0;z-=1)if(O.node(z).type===A.type){if(y){const G=O.before(z),J=O.after(z);R.delete(G,J).scrollIntoView()}return!0}return!1};function getNodeType(R,y){if(typeof R=="string"){if(!y.nodes[R])throw Error(`There is no node type named '${R}'. Maybe you forgot to add the extension?`);return y.nodes[R]}return R}var deleteNode=R=>({tr:y,state:T,dispatch:A})=>{const O=getNodeType(R,T.schema),z=y.selection.$anchor;for(let U=z.depth;U>0;U-=1)if(z.node(U).type===O){if(A){const J=z.before(U),ee=z.after(U);y.delete(J,ee).scrollIntoView()}return!0}return!1},deleteRange=R=>({tr:y,dispatch:T})=>{const{from:A,to:O}=R;return T&&y.delete(A,O),!0},deleteSelection=()=>({state:R,dispatch:y})=>deleteSelection$1(R,y),enter=()=>({commands:R})=>R.keyboardShortcut("Enter"),exitCode=()=>({state:R,dispatch:y})=>exitCode$1(R,y);function isRegExp(R){return Object.prototype.toString.call(R)==="[object RegExp]"}function objectIncludes(R,y,T={strict:!0}){const A=Object.keys(y);return A.length?A.every(O=>T.strict?y[O]===R[O]:isRegExp(y[O])?y[O].test(R[O]):y[O]===R[O]):!0}function findMarkInSet(R,y,T={}){return R.find(A=>A.type===y&&objectIncludes(Object.fromEntries(Object.keys(T).map(O=>[O,A.attrs[O]])),T))}function isMarkInSet(R,y,T={}){return!!findMarkInSet(R,y,T)}function getMarkRange(R,y,T){var A;if(!R||!y)return;let O=R.parent.childAfter(R.parentOffset);if((!O.node||!O.node.marks.some(te=>te.type===y))&&(O=R.parent.childBefore(R.parentOffset)),!O.node||!O.node.marks.some(te=>te.type===y)||(T=T||((A=O.node.marks[0])==null?void 0:A.attrs),!findMarkInSet([...O.node.marks],y,T)))return;let U=O.index,G=R.start()+O.offset,J=U+1,ee=G+O.node.nodeSize;for(;U>0&&isMarkInSet([...R.parent.child(U-1).marks],y,T);)U-=1,G-=R.parent.child(U).nodeSize;for(;J<R.parent.childCount&&isMarkInSet([...R.parent.child(J).marks],y,T);)ee+=R.parent.child(J).nodeSize,J+=1;return{from:G,to:ee}}function getMarkType(R,y){if(typeof R=="string"){if(!y.marks[R])throw Error(`There is no mark type named '${R}'. Maybe you forgot to add the extension?`);return y.marks[R]}return R}var extendMarkRange=(R,y={})=>({tr:T,state:A,dispatch:O})=>{const z=getMarkType(R,A.schema),{doc:U,selection:G}=T,{$from:J,from:ee,to:te}=G;if(O){const ae=getMarkRange(J,z,y);if(ae&&ae.from<=ee&&ae.to>=te){const oe=TextSelection.create(U,ae.from,ae.to);T.setSelection(oe)}}return!0},first=R=>y=>{const T=typeof R=="function"?R(y):R;for(let A=0;A<T.length;A+=1)if(T[A](y))return!0;return!1};function isTextSelection(R){return R instanceof TextSelection}function minMax(R=0,y=0,T=0){return Math.min(Math.max(R,y),T)}function resolveFocusPosition(R,y=null){if(!y)return null;const T=Selection.atStart(R),A=Selection.atEnd(R);if(y==="start"||y===!0)return T;if(y==="end")return A;const O=T.from,z=A.to;return y==="all"?TextSelection.create(R,minMax(0,O,z),minMax(R.content.size,O,z)):TextSelection.create(R,minMax(y,O,z),minMax(y,O,z))}function isAndroid(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function isiOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var focus=(R=null,y={})=>({editor:T,view:A,tr:O,dispatch:z})=>{y={scrollIntoView:!0,...y};const U=()=>{(isiOS()||isAndroid())&&A.dom.focus(),requestAnimationFrame(()=>{T.isDestroyed||(A.focus(),y?.scrollIntoView&&T.commands.scrollIntoView())})};if(A.hasFocus()&&R===null||R===!1)return!0;if(z&&R===null&&!isTextSelection(T.state.selection))return U(),!0;const G=resolveFocusPosition(O.doc,R)||T.state.selection,J=T.state.selection.eq(G);return z&&(J||O.setSelection(G),J&&O.storedMarks&&O.setStoredMarks(O.storedMarks),U()),!0},forEach=(R,y)=>T=>R.every((A,O)=>y(A,{...T,index:O})),insertContent=(R,y)=>({tr:T,commands:A})=>A.insertContentAt({from:T.selection.from,to:T.selection.to},R,y),removeWhitespaces=R=>{const y=R.childNodes;for(let T=y.length-1;T>=0;T-=1){const A=y[T];A.nodeType===3&&A.nodeValue&&/^(\n\s\s|\n)$/.test(A.nodeValue)?R.removeChild(A):A.nodeType===1&&removeWhitespaces(A)}return R};function elementFromString(R){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const y=`<body>${R}</body>`,T=new window.DOMParser().parseFromString(y,"text/html").body;return removeWhitespaces(T)}function createNodeFromContent(R,y,T){if(R instanceof Node||R instanceof Fragment)return R;T={slice:!0,parseOptions:{},...T};const A=typeof R=="object"&&R!==null,O=typeof R=="string";if(A)try{if(Array.isArray(R)&&R.length>0)return Fragment.fromArray(R.map(G=>y.nodeFromJSON(G)));const U=y.nodeFromJSON(R);return T.errorOnInvalidContent&&U.check(),U}catch(z){if(T.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:z});return console.warn("[tiptap warn]: Invalid content.","Passed value:",R,"Error:",z),createNodeFromContent("",y,T)}if(O){if(T.errorOnInvalidContent){let U=!1,G="";const J=new Schema({topNode:y.spec.topNode,marks:y.spec.marks,nodes:y.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:ee=>(U=!0,G=typeof ee=="string"?ee:ee.outerHTML,null)}]}})});if(T.slice?DOMParser.fromSchema(J).parseSlice(elementFromString(R),T.parseOptions):DOMParser.fromSchema(J).parse(elementFromString(R),T.parseOptions),T.errorOnInvalidContent&&U)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${G}`)})}const z=DOMParser.fromSchema(y);return T.slice?z.parseSlice(elementFromString(R),T.parseOptions).content:z.parse(elementFromString(R),T.parseOptions)}return createNodeFromContent("",y,T)}function selectionToInsertionEnd(R,y,T){const A=R.steps.length-1;if(A<y)return;const O=R.steps[A];if(!(O instanceof ReplaceStep||O instanceof ReplaceAroundStep))return;const z=R.mapping.maps[A];let U=0;z.forEach((G,J,ee,te)=>{U===0&&(U=te)}),R.setSelection(Selection.near(R.doc.resolve(U),T))}var isFragment=R=>!("type"in R),insertContentAt=(R,y,T)=>({tr:A,dispatch:O,editor:z})=>{var U;if(O){T={parseOptions:z.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...T};let G;const J=ye=>{z.emit("contentError",{editor:z,error:ye,disableCollaboration:()=>{"collaboration"in z.storage&&typeof z.storage.collaboration=="object"&&z.storage.collaboration&&(z.storage.collaboration.isDisabled=!0)}})},ee={preserveWhitespace:"full",...T.parseOptions};if(!T.errorOnInvalidContent&&!z.options.enableContentCheck&&z.options.emitContentError)try{createNodeFromContent(y,z.schema,{parseOptions:ee,errorOnInvalidContent:!0})}catch(ye){J(ye)}try{G=createNodeFromContent(y,z.schema,{parseOptions:ee,errorOnInvalidContent:(U=T.errorOnInvalidContent)!=null?U:z.options.enableContentCheck})}catch(ye){return J(ye),!1}let{from:te,to:ae}=typeof R=="number"?{from:R,to:R}:{from:R.from,to:R.to},oe=!0,pe=!0;if((isFragment(G)?G:[G]).forEach(ye=>{ye.check(),oe=oe?ye.isText&&ye.marks.length===0:!1,pe=pe?ye.isBlock:!1}),te===ae&&pe){const{parent:ye}=A.doc.resolve(te);ye.isTextblock&&!ye.type.spec.code&&!ye.childCount&&(te-=1,ae+=1)}let xe;if(oe){if(Array.isArray(y))xe=y.map(ye=>ye.text||"").join("");else if(y instanceof Fragment){let ye="";y.forEach(_e=>{_e.text&&(ye+=_e.text)}),xe=ye}else typeof y=="object"&&y&&y.text?xe=y.text:xe=y;A.insertText(xe,te,ae)}else{xe=G;const ye=A.doc.resolve(te),_e=ye.node(),Le=ye.parentOffset===0,je=_e.isText||_e.isTextblock,Ne=_e.content.size>0;Le&&je&&Ne&&(te=Math.max(0,te-1)),A.replaceWith(te,ae,xe)}T.updateSelection&&selectionToInsertionEnd(A,A.steps.length-1,-1),T.applyInputRules&&A.setMeta("applyInputRules",{from:te,text:xe}),T.applyPasteRules&&A.setMeta("applyPasteRules",{from:te,text:xe})}return!0},joinUp=()=>({state:R,dispatch:y})=>joinUp$1(R,y),joinDown=()=>({state:R,dispatch:y})=>joinDown$1(R,y),joinBackward=()=>({state:R,dispatch:y})=>joinBackward$1(R,y),joinForward=()=>({state:R,dispatch:y})=>joinForward$1(R,y),joinItemBackward=()=>({state:R,dispatch:y,tr:T})=>{try{const A=joinPoint(R.doc,R.selection.$from.pos,-1);return A==null?!1:(T.join(A,2),y&&y(T),!0)}catch{return!1}},joinItemForward=()=>({state:R,dispatch:y,tr:T})=>{try{const A=joinPoint(R.doc,R.selection.$from.pos,1);return A==null?!1:(T.join(A,2),y&&y(T),!0)}catch{return!1}},joinTextblockBackward=()=>({state:R,dispatch:y})=>joinTextblockBackward$1(R,y),joinTextblockForward=()=>({state:R,dispatch:y})=>joinTextblockForward$1(R,y);function isMacOS(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function normalizeKeyName(R){const y=R.split(/-(?!$)/);let T=y[y.length-1];T==="Space"&&(T=" ");let A,O,z,U;for(let G=0;G<y.length-1;G+=1){const J=y[G];if(/^(cmd|meta|m)$/i.test(J))U=!0;else if(/^a(lt)?$/i.test(J))A=!0;else if(/^(c|ctrl|control)$/i.test(J))O=!0;else if(/^s(hift)?$/i.test(J))z=!0;else if(/^mod$/i.test(J))isiOS()||isMacOS()?U=!0:O=!0;else throw new Error(`Unrecognized modifier name: ${J}`)}return A&&(T=`Alt-${T}`),O&&(T=`Ctrl-${T}`),U&&(T=`Meta-${T}`),z&&(T=`Shift-${T}`),T}var keyboardShortcut=R=>({editor:y,view:T,tr:A,dispatch:O})=>{const z=normalizeKeyName(R).split(/-(?!$)/),U=z.find(ee=>!["Alt","Ctrl","Meta","Shift"].includes(ee)),G=new KeyboardEvent("keydown",{key:U==="Space"?" ":U,altKey:z.includes("Alt"),ctrlKey:z.includes("Ctrl"),metaKey:z.includes("Meta"),shiftKey:z.includes("Shift"),bubbles:!0,cancelable:!0}),J=y.captureTransaction(()=>{T.someProp("handleKeyDown",ee=>ee(T,G))});return J?.steps.forEach(ee=>{const te=ee.map(A.mapping);te&&O&&A.maybeStep(te)}),!0};function isNodeActive(R,y,T={}){const{from:A,to:O,empty:z}=R.selection,U=y?getNodeType(y,R.schema):null,G=[];R.doc.nodesBetween(A,O,(ae,oe)=>{if(ae.isText)return;const pe=Math.max(A,oe),fe=Math.min(O,oe+ae.nodeSize);G.push({node:ae,from:pe,to:fe})});const J=O-A,ee=G.filter(ae=>U?U.name===ae.node.type.name:!0).filter(ae=>objectIncludes(ae.node.attrs,T,{strict:!1}));return z?!!ee.length:ee.reduce((ae,oe)=>ae+oe.to-oe.from,0)>=J}var lift=(R,y={})=>({state:T,dispatch:A})=>{const O=getNodeType(R,T.schema);return isNodeActive(T,O,y)?lift$1(T,A):!1},liftEmptyBlock=()=>({state:R,dispatch:y})=>liftEmptyBlock$1(R,y),liftListItem=R=>({state:y,dispatch:T})=>{const A=getNodeType(R,y.schema);return liftListItem$1(A)(y,T)},newlineInCode=()=>({state:R,dispatch:y})=>newlineInCode$1(R,y);function getSchemaTypeNameByName(R,y){return y.nodes[R]?"node":y.marks[R]?"mark":null}function deleteProps(R,y){const T=typeof y=="string"?[y]:y;return Object.keys(R).reduce((A,O)=>(T.includes(O)||(A[O]=R[O]),A),{})}var resetAttributes=(R,y)=>({tr:T,state:A,dispatch:O})=>{let z=null,U=null;const G=getSchemaTypeNameByName(typeof R=="string"?R:R.name,A.schema);if(!G)return!1;G==="node"&&(z=getNodeType(R,A.schema)),G==="mark"&&(U=getMarkType(R,A.schema));let J=!1;return T.selection.ranges.forEach(ee=>{A.doc.nodesBetween(ee.$from.pos,ee.$to.pos,(te,ae)=>{z&&z===te.type&&(J=!0,O&&T.setNodeMarkup(ae,void 0,deleteProps(te.attrs,y))),U&&te.marks.length&&te.marks.forEach(oe=>{U===oe.type&&(J=!0,O&&T.addMark(ae,ae+te.nodeSize,U.create(deleteProps(oe.attrs,y))))})})}),J},scrollIntoView=()=>({tr:R,dispatch:y})=>(y&&R.scrollIntoView(),!0),selectAll=()=>({tr:R,dispatch:y})=>{if(y){const T=new AllSelection(R.doc);R.setSelection(T)}return!0},selectNodeBackward=()=>({state:R,dispatch:y})=>selectNodeBackward$1(R,y),selectNodeForward=()=>({state:R,dispatch:y})=>selectNodeForward$1(R,y),selectParentNode=()=>({state:R,dispatch:y})=>selectParentNode$1(R,y),selectTextblockEnd=()=>({state:R,dispatch:y})=>selectTextblockEnd$1(R,y),selectTextblockStart=()=>({state:R,dispatch:y})=>selectTextblockStart$1(R,y);function createDocument(R,y,T={},A={}){return createNodeFromContent(R,y,{slice:!1,parseOptions:T,errorOnInvalidContent:A.errorOnInvalidContent})}var setContent=(R,{errorOnInvalidContent:y,emitUpdate:T=!0,parseOptions:A={}}={})=>({editor:O,tr:z,dispatch:U,commands:G})=>{const{doc:J}=z;if(A.preserveWhitespace!=="full"){const ee=createDocument(R,O.schema,A,{errorOnInvalidContent:y??O.options.enableContentCheck});return U&&z.replaceWith(0,J.content.size,ee).setMeta("preventUpdate",!T),!0}return U&&z.setMeta("preventUpdate",!T),G.insertContentAt({from:0,to:J.content.size},R,{parseOptions:A,errorOnInvalidContent:y??O.options.enableContentCheck})};function getMarkAttributes(R,y){const T=getMarkType(y,R.schema),{from:A,to:O,empty:z}=R.selection,U=[];z?(R.storedMarks&&U.push(...R.storedMarks),U.push(...R.selection.$head.marks())):R.doc.nodesBetween(A,O,J=>{U.push(...J.marks)});const G=U.find(J=>J.type.name===T.name);return G?{...G.attrs}:{}}function combineTransactionSteps(R,y){const T=new Transform(R);return y.forEach(A=>{A.steps.forEach(O=>{T.step(O)})}),T}function defaultBlockAt(R){for(let y=0;y<R.edgeCount;y+=1){const{type:T}=R.edge(y);if(T.isTextblock&&!T.hasRequiredAttrs())return T}return null}function findChildrenInRange(R,y,T){const A=[];return R.nodesBetween(y.from,y.to,(O,z)=>{T(O)&&A.push({node:O,pos:z})}),A}function findParentNodeClosestToPos(R,y){for(let T=R.depth;T>0;T-=1){const A=R.node(T);if(y(A))return{pos:T>0?R.before(T):0,start:R.start(T),depth:T,node:A}}}function findParentNode(R){return y=>findParentNodeClosestToPos(y.$from,R)}function getExtensionField(R,y,T){return R.config[y]===void 0&&R.parent?getExtensionField(R.parent,y,T):typeof R.config[y]=="function"?R.config[y].bind({...T,parent:R.parent?getExtensionField(R.parent,y,T):null}):R.config[y]}function flattenExtensions(R){return R.map(y=>{const T={name:y.name,options:y.options,storage:y.storage},A=getExtensionField(y,"addExtensions",T);return A?[y,...flattenExtensions(A())]:y}).flat(10)}function getHTMLFromFragment(R,y){const T=DOMSerializer.fromSchema(y).serializeFragment(R),O=document.implementation.createHTMLDocument().createElement("div");return O.appendChild(T),O.innerHTML}function isFunction(R){return typeof R=="function"}function callOrReturn(R,y=void 0,...T){return isFunction(R)?y?R.bind(y)(...T):R(...T):R}function isEmptyObject(R={}){return Object.keys(R).length===0&&R.constructor===Object}function splitExtensions(R){const y=R.filter(O=>O.type==="extension"),T=R.filter(O=>O.type==="node"),A=R.filter(O=>O.type==="mark");return{baseExtensions:y,nodeExtensions:T,markExtensions:A}}function getAttributesFromExtensions(R){const y=[],{nodeExtensions:T,markExtensions:A}=splitExtensions(R),O=[...T,...A],z={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return R.forEach(U=>{const G={name:U.name,options:U.options,storage:U.storage,extensions:O},J=getExtensionField(U,"addGlobalAttributes",G);if(!J)return;J().forEach(te=>{te.types.forEach(ae=>{Object.entries(te.attributes).forEach(([oe,pe])=>{y.push({type:ae,name:oe,attribute:{...z,...pe}})})})})}),O.forEach(U=>{const G={name:U.name,options:U.options,storage:U.storage},J=getExtensionField(U,"addAttributes",G);if(!J)return;const ee=J();Object.entries(ee).forEach(([te,ae])=>{const oe={...z,...ae};typeof oe?.default=="function"&&(oe.default=oe.default()),oe?.isRequired&&oe?.default===void 0&&delete oe.default,y.push({type:U.name,name:te,attribute:oe})})}),y}function mergeAttributes(...R){return R.filter(y=>!!y).reduce((y,T)=>{const A={...y};return Object.entries(T).forEach(([O,z])=>{if(!A[O]){A[O]=z;return}if(O==="class"){const G=z?String(z).split(" "):[],J=A[O]?A[O].split(" "):[],ee=G.filter(te=>!J.includes(te));A[O]=[...J,...ee].join(" ")}else if(O==="style"){const G=z?z.split(";").map(te=>te.trim()).filter(Boolean):[],J=A[O]?A[O].split(";").map(te=>te.trim()).filter(Boolean):[],ee=new Map;J.forEach(te=>{const[ae,oe]=te.split(":").map(pe=>pe.trim());ee.set(ae,oe)}),G.forEach(te=>{const[ae,oe]=te.split(":").map(pe=>pe.trim());ee.set(ae,oe)}),A[O]=Array.from(ee.entries()).map(([te,ae])=>`${te}: ${ae}`).join("; ")}else A[O]=z}),A},{})}function getRenderedAttributes(R,y){return y.filter(T=>T.type===R.type.name).filter(T=>T.attribute.rendered).map(T=>T.attribute.renderHTML?T.attribute.renderHTML(R.attrs)||{}:{[T.name]:R.attrs[T.name]}).reduce((T,A)=>mergeAttributes(T,A),{})}function fromString(R){return typeof R!="string"?R:R.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(R):R==="true"?!0:R==="false"?!1:R}function injectExtensionAttributesToParseRule(R,y){return"style"in R?R:{...R,getAttrs:T=>{const A=R.getAttrs?R.getAttrs(T):R.attrs;if(A===!1)return!1;const O=y.reduce((z,U)=>{const G=U.attribute.parseHTML?U.attribute.parseHTML(T):fromString(T.getAttribute(U.name));return G==null?z:{...z,[U.name]:G}},{});return{...A,...O}}}}function cleanUpSchemaItem(R){return Object.fromEntries(Object.entries(R).filter(([y,T])=>y==="attrs"&&isEmptyObject(T)?!1:T!=null))}function buildAttributeSpec(R){var y,T;const A={};return!((y=R?.attribute)!=null&&y.isRequired)&&"default"in(R?.attribute||{})&&(A.default=R.attribute.default),((T=R?.attribute)==null?void 0:T.validate)!==void 0&&(A.validate=R.attribute.validate),[R.name,A]}function getSchemaByResolvedExtensions(R,y){var T;const A=getAttributesFromExtensions(R),{nodeExtensions:O,markExtensions:z}=splitExtensions(R),U=(T=O.find(ee=>getExtensionField(ee,"topNode")))==null?void 0:T.name,G=Object.fromEntries(O.map(ee=>{const te=A.filter(_e=>_e.type===ee.name),ae={name:ee.name,options:ee.options,storage:ee.storage,editor:y},oe=R.reduce((_e,Le)=>{const je=getExtensionField(Le,"extendNodeSchema",ae);return{..._e,...je?je(ee):{}}},{}),pe=cleanUpSchemaItem({...oe,content:callOrReturn(getExtensionField(ee,"content",ae)),marks:callOrReturn(getExtensionField(ee,"marks",ae)),group:callOrReturn(getExtensionField(ee,"group",ae)),inline:callOrReturn(getExtensionField(ee,"inline",ae)),atom:callOrReturn(getExtensionField(ee,"atom",ae)),selectable:callOrReturn(getExtensionField(ee,"selectable",ae)),draggable:callOrReturn(getExtensionField(ee,"draggable",ae)),code:callOrReturn(getExtensionField(ee,"code",ae)),whitespace:callOrReturn(getExtensionField(ee,"whitespace",ae)),linebreakReplacement:callOrReturn(getExtensionField(ee,"linebreakReplacement",ae)),defining:callOrReturn(getExtensionField(ee,"defining",ae)),isolating:callOrReturn(getExtensionField(ee,"isolating",ae)),attrs:Object.fromEntries(te.map(buildAttributeSpec))}),fe=callOrReturn(getExtensionField(ee,"parseHTML",ae));fe&&(pe.parseDOM=fe.map(_e=>injectExtensionAttributesToParseRule(_e,te)));const xe=getExtensionField(ee,"renderHTML",ae);xe&&(pe.toDOM=_e=>xe({node:_e,HTMLAttributes:getRenderedAttributes(_e,te)}));const ye=getExtensionField(ee,"renderText",ae);return ye&&(pe.toText=ye),[ee.name,pe]})),J=Object.fromEntries(z.map(ee=>{const te=A.filter(ye=>ye.type===ee.name),ae={name:ee.name,options:ee.options,storage:ee.storage,editor:y},oe=R.reduce((ye,_e)=>{const Le=getExtensionField(_e,"extendMarkSchema",ae);return{...ye,...Le?Le(ee):{}}},{}),pe=cleanUpSchemaItem({...oe,inclusive:callOrReturn(getExtensionField(ee,"inclusive",ae)),excludes:callOrReturn(getExtensionField(ee,"excludes",ae)),group:callOrReturn(getExtensionField(ee,"group",ae)),spanning:callOrReturn(getExtensionField(ee,"spanning",ae)),code:callOrReturn(getExtensionField(ee,"code",ae)),attrs:Object.fromEntries(te.map(buildAttributeSpec))}),fe=callOrReturn(getExtensionField(ee,"parseHTML",ae));fe&&(pe.parseDOM=fe.map(ye=>injectExtensionAttributesToParseRule(ye,te)));const xe=getExtensionField(ee,"renderHTML",ae);return xe&&(pe.toDOM=ye=>xe({mark:ye,HTMLAttributes:getRenderedAttributes(ye,te)})),[ee.name,pe]}));return new Schema({topNode:U,nodes:G,marks:J})}function findDuplicates(R){const y=R.filter((T,A)=>R.indexOf(T)!==A);return Array.from(new Set(y))}function sortExtensions(R){return R.sort((T,A)=>{const O=getExtensionField(T,"priority")||100,z=getExtensionField(A,"priority")||100;return O>z?-1:O<z?1:0})}function resolveExtensions(R){const y=sortExtensions(flattenExtensions(R)),T=findDuplicates(y.map(A=>A.name));return T.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${T.map(A=>`'${A}'`).join(", ")}]. This can lead to issues.`),y}function getTextBetween(R,y,T){const{from:A,to:O}=y,{blockSeparator:z=`

`,textSerializers:U={}}=T||{};let G="";return R.nodesBetween(A,O,(J,ee,te,ae)=>{var oe;J.isBlock&&ee>A&&(G+=z);const pe=U?.[J.type.name];if(pe)return te&&(G+=pe({node:J,pos:ee,parent:te,index:ae,range:y})),!1;J.isText&&(G+=(oe=J?.text)==null?void 0:oe.slice(Math.max(A,ee)-ee,O-ee))}),G}function getText(R,y){const T={from:0,to:R.content.size};return getTextBetween(R,T,y)}function getTextSerializersFromSchema(R){return Object.fromEntries(Object.entries(R.nodes).filter(([,y])=>y.spec.toText).map(([y,T])=>[y,T.spec.toText]))}function getNodeAttributes(R,y){const T=getNodeType(y,R.schema),{from:A,to:O}=R.selection,z=[];R.doc.nodesBetween(A,O,G=>{z.push(G)});const U=z.reverse().find(G=>G.type.name===T.name);return U?{...U.attrs}:{}}function getAttributes(R,y){const T=getSchemaTypeNameByName(typeof y=="string"?y:y.name,R.schema);return T==="node"?getNodeAttributes(R,y):T==="mark"?getMarkAttributes(R,y):{}}function removeDuplicates(R,y=JSON.stringify){const T={};return R.filter(A=>{const O=y(A);return Object.prototype.hasOwnProperty.call(T,O)?!1:T[O]=!0})}function simplifyChangedRanges(R){const y=removeDuplicates(R);return y.length===1?y:y.filter((T,A)=>!y.filter((z,U)=>U!==A).some(z=>T.oldRange.from>=z.oldRange.from&&T.oldRange.to<=z.oldRange.to&&T.newRange.from>=z.newRange.from&&T.newRange.to<=z.newRange.to))}function getChangedRanges(R){const{mapping:y,steps:T}=R,A=[];return y.maps.forEach((O,z)=>{const U=[];if(O.ranges.length)O.forEach((G,J)=>{U.push({from:G,to:J})});else{const{from:G,to:J}=T[z];if(G===void 0||J===void 0)return;U.push({from:G,to:J})}U.forEach(({from:G,to:J})=>{const ee=y.slice(z).map(G,-1),te=y.slice(z).map(J),ae=y.invert().map(ee,-1),oe=y.invert().map(te);A.push({oldRange:{from:ae,to:oe},newRange:{from:ee,to:te}})})}),simplifyChangedRanges(A)}function getMarksBetween(R,y,T){const A=[];return R===y?T.resolve(R).marks().forEach(O=>{const z=T.resolve(R),U=getMarkRange(z,O.type);U&&A.push({mark:O,...U})}):T.nodesBetween(R,y,(O,z)=>{!O||O?.nodeSize===void 0||A.push(...O.marks.map(U=>({from:z,to:z+O.nodeSize,mark:U})))}),A}var getNodeAtPosition=(R,y,T,A=20)=>{const O=R.doc.resolve(T);let z=A,U=null;for(;z>0&&U===null;){const G=O.node(z);G?.type.name===y?U=G:z-=1}return[U,z]};function getSchemaTypeByName(R,y){return y.nodes[R]||y.marks[R]||null}function getSplittedAttributes(R,y,T){return Object.fromEntries(Object.entries(T).filter(([A])=>{const O=R.find(z=>z.type===y&&z.name===A);return O?O.attribute.keepOnSplit:!1}))}var getTextContentFromNodes=(R,y=500)=>{let T="";const A=R.parentOffset;return R.parent.nodesBetween(Math.max(0,A-y),A,(O,z,U,G)=>{var J,ee;const te=((ee=(J=O.type.spec).toText)==null?void 0:ee.call(J,{node:O,pos:z,parent:U,index:G}))||O.textContent||"%leaf%";T+=O.isAtom&&!O.isText?te:te.slice(0,Math.max(0,A-z))}),T};function isMarkActive(R,y,T={}){const{empty:A,ranges:O}=R.selection,z=y?getMarkType(y,R.schema):null;if(A)return!!(R.storedMarks||R.selection.$from.marks()).filter(ae=>z?z.name===ae.type.name:!0).find(ae=>objectIncludes(ae.attrs,T,{strict:!1}));let U=0;const G=[];if(O.forEach(({$from:ae,$to:oe})=>{const pe=ae.pos,fe=oe.pos;R.doc.nodesBetween(pe,fe,(xe,ye)=>{if(!xe.isText&&!xe.marks.length)return;const _e=Math.max(pe,ye),Le=Math.min(fe,ye+xe.nodeSize),je=Le-_e;U+=je,G.push(...xe.marks.map(Ne=>({mark:Ne,from:_e,to:Le})))})}),U===0)return!1;const J=G.filter(ae=>z?z.name===ae.mark.type.name:!0).filter(ae=>objectIncludes(ae.mark.attrs,T,{strict:!1})).reduce((ae,oe)=>ae+oe.to-oe.from,0),ee=G.filter(ae=>z?ae.mark.type!==z&&ae.mark.type.excludes(z):!0).reduce((ae,oe)=>ae+oe.to-oe.from,0);return(J>0?J+ee:J)>=U}function isActive(R,y,T={}){if(!y)return isNodeActive(R,null,T)||isMarkActive(R,null,T);const A=getSchemaTypeNameByName(y,R.schema);return A==="node"?isNodeActive(R,y,T):A==="mark"?isMarkActive(R,y,T):!1}var isAtEndOfNode=(R,y)=>{const{$from:T,$to:A,$anchor:O}=R.selection;if(y){const z=findParentNode(G=>G.type.name===y)(R.selection);if(!z)return!1;const U=R.doc.resolve(z.pos+1);return O.pos+1===U.end()}return!(A.parentOffset<A.parent.nodeSize-2||T.pos!==A.pos)},isAtStartOfNode=R=>{const{$from:y,$to:T}=R.selection;return!(y.parentOffset>0||y.pos!==T.pos)};function isExtensionRulesEnabled(R,y){return Array.isArray(y)?y.some(T=>(typeof T=="string"?T:T.name)===R.name):y}function isList(R,y){const{nodeExtensions:T}=splitExtensions(y),A=T.find(U=>U.name===R);if(!A)return!1;const O={name:A.name,options:A.options,storage:A.storage},z=callOrReturn(getExtensionField(A,"group",O));return typeof z!="string"?!1:z.split(" ").includes("list")}function isNodeEmpty(R,{checkChildren:y=!0,ignoreWhitespace:T=!1}={}){var A;if(T){if(R.type.name==="hardBreak")return!0;if(R.isText)return/^\s*$/m.test((A=R.text)!=null?A:"")}if(R.isText)return!R.text;if(R.isAtom||R.isLeaf)return!1;if(R.content.childCount===0)return!0;if(y){let O=!0;return R.content.forEach(z=>{O!==!1&&(isNodeEmpty(z,{ignoreWhitespace:T,checkChildren:y})||(O=!1))}),O}return!1}function isNodeSelection(R){return R instanceof NodeSelection}var MappablePosition=class Oh{constructor(y){this.position=y}static fromJSON(y){return new Oh(y.position)}toJSON(){return{position:this.position}}};function getUpdatedPosition(R,y){const T=y.mapping.mapResult(R.position);return{position:new MappablePosition(T.pos),mapResult:T}}function createMappablePosition(R){return new MappablePosition(R)}function canSetMark(R,y,T){var A;const{selection:O}=y;let z=null;if(isTextSelection(O)&&(z=O.$cursor),z){const G=(A=R.storedMarks)!=null?A:z.marks();return z.parent.type.allowsMarkType(T)&&(!!T.isInSet(G)||!G.some(ee=>ee.type.excludes(T)))}const{ranges:U}=O;return U.some(({$from:G,$to:J})=>{let ee=G.depth===0?R.doc.inlineContent&&R.doc.type.allowsMarkType(T):!1;return R.doc.nodesBetween(G.pos,J.pos,(te,ae,oe)=>{if(ee)return!1;if(te.isInline){const pe=!oe||oe.type.allowsMarkType(T),fe=!!T.isInSet(te.marks)||!te.marks.some(xe=>xe.type.excludes(T));ee=pe&&fe}return!ee}),ee})}var setMark=(R,y={})=>({tr:T,state:A,dispatch:O})=>{const{selection:z}=T,{empty:U,ranges:G}=z,J=getMarkType(R,A.schema);if(O)if(U){const ee=getMarkAttributes(A,J);T.addStoredMark(J.create({...ee,...y}))}else G.forEach(ee=>{const te=ee.$from.pos,ae=ee.$to.pos;A.doc.nodesBetween(te,ae,(oe,pe)=>{const fe=Math.max(pe,te),xe=Math.min(pe+oe.nodeSize,ae);oe.marks.find(_e=>_e.type===J)?oe.marks.forEach(_e=>{J===_e.type&&T.addMark(fe,xe,J.create({..._e.attrs,...y}))}):T.addMark(fe,xe,J.create(y))})});return canSetMark(A,T,J)},setMeta=(R,y)=>({tr:T})=>(T.setMeta(R,y),!0),setNode=(R,y={})=>({state:T,dispatch:A,chain:O})=>{const z=getNodeType(R,T.schema);let U;return T.selection.$anchor.sameParent(T.selection.$head)&&(U=T.selection.$anchor.parent.attrs),z.isTextblock?O().command(({commands:G})=>setBlockType(z,{...U,...y})(T)?!0:G.clearNodes()).command(({state:G})=>setBlockType(z,{...U,...y})(G,A)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection=R=>({tr:y,dispatch:T})=>{if(T){const{doc:A}=y,O=minMax(R,0,A.content.size),z=NodeSelection.create(A,O);y.setSelection(z)}return!0},setTextDirection=(R,y)=>({tr:T,state:A,dispatch:O})=>{const{selection:z}=A;let U,G;return typeof y=="number"?(U=y,G=y):y&&"from"in y&&"to"in y?(U=y.from,G=y.to):(U=z.from,G=z.to),O&&T.doc.nodesBetween(U,G,(J,ee)=>{J.isText||T.setNodeMarkup(ee,void 0,{...J.attrs,dir:R})}),!0},setTextSelection=R=>({tr:y,dispatch:T})=>{if(T){const{doc:A}=y,{from:O,to:z}=typeof R=="number"?{from:R,to:R}:R,U=TextSelection.atStart(A).from,G=TextSelection.atEnd(A).to,J=minMax(O,U,G),ee=minMax(z,U,G),te=TextSelection.create(A,J,ee);y.setSelection(te)}return!0},sinkListItem=R=>({state:y,dispatch:T})=>{const A=getNodeType(R,y.schema);return sinkListItem$1(A)(y,T)};function ensureMarks(R,y){const T=R.storedMarks||R.selection.$to.parentOffset&&R.selection.$from.marks();if(T){const A=T.filter(O=>y?.includes(O.type.name));R.tr.ensureMarks(A)}}var splitBlock=({keepMarks:R=!0}={})=>({tr:y,state:T,dispatch:A,editor:O})=>{const{selection:z,doc:U}=y,{$from:G,$to:J}=z,ee=O.extensionManager.attributes,te=getSplittedAttributes(ee,G.node().type.name,G.node().attrs);if(z instanceof NodeSelection&&z.node.isBlock)return!G.parentOffset||!canSplit(U,G.pos)?!1:(A&&(R&&ensureMarks(T,O.extensionManager.splittableMarks),y.split(G.pos).scrollIntoView()),!0);if(!G.parent.isBlock)return!1;const ae=J.parentOffset===J.parent.content.size,oe=G.depth===0?void 0:defaultBlockAt(G.node(-1).contentMatchAt(G.indexAfter(-1)));let pe=ae&&oe?[{type:oe,attrs:te}]:void 0,fe=canSplit(y.doc,y.mapping.map(G.pos),1,pe);if(!pe&&!fe&&canSplit(y.doc,y.mapping.map(G.pos),1,oe?[{type:oe}]:void 0)&&(fe=!0,pe=oe?[{type:oe,attrs:te}]:void 0),A){if(fe&&(z instanceof TextSelection&&y.deleteSelection(),y.split(y.mapping.map(G.pos),1,pe),oe&&!ae&&!G.parentOffset&&G.parent.type!==oe)){const xe=y.mapping.map(G.before()),ye=y.doc.resolve(xe);G.node(-1).canReplaceWith(ye.index(),ye.index()+1,oe)&&y.setNodeMarkup(y.mapping.map(G.before()),oe)}R&&ensureMarks(T,O.extensionManager.splittableMarks),y.scrollIntoView()}return fe},splitListItem=(R,y={})=>({tr:T,state:A,dispatch:O,editor:z})=>{var U;const G=getNodeType(R,A.schema),{$from:J,$to:ee}=A.selection,te=A.selection.node;if(te&&te.isBlock||J.depth<2||!J.sameParent(ee))return!1;const ae=J.node(-1);if(ae.type!==G)return!1;const oe=z.extensionManager.attributes;if(J.parent.content.size===0&&J.node(-1).childCount===J.indexAfter(-1)){if(J.depth===2||J.node(-3).type!==G||J.index(-2)!==J.node(-2).childCount-1)return!1;if(O){let _e=Fragment.empty;const Le=J.index(-1)?1:J.index(-2)?2:3;for(let ze=J.depth-Le;ze>=J.depth-3;ze-=1)_e=Fragment.from(J.node(ze).copy(_e));const je=J.indexAfter(-1)<J.node(-2).childCount?1:J.indexAfter(-2)<J.node(-3).childCount?2:3,Ne={...getSplittedAttributes(oe,J.node().type.name,J.node().attrs),...y},$e=((U=G.contentMatch.defaultType)==null?void 0:U.createAndFill(Ne))||void 0;_e=_e.append(Fragment.from(G.createAndFill(null,$e)||void 0));const Ue=J.before(J.depth-(Le-1));T.replace(Ue,J.after(-je),new Slice(_e,4-Le,0));let He=-1;T.doc.nodesBetween(Ue,T.doc.content.size,(ze,Ke)=>{if(He>-1)return!1;ze.isTextblock&&ze.content.size===0&&(He=Ke+1)}),He>-1&&T.setSelection(TextSelection.near(T.doc.resolve(He))),T.scrollIntoView()}return!0}const pe=ee.pos===J.end()?ae.contentMatchAt(0).defaultType:null,fe={...getSplittedAttributes(oe,ae.type.name,ae.attrs),...y},xe={...getSplittedAttributes(oe,J.node().type.name,J.node().attrs),...y};T.delete(J.pos,ee.pos);const ye=pe?[{type:G,attrs:fe},{type:pe,attrs:xe}]:[{type:G,attrs:fe}];if(!canSplit(T.doc,J.pos,2))return!1;if(O){const{selection:_e,storedMarks:Le}=A,{splittableMarks:je}=z.extensionManager,Ne=Le||_e.$to.parentOffset&&_e.$from.marks();if(T.split(J.pos,2,ye).scrollIntoView(),!Ne||!O)return!0;const $e=Ne.filter(Ue=>je.includes(Ue.type.name));T.ensureMarks($e)}return!0},joinListBackwards=(R,y)=>{const T=findParentNode(U=>U.type===y)(R.selection);if(!T)return!0;const A=R.doc.resolve(Math.max(0,T.pos-1)).before(T.depth);if(A===void 0)return!0;const O=R.doc.nodeAt(A);return T.node.type===O?.type&&canJoin(R.doc,T.pos)&&R.join(T.pos),!0},joinListForwards=(R,y)=>{const T=findParentNode(U=>U.type===y)(R.selection);if(!T)return!0;const A=R.doc.resolve(T.start).after(T.depth);if(A===void 0)return!0;const O=R.doc.nodeAt(A);return T.node.type===O?.type&&canJoin(R.doc,A)&&R.join(A),!0},toggleList=(R,y,T,A={})=>({editor:O,tr:z,state:U,dispatch:G,chain:J,commands:ee,can:te})=>{const{extensions:ae,splittableMarks:oe}=O.extensionManager,pe=getNodeType(R,U.schema),fe=getNodeType(y,U.schema),{selection:xe,storedMarks:ye}=U,{$from:_e,$to:Le}=xe,je=_e.blockRange(Le),Ne=ye||xe.$to.parentOffset&&xe.$from.marks();if(!je)return!1;const $e=findParentNode(Ue=>isList(Ue.type.name,ae))(xe);if(je.depth>=1&&$e&&je.depth-$e.depth<=1){if($e.node.type===pe)return ee.liftListItem(fe);if(isList($e.node.type.name,ae)&&pe.validContent($e.node.content)&&G)return J().command(()=>(z.setNodeMarkup($e.pos,pe),!0)).command(()=>joinListBackwards(z,pe)).command(()=>joinListForwards(z,pe)).run()}return!T||!Ne||!G?J().command(()=>te().wrapInList(pe,A)?!0:ee.clearNodes()).wrapInList(pe,A).command(()=>joinListBackwards(z,pe)).command(()=>joinListForwards(z,pe)).run():J().command(()=>{const Ue=te().wrapInList(pe,A),He=Ne.filter(ze=>oe.includes(ze.type.name));return z.ensureMarks(He),Ue?!0:ee.clearNodes()}).wrapInList(pe,A).command(()=>joinListBackwards(z,pe)).command(()=>joinListForwards(z,pe)).run()},toggleMark=(R,y={},T={})=>({state:A,commands:O})=>{const{extendEmptyMarkRange:z=!1}=T,U=getMarkType(R,A.schema);return isMarkActive(A,U,y)?O.unsetMark(U,{extendEmptyMarkRange:z}):O.setMark(U,y)},toggleNode=(R,y,T={})=>({state:A,commands:O})=>{const z=getNodeType(R,A.schema),U=getNodeType(y,A.schema),G=isNodeActive(A,z,T);let J;return A.selection.$anchor.sameParent(A.selection.$head)&&(J=A.selection.$anchor.parent.attrs),G?O.setNode(U,J):O.setNode(z,{...J,...T})},toggleWrap=(R,y={})=>({state:T,commands:A})=>{const O=getNodeType(R,T.schema);return isNodeActive(T,O,y)?A.lift(O):A.wrapIn(O,y)},undoInputRule=()=>({state:R,dispatch:y})=>{const T=R.plugins;for(let A=0;A<T.length;A+=1){const O=T[A];let z;if(O.spec.isInputRules&&(z=O.getState(R))){if(y){const U=R.tr,G=z.transform;for(let J=G.steps.length-1;J>=0;J-=1)U.step(G.steps[J].invert(G.docs[J]));if(z.text){const J=U.doc.resolve(z.from).marks();U.replaceWith(z.from,z.to,R.schema.text(z.text,J))}else U.delete(z.from,z.to)}return!0}}return!1},unsetAllMarks=()=>({tr:R,dispatch:y})=>{const{selection:T}=R,{empty:A,ranges:O}=T;return A||y&&O.forEach(z=>{R.removeMark(z.$from.pos,z.$to.pos)}),!0},unsetMark=(R,y={})=>({tr:T,state:A,dispatch:O})=>{var z;const{extendEmptyMarkRange:U=!1}=y,{selection:G}=T,J=getMarkType(R,A.schema),{$from:ee,empty:te,ranges:ae}=G;if(!O)return!0;if(te&&U){let{from:oe,to:pe}=G;const fe=(z=ee.marks().find(ye=>ye.type===J))==null?void 0:z.attrs,xe=getMarkRange(ee,J,fe);xe&&(oe=xe.from,pe=xe.to),T.removeMark(oe,pe,J)}else ae.forEach(oe=>{T.removeMark(oe.$from.pos,oe.$to.pos,J)});return T.removeStoredMark(J),!0},unsetTextDirection=R=>({tr:y,state:T,dispatch:A})=>{const{selection:O}=T;let z,U;return typeof R=="number"?(z=R,U=R):R&&"from"in R&&"to"in R?(z=R.from,U=R.to):(z=O.from,U=O.to),A&&y.doc.nodesBetween(z,U,(G,J)=>{if(G.isText)return;const ee={...G.attrs};delete ee.dir,y.setNodeMarkup(J,void 0,ee)}),!0},updateAttributes=(R,y={})=>({tr:T,state:A,dispatch:O})=>{let z=null,U=null;const G=getSchemaTypeNameByName(typeof R=="string"?R:R.name,A.schema);if(!G)return!1;G==="node"&&(z=getNodeType(R,A.schema)),G==="mark"&&(U=getMarkType(R,A.schema));let J=!1;return T.selection.ranges.forEach(ee=>{const te=ee.$from.pos,ae=ee.$to.pos;let oe,pe,fe,xe;T.selection.empty?A.doc.nodesBetween(te,ae,(ye,_e)=>{z&&z===ye.type&&(J=!0,fe=Math.max(_e,te),xe=Math.min(_e+ye.nodeSize,ae),oe=_e,pe=ye)}):A.doc.nodesBetween(te,ae,(ye,_e)=>{_e<te&&z&&z===ye.type&&(J=!0,fe=Math.max(_e,te),xe=Math.min(_e+ye.nodeSize,ae),oe=_e,pe=ye),_e>=te&&_e<=ae&&(z&&z===ye.type&&(J=!0,O&&T.setNodeMarkup(_e,void 0,{...ye.attrs,...y})),U&&ye.marks.length&&ye.marks.forEach(Le=>{if(U===Le.type&&(J=!0,O)){const je=Math.max(_e,te),Ne=Math.min(_e+ye.nodeSize,ae);T.addMark(je,Ne,U.create({...Le.attrs,...y}))}}))}),pe&&(oe!==void 0&&O&&T.setNodeMarkup(oe,void 0,{...pe.attrs,...y}),U&&pe.marks.length&&pe.marks.forEach(ye=>{U===ye.type&&O&&T.addMark(fe,xe,U.create({...ye.attrs,...y}))}))}),J},wrapIn=(R,y={})=>({state:T,dispatch:A})=>{const O=getNodeType(R,T.schema);return wrapIn$1(O,y)(T,A)},wrapInList=(R,y={})=>({state:T,dispatch:A})=>{const O=getNodeType(R,T.schema);return wrapInList$1(O,y)(T,A)},EventEmitter=class{constructor(){this.callbacks={}}on(R,y){return this.callbacks[R]||(this.callbacks[R]=[]),this.callbacks[R].push(y),this}emit(R,...y){const T=this.callbacks[R];return T&&T.forEach(A=>A.apply(this,y)),this}off(R,y){const T=this.callbacks[R];return T&&(y?this.callbacks[R]=T.filter(A=>A!==y):delete this.callbacks[R]),this}once(R,y){const T=(...A)=>{this.off(R,T),y.apply(this,A)};return this.on(R,T)}removeAllListeners(){this.callbacks={}}},InputRule=class{constructor(R){var y;this.find=R.find,this.handler=R.handler,this.undoable=(y=R.undoable)!=null?y:!0}},inputRuleMatcherHandler=(R,y)=>{if(isRegExp(y))return y.exec(R);const T=y(R);if(!T)return null;const A=[T.text];return A.index=T.index,A.input=R,A.data=T.data,T.replaceWith&&(T.text.includes(T.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),A.push(T.replaceWith)),A};function run$2(R){var y;const{editor:T,from:A,to:O,text:z,rules:U,plugin:G}=R,{view:J}=T;if(J.composing)return!1;const ee=J.state.doc.resolve(A);if(ee.parent.type.spec.code||(y=ee.nodeBefore||ee.nodeAfter)!=null&&y.marks.find(oe=>oe.type.spec.code))return!1;let te=!1;const ae=getTextContentFromNodes(ee)+z;return U.forEach(oe=>{if(te)return;const pe=inputRuleMatcherHandler(ae,oe.find);if(!pe)return;const fe=J.state.tr,xe=createChainableState({state:J.state,transaction:fe}),ye={from:A-(pe[0].length-z.length),to:O},{commands:_e,chain:Le,can:je}=new CommandManager({editor:T,state:xe});oe.handler({state:xe,range:ye,match:pe,commands:_e,chain:Le,can:je})===null||!fe.steps.length||(oe.undoable&&fe.setMeta(G,{transform:fe,from:A,to:O,text:z}),J.dispatch(fe),te=!0)}),te}function inputRulesPlugin(R){const{editor:y,rules:T}=R,A=new Plugin({state:{init(){return null},apply(O,z,U){const G=O.getMeta(A);if(G)return G;const J=O.getMeta("applyInputRules");return!!J&&setTimeout(()=>{let{text:te}=J;typeof te=="string"?te=te:te=getHTMLFromFragment(Fragment.from(te),U.schema);const{from:ae}=J,oe=ae+te.length;run$2({editor:y,from:ae,to:oe,text:te,rules:T,plugin:A})}),O.selectionSet||O.docChanged?null:z}},props:{handleTextInput(O,z,U,G){return run$2({editor:y,from:z,to:U,text:G,rules:T,plugin:A})},handleDOMEvents:{compositionend:O=>(setTimeout(()=>{const{$cursor:z}=O.state.selection;z&&run$2({editor:y,from:z.pos,to:z.pos,text:"",rules:T,plugin:A})}),!1)},handleKeyDown(O,z){if(z.key!=="Enter")return!1;const{$cursor:U}=O.state.selection;return U?run$2({editor:y,from:U.pos,to:U.pos,text:`
`,rules:T,plugin:A}):!1}},isInputRules:!0});return A}function getType(R){return Object.prototype.toString.call(R).slice(8,-1)}function isPlainObject(R){return getType(R)!=="Object"?!1:R.constructor===Object&&Object.getPrototypeOf(R)===Object.prototype}function mergeDeep(R,y){const T={...R};return isPlainObject(R)&&isPlainObject(y)&&Object.keys(y).forEach(A=>{isPlainObject(y[A])&&isPlainObject(R[A])?T[A]=mergeDeep(R[A],y[A]):T[A]=y[A]}),T}var Extendable=class{constructor(R={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...R},this.name=this.config.name}get options(){return{...callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(R={}){const y=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,R)});return y.name=this.name,y.parent=this.parent,y}extend(R={}){const y=new this.constructor({...this.config,...R});return y.parent=this,this.child=y,y.name="name"in R?R.name:y.parent.name,y}},Mark=class Lh extends Extendable{constructor(){super(...arguments),this.type="mark"}static create(y={}){const T=typeof y=="function"?y():y;return new Lh(T)}static handleExit({editor:y,mark:T}){const{tr:A}=y.state,O=y.state.selection.$from;if(O.pos===O.end()){const U=O.marks();if(!!!U.find(ee=>ee?.type.name===T.name))return!1;const J=U.find(ee=>ee?.type.name===T.name);return J&&A.removeStoredMark(J),A.insertText(" ",O.pos),y.view.dispatch(A),!0}return!1}configure(y){return super.configure(y)}extend(y){const T=typeof y=="function"?y():y;return super.extend(T)}};function isNumber(R){return typeof R=="number"}var PasteRule=class{constructor(R){this.find=R.find,this.handler=R.handler}},pasteRuleMatcherHandler=(R,y,T)=>{if(isRegExp(y))return[...R.matchAll(y)];const A=y(R,T);return A?A.map(O=>{const z=[O.text];return z.index=O.index,z.input=R,z.data=O.data,O.replaceWith&&(O.text.includes(O.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),z.push(O.replaceWith)),z}):[]};function run2(R){const{editor:y,state:T,from:A,to:O,rule:z,pasteEvent:U,dropEvent:G}=R,{commands:J,chain:ee,can:te}=new CommandManager({editor:y,state:T}),ae=[];return T.doc.nodesBetween(A,O,(pe,fe)=>{var xe,ye,_e,Le,je;if((ye=(xe=pe.type)==null?void 0:xe.spec)!=null&&ye.code||!(pe.isText||pe.isTextblock||pe.isInline))return;const Ne=(je=(Le=(_e=pe.content)==null?void 0:_e.size)!=null?Le:pe.nodeSize)!=null?je:0,$e=Math.max(A,fe),Ue=Math.min(O,fe+Ne);if($e>=Ue)return;const He=pe.isText?pe.text||"":pe.textBetween($e-fe,Ue-fe,void 0,"");pasteRuleMatcherHandler(He,z.find,U).forEach(Ke=>{if(Ke.index===void 0)return;const Je=$e+Ke.index+1,Ze=Je+Ke[0].length,rt={from:T.tr.mapping.map(Je),to:T.tr.mapping.map(Ze)},nt=z.handler({state:T,range:rt,match:Ke,commands:J,chain:ee,can:te,pasteEvent:U,dropEvent:G});ae.push(nt)})}),ae.every(pe=>pe!==null)}var tiptapDragFromOtherEditor=null,createClipboardPasteEvent=R=>{var y;const T=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(y=T.clipboardData)==null||y.setData("text/html",R),T};function pasteRulesPlugin(R){const{editor:y,rules:T}=R;let A=null,O=!1,z=!1,U=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,G;try{G=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{G=null}const J=({state:te,from:ae,to:oe,rule:pe,pasteEvt:fe})=>{const xe=te.tr,ye=createChainableState({state:te,transaction:xe});if(!(!run2({editor:y,state:ye,from:Math.max(ae-1,0),to:oe.b-1,rule:pe,pasteEvent:fe,dropEvent:G})||!xe.steps.length)){try{G=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{G=null}return U=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,xe}};return T.map(te=>new Plugin({view(ae){const oe=fe=>{var xe;A=(xe=ae.dom.parentElement)!=null&&xe.contains(fe.target)?ae.dom.parentElement:null,A&&(tiptapDragFromOtherEditor=y)},pe=()=>{tiptapDragFromOtherEditor&&(tiptapDragFromOtherEditor=null)};return window.addEventListener("dragstart",oe),window.addEventListener("dragend",pe),{destroy(){window.removeEventListener("dragstart",oe),window.removeEventListener("dragend",pe)}}},props:{handleDOMEvents:{drop:(ae,oe)=>{if(z=A===ae.dom.parentElement,G=oe,!z){const pe=tiptapDragFromOtherEditor;pe?.isEditable&&setTimeout(()=>{const fe=pe.state.selection;fe&&pe.commands.deleteRange({from:fe.from,to:fe.to})},10)}return!1},paste:(ae,oe)=>{var pe;const fe=(pe=oe.clipboardData)==null?void 0:pe.getData("text/html");return U=oe,O=!!fe?.includes("data-pm-slice"),!1}}},appendTransaction:(ae,oe,pe)=>{const fe=ae[0],xe=fe.getMeta("uiEvent")==="paste"&&!O,ye=fe.getMeta("uiEvent")==="drop"&&!z,_e=fe.getMeta("applyPasteRules"),Le=!!_e;if(!xe&&!ye&&!Le)return;if(Le){let{text:$e}=_e;typeof $e=="string"?$e=$e:$e=getHTMLFromFragment(Fragment.from($e),pe.schema);const{from:Ue}=_e,He=Ue+$e.length,ze=createClipboardPasteEvent($e);return J({rule:te,state:pe,from:Ue,to:{b:He},pasteEvt:ze})}const je=oe.doc.content.findDiffStart(pe.doc.content),Ne=oe.doc.content.findDiffEnd(pe.doc.content);if(!(!isNumber(je)||!Ne||je===Ne.b))return J({rule:te,state:pe,from:je,to:Ne,pasteEvt:U})}}))}var ExtensionManager=class{constructor(R,y){this.splittableMarks=[],this.editor=y,this.baseExtensions=R,this.extensions=resolveExtensions(R),this.schema=getSchemaByResolvedExtensions(this.extensions,y),this.setupExtensions()}get commands(){return this.extensions.reduce((R,y)=>{const T={name:y.name,options:y.options,storage:this.editor.extensionStorage[y.name],editor:this.editor,type:getSchemaTypeByName(y.name,this.schema)},A=getExtensionField(y,"addCommands",T);return A?{...R,...A()}:R},{})}get plugins(){const{editor:R}=this;return sortExtensions([...this.extensions].reverse()).flatMap(A=>{const O={name:A.name,options:A.options,storage:this.editor.extensionStorage[A.name],editor:R,type:getSchemaTypeByName(A.name,this.schema)},z=[],U=getExtensionField(A,"addKeyboardShortcuts",O);let G={};if(A.type==="mark"&&getExtensionField(A,"exitable",O)&&(G.ArrowRight=()=>Mark.handleExit({editor:R,mark:A})),U){const oe=Object.fromEntries(Object.entries(U()).map(([pe,fe])=>[pe,()=>fe({editor:R})]));G={...G,...oe}}const J=keymap(G);z.push(J);const ee=getExtensionField(A,"addInputRules",O);if(isExtensionRulesEnabled(A,R.options.enableInputRules)&&ee){const oe=ee();if(oe&&oe.length){const pe=inputRulesPlugin({editor:R,rules:oe}),fe=Array.isArray(pe)?pe:[pe];z.push(...fe)}}const te=getExtensionField(A,"addPasteRules",O);if(isExtensionRulesEnabled(A,R.options.enablePasteRules)&&te){const oe=te();if(oe&&oe.length){const pe=pasteRulesPlugin({editor:R,rules:oe});z.push(...pe)}}const ae=getExtensionField(A,"addProseMirrorPlugins",O);if(ae){const oe=ae();z.push(...oe)}return z})}get attributes(){return getAttributesFromExtensions(this.extensions)}get nodeViews(){const{editor:R}=this,{nodeExtensions:y}=splitExtensions(this.extensions);return Object.fromEntries(y.filter(T=>!!getExtensionField(T,"addNodeView")).map(T=>{const A=this.attributes.filter(J=>J.type===T.name),O={name:T.name,options:T.options,storage:this.editor.extensionStorage[T.name],editor:R,type:getNodeType(T.name,this.schema)},z=getExtensionField(T,"addNodeView",O);if(!z)return[];const U=z();if(!U)return[];const G=(J,ee,te,ae,oe)=>{const pe=getRenderedAttributes(J,A);return U({node:J,view:ee,getPos:te,decorations:ae,innerDecorations:oe,editor:R,extension:T,HTMLAttributes:pe})};return[T.name,G]}))}get markViews(){const{editor:R}=this,{markExtensions:y}=splitExtensions(this.extensions);return Object.fromEntries(y.filter(T=>!!getExtensionField(T,"addMarkView")).map(T=>{const A=this.attributes.filter(G=>G.type===T.name),O={name:T.name,options:T.options,storage:this.editor.extensionStorage[T.name],editor:R,type:getMarkType(T.name,this.schema)},z=getExtensionField(T,"addMarkView",O);if(!z)return[];const U=(G,J,ee)=>{const te=getRenderedAttributes(G,A);return z()({mark:G,view:J,inline:ee,editor:R,extension:T,HTMLAttributes:te,updateAttributes:ae=>{updateMarkViewAttributes(G,R,ae)}})};return[T.name,U]}))}setupExtensions(){const R=this.extensions;this.editor.extensionStorage=Object.fromEntries(R.map(y=>[y.name,y.storage])),R.forEach(y=>{var T;const A={name:y.name,options:y.options,storage:this.editor.extensionStorage[y.name],editor:this.editor,type:getSchemaTypeByName(y.name,this.schema)};y.type==="mark"&&((T=callOrReturn(getExtensionField(y,"keepOnSplit",A)))==null||T)&&this.splittableMarks.push(y.name);const O=getExtensionField(y,"onBeforeCreate",A),z=getExtensionField(y,"onCreate",A),U=getExtensionField(y,"onUpdate",A),G=getExtensionField(y,"onSelectionUpdate",A),J=getExtensionField(y,"onTransaction",A),ee=getExtensionField(y,"onFocus",A),te=getExtensionField(y,"onBlur",A),ae=getExtensionField(y,"onDestroy",A);O&&this.editor.on("beforeCreate",O),z&&this.editor.on("create",z),U&&this.editor.on("update",U),G&&this.editor.on("selectionUpdate",G),J&&this.editor.on("transaction",J),ee&&this.editor.on("focus",ee),te&&this.editor.on("blur",te),ae&&this.editor.on("destroy",ae)})}};ExtensionManager.resolve=resolveExtensions;ExtensionManager.sort=sortExtensions;ExtensionManager.flatten=flattenExtensions;var extensions_exports={};__export$1(extensions_exports,{ClipboardTextSerializer:()=>ClipboardTextSerializer,Commands:()=>Commands,Delete:()=>Delete,Drop:()=>Drop,Editable:()=>Editable,FocusEvents:()=>FocusEvents,Keymap:()=>Keymap,Paste:()=>Paste,Tabindex:()=>Tabindex,TextDirection:()=>TextDirection,focusEventsPluginKey:()=>focusEventsPluginKey});var Extension=class Ih extends Extendable{constructor(){super(...arguments),this.type="extension"}static create(y={}){const T=typeof y=="function"?y():y;return new Ih(T)}configure(y){return super.configure(y)}extend(y){const T=typeof y=="function"?y():y;return super.extend(T)}},ClipboardTextSerializer=Extension.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:R}=this,{state:y,schema:T}=R,{doc:A,selection:O}=y,{ranges:z}=O,U=Math.min(...z.map(te=>te.$from.pos)),G=Math.max(...z.map(te=>te.$to.pos)),J=getTextSerializersFromSchema(T);return getTextBetween(A,{from:U,to:G},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:J})}}})]}}),Commands=Extension.create({name:"commands",addCommands(){return{...commands_exports}}}),Delete=Extension.create({name:"delete",onUpdate({transaction:R,appendedTransactions:y}){var T,A,O;const z=()=>{var U,G,J,ee;if((ee=(J=(G=(U=this.editor.options.coreExtensionOptions)==null?void 0:U.delete)==null?void 0:G.filterTransaction)==null?void 0:J.call(G,R))!=null?ee:R.getMeta("y-sync$"))return;const te=combineTransactionSteps(R.before,[R,...y]);getChangedRanges(te).forEach(pe=>{te.mapping.mapResult(pe.oldRange.from).deletedAfter&&te.mapping.mapResult(pe.oldRange.to).deletedBefore&&te.before.nodesBetween(pe.oldRange.from,pe.oldRange.to,(fe,xe)=>{const ye=xe+fe.nodeSize-2,_e=pe.oldRange.from<=xe&&ye<=pe.oldRange.to;this.editor.emit("delete",{type:"node",node:fe,from:xe,to:ye,newFrom:te.mapping.map(xe),newTo:te.mapping.map(ye),deletedRange:pe.oldRange,newRange:pe.newRange,partial:!_e,editor:this.editor,transaction:R,combinedTransform:te})})});const oe=te.mapping;te.steps.forEach((pe,fe)=>{var xe,ye;if(pe instanceof RemoveMarkStep){const _e=oe.slice(fe).map(pe.from,-1),Le=oe.slice(fe).map(pe.to),je=oe.invert().map(_e,-1),Ne=oe.invert().map(Le),$e=(xe=te.doc.nodeAt(_e-1))==null?void 0:xe.marks.some(He=>He.eq(pe.mark)),Ue=(ye=te.doc.nodeAt(Le))==null?void 0:ye.marks.some(He=>He.eq(pe.mark));this.editor.emit("delete",{type:"mark",mark:pe.mark,from:pe.from,to:pe.to,deletedRange:{from:je,to:Ne},newRange:{from:_e,to:Le},partial:!!(Ue||$e),editor:this.editor,transaction:R,combinedTransform:te})}})};(O=(A=(T=this.editor.options.coreExtensionOptions)==null?void 0:T.delete)==null?void 0:A.async)==null||O?setTimeout(z,0):z()}}),Drop=Extension.create({name:"drop",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapDrop"),props:{handleDrop:(R,y,T,A)=>{this.editor.emit("drop",{editor:this.editor,event:y,slice:T,moved:A})}}})]}}),Editable=Extension.create({name:"editable",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("editable"),props:{editable:()=>this.editor.options.editable}})]}}),focusEventsPluginKey=new PluginKey("focusEvents"),FocusEvents=Extension.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:R}=this;return[new Plugin({key:focusEventsPluginKey,props:{handleDOMEvents:{focus:(y,T)=>{R.isFocused=!0;const A=R.state.tr.setMeta("focus",{event:T}).setMeta("addToHistory",!1);return y.dispatch(A),!1},blur:(y,T)=>{R.isFocused=!1;const A=R.state.tr.setMeta("blur",{event:T}).setMeta("addToHistory",!1);return y.dispatch(A),!1}}}})]}}),Keymap=Extension.create({name:"keymap",addKeyboardShortcuts(){const R=()=>this.editor.commands.first(({commands:U})=>[()=>U.undoInputRule(),()=>U.command(({tr:G})=>{const{selection:J,doc:ee}=G,{empty:te,$anchor:ae}=J,{pos:oe,parent:pe}=ae,fe=ae.parent.isTextblock&&oe>0?G.doc.resolve(oe-1):ae,xe=fe.parent.type.spec.isolating,ye=ae.pos-ae.parentOffset,_e=xe&&fe.parent.childCount===1?ye===ae.pos:Selection.atStart(ee).from===oe;return!te||!pe.type.isTextblock||pe.textContent.length||!_e||_e&&ae.parent.type.name==="paragraph"?!1:U.clearNodes()}),()=>U.deleteSelection(),()=>U.joinBackward(),()=>U.selectNodeBackward()]),y=()=>this.editor.commands.first(({commands:U})=>[()=>U.deleteSelection(),()=>U.deleteCurrentNode(),()=>U.joinForward(),()=>U.selectNodeForward()]),A={Enter:()=>this.editor.commands.first(({commands:U})=>[()=>U.newlineInCode(),()=>U.createParagraphNear(),()=>U.liftEmptyBlock(),()=>U.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:R,"Mod-Backspace":R,"Shift-Backspace":R,Delete:y,"Mod-Delete":y,"Mod-a":()=>this.editor.commands.selectAll()},O={...A},z={...A,"Ctrl-h":R,"Alt-Backspace":R,"Ctrl-d":y,"Ctrl-Alt-Backspace":y,"Alt-Delete":y,"Alt-d":y,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return isiOS()||isMacOS()?z:O},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clearDocument"),appendTransaction:(R,y,T)=>{if(R.some(xe=>xe.getMeta("composition")))return;const A=R.some(xe=>xe.docChanged)&&!y.doc.eq(T.doc),O=R.some(xe=>xe.getMeta("preventClearDocument"));if(!A||O)return;const{empty:z,from:U,to:G}=y.selection,J=Selection.atStart(y.doc).from,ee=Selection.atEnd(y.doc).to;if(z||!(U===J&&G===ee)||!isNodeEmpty(T.doc))return;const oe=T.tr,pe=createChainableState({state:T,transaction:oe}),{commands:fe}=new CommandManager({editor:this.editor,state:pe});if(fe.clearNodes(),!!oe.steps.length)return oe}})]}}),Paste=Extension.create({name:"paste",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapPaste"),props:{handlePaste:(R,y,T)=>{this.editor.emit("paste",{editor:this.editor,event:y,slice:T})}}})]}}),Tabindex=Extension.create({name:"tabindex",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),TextDirection=Extension.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:R}=splitExtensions(this.extensions);return[{types:R.filter(y=>y.name!=="text").map(y=>y.name),attributes:{dir:{default:this.options.direction,parseHTML:y=>{const T=y.getAttribute("dir");return T&&(T==="ltr"||T==="rtl"||T==="auto")?T:this.options.direction},renderHTML:y=>y.dir?{dir:y.dir}:{}}}}]},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("textDirection"),props:{attributes:()=>{const R=this.options.direction;return R?{dir:R}:{}}}})]}}),NodePos=class ci{constructor(y,T,A=!1,O=null){this.currentNode=null,this.actualDepth=null,this.isBlock=A,this.resolvedPos=y,this.editor=T,this.currentNode=O}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var y;return(y=this.actualDepth)!=null?y:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(y){let T=this.from,A=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}T=this.from+1,A=this.to-1}this.editor.commands.insertContentAt({from:T,to:A},y)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const y=this.resolvedPos.start(this.resolvedPos.depth-1),T=this.resolvedPos.doc.resolve(y);return new ci(T,this.editor)}get before(){let y=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return y.depth!==this.depth&&(y=this.resolvedPos.doc.resolve(this.from-3)),new ci(y,this.editor)}get after(){let y=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return y.depth!==this.depth&&(y=this.resolvedPos.doc.resolve(this.to+3)),new ci(y,this.editor)}get children(){const y=[];return this.node.content.forEach((T,A)=>{const O=T.isBlock&&!T.isTextblock,z=T.isAtom&&!T.isText,U=this.pos+A+(z?0:1);if(U<0||U>this.resolvedPos.doc.nodeSize-2)return;const G=this.resolvedPos.doc.resolve(U);if(!O&&G.depth<=this.depth)return;const J=new ci(G,this.editor,O,O?T:null);O&&(J.actualDepth=this.depth+1),y.push(new ci(G,this.editor,O,O?T:null))}),y}get firstChild(){return this.children[0]||null}get lastChild(){const y=this.children;return y[y.length-1]||null}closest(y,T={}){let A=null,O=this.parent;for(;O&&!A;){if(O.node.type.name===y)if(Object.keys(T).length>0){const z=O.node.attrs,U=Object.keys(T);for(let G=0;G<U.length;G+=1){const J=U[G];if(z[J]!==T[J])break}}else A=O;O=O.parent}return A}querySelector(y,T={}){return this.querySelectorAll(y,T,!0)[0]||null}querySelectorAll(y,T={},A=!1){let O=[];if(!this.children||this.children.length===0)return O;const z=Object.keys(T);return this.children.forEach(U=>{A&&O.length>0||(U.node.type.name===y&&z.every(J=>T[J]===U.node.attrs[J])&&O.push(U),!(A&&O.length>0)&&(O=O.concat(U.querySelectorAll(y,T,A))))}),O}setAttribute(y){const{tr:T}=this.editor.state;T.setNodeMarkup(this.from,void 0,{...this.node.attrs,...y}),this.editor.view.dispatch(T)}},style=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function createStyleTag(R,y,T){const A=document.querySelector("style[data-tiptap-style]");if(A!==null)return A;const O=document.createElement("style");return y&&O.setAttribute("nonce",y),O.setAttribute("data-tiptap-style",""),O.innerHTML=R,document.getElementsByTagName("head")[0].appendChild(O),O}var Editor=class extends EventEmitter{constructor(R={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:A})=>{throw A},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition,createMappablePosition},this.setOptions(R),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:A,slice:O,moved:z})=>this.options.onDrop(A,O,z)),this.on("paste",({event:A,slice:O})=>this.options.onPaste(A,O)),this.on("delete",this.options.onDelete);const y=this.createDoc(),T=resolveFocusPosition(y,this.options.autofocus);this.editorState=EditorState.create({doc:y,schema:this.schema,selection:T||void 0}),this.options.element&&this.mount(this.options.element)}mount(R){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(R),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const R=this.editorView.dom;R?.editor&&delete R.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(R){console.warn("Failed to remove CSS element:",R)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=createStyleTag(style,this.options.injectNonce))}setOptions(R={}){this.options={...this.options,...R},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(R,y=!0){this.setOptions({editable:R}),y&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:R=>{this.editorState=R},dispatch:R=>{this.dispatchTransaction(R)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(R,y)=>{if(this.editorView)return this.editorView[y];if(y==="state")return this.editorState;if(y in R)return Reflect.get(R,y);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${y}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(R,y){const T=isFunction(y)?y(R,[...this.state.plugins]):[...this.state.plugins,R],A=this.state.reconfigure({plugins:T});return this.view.updateState(A),A}unregisterPlugin(R){if(this.isDestroyed)return;const y=this.state.plugins;let T=y;if([].concat(R).forEach(O=>{const z=typeof O=="string"?`${O}$`:O.key;T=T.filter(U=>!U.key.startsWith(z))}),y.length===T.length)return;const A=this.state.reconfigure({plugins:T});return this.view.updateState(A),A}createExtensionManager(){var R,y;const A=[...this.options.enableCoreExtensions?[Editable,ClipboardTextSerializer.configure({blockSeparator:(y=(R=this.options.coreExtensionOptions)==null?void 0:R.clipboardTextSerializer)==null?void 0:y.blockSeparator}),Commands,FocusEvents,Keymap,Tabindex,Drop,Paste,Delete,TextDirection.configure({direction:this.options.textDirection})].filter(O=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[O.name]!==!1:!0):[],...this.options.extensions].filter(O=>["extension","node","mark"].includes(O?.type));this.extensionManager=new ExtensionManager(A,this)}createCommandManager(){this.commandManager=new CommandManager({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let R;try{R=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(y){if(!(y instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(y.message))throw y;this.emit("contentError",{editor:this,error:y,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(T=>T.name!=="collaboration"),this.createExtensionManager()}}),R=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return R}createView(R){var y;this.editorView=new EditorView(R,{...this.options.editorProps,attributes:{role:"textbox",...(y=this.options.editorProps)==null?void 0:y.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const T=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(T),this.prependClass(),this.injectCSS();const A=this.view.dom;A.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(R){this.isCapturingTransaction=!0,R(),this.isCapturingTransaction=!1;const y=this.capturedTransaction;return this.capturedTransaction=null,y}dispatchTransaction(R){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=R;return}R.steps.forEach(ee=>{var te;return(te=this.capturedTransaction)==null?void 0:te.step(ee)});return}const{state:y,transactions:T}=this.state.applyTransaction(R),A=!this.state.selection.eq(y.selection),O=T.includes(R),z=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:R,nextState:y}),!O)return;this.view.updateState(y),this.emit("transaction",{editor:this,transaction:R,appendedTransactions:T.slice(1)}),A&&this.emit("selectionUpdate",{editor:this,transaction:R});const U=T.findLast(ee=>ee.getMeta("focus")||ee.getMeta("blur")),G=U?.getMeta("focus"),J=U?.getMeta("blur");G&&this.emit("focus",{editor:this,event:G.event,transaction:U}),J&&this.emit("blur",{editor:this,event:J.event,transaction:U}),!(R.getMeta("preventUpdate")||!T.some(ee=>ee.docChanged)||z.doc.eq(y.doc))&&this.emit("update",{editor:this,transaction:R,appendedTransactions:T.slice(1)})}getAttributes(R){return getAttributes(this.state,R)}isActive(R,y){const T=typeof R=="string"?R:null,A=typeof R=="string"?y:R;return isActive(this.state,T,A)}getJSON(){return this.state.doc.toJSON()}getHTML(){return getHTMLFromFragment(this.state.doc.content,this.schema)}getText(R){const{blockSeparator:y=`

`,textSerializers:T={}}=R||{};return getText(this.state.doc,{blockSeparator:y,textSerializers:{...getTextSerializersFromSchema(this.schema),...T}})}get isEmpty(){return isNodeEmpty(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var R,y;return(y=(R=this.editorView)==null?void 0:R.isDestroyed)!=null?y:!0}$node(R,y){var T;return((T=this.$doc)==null?void 0:T.querySelector(R,y))||null}$nodes(R,y){var T;return((T=this.$doc)==null?void 0:T.querySelectorAll(R,y))||null}$pos(R){const y=this.state.doc.resolve(R);return new NodePos(y,this)}get $doc(){return this.$pos(0)}};function markInputRule(R){return new InputRule({find:R.find,handler:({state:y,range:T,match:A})=>{const O=callOrReturn(R.getAttributes,void 0,A);if(O===!1||O===null)return null;const{tr:z}=y,U=A[A.length-1],G=A[0];if(U){const J=G.search(/\S/),ee=T.from+G.indexOf(U),te=ee+U.length;if(getMarksBetween(T.from,T.to,y.doc).filter(pe=>pe.mark.type.excluded.find(xe=>xe===R.type&&xe!==pe.mark.type)).filter(pe=>pe.to>ee).length)return null;te<T.to&&z.delete(te,T.to),ee>T.from&&z.delete(T.from+J,ee);const oe=T.from+J+U.length;z.addMark(T.from+J,oe,R.type.create(O||{})),z.removeStoredMark(R.type)}},undoable:R.undoable})}function nodeInputRule(R){return new InputRule({find:R.find,handler:({state:y,range:T,match:A})=>{const O=callOrReturn(R.getAttributes,void 0,A)||{},{tr:z}=y,U=T.from;let G=T.to;const J=R.type.create(O);if(A[1]){const ee=A[0].lastIndexOf(A[1]);let te=U+ee;te>G?te=G:G=te+A[1].length;const ae=A[0][A[0].length-1];z.insertText(ae,U+A[0].length-1),z.replaceWith(te,G,J)}else if(A[0]){const ee=R.type.isInline?U:U-1;z.insert(ee,R.type.create(O)).delete(z.mapping.map(U),z.mapping.map(G))}z.scrollIntoView()},undoable:R.undoable})}function textblockTypeInputRule(R){return new InputRule({find:R.find,handler:({state:y,range:T,match:A})=>{const O=y.doc.resolve(T.from),z=callOrReturn(R.getAttributes,void 0,A)||{};if(!O.node(-1).canReplaceWith(O.index(-1),O.indexAfter(-1),R.type))return null;y.tr.delete(T.from,T.to).setBlockType(T.from,T.from,R.type,z)},undoable:R.undoable})}function wrappingInputRule(R){return new InputRule({find:R.find,handler:({state:y,range:T,match:A,chain:O})=>{const z=callOrReturn(R.getAttributes,void 0,A)||{},U=y.tr.delete(T.from,T.to),J=U.doc.resolve(T.from).blockRange(),ee=J&&findWrapping(J,R.type,z);if(!ee)return null;if(U.wrap(J,ee),R.keepMarks&&R.editor){const{selection:ae,storedMarks:oe}=y,{splittableMarks:pe}=R.editor.extensionManager,fe=oe||ae.$to.parentOffset&&ae.$from.marks();if(fe){const xe=fe.filter(ye=>pe.includes(ye.type.name));U.ensureMarks(xe)}}if(R.keepAttributes){const ae=R.type.name==="bulletList"||R.type.name==="orderedList"?"listItem":"taskList";O().updateAttributes(ae,z).run()}const te=U.doc.resolve(T.from-1).nodeBefore;te&&te.type===R.type&&canJoin(U.doc,T.from-1)&&(!R.joinPredicate||R.joinPredicate(A,te))&&U.join(T.from-1)},undoable:R.undoable})}function canInsertNode(R,y){const{selection:T}=R,{$from:A}=T;if(T instanceof NodeSelection){const z=A.index();return A.parent.canReplaceWith(z,z+1,y)}let O=A.depth;for(;O>=0;){const z=A.index(O);if(A.node(O).contentMatchAt(z).matchType(y))return!0;O-=1}return!1}var markdown_exports={};__export$1(markdown_exports,{createAtomBlockMarkdownSpec:()=>createAtomBlockMarkdownSpec,createBlockMarkdownSpec:()=>createBlockMarkdownSpec,createInlineMarkdownSpec:()=>createInlineMarkdownSpec,parseAttributes:()=>parseAttributes,parseIndentedBlocks:()=>parseIndentedBlocks,renderNestedMarkdownContent:()=>renderNestedMarkdownContent,serializeAttributes:()=>serializeAttributes});function parseAttributes(R){if(!R?.trim())return{};const y={},T=[],A=R.replace(/["']([^"']*)["']/g,ee=>(T.push(ee),`__QUOTED_${T.length-1}__`)),O=A.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(O){const ee=O.map(te=>te.trim().slice(1));y.class=ee.join(" ")}const z=A.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);z&&(y.id=z[1]);const U=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(A.matchAll(U)).forEach(([,ee,te])=>{var ae;const oe=parseInt(((ae=te.match(/__QUOTED_(\d+)__/))==null?void 0:ae[1])||"0",10),pe=T[oe];pe&&(y[ee]=pe.slice(1,-1))});const J=A.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return J&&J.split(/\s+/).filter(Boolean).forEach(te=>{te.match(/^[a-zA-Z][\w-]*$/)&&(y[te]=!0)}),y}function serializeAttributes(R){if(!R||Object.keys(R).length===0)return"";const y=[];return R.class&&String(R.class).split(/\s+/).filter(Boolean).forEach(A=>y.push(`.${A}`)),R.id&&y.push(`#${R.id}`),Object.entries(R).forEach(([T,A])=>{T==="class"||T==="id"||(A===!0?y.push(T):A!==!1&&A!=null&&y.push(`${T}="${String(A)}"`))}),y.join(" ")}function createAtomBlockMarkdownSpec(R){const{nodeName:y,name:T,parseAttributes:A=parseAttributes,serializeAttributes:O=serializeAttributes,defaultAttributes:z={},requiredAttributes:U=[],allowedAttributes:G}=R,J=T||y,ee=te=>{if(!G)return te;const ae={};return G.forEach(oe=>{oe in te&&(ae[oe]=te[oe])}),ae};return{parseMarkdown:(te,ae)=>{const oe={...z,...te.attributes};return ae.createNode(y,oe,[])},markdownTokenizer:{name:y,level:"block",start(te){var ae;const oe=new RegExp(`^:::${J}(?:\\s|$)`,"m"),pe=(ae=te.match(oe))==null?void 0:ae.index;return pe!==void 0?pe:-1},tokenize(te,ae,oe){const pe=new RegExp(`^:::${J}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),fe=te.match(pe);if(!fe)return;const xe=fe[1]||"",ye=A(xe);if(!U.find(Le=>!(Le in ye)))return{type:y,raw:fe[0],attributes:ye}}},renderMarkdown:te=>{const ae=ee(te.attrs||{}),oe=O(ae),pe=oe?` {${oe}}`:"";return`:::${J}${pe} :::`}}}function createBlockMarkdownSpec(R){const{nodeName:y,name:T,getContent:A,parseAttributes:O=parseAttributes,serializeAttributes:z=serializeAttributes,defaultAttributes:U={},content:G="block",allowedAttributes:J}=R,ee=T||y,te=ae=>{if(!J)return ae;const oe={};return J.forEach(pe=>{pe in ae&&(oe[pe]=ae[pe])}),oe};return{parseMarkdown:(ae,oe)=>{let pe;if(A){const xe=A(ae);pe=typeof xe=="string"?[{type:"text",text:xe}]:xe}else G==="block"?pe=oe.parseChildren(ae.tokens||[]):pe=oe.parseInline(ae.tokens||[]);const fe={...U,...ae.attributes};return oe.createNode(y,fe,pe)},markdownTokenizer:{name:y,level:"block",start(ae){var oe;const pe=new RegExp(`^:::${ee}`,"m"),fe=(oe=ae.match(pe))==null?void 0:oe.index;return fe!==void 0?fe:-1},tokenize(ae,oe,pe){var fe;const xe=new RegExp(`^:::${ee}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),ye=ae.match(xe);if(!ye)return;const[_e,Le=""]=ye,je=O(Le);let Ne=1;const $e=_e.length;let Ue="";const He=/^:::([\w-]*)(\s.*)?/gm,ze=ae.slice($e);for(He.lastIndex=0;;){const Ke=He.exec(ze);if(Ke===null)break;const Je=Ke.index,Ze=Ke[1];if(!((fe=Ke[2])!=null&&fe.endsWith(":::"))){if(Ze)Ne+=1;else if(Ne-=1,Ne===0){const rt=ze.slice(0,Je);Ue=rt.trim();const nt=ae.slice(0,$e+Je+Ke[0].length);let at=[];if(Ue)if(G==="block")for(at=pe.blockTokens(rt),at.forEach(ot=>{ot.text&&(!ot.tokens||ot.tokens.length===0)&&(ot.tokens=pe.inlineTokens(ot.text))});at.length>0;){const ot=at[at.length-1];if(ot.type==="paragraph"&&(!ot.text||ot.text.trim()===""))at.pop();else break}else at=pe.inlineTokens(Ue);return{type:y,raw:nt,attributes:je,content:Ue,tokens:at}}}}}},renderMarkdown:(ae,oe)=>{const pe=te(ae.attrs||{}),fe=z(pe),xe=fe?` {${fe}}`:"",ye=oe.renderChildren(ae.content||[],`

`);return`:::${ee}${xe}

${ye}

:::`}}}function parseShortcodeAttributes(R){if(!R.trim())return{};const y={},T=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let A=T.exec(R);for(;A!==null;){const[,O,z,U]=A;y[O]=z||U,A=T.exec(R)}return y}function serializeShortcodeAttributes(R){return Object.entries(R).filter(([,y])=>y!=null).map(([y,T])=>`${y}="${T}"`).join(" ")}function createInlineMarkdownSpec(R){const{nodeName:y,name:T,getContent:A,parseAttributes:O=parseShortcodeAttributes,serializeAttributes:z=serializeShortcodeAttributes,defaultAttributes:U={},selfClosing:G=!1,allowedAttributes:J}=R,ee=T||y,te=oe=>{if(!J)return oe;const pe={};return J.forEach(fe=>{const xe=typeof fe=="string"?fe:fe.name,ye=typeof fe=="string"?void 0:fe.skipIfDefault;if(xe in oe){const _e=oe[xe];if(ye!==void 0&&_e===ye)return;pe[xe]=_e}}),pe},ae=ee.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(oe,pe)=>{const fe={...U,...oe.attributes};if(G)return pe.createNode(y,fe);const xe=A?A(oe):oe.content||"";return xe?pe.createNode(y,fe,[pe.createTextNode(xe)]):pe.createNode(y,fe,[])},markdownTokenizer:{name:y,level:"inline",start(oe){const pe=G?new RegExp(`\\[${ae}\\s*[^\\]]*\\]`):new RegExp(`\\[${ae}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${ae}\\]`),fe=oe.match(pe),xe=fe?.index;return xe!==void 0?xe:-1},tokenize(oe,pe,fe){const xe=G?new RegExp(`^\\[${ae}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${ae}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${ae}\\]`),ye=oe.match(xe);if(!ye)return;let _e="",Le="";if(G){const[,Ne]=ye;Le=Ne}else{const[,Ne,$e]=ye;Le=Ne,_e=$e||""}const je=O(Le.trim());return{type:y,raw:ye[0],content:_e.trim(),attributes:je}}},renderMarkdown:oe=>{let pe="";A?pe=A(oe):oe.content&&oe.content.length>0&&(pe=oe.content.filter(_e=>_e.type==="text").map(_e=>_e.text).join(""));const fe=te(oe.attrs||{}),xe=z(fe),ye=xe?` ${xe}`:"";return G?`[${ee}${ye}]`:`[${ee}${ye}]${pe}[/${ee}]`}}}function parseIndentedBlocks(R,y,T){var A,O,z,U;const G=R.split(`
`),J=[];let ee="",te=0;const ae=y.baseIndentSize||2;for(;te<G.length;){const oe=G[te],pe=oe.match(y.itemPattern);if(!pe){if(J.length>0)break;if(oe.trim()===""){te+=1,ee=`${ee}${oe}
`;continue}else return}const fe=y.extractItemData(pe),{indentLevel:xe,mainContent:ye}=fe;ee=`${ee}${oe}
`;const _e=[ye];for(te+=1;te<G.length;){const $e=G[te];if($e.trim()===""){const He=G.slice(te+1).findIndex(Je=>Je.trim()!=="");if(He===-1)break;if((((O=(A=G[te+1+He].match(/^(\s*)/))==null?void 0:A[1])==null?void 0:O.length)||0)>xe){_e.push($e),ee=`${ee}${$e}
`,te+=1;continue}else break}if((((U=(z=$e.match(/^(\s*)/))==null?void 0:z[1])==null?void 0:U.length)||0)>xe)_e.push($e),ee=`${ee}${$e}
`,te+=1;else break}let Le;const je=_e.slice(1);if(je.length>0){const $e=je.map(Ue=>Ue.slice(xe+ae)).join(`
`);$e.trim()&&(y.customNestedParser?Le=y.customNestedParser($e):Le=T.blockTokens($e))}const Ne=y.createToken(fe,Le);J.push(Ne)}if(J.length!==0)return{items:J,raw:ee}}function renderNestedMarkdownContent(R,y,T,A){if(!R||!Array.isArray(R.content))return"";const O=typeof T=="function"?T(A):T,[z,...U]=R.content,G=y.renderChildren([z]),J=[`${O}${G}`];return U&&U.length>0&&U.forEach(ee=>{const te=y.renderChildren([ee]);if(te){const ae=te.split(`
`).map(oe=>oe?y.indent(oe):"").join(`
`);J.push(ae)}}),J.join(`
`)}function updateMarkViewAttributes(R,y,T={}){const{state:A}=y,{doc:O,tr:z}=A,U=R;O.descendants((G,J)=>{const ee=z.mapping.map(J),te=z.mapping.map(J)+G.nodeSize;let ae=null;if(G.marks.forEach(pe=>{if(pe!==U)return!1;ae=pe}),!ae)return;let oe=!1;if(Object.keys(T).forEach(pe=>{T[pe]!==ae.attrs[pe]&&(oe=!0)}),oe){const pe=R.type.create({...R.attrs,...T});z.removeMark(ee,te,R.type),z.addMark(ee,te,pe)}}),z.docChanged&&y.view.dispatch(z)}var Node3=class Fh extends Extendable{constructor(){super(...arguments),this.type="node"}static create(y={}){const T=typeof y=="function"?y():y;return new Fh(T)}configure(y){return super.configure(y)}extend(y){const T=typeof y=="function"?y():y;return super.extend(T)}};function markPasteRule(R){return new PasteRule({find:R.find,handler:({state:y,range:T,match:A,pasteEvent:O})=>{const z=callOrReturn(R.getAttributes,void 0,A,O);if(z===!1||z===null)return null;const{tr:U}=y,G=A[A.length-1],J=A[0];let ee=T.to;if(G){const te=J.search(/\S/),ae=T.from+J.indexOf(G),oe=ae+G.length;if(getMarksBetween(T.from,T.to,y.doc).filter(fe=>fe.mark.type.excluded.find(ye=>ye===R.type&&ye!==fe.mark.type)).filter(fe=>fe.to>ae).length)return null;oe<T.to&&U.delete(oe,T.to),ae>T.from&&U.delete(T.from+te,ae),ee=T.from+te+G.length,U.addMark(T.from+te,ee,R.type.create(z||{})),U.removeStoredMark(R.type)}}})}const{getOwnPropertyNames,getOwnPropertySymbols}=Object,{hasOwnProperty}=Object.prototype;function combineComparators(R,y){return function(A,O,z){return R(A,O,z)&&y(A,O,z)}}function createIsCircular(R){return function(T,A,O){if(!T||!A||typeof T!="object"||typeof A!="object")return R(T,A,O);const{cache:z}=O,U=z.get(T),G=z.get(A);if(U&&G)return U===A&&G===T;z.set(T,A),z.set(A,T);const J=R(T,A,O);return z.delete(T),z.delete(A),J}}function getShortTag(R){return R?.[Symbol.toStringTag]}function getStrictProperties(R){return getOwnPropertyNames(R).concat(getOwnPropertySymbols(R))}const hasOwn=Object.hasOwn||((R,y)=>hasOwnProperty.call(R,y));function sameValueZeroEqual(R,y){return R===y||!R&&!y&&R!==R&&y!==y}const PREACT_VNODE="__v",PREACT_OWNER="__o",REACT_OWNER="_owner",{getOwnPropertyDescriptor,keys}=Object;function areArraysEqual(R,y,T){let A=R.length;if(y.length!==A)return!1;for(;A-- >0;)if(!T.equals(R[A],y[A],A,A,R,y,T))return!1;return!0}function areDatesEqual(R,y){return sameValueZeroEqual(R.getTime(),y.getTime())}function areErrorsEqual(R,y){return R.name===y.name&&R.message===y.message&&R.cause===y.cause&&R.stack===y.stack}function areFunctionsEqual(R,y){return R===y}function areMapsEqual(R,y,T){const A=R.size;if(A!==y.size)return!1;if(!A)return!0;const O=new Array(A),z=R.entries();let U,G,J=0;for(;(U=z.next())&&!U.done;){const ee=y.entries();let te=!1,ae=0;for(;(G=ee.next())&&!G.done;){if(O[ae]){ae++;continue}const oe=U.value,pe=G.value;if(T.equals(oe[0],pe[0],J,ae,R,y,T)&&T.equals(oe[1],pe[1],oe[0],pe[0],R,y,T)){te=O[ae]=!0;break}ae++}if(!te)return!1;J++}return!0}const areNumbersEqual=sameValueZeroEqual;function areObjectsEqual(R,y,T){const A=keys(R);let O=A.length;if(keys(y).length!==O)return!1;for(;O-- >0;)if(!isPropertyEqual(R,y,T,A[O]))return!1;return!0}function areObjectsEqualStrict(R,y,T){const A=getStrictProperties(R);let O=A.length;if(getStrictProperties(y).length!==O)return!1;let z,U,G;for(;O-- >0;)if(z=A[O],!isPropertyEqual(R,y,T,z)||(U=getOwnPropertyDescriptor(R,z),G=getOwnPropertyDescriptor(y,z),(U||G)&&(!U||!G||U.configurable!==G.configurable||U.enumerable!==G.enumerable||U.writable!==G.writable)))return!1;return!0}function arePrimitiveWrappersEqual(R,y){return sameValueZeroEqual(R.valueOf(),y.valueOf())}function areRegExpsEqual(R,y){return R.source===y.source&&R.flags===y.flags}function areSetsEqual(R,y,T){const A=R.size;if(A!==y.size)return!1;if(!A)return!0;const O=new Array(A),z=R.values();let U,G;for(;(U=z.next())&&!U.done;){const J=y.values();let ee=!1,te=0;for(;(G=J.next())&&!G.done;){if(!O[te]&&T.equals(U.value,G.value,U.value,G.value,R,y,T)){ee=O[te]=!0;break}te++}if(!ee)return!1}return!0}function areTypedArraysEqual(R,y){let T=R.length;if(y.length!==T)return!1;for(;T-- >0;)if(R[T]!==y[T])return!1;return!0}function areUrlsEqual(R,y){return R.hostname===y.hostname&&R.pathname===y.pathname&&R.protocol===y.protocol&&R.port===y.port&&R.hash===y.hash&&R.username===y.username&&R.password===y.password}function isPropertyEqual(R,y,T,A){return(A===REACT_OWNER||A===PREACT_OWNER||A===PREACT_VNODE)&&(R.$$typeof||y.$$typeof)?!0:hasOwn(y,A)&&T.equals(R[A],y[A],A,A,R,y,T)}const ARGUMENTS_TAG="[object Arguments]",BOOLEAN_TAG="[object Boolean]",DATE_TAG="[object Date]",ERROR_TAG="[object Error]",MAP_TAG="[object Map]",NUMBER_TAG="[object Number]",OBJECT_TAG="[object Object]",REG_EXP_TAG="[object RegExp]",SET_TAG="[object Set]",STRING_TAG="[object String]",URL_TAG="[object URL]",{isArray}=Array,isTypedArray=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,{assign}=Object,getTag=Object.prototype.toString.call.bind(Object.prototype.toString);function createEqualityComparator({areArraysEqual:R,areDatesEqual:y,areErrorsEqual:T,areFunctionsEqual:A,areMapsEqual:O,areNumbersEqual:z,areObjectsEqual:U,arePrimitiveWrappersEqual:G,areRegExpsEqual:J,areSetsEqual:ee,areTypedArraysEqual:te,areUrlsEqual:ae,unknownTagComparators:oe}){return function(fe,xe,ye){if(fe===xe)return!0;if(fe==null||xe==null)return!1;const _e=typeof fe;if(_e!==typeof xe)return!1;if(_e!=="object")return _e==="number"?z(fe,xe,ye):_e==="function"?A(fe,xe,ye):!1;const Le=fe.constructor;if(Le!==xe.constructor)return!1;if(Le===Object)return U(fe,xe,ye);if(isArray(fe))return R(fe,xe,ye);if(isTypedArray!=null&&isTypedArray(fe))return te(fe,xe,ye);if(Le===Date)return y(fe,xe,ye);if(Le===RegExp)return J(fe,xe,ye);if(Le===Map)return O(fe,xe,ye);if(Le===Set)return ee(fe,xe,ye);const je=getTag(fe);if(je===DATE_TAG)return y(fe,xe,ye);if(je===REG_EXP_TAG)return J(fe,xe,ye);if(je===MAP_TAG)return O(fe,xe,ye);if(je===SET_TAG)return ee(fe,xe,ye);if(je===OBJECT_TAG)return typeof fe.then!="function"&&typeof xe.then!="function"&&U(fe,xe,ye);if(je===URL_TAG)return ae(fe,xe,ye);if(je===ERROR_TAG)return T(fe,xe,ye);if(je===ARGUMENTS_TAG)return U(fe,xe,ye);if(je===BOOLEAN_TAG||je===NUMBER_TAG||je===STRING_TAG)return G(fe,xe,ye);if(oe){let Ne=oe[je];if(!Ne){const $e=getShortTag(fe);$e&&(Ne=oe[$e])}if(Ne)return Ne(fe,xe,ye)}return!1}}function createEqualityComparatorConfig({circular:R,createCustomConfig:y,strict:T}){let A={areArraysEqual:T?areObjectsEqualStrict:areArraysEqual,areDatesEqual,areErrorsEqual,areFunctionsEqual,areMapsEqual:T?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areNumbersEqual,areObjectsEqual:T?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual,areRegExpsEqual,areSetsEqual:T?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:T?areObjectsEqualStrict:areTypedArraysEqual,areUrlsEqual,unknownTagComparators:void 0};if(y&&(A=assign({},A,y(A))),R){const O=createIsCircular(A.areArraysEqual),z=createIsCircular(A.areMapsEqual),U=createIsCircular(A.areObjectsEqual),G=createIsCircular(A.areSetsEqual);A=assign({},A,{areArraysEqual:O,areMapsEqual:z,areObjectsEqual:U,areSetsEqual:G})}return A}function createInternalEqualityComparator(R){return function(y,T,A,O,z,U,G){return R(y,T,G)}}function createIsEqual({circular:R,comparator:y,createState:T,equals:A,strict:O}){if(T)return function(G,J){const{cache:ee=R?new WeakMap:void 0,meta:te}=T();return y(G,J,{cache:ee,equals:A,meta:te,strict:O})};if(R)return function(G,J){return y(G,J,{cache:new WeakMap,equals:A,meta:void 0,strict:O})};const z={cache:void 0,equals:A,meta:void 0,strict:O};return function(G,J){return y(G,J,z)}}const deepEqual=createCustomEqual();createCustomEqual({strict:!0});createCustomEqual({circular:!0});createCustomEqual({circular:!0,strict:!0});createCustomEqual({createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({strict:!0,createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({circular:!0,createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({circular:!0,createInternalComparator:()=>sameValueZeroEqual,strict:!0});function createCustomEqual(R={}){const{circular:y=!1,createInternalComparator:T,createState:A,strict:O=!1}=R,z=createEqualityComparatorConfig(R),U=createEqualityComparator(z),G=T?T(U):createInternalEqualityComparator(U);return createIsEqual({circular:y,comparator:U,createState:A,equals:G,strict:O})}var withSelector={exports:{}},withSelector_production={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production;function requireWithSelector_production(){if(hasRequiredWithSelector_production)return withSelector_production;hasRequiredWithSelector_production=1;var R=requireReact(),y=requireShim();function T(ee,te){return ee===te&&(ee!==0||1/ee===1/te)||ee!==ee&&te!==te}var A=typeof Object.is=="function"?Object.is:T,O=y.useSyncExternalStore,z=R.useRef,U=R.useEffect,G=R.useMemo,J=R.useDebugValue;return withSelector_production.useSyncExternalStoreWithSelector=function(ee,te,ae,oe,pe){var fe=z(null);if(fe.current===null){var xe={hasValue:!1,value:null};fe.current=xe}else xe=fe.current;fe=G(function(){function _e(Ue){if(!Le){if(Le=!0,je=Ue,Ue=oe(Ue),pe!==void 0&&xe.hasValue){var He=xe.value;if(pe(He,Ue))return Ne=He}return Ne=Ue}if(He=Ne,A(je,Ue))return He;var ze=oe(Ue);return pe!==void 0&&pe(He,ze)?(je=Ue,He):(je=Ue,Ne=ze)}var Le=!1,je,Ne,$e=ae===void 0?null:ae;return[function(){return _e(te())},$e===null?void 0:function(){return _e($e())}]},[te,ae,oe,pe]);var ye=O(ee,fe[0],fe[1]);return U(function(){xe.hasValue=!0,xe.value=ye},[ye]),J(ye),ye},withSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireWithSelector_production()),withSelector.exports}var withSelectorExports=requireWithSelector(),mergeRefs=(...R)=>y=>{R.forEach(T=>{typeof T=="function"?T(y):T&&(T.current=y)})},Portals=({contentComponent:R})=>{const y=shimExports.useSyncExternalStore(R.subscribe,R.getSnapshot,R.getServerSnapshot);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Object.values(y)})};function getInstance(){const R=new Set;let y={};return{subscribe(T){return R.add(T),()=>{R.delete(T)}},getSnapshot(){return y},getServerSnapshot(){return y},setRenderer(T,A){y={...y,[T]:ReactDOM.createPortal(A.reactElement,A.element,T)},R.forEach(O=>O())},removeRenderer(T){const A={...y};delete A[T],y=A,R.forEach(O=>O())}}}var PureEditorContent=class extends React.Component{constructor(R){var y;super(R),this.editorContentRef=React.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((y=R.editor)!=null&&y.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const R=this.props.editor;if(R&&!R.isDestroyed&&R.options.element){if(R.contentComponent)return;const y=this.editorContentRef.current;y.append(R.view.dom),R.setOptions({element:y}),R.contentComponent=getInstance(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=R.contentComponent.subscribe(()=>{this.setState(T=>T.hasContentComponentInitialized?T:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),R.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var R;const y=this.props.editor;if(y){this.initialized=!1,y.isDestroyed||y.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),y.contentComponent=null;try{if(!((R=y.view.dom)!=null&&R.firstChild))return;const T=document.createElement("div");T.append(y.view.dom),y.setOptions({element:T})}catch{}}}render(){const{editor:R,innerRef:y,...T}=this.props;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{ref:mergeRefs(y,this.editorContentRef),...T}),R?.contentComponent&&jsxRuntimeExports.jsx(Portals,{contentComponent:R.contentComponent})]})}},EditorContentWithKey=reactExports.forwardRef((R,y)=>{const T=React.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[R.editor]);return React.createElement(PureEditorContent,{key:T,innerRef:y,...R})}),EditorContent=React.memo(EditorContentWithKey),useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,EditorStateManager=class{constructor(R){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=R,this.lastSnapshot={editor:R,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(R){return this.subscribers.add(R),()=>{this.subscribers.delete(R)}}watch(R){if(this.editor=R,this.editor){const y=()=>{this.transactionNumber+=1,this.subscribers.forEach(A=>A())},T=this.editor;return T.on("transaction",y),()=>{T.off("transaction",y)}}}};function useEditorState(R){var y;const[T]=reactExports.useState(()=>new EditorStateManager(R.editor)),A=withSelectorExports.useSyncExternalStoreWithSelector(T.subscribe,T.getSnapshot,T.getServerSnapshot,R.selector,(y=R.equalityFn)!=null?y:deepEqual);return useIsomorphicLayoutEffect(()=>T.watch(R.editor),[R.editor,T]),reactExports.useDebugValue(A),A}var isDev=!1,isSSR=typeof window>"u",isNext=isSSR||!!(typeof window<"u"&&window.next),EditorInstanceManager=class Bh{constructor(y){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=y,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(y){this.editor=y,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(T=>T())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?isSSR||isNext?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const y={...this.options.current,onBeforeCreate:(...A)=>{var O,z;return(z=(O=this.options.current).onBeforeCreate)==null?void 0:z.call(O,...A)},onBlur:(...A)=>{var O,z;return(z=(O=this.options.current).onBlur)==null?void 0:z.call(O,...A)},onCreate:(...A)=>{var O,z;return(z=(O=this.options.current).onCreate)==null?void 0:z.call(O,...A)},onDestroy:(...A)=>{var O,z;return(z=(O=this.options.current).onDestroy)==null?void 0:z.call(O,...A)},onFocus:(...A)=>{var O,z;return(z=(O=this.options.current).onFocus)==null?void 0:z.call(O,...A)},onSelectionUpdate:(...A)=>{var O,z;return(z=(O=this.options.current).onSelectionUpdate)==null?void 0:z.call(O,...A)},onTransaction:(...A)=>{var O,z;return(z=(O=this.options.current).onTransaction)==null?void 0:z.call(O,...A)},onUpdate:(...A)=>{var O,z;return(z=(O=this.options.current).onUpdate)==null?void 0:z.call(O,...A)},onContentError:(...A)=>{var O,z;return(z=(O=this.options.current).onContentError)==null?void 0:z.call(O,...A)},onDrop:(...A)=>{var O,z;return(z=(O=this.options.current).onDrop)==null?void 0:z.call(O,...A)},onPaste:(...A)=>{var O,z;return(z=(O=this.options.current).onPaste)==null?void 0:z.call(O,...A)},onDelete:(...A)=>{var O,z;return(z=(O=this.options.current).onDelete)==null?void 0:z.call(O,...A)}};return new Editor(y)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(y){return this.subscriptions.add(y),()=>{this.subscriptions.delete(y)}}static compareOptions(y,T){return Object.keys(y).every(A=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(A)?!0:A==="extensions"&&y.extensions&&T.extensions?y.extensions.length!==T.extensions.length?!1:y.extensions.every((O,z)=>{var U;return O===((U=T.extensions)==null?void 0:U[z])}):y[A]===T[A])}onRender(y){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&y.length===0?Bh.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(y),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(y){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=y;return}if(this.previousDeps.length===y.length&&this.previousDeps.every((A,O)=>A===y[O]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=y}scheduleDestroy(){const y=this.instanceId,T=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===y){T&&T.setOptions(this.options.current);return}T&&!T.isDestroyed&&(T.destroy(),this.instanceId===y&&this.setEditor(null))},1)}};function useEditor(R={},y=[]){const T=reactExports.useRef(R);T.current=R;const[A]=reactExports.useState(()=>new EditorInstanceManager(T)),O=shimExports.useSyncExternalStore(A.subscribe,A.getEditor,A.getServerSnapshot);return reactExports.useDebugValue(O),reactExports.useEffect(A.onRender(y)),useEditorState({editor:O,selector:({transactionNumber:z})=>R.shouldRerenderOnTransaction===!1||R.shouldRerenderOnTransaction===void 0?null:R.immediatelyRender&&z===0?0:z+1}),O}var EditorContext=reactExports.createContext({editor:null});EditorContext.Consumer;var ReactNodeViewContext=reactExports.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),useReactNodeView=()=>reactExports.useContext(ReactNodeViewContext);React.forwardRef((R,y)=>{const{onDragStart:T}=useReactNodeView(),A=R.as||"div";return jsxRuntimeExports.jsx(A,{...R,ref:y,"data-node-view-wrapper":"",onDragStart:T,style:{whiteSpace:"normal",...R.style}})});React.createContext({markViewContentRef:()=>{}});var h=(R,y)=>{if(R==="slot")return 0;if(R instanceof Function)return R(y);const{children:T,...A}=y??{};if(R==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[R,A,T]},inputRegex$3=/^\s*>\s$/,Blockquote=Node3.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:R}){return h("blockquote",{...mergeAttributes(this.options.HTMLAttributes,R),children:h("slot",{})})},parseMarkdown:(R,y)=>y.createNode("blockquote",void 0,y.parseChildren(R.tokens||[])),renderMarkdown:(R,y)=>{if(!R.content)return"";const T=">",A=[];return R.content.forEach(O=>{const G=y.renderChildren([O]).split(`
`).map(J=>J.trim()===""?T:`${T} ${J}`);A.push(G.join(`
`))}),A.join(`
${T}
`)},addCommands(){return{setBlockquote:()=>({commands:R})=>R.wrapIn(this.name),toggleBlockquote:()=>({commands:R})=>R.toggleWrap(this.name),unsetBlockquote:()=>({commands:R})=>R.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[wrappingInputRule({find:inputRegex$3,type:this.type})]}}),starInputRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,starPasteRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,underscoreInputRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,underscorePasteRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Bold=Mark.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:R=>R.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:R=>R.type.name===this.name},{style:"font-weight",getAttrs:R=>/^(bold(er)?|[5-9]\d{2,})$/.test(R)&&null}]},renderHTML({HTMLAttributes:R}){return h("strong",{...mergeAttributes(this.options.HTMLAttributes,R),children:h("slot",{})})},markdownTokenName:"strong",parseMarkdown:(R,y)=>y.applyMark("bold",y.parseInline(R.tokens||[])),renderMarkdown:(R,y)=>`**${y.renderChildren(R)}**`,addCommands(){return{setBold:()=>({commands:R})=>R.setMark(this.name),toggleBold:()=>({commands:R})=>R.toggleMark(this.name),unsetBold:()=>({commands:R})=>R.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[markInputRule({find:starInputRegex$1,type:this.type}),markInputRule({find:underscoreInputRegex$1,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex$1,type:this.type}),markPasteRule({find:underscorePasteRegex$1,type:this.type})]}}),inputRegex$2=/(^|[^`])`([^`]+)`(?!`)$/,pasteRegex$1=/(^|[^`])`([^`]+)`(?!`)/g,Code=Mark.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:R}){return["code",mergeAttributes(this.options.HTMLAttributes,R),0]},markdownTokenName:"codespan",parseMarkdown:(R,y)=>y.applyMark("code",[{type:"text",text:R.text||""}]),renderMarkdown:(R,y)=>R.content?`\`${y.renderChildren(R.content)}\``:"",addCommands(){return{setCode:()=>({commands:R})=>R.setMark(this.name),toggleCode:()=>({commands:R})=>R.toggleMark(this.name),unsetCode:()=>({commands:R})=>R.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[markInputRule({find:inputRegex$2,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex$1,type:this.type})]}}),DEFAULT_TAB_SIZE=4,backtickInputRegex=/^```([a-z]+)?[\s\n]$/,tildeInputRegex=/^~~~([a-z]+)?[\s\n]$/,CodeBlock=Node3.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:DEFAULT_TAB_SIZE,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:R=>{var y;const{languageClassPrefix:T}=this.options;if(!T)return null;const z=[...((y=R.firstElementChild)==null?void 0:y.classList)||[]].filter(U=>U.startsWith(T)).map(U=>U.replace(T,""))[0];return z||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:R,HTMLAttributes:y}){return["pre",mergeAttributes(this.options.HTMLAttributes,y),["code",{class:R.attrs.language?this.options.languageClassPrefix+R.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(R,y)=>{var T;return((T=R.raw)==null?void 0:T.startsWith("```"))===!1&&R.codeBlockStyle!=="indented"?[]:y.createNode("codeBlock",{language:R.lang||null},R.text?[y.createTextNode(R.text)]:[])},renderMarkdown:(R,y)=>{var T;let A="";const O=((T=R.attrs)==null?void 0:T.language)||"";return R.content?A=[`\`\`\`${O}`,y.renderChildren(R.content),"```"].join(`
`):A=`\`\`\`${O}

\`\`\``,A},addCommands(){return{setCodeBlock:R=>({commands:y})=>y.setNode(this.name,R),toggleCodeBlock:R=>({commands:y})=>y.toggleNode(this.name,"paragraph",R)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:R,$anchor:y}=this.editor.state.selection,T=y.pos===1;return!R||y.parent.type.name!==this.name?!1:T||!y.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:R})=>{var y;if(!this.options.enableTabIndentation)return!1;const T=(y=this.options.tabSize)!=null?y:DEFAULT_TAB_SIZE,{state:A}=R,{selection:O}=A,{$from:z,empty:U}=O;if(z.parent.type!==this.type)return!1;const G=" ".repeat(T);return U?R.commands.insertContent(G):R.commands.command(({tr:J})=>{const{from:ee,to:te}=O,pe=A.doc.textBetween(ee,te,`
`,`
`).split(`
`).map(fe=>G+fe).join(`
`);return J.replaceWith(ee,te,A.schema.text(pe)),!0})},"Shift-Tab":({editor:R})=>{var y;if(!this.options.enableTabIndentation)return!1;const T=(y=this.options.tabSize)!=null?y:DEFAULT_TAB_SIZE,{state:A}=R,{selection:O}=A,{$from:z,empty:U}=O;return z.parent.type!==this.type?!1:U?R.commands.command(({tr:G})=>{var J;const{pos:ee}=z,te=z.start(),ae=z.end(),pe=A.doc.textBetween(te,ae,`
`,`
`).split(`
`);let fe=0,xe=0;const ye=ee-te;for(let Ue=0;Ue<pe.length;Ue+=1){if(xe+pe[Ue].length>=ye){fe=Ue;break}xe+=pe[Ue].length+1}const Le=((J=pe[fe].match(/^ */))==null?void 0:J[0])||"",je=Math.min(Le.length,T);if(je===0)return!0;let Ne=te;for(let Ue=0;Ue<fe;Ue+=1)Ne+=pe[Ue].length+1;return G.delete(Ne,Ne+je),ee-Ne<=je&&G.setSelection(TextSelection.create(G.doc,Ne)),!0}):R.commands.command(({tr:G})=>{const{from:J,to:ee}=O,oe=A.doc.textBetween(J,ee,`
`,`
`).split(`
`).map(pe=>{var fe;const xe=((fe=pe.match(/^ */))==null?void 0:fe[0])||"",ye=Math.min(xe.length,T);return pe.slice(ye)}).join(`
`);return G.replaceWith(J,ee,A.schema.text(oe)),!0})},Enter:({editor:R})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:y}=R,{selection:T}=y,{$from:A,empty:O}=T;if(!O||A.parent.type!==this.type)return!1;const z=A.parentOffset===A.parent.nodeSize-2,U=A.parent.textContent.endsWith(`

`);return!z||!U?!1:R.chain().command(({tr:G})=>(G.delete(A.pos-2,A.pos),!0)).exitCode().run()},ArrowDown:({editor:R})=>{if(!this.options.exitOnArrowDown)return!1;const{state:y}=R,{selection:T,doc:A}=y,{$from:O,empty:z}=T;if(!z||O.parent.type!==this.type||!(O.parentOffset===O.parent.nodeSize-2))return!1;const G=O.after();return G===void 0?!1:A.nodeAt(G)?R.commands.command(({tr:ee})=>(ee.setSelection(Selection.near(A.resolve(G))),!0)):R.commands.exitCode()}}},addInputRules(){return[textblockTypeInputRule({find:backtickInputRegex,type:this.type,getAttributes:R=>({language:R[1]})}),textblockTypeInputRule({find:tildeInputRegex,type:this.type,getAttributes:R=>({language:R[1]})})]},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("codeBlockVSCodeHandler"),props:{handlePaste:(R,y)=>{if(!y.clipboardData||this.editor.isActive(this.type.name))return!1;const T=y.clipboardData.getData("text/plain"),A=y.clipboardData.getData("vscode-editor-data"),O=A?JSON.parse(A):void 0,z=O?.mode;if(!T||!z)return!1;const{tr:U,schema:G}=R.state,J=G.text(T.replace(/\r\n?/g,`
`));return U.replaceSelectionWith(this.type.create({language:z},J)),U.selection.$from.parent.type!==this.type&&U.setSelection(TextSelection.near(U.doc.resolve(Math.max(0,U.selection.from-2)))),U.setMeta("paste",!0),R.dispatch(U),!0}}})]}}),Document=Node3.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(R,y)=>R.content?y.renderChildren(R.content,`

`):""}),HardBreak=Node3.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:R}){return["br",mergeAttributes(this.options.HTMLAttributes,R)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:R,chain:y,state:T,editor:A})=>R.first([()=>R.exitCode(),()=>R.command(()=>{const{selection:O,storedMarks:z}=T;if(O.$from.parent.type.spec.isolating)return!1;const{keepMarks:U}=this.options,{splittableMarks:G}=A.extensionManager,J=z||O.$to.parentOffset&&O.$from.marks();return y().insertContent({type:this.name}).command(({tr:ee,dispatch:te})=>{if(te&&J&&U){const ae=J.filter(oe=>G.includes(oe.type.name));ee.ensureMarks(ae)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Heading=Node3.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(R=>({tag:`h${R}`,attrs:{level:R}}))},renderHTML({node:R,HTMLAttributes:y}){return[`h${this.options.levels.includes(R.attrs.level)?R.attrs.level:this.options.levels[0]}`,mergeAttributes(this.options.HTMLAttributes,y),0]},parseMarkdown:(R,y)=>y.createNode("heading",{level:R.depth||1},y.parseInline(R.tokens||[])),renderMarkdown:(R,y)=>{var T;const A=(T=R.attrs)!=null&&T.level?parseInt(R.attrs.level,10):1,O="#".repeat(A);return R.content?`${O} ${y.renderChildren(R.content)}`:""},addCommands(){return{setHeading:R=>({commands:y})=>this.options.levels.includes(R.level)?y.setNode(this.name,R):!1,toggleHeading:R=>({commands:y})=>this.options.levels.includes(R.level)?y.toggleNode(this.name,"paragraph",R):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((R,y)=>({...R,[`Mod-Alt-${y}`]:()=>this.editor.commands.toggleHeading({level:y})}),{})},addInputRules(){return this.options.levels.map(R=>textblockTypeInputRule({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${R}})\\s$`),type:this.type,getAttributes:{level:R}}))}}),HorizontalRule=Node3.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:R}){return["hr",mergeAttributes(this.options.HTMLAttributes,R)]},markdownTokenName:"hr",parseMarkdown:(R,y)=>y.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:R,state:y})=>{if(!canInsertNode(y,y.schema.nodes[this.name]))return!1;const{selection:T}=y,{$to:A}=T,O=R();return isNodeSelection(T)?O.insertContentAt(A.pos,{type:this.name}):O.insertContent({type:this.name}),O.command(({state:z,tr:U,dispatch:G})=>{if(G){const{$to:J}=U.selection,ee=J.end();if(J.nodeAfter)J.nodeAfter.isTextblock?U.setSelection(TextSelection.create(U.doc,J.pos+1)):J.nodeAfter.isBlock?U.setSelection(NodeSelection.create(U.doc,J.pos)):U.setSelection(TextSelection.create(U.doc,J.pos));else{const te=z.schema.nodes[this.options.nextNodeType]||J.parent.type.contentMatch.defaultType,ae=te?.create();ae&&(U.insert(ee,ae),U.setSelection(TextSelection.create(U.doc,ee+1)))}U.scrollIntoView()}return!0}).run()}}},addInputRules(){return[nodeInputRule({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),starInputRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,starPasteRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,underscoreInputRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,underscorePasteRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Italic=Mark.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:R=>R.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:R=>R.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:R}){return["em",mergeAttributes(this.options.HTMLAttributes,R),0]},addCommands(){return{setItalic:()=>({commands:R})=>R.setMark(this.name),toggleItalic:()=>({commands:R})=>R.toggleMark(this.name),unsetItalic:()=>({commands:R})=>R.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(R,y)=>y.applyMark("italic",y.parseInline(R.tokens||[])),renderMarkdown:(R,y)=>`*${y.renderChildren(R)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[markInputRule({find:starInputRegex,type:this.type}),markInputRule({find:underscoreInputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex,type:this.type}),markPasteRule({find:underscorePasteRegex,type:this.type})]}});const encodedTlds="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",encodedUtlds="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",numeric="numeric",ascii="ascii",alpha="alpha",asciinumeric="asciinumeric",alphanumeric="alphanumeric",domain="domain",emoji="emoji",scheme="scheme",slashscheme="slashscheme",whitespace="whitespace";function registerGroup(R,y){return R in y||(y[R]=[]),y[R]}function addToGroups(R,y,T){y[numeric]&&(y[asciinumeric]=!0,y[alphanumeric]=!0),y[ascii]&&(y[asciinumeric]=!0,y[alpha]=!0),y[asciinumeric]&&(y[alphanumeric]=!0),y[alpha]&&(y[alphanumeric]=!0),y[alphanumeric]&&(y[domain]=!0),y[emoji]&&(y[domain]=!0);for(const A in y){const O=registerGroup(A,T);O.indexOf(R)<0&&O.push(R)}}function flagsForToken(R,y){const T={};for(const A in y)y[A].indexOf(R)>=0&&(T[A]=!0);return T}function State(R=null){this.j={},this.jr=[],this.jd=null,this.t=R}State.groups={};State.prototype={accepts(){return!!this.t},go(R){const y=this,T=y.j[R];if(T)return T;for(let A=0;A<y.jr.length;A++){const O=y.jr[A][0],z=y.jr[A][1];if(z&&O.test(R))return z}return y.jd},has(R,y=!1){return y?R in this.j:!!this.go(R)},ta(R,y,T,A){for(let O=0;O<R.length;O++)this.tt(R[O],y,T,A)},tr(R,y,T,A){A=A||State.groups;let O;return y&&y.j?O=y:(O=new State(y),T&&A&&addToGroups(y,T,A)),this.jr.push([R,O]),O},ts(R,y,T,A){let O=this;const z=R.length;if(!z)return O;for(let U=0;U<z-1;U++)O=O.tt(R[U]);return O.tt(R[z-1],y,T,A)},tt(R,y,T,A){A=A||State.groups;const O=this;if(y&&y.j)return O.j[R]=y,y;const z=y;let U,G=O.go(R);if(G?(U=new State,Object.assign(U.j,G.j),U.jr.push.apply(U.jr,G.jr),U.jd=G.jd,U.t=G.t):U=new State,z){if(A)if(U.t&&typeof U.t=="string"){const J=Object.assign(flagsForToken(U.t,A),T);addToGroups(z,J,A)}else T&&addToGroups(z,T,A);U.t=z}return O.j[R]=U,U}};const ta=(R,y,T,A,O)=>R.ta(y,T,A,O),tr=(R,y,T,A,O)=>R.tr(y,T,A,O),ts=(R,y,T,A,O)=>R.ts(y,T,A,O),tt=(R,y,T,A,O)=>R.tt(y,T,A,O),WORD="WORD",UWORD="UWORD",ASCIINUMERICAL="ASCIINUMERICAL",ALPHANUMERICAL="ALPHANUMERICAL",LOCALHOST="LOCALHOST",TLD="TLD",UTLD="UTLD",SCHEME="SCHEME",SLASH_SCHEME="SLASH_SCHEME",NUM="NUM",WS="WS",NL="NL",OPENBRACE="OPENBRACE",CLOSEBRACE="CLOSEBRACE",OPENBRACKET="OPENBRACKET",CLOSEBRACKET="CLOSEBRACKET",OPENPAREN="OPENPAREN",CLOSEPAREN="CLOSEPAREN",OPENANGLEBRACKET="OPENANGLEBRACKET",CLOSEANGLEBRACKET="CLOSEANGLEBRACKET",FULLWIDTHLEFTPAREN="FULLWIDTHLEFTPAREN",FULLWIDTHRIGHTPAREN="FULLWIDTHRIGHTPAREN",LEFTCORNERBRACKET="LEFTCORNERBRACKET",RIGHTCORNERBRACKET="RIGHTCORNERBRACKET",LEFTWHITECORNERBRACKET="LEFTWHITECORNERBRACKET",RIGHTWHITECORNERBRACKET="RIGHTWHITECORNERBRACKET",FULLWIDTHLESSTHAN="FULLWIDTHLESSTHAN",FULLWIDTHGREATERTHAN="FULLWIDTHGREATERTHAN",AMPERSAND="AMPERSAND",APOSTROPHE="APOSTROPHE",ASTERISK="ASTERISK",AT="AT",BACKSLASH="BACKSLASH",BACKTICK="BACKTICK",CARET="CARET",COLON="COLON",COMMA="COMMA",DOLLAR="DOLLAR",DOT="DOT",EQUALS="EQUALS",EXCLAMATION="EXCLAMATION",HYPHEN="HYPHEN",PERCENT="PERCENT",PIPE="PIPE",PLUS="PLUS",POUND="POUND",QUERY="QUERY",QUOTE="QUOTE",FULLWIDTHMIDDLEDOT="FULLWIDTHMIDDLEDOT",SEMI="SEMI",SLASH="SLASH",TILDE="TILDE",UNDERSCORE="UNDERSCORE",EMOJI$1="EMOJI",SYM="SYM";var tk=Object.freeze({__proto__:null,ALPHANUMERICAL,AMPERSAND,APOSTROPHE,ASCIINUMERICAL,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,CLOSEANGLEBRACKET,CLOSEBRACE,CLOSEBRACKET,CLOSEPAREN,COLON,COMMA,DOLLAR,DOT,EMOJI:EMOJI$1,EQUALS,EXCLAMATION,FULLWIDTHGREATERTHAN,FULLWIDTHLEFTPAREN,FULLWIDTHLESSTHAN,FULLWIDTHMIDDLEDOT,FULLWIDTHRIGHTPAREN,HYPHEN,LEFTCORNERBRACKET,LEFTWHITECORNERBRACKET,LOCALHOST,NL,NUM,OPENANGLEBRACKET,OPENBRACE,OPENBRACKET,OPENPAREN,PERCENT,PIPE,PLUS,POUND,QUERY,QUOTE,RIGHTCORNERBRACKET,RIGHTWHITECORNERBRACKET,SCHEME,SEMI,SLASH,SLASH_SCHEME,SYM,TILDE,TLD,UNDERSCORE,UTLD,UWORD,WORD,WS});const ASCII_LETTER=/[a-z]/,LETTER=new RegExp("\\p{L}","u"),EMOJI=new RegExp("\\p{Emoji}","u"),DIGIT=/\d/,SPACE=/\s/,CR="\r",LF=`
`,EMOJI_VARIATION="",EMOJI_JOINER="",OBJECT_REPLACEMENT="";let tlds=null,utlds=null;function init$2(R=[]){const y={};State.groups=y;const T=new State;tlds==null&&(tlds=decodeTlds(encodedTlds)),utlds==null&&(utlds=decodeTlds(encodedUtlds)),tt(T,"'",APOSTROPHE),tt(T,"{",OPENBRACE),tt(T,"}",CLOSEBRACE),tt(T,"[",OPENBRACKET),tt(T,"]",CLOSEBRACKET),tt(T,"(",OPENPAREN),tt(T,")",CLOSEPAREN),tt(T,"<",OPENANGLEBRACKET),tt(T,">",CLOSEANGLEBRACKET),tt(T,"",FULLWIDTHLEFTPAREN),tt(T,"",FULLWIDTHRIGHTPAREN),tt(T,"",LEFTCORNERBRACKET),tt(T,"",RIGHTCORNERBRACKET),tt(T,"",LEFTWHITECORNERBRACKET),tt(T,"",RIGHTWHITECORNERBRACKET),tt(T,"",FULLWIDTHLESSTHAN),tt(T,"",FULLWIDTHGREATERTHAN),tt(T,"&",AMPERSAND),tt(T,"*",ASTERISK),tt(T,"@",AT),tt(T,"`",BACKTICK),tt(T,"^",CARET),tt(T,":",COLON),tt(T,",",COMMA),tt(T,"$",DOLLAR),tt(T,".",DOT),tt(T,"=",EQUALS),tt(T,"!",EXCLAMATION),tt(T,"-",HYPHEN),tt(T,"%",PERCENT),tt(T,"|",PIPE),tt(T,"+",PLUS),tt(T,"#",POUND),tt(T,"?",QUERY),tt(T,'"',QUOTE),tt(T,"/",SLASH),tt(T,";",SEMI),tt(T,"~",TILDE),tt(T,"_",UNDERSCORE),tt(T,"\\",BACKSLASH),tt(T,"",FULLWIDTHMIDDLEDOT);const A=tr(T,DIGIT,NUM,{[numeric]:!0});tr(A,DIGIT,A);const O=tr(A,ASCII_LETTER,ASCIINUMERICAL,{[asciinumeric]:!0}),z=tr(A,LETTER,ALPHANUMERICAL,{[alphanumeric]:!0}),U=tr(T,ASCII_LETTER,WORD,{[ascii]:!0});tr(U,DIGIT,O),tr(U,ASCII_LETTER,U),tr(O,DIGIT,O),tr(O,ASCII_LETTER,O);const G=tr(T,LETTER,UWORD,{[alpha]:!0});tr(G,ASCII_LETTER),tr(G,DIGIT,z),tr(G,LETTER,G),tr(z,DIGIT,z),tr(z,ASCII_LETTER),tr(z,LETTER,z);const J=tt(T,LF,NL,{[whitespace]:!0}),ee=tt(T,CR,WS,{[whitespace]:!0}),te=tr(T,SPACE,WS,{[whitespace]:!0});tt(T,OBJECT_REPLACEMENT,te),tt(ee,LF,J),tt(ee,OBJECT_REPLACEMENT,te),tr(ee,SPACE,te),tt(te,CR),tt(te,LF),tr(te,SPACE,te),tt(te,OBJECT_REPLACEMENT,te);const ae=tr(T,EMOJI,EMOJI$1,{[emoji]:!0});tt(ae,"#"),tr(ae,EMOJI,ae),tt(ae,EMOJI_VARIATION,ae);const oe=tt(ae,EMOJI_JOINER);tt(oe,"#"),tr(oe,EMOJI,ae);const pe=[[ASCII_LETTER,U],[DIGIT,O]],fe=[[ASCII_LETTER,null],[LETTER,G],[DIGIT,z]];for(let xe=0;xe<tlds.length;xe++)fastts(T,tlds[xe],TLD,WORD,pe);for(let xe=0;xe<utlds.length;xe++)fastts(T,utlds[xe],UTLD,UWORD,fe);addToGroups(TLD,{tld:!0,ascii:!0},y),addToGroups(UTLD,{utld:!0,alpha:!0},y),fastts(T,"file",SCHEME,WORD,pe),fastts(T,"mailto",SCHEME,WORD,pe),fastts(T,"http",SLASH_SCHEME,WORD,pe),fastts(T,"https",SLASH_SCHEME,WORD,pe),fastts(T,"ftp",SLASH_SCHEME,WORD,pe),fastts(T,"ftps",SLASH_SCHEME,WORD,pe),addToGroups(SCHEME,{scheme:!0,ascii:!0},y),addToGroups(SLASH_SCHEME,{slashscheme:!0,ascii:!0},y),R=R.sort((xe,ye)=>xe[0]>ye[0]?1:-1);for(let xe=0;xe<R.length;xe++){const ye=R[xe][0],Le=R[xe][1]?{[scheme]:!0}:{[slashscheme]:!0};ye.indexOf("-")>=0?Le[domain]=!0:ASCII_LETTER.test(ye)?DIGIT.test(ye)?Le[asciinumeric]=!0:Le[ascii]=!0:Le[numeric]=!0,ts(T,ye,ye,Le)}return ts(T,"localhost",LOCALHOST,{ascii:!0}),T.jd=new State(SYM),{start:T,tokens:Object.assign({groups:y},tk)}}function run$1(R,y){const T=stringToArray(y.replace(/[A-Z]/g,G=>G.toLowerCase())),A=T.length,O=[];let z=0,U=0;for(;U<A;){let G=R,J=null,ee=0,te=null,ae=-1,oe=-1;for(;U<A&&(J=G.go(T[U]));)G=J,G.accepts()?(ae=0,oe=0,te=G):ae>=0&&(ae+=T[U].length,oe++),ee+=T[U].length,z+=T[U].length,U++;z-=ae,U-=oe,ee-=ae,O.push({t:te.t,v:y.slice(z-ee,z),s:z-ee,e:z})}return O}function stringToArray(R){const y=[],T=R.length;let A=0;for(;A<T;){let O=R.charCodeAt(A),z,U=O<55296||O>56319||A+1===T||(z=R.charCodeAt(A+1))<56320||z>57343?R[A]:R.slice(A,A+2);y.push(U),A+=U.length}return y}function fastts(R,y,T,A,O){let z;const U=y.length;for(let G=0;G<U-1;G++){const J=y[G];R.j[J]?z=R.j[J]:(z=new State(A),z.jr=O.slice(),R.j[J]=z),R=z}return z=new State(T),z.jr=O.slice(),R.j[y[U-1]]=z,z}function decodeTlds(R){const y=[],T=[];let A=0,O="0123456789";for(;A<R.length;){let z=0;for(;O.indexOf(R[A+z])>=0;)z++;if(z>0){y.push(T.join(""));for(let U=parseInt(R.substring(A,A+z),10);U>0;U--)T.pop();A+=z}else T.push(R[A]),A++}return y}const defaults={defaultProtocol:"http",events:null,format:noop,formatHref:noop,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Options(R,y=null){let T=Object.assign({},defaults);R&&(T=Object.assign(T,R instanceof Options?R.o:R));const A=T.ignoreTags,O=[];for(let z=0;z<A.length;z++)O.push(A[z].toUpperCase());this.o=T,y&&(this.defaultRender=y),this.ignoreTags=O}Options.prototype={o:defaults,ignoreTags:[],defaultRender(R){return R},check(R){return this.get("validate",R.toString(),R)},get(R,y,T){const A=y!=null;let O=this.o[R];return O&&(typeof O=="object"?(O=T.t in O?O[T.t]:defaults[R],typeof O=="function"&&A&&(O=O(y,T))):typeof O=="function"&&A&&(O=O(y,T.t,T)),O)},getObj(R,y,T){let A=this.o[R];return typeof A=="function"&&y!=null&&(A=A(y,T.t,T)),A},render(R){const y=R.render(this);return(this.get("render",null,R)||this.defaultRender)(y,R.t,R)}};function noop(R){return R}function MultiToken(R,y){this.t="token",this.v=R,this.tk=y}MultiToken.prototype={isLink:!1,toString(){return this.v},toHref(R){return this.toString()},toFormattedString(R){const y=this.toString(),T=R.get("truncate",y,this),A=R.get("format",y,this);return T&&A.length>T?A.substring(0,T)+"":A},toFormattedHref(R){return R.get("formatHref",this.toHref(R.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(R=defaults.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(R),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(R){return{type:this.t,value:this.toFormattedString(R),isLink:this.isLink,href:this.toFormattedHref(R),start:this.startIndex(),end:this.endIndex()}},validate(R){return R.get("validate",this.toString(),this)},render(R){const y=this,T=this.toHref(R.get("defaultProtocol")),A=R.get("formatHref",T,this),O=R.get("tagName",T,y),z=this.toFormattedString(R),U={},G=R.get("className",T,y),J=R.get("target",T,y),ee=R.get("rel",T,y),te=R.getObj("attributes",T,y),ae=R.getObj("events",T,y);return U.href=A,G&&(U.class=G),J&&(U.target=J),ee&&(U.rel=ee),te&&Object.assign(U,te),{tagName:O,attributes:U,content:z,eventListeners:ae}}};function createTokenClass(R,y){class T extends MultiToken{constructor(O,z){super(O,z),this.t=R}}for(const A in y)T.prototype[A]=y[A];return T.t=R,T}const Email=createTokenClass("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Text$1=createTokenClass("text"),Nl=createTokenClass("nl"),Url=createTokenClass("url",{isLink:!0,toHref(R=defaults.defaultProtocol){return this.hasProtocol()?this.v:`${R}://${this.v}`},hasProtocol(){const R=this.tk;return R.length>=2&&R[0].t!==LOCALHOST&&R[1].t===COLON}}),makeState=R=>new State(R);function init$1({groups:R}){const y=R.domain.concat([AMPERSAND,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,NUM,PERCENT,PIPE,PLUS,POUND,SLASH,SYM,TILDE,UNDERSCORE]),T=[APOSTROPHE,COLON,COMMA,DOT,EXCLAMATION,PERCENT,QUERY,QUOTE,SEMI,OPENANGLEBRACKET,CLOSEANGLEBRACKET,OPENBRACE,CLOSEBRACE,CLOSEBRACKET,OPENBRACKET,OPENPAREN,CLOSEPAREN,FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN,LEFTCORNERBRACKET,RIGHTCORNERBRACKET,LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET,FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN],A=[AMPERSAND,APOSTROPHE,ASTERISK,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,OPENBRACE,CLOSEBRACE,PERCENT,PIPE,PLUS,POUND,QUERY,SLASH,SYM,TILDE,UNDERSCORE],O=makeState(),z=tt(O,TILDE);ta(z,A,z),ta(z,R.domain,z);const U=makeState(),G=makeState(),J=makeState();ta(O,R.domain,U),ta(O,R.scheme,G),ta(O,R.slashscheme,J),ta(U,A,z),ta(U,R.domain,U);const ee=tt(U,AT);tt(z,AT,ee),tt(G,AT,ee),tt(J,AT,ee);const te=tt(z,DOT);ta(te,A,z),ta(te,R.domain,z);const ae=makeState();ta(ee,R.domain,ae),ta(ae,R.domain,ae);const oe=tt(ae,DOT);ta(oe,R.domain,ae);const pe=makeState(Email);ta(oe,R.tld,pe),ta(oe,R.utld,pe),tt(ee,LOCALHOST,pe);const fe=tt(ae,HYPHEN);tt(fe,HYPHEN,fe),ta(fe,R.domain,ae),ta(pe,R.domain,ae),tt(pe,DOT,oe),tt(pe,HYPHEN,fe);const xe=tt(pe,COLON);ta(xe,R.numeric,Email);const ye=tt(U,HYPHEN),_e=tt(U,DOT);tt(ye,HYPHEN,ye),ta(ye,R.domain,U),ta(_e,A,z),ta(_e,R.domain,U);const Le=makeState(Url);ta(_e,R.tld,Le),ta(_e,R.utld,Le),ta(Le,R.domain,U),ta(Le,A,z),tt(Le,DOT,_e),tt(Le,HYPHEN,ye),tt(Le,AT,ee);const je=tt(Le,COLON),Ne=makeState(Url);ta(je,R.numeric,Ne);const $e=makeState(Url),Ue=makeState();ta($e,y,$e),ta($e,T,Ue),ta(Ue,y,$e),ta(Ue,T,Ue),tt(Le,SLASH,$e),tt(Ne,SLASH,$e);const He=tt(G,COLON),ze=tt(J,COLON),Ke=tt(ze,SLASH),Je=tt(Ke,SLASH);ta(G,R.domain,U),tt(G,DOT,_e),tt(G,HYPHEN,ye),ta(J,R.domain,U),tt(J,DOT,_e),tt(J,HYPHEN,ye),ta(He,R.domain,$e),tt(He,SLASH,$e),tt(He,QUERY,$e),ta(Je,R.domain,$e),ta(Je,y,$e),tt(Je,SLASH,$e);const Ze=[[OPENBRACE,CLOSEBRACE],[OPENBRACKET,CLOSEBRACKET],[OPENPAREN,CLOSEPAREN],[OPENANGLEBRACKET,CLOSEANGLEBRACKET],[FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN],[LEFTCORNERBRACKET,RIGHTCORNERBRACKET],[LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET],[FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN]];for(let rt=0;rt<Ze.length;rt++){const[nt,at]=Ze[rt],ot=tt($e,nt);tt(Ue,nt,ot),tt(ot,at,$e);const qe=makeState(Url);ta(ot,y,qe);const Xe=makeState();ta(ot,T),ta(qe,y,qe),ta(qe,T,Xe),ta(Xe,y,qe),ta(Xe,T,Xe),tt(qe,at,$e),tt(Xe,at,$e)}return tt(O,LOCALHOST,Le),tt(O,NL,Nl),{start:O,tokens:tk}}function run(R,y,T){let A=T.length,O=0,z=[],U=[];for(;O<A;){let G=R,J=null,ee=null,te=0,ae=null,oe=-1;for(;O<A&&!(J=G.go(T[O].t));)U.push(T[O++]);for(;O<A&&(ee=J||G.go(T[O].t));)J=null,G=ee,G.accepts()?(oe=0,ae=G):oe>=0&&oe++,O++,te++;if(oe<0)O-=te,O<A&&(U.push(T[O]),O++);else{U.length>0&&(z.push(initMultiToken(Text$1,y,U)),U=[]),O-=oe,te-=oe;const pe=ae.t,fe=T.slice(O-te,O);z.push(initMultiToken(pe,y,fe))}}return U.length>0&&z.push(initMultiToken(Text$1,y,U)),z}function initMultiToken(R,y,T){const A=T[0].s,O=T[T.length-1].e,z=y.slice(A,O);return new R(z,T)}const warn=typeof console<"u"&&console&&console.warn||(()=>{}),warnAdvice="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",INIT={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function reset(){return State.groups={},INIT.scanner=null,INIT.parser=null,INIT.tokenQueue=[],INIT.pluginQueue=[],INIT.customSchemes=[],INIT.initialized=!1,INIT}function registerCustomProtocol(R,y=!1){if(INIT.initialized&&warn(`linkifyjs: already initialized - will not register custom scheme "${R}" ${warnAdvice}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(R))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);INIT.customSchemes.push([R,y])}function init(){INIT.scanner=init$2(INIT.customSchemes);for(let R=0;R<INIT.tokenQueue.length;R++)INIT.tokenQueue[R][1]({scanner:INIT.scanner});INIT.parser=init$1(INIT.scanner.tokens);for(let R=0;R<INIT.pluginQueue.length;R++)INIT.pluginQueue[R][1]({scanner:INIT.scanner,parser:INIT.parser});return INIT.initialized=!0,INIT}function tokenize(R){return INIT.initialized||init(),run(INIT.parser.start,R,run$1(INIT.scanner.start,R))}tokenize.scan=run$1;function find(R,y=null,T=null){if(y&&typeof y=="object"){if(T)throw Error(`linkifyjs: Invalid link type ${y}; must be a string`);T=y,y=null}const A=new Options(T),O=tokenize(R),z=[];for(let U=0;U<O.length;U++){const G=O[U];G.isLink&&(!y||G.t===y)&&A.check(G)&&z.push(G.toFormattedObject(A))}return z}var UNICODE_WHITESPACE_PATTERN="[\0- -\u2029]",UNICODE_WHITESPACE_REGEX=new RegExp(UNICODE_WHITESPACE_PATTERN),UNICODE_WHITESPACE_REGEX_END=new RegExp(`${UNICODE_WHITESPACE_PATTERN}$`),UNICODE_WHITESPACE_REGEX_GLOBAL=new RegExp(UNICODE_WHITESPACE_PATTERN,"g");function isValidLinkStructure(R){return R.length===1?R[0].isLink:R.length===3&&R[1].isLink?["()","[]"].includes(R[0].value+R[2].value):!1}function autolink(R){return new Plugin({key:new PluginKey("autolink"),appendTransaction:(y,T,A)=>{const O=y.some(ee=>ee.docChanged)&&!T.doc.eq(A.doc),z=y.some(ee=>ee.getMeta("preventAutolink"));if(!O||z)return;const{tr:U}=A,G=combineTransactionSteps(T.doc,[...y]);if(getChangedRanges(G).forEach(({newRange:ee})=>{const te=findChildrenInRange(A.doc,ee,pe=>pe.isTextblock);let ae,oe;if(te.length>1)ae=te[0],oe=A.doc.textBetween(ae.pos,ae.pos+ae.node.nodeSize,void 0," ");else if(te.length){const pe=A.doc.textBetween(ee.from,ee.to," "," ");if(!UNICODE_WHITESPACE_REGEX_END.test(pe))return;ae=te[0],oe=A.doc.textBetween(ae.pos,ee.to,void 0," ")}if(ae&&oe){const pe=oe.split(UNICODE_WHITESPACE_REGEX).filter(Boolean);if(pe.length<=0)return!1;const fe=pe[pe.length-1],xe=ae.pos+oe.lastIndexOf(fe);if(!fe)return!1;const ye=tokenize(fe).map(_e=>_e.toObject(R.defaultProtocol));if(!isValidLinkStructure(ye))return!1;ye.filter(_e=>_e.isLink).map(_e=>({..._e,from:xe+_e.start+1,to:xe+_e.end+1})).filter(_e=>A.schema.marks.code?!A.doc.rangeHasMark(_e.from,_e.to,A.schema.marks.code):!0).filter(_e=>R.validate(_e.value)).filter(_e=>R.shouldAutoLink(_e.value)).forEach(_e=>{getMarksBetween(_e.from,_e.to,A.doc).some(Le=>Le.mark.type===R.type)||U.addMark(_e.from,_e.to,R.type.create({href:_e.href}))})}}),!!U.steps.length)return U}})}function clickHandler(R){return new Plugin({key:new PluginKey("handleClickLink"),props:{handleClick:(y,T,A)=>{var O,z;if(A.button!==0||!y.editable)return!1;let U=!1;if(R.enableClickSelection&&(U=R.editor.commands.extendMarkRange(R.type.name)),R.openOnClick){let G=null;if(A.target instanceof HTMLAnchorElement)G=A.target;else{let ae=A.target;const oe=[];for(;ae.nodeName!=="DIV";)oe.push(ae),ae=ae.parentNode;G=oe.find(pe=>pe.nodeName==="A")}if(!G)return U;const J=getAttributes(y.state,R.type.name),ee=(O=G?.href)!=null?O:J.href,te=(z=G?.target)!=null?z:J.target;G&&ee&&(window.open(ee,te),U=!0)}return U}}})}function pasteHandler(R){return new Plugin({key:new PluginKey("handlePasteLink"),props:{handlePaste:(y,T,A)=>{const{shouldAutoLink:O}=R,{state:z}=y,{selection:U}=z,{empty:G}=U;if(G)return!1;let J="";A.content.forEach(te=>{J+=te.textContent});const ee=find(J,{defaultProtocol:R.defaultProtocol}).find(te=>te.isLink&&te.value===J);return!J||!ee||O!==void 0&&!O(ee.href)?!1:R.editor.commands.setMark(R.type,{href:ee.href})}}})}function isAllowedUri(R,y){const T=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return y&&y.forEach(A=>{const O=typeof A=="string"?A:A.scheme;O&&T.push(O)}),!R||R.replace(UNICODE_WHITESPACE_REGEX_GLOBAL,"").match(new RegExp(`^(?:(?:${T.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Link=Mark.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(R=>{if(typeof R=="string"){registerCustomProtocol(R);return}registerCustomProtocol(R.scheme,R.optionalSlashes)})},onDestroy(){reset()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(R,y)=>!!isAllowedUri(R,y.protocols),validate:R=>!!R,shouldAutoLink:R=>!!R}},addAttributes(){return{href:{default:null,parseHTML(R){return R.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:R=>{const y=R.getAttribute("href");return!y||!this.options.isAllowedUri(y,{defaultValidate:T=>!!isAllowedUri(T,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:R}){return this.options.isAllowedUri(R.href,{defaultValidate:y=>!!isAllowedUri(y,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",mergeAttributes(this.options.HTMLAttributes,R),0]:["a",mergeAttributes(this.options.HTMLAttributes,{...R,href:""}),0]},markdownTokenName:"link",parseMarkdown:(R,y)=>y.applyMark("link",y.parseInline(R.tokens||[]),{href:R.href,title:R.title||null}),renderMarkdown:(R,y)=>{var T;const A=((T=R.attrs)==null?void 0:T.href)||"";return`[${y.renderChildren(R)}](${A})`},addCommands(){return{setLink:R=>({chain:y})=>{const{href:T}=R;return this.options.isAllowedUri(T,{defaultValidate:A=>!!isAllowedUri(A,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?y().setMark(this.name,R).setMeta("preventAutolink",!0).run():!1},toggleLink:R=>({chain:y})=>{const{href:T}=R||{};return T&&!this.options.isAllowedUri(T,{defaultValidate:A=>!!isAllowedUri(A,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:y().toggleMark(this.name,R,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:R})=>R().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[markPasteRule({find:R=>{const y=[];if(R){const{protocols:T,defaultProtocol:A}=this.options,O=find(R).filter(z=>z.isLink&&this.options.isAllowedUri(z.value,{defaultValidate:U=>!!isAllowedUri(U,T),protocols:T,defaultProtocol:A}));O.length&&O.forEach(z=>{this.options.shouldAutoLink(z.value)&&y.push({text:z.value,data:{href:z.href},index:z.start})})}return y},type:this.type,getAttributes:R=>{var y;return{href:(y=R.data)==null?void 0:y.href}}})]},addProseMirrorPlugins(){const R=[],{protocols:y,defaultProtocol:T}=this.options;return this.options.autolink&&R.push(autolink({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:A=>this.options.isAllowedUri(A,{defaultValidate:O=>!!isAllowedUri(O,y),protocols:y,defaultProtocol:T}),shouldAutoLink:this.options.shouldAutoLink})),R.push(clickHandler({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&R.push(pasteHandler({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),R}}),__defProp=Object.defineProperty,__export=(R,y)=>{for(var T in y)__defProp(R,T,{get:y[T],enumerable:!0})},ListItemName="listItem",TextStyleName="textStyle",bulletListInputRegex=/^\s*([-+*])\s$/,BulletList=Node3.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:R}){return["ul",mergeAttributes(this.options.HTMLAttributes,R),0]},markdownTokenName:"list",parseMarkdown:(R,y)=>R.type!=="list"||R.ordered?[]:{type:"bulletList",content:R.items?y.parseChildren(R.items):[]},renderMarkdown:(R,y)=>R.content?y.renderChildren(R.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:R,chain:y})=>this.options.keepAttributes?y().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName,this.editor.getAttributes(TextStyleName)).run():R.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let R=wrappingInputRule({find:bulletListInputRegex,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(R=wrappingInputRule({find:bulletListInputRegex,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(TextStyleName),editor:this.editor})),[R]}}),ListItem=Node3.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:R}){return["li",mergeAttributes(this.options.HTMLAttributes,R),0]},markdownTokenName:"list_item",parseMarkdown:(R,y)=>{if(R.type!=="list_item")return[];let T=[];if(R.tokens&&R.tokens.length>0)if(R.tokens.some(O=>O.type==="paragraph"))T=y.parseChildren(R.tokens);else{const O=R.tokens[0];if(O&&O.type==="text"&&O.tokens&&O.tokens.length>0){if(T=[{type:"paragraph",content:y.parseInline(O.tokens)}],R.tokens.length>1){const U=R.tokens.slice(1),G=y.parseChildren(U);T.push(...G)}}else T=y.parseChildren(R.tokens)}return T.length===0&&(T=[{type:"paragraph",content:[]}]),{type:"listItem",content:T}},renderMarkdown:(R,y,T)=>renderNestedMarkdownContent(R,y,A=>A.parentType==="bulletList"?"- ":A.parentType==="orderedList"?`${A.index+1}. `:"- ",T),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),listHelpers_exports={};__export(listHelpers_exports,{findListItemPos:()=>findListItemPos,getNextListDepth:()=>getNextListDepth,handleBackspace:()=>handleBackspace,handleDelete:()=>handleDelete,hasListBefore:()=>hasListBefore,hasListItemAfter:()=>hasListItemAfter,hasListItemBefore:()=>hasListItemBefore,listItemHasSubList:()=>listItemHasSubList,nextListIsDeeper:()=>nextListIsDeeper,nextListIsHigher:()=>nextListIsHigher});var findListItemPos=(R,y)=>{const{$from:T}=y.selection,A=getNodeType(R,y.schema);let O=null,z=T.depth,U=T.pos,G=null;for(;z>0&&G===null;)O=T.node(z),O.type===A?G=z:(z-=1,U-=1);return G===null?null:{$pos:y.doc.resolve(U),depth:G}},getNextListDepth=(R,y)=>{const T=findListItemPos(R,y);if(!T)return!1;const[,A]=getNodeAtPosition(y,R,T.$pos.pos+4);return A},hasListBefore=(R,y,T)=>{const{$anchor:A}=R.selection,O=Math.max(0,A.pos-2),z=R.doc.resolve(O).node();return!(!z||!T.includes(z.type.name))},hasListItemBefore=(R,y)=>{var T;const{$anchor:A}=y.selection,O=y.doc.resolve(A.pos-2);return!(O.index()===0||((T=O.nodeBefore)==null?void 0:T.type.name)!==R)},listItemHasSubList=(R,y,T)=>{if(!T)return!1;const A=getNodeType(R,y.schema);let O=!1;return T.descendants(z=>{z.type===A&&(O=!0)}),O},handleBackspace=(R,y,T)=>{if(R.commands.undoInputRule())return!0;if(R.state.selection.from!==R.state.selection.to)return!1;if(!isNodeActive(R.state,y)&&hasListBefore(R.state,y,T)){const{$anchor:G}=R.state.selection,J=R.state.doc.resolve(G.before()-1),ee=[];J.node().descendants((oe,pe)=>{oe.type.name===y&&ee.push({node:oe,pos:pe})});const te=ee.at(-1);if(!te)return!1;const ae=R.state.doc.resolve(J.start()+te.pos+1);return R.chain().cut({from:G.start()-1,to:G.end()+1},ae.end()).joinForward().run()}if(!isNodeActive(R.state,y)||!isAtStartOfNode(R.state))return!1;const A=findListItemPos(y,R.state);if(!A)return!1;const z=R.state.doc.resolve(A.$pos.pos-2).node(A.depth),U=listItemHasSubList(y,R.state,z);return hasListItemBefore(y,R.state)&&!U?R.commands.joinItemBackward():R.chain().liftListItem(y).run()},nextListIsDeeper=(R,y)=>{const T=getNextListDepth(R,y),A=findListItemPos(R,y);return!A||!T?!1:T>A.depth},nextListIsHigher=(R,y)=>{const T=getNextListDepth(R,y),A=findListItemPos(R,y);return!A||!T?!1:T<A.depth},handleDelete=(R,y)=>{if(!isNodeActive(R.state,y)||!isAtEndOfNode(R.state,y))return!1;const{selection:T}=R.state,{$from:A,$to:O}=T;return!T.empty&&A.sameParent(O)?!1:nextListIsDeeper(y,R.state)?R.chain().focus(R.state.selection.from+4).lift(y).joinBackward().run():nextListIsHigher(y,R.state)?R.chain().joinForward().joinBackward().run():R.commands.joinItemForward()},hasListItemAfter=(R,y)=>{var T;const{$anchor:A}=y.selection,O=y.doc.resolve(A.pos-A.parentOffset-2);return!(O.index()===O.parent.childCount-1||((T=O.nodeAfter)==null?void 0:T.type.name)!==R)},ListKeymap=Extension.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:R})=>{let y=!1;return this.options.listTypes.forEach(({itemName:T})=>{R.state.schema.nodes[T]!==void 0&&handleDelete(R,T)&&(y=!0)}),y},"Mod-Delete":({editor:R})=>{let y=!1;return this.options.listTypes.forEach(({itemName:T})=>{R.state.schema.nodes[T]!==void 0&&handleDelete(R,T)&&(y=!0)}),y},Backspace:({editor:R})=>{let y=!1;return this.options.listTypes.forEach(({itemName:T,wrapperNames:A})=>{R.state.schema.nodes[T]!==void 0&&handleBackspace(R,T,A)&&(y=!0)}),y},"Mod-Backspace":({editor:R})=>{let y=!1;return this.options.listTypes.forEach(({itemName:T,wrapperNames:A})=>{R.state.schema.nodes[T]!==void 0&&handleBackspace(R,T,A)&&(y=!0)}),y}}}}),ORDERED_LIST_ITEM_REGEX=/^(\s*)(\d+)\.\s+(.*)$/,INDENTED_LINE_REGEX=/^\s/;function collectOrderedListItems(R){const y=[];let T=0,A=0;for(;T<R.length;){const O=R[T],z=O.match(ORDERED_LIST_ITEM_REGEX);if(!z)break;const[,U,G,J]=z,ee=U.length;let te=J,ae=T+1;const oe=[O];for(;ae<R.length;){const pe=R[ae];if(pe.match(ORDERED_LIST_ITEM_REGEX))break;if(pe.trim()==="")oe.push(pe),te+=`
`,ae+=1;else if(pe.match(INDENTED_LINE_REGEX))oe.push(pe),te+=`
${pe.slice(ee+2)}`,ae+=1;else break}y.push({indent:ee,number:parseInt(G,10),content:te.trim(),raw:oe.join(`
`)}),A=ae,T=ae}return[y,A]}function buildNestedStructure(R,y,T){var A;const O=[];let z=0;for(;z<R.length;){const U=R[z];if(U.indent===y){const G=U.content.split(`
`),J=((A=G[0])==null?void 0:A.trim())||"",ee=[];J&&ee.push({type:"paragraph",raw:J,tokens:T.inlineTokens(J)});const te=G.slice(1).join(`
`).trim();if(te){const pe=T.blockTokens(te);ee.push(...pe)}let ae=z+1;const oe=[];for(;ae<R.length&&R[ae].indent>y;)oe.push(R[ae]),ae+=1;if(oe.length>0){const pe=Math.min(...oe.map(xe=>xe.indent)),fe=buildNestedStructure(oe,pe,T);ee.push({type:"list",ordered:!0,start:oe[0].number,items:fe,raw:oe.map(xe=>xe.raw).join(`
`)})}O.push({type:"list_item",raw:U.raw,tokens:ee}),z=ae}else z+=1}return O}function parseListItems(R,y){return R.map(T=>{if(T.type!=="list_item")return y.parseChildren([T])[0];const A=[];return T.tokens&&T.tokens.length>0&&T.tokens.forEach(O=>{if(O.type==="paragraph"||O.type==="list"||O.type==="blockquote"||O.type==="code")A.push(...y.parseChildren([O]));else if(O.type==="text"&&O.tokens){const z=y.parseChildren([O]);A.push({type:"paragraph",content:z})}else{const z=y.parseChildren([O]);z.length>0&&A.push(...z)}}),{type:"listItem",content:A}})}var ListItemName2="listItem",TextStyleName2="textStyle",orderedListInputRegex=/^(\d+)\.\s$/,OrderedList=Node3.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:R=>R.hasAttribute("start")?parseInt(R.getAttribute("start")||"",10):1},type:{default:null,parseHTML:R=>R.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:R}){const{start:y,...T}=R;return y===1?["ol",mergeAttributes(this.options.HTMLAttributes,T),0]:["ol",mergeAttributes(this.options.HTMLAttributes,R),0]},markdownTokenName:"list",parseMarkdown:(R,y)=>{if(R.type!=="list"||!R.ordered)return[];const T=R.start||1,A=R.items?parseListItems(R.items,y):[];return T!==1?{type:"orderedList",attrs:{start:T},content:A}:{type:"orderedList",content:A}},renderMarkdown:(R,y)=>R.content?y.renderChildren(R.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:R=>{const y=R.match(/^(\s*)(\d+)\.\s+/),T=y?.index;return T!==void 0?T:-1},tokenize:(R,y,T)=>{var A;const O=R.split(`
`),[z,U]=collectOrderedListItems(O);if(z.length===0)return;const G=buildNestedStructure(z,0,T);return G.length===0?void 0:{type:"list",ordered:!0,start:((A=z[0])==null?void 0:A.number)||1,items:G,raw:O.slice(0,U).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:R,chain:y})=>this.options.keepAttributes?y().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName2,this.editor.getAttributes(TextStyleName2)).run():R.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let R=wrappingInputRule({find:orderedListInputRegex,type:this.type,getAttributes:y=>({start:+y[1]}),joinPredicate:(y,T)=>T.childCount+T.attrs.start===+y[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(R=wrappingInputRule({find:orderedListInputRegex,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:y=>({start:+y[1],...this.editor.getAttributes(TextStyleName2)}),joinPredicate:(y,T)=>T.childCount+T.attrs.start===+y[1],editor:this.editor})),[R]}}),inputRegex$1=/^\s*(\[([( |x])?\])\s$/,TaskItem=Node3.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:R=>{const y=R.getAttribute("data-checked");return y===""||y==="true"},renderHTML:R=>({"data-checked":R.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:R,HTMLAttributes:y}){return["li",mergeAttributes(this.options.HTMLAttributes,y,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:R.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(R,y)=>{const T=[];if(R.tokens&&R.tokens.length>0?T.push(y.createNode("paragraph",{},y.parseInline(R.tokens))):R.text?T.push(y.createNode("paragraph",{},[y.createNode("text",{text:R.text})])):T.push(y.createNode("paragraph",{},[])),R.nestedTokens&&R.nestedTokens.length>0){const A=y.parseChildren(R.nestedTokens);T.push(...A)}return y.createNode("taskItem",{checked:R.checked||!1},T)},renderMarkdown:(R,y)=>{var T;const O=`- [${(T=R.attrs)!=null&&T.checked?"x":" "}] `;return renderNestedMarkdownContent(R,y,O)},addKeyboardShortcuts(){const R={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...R,Tab:()=>this.editor.commands.sinkListItem(this.name)}:R},addNodeView(){return({node:R,HTMLAttributes:y,getPos:T,editor:A})=>{const O=document.createElement("li"),z=document.createElement("label"),U=document.createElement("span"),G=document.createElement("input"),J=document.createElement("div"),ee=te=>{var ae,oe;G.ariaLabel=((oe=(ae=this.options.a11y)==null?void 0:ae.checkboxLabel)==null?void 0:oe.call(ae,te,G.checked))||`Task item checkbox for ${te.textContent||"empty task item"}`};return ee(R),z.contentEditable="false",G.type="checkbox",G.addEventListener("mousedown",te=>te.preventDefault()),G.addEventListener("change",te=>{if(!A.isEditable&&!this.options.onReadOnlyChecked){G.checked=!G.checked;return}const{checked:ae}=te.target;A.isEditable&&typeof T=="function"&&A.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:oe})=>{const pe=T();if(typeof pe!="number")return!1;const fe=oe.doc.nodeAt(pe);return oe.setNodeMarkup(pe,void 0,{...fe?.attrs,checked:ae}),!0}).run(),!A.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(R,ae)||(G.checked=!G.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([te,ae])=>{O.setAttribute(te,ae)}),O.dataset.checked=R.attrs.checked,G.checked=R.attrs.checked,z.append(G,U),O.append(z,J),Object.entries(y).forEach(([te,ae])=>{O.setAttribute(te,ae)}),{dom:O,contentDOM:J,update:te=>te.type!==this.type?!1:(O.dataset.checked=te.attrs.checked,G.checked=te.attrs.checked,ee(te),!0)}}},addInputRules(){return[wrappingInputRule({find:inputRegex$1,type:this.type,getAttributes:R=>({checked:R[R.length-1]==="x"})})]}}),TaskList=Node3.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:R}){return["ul",mergeAttributes(this.options.HTMLAttributes,R,{"data-type":this.name}),0]},parseMarkdown:(R,y)=>y.createNode("taskList",{},y.parseChildren(R.items||[])),renderMarkdown:(R,y)=>R.content?y.renderChildren(R.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(R){var y;const T=(y=R.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:y.index;return T!==void 0?T:-1},tokenize(R,y,T){const A=z=>{const U=parseIndentedBlocks(z,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:G=>({indentLevel:G[1].length,mainContent:G[4],checked:G[3].toLowerCase()==="x"}),createToken:(G,J)=>({type:"taskItem",raw:"",mainContent:G.mainContent,indentLevel:G.indentLevel,checked:G.checked,text:G.mainContent,tokens:T.inlineTokens(G.mainContent),nestedTokens:J}),customNestedParser:A},T);return U?[{type:"taskList",raw:U.raw,items:U.items}]:T.blockTokens(z)},O=parseIndentedBlocks(R,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:z=>({indentLevel:z[1].length,mainContent:z[4],checked:z[3].toLowerCase()==="x"}),createToken:(z,U)=>({type:"taskItem",raw:"",mainContent:z.mainContent,indentLevel:z.indentLevel,checked:z.checked,text:z.mainContent,tokens:T.inlineTokens(z.mainContent),nestedTokens:U}),customNestedParser:A},T);if(O)return{type:"taskList",raw:O.raw,items:O.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:R})=>R.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Extension.create({name:"listKit",addExtensions(){const R=[];return this.options.bulletList!==!1&&R.push(BulletList.configure(this.options.bulletList)),this.options.listItem!==!1&&R.push(ListItem.configure(this.options.listItem)),this.options.listKeymap!==!1&&R.push(ListKeymap.configure(this.options.listKeymap)),this.options.orderedList!==!1&&R.push(OrderedList.configure(this.options.orderedList)),this.options.taskItem!==!1&&R.push(TaskItem.configure(this.options.taskItem)),this.options.taskList!==!1&&R.push(TaskList.configure(this.options.taskList)),R}});var Paragraph=Node3.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:R}){return["p",mergeAttributes(this.options.HTMLAttributes,R),0]},parseMarkdown:(R,y)=>{const T=R.tokens||[];return T.length===1&&T[0].type==="image"?y.parseChildren([T[0]]):y.createNode("paragraph",void 0,y.parseInline(T))},renderMarkdown:(R,y)=>!R||!Array.isArray(R.content)?"":y.renderChildren(R.content),addCommands(){return{setParagraph:()=>({commands:R})=>R.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),inputRegex=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,pasteRegex=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Strike=Mark.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:R=>R.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:R}){return["s",mergeAttributes(this.options.HTMLAttributes,R),0]},markdownTokenName:"del",parseMarkdown:(R,y)=>y.applyMark("strike",y.parseInline(R.tokens||[])),renderMarkdown:(R,y)=>`~~${y.renderChildren(R)}~~`,addCommands(){return{setStrike:()=>({commands:R})=>R.setMark(this.name),toggleStrike:()=>({commands:R})=>R.toggleMark(this.name),unsetStrike:()=>({commands:R})=>R.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[markInputRule({find:inputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex,type:this.type})]}}),Text=Node3.create({name:"text",group:"inline",parseMarkdown:R=>({type:"text",text:R.text||""}),renderMarkdown:R=>R.text||""}),Underline=Mark.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:R=>R.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:R}){return["u",mergeAttributes(this.options.HTMLAttributes,R),0]},parseMarkdown(R,y){return y.applyMark(this.name||"underline",y.parseInline(R.tokens||[]))},renderMarkdown(R,y){return`++${y.renderChildren(R)}++`},markdownTokenizer:{name:"underline",level:"inline",start(R){return R.indexOf("++")},tokenize(R,y,T){const O=/^(\+\+)([\s\S]+?)(\+\+)/.exec(R);if(!O)return;const z=O[2].trim();return{type:"underline",raw:O[0],text:z,tokens:T.inlineTokens(z)}}},addCommands(){return{setUnderline:()=>({commands:R})=>R.setMark(this.name),toggleUnderline:()=>({commands:R})=>R.toggleMark(this.name),unsetUnderline:()=>({commands:R})=>R.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function dropCursor(R={}){return new Plugin({view(y){return new DropCursorView(y,R)}})}class DropCursorView{constructor(y,T){var A;this.editorView=y,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(A=T.width)!==null&&A!==void 0?A:1,this.color=T.color===!1?void 0:T.color||"black",this.class=T.class,this.handlers=["dragover","dragend","drop","dragleave"].map(O=>{let z=U=>{this[O](U)};return y.dom.addEventListener(O,z),{name:O,handler:z}})}destroy(){this.handlers.forEach(({name:y,handler:T})=>this.editorView.dom.removeEventListener(y,T))}update(y,T){this.cursorPos!=null&&T.doc!=y.state.doc&&(this.cursorPos>y.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(y){y!=this.cursorPos&&(this.cursorPos=y,y==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let y=this.editorView.state.doc.resolve(this.cursorPos),T=!y.parent.inlineContent,A,O=this.editorView.dom,z=O.getBoundingClientRect(),U=z.width/O.offsetWidth,G=z.height/O.offsetHeight;if(T){let ae=y.nodeBefore,oe=y.nodeAfter;if(ae||oe){let pe=this.editorView.nodeDOM(this.cursorPos-(ae?ae.nodeSize:0));if(pe){let fe=pe.getBoundingClientRect(),xe=ae?fe.bottom:fe.top;ae&&oe&&(xe=(xe+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let ye=this.width/2*G;A={left:fe.left,right:fe.right,top:xe-ye,bottom:xe+ye}}}}if(!A){let ae=this.editorView.coordsAtPos(this.cursorPos),oe=this.width/2*U;A={left:ae.left-oe,right:ae.left+oe,top:ae.top,bottom:ae.bottom}}let J=this.editorView.dom.offsetParent;this.element||(this.element=J.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",T),this.element.classList.toggle("prosemirror-dropcursor-inline",!T);let ee,te;if(!J||J==document.body&&getComputedStyle(J).position=="static")ee=-pageXOffset,te=-pageYOffset;else{let ae=J.getBoundingClientRect(),oe=ae.width/J.offsetWidth,pe=ae.height/J.offsetHeight;ee=ae.left-J.scrollLeft*oe,te=ae.top-J.scrollTop*pe}this.element.style.left=(A.left-ee)/U+"px",this.element.style.top=(A.top-te)/G+"px",this.element.style.width=(A.right-A.left)/U+"px",this.element.style.height=(A.bottom-A.top)/G+"px"}scheduleRemoval(y){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),y)}dragover(y){if(!this.editorView.editable)return;let T=this.editorView.posAtCoords({left:y.clientX,top:y.clientY}),A=T&&T.inside>=0&&this.editorView.state.doc.nodeAt(T.inside),O=A&&A.type.spec.disableDropCursor,z=typeof O=="function"?O(this.editorView,T,y):O;if(T&&!z){let U=T.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let G=dropPoint(this.editorView.state.doc,U,this.editorView.dragging.slice);G!=null&&(U=G)}this.setCursor(U),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(y){this.editorView.dom.contains(y.relatedTarget)||this.setCursor(null)}}class GapCursor extends Selection{constructor(y){super(y,y)}map(y,T){let A=y.resolve(T.map(this.head));return GapCursor.valid(A)?new GapCursor(A):Selection.near(A)}content(){return Slice.empty}eq(y){return y instanceof GapCursor&&y.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(y,T){if(typeof T.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new GapCursor(y.resolve(T.pos))}getBookmark(){return new GapBookmark(this.anchor)}static valid(y){let T=y.parent;if(T.isTextblock||!closedBefore(y)||!closedAfter(y))return!1;let A=T.type.spec.allowGapCursor;if(A!=null)return A;let O=T.contentMatchAt(y.index()).defaultType;return O&&O.isTextblock}static findGapCursorFrom(y,T,A=!1){e:for(;;){if(!A&&GapCursor.valid(y))return y;let O=y.pos,z=null;for(let U=y.depth;;U--){let G=y.node(U);if(T>0?y.indexAfter(U)<G.childCount:y.index(U)>0){z=G.child(T>0?y.indexAfter(U):y.index(U)-1);break}else if(U==0)return null;O+=T;let J=y.doc.resolve(O);if(GapCursor.valid(J))return J}for(;;){let U=T>0?z.firstChild:z.lastChild;if(!U){if(z.isAtom&&!z.isText&&!NodeSelection.isSelectable(z)){y=y.doc.resolve(O+z.nodeSize*T),A=!1;continue e}break}z=U,O+=T;let G=y.doc.resolve(O);if(GapCursor.valid(G))return G}return null}}}GapCursor.prototype.visible=!1;GapCursor.findFrom=GapCursor.findGapCursorFrom;Selection.jsonID("gapcursor",GapCursor);class GapBookmark{constructor(y){this.pos=y}map(y){return new GapBookmark(y.map(this.pos))}resolve(y){let T=y.resolve(this.pos);return GapCursor.valid(T)?new GapCursor(T):Selection.near(T)}}function needsGap(R){return R.isAtom||R.spec.isolating||R.spec.createGapCursor}function closedBefore(R){for(let y=R.depth;y>=0;y--){let T=R.index(y),A=R.node(y);if(T==0){if(A.type.spec.isolating)return!0;continue}for(let O=A.child(T-1);;O=O.lastChild){if(O.childCount==0&&!O.inlineContent||needsGap(O.type))return!0;if(O.inlineContent)return!1}}return!0}function closedAfter(R){for(let y=R.depth;y>=0;y--){let T=R.indexAfter(y),A=R.node(y);if(T==A.childCount){if(A.type.spec.isolating)return!0;continue}for(let O=A.child(T);;O=O.firstChild){if(O.childCount==0&&!O.inlineContent||needsGap(O.type))return!0;if(O.inlineContent)return!1}}return!0}function gapCursor(){return new Plugin({props:{decorations:drawGapCursor,createSelectionBetween(R,y,T){return y.pos==T.pos&&GapCursor.valid(T)?new GapCursor(T):null},handleClick,handleKeyDown,handleDOMEvents:{beforeinput}}})}const handleKeyDown=keydownHandler({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1)});function arrow(R,y){const T=R=="vert"?y>0?"down":"up":y>0?"right":"left";return function(A,O,z){let U=A.selection,G=y>0?U.$to:U.$from,J=U.empty;if(U instanceof TextSelection){if(!z.endOfTextblock(T)||G.depth==0)return!1;J=!1,G=A.doc.resolve(y>0?G.after():G.before())}let ee=GapCursor.findGapCursorFrom(G,y,J);return ee?(O&&O(A.tr.setSelection(new GapCursor(ee))),!0):!1}}function handleClick(R,y,T){if(!R||!R.editable)return!1;let A=R.state.doc.resolve(y);if(!GapCursor.valid(A))return!1;let O=R.posAtCoords({left:T.clientX,top:T.clientY});return O&&O.inside>-1&&NodeSelection.isSelectable(R.state.doc.nodeAt(O.inside))?!1:(R.dispatch(R.state.tr.setSelection(new GapCursor(A))),!0)}function beforeinput(R,y){if(y.inputType!="insertCompositionText"||!(R.state.selection instanceof GapCursor))return!1;let{$from:T}=R.state.selection,A=T.parent.contentMatchAt(T.index()).findWrapping(R.state.schema.nodes.text);if(!A)return!1;let O=Fragment.empty;for(let U=A.length-1;U>=0;U--)O=Fragment.from(A[U].createAndFill(null,O));let z=R.state.tr.replace(T.pos,T.pos,new Slice(O,0,0));return z.setSelection(TextSelection.near(z.doc.resolve(T.pos+1))),R.dispatch(z),!1}function drawGapCursor(R){if(!(R.selection instanceof GapCursor))return null;let y=document.createElement("div");return y.className="ProseMirror-gapcursor",DecorationSet.create(R.doc,[Decoration.widget(R.selection.head,y,{key:"gapcursor"})])}var GOOD_LEAF_SIZE=200,RopeSequence=function R(){};RopeSequence.prototype.append=function R(y){return y.length?(y=RopeSequence.from(y),!this.length&&y||y.length<GOOD_LEAF_SIZE&&this.leafAppend(y)||this.length<GOOD_LEAF_SIZE&&y.leafPrepend(this)||this.appendInner(y)):this};RopeSequence.prototype.prepend=function R(y){return y.length?RopeSequence.from(y).append(this):this};RopeSequence.prototype.appendInner=function R(y){return new Append(this,y)};RopeSequence.prototype.slice=function R(y,T){return y===void 0&&(y=0),T===void 0&&(T=this.length),y>=T?RopeSequence.empty:this.sliceInner(Math.max(0,y),Math.min(this.length,T))};RopeSequence.prototype.get=function R(y){if(!(y<0||y>=this.length))return this.getInner(y)};RopeSequence.prototype.forEach=function R(y,T,A){T===void 0&&(T=0),A===void 0&&(A=this.length),T<=A?this.forEachInner(y,T,A,0):this.forEachInvertedInner(y,T,A,0)};RopeSequence.prototype.map=function R(y,T,A){T===void 0&&(T=0),A===void 0&&(A=this.length);var O=[];return this.forEach(function(z,U){return O.push(y(z,U))},T,A),O};RopeSequence.from=function R(y){return y instanceof RopeSequence?y:y&&y.length?new Leaf(y):RopeSequence.empty};var Leaf=(function(R){function y(A){R.call(this),this.values=A}R&&(y.__proto__=R),y.prototype=Object.create(R&&R.prototype),y.prototype.constructor=y;var T={length:{configurable:!0},depth:{configurable:!0}};return y.prototype.flatten=function(){return this.values},y.prototype.sliceInner=function(O,z){return O==0&&z==this.length?this:new y(this.values.slice(O,z))},y.prototype.getInner=function(O){return this.values[O]},y.prototype.forEachInner=function(O,z,U,G){for(var J=z;J<U;J++)if(O(this.values[J],G+J)===!1)return!1},y.prototype.forEachInvertedInner=function(O,z,U,G){for(var J=z-1;J>=U;J--)if(O(this.values[J],G+J)===!1)return!1},y.prototype.leafAppend=function(O){if(this.length+O.length<=GOOD_LEAF_SIZE)return new y(this.values.concat(O.flatten()))},y.prototype.leafPrepend=function(O){if(this.length+O.length<=GOOD_LEAF_SIZE)return new y(O.flatten().concat(this.values))},T.length.get=function(){return this.values.length},T.depth.get=function(){return 0},Object.defineProperties(y.prototype,T),y})(RopeSequence);RopeSequence.empty=new Leaf([]);var Append=(function(R){function y(T,A){R.call(this),this.left=T,this.right=A,this.length=T.length+A.length,this.depth=Math.max(T.depth,A.depth)+1}return R&&(y.__proto__=R),y.prototype=Object.create(R&&R.prototype),y.prototype.constructor=y,y.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},y.prototype.getInner=function(A){return A<this.left.length?this.left.get(A):this.right.get(A-this.left.length)},y.prototype.forEachInner=function(A,O,z,U){var G=this.left.length;if(O<G&&this.left.forEachInner(A,O,Math.min(z,G),U)===!1||z>G&&this.right.forEachInner(A,Math.max(O-G,0),Math.min(this.length,z)-G,U+G)===!1)return!1},y.prototype.forEachInvertedInner=function(A,O,z,U){var G=this.left.length;if(O>G&&this.right.forEachInvertedInner(A,O-G,Math.max(z,G)-G,U+G)===!1||z<G&&this.left.forEachInvertedInner(A,Math.min(O,G),z,U)===!1)return!1},y.prototype.sliceInner=function(A,O){if(A==0&&O==this.length)return this;var z=this.left.length;return O<=z?this.left.slice(A,O):A>=z?this.right.slice(A-z,O-z):this.left.slice(A,z).append(this.right.slice(0,O-z))},y.prototype.leafAppend=function(A){var O=this.right.leafAppend(A);if(O)return new y(this.left,O)},y.prototype.leafPrepend=function(A){var O=this.left.leafPrepend(A);if(O)return new y(O,this.right)},y.prototype.appendInner=function(A){return this.left.depth>=Math.max(this.right.depth,A.depth)+1?new y(this.left,new y(this.right,A)):new y(this,A)},y})(RopeSequence);const max_empty_items=500;class Branch{constructor(y,T){this.items=y,this.eventCount=T}popEvent(y,T){if(this.eventCount==0)return null;let A=this.items.length;for(;;A--)if(this.items.get(A-1).selection){--A;break}let O,z;T&&(O=this.remapping(A,this.items.length),z=O.maps.length);let U=y.tr,G,J,ee=[],te=[];return this.items.forEach((ae,oe)=>{if(!ae.step){O||(O=this.remapping(A,oe+1),z=O.maps.length),z--,te.push(ae);return}if(O){te.push(new Item(ae.map));let pe=ae.step.map(O.slice(z)),fe;pe&&U.maybeStep(pe).doc&&(fe=U.mapping.maps[U.mapping.maps.length-1],ee.push(new Item(fe,void 0,void 0,ee.length+te.length))),z--,fe&&O.appendMap(fe,z)}else U.maybeStep(ae.step);if(ae.selection)return G=O?ae.selection.map(O.slice(z)):ae.selection,J=new Branch(this.items.slice(0,A).append(te.reverse().concat(ee)),this.eventCount-1),!1},this.items.length,0),{remaining:J,transform:U,selection:G}}addTransform(y,T,A,O){let z=[],U=this.eventCount,G=this.items,J=!O&&G.length?G.get(G.length-1):null;for(let te=0;te<y.steps.length;te++){let ae=y.steps[te].invert(y.docs[te]),oe=new Item(y.mapping.maps[te],ae,T),pe;(pe=J&&J.merge(oe))&&(oe=pe,te?z.pop():G=G.slice(0,G.length-1)),z.push(oe),T&&(U++,T=void 0),O||(J=oe)}let ee=U-A.depth;return ee>DEPTH_OVERFLOW&&(G=cutOffEvents(G,ee),U-=ee),new Branch(G.append(z),U)}remapping(y,T){let A=new Mapping;return this.items.forEach((O,z)=>{let U=O.mirrorOffset!=null&&z-O.mirrorOffset>=y?A.maps.length-O.mirrorOffset:void 0;A.appendMap(O.map,U)},y,T),A}addMaps(y){return this.eventCount==0?this:new Branch(this.items.append(y.map(T=>new Item(T))),this.eventCount)}rebased(y,T){if(!this.eventCount)return this;let A=[],O=Math.max(0,this.items.length-T),z=y.mapping,U=y.steps.length,G=this.eventCount;this.items.forEach(oe=>{oe.selection&&G--},O);let J=T;this.items.forEach(oe=>{let pe=z.getMirror(--J);if(pe==null)return;U=Math.min(U,pe);let fe=z.maps[pe];if(oe.step){let xe=y.steps[pe].invert(y.docs[pe]),ye=oe.selection&&oe.selection.map(z.slice(J+1,pe));ye&&G++,A.push(new Item(fe,xe,ye))}else A.push(new Item(fe))},O);let ee=[];for(let oe=T;oe<U;oe++)ee.push(new Item(z.maps[oe]));let te=this.items.slice(0,O).append(ee).append(A),ae=new Branch(te,G);return ae.emptyItemCount()>max_empty_items&&(ae=ae.compress(this.items.length-A.length)),ae}emptyItemCount(){let y=0;return this.items.forEach(T=>{T.step||y++}),y}compress(y=this.items.length){let T=this.remapping(0,y),A=T.maps.length,O=[],z=0;return this.items.forEach((U,G)=>{if(G>=y)O.push(U),U.selection&&z++;else if(U.step){let J=U.step.map(T.slice(A)),ee=J&&J.getMap();if(A--,ee&&T.appendMap(ee,A),J){let te=U.selection&&U.selection.map(T.slice(A));te&&z++;let ae=new Item(ee.invert(),J,te),oe,pe=O.length-1;(oe=O.length&&O[pe].merge(ae))?O[pe]=oe:O.push(ae)}}else U.map&&A--},this.items.length,0),new Branch(RopeSequence.from(O.reverse()),z)}}Branch.empty=new Branch(RopeSequence.empty,0);function cutOffEvents(R,y){let T;return R.forEach((A,O)=>{if(A.selection&&y--==0)return T=O,!1}),R.slice(T)}class Item{constructor(y,T,A,O){this.map=y,this.step=T,this.selection=A,this.mirrorOffset=O}merge(y){if(this.step&&y.step&&!y.selection){let T=y.step.merge(this.step);if(T)return new Item(T.getMap().invert(),T,this.selection)}}}class HistoryState{constructor(y,T,A,O,z){this.done=y,this.undone=T,this.prevRanges=A,this.prevTime=O,this.prevComposition=z}}const DEPTH_OVERFLOW=20;function applyTransaction(R,y,T,A){let O=T.getMeta(historyKey),z;if(O)return O.historyState;T.getMeta(closeHistoryKey)&&(R=new HistoryState(R.done,R.undone,null,0,-1));let U=T.getMeta("appendedTransaction");if(T.steps.length==0)return R;if(U&&U.getMeta(historyKey))return U.getMeta(historyKey).redo?new HistoryState(R.done.addTransform(T,void 0,A,mustPreserveItems(y)),R.undone,rangesFor(T.mapping.maps),R.prevTime,R.prevComposition):new HistoryState(R.done,R.undone.addTransform(T,void 0,A,mustPreserveItems(y)),null,R.prevTime,R.prevComposition);if(T.getMeta("addToHistory")!==!1&&!(U&&U.getMeta("addToHistory")===!1)){let G=T.getMeta("composition"),J=R.prevTime==0||!U&&R.prevComposition!=G&&(R.prevTime<(T.time||0)-A.newGroupDelay||!isAdjacentTo(T,R.prevRanges)),ee=U?mapRanges(R.prevRanges,T.mapping):rangesFor(T.mapping.maps);return new HistoryState(R.done.addTransform(T,J?y.selection.getBookmark():void 0,A,mustPreserveItems(y)),Branch.empty,ee,T.time,G??R.prevComposition)}else return(z=T.getMeta("rebased"))?new HistoryState(R.done.rebased(T,z),R.undone.rebased(T,z),mapRanges(R.prevRanges,T.mapping),R.prevTime,R.prevComposition):new HistoryState(R.done.addMaps(T.mapping.maps),R.undone.addMaps(T.mapping.maps),mapRanges(R.prevRanges,T.mapping),R.prevTime,R.prevComposition)}function isAdjacentTo(R,y){if(!y)return!1;if(!R.docChanged)return!0;let T=!1;return R.mapping.maps[0].forEach((A,O)=>{for(let z=0;z<y.length;z+=2)A<=y[z+1]&&O>=y[z]&&(T=!0)}),T}function rangesFor(R){let y=[];for(let T=R.length-1;T>=0&&y.length==0;T--)R[T].forEach((A,O,z,U)=>y.push(z,U));return y}function mapRanges(R,y){if(!R)return null;let T=[];for(let A=0;A<R.length;A+=2){let O=y.map(R[A],1),z=y.map(R[A+1],-1);O<=z&&T.push(O,z)}return T}function histTransaction(R,y,T){let A=mustPreserveItems(y),O=historyKey.get(y).spec.config,z=(T?R.undone:R.done).popEvent(y,A);if(!z)return null;let U=z.selection.resolve(z.transform.doc),G=(T?R.done:R.undone).addTransform(z.transform,y.selection.getBookmark(),O,A),J=new HistoryState(T?G:z.remaining,T?z.remaining:G,null,0,-1);return z.transform.setSelection(U).setMeta(historyKey,{redo:T,historyState:J})}let cachedPreserveItems=!1,cachedPreserveItemsPlugins=null;function mustPreserveItems(R){let y=R.plugins;if(cachedPreserveItemsPlugins!=y){cachedPreserveItems=!1,cachedPreserveItemsPlugins=y;for(let T=0;T<y.length;T++)if(y[T].spec.historyPreserveItems){cachedPreserveItems=!0;break}}return cachedPreserveItems}const historyKey=new PluginKey("history"),closeHistoryKey=new PluginKey("closeHistory");function history(R={}){return R={depth:R.depth||100,newGroupDelay:R.newGroupDelay||500},new Plugin({key:historyKey,state:{init(){return new HistoryState(Branch.empty,Branch.empty,null,0,-1)},apply(y,T,A){return applyTransaction(T,A,y,R)}},config:R,props:{handleDOMEvents:{beforeinput(y,T){let A=T.inputType,O=A=="historyUndo"?undo:A=="historyRedo"?redo:null;return!O||!y.editable?!1:(T.preventDefault(),O(y.state,y.dispatch))}}}})}function buildCommand(R,y){return(T,A)=>{let O=historyKey.getState(T);if(!O||(R?O.undone:O.done).eventCount==0)return!1;if(A){let z=histTransaction(O,T,R);z&&A(y?z.scrollIntoView():z)}return!0}}const undo=buildCommand(!1,!0),redo=buildCommand(!0,!0);Extension.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:R=>R.length,wordCounter:R=>R.split(" ").filter(y=>y!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=R=>{const y=R?.node||this.editor.state.doc;if((R?.mode||this.options.mode)==="textSize"){const A=y.textBetween(0,y.content.size,void 0," ");return this.options.textCounter(A)}return y.nodeSize},this.storage.words=R=>{const y=R?.node||this.editor.state.doc,T=y.textBetween(0,y.content.size," "," ");return this.options.wordCounter(T)}},addProseMirrorPlugins(){let R=!1;return[new Plugin({key:new PluginKey("characterCount"),appendTransaction:(y,T,A)=>{if(R)return;const O=this.options.limit;if(O==null||O===0){R=!0;return}const z=this.storage.characters({node:A.doc});if(z>O){const U=z-O,G=0,J=U;console.warn(`[CharacterCount] Initial content exceeded limit of ${O} characters. Content was automatically trimmed.`);const ee=A.tr.deleteRange(G,J);return R=!0,ee}R=!0},filterTransaction:(y,T)=>{const A=this.options.limit;if(!y.docChanged||A===0||A===null||A===void 0)return!0;const O=this.storage.characters({node:T.doc}),z=this.storage.characters({node:y.doc});if(z<=A||O>A&&z>A&&z<=O)return!0;if(O>A&&z>A&&z>O||!y.getMeta("paste"))return!1;const G=y.selection.$head.pos,J=z-A,ee=G-J,te=G;return y.deleteRange(ee,te),!(this.storage.characters({node:y.doc})>A)}})]}});var Dropcursor=Extension.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[dropCursor(this.options)]}});Extension.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("focus"),props:{decorations:({doc:R,selection:y})=>{const{isEditable:T,isFocused:A}=this.editor,{anchor:O}=y,z=[];if(!T||!A)return DecorationSet.create(R,[]);let U=0;this.options.mode==="deepest"&&R.descendants((J,ee)=>{if(J.isText)return;if(!(O>=ee&&O<=ee+J.nodeSize-1))return!1;U+=1});let G=0;return R.descendants((J,ee)=>{if(J.isText||!(O>=ee&&O<=ee+J.nodeSize-1))return!1;if(G+=1,this.options.mode==="deepest"&&U-G>0||this.options.mode==="shallowest"&&G>1)return this.options.mode==="deepest";z.push(Decoration.node(ee,ee+J.nodeSize,{class:this.options.className}))}),DecorationSet.create(R,z)}}})]}});var Gapcursor=Extension.create({name:"gapCursor",addProseMirrorPlugins(){return[gapCursor()]},extendNodeSchema(R){var y;const T={name:R.name,options:R.options,storage:R.storage};return{allowGapCursor:(y=callOrReturn(getExtensionField(R,"allowGapCursor",T)))!=null?y:null}}});Extension.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("placeholder"),props:{decorations:({doc:R,selection:y})=>{const T=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:A}=y,O=[];if(!T)return null;const z=this.editor.isEmpty;return R.descendants((U,G)=>{const J=A>=G&&A<=G+U.nodeSize,ee=!U.isLeaf&&isNodeEmpty(U);if((J||!this.options.showOnlyCurrent)&&ee){const te=[this.options.emptyNodeClass];z&&te.push(this.options.emptyEditorClass);const ae=Decoration.node(G,G+U.nodeSize,{class:te.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:U,pos:G,hasAnchor:J}):this.options.placeholder});O.push(ae)}return this.options.includeChildren}),DecorationSet.create(R,O)}}})]}});Extension.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:R,options:y}=this;return[new Plugin({key:new PluginKey("selection"),props:{decorations(T){return T.selection.empty||R.isFocused||!R.isEditable||isNodeSelection(T.selection)||R.view.dragging?null:DecorationSet.create(T.doc,[Decoration.inline(T.selection.from,T.selection.to,{class:y.className})])}}})]}});function nodeEqualsType({types:R,node:y}){return y&&Array.isArray(R)&&R.includes(y.type)||y?.type===R}var TrailingNode=Extension.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var R;const y=new PluginKey(this.name),T=this.options.node||((R=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:R.name)||"paragraph",A=Object.entries(this.editor.schema.nodes).map(([,O])=>O).filter(O=>(this.options.notAfter||[]).concat(T).includes(O.name));return[new Plugin({key:y,appendTransaction:(O,z,U)=>{const{doc:G,tr:J,schema:ee}=U,te=y.getState(U),ae=G.content.size,oe=ee.nodes[T];if(te)return J.insert(ae,oe.create())},state:{init:(O,z)=>{const U=z.tr.doc.lastChild;return!nodeEqualsType({node:U,types:A})},apply:(O,z)=>{if(!O.docChanged||O.getMeta("__uniqueIDTransaction"))return z;const U=O.doc.lastChild;return!nodeEqualsType({node:U,types:A})}}})]}}),UndoRedo=Extension.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:R,dispatch:y})=>undo(R,y),redo:()=>({state:R,dispatch:y})=>redo(R,y)}},addProseMirrorPlugins(){return[history(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),StarterKit=Extension.create({name:"starterKit",addExtensions(){var R,y,T,A;const O=[];return this.options.bold!==!1&&O.push(Bold.configure(this.options.bold)),this.options.blockquote!==!1&&O.push(Blockquote.configure(this.options.blockquote)),this.options.bulletList!==!1&&O.push(BulletList.configure(this.options.bulletList)),this.options.code!==!1&&O.push(Code.configure(this.options.code)),this.options.codeBlock!==!1&&O.push(CodeBlock.configure(this.options.codeBlock)),this.options.document!==!1&&O.push(Document.configure(this.options.document)),this.options.dropcursor!==!1&&O.push(Dropcursor.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&O.push(Gapcursor.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&O.push(HardBreak.configure(this.options.hardBreak)),this.options.heading!==!1&&O.push(Heading.configure(this.options.heading)),this.options.undoRedo!==!1&&O.push(UndoRedo.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&O.push(HorizontalRule.configure(this.options.horizontalRule)),this.options.italic!==!1&&O.push(Italic.configure(this.options.italic)),this.options.listItem!==!1&&O.push(ListItem.configure(this.options.listItem)),this.options.listKeymap!==!1&&O.push(ListKeymap.configure((R=this.options)==null?void 0:R.listKeymap)),this.options.link!==!1&&O.push(Link.configure((y=this.options)==null?void 0:y.link)),this.options.orderedList!==!1&&O.push(OrderedList.configure(this.options.orderedList)),this.options.paragraph!==!1&&O.push(Paragraph.configure(this.options.paragraph)),this.options.strike!==!1&&O.push(Strike.configure(this.options.strike)),this.options.text!==!1&&O.push(Text.configure(this.options.text)),this.options.underline!==!1&&O.push(Underline.configure((T=this.options)==null?void 0:T.underline)),this.options.trailingNode!==!1&&O.push(TrailingNode.configure((A=this.options)==null?void 0:A.trailingNode)),O}}),index_default=StarterKit;const MenuBar$1=({editor:R})=>R?jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1 p-2 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>R.chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${R.isActive("bold")?"bg-gray-200 text-primary-600":"text-gray-600"}`,title:"Bold",children:jsxRuntimeExports.jsx(Bold$1,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>R.chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${R.isActive("italic")?"bg-gray-200 text-primary-600":"text-gray-600"}`,title:"Italic",children:jsxRuntimeExports.jsx(Italic$1,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>R.chain().focus().toggleHeading({level:2}).run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${R.isActive("heading",{level:2})?"bg-gray-200 text-primary-600":"text-gray-600"}`,title:"Heading",children:jsxRuntimeExports.jsx(Heading2,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>R.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${R.isActive("bulletList")?"bg-gray-200 text-primary-600":"text-gray-600"}`,title:"Bullet List",children:jsxRuntimeExports.jsx(List,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>R.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${R.isActive("orderedList")?"bg-gray-200 text-primary-600":"text-gray-600"}`,title:"Numbered List",children:jsxRuntimeExports.jsx(ListOrdered,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 self-center"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>R.chain().focus().undo().run(),disabled:!R.can().chain().focus().undo().run(),className:"p-2 rounded hover:bg-gray-200 transition-colors text-gray-600 disabled:opacity-50",title:"Undo",children:jsxRuntimeExports.jsx(Undo,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>R.chain().focus().redo().run(),disabled:!R.can().chain().focus().redo().run(),className:"p-2 rounded hover:bg-gray-200 transition-colors text-gray-600 disabled:opacity-50",title:"Redo",children:jsxRuntimeExports.jsx(Redo,{className:"w-4 h-4"})})]}):null,FooterLinkModal=({isOpen:R,onClose:y,footerLink:T,mode:A})=>{const[O,{isLoading:z}]=useCreateFooterLinkMutation(),[U,{isLoading:G}]=useUpdateFooterLinkMutation(),[J,ee]=reactExports.useState({title:"",content:"",display_order:0,is_active:!0,open_in_new_tab:!1,title_translations:{ar:""},content_translations:{ar:""}}),[te,ae]=reactExports.useState("en"),oe=A==="view",pe=useEditor({extensions:[index_default],content:J.content||"",editable:!oe,onUpdate:({editor:je})=>{ee(Ne=>({...Ne,content:je.getHTML()}))}}),fe=useEditor({extensions:[index_default],content:J.content_translations.ar||"",editable:!oe,onUpdate:({editor:je})=>{ee(Ne=>({...Ne,content_translations:{...Ne.content_translations,ar:je.getHTML()}}))}}),xe=te==="en"?pe:fe;reactExports.useEffect(()=>{T&&A!=="create"?(ee({title:T.title,content:T.content||"",display_order:T.display_order,is_active:T.is_active,open_in_new_tab:T.open_in_new_tab,title_translations:T.title_translations||{ar:""},content_translations:T.content_translations||{ar:""}}),pe&&pe.commands.setContent(T.content||""),fe&&fe.commands.setContent(T.content_translations?.ar||"")):A==="create"&&(ee({title:"",content:"",display_order:0,is_active:!0,open_in_new_tab:!1,title_translations:{ar:""},content_translations:{ar:""}}),pe&&pe.commands.setContent(""),fe&&fe.commands.setContent(""))},[T,A,pe,fe]),reactExports.useEffect(()=>{pe&&pe.setEditable(!oe),fe&&fe.setEditable(!oe)},[oe,pe,fe]);const ye=async je=>{if(je.preventDefault(),A==="view"){y();return}try{const Ne={...J,title_translations:JSON.stringify(J.title_translations),content_translations:JSON.stringify(J.content_translations)};A==="create"?(await O(Ne).unwrap(),zt.success("Footer page created successfully")):(await U({id:T.id,data:Ne}).unwrap(),zt.success("Footer page updated successfully")),y()}catch(Ne){console.error(`${A} error:`,Ne),Ne?.data?.errors?Object.values(Ne.data.errors).flat().forEach(Ue=>zt.error(Ue)):Ne?.data?.message?zt.error(Ne.data.message):zt.error(`Failed to ${A} footer page`)}},_e=je=>{const{name:Ne,value:$e,type:Ue}=je.target;ee(Ue==="checkbox"?He=>({...He,[Ne]:je.target.checked}):Ue==="number"?He=>({...He,[Ne]:Number($e)}):He=>({...He,[Ne]:$e}))},Le=z||G;return jsxRuntimeExports.jsx(AnimatePresence,{children:R&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:y}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",onClick:je=>je.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:A==="create"?"Add Footer Page":A==="edit"?"Edit Footer Page":"Footer Page Details"}),jsxRuntimeExports.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:ye,className:"p-6 space-y-5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(TranslatableField,{label:"Page Title",name:"title",value:J.title,translationValue:J.title_translations.ar,onChangeEnglish:je=>ee(Ne=>({...Ne,title:je})),onChangeArabic:je=>ee(Ne=>({...Ne,title_translations:{...Ne.title_translations,ar:je}})),required:!0,placeholder:"e.g. Privacy Policy, Terms and Conditions",placeholderAr:":    ",disabled:oe}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The URL will be auto-generated as /pages/privacy-policy based on the title"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Page Content"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-0.5",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ae("en"),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${te==="en"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"EN"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ae("ar"),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${te==="ar"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"AR"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[jsxRuntimeExports.jsx("span",{className:`w-2 h-2 rounded-full ${J.content?"bg-green-500":"bg-gray-300"}`,title:"English content"}),jsxRuntimeExports.jsx("span",{className:`w-2 h-2 rounded-full ${J.content_translations.ar?"bg-green-500":"bg-gray-300"}`,title:"Arabic content"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:`border border-gray-300 rounded-lg overflow-hidden ${oe?"bg-gray-100":""}`,children:[!oe&&jsxRuntimeExports.jsx(MenuBar$1,{editor:xe}),jsxRuntimeExports.jsx("div",{className:te==="en"?"":"hidden",children:jsxRuntimeExports.jsx(EditorContent,{editor:pe,className:"prose max-w-none p-4 min-h-[200px] focus:outline-none"})}),jsxRuntimeExports.jsx("div",{className:te==="ar"?"":"hidden",dir:"rtl",children:jsxRuntimeExports.jsx(EditorContent,{editor:fe,className:"prose max-w-none p-4 min-h-[200px] focus:outline-none text-right"})})]}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter the page content that will be displayed when users click the link"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),jsxRuntimeExports.jsx("input",{type:"number",name:"display_order",value:J.display_order,onChange:_e,disabled:oe,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 disabled:bg-gray-100"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lower numbers appear first in the footer"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"is_active",checked:J.is_active,onChange:_e,disabled:oe,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"Active (visible in footer)"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"open_in_new_tab",checked:J.open_in_new_tab,onChange:_e,disabled:oe,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"Open in new tab"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:y,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:oe?"Close":"Cancel"}),!oe&&jsxRuntimeExports.jsxs("button",{type:"submit",disabled:Le,className:"px-6 py-2 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 flex items-center gap-2",children:[Le&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),A==="create"?"Create Page":"Update Page"]})]})]})]})})]})})},FooterLinksManagement=()=>{const R=useNavigate(),{data:y=[],isLoading:T,error:A}=useGetFooterLinksQuery({}),[O]=useDeleteFooterLinkMutation(),[z,U]=reactExports.useState(!1),[G,J]=reactExports.useState(null),ee=[{header:"Title",accessor:"title",render:xe=>jsxRuntimeExports.jsx("div",{className:"font-medium",children:xe})},{header:"URL",accessor:"url",render:xe=>jsxRuntimeExports.jsx("a",{href:xe,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm truncate max-w-xs block",children:xe})},{header:"Order",accessor:"display_order"},{header:"Status",accessor:"is_active",render:xe=>jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${xe?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:xe?"Active":"Inactive"})},{header:"Open in New Tab",accessor:"open_in_new_tab",render:xe=>jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${xe?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:xe?"Yes":"No"})}],te=xe=>{R(`/admin/footer-links/${xe.id}/edit`)},ae=async xe=>{if(confirm("Are you sure you want to delete this footer link?"))try{await O(xe.id).unwrap(),zt.success("Footer link deleted successfully")}catch(ye){zt.error("Failed to delete footer link"),console.error("Delete error:",ye)}},oe=xe=>{J(xe),U(!0)},pe=()=>{R("/admin/footer-links/new")},fe=()=>{U(!1),J(null)};return T?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):A?jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:"Failed to load footer links"}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Footer Links"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Manage links displayed in the footer support section"})]}),jsxRuntimeExports.jsxs("button",{onClick:pe,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all",children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"}),"Add Footer Link"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Links"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-gray-900",children:y.length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Active"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-green-600",children:y.filter(xe=>xe.is_active).length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"External Links"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-blue-600",children:y.filter(xe=>xe.open_in_new_tab).length})]})]}),jsxRuntimeExports.jsx(DataTable,{columns:ee,data:y,onEdit:te,onDelete:ae,onView:oe}),jsxRuntimeExports.jsx(FooterLinkModal,{isOpen:z,onClose:fe,footerLink:G,mode:"view"})]})},BookingsManagement=()=>{const{data:R=[],isLoading:y,error:T}=useGetBookingsQuery({}),[A]=useUpdateBookingMutation(),[O]=useDeleteBookingMutation(),[z,U]=reactExports.useState(null),[G,J]=reactExports.useState("all"),[ee,te]=reactExports.useState("all"),ae=R.filter(je=>{const Ne=G==="all"||je.status===G,$e=ee==="all"||je.bookable_type===ee;return Ne&&$e}),oe=[{header:"Customer",accessor:"name",render:(je,Ne)=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-900",children:je}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Mail,{className:"w-3 h-3"}),Ne.email]})]})},{header:"Phone",accessor:"phone",render:je=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4"}),je]})},{header:"Type",accessor:"bookable_type",render:je=>jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold ${je==="course"?"bg-accent-100 text-accent-700":"bg-secondary-100 text-secondary-700"}`,children:[je==="course"?jsxRuntimeExports.jsx(GraduationCap,{className:"w-3 h-3"}):jsxRuntimeExports.jsx(Compass,{className:"w-3 h-3"}),je==="course"?"Course":"Trip"]})},{header:"Item",accessor:"bookable_name",render:je=>jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-900 max-w-[200px] truncate",title:je,children:je})},{header:"Price",accessor:"price",render:je=>jsxRuntimeExports.jsxs("span",{className:"font-semibold text-primary-600",children:["SAR ",je]})},{header:"Status",accessor:"status",render:je=>jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${je==="pending"?"bg-yellow-100 text-yellow-700":je==="confirmed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:je.charAt(0).toUpperCase()+je.slice(1)})},{header:"Date",accessor:"created_at",render:je=>jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:new Date(je).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})}],pe=async(je,Ne)=>{if(je.status!==Ne)try{await A({id:je.id,data:{status:Ne}}).unwrap(),zt.success(`Booking status updated to ${Ne}`),z?.id===je.id&&U({...z,status:Ne})}catch($e){zt.error("Failed to update booking status"),console.error("Update error:",$e)}},fe=async je=>{if(confirm("Are you sure you want to delete this booking?"))try{await O(je.id).unwrap(),zt.success("Booking deleted successfully")}catch(Ne){zt.error("Failed to delete booking"),console.error("Delete error:",Ne)}},xe=je=>{U(je)},ye=R.filter(je=>je.status==="pending").length,_e=R.filter(je=>je.status==="confirmed").length,Le=R.filter(je=>je.status==="cancelled").length;return y?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):T?jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:"Failed to load bookings. Please try again."}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-8",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Booking Requests"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Manage course and trip registration requests"})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:jsxRuntimeExports.jsx(ClipboardList,{className:"w-6 h-6 text-gray-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:"Total"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-gray-900",children:R.length})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:jsxRuntimeExports.jsx(Clock,{className:"w-6 h-6 text-yellow-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:"Pending"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:ye})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:jsxRuntimeExports.jsx(Check,{className:"w-6 h-6 text-green-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:"Confirmed"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-green-600",children:_e})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:jsxRuntimeExports.jsx(X$1,{className:"w-6 h-6 text-red-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:"Cancelled"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-red-600",children:Le})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-4 mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),jsxRuntimeExports.jsxs("select",{value:G,onChange:je=>J(je.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-base",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Status"}),jsxRuntimeExports.jsx("option",{value:"pending",children:"Pending"}),jsxRuntimeExports.jsx("option",{value:"confirmed",children:"Confirmed"}),jsxRuntimeExports.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),jsxRuntimeExports.jsxs("select",{value:ee,onChange:je=>te(je.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-base",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Types"}),jsxRuntimeExports.jsx("option",{value:"course",children:"Courses"}),jsxRuntimeExports.jsx("option",{value:"trip",children:"Trips"})]})]})]})}),jsxRuntimeExports.jsx(DataTable,{columns:oe,data:ae,onView:xe,onDelete:fe,customActions:je=>jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsxs("select",{value:je.status,onChange:Ne=>pe(je,Ne.target.value),className:`px-3 py-1.5 rounded-lg text-xs font-semibold border-0 cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary-500 ${je.status==="pending"?"bg-yellow-100 text-yellow-700":je.status==="confirmed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[jsxRuntimeExports.jsx("option",{value:"pending",children:"Pending"}),jsxRuntimeExports.jsx("option",{value:"confirmed",children:"Confirmed"}),jsxRuntimeExports.jsx("option",{value:"cancelled",children:"Cancelled"})]})})}),z&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"p-6 border-b border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Booking Details"}),jsxRuntimeExports.jsx("button",{onClick:()=>U(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]})}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsx(User,{className:"w-10 h-10 text-gray-400 p-2 bg-white rounded-full"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-semibold text-gray-900",children:z.name}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:z.email}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:z.phone})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Type"}),jsxRuntimeExports.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[z.bookable_type==="course"?jsxRuntimeExports.jsx(GraduationCap,{className:"w-4 h-4 text-accent-600"}):jsxRuntimeExports.jsx(Compass,{className:"w-4 h-4 text-secondary-600"}),z.bookable_type==="course"?"Course":"Trip"]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Status"}),jsxRuntimeExports.jsxs("select",{value:z.status,onChange:je=>pe(z,je.target.value),className:`px-3 py-1.5 rounded-lg text-sm font-semibold border-0 cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary-500 ${z.status==="pending"?"bg-yellow-100 text-yellow-700":z.status==="confirmed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[jsxRuntimeExports.jsx("option",{value:"pending",children:"Pending"}),jsxRuntimeExports.jsx("option",{value:"confirmed",children:"Confirmed"}),jsxRuntimeExports.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Item"}),jsxRuntimeExports.jsx("div",{className:"font-semibold text-gray-900",children:z.bookable_name})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-primary-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-primary-600 mb-1",children:"Price"}),jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold text-primary-600",children:["SAR ",z.price]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Submitted On"}),jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-900",children:new Date(z.created_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),z.notes&&jsxRuntimeExports.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Notes"}),jsxRuntimeExports.jsx("div",{className:"text-gray-900",children:z.notes})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-3 pt-4",children:jsxRuntimeExports.jsx("button",{onClick:()=>U(null),className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200 transition-colors",children:"Close"})})]})]})})]})},Settings=()=>{const[R,y]=reactExports.useState({siteName:"Coral & Shells Diving Center",siteEmail:"oshysoceans@gmail.com",sitePhone:"+966 50 123 4567",siteAddress:"Dammam, Eastern Province, Saudi Arabia",currency:"SAR",language:"en",notifications:!0,maintenance:!1}),T=()=>{zt.success("Settings saved successfully!")},A=(O,z)=>{y({...R,[O]:z})};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Manage your website settings and preferences"})]}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"General Settings"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Site Name"}),jsxRuntimeExports.jsx("input",{type:"text",value:R.siteName,onChange:O=>A("siteName",O.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),jsxRuntimeExports.jsx("input",{type:"email",value:R.siteEmail,onChange:O=>A("siteEmail",O.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),jsxRuntimeExports.jsx("input",{type:"tel",value:R.sitePhone,onChange:O=>A("sitePhone",O.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Address"}),jsxRuntimeExports.jsx("textarea",{value:R.siteAddress,onChange:O=>A("siteAddress",O.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400 resize-none"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Regional Settings"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Currency"}),jsxRuntimeExports.jsxs("select",{value:R.currency,onChange:O=>A("currency",O.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400",children:[jsxRuntimeExports.jsx("option",{value:"SAR",children:"SAR - Saudi Riyal"}),jsxRuntimeExports.jsx("option",{value:"USD",children:"USD - US Dollar"}),jsxRuntimeExports.jsx("option",{value:"EUR",children:"EUR - Euro"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Language"}),jsxRuntimeExports.jsxs("select",{value:R.language,onChange:O=>A("language",O.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base placeholder:text-gray-400",children:[jsxRuntimeExports.jsx("option",{value:"en",children:"English"}),jsxRuntimeExports.jsx("option",{value:"ar",children:"Arabic"})]})]}),jsxRuntimeExports.jsxs("div",{className:"pt-4 space-y-3",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:R.notifications,onChange:O=>A("notifications",O.target.checked),className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Enable email notifications"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:R.maintenance,onChange:O=>A("maintenance",O.target.checked),className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Maintenance mode"})]})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-8",children:jsxRuntimeExports.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-8 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all font-semibold",children:[jsxRuntimeExports.jsx(Save,{className:"w-5 h-5"}),"Save Changes"]})})]})},Breadcrumbs=({items:R})=>jsxRuntimeExports.jsxs("nav",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4",children:[jsxRuntimeExports.jsx(Link$2,{to:"/admin",className:"flex items-center gap-1 hover:text-primary-600 transition-colors",children:jsxRuntimeExports.jsx(House,{className:"w-4 h-4"})}),R.map((y,T)=>jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 text-gray-400"}),y.href?jsxRuntimeExports.jsx(Link$2,{to:y.href,className:"hover:text-primary-600 transition-colors",children:y.label}):jsxRuntimeExports.jsx("span",{className:"text-gray-900 font-medium",children:y.label})]},T))]}),FormSection=({title:R,description:y,children:T})=>jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-gray-100",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:R}),y&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:T})]}),MenuBar=({editor:R})=>{if(!R)return null;const y=T=>`p-2 rounded hover:bg-gray-200 ${T?"bg-gray-200 text-primary-600":"text-gray-600"}`;return jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1 p-2 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>R.chain().focus().toggleBold().run(),className:y(R.isActive("bold")),children:jsxRuntimeExports.jsx(Bold$1,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>R.chain().focus().toggleItalic().run(),className:y(R.isActive("italic")),children:jsxRuntimeExports.jsx(Italic$1,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 self-center"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>R.chain().focus().toggleHeading({level:2}).run(),className:y(R.isActive("heading",{level:2})),children:jsxRuntimeExports.jsx(Heading2,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>R.chain().focus().toggleHeading({level:3}).run(),className:y(R.isActive("heading",{level:3})),children:jsxRuntimeExports.jsx(Heading3,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 self-center"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>R.chain().focus().toggleBulletList().run(),className:y(R.isActive("bulletList")),children:jsxRuntimeExports.jsx(List,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>R.chain().focus().toggleOrderedList().run(),className:y(R.isActive("orderedList")),children:jsxRuntimeExports.jsx(ListOrdered,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 self-center"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>R.chain().focus().undo().run(),disabled:!R.can().undo(),className:"p-2 rounded hover:bg-gray-200 text-gray-600 disabled:opacity-50",children:jsxRuntimeExports.jsx(Undo,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>R.chain().focus().redo().run(),disabled:!R.can().redo(),className:"p-2 rounded hover:bg-gray-200 text-gray-600 disabled:opacity-50",children:jsxRuntimeExports.jsx(Redo,{className:"w-4 h-4"})})]})},RichTextEditor=({content:R,onChange:y,disabled:T=!1,minHeight:A="150px",dir:O="ltr"})=>{const z=useEditor({extensions:[index_default],content:R||"",editable:!T,onUpdate:({editor:U})=>y(U.getHTML())});return reactExports.useEffect(()=>{z&&R!==z.getHTML()&&z.commands.setContent(R||"")},[R,z]),reactExports.useEffect(()=>{z&&z.setEditable(!T)},[T,z]),jsxRuntimeExports.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[!T&&jsxRuntimeExports.jsx(MenuBar,{editor:z}),jsxRuntimeExports.jsx("div",{dir:O,children:jsxRuntimeExports.jsx(EditorContent,{editor:z,className:`prose max-w-none p-4 focus:outline-none ${O==="rtl"?"text-right":""} ${T?"bg-gray-100":""}`,style:{minHeight:A}})})]})},TranslatableRichText=({label:R,name:y,value:T,translationValue:A,onChangeEnglish:O,onChangeArabic:z,required:U=!1,disabled:G=!1,minHeight:J="150px"})=>{const[ee,te]=reactExports.useState("en");return jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[R,U&&jsxRuntimeExports.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-0.5",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>te("en"),className:`px-3 py-1 text-xs font-medium rounded-md transition-all duration-200 ${ee==="en"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"EN"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>te("ar"),className:`px-3 py-1 text-xs font-medium rounded-md transition-all duration-200 ${ee==="ar"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"AR"})]})]}),jsxRuntimeExports.jsx("div",{className:ee==="en"?"":"hidden",children:jsxRuntimeExports.jsx(RichTextEditor,{content:T,onChange:O,disabled:G,minHeight:J,dir:"ltr"})}),jsxRuntimeExports.jsx("div",{className:ee==="ar"?"":"hidden",children:jsxRuntimeExports.jsx(RichTextEditor,{content:A,onChange:z,disabled:G,minHeight:J,dir:"rtl"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:`w-2 h-2 rounded-full ${T&&T!=="<p></p>"?"bg-green-500":"bg-gray-300"}`}),jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"EN"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:`w-2 h-2 rounded-full ${A&&A!=="<p></p>"?"bg-green-500":"bg-gray-300"}`}),jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"AR"})]})]})]})},initialFormData$9={name:"",description:"",details:"",price:0,category_id:null,in_stock:!0,is_active:!0,is_featured:!1,stock_quantity:0,sku:"",name_translations:{ar:""},description_translations:{ar:""},details_translations:{ar:""}},ProductEditPage=()=>{const{t:R}=useTranslation("admin"),{id:y}=useParams(),T=useNavigate(),A=!!y,{data:O,isLoading:z,error:U}=useGetProductQuery(Number(y),{skip:!A}),{data:G=[]}=useGetCategoriesQuery({active:!0,type:"product"}),[J,{isLoading:ee}]=useCreateProductMutation(),[te,{isLoading:ae}]=useUpdateProductMutation(),[oe,pe]=reactExports.useState(initialFormData$9),[fe,xe]=reactExports.useState(null),[ye,_e]=reactExports.useState(""),[Le,je]=reactExports.useState(!1),[Ne,$e]=reactExports.useState(initialFormData$9);reactExports.useEffect(()=>{if(O&&A){const Je={name:O.name,description:O.description,details:O.details||"",price:Number(O.price),category_id:O.category_id||null,in_stock:O.in_stock,is_active:O.is_active,is_featured:O.is_featured,stock_quantity:O.stock_quantity,sku:O.sku||"",name_translations:O.name_translations||{ar:""},description_translations:O.description_translations||{ar:""},details_translations:O.details_translations||{ar:""}};pe(Je),$e(Je),O.image_url&&_e(O.image_url)}},[O,A]),reactExports.useEffect(()=>{const Je=JSON.stringify(oe)!==JSON.stringify(Ne)||fe!==null;je(Je)},[oe,Ne,fe]),reactExports.useEffect(()=>{const Je=Ze=>{Le&&(Ze.preventDefault(),Ze.returnValue="")};return window.addEventListener("beforeunload",Je),()=>window.removeEventListener("beforeunload",Je)},[Le]);const Ue=reactExports.useCallback(()=>{Le?window.confirm("You have unsaved changes. Are you sure you want to leave?")&&T("/admin/products"):T("/admin/products")},[Le,T]),He=async Je=>{Je.preventDefault();try{const Ze=new FormData;Ze.append("name",oe.name),Ze.append("description",oe.description),Ze.append("details",oe.details),Ze.append("price",oe.price.toString()),Ze.append("in_stock",oe.in_stock?"1":"0"),Ze.append("is_active",oe.is_active?"1":"0"),Ze.append("is_featured",oe.is_featured?"1":"0"),Ze.append("stock_quantity",oe.stock_quantity.toString()),oe.category_id&&Ze.append("category_id",oe.category_id.toString()),oe.sku&&Ze.append("sku",oe.sku),fe&&Ze.append("image",fe),Ze.append("name_translations",JSON.stringify(oe.name_translations)),Ze.append("description_translations",JSON.stringify(oe.description_translations)),Ze.append("details_translations",JSON.stringify(oe.details_translations)),A?(Ze.append("_method","PUT"),await te({id:Number(y),data:Ze}).unwrap(),zt.success("Product updated successfully")):(await J(Ze).unwrap(),zt.success("Product created successfully")),T("/admin/products")}catch(Ze){console.error("Save error:",Ze),Ze?.data?.errors?Object.values(Ze.data.errors).flat().forEach(nt=>zt.error(nt)):Ze?.data?.message?zt.error(Ze.data.message):zt.error(`Failed to ${A?"update":"create"} product`)}},ze=(Je,Ze)=>{xe(Je),_e(Ze)},Ke=ee||ae;return A&&z?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):A&&U?jsxRuntimeExports.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Product not found"}),jsxRuntimeExports.jsx("p",{children:"The product you're looking for doesn't exist or has been deleted."}),jsxRuntimeExports.jsx("button",{onClick:()=>T("/admin/products"),className:"mt-4 text-red-700 underline hover:no-underline",children:"Return to Products"})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Breadcrumbs,{items:[{label:"Products",href:"/admin/products"},{label:A?"Edit Product":"New Product"}]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:Ue,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:A?"Edit Product":"Add New Product"}),A&&O&&jsxRuntimeExports.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Editing: ",O.name]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:Ue,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:He,disabled:Ke,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all font-medium disabled:opacity-50",children:[Ke?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),A?"Save Changes":"Create Product"]})]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:He,children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(FormSection,{title:"Basic Information",description:"Product name, description, and category",children:jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsx(TranslatableField,{label:"Product Name",name:"name",value:oe.name,translationValue:oe.name_translations.ar,onChangeEnglish:Je=>pe(Ze=>({...Ze,name:Je})),onChangeArabic:Je=>pe(Ze=>({...Ze,name_translations:{ar:Je}})),required:!0,placeholder:"Enter product name",placeholderAr:"  "}),jsxRuntimeExports.jsx(TranslatableRichText,{label:"Description",name:"description",value:oe.description,translationValue:oe.description_translations.ar,onChangeEnglish:Je=>pe(Ze=>({...Ze,description:Je})),onChangeArabic:Je=>pe(Ze=>({...Ze,description_translations:{ar:Je}})),required:!0}),jsxRuntimeExports.jsx(TranslatableRichText,{label:"Details",name:"details",value:oe.details,translationValue:oe.details_translations.ar,onChangeEnglish:Je=>pe(Ze=>({...Ze,details:Je})),onChangeArabic:Je=>pe(Ze=>({...Ze,details_translations:{ar:Je}}))}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),jsxRuntimeExports.jsxs("select",{value:oe.category_id||"",onChange:Je=>pe(Ze=>({...Ze,category_id:Je.target.value===""?null:Number(Je.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base",children:[jsxRuntimeExports.jsx("option",{value:"",children:"No Category"}),G.map(Je=>jsxRuntimeExports.jsx("option",{value:Je.id,children:Je.name},Je.id))]})]})]})}),jsxRuntimeExports.jsx(FormSection,{title:"Pricing & Inventory",description:"Price, stock, and SKU information",children:jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (SAR) *"}),jsxRuntimeExports.jsx("input",{type:"number",value:oe.price,onChange:Je=>pe(Ze=>({...Ze,price:Number(Je.target.value)})),required:!0,step:"0.01",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity *"}),jsxRuntimeExports.jsx("input",{type:"number",value:oe.stock_quantity,onChange:Je=>pe(Ze=>({...Ze,stock_quantity:Number(Je.target.value)})),required:!0,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SKU"}),jsxRuntimeExports.jsx("input",{type:"text",value:oe.sku,onChange:Je=>pe(Ze=>({...Ze,sku:Je.target.value})),placeholder:"e.g., PROD-001",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:oe.in_stock,onChange:Je=>pe(Ze=>({...Ze,in_stock:Je.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700",children:"In Stock"})]})]})}),jsxRuntimeExports.jsx(FormSection,{title:"Product Image",description:"Upload and crop the product image",children:jsxRuntimeExports.jsx(ImageUploadWithCrop,{onImageCropped:ze,currentPreview:ye,guideline:IMAGE_GUIDELINES.product,aspectRatio:1})}),jsxRuntimeExports.jsx(FormSection,{title:"Status & Visibility",description:"Control product visibility",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:oe.is_active,onChange:Je=>pe(Ze=>({...Ze,is_active:Je.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Active"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Product is visible on the website"})]})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:oe.is_featured,onChange:Je=>pe(Ze=>({...Ze,is_featured:Je.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Featured"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Show in featured products section"})]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 flex items-center gap-3 z-50",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:Ue,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:Ke,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg font-medium disabled:opacity-50",children:[Ke&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),A?"Save":"Create"]})]}),jsxRuntimeExports.jsx("div",{className:"lg:hidden h-24"})]})]})},MultiImageGallery=({images:R,mainImagePath:y,guideline:T,disabled:A=!1,onUpload:O,onDelete:z,onSetMain:U,onReorder:G})=>{const[J,ee]=reactExports.useState(!1),[te,ae]=reactExports.useState(!1),[oe,pe]=reactExports.useState(null),[fe,xe]=reactExports.useState(null),ye=te||oe!==null||fe!==null||A,_e=async He=>{const ze=new FormData;ze.append("images[]",He),ae(!0);try{await O(ze),zt.success("Image uploaded"),ee(!1)}catch{zt.error("Failed to upload image")}finally{ae(!1)}},Le=async He=>{if(window.confirm("Delete this image?")){pe(He);try{await z(He),zt.success("Image deleted")}catch{zt.error("Failed to delete image")}finally{pe(null)}}},je=async He=>{xe(He);try{await U(He),zt.success("Main image updated")}catch{zt.error("Failed to set main image")}finally{xe(null)}},Ne=async He=>{if(He===0)return;const ze=[...R];[ze[He-1],ze[He]]=[ze[He],ze[He-1]];const Ke=ze.map((Je,Ze)=>({id:Je.id,order:Ze}));try{await G(Ke)}catch{zt.error("Failed to reorder")}},$e=async He=>{if(He===R.length-1)return;const ze=[...R];[ze[He],ze[He+1]]=[ze[He+1],ze[He]];const Ke=ze.map((Je,Ze)=>({id:Je.id,order:Ze}));try{await G(Ke)}catch{zt.error("Failed to reorder")}},Ue=He=>He.collection==="main"||He.path===y;return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(Info,{className:"w-4 h-4 text-blue-600 mt-0.5 shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-blue-800",children:T.label}),jsxRuntimeExports.jsxs("p",{className:"text-blue-600",children:["Recommended size: ",jsxRuntimeExports.jsxs("span",{className:"font-semibold",children:[T.width," x ",T.height,"px"]})]}),T.description&&jsxRuntimeExports.jsx("p",{className:"text-blue-500 text-xs mt-1",children:T.description})]})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[R.map((He,ze)=>{const Ke=Ue(He),Je=He.full_url||He.url;return jsxRuntimeExports.jsxs(motion.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"relative group rounded-lg overflow-hidden border-2 border-gray-200 aspect-[4/3]",style:Ke?{borderColor:"#d97706"}:void 0,children:[jsxRuntimeExports.jsx("img",{src:Je,alt:He.filename,className:"w-full h-full object-cover"}),Ke&&jsxRuntimeExports.jsxs("div",{className:"absolute top-2 left-2 bg-amber-500 text-white text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1 shadow",children:[jsxRuntimeExports.jsx(Star,{className:"w-3 h-3 fill-current"}),"Main"]}),jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[!Ke&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>je(He.id),disabled:ye,className:"p-2 bg-white rounded-lg hover:bg-amber-50 transition-colors disabled:opacity-50",title:"Set as main image",children:fe===He.id?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin text-amber-600"}):jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 text-amber-600"})}),ze>0&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ne(ze),disabled:ye,className:"p-2 bg-white rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50",title:"Move left",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4 text-gray-700"})}),ze<R.length-1&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>$e(ze),disabled:ye,className:"p-2 bg-white rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50",title:"Move right",children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 text-gray-700"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Le(He.id),disabled:ye,className:"p-2 bg-white rounded-lg hover:bg-red-50 transition-colors disabled:opacity-50",title:"Delete image",children:oe===He.id?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin text-red-600"}):jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4 text-red-600"})})]})]},He.id)}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>ee(!0),disabled:ye,className:"relative rounded-lg border-2 border-dashed border-gray-300 aspect-[4/3] flex flex-col items-center justify-center gap-2 hover:border-primary-400 hover:bg-primary-50 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:[te?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 text-primary-500 animate-spin"}):jsxRuntimeExports.jsx(Plus,{className:"w-8 h-8 text-gray-400"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500 font-medium",children:te?"Uploading...":"Add Image"})]})]}),R.length===0&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mt-2",children:'No images yet. Click "Add Image" to upload.'}),jsxRuntimeExports.jsx(AnimatePresence,{children:J&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:()=>ee(!1)}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:He=>He.stopPropagation(),children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upload New Image"}),jsxRuntimeExports.jsx(ImageUploadWithCrop,{onImageCropped:He=>_e(He),guideline:T,disabled:te}),jsxRuntimeExports.jsx("div",{className:"mt-4 flex justify-end",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ee(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"})})]})})]})})]})},initialFormData$8={name:"",subtitle:"",description:"",price:0,duration:"",level:"",category_id:null,is_active:!0,is_featured:!1,max_students:null,name_translations:{ar:""},subtitle_translations:{ar:""},description_translations:{ar:""}},CourseEditPage=()=>{const{id:R}=useParams(),y=useNavigate(),T=!!R,{data:A,isLoading:O,error:z}=useGetCourseQuery(Number(R),{skip:!T}),{data:U=[]}=useGetCategoriesQuery({active:!0,type:"course"}),[G,{isLoading:J}]=useCreateCourseMutation(),[ee,{isLoading:te}]=useUpdateCourseMutation(),[ae]=useUploadCourseImagesMutation(),[oe]=useDeleteCourseImageMutation(),[pe]=useSetCourseMainImageMutation(),[fe]=useReorderCourseImagesMutation(),[xe,ye]=reactExports.useState(initialFormData$8),[_e,Le]=reactExports.useState(!1),[je,Ne]=reactExports.useState(initialFormData$8);reactExports.useEffect(()=>{if(A&&T){const ze={name:A.name,subtitle:A.subtitle||"",description:A.description||"",price:Number(A.price),duration:A.duration||"",level:A.level||"",category_id:A.category_id||null,is_active:A.is_active,is_featured:A.is_featured,max_students:A.max_students||null,name_translations:A.name_translations||{ar:""},subtitle_translations:A.subtitle_translations||{ar:""},description_translations:A.description_translations||{ar:""}};ye(ze),Ne(ze)}},[A,T]),reactExports.useEffect(()=>{const ze=JSON.stringify(xe)!==JSON.stringify(je);Le(ze)},[xe,je]),reactExports.useEffect(()=>{const ze=Ke=>{_e&&(Ke.preventDefault(),Ke.returnValue="")};return window.addEventListener("beforeunload",ze),()=>window.removeEventListener("beforeunload",ze)},[_e]);const $e=reactExports.useCallback(()=>{_e?window.confirm("You have unsaved changes. Are you sure you want to leave?")&&y("/admin/courses"):y("/admin/courses")},[_e,y]),Ue=async ze=>{ze.preventDefault();try{const Ke=new FormData;if(Ke.append("name",xe.name),Ke.append("subtitle",xe.subtitle),Ke.append("description",xe.description),Ke.append("price",xe.price.toString()),xe.duration&&Ke.append("duration",xe.duration),xe.level&&Ke.append("level",xe.level),Ke.append("is_active",xe.is_active?"1":"0"),Ke.append("is_featured",xe.is_featured?"1":"0"),xe.category_id&&Ke.append("category_id",xe.category_id.toString()),xe.max_students&&Ke.append("max_students",xe.max_students.toString()),Ke.append("name_translations",JSON.stringify(xe.name_translations)),Ke.append("subtitle_translations",JSON.stringify(xe.subtitle_translations)),Ke.append("description_translations",JSON.stringify(xe.description_translations)),T)Ke.append("_method","PUT"),await ee({id:Number(R),data:Ke}).unwrap(),zt.success("Course updated successfully"),y("/admin/courses");else{const Je=await G(Ke).unwrap();zt.success("Course created! You can now add images."),y(`/admin/courses/${Je.id}/edit`)}}catch(Ke){console.error("Course save error:",Ke),Ke?.data?.errors?Object.values(Ke.data.errors).flat().forEach(Je=>zt.error(Je)):Ke?.data?.message?zt.error(Ke.data.message):zt.error(`Failed to ${T?"update":"create"} course`)}},He=J||te;return T&&O?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):T&&z?jsxRuntimeExports.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Course not found"}),jsxRuntimeExports.jsx("button",{onClick:()=>y("/admin/courses"),className:"mt-4 text-red-700 underline",children:"Return to Courses"})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Breadcrumbs,{items:[{label:"Courses",href:"/admin/courses"},{label:T?"Edit Course":"New Course"}]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:$e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:T?"Edit Course":"Add New Course"}),T&&A&&jsxRuntimeExports.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Editing: ",A.name]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:$e,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:Ue,disabled:He,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg font-medium disabled:opacity-50",children:[He?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),T?"Save Changes":"Create Course"]})]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Ue,children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(FormSection,{title:"Basic Information",description:"Course name, description, and details",children:jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsx(TranslatableField,{label:"Course Name",name:"name",value:xe.name,translationValue:xe.name_translations.ar,onChangeEnglish:ze=>ye(Ke=>({...Ke,name:ze})),onChangeArabic:ze=>ye(Ke=>({...Ke,name_translations:{ar:ze}})),required:!0,placeholder:"Enter course name",placeholderAr:"  "}),jsxRuntimeExports.jsx(TranslatableField,{label:"Subtitle",name:"subtitle",value:xe.subtitle,translationValue:xe.subtitle_translations.ar,onChangeEnglish:ze=>ye(Ke=>({...Ke,subtitle:ze})),onChangeArabic:ze=>ye(Ke=>({...Ke,subtitle_translations:{ar:ze}})),placeholder:"Enter course subtitle",placeholderAr:"  "}),jsxRuntimeExports.jsx(TranslatableRichText,{label:"Details",name:"description",value:xe.description,translationValue:xe.description_translations.ar,onChangeEnglish:ze=>ye(Ke=>({...Ke,description:ze})),onChangeArabic:ze=>ye(Ke=>({...Ke,description_translations:{ar:ze}})),required:!0}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),jsxRuntimeExports.jsxs("select",{value:xe.category_id||"",onChange:ze=>ye(Ke=>({...Ke,category_id:ze.target.value===""?null:Number(ze.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[jsxRuntimeExports.jsx("option",{value:"",children:"No Category"}),U.map(ze=>jsxRuntimeExports.jsx("option",{value:ze.id,children:ze.name},ze.id))]})]})]})}),jsxRuntimeExports.jsx(FormSection,{title:"Course Details",description:"Price, duration, and level",children:jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (SAR) *"}),jsxRuntimeExports.jsx("input",{type:"number",value:xe.price,onChange:ze=>ye(Ke=>({...Ke,price:Number(ze.target.value)})),required:!0,step:"0.01",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),jsxRuntimeExports.jsx("input",{type:"text",value:xe.duration,onChange:ze=>ye(Ke=>({...Ke,duration:ze.target.value})),placeholder:"e.g. 4 weeks",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Level"}),jsxRuntimeExports.jsxs("select",{value:xe.level,onChange:ze=>ye(Ke=>({...Ke,level:ze.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"No Level"}),jsxRuntimeExports.jsx("option",{value:"Beginner",children:"Beginner"}),jsxRuntimeExports.jsx("option",{value:"Intermediate",children:"Intermediate"}),jsxRuntimeExports.jsx("option",{value:"Advanced",children:"Advanced"}),jsxRuntimeExports.jsx("option",{value:"All Levels",children:"All Levels"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Students"}),jsxRuntimeExports.jsx("input",{type:"number",value:xe.max_students||"",onChange:ze=>ye(Ke=>({...Ke,max_students:ze.target.value===""?null:Number(ze.target.value)})),min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]})}),jsxRuntimeExports.jsx(FormSection,{title:"Course Images",description:T?"Manage course images and set main image":"Save the course first to upload images",children:T&&A?jsxRuntimeExports.jsx(MultiImageGallery,{images:A.images||[],mainImagePath:A.image,guideline:IMAGE_GUIDELINES.course,disabled:He,onUpload:async ze=>{await ae({courseId:Number(R),files:ze}).unwrap()},onDelete:async ze=>{await oe({courseId:Number(R),imageId:ze}).unwrap()},onSetMain:async ze=>{await pe({courseId:Number(R),imageId:ze}).unwrap()},onReorder:async ze=>{await fe({courseId:Number(R),order:ze}).unwrap()}}):jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-400",children:jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Save the course first, then you can upload and manage images."})})}),jsxRuntimeExports.jsx(FormSection,{title:"Status & Visibility",description:"Control course visibility",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:xe.is_active,onChange:ze=>ye(Ke=>({...Ke,is_active:ze.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Active"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Course is visible on the website"})]})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:xe.is_featured,onChange:ze=>ye(Ke=>({...Ke,is_featured:ze.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Featured"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Show in featured courses section"})]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 flex items-center gap-3 z-50",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:$e,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:He,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg font-medium disabled:opacity-50",children:[He&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),T?"Save":"Create"]})]}),jsxRuntimeExports.jsx("div",{className:"lg:hidden h-24"})]})]})},initialFormData$7={name:"",description:"",price:0,category_id:null,is_active:!0,is_featured:!1,name_translations:{ar:""},description_translations:{ar:""}},TripEditPage=()=>{const{id:R}=useParams(),y=useNavigate(),T=!!R,{data:A,isLoading:O,error:z}=useGetTripQuery(Number(R),{skip:!T}),{data:U=[]}=useGetCategoriesQuery({active:!0,type:"trip"}),[G,{isLoading:J}]=useCreateTripMutation(),[ee,{isLoading:te}]=useUpdateTripMutation(),[ae]=useUploadTripImagesMutation(),[oe]=useDeleteTripImageMutation(),[pe]=useSetTripMainImageMutation(),[fe]=useReorderTripImagesMutation(),[xe,ye]=reactExports.useState(initialFormData$7),[_e,Le]=reactExports.useState(!1),[je,Ne]=reactExports.useState(initialFormData$7);reactExports.useEffect(()=>{if(A&&T){const ze={name:A.name,description:A.description||"",price:Number(A.price),category_id:A.category_id||null,is_active:A.is_active,is_featured:A.is_featured,name_translations:A.name_translations||{ar:""},description_translations:A.description_translations||{ar:""}};ye(ze),Ne(ze)}},[A,T]),reactExports.useEffect(()=>{Le(JSON.stringify(xe)!==JSON.stringify(je))},[xe,je]),reactExports.useEffect(()=>{const ze=Ke=>{_e&&(Ke.preventDefault(),Ke.returnValue="")};return window.addEventListener("beforeunload",ze),()=>window.removeEventListener("beforeunload",ze)},[_e]);const $e=reactExports.useCallback(()=>{_e&&!window.confirm("You have unsaved changes. Are you sure you want to leave?")||y("/admin/trips")},[_e,y]),Ue=async ze=>{ze.preventDefault();try{const Ke=new FormData;if(Ke.append("name",xe.name),Ke.append("description",xe.description),Ke.append("price",xe.price.toString()),Ke.append("is_active",xe.is_active?"1":"0"),Ke.append("is_featured",xe.is_featured?"1":"0"),xe.category_id&&Ke.append("category_id",xe.category_id.toString()),Ke.append("name_translations",JSON.stringify(xe.name_translations)),Ke.append("description_translations",JSON.stringify(xe.description_translations)),T)Ke.append("_method","PUT"),await ee({id:Number(R),data:Ke}).unwrap(),zt.success("Trip updated successfully"),y("/admin/trips");else{const Je=await G(Ke).unwrap();zt.success("Trip created! You can now add images."),y(`/admin/trips/${Je.id}/edit`)}}catch(Ke){console.error("Trip save error:",Ke),Ke?.data?.errors?Object.values(Ke.data.errors).flat().forEach(Je=>zt.error(Je)):Ke?.data?.message?zt.error(Ke.data.message):zt.error(`Failed to ${T?"update":"create"} trip`)}},He=J||te;return T&&O?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):T&&z?jsxRuntimeExports.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Trip not found"}),jsxRuntimeExports.jsx("button",{onClick:()=>y("/admin/trips"),className:"mt-4 text-red-700 underline",children:"Return to Trips"})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Breadcrumbs,{items:[{label:"Trips",href:"/admin/trips"},{label:T?"Edit Trip":"New Trip"}]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:$e,className:"p-2 hover:bg-gray-100 rounded-lg",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:T?"Edit Trip":"Add New Trip"}),T&&A&&jsxRuntimeExports.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Editing: ",A.name]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:$e,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:Ue,disabled:He,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg font-medium disabled:opacity-50",children:[He?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),T?"Save Changes":"Create Trip"]})]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Ue,children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(FormSection,{title:"Basic Information",description:"Trip name, description, and category",children:jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsx(TranslatableField,{label:"Trip Name",name:"name",value:xe.name,translationValue:xe.name_translations.ar,onChangeEnglish:ze=>ye(Ke=>({...Ke,name:ze})),onChangeArabic:ze=>ye(Ke=>({...Ke,name_translations:{ar:ze}})),required:!0,placeholder:"Enter trip name",placeholderAr:"  "}),jsxRuntimeExports.jsx(TranslatableRichText,{label:"Details",name:"description",value:xe.description,translationValue:xe.description_translations.ar,onChangeEnglish:ze=>ye(Ke=>({...Ke,description:ze})),onChangeArabic:ze=>ye(Ke=>({...Ke,description_translations:{ar:ze}})),required:!0}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),jsxRuntimeExports.jsxs("select",{value:xe.category_id||"",onChange:ze=>ye(Ke=>({...Ke,category_id:ze.target.value===""?null:Number(ze.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"No Category"}),U.map(ze=>jsxRuntimeExports.jsx("option",{value:ze.id,children:ze.name},ze.id))]})]})]})}),jsxRuntimeExports.jsx(FormSection,{title:"Trip Details",description:"Pricing",children:jsxRuntimeExports.jsx("div",{className:"space-y-5",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (SAR) *"}),jsxRuntimeExports.jsx("input",{type:"number",value:xe.price,onChange:ze=>ye(Ke=>({...Ke,price:Number(ze.target.value)})),required:!0,step:"0.01",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})})}),jsxRuntimeExports.jsx(FormSection,{title:"Trip Images",description:T?"Manage trip images and set main image":"Save the trip first to upload images",children:T&&A?jsxRuntimeExports.jsx(MultiImageGallery,{images:A.images||[],mainImagePath:A.image,guideline:IMAGE_GUIDELINES.trip,disabled:He,onUpload:async ze=>{await ae({tripId:Number(R),files:ze}).unwrap()},onDelete:async ze=>{await oe({tripId:Number(R),imageId:ze}).unwrap()},onSetMain:async ze=>{await pe({tripId:Number(R),imageId:ze}).unwrap()},onReorder:async ze=>{await fe({tripId:Number(R),order:ze}).unwrap()}}):jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-400",children:jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Save the trip first, then you can upload and manage images."})})}),jsxRuntimeExports.jsx(FormSection,{title:"Status & Options",description:"Visibility settings",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:xe.is_active,onChange:ze=>ye(Ke=>({...Ke,is_active:ze.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Active"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Trip is visible on the website"})]})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:xe.is_featured,onChange:ze=>ye(Ke=>({...Ke,is_featured:ze.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Featured"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Show in featured trips section"})]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 flex items-center gap-3 z-50",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:$e,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:He,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg font-medium disabled:opacity-50",children:[He&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),T?"Save":"Create"]})]}),jsxRuntimeExports.jsx("div",{className:"lg:hidden h-24"})]})]})},initialFormData$6={title:"",excerpt:"",content:"",category_id:null,is_published:!1,is_featured:!1,published_at:"",title_translations:{ar:""},excerpt_translations:{ar:""},content_translations:{ar:""}},BlogEditPage=()=>{const{id:R}=useParams(),y=useNavigate(),T=!!R,{data:A,isLoading:O,error:z}=useGetBlogPostQuery(Number(R),{skip:!T}),{data:U=[]}=useGetCategoriesQuery({active:!0,type:"blog"}),[G,{isLoading:J}]=useCreateBlogPostMutation(),[ee,{isLoading:te}]=useUpdateBlogPostMutation(),[ae,oe]=reactExports.useState(initialFormData$6),[pe,fe]=reactExports.useState(null),[xe,ye]=reactExports.useState(""),[_e,Le]=reactExports.useState(!1),[je,Ne]=reactExports.useState(initialFormData$6);reactExports.useEffect(()=>{if(A&&T){const ze={title:A.title,excerpt:A.excerpt,content:A.content,category_id:A.category_id||null,is_published:A.is_published,is_featured:A.is_featured,published_at:A.published_at?A.published_at.split("T")[0]:"",title_translations:A.title_translations||{ar:""},excerpt_translations:A.excerpt_translations||{ar:""},content_translations:A.content_translations||{ar:""}};oe(ze),Ne(ze),A.image_url&&ye(A.image_url)}},[A,T]),reactExports.useEffect(()=>{Le(JSON.stringify(ae)!==JSON.stringify(je)||pe!==null)},[ae,je,pe]),reactExports.useEffect(()=>{const ze=Ke=>{_e&&(Ke.preventDefault(),Ke.returnValue="")};return window.addEventListener("beforeunload",ze),()=>window.removeEventListener("beforeunload",ze)},[_e]);const $e=reactExports.useCallback(()=>{_e&&!window.confirm("You have unsaved changes. Are you sure you want to leave?")||y("/admin/blog")},[_e,y]),Ue=async ze=>{ze.preventDefault();try{const Ke=new FormData;Ke.append("title",ae.title),Ke.append("excerpt",ae.excerpt),Ke.append("content",ae.content),Ke.append("is_published",ae.is_published?"1":"0"),Ke.append("is_featured",ae.is_featured?"1":"0"),Ke.append("author_id","1"),ae.category_id&&Ke.append("category_id",ae.category_id.toString()),ae.published_at&&Ke.append("published_at",ae.published_at),pe&&Ke.append("image",pe),Ke.append("title_translations",JSON.stringify(ae.title_translations)),Ke.append("excerpt_translations",JSON.stringify(ae.excerpt_translations)),Ke.append("content_translations",JSON.stringify(ae.content_translations)),T?(Ke.append("_method","PUT"),await ee({id:Number(R),data:Ke}).unwrap(),zt.success("Blog post updated successfully")):(await G(Ke).unwrap(),zt.success("Blog post created successfully")),y("/admin/blog")}catch(Ke){Ke?.data?.errors?Object.values(Ke.data.errors).flat().forEach(Je=>zt.error(Je)):zt.error(`Failed to ${T?"update":"create"} blog post`)}},He=J||te;return T&&O?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):T&&z?jsxRuntimeExports.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Blog post not found"}),jsxRuntimeExports.jsx("button",{onClick:()=>y("/admin/blog"),className:"mt-4 text-red-700 underline",children:"Return to Blog"})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Breadcrumbs,{items:[{label:"Blog",href:"/admin/blog"},{label:T?"Edit Post":"New Post"}]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:$e,className:"p-2 hover:bg-gray-100 rounded-lg",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:T?"Edit Blog Post":"Add New Blog Post"}),T&&A&&jsxRuntimeExports.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Editing: ",A.title]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:$e,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:Ue,disabled:He,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg font-medium disabled:opacity-50",children:[He?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),T?"Save Changes":"Create Post"]})]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Ue,children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(FormSection,{title:"Content",description:"Title, excerpt, and content",children:jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsx(TranslatableField,{label:"Title",name:"title",value:ae.title,translationValue:ae.title_translations.ar,onChangeEnglish:ze=>oe(Ke=>({...Ke,title:ze})),onChangeArabic:ze=>oe(Ke=>({...Ke,title_translations:{ar:ze}})),required:!0,placeholder:"Enter blog post title",placeholderAr:"  "}),jsxRuntimeExports.jsx(TranslatableRichText,{label:"Excerpt",name:"excerpt",value:ae.excerpt,translationValue:ae.excerpt_translations.ar,onChangeEnglish:ze=>oe(Ke=>({...Ke,excerpt:ze})),onChangeArabic:ze=>oe(Ke=>({...Ke,excerpt_translations:{ar:ze}})),required:!0}),jsxRuntimeExports.jsx(TranslatableRichText,{label:"Content",name:"content",value:ae.content,translationValue:ae.content_translations.ar,onChangeEnglish:ze=>oe(Ke=>({...Ke,content:ze})),onChangeArabic:ze=>oe(Ke=>({...Ke,content_translations:{ar:ze}})),required:!0,minHeight:"250px"})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(FormSection,{title:"Settings",description:"Category and publish date",children:jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),jsxRuntimeExports.jsxs("select",{value:ae.category_id||"",onChange:ze=>oe(Ke=>({...Ke,category_id:ze.target.value===""?null:Number(ze.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"No Category"}),U.map(ze=>jsxRuntimeExports.jsx("option",{value:ze.id,children:ze.name},ze.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Published Date"}),jsxRuntimeExports.jsx("input",{type:"date",value:ae.published_at,onChange:ze=>oe(Ke=>({...Ke,published_at:ze.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]})}),jsxRuntimeExports.jsx(FormSection,{title:"Featured Image",description:"Upload blog image",children:jsxRuntimeExports.jsx(ImageUploadWithCrop,{onImageCropped:(ze,Ke)=>{fe(ze),ye(Ke)},currentPreview:xe,guideline:IMAGE_GUIDELINES.blog})}),jsxRuntimeExports.jsx(FormSection,{title:"Status",description:"Publish and feature settings",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:ae.is_published,onChange:ze=>oe(Ke=>({...Ke,is_published:ze.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Published"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Post is visible on the website"})]})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:ae.is_featured,onChange:ze=>oe(Ke=>({...Ke,is_featured:ze.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Featured"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Show in featured posts section"})]})]})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 flex items-center gap-3 z-50",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:$e,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:He,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg font-medium disabled:opacity-50",children:[He&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),T?"Save":"Create"]})]}),jsxRuntimeExports.jsx("div",{className:"lg:hidden h-24"})]})]})},initialFormData$5={title:"",description:"",type:"workshop",start_date:"",end_date:"",location:"",is_active:!0,max_participants:null,price:null,title_translations:{ar:""},description_translations:{ar:""},location_translations:{ar:""}},EventEditPage=()=>{const{id:R}=useParams(),y=useNavigate(),T=!!R,{data:A,isLoading:O,error:z}=useGetEventQuery(Number(R),{skip:!T}),[U,{isLoading:G}]=useCreateEventMutation(),[J,{isLoading:ee}]=useUpdateEventMutation(),[te,ae]=reactExports.useState(initialFormData$5),[oe,pe]=reactExports.useState(!1),[fe,xe]=reactExports.useState(initialFormData$5);reactExports.useEffect(()=>{if(A&&T){const je={title:A.title,description:A.description,type:A.type,start_date:A.start_date?A.start_date.split("T")[0]+"T"+A.start_date.split("T")[1].substring(0,5):"",end_date:A.end_date?A.end_date.split("T")[0]+"T"+A.end_date.split("T")[1].substring(0,5):"",location:A.location||"",is_active:A.is_active,max_participants:A.max_participants||null,price:A.price||null,title_translations:A.title_translations||{ar:""},description_translations:A.description_translations||{ar:""},location_translations:A.location_translations||{ar:""}};ae(je),xe(je)}},[A,T]),reactExports.useEffect(()=>{pe(JSON.stringify(te)!==JSON.stringify(fe))},[te,fe]),reactExports.useEffect(()=>{const je=Ne=>{oe&&(Ne.preventDefault(),Ne.returnValue="")};return window.addEventListener("beforeunload",je),()=>window.removeEventListener("beforeunload",je)},[oe]);const ye=reactExports.useCallback(()=>{oe&&!window.confirm("You have unsaved changes. Are you sure you want to leave?")||y("/admin/events")},[oe,y]),_e=async je=>{je.preventDefault();try{T?(await J({id:Number(R),data:te}).unwrap(),zt.success("Event updated successfully")):(await U(te).unwrap(),zt.success("Event created successfully")),y("/admin/events")}catch(Ne){Ne?.data?.errors?Object.values(Ne.data.errors).flat().forEach($e=>zt.error($e)):zt.error(`Failed to ${T?"update":"create"} event`)}},Le=G||ee;return T&&O?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):T&&z?jsxRuntimeExports.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Event not found"}),jsxRuntimeExports.jsx("button",{onClick:()=>y("/admin/events"),className:"mt-4 text-red-700 underline",children:"Return to Events"})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Breadcrumbs,{items:[{label:"Events",href:"/admin/events"},{label:T?"Edit Event":"New Event"}]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:ye,className:"p-2 hover:bg-gray-100 rounded-lg",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:T?"Edit Event":"Add New Event"}),T&&A&&jsxRuntimeExports.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Editing: ",A.title]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:ye,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:_e,disabled:Le,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg font-medium disabled:opacity-50",children:[Le?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),T?"Save Changes":"Create Event"]})]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:_e,children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(FormSection,{title:"Event Information",description:"Title, description, and location",children:jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsx(TranslatableField,{label:"Event Title",name:"title",value:te.title,translationValue:te.title_translations.ar,onChangeEnglish:je=>ae(Ne=>({...Ne,title:je})),onChangeArabic:je=>ae(Ne=>({...Ne,title_translations:{ar:je}})),required:!0,placeholder:"Enter event title",placeholderAr:"  "}),jsxRuntimeExports.jsx(TranslatableRichText,{label:"Description",name:"description",value:te.description,translationValue:te.description_translations.ar,onChangeEnglish:je=>ae(Ne=>({...Ne,description:je})),onChangeArabic:je=>ae(Ne=>({...Ne,description_translations:{ar:je}})),required:!0}),jsxRuntimeExports.jsx(TranslatableField,{label:"Location",name:"location",value:te.location,translationValue:te.location_translations.ar,onChangeEnglish:je=>ae(Ne=>({...Ne,location:je})),onChangeArabic:je=>ae(Ne=>({...Ne,location_translations:{ar:je}})),placeholder:"Enter event location",placeholderAr:"  "})]})}),jsxRuntimeExports.jsx(FormSection,{title:"Event Details",description:"Type, dates, and capacity",children:jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type *"}),jsxRuntimeExports.jsxs("select",{value:te.type,onChange:je=>ae(Ne=>({...Ne,type:je.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"workshop",children:"Workshop"}),jsxRuntimeExports.jsx("option",{value:"course",children:"Course"}),jsxRuntimeExports.jsx("option",{value:"trip",children:"Trip"}),jsxRuntimeExports.jsx("option",{value:"other",children:"Other"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date & Time *"}),jsxRuntimeExports.jsx("input",{type:"datetime-local",value:te.start_date,onChange:je=>ae(Ne=>({...Ne,start_date:je.target.value})),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date & Time"}),jsxRuntimeExports.jsx("input",{type:"datetime-local",value:te.end_date,onChange:je=>ae(Ne=>({...Ne,end_date:je.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (SAR)"}),jsxRuntimeExports.jsx("input",{type:"number",value:te.price||"",onChange:je=>ae(Ne=>({...Ne,price:je.target.value===""?null:Number(je.target.value)})),step:"0.01",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Participants"}),jsxRuntimeExports.jsx("input",{type:"number",value:te.max_participants||"",onChange:je=>ae(Ne=>({...Ne,max_participants:je.target.value===""?null:Number(je.target.value)})),min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:te.is_active,onChange:je=>ae(Ne=>({...Ne,is_active:je.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Active"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Event is visible on the website"})]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 flex items-center gap-3 z-50",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:ye,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:Le,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg font-medium disabled:opacity-50",children:[Le&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),T?"Save":"Create"]})]}),jsxRuntimeExports.jsx("div",{className:"lg:hidden h-24"})]})]})},initialFormData$4={title:"",description:"",button_text:"",button_link:"",position:"hero",display_order:0,is_active:!0,title_translations:{ar:""},description_translations:{ar:""},button_text_translations:{ar:""}},BannerEditPage=()=>{const{id:R}=useParams(),y=useNavigate(),T=!!R,{data:A,isLoading:O,error:z}=useGetBannerQuery(Number(R),{skip:!T}),[U,{isLoading:G}]=useCreateBannerMutation(),[J,{isLoading:ee}]=useUpdateBannerMutation(),[te,ae]=reactExports.useState(initialFormData$4),[oe,pe]=reactExports.useState(null),[fe,xe]=reactExports.useState(""),[ye,_e]=reactExports.useState(!1),[Le,je]=reactExports.useState(initialFormData$4);reactExports.useEffect(()=>{if(A&&T){const He={title:A.title,description:A.description||"",button_text:A.button_text||"",button_link:A.button_link||"",position:A.position,display_order:A.display_order,is_active:A.is_active,title_translations:A.title_translations||{ar:""},description_translations:A.description_translations||{ar:""},button_text_translations:A.button_text_translations||{ar:""}};ae(He),je(He),A.image_url&&xe(A.image_url)}},[A,T]),reactExports.useEffect(()=>{_e(JSON.stringify(te)!==JSON.stringify(Le)||oe!==null)},[te,Le,oe]),reactExports.useEffect(()=>{const He=ze=>{ye&&(ze.preventDefault(),ze.returnValue="")};return window.addEventListener("beforeunload",He),()=>window.removeEventListener("beforeunload",He)},[ye]);const Ne=reactExports.useCallback(()=>{ye&&!window.confirm("You have unsaved changes. Are you sure you want to leave?")||y("/admin/banners")},[ye,y]),$e=async He=>{He.preventDefault();try{const ze=new FormData;ze.append("title",te.title),ze.append("description",te.description),ze.append("position",te.position),ze.append("display_order",te.display_order.toString()),ze.append("is_active",te.is_active?"1":"0"),te.button_text&&ze.append("button_text",te.button_text),te.button_link&&ze.append("button_link",te.button_link),oe&&ze.append("image",oe),ze.append("title_translations",JSON.stringify(te.title_translations)),ze.append("description_translations",JSON.stringify(te.description_translations)),ze.append("button_text_translations",JSON.stringify(te.button_text_translations)),T?(ze.append("_method","PUT"),await J({id:Number(R),data:ze}).unwrap(),zt.success("Banner updated successfully")):(await U(ze).unwrap(),zt.success("Banner created successfully")),y("/admin/banners")}catch(ze){ze?.data?.errors?Object.values(ze.data.errors).flat().forEach(Ke=>zt.error(Ke)):zt.error(`Failed to ${T?"update":"create"} banner`)}},Ue=G||ee;return T&&O?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):T&&z?jsxRuntimeExports.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Banner not found"}),jsxRuntimeExports.jsx("button",{onClick:()=>y("/admin/banners"),className:"mt-4 text-red-700 underline",children:"Return to Banners"})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Breadcrumbs,{items:[{label:"Banners",href:"/admin/banners"},{label:T?"Edit Banner":"New Banner"}]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:Ne,className:"p-2 hover:bg-gray-100 rounded-lg",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:T?"Edit Banner":"Add New Banner"}),T&&A&&jsxRuntimeExports.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Editing: ",A.title]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:Ne,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:$e,disabled:Ue,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg font-medium disabled:opacity-50",children:[Ue?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),T?"Save Changes":"Create Banner"]})]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:$e,children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(FormSection,{title:"Banner Content",description:"Title, description, and button",children:jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsx(TranslatableField,{label:"Banner Title",name:"title",value:te.title,translationValue:te.title_translations.ar,onChangeEnglish:He=>ae(ze=>({...ze,title:He})),onChangeArabic:He=>ae(ze=>({...ze,title_translations:{ar:He}})),required:!0,placeholder:"Enter banner title",placeholderAr:"  "}),jsxRuntimeExports.jsx(TranslatableRichText,{label:"Description",name:"description",value:te.description,translationValue:te.description_translations.ar,onChangeEnglish:He=>ae(ze=>({...ze,description:He})),onChangeArabic:He=>ae(ze=>({...ze,description_translations:{ar:He}}))}),jsxRuntimeExports.jsx(TranslatableField,{label:"Button Text",name:"button_text",value:te.button_text,translationValue:te.button_text_translations.ar,onChangeEnglish:He=>ae(ze=>({...ze,button_text:He})),onChangeArabic:He=>ae(ze=>({...ze,button_text_translations:{ar:He}})),placeholder:"e.g. Learn More",placeholderAr:":  "}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Link"}),jsxRuntimeExports.jsx("input",{type:"text",value:te.button_link,onChange:He=>ae(ze=>({...ze,button_link:He.target.value})),placeholder:"/courses",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]})}),jsxRuntimeExports.jsx(FormSection,{title:"Banner Image",description:"Upload banner image",children:jsxRuntimeExports.jsx(ImageUploadWithCrop,{onImageCropped:(He,ze)=>{pe(He),xe(ze)},currentPreview:fe,guideline:IMAGE_GUIDELINES.banner,required:!T})}),jsxRuntimeExports.jsx(FormSection,{title:"Display Settings",description:"Position and order",children:jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position *"}),jsxRuntimeExports.jsxs("select",{value:te.position,onChange:He=>ae(ze=>({...ze,position:He.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"hero",children:"Hero Banner (Main)"}),jsxRuntimeExports.jsx("option",{value:"secondary",children:"Secondary Banner"}),jsxRuntimeExports.jsx("option",{value:"promo",children:"Promotional Banner"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),jsxRuntimeExports.jsx("input",{type:"number",value:te.display_order,onChange:He=>ae(ze=>({...ze,display_order:Number(He.target.value)})),min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]})}),jsxRuntimeExports.jsx(FormSection,{title:"Status",description:"Banner visibility",children:jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:te.is_active,onChange:He=>ae(ze=>({...ze,is_active:He.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Active"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Banner is visible on the website"})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 flex items-center gap-3 z-50",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:Ne,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:Ue,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg font-medium disabled:opacity-50",children:[Ue&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),T?"Save":"Create"]})]}),jsxRuntimeExports.jsx("div",{className:"lg:hidden h-24"})]})]})},initialFormData$3={title:"",excerpt:"",content:"",category_id:null,is_published:!1,is_featured:!1,published_at:"",title_translations:{ar:""},excerpt_translations:{ar:""},content_translations:{ar:""}},InitiativeEditPage=()=>{const{id:R}=useParams(),y=useNavigate(),T=!!R,{data:A,isLoading:O,error:z}=useGetSocialInitiativeQuery(Number(R),{skip:!T}),{data:U=[]}=useGetCategoriesQuery({active:!0}),[G,{isLoading:J}]=useCreateSocialInitiativeMutation(),[ee,{isLoading:te}]=useUpdateSocialInitiativeMutation(),[ae,oe]=reactExports.useState(initialFormData$3),[pe,fe]=reactExports.useState(null),[xe,ye]=reactExports.useState(""),[_e,Le]=reactExports.useState(!1),[je,Ne]=reactExports.useState(initialFormData$3);reactExports.useEffect(()=>{if(A&&T){const ze={title:A.title,excerpt:A.excerpt,content:A.content,category_id:A.category_id||null,is_published:A.is_published,is_featured:A.is_featured,published_at:A.published_at?A.published_at.split("T")[0]:"",title_translations:A.title_translations||{ar:""},excerpt_translations:A.excerpt_translations||{ar:""},content_translations:A.content_translations||{ar:""}};oe(ze),Ne(ze),A.image_url&&ye(A.image_url)}},[A,T]),reactExports.useEffect(()=>{Le(JSON.stringify(ae)!==JSON.stringify(je)||pe!==null)},[ae,je,pe]),reactExports.useEffect(()=>{const ze=Ke=>{_e&&(Ke.preventDefault(),Ke.returnValue="")};return window.addEventListener("beforeunload",ze),()=>window.removeEventListener("beforeunload",ze)},[_e]);const $e=reactExports.useCallback(()=>{_e&&!window.confirm("You have unsaved changes. Are you sure you want to leave?")||y("/admin/initiatives")},[_e,y]),Ue=async ze=>{ze.preventDefault();try{const Ke=new FormData;Ke.append("title",ae.title),Ke.append("excerpt",ae.excerpt),Ke.append("content",ae.content),Ke.append("is_published",ae.is_published?"1":"0"),Ke.append("is_featured",ae.is_featured?"1":"0"),ae.category_id&&Ke.append("category_id",ae.category_id.toString()),ae.published_at&&Ke.append("published_at",ae.published_at),pe&&Ke.append("image",pe),Ke.append("title_translations",JSON.stringify(ae.title_translations)),Ke.append("excerpt_translations",JSON.stringify(ae.excerpt_translations)),Ke.append("content_translations",JSON.stringify(ae.content_translations)),T?(Ke.append("_method","PUT"),await ee({id:Number(R),data:Ke}).unwrap(),zt.success("Initiative updated successfully")):(await G(Ke).unwrap(),zt.success("Initiative created successfully")),y("/admin/initiatives")}catch(Ke){Ke?.data?.errors?Object.values(Ke.data.errors).flat().forEach(Je=>zt.error(Je)):zt.error(`Failed to ${T?"update":"create"} initiative`)}},He=J||te;return T&&O?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):T&&z?jsxRuntimeExports.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Initiative not found"}),jsxRuntimeExports.jsx("button",{onClick:()=>y("/admin/initiatives"),className:"mt-4 text-red-700 underline",children:"Return to Initiatives"})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Breadcrumbs,{items:[{label:"Initiatives",href:"/admin/initiatives"},{label:T?"Edit Initiative":"New Initiative"}]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:$e,className:"p-2 hover:bg-gray-100 rounded-lg",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:T?"Edit Initiative":"Add New Initiative"}),T&&A&&jsxRuntimeExports.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Editing: ",A.title]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:$e,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:Ue,disabled:He,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg font-medium disabled:opacity-50",children:[He?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),T?"Save Changes":"Create Initiative"]})]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Ue,children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(FormSection,{title:"Content",description:"Title, excerpt, and content",children:jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsx(TranslatableField,{label:"Title",name:"title",value:ae.title,translationValue:ae.title_translations.ar,onChangeEnglish:ze=>oe(Ke=>({...Ke,title:ze})),onChangeArabic:ze=>oe(Ke=>({...Ke,title_translations:{ar:ze}})),required:!0,placeholder:"Enter initiative title",placeholderAr:"  "}),jsxRuntimeExports.jsx(TranslatableRichText,{label:"Excerpt",name:"excerpt",value:ae.excerpt,translationValue:ae.excerpt_translations.ar,onChangeEnglish:ze=>oe(Ke=>({...Ke,excerpt:ze})),onChangeArabic:ze=>oe(Ke=>({...Ke,excerpt_translations:{ar:ze}})),required:!0}),jsxRuntimeExports.jsx(TranslatableRichText,{label:"Content",name:"content",value:ae.content,translationValue:ae.content_translations.ar,onChangeEnglish:ze=>oe(Ke=>({...Ke,content:ze})),onChangeArabic:ze=>oe(Ke=>({...Ke,content_translations:{ar:ze}})),required:!0,minHeight:"250px"})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(FormSection,{title:"Settings",description:"Category and publish date",children:jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),jsxRuntimeExports.jsxs("select",{value:ae.category_id||"",onChange:ze=>oe(Ke=>({...Ke,category_id:ze.target.value===""?null:Number(ze.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"No Category"}),U.map(ze=>jsxRuntimeExports.jsx("option",{value:ze.id,children:ze.name},ze.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Published Date"}),jsxRuntimeExports.jsx("input",{type:"date",value:ae.published_at,onChange:ze=>oe(Ke=>({...Ke,published_at:ze.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]})}),jsxRuntimeExports.jsx(FormSection,{title:"Featured Image",description:"Upload initiative image",children:jsxRuntimeExports.jsx(ImageUploadWithCrop,{onImageCropped:(ze,Ke)=>{fe(ze),ye(Ke)},currentPreview:xe,guideline:IMAGE_GUIDELINES.initiative})}),jsxRuntimeExports.jsx(FormSection,{title:"Status",description:"Publish and feature settings",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:ae.is_published,onChange:ze=>oe(Ke=>({...Ke,is_published:ze.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Published"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Initiative is visible on the website"})]})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:ae.is_featured,onChange:ze=>oe(Ke=>({...Ke,is_featured:ze.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Featured"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Show in featured initiatives section"})]})]})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 flex items-center gap-3 z-50",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:$e,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:He,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg font-medium disabled:opacity-50",children:[He&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),T?"Save":"Create"]})]}),jsxRuntimeExports.jsx("div",{className:"lg:hidden h-24"})]})]})},initialFormData$2={title:"",content:"",display_order:0,is_active:!0,open_in_new_tab:!1,title_translations:{ar:""},content_translations:{ar:""}},FooterLinkEditPage=()=>{const{id:R}=useParams(),y=useNavigate(),T=!!R,{data:A,isLoading:O,error:z}=useGetFooterLinkQuery(Number(R),{skip:!T}),[U,{isLoading:G}]=useCreateFooterLinkMutation(),[J,{isLoading:ee}]=useUpdateFooterLinkMutation(),[te,ae]=reactExports.useState(initialFormData$2),[oe,pe]=reactExports.useState(!1),[fe,xe]=reactExports.useState(initialFormData$2);reactExports.useEffect(()=>{if(A&&T){const je={title:A.title,content:A.content||"",display_order:A.display_order,is_active:A.is_active,open_in_new_tab:A.open_in_new_tab,title_translations:A.title_translations||{ar:""},content_translations:A.content_translations||{ar:""}};ae(je),xe(je)}},[A,T]),reactExports.useEffect(()=>{pe(JSON.stringify(te)!==JSON.stringify(fe))},[te,fe]),reactExports.useEffect(()=>{const je=Ne=>{oe&&(Ne.preventDefault(),Ne.returnValue="")};return window.addEventListener("beforeunload",je),()=>window.removeEventListener("beforeunload",je)},[oe]);const ye=reactExports.useCallback(()=>{oe&&!window.confirm("You have unsaved changes. Are you sure you want to leave?")||y("/admin/footer-links")},[oe,y]),_e=async je=>{je.preventDefault();try{const Ne={...te,title_translations:JSON.stringify(te.title_translations),content_translations:JSON.stringify(te.content_translations)};T?(await J({id:Number(R),data:Ne}).unwrap(),zt.success("Footer page updated successfully")):(await U(Ne).unwrap(),zt.success("Footer page created successfully")),y("/admin/footer-links")}catch(Ne){Ne?.data?.errors?Object.values(Ne.data.errors).flat().forEach($e=>zt.error($e)):zt.error(`Failed to ${T?"update":"create"} footer page`)}},Le=G||ee;return T&&O?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):T&&z?jsxRuntimeExports.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Footer page not found"}),jsxRuntimeExports.jsx("button",{onClick:()=>y("/admin/footer-links"),className:"mt-4 text-red-700 underline",children:"Return to Footer Links"})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Breadcrumbs,{items:[{label:"Footer Links",href:"/admin/footer-links"},{label:T?"Edit Page":"New Page"}]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:ye,className:"p-2 hover:bg-gray-100 rounded-lg",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:T?"Edit Footer Page":"Add Footer Page"}),T&&A&&jsxRuntimeExports.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Editing: ",A.title]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:ye,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:_e,disabled:Le,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg font-medium disabled:opacity-50",children:[Le?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),T?"Save Changes":"Create Page"]})]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:_e,children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[jsxRuntimeExports.jsxs(FormSection,{title:"Page Title",description:"Title displayed in footer and page header",children:[jsxRuntimeExports.jsx(TranslatableField,{label:"Title",name:"title",value:te.title,translationValue:te.title_translations.ar,onChangeEnglish:je=>ae(Ne=>({...Ne,title:je})),onChangeArabic:je=>ae(Ne=>({...Ne,title_translations:{ar:je}})),required:!0,placeholder:"e.g. Privacy Policy",placeholderAr:":  "}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The URL will be auto-generated based on the title"})]}),jsxRuntimeExports.jsx(FormSection,{title:"Page Content",description:"Rich text content for this page",children:jsxRuntimeExports.jsx(TranslatableRichText,{label:"Content",name:"content",value:te.content,translationValue:te.content_translations.ar,onChangeEnglish:je=>ae(Ne=>({...Ne,content:je})),onChangeArabic:je=>ae(Ne=>({...Ne,content_translations:{ar:je}})),minHeight:"300px"})})]}),jsxRuntimeExports.jsx("div",{className:"space-y-6",children:jsxRuntimeExports.jsx(FormSection,{title:"Settings",description:"Display order and visibility",children:jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),jsxRuntimeExports.jsx("input",{type:"number",value:te.display_order,onChange:je=>ae(Ne=>({...Ne,display_order:Number(je.target.value)})),min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lower numbers appear first"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:te.is_active,onChange:je=>ae(Ne=>({...Ne,is_active:je.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Active"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Visible in footer"})]})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:te.open_in_new_tab,onChange:je=>ae(Ne=>({...Ne,open_in_new_tab:je.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Open in new tab"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Opens link in new browser tab"})]})]})]})})})]}),jsxRuntimeExports.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 flex items-center gap-3 z-50",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:ye,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:Le,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg font-medium disabled:opacity-50",children:[Le&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),T?"Save":"Create"]})]}),jsxRuntimeExports.jsx("div",{className:"lg:hidden h-24"})]})]})},initialFormData$1={name:"",role:"",bio:"",email:"",phone:"",experience:"",is_active:!0,display_order:0,social_links:{facebook:"",instagram:"",twitter:"",linkedin:""}},TeamMemberEditPage=()=>{const{id:R}=useParams(),y=useNavigate(),T=!!R,{data:A,isLoading:O,error:z}=useGetTeamMemberQuery(Number(R),{skip:!T}),[U,{isLoading:G}]=useCreateTeamMemberMutation(),[J,{isLoading:ee}]=useUpdateTeamMemberMutation(),[te,ae]=reactExports.useState(initialFormData$1),[oe,pe]=reactExports.useState(null),[fe,xe]=reactExports.useState(""),[ye,_e]=reactExports.useState(!1),[Le,je]=reactExports.useState(initialFormData$1);reactExports.useEffect(()=>{if(A&&T){const He={name:A.name,role:A.role,bio:A.bio||"",email:A.email||"",phone:A.phone||"",experience:A.experience||"",is_active:A.is_active,display_order:A.display_order,social_links:A.social_links||{facebook:"",instagram:"",twitter:"",linkedin:""}};ae(He),je(He),A.image_url&&xe(A.image_url)}},[A,T]),reactExports.useEffect(()=>{_e(JSON.stringify(te)!==JSON.stringify(Le)||oe!==null)},[te,Le,oe]),reactExports.useEffect(()=>{const He=ze=>{ye&&(ze.preventDefault(),ze.returnValue="")};return window.addEventListener("beforeunload",He),()=>window.removeEventListener("beforeunload",He)},[ye]);const Ne=reactExports.useCallback(()=>{ye&&!window.confirm("You have unsaved changes. Are you sure you want to leave?")||y("/admin/team")},[ye,y]),$e=async He=>{He.preventDefault();try{const ze=new FormData;ze.append("name",te.name),ze.append("role",te.role),ze.append("bio",te.bio),ze.append("is_active",te.is_active?"1":"0"),ze.append("display_order",te.display_order.toString()),te.email&&ze.append("email",te.email),te.phone&&ze.append("phone",te.phone),te.experience&&ze.append("experience",te.experience),ze.append("social_links",JSON.stringify(te.social_links)),oe&&ze.append("image",oe),T?(ze.append("_method","PUT"),await J({id:Number(R),data:ze}).unwrap(),zt.success("Team member updated successfully")):(await U(ze).unwrap(),zt.success("Team member created successfully")),y("/admin/team")}catch(ze){ze?.data?.errors?Object.values(ze.data.errors).flat().forEach(Ke=>zt.error(Ke)):zt.error(`Failed to ${T?"update":"create"} team member`)}},Ue=G||ee;return T&&O?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):T&&z?jsxRuntimeExports.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Team member not found"}),jsxRuntimeExports.jsx("button",{onClick:()=>y("/admin/team"),className:"mt-4 text-red-700 underline",children:"Return to Team"})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Breadcrumbs,{items:[{label:"Team",href:"/admin/team"},{label:T?"Edit Member":"New Member"}]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:Ne,className:"p-2 hover:bg-gray-100 rounded-lg",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:T?"Edit Team Member":"Add Team Member"}),T&&A&&jsxRuntimeExports.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Editing: ",A.name]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:Ne,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:$e,disabled:Ue,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg font-medium disabled:opacity-50",children:[Ue?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),T?"Save Changes":"Create Member"]})]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:$e,children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(FormSection,{title:"Basic Information",description:"Name, role, and bio",children:jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),jsxRuntimeExports.jsx("input",{type:"text",value:te.name,onChange:He=>ae(ze=>({...ze,name:He.target.value})),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),jsxRuntimeExports.jsx("input",{type:"text",value:te.role,onChange:He=>ae(ze=>({...ze,role:He.target.value})),required:!0,placeholder:"e.g. Lead Instructor",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),jsxRuntimeExports.jsx("textarea",{value:te.bio,onChange:He=>ae(ze=>({...ze,bio:He.target.value})),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),jsxRuntimeExports.jsx("input",{type:"email",value:te.email,onChange:He=>ae(ze=>({...ze,email:He.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),jsxRuntimeExports.jsx("input",{type:"tel",value:te.phone,onChange:He=>ae(ze=>({...ze,phone:He.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience"}),jsxRuntimeExports.jsx("input",{type:"text",value:te.experience,onChange:He=>ae(ze=>({...ze,experience:He.target.value})),placeholder:"e.g. 10+ years",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),jsxRuntimeExports.jsx("input",{type:"number",value:te.display_order,onChange:He=>ae(ze=>({...ze,display_order:Number(He.target.value)})),min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(FormSection,{title:"Profile Image",description:"Upload member photo",children:jsxRuntimeExports.jsx(ImageUploadWithCrop,{onImageCropped:(He,ze)=>{pe(He),xe(ze)},currentPreview:fe,guideline:IMAGE_GUIDELINES.teamMember,aspectRatio:1})}),jsxRuntimeExports.jsx(FormSection,{title:"Social Links",description:"Social media profiles",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Facebook"}),jsxRuntimeExports.jsx("input",{type:"url",value:te.social_links.facebook,onChange:He=>ae(ze=>({...ze,social_links:{...ze.social_links,facebook:He.target.value}})),placeholder:"https://facebook.com/...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instagram"}),jsxRuntimeExports.jsx("input",{type:"url",value:te.social_links.instagram,onChange:He=>ae(ze=>({...ze,social_links:{...ze.social_links,instagram:He.target.value}})),placeholder:"https://instagram.com/...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Twitter"}),jsxRuntimeExports.jsx("input",{type:"url",value:te.social_links.twitter,onChange:He=>ae(ze=>({...ze,social_links:{...ze.social_links,twitter:He.target.value}})),placeholder:"https://twitter.com/...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn"}),jsxRuntimeExports.jsx("input",{type:"url",value:te.social_links.linkedin,onChange:He=>ae(ze=>({...ze,social_links:{...ze.social_links,linkedin:He.target.value}})),placeholder:"https://linkedin.com/in/...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]})}),jsxRuntimeExports.jsx(FormSection,{title:"Status",description:"Member visibility",children:jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:te.is_active,onChange:He=>ae(ze=>({...ze,is_active:He.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Active"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Member is visible on the website"})]})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 flex items-center gap-3 z-50",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:Ne,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:Ue,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg font-medium disabled:opacity-50",children:[Ue&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),T?"Save":"Create"]})]}),jsxRuntimeExports.jsx("div",{className:"lg:hidden h-24"})]})]})},CategoriesManagement=()=>{const R=useNavigate(),{data:y=[],isLoading:T,error:A}=useGetCategoriesQuery({}),[O]=useDeleteCategoryMutation(),z={product:"bg-blue-100 text-blue-700",course:"bg-purple-100 text-purple-700",trip:"bg-green-100 text-green-700",blog:"bg-orange-100 text-orange-700"},U=[{header:"Name",accessor:"name",render:pe=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"bg-gray-100 p-2 rounded-lg",children:jsxRuntimeExports.jsx(Tag,{className:"w-5 h-5 text-gray-600"})}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:pe})]})},{header:"Type",accessor:"type",render:pe=>jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold capitalize ${z[pe]||"bg-gray-100 text-gray-700"}`,children:pe})},{header:"Description",accessor:"description",render:pe=>jsxRuntimeExports.jsx("div",{className:"max-w-xs truncate text-gray-600",children:pe||""})},{header:"Status",accessor:"is_active",render:pe=>jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${pe?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:pe?"Active":"Inactive"})}],G=pe=>{R(`/admin/categories/${pe.id}/edit`)},J=async pe=>{if(confirm(`Are you sure you want to delete "${pe.name}"?`))try{await O(pe.id).unwrap(),zt.success("Category deleted successfully")}catch{zt.error("Failed to delete category")}};if(T)return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(A)return jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:"Failed to load categories."});const ee=y.filter(pe=>pe.type==="product").length,te=y.filter(pe=>pe.type==="course").length,ae=y.filter(pe=>pe.type==="trip").length,oe=y.filter(pe=>pe.type==="blog").length;return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Categories"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Manage categories for products, courses, trips, and blog posts"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>R("/admin/categories/new"),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg transition-all",children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"}),"Add Category"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-gray-900",children:y.length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Products"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-blue-600",children:ee})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Courses"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-purple-600",children:te})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Trips"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-green-600",children:ae})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Blog"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-orange-600",children:oe})]})]}),jsxRuntimeExports.jsx(DataTable,{columns:U,data:y,onEdit:G,onDelete:J})]})},initialFormData={name:"",description:"",type:"product",is_active:!0,name_translations:{ar:""},description_translations:{ar:""}},CategoryEditPage=()=>{const{id:R}=useParams(),y=useNavigate(),T=!!R,{data:A,isLoading:O,error:z}=useGetCategoryQuery(Number(R),{skip:!T}),[U,{isLoading:G}]=useCreateCategoryMutation(),[J,{isLoading:ee}]=useUpdateCategoryMutation(),[te,ae]=reactExports.useState(initialFormData),[oe,pe]=reactExports.useState(!1),[fe,xe]=reactExports.useState(initialFormData);reactExports.useEffect(()=>{if(A&&T){const je={name:A.name,description:A.description||"",type:A.type,is_active:A.is_active,name_translations:A.name_translations||{ar:""},description_translations:A.description_translations||{ar:""}};ae(je),xe(je)}},[A,T]),reactExports.useEffect(()=>{pe(JSON.stringify(te)!==JSON.stringify(fe))},[te,fe]),reactExports.useEffect(()=>{const je=Ne=>{oe&&(Ne.preventDefault(),Ne.returnValue="")};return window.addEventListener("beforeunload",je),()=>window.removeEventListener("beforeunload",je)},[oe]);const ye=reactExports.useCallback(()=>{oe&&!window.confirm("You have unsaved changes. Are you sure you want to leave?")||y("/admin/categories")},[oe,y]),_e=async je=>{je.preventDefault();try{const Ne={name:te.name,description:te.description,type:te.type,is_active:te.is_active,name_translations:te.name_translations,description_translations:te.description_translations};T?(await J({id:Number(R),data:Ne}).unwrap(),zt.success("Category updated successfully")):(await U(Ne).unwrap(),zt.success("Category created successfully")),y("/admin/categories")}catch(Ne){Ne?.data?.errors?Object.values(Ne.data.errors).flat().forEach($e=>zt.error($e)):zt.error(`Failed to ${T?"update":"create"} category`)}},Le=G||ee;return T&&O?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):T&&z?jsxRuntimeExports.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Category not found"}),jsxRuntimeExports.jsx("button",{onClick:()=>y("/admin/categories"),className:"mt-4 text-red-700 underline",children:"Return to Categories"})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Breadcrumbs,{items:[{label:"Categories",href:"/admin/categories"},{label:T?"Edit Category":"New Category"}]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:ye,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:T?"Edit Category":"Add New Category"}),T&&A&&jsxRuntimeExports.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Editing: ",A.name]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:ye,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:_e,disabled:Le,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg hover:shadow-lg font-medium disabled:opacity-50",children:[Le?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),T?"Save Changes":"Create Category"]})]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:_e,children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(FormSection,{title:"Category Information",description:"Name and description",children:jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsx(TranslatableField,{label:"Category Name",name:"name",value:te.name,translationValue:te.name_translations.ar,onChangeEnglish:je=>ae(Ne=>({...Ne,name:je})),onChangeArabic:je=>ae(Ne=>({...Ne,name_translations:{ar:je}})),required:!0,placeholder:"Enter category name",placeholderAr:"  "}),jsxRuntimeExports.jsx(TranslatableField,{label:"Description",name:"description",type:"textarea",rows:3,value:te.description,translationValue:te.description_translations.ar,onChangeEnglish:je=>ae(Ne=>({...Ne,description:je})),onChangeArabic:je=>ae(Ne=>({...Ne,description_translations:{ar:je}})),placeholder:"Optional description",placeholderAr:" "})]})}),jsxRuntimeExports.jsx(FormSection,{title:"Type & Status",description:"Category type and visibility",children:jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type *"}),jsxRuntimeExports.jsxs("select",{value:te.type,onChange:je=>ae(Ne=>({...Ne,type:je.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:T,children:[jsxRuntimeExports.jsx("option",{value:"product",children:"Product"}),jsxRuntimeExports.jsx("option",{value:"course",children:"Course"}),jsxRuntimeExports.jsx("option",{value:"trip",children:"Trip"}),jsxRuntimeExports.jsx("option",{value:"blog",children:"Blog"})]}),T&&jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Type cannot be changed after creation"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:te.is_active,onChange:je=>ae(Ne=>({...Ne,is_active:je.target.checked})),className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Active"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Category is available for selection"})]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 flex items-center gap-3 z-50",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:ye,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:Le,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white rounded-lg font-medium disabled:opacity-50",children:[Le&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),T?"Save":"Create"]})]}),jsxRuntimeExports.jsx("div",{className:"lg:hidden h-24"})]})]})},ScrollToTop=()=>{const{pathname:R}=useLocation();return reactExports.useEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto")},[]),reactExports.useEffect(()=>{window.scrollTo(0,0)},[R]),null},AppRoutes=()=>{const y=useLocation().pathname.startsWith("/admin");return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ScrollToTop,{}),y?jsxRuntimeExports.jsx(Routes,{children:jsxRuntimeExports.jsxs(Route,{path:"/admin",element:jsxRuntimeExports.jsx(AdminLayout,{}),children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(Dashboard,{})}),jsxRuntimeExports.jsx(Route,{path:"bookings",element:jsxRuntimeExports.jsx(BookingsManagement,{})}),jsxRuntimeExports.jsx(Route,{path:"products",element:jsxRuntimeExports.jsx(ProductsManagement,{})}),jsxRuntimeExports.jsx(Route,{path:"products/new",element:jsxRuntimeExports.jsx(ProductEditPage,{})}),jsxRuntimeExports.jsx(Route,{path:"products/:id/edit",element:jsxRuntimeExports.jsx(ProductEditPage,{})}),jsxRuntimeExports.jsx(Route,{path:"courses",element:jsxRuntimeExports.jsx(CoursesManagement,{})}),jsxRuntimeExports.jsx(Route,{path:"courses/new",element:jsxRuntimeExports.jsx(CourseEditPage,{})}),jsxRuntimeExports.jsx(Route,{path:"courses/:id/edit",element:jsxRuntimeExports.jsx(CourseEditPage,{})}),jsxRuntimeExports.jsx(Route,{path:"trips",element:jsxRuntimeExports.jsx(TripsManagement,{})}),jsxRuntimeExports.jsx(Route,{path:"trips/new",element:jsxRuntimeExports.jsx(TripEditPage,{})}),jsxRuntimeExports.jsx(Route,{path:"trips/:id/edit",element:jsxRuntimeExports.jsx(TripEditPage,{})}),jsxRuntimeExports.jsx(Route,{path:"blog",element:jsxRuntimeExports.jsx(BlogManagement,{})}),jsxRuntimeExports.jsx(Route,{path:"blog/new",element:jsxRuntimeExports.jsx(BlogEditPage,{})}),jsxRuntimeExports.jsx(Route,{path:"blog/:id/edit",element:jsxRuntimeExports.jsx(BlogEditPage,{})}),jsxRuntimeExports.jsx(Route,{path:"events",element:jsxRuntimeExports.jsx(EventsManagement,{})}),jsxRuntimeExports.jsx(Route,{path:"events/new",element:jsxRuntimeExports.jsx(EventEditPage,{})}),jsxRuntimeExports.jsx(Route,{path:"events/:id/edit",element:jsxRuntimeExports.jsx(EventEditPage,{})}),jsxRuntimeExports.jsx(Route,{path:"team",element:jsxRuntimeExports.jsx(TeamManagement,{})}),jsxRuntimeExports.jsx(Route,{path:"team/new",element:jsxRuntimeExports.jsx(TeamMemberEditPage,{})}),jsxRuntimeExports.jsx(Route,{path:"team/:id/edit",element:jsxRuntimeExports.jsx(TeamMemberEditPage,{})}),jsxRuntimeExports.jsx(Route,{path:"banners",element:jsxRuntimeExports.jsx(BannerManagement,{})}),jsxRuntimeExports.jsx(Route,{path:"banners/new",element:jsxRuntimeExports.jsx(BannerEditPage,{})}),jsxRuntimeExports.jsx(Route,{path:"banners/:id/edit",element:jsxRuntimeExports.jsx(BannerEditPage,{})}),jsxRuntimeExports.jsx(Route,{path:"initiatives",element:jsxRuntimeExports.jsx(InitiativesManagement,{})}),jsxRuntimeExports.jsx(Route,{path:"initiatives/new",element:jsxRuntimeExports.jsx(InitiativeEditPage,{})}),jsxRuntimeExports.jsx(Route,{path:"initiatives/:id/edit",element:jsxRuntimeExports.jsx(InitiativeEditPage,{})}),jsxRuntimeExports.jsx(Route,{path:"categories",element:jsxRuntimeExports.jsx(CategoriesManagement,{})}),jsxRuntimeExports.jsx(Route,{path:"categories/new",element:jsxRuntimeExports.jsx(CategoryEditPage,{})}),jsxRuntimeExports.jsx(Route,{path:"categories/:id/edit",element:jsxRuntimeExports.jsx(CategoryEditPage,{})}),jsxRuntimeExports.jsx(Route,{path:"footer-links",element:jsxRuntimeExports.jsx(FooterLinksManagement,{})}),jsxRuntimeExports.jsx(Route,{path:"footer-links/new",element:jsxRuntimeExports.jsx(FooterLinkEditPage,{})}),jsxRuntimeExports.jsx(Route,{path:"footer-links/:id/edit",element:jsxRuntimeExports.jsx(FooterLinkEditPage,{})}),jsxRuntimeExports.jsx(Route,{path:"settings",element:jsxRuntimeExports.jsx(Settings,{})})]})}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col min-h-screen bg-white",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("main",{className:"grow",children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(HomePage,{})}),jsxRuntimeExports.jsx(Route,{path:"/about",element:jsxRuntimeExports.jsx(AboutPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/shop/courses",element:jsxRuntimeExports.jsx(CoursesPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/shop/trips",element:jsxRuntimeExports.jsx(TripsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/blog",element:jsxRuntimeExports.jsx(BlogPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/blog/:id",element:jsxRuntimeExports.jsx(BlogDetailPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/contact",element:jsxRuntimeExports.jsx(ContactPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/events",element:jsxRuntimeExports.jsx(EventsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/events/:id",element:jsxRuntimeExports.jsx(EventDetailPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/initiatives",element:jsxRuntimeExports.jsx(InitiativesPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/initiatives/:id",element:jsxRuntimeExports.jsx(InitiativeDetailPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/faqs",element:jsxRuntimeExports.jsx(FAQPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/pages/:slug",element:jsxRuntimeExports.jsx(FooterLinkPage,{})})]})}),jsxRuntimeExports.jsx(Footer,{})]})]})},App=()=>jsxRuntimeExports.jsxs(BrowserRouter,{children:[jsxRuntimeExports.jsx(Fe,{position:"top-right"}),jsxRuntimeExports.jsx(WhatsAppButton,{}),jsxRuntimeExports.jsx(AppRoutes,{})]}),root=document.getElementById("app");root&&clientExports.createRoot(root).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(Provider_default,{store,children:jsxRuntimeExports.jsx(App,{})})}));export{commonjsGlobal as c,getDefaultExportFromCjs as g};
